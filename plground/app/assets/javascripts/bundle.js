var bundle;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{cp:()=>LN,editorState:()=>QN,editorView:()=>IN,interpret:()=>NN,language:()=>DN});class n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=h(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),i.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=h(this,t,e);let n=[];return this.decompose(t,e,n,0),i.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new l(this),i=new l(t);for(let t=e,s=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(t=1){return new l(this,t)}iterRange(t,e=this.length){return new a(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):i.from(r.split(t,[])):n.empty}}class r extends n{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.text[i],o=r+s.length;if((e?n:o)>=t)return new c(r,o,n,s);r=o+1,n++}}decompose(t,e,n,i){let l=t<=0&&e>=this.length?this:new r(o(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=s(l.text,t.text.slice(),0,l.length);if(e.length<=32)n.push(new r(e,t.length+l.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(l)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);[t,e]=h(this,t,e);let l=s(this.text,s(n.text,o(this.text,0,t)),e),a=this.length+n.length-(e-t);return l.length<=32?new r(l,a):i.from(r.split(l,[]),a)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<=e&&s<this.text.length;s++){let o=this.text[s],l=i+o.length;i>t&&s&&(r+=n),t<l&&e>i&&(r+=o.slice(Math.max(0,t-i),e-i)),i=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let s of t)n.push(s),i+=s.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class i extends n{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.children[i],o=r+s.length,l=n+s.lines-1;if((e?l:o)>=t)return s.lineInner(t,e,n,r);r=o+1,n=l+1}}decompose(t,e,n,r){for(let i=0,s=0;s<=e&&i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(t<=l&&e>=s){let i=r&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!i?n.push(o):o.decompose(t-s,e-s,n,i)}s=l+1}}replace(t,e,n){if([t,e]=h(this,t,e),n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(t>=s&&e<=l){let a=o.replace(t-s,e-s,n),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let s=this.children.slice();return s[r]=a,new i(s,this.length-(e-t)+n.length)}return super.replace(s,l,a)}s=l+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<this.children.length&&s<=e;i++){let o=this.children[i],l=s+o.length;s>t&&i&&(r+=n),t<l&&e>s&&(r+=o.sliceString(t-s,e-s,n)),s=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof i))return 0;let n=0,[r,s,o,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,s+=e){if(r==o||s==l)return n;let i=this.children[r],a=t.children[s];if(i!=a)return n+i.scanIdentical(a,e);n+=i.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let s=Math.max(32,n>>5),o=s<<1,l=s>>1,a=[],u=0,c=-1,h=[];function f(t){let e;if(t.lines>o&&t instanceof i)for(let e of t.children)f(e);else t.lines>l&&(u>l||!u)?(d(),a.push(t)):t instanceof r&&u&&(e=h[h.length-1])instanceof r&&t.lines+e.lines<=32?(u+=t.lines,c+=t.length+1,h[h.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(u+t.lines>s&&d(),u+=t.lines,c+=t.length+1,h.push(t))}function d(){0!=u&&(a.push(1==h.length?h[0]:i.from(h,c)),c=-1,u=h.length=0)}for(let e of t)f(e);return d(),1==a.length?a[0]:new i(a,e)}}function s(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let l=t[s],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function o(t,e,n){return s(t,[""],e,n)}n.empty=new r([""],0);class l{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof r?i.text.length:i.children.length;if(o==(e>0?l:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=i.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class a{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new l(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=a.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class c{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function h(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}let f="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<f.length;t++)f[t]+=f[t-1];function d(t){for(let e=1;e<f.length;e+=2)if(f[e]>t)return f[e-1]<=t;return!1}function v(t){return t>=127462&&t<=127487}const g=8205;function p(t,e,n=!0,r=!0){return(n?m:R)(t,e,r)}function m(t,e,n){if(e==t.length)return e;e&&O(t.charCodeAt(e))&&w(t.charCodeAt(e-1))&&e--;let r=x(t,e);for(e+=b(r);e<t.length;){let i=x(t,e);if(r==g||i==g||n&&d(i))e+=b(i),r=i;else{if(!v(i))break;{let n=0,r=e-2;for(;r>=0&&v(x(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function R(t,e,n){for(;e>0;){let r=m(t,e-2,n);if(r<e)return r;e--}return 0}function O(t){return t>=56320&&t<57344}function w(t){return t>=55296&&t<56320}function x(t,e){let n=t.charCodeAt(e);if(!w(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return O(r)?r-56320+(n-55296<<10)+65536:n}function y(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function b(t){return t<65536?1:2}const k=/\r\n?|\n/;var C=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(C||(C={}));class T{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];s<0?(t(n,r,i),r+=i):r+=s,n+=i}}iterChangedRanges(t,e=!1){E(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new T(t)}composeDesc(t){return this.empty?t:t.empty?this:L(this,t)}mapDesc(t,e=!1){return t.empty?this:_(this,t,e)}mapPos(t,e=-1,n=C.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],a=r+o;if(l<0){if(a>t)return i+(t-r);i+=o}else{if(n!=C.Simple&&a>=t&&(n==C.TrackDel&&r<t&&a>t||n==C.TrackBefore&&r<t||n==C.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!o)return t==r||e<0?i:i+l;i+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new T(t)}static create(t){return new T(t)}}class S extends T{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return E(this,((e,n,r,i,s)=>t=t.replace(r,r+(n-e),s)),!1),t}mapDesc(t,e=!1){return _(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,s=0;i<e.length;i+=2){let o=e[i],l=e[i+1];if(l>=0){e[i]=l,e[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(n.empty);r.push(o?t.slice(s,s+o):n.empty)}s+=o}return new S(e,r)}compose(t){return this.empty?t:t.empty?this:L(this,t,!0)}map(t,e=!1){return t.empty?this:_(this,t,e,!0)}iterChanges(t,e=!1){E(this,t,e)}get desc(){return T.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new D(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,l-o);A(r,t,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;A(e,t,s),s>0&&P(n,e,i.text),i.forward(t),o+=t}let a=t[s++];for(;o<a;){if(i.done)break t;let t=Math.min(i.len,a-o);A(e,t,-1),A(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),o+=t}}return{changes:new S(e,n),filtered:T.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],s=[],o=0,l=null;function a(t=!1){if(!t&&!i.length)return;o<e&&A(i,e-o,-1);let n=new S(i,s);l=l?l.compose(n.map(l)):n,i=[],s=[],o=0}return function t(u){if(Array.isArray(u))for(let e of u)t(e);else if(u instanceof S){if(u.length!=e)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${e})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:t,to:l=t,insert:c}=u;if(t>l||t<0||l>e)throw new RangeError(`Invalid change range ${t} to ${l} (in doc of length ${e})`);let h=c?"string"==typeof c?n.of(c.split(r||k)):c:n.empty,f=h.length;if(t==l&&0==f)return;t<o&&a(),t>o&&A(i,t-o,-1),A(i,l-t,f),P(s,i,h),o=l}}(t),a(!l),l}static empty(t){return new S(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let s=t[i];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{for(;r.length<i;)r.push(n.empty);r[i]=n.of(s.slice(1)),e.push(s[0],r[i].length)}}}return new S(e,r)}static createSet(t,e){return new S(t,e)}}function A(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function P(t,e,r){if(0==r.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<i;)t.push(n.empty);t.push(r)}}function E(t,e,r){let i=t.inserted;for(let s=0,o=0,l=0;l<t.sections.length;){let a=t.sections[l++],u=t.sections[l++];if(u<0)s+=a,o+=a;else{let c=s,h=o,f=n.empty;for(;c+=a,h+=u,u&&i&&(f=f.append(i[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)a=t.sections[l++],u=t.sections[l++];e(s,c,o,h,f),s=c,o=h}}}function _(t,e,n,r=!1){let i=[],s=r?[]:null,o=new D(t),l=new D(e);for(let t=-1;;)if(-1==o.ins&&-1==l.ins){let t=Math.min(o.len,l.len);A(i,t,-1),o.forward(t),l.forward(t)}else if(l.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(l.len<o.len||l.len==o.len&&!n))){let e=l.len;for(A(i,l.ins,-1);e;){let n=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=n&&(A(i,0,o.ins),s&&P(s,i,o.text),t=o.i),o.forward(n),e-=n}l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?S.createSet(i,s):T.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=o.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}A(i,e,t<o.i?o.ins:0),s&&t<o.i&&P(s,i,o.text),t=o.i,o.forward(o.len-n)}}}function L(t,e,n=!1){let r=[],i=n?[]:null,s=new D(t),o=new D(e);for(let t=!1;;){if(s.done&&o.done)return i?S.createSet(r,i):T.create(r);if(0==s.ins)A(r,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=r.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;A(r,e,n,t),i&&n&&P(i,r,o.text)}else-1==o.ins?(A(r,s.off?0:s.len,e,t),i&&P(i,r,s.textBit(e))):(A(r,s.off?0:s.len,o.off?0:o.ins,t),i&&!o.off&&P(i,r,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||r.length>n),s.forward2(e),o.forward(e)}}else A(r,0,o.ins,t),i&&P(i,r,o.text),o.next()}}class D{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?n.empty:e[r].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Q{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Q(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return I.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return I.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return I.range(t.anchor,t.head)}static create(t,e,n){return new Q(t,e,n)}}class I{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:I.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new I([this.main],0)}addRange(t,e=!0){return I.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,I.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new I(t.ranges.map((t=>Q.fromJSON(t))),t.main)}static single(t,e=t){return new I([I.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return I.normalized(t.slice(),e);n=i.to}return new I(t,e)}static cursor(t,e=0,n,r){return Q.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(t,e,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return e<t?Q.create(e,t,48|i):Q.create(t,e,(e>t?8:0)|i)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?I.range(o,s):I.range(s,o))}}return new I(t,e)}}function N(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let M=0;class ${constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=M++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(t={}){return new $(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:F),!!t.static,t.enables)}of(t){return new B([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function F(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class B{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=M++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,s=t[i]>>1,o=2==this.type,l=!1,a=!1,u=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?a=!0:1&(null!==(e=t[n.id])&&void 0!==e?e:1)||u.push(t[n.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||H(t,u)){let e=n(t);if(o?!U(e,t.values[s],r):!r(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let l,a=e.config.address[i];if(null!=a){let i=rt(e,a);if(this.dependencies.every((n=>n instanceof $?e.facet(n)===t.facet(n):!(n instanceof X)||e.field(n,!1)==t.field(n,!1)))||(o?U(l=n(t),i,r):r(l=n(t),i)))return t.values[s]=i,0}else l=n(t);return t.values[s]=l,1}}}}function U(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function H(t,e){let n=!1;for(let r of e)1&nt(t,r)&&(n=!0);return n}function q(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),s=r.filter((t=>!(1&t))),o=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<r.length;e++){let s=rt(t,r[e]);if(2==i[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of r)nt(t,e);return t.values[o]=l(t),1},update(t,n){if(!H(t,s))return 0;let r=l(t);return e.compare(r,t.values[o])?0:(t.values[o]=r,1)},reconfigure(t,i){let s=H(t,r),a=i.config.facets[e.id],u=i.facet(e);if(a&&!s&&F(n,a))return t.values[o]=u,0;let c=l(t);return e.compare(c,u)?(t.values[o]=u,0):(t.values[o]=c,1)}}}const V=$.define({static:!0});class X{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new X(M++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(V).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,V.of({field:this,create:t})]}get extension(){return this}}const z=4,W=3,j=2,G=1;function Y(t){return e=>new K(e,t)}const Z={highest:Y(0),high:Y(G),default:Y(j),low:Y(W),lowest:Y(z)};class K{constructor(t,e){this.inner=t,this.prec=e}}class J{of(t){return new tt(this,t)}reconfigure(t){return J.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class tt{constructor(t,e){this.compartment=t,this.inner=e}}class et{constructor(t,e,n,r,i,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),s=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(t,o){let l=i.get(t);if(null!=l){if(l<=o)return;let e=r[l].indexOf(t);e>-1&&r[l].splice(e,1),t instanceof tt&&n.delete(t.compartment)}if(i.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof tt){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(t.compartment)||t.inner;n.set(t.compartment,r),s(r,o)}else if(t instanceof K)s(t.inner,t.prec);else if(t instanceof X)r[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof B)r[o].push(t),t.facet.extensions&&s(t.facet.extensions,j);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,j),r.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof X?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let o=Object.create(null),l=[],a=[];for(let t of r)o[t.id]=a.length<<1,a.push((e=>t.slot(e)));let u=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,s=u&&u[t]||[];if(e.every((t=>0==t.type)))if(o[r.id]=l.length<<1|1,F(s,e))l.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));l.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(o[t.id]=l.length<<1|1,l.push(t.value)):(o[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));o[r.id]=a.length<<1,a.push((t=>q(t,r,e)))}}let c=a.map((t=>t(o)));return new et(t,s,c,o,l,i)}}function nt(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function rt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const it=$.define(),st=$.define({combine:t=>t.some((t=>t)),static:!0}),ot=$.define({combine:t=>t.length?t[0]:void 0,static:!0}),lt=$.define(),at=$.define(),ut=$.define(),ct=$.define({combine:t=>!!t.length&&t[0]});class ht{constructor(t,e){this.type=t,this.value=e}static define(){return new ft}}class ft{of(t){return new ht(this,t)}}class dt{constructor(t){this.map=t}of(t){return new vt(this,t)}}class vt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new vt(this.type,e)}is(t){return this.type==t}static define(t={}){return new dt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}vt.reconfigure=vt.define(),vt.appendConfig=vt.define();class gt{constructor(t,e,n,r,i,s){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,n&&N(n,e.newLength),i.some((t=>t.type==gt.time))||(this.annotations=i.concat(gt.time.of(Date.now())))}static create(t,e,n,r,i,s){return new gt(t,e,n,r,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(gt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function pt(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else{if(!(i<e.length))return n;s=e[i++],o=e[i++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function mt(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=S.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:vt.mapEffects(t.effects,i).concat(vt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Rt(t,e,n){let r=e.selection,i=xt(e.annotations);return e.userEvent&&(i=i.concat(gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof S?e.changes:S.of(e.changes||[],n,t.facet(ot)),selection:r&&(r instanceof I?r:I.single(r.anchor,r.head)),effects:xt(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Ot(t,e,n){let r=Rt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let s=!!e[i].sequential;r=mt(r,Rt(t,e[i],s?r.changes.newLength:t.doc.length),s)}let i=gt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(ut),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=mt(r,Rt(e,s,t.changes.newLength),!0))}return r==t?t:gt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(lt)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:pt(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=S.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=gt.create(e,r,t.selection&&t.selection.map(i),vt.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(at);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof gt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof gt?i[0]:Ot(e,xt(i),!1)}return t}(i):i)}gt.time=ht.define(),gt.userEvent=ht.define(),gt.addToHistory=ht.define(),gt.remote=ht.define();const wt=[];function xt(t){return null==t?wt:Array.isArray(t)?t:[t]}var yt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yt||(yt={}));const bt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let kt;try{kt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}function Ct(t){return e=>{if(!/\S/.test(e))return yt.Space;if(function(t){if(kt)return kt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||bt.test(n)))return!0}return!1}(e))return yt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return yt.Word;return yt.Other}}class Tt{constructor(t,e,n,r,i,s){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)nt(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return nt(this,n),rt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Ot(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(J.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(vt.reconfigure)?(n=null,r=e.value):e.is(vt.appendConfig)&&(n=null,r=xt(r).concat(e.value));if(n)e=t.startState.values.slice();else{n=et.resolve(r,i,this);let t=new Tt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}let s=t.startState.facet(st)?t.newSelection:t.newSelection.asSingle();new Tt(n,t.newDoc,s,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:I.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],s=xt(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),l=this.changes(o.changes),a=l.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(a);let u=r.mapDesc(l,!0);i.push(o.range.map(u)),r=r.compose(a),s=vt.mapEffects(s,a).concat(vt.mapEffects(xt(o.effects),u))}return{changes:r,selection:I.create(i,e.mainIndex),effects:s}}changes(t=[]){return t instanceof S?t:S.of(t,this.doc.length,this.facet(Tt.lineSeparator))}toText(t){return n.of(t.split(this.facet(Tt.lineSeparator)||k))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(nt(this,e),rt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof X&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],s=t[e];r.push(i.init((t=>i.spec.fromJSON(s,t))))}return Tt.create({doc:t.doc,selection:I.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=et.resolve(t.extensions||[],new Map),r=t.doc instanceof n?t.doc:n.of((t.doc||"").split(e.staticFacet(Tt.lineSeparator)||k)),i=t.selection?t.selection instanceof I?t.selection:I.single(t.selection.anchor,t.selection.head):I.single(0);return N(i,r.length),e.staticFacet(st)||(i=i.asSingle()),new Tt(e,r,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Tt.tabSize)}get lineBreak(){return this.facet(Tt.lineSeparator)||"\n"}get readOnly(){return this.facet(ct)}phrase(t,...e){for(let e of this.facet(Tt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(it))for(let s of i(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&r.push(s[t]);return r}charCategorizer(t){return Ct(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=p(e,s,!1);if(i(e.slice(t,s))!=yt.Word)break;s=t}for(;o<r;){let t=p(e,o);if(i(e.slice(o,t))!=yt.Word)break;o=t}return s==o?null:I.range(s+n,o+n)}}function St(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],s=r[t];if(void 0===s)r[t]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](s,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}Tt.allowMultipleSelections=st,Tt.tabSize=$.define({combine:t=>t.length?t[0]:4}),Tt.lineSeparator=ot,Tt.readOnly=ct,Tt.phrases=$.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),Tt.languageData=it,Tt.changeFilter=lt,Tt.transactionFilter=at,Tt.transactionExtender=ut,J.reconfigure=vt.define();class At{eq(t){return this==t}range(t,e=t){return Pt.create(t,e,this)}}At.prototype.startSide=At.prototype.endSide=0,At.prototype.point=!1,At.prototype.mapMode=C.TrackDel;class Pt{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Pt(t,e,n)}}function Et(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _t{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let s=r,o=i.length;;){if(s==o)return s;let r=s+o>>1,l=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==s)return l>=0?s:o;l>=0?o=r:s=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,i);i<s;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,u,c=this.value[l],h=this.from[l]+t,f=this.to[l]+t;if(h==f){let t=e.mapPos(h,c.startSide,c.mapMode);if(null==t)continue;if(a=u=t,c.startSide!=c.endSide&&(u=e.mapPos(h,c.endSide),u<a))continue}else if(a=e.mapPos(h,c.startSide),u=e.mapPos(f,c.endSide),a>u||a==u&&c.startSide>0&&c.endSide<=0)continue;(u-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,u-a)),n.push(c),r.push(a-s),i.push(u-s))}return{mapped:n.length?new _t(r,i,n,o):null,pos:s}}}class Lt{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new Lt(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(Et)),this.isEmpty)return e.length?Lt.of(e):this;let o=new It(this,null,-1).goto(0),l=0,a=[],u=new Dt;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let t=e[l++];u.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||i<o.from||s(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||a.push(Pt.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!a.length?Lt.empty:this.nextLayer.update({add:a,filter:s,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i],l=t.touchesRange(s,s+o.length);if(!1===l)r=Math.max(r,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===l){let{mapped:i,pos:l}=o.map(s,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(l))}}let i=this.nextLayer.map(t);return 0==e.length?i:new Lt(n,e,i||Lt.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r];if(e>=i&&t<=i+s.length&&!1===s.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Nt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Nt.from(t).goto(e)}static compare(t,e,n,r,i=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),l=Qt(s,o,n),a=new $t(s,l,i),u=new $t(o,l,i);n.iterGaps(((t,e,n)=>Ft(a,t,u,e,n,r))),n.empty&&0==n.length&&Ft(a,0,u,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=999999999);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=s.length)return!1;if(!i.length)return!0;let o=Qt(i,s),l=new $t(i,o,0).goto(n),a=new $t(s,o,0).goto(n);for(;;){if(l.to!=a.to||!Bt(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>r)return!0;l.next(),a.next()}}static spans(t,e,n,r,i=-1){let s=new $t(t,null,i).goto(e),o=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),i=s.pointFrom<e?n.length+1:s.point.startSide<0?n.length:Math.min(n.length,l);r.point(o,t,s.point,n,i,s.pointRank),l=Math.min(s.openEnd(t),n.length)}else t>o&&(r.span(o,t,s.active,l),l=s.openEnd(t));if(s.to>n)return l+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(t,e=!1){let n=new Dt;for(let r of t instanceof Pt?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Et(e,r)>0)return t.slice().sort(Et);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}static join(t){if(!t.length)return Lt.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let r=t[n];r!=Lt.empty;r=r.nextLayer)e=new Lt(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}Lt.empty=new Lt([],[],null,-1),Lt.empty.nextLayer=Lt.empty;class Dt{finishChunk(t){this.chunks.push(new _t(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Dt)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Lt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Lt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Qt(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=r.get(t.chunk[e]);null==s||(n?n.mapPos(s):s)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(s,s+t.chunk[e].length))||i.add(t.chunk[e])}return i}class It{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Nt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let s=t[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new It(s,e,n,i));return 1==r.length?r[0]:new Nt(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Mt(this.heap,0)}}}function Mt(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class $t{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Nt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ut(this.active,t),Ut(this.activeTo,t),Ut(this.activeRank,t),this.minActive=qt(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&(i-this.activeRank[e]||r-this.activeTo[e])>0;)e++;Ht(this.active,e,n),Ht(this.activeTo,e,r),Ht(this.activeRank,e,i),t&&Ht(t,e,this.cursor.from),this.minActive=qt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Ut(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Ft(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,l=r,a=r-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,r=e<0?t.to+a:n.to,i=Math.min(r,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Bt(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,i,t.point,n.point):i>l&&!Bt(t.active,n.active)&&s.compareRange(l,i,t.active,n.active),r>o)break;l=r,e<=0&&t.next(),e>=0&&n.next()}}function Bt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ut(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Ht(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function qt(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Vt(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=p(t,i));return r}function Xt(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=p(t,r)}return!0===r?-1:t.length}const zt="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Wt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Gt{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,s,o){let l=[],a=/^@(\w+)\b/.exec(t[0]),u=a&&"keyframes"==a[1];if(a&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),o,l,u)}else null!=o&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(l.length||u)&&s.push((!n||a||o?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=jt[zt]||1;return jt[zt]=t+1,"ͼ"+t.toString(36)}static mount(t,e,n){let r=t[Wt],i=n&&n.nonce;r?i&&r.setNonce(i):r=new Zt(t,i),r.mount(Array.isArray(e)?e:[e],t)}}let Yt=new Map;class Zt{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let e=Yt.get(n);if(e)return t[Wt]=e;this.sheet=new r.CSSStyleSheet,Yt.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[Wt]=this}mount(t,e){let n=this.sheet,r=0,i=0;for(let e=0;e<t.length;e++){let s=t[e],o=this.modules.indexOf(s);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,s),n)for(let t=0;t<s.rules.length;t++)n.insertRule(s.rules[t],r++)}else{for(;i<o;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let n=e.head||e;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var Kt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},te="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ee="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ne=0;ne<10;ne++)Kt[48+ne]=Kt[96+ne]=String(ne);for(ne=1;ne<=24;ne++)Kt[ne+111]="F"+ne;for(ne=65;ne<=90;ne++)Kt[ne]=String.fromCharCode(ne+32),Jt[ne]=String.fromCharCode(ne);for(var re in Kt)Jt.hasOwnProperty(re)||(Jt[re]=Kt[re]);function ie(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function se(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function oe(t,e){if(!e.anchorNode)return!1;try{return se(t,e.anchorNode)}catch(t){return!1}}function le(t){return 3==t.nodeType?we(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ae(t,e,n,r){return!!n&&(he(t,e,n,r,-1)||he(t,e,n,r,1))}function ue(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ce(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function he(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:fe(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=ue(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?fe(t):0}}}function fe(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function de(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function ve(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function ge(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class pe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?fe(e):0),n,Math.min(t.focusOffset,n?fe(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let me,Re=null;function Oe(t){if(t.setActive)return t.setActive();if(Re)return t.focus(Re);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==Re?{get preventScroll(){return Re={preventScroll:!0},!0}}:void 0),!Re){Re=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function we(t,e,n=e){let r=me||(me=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function xe(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function ye(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function be(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function ke(t,e){for(let n=t,r=e;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=fe(n)}else{if(!n.parentNode||ce(n))return null;r=ue(n),n=n.parentNode}}}function Ce(t,e){for(let n=t,r=e;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||ce(n))return null;r=ue(n)+1,n=n.parentNode}}}class Te{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new Te(t.parentNode,ue(t),e)}static after(t,e){return new Te(t.parentNode,ue(t)+1,e)}}const Se=[];class Ae{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,r=this.dom,i=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=i?i.nextSibling:r.firstChild)){let t=Ae.get(n);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t,e),s.flags&=-8}if(n=i?i.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&n!=s.dom&&(e.written=!0),s.dom.parentNode==r)for(;n&&n!=s.dom;)n=Pe(n);else r.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:r.firstChild,n&&e&&e.node==r&&(e.written=!0);n;)n=Pe(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==fe(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ae.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,s=-1,o=-1;for(let l=0,a=n,u=n;l<this.children.length;l++){let n=this.children[l],c=a+n.length;if(a<t&&c>e)return n.domBoundsAround(t,e,a);if(c>=t&&-1==r&&(r=l,i=a),a>e&&n.dom.parentNode==this.dom){s=l,o=u;break}u=c,a=c+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=Se){this.markDirty();for(let r=t;r<e;r++){let t=this.children[r];t.parent==this&&n.indexOf(t)<0&&t.destroy()}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Ee(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,i,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function Pe(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Ae.prototype.breakAfter=0;class Ee{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function _e(t,e,n,r,i,s,o,l,a){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,0==n,l,a))){if(r<u.length){let t=u[r];t&&(i<t.length||t.breakAfter&&(null==h?void 0:h.breakAfter))?(e==r&&(t=t.split(i),i=0),!f&&h&&t.merge(0,i,h,!0,0,a)?s[s.length-1]=t:((i||t.children.length&&!t.children[0].length)&&t.merge(0,i,null,!1,0,a),s.push(t))):(null==t?void 0:t.breakAfter)&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,l,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),a=s.length?0:l;else{if(!u[e].become(s[0]))break;e++,s.shift(),l=s.length?0:a}!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Le(t,e,n,r,i,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h,_e(t,u,c,l,a,r,0,i,s)}let De="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Qe="undefined"!=typeof document?document:{documentElement:{style:{}}};const Ie=/Edge\/(\d+)/.exec(De.userAgent),Ne=/MSIE \d/.test(De.userAgent),Me=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(De.userAgent),$e=!!(Ne||Me||Ie),Fe=!$e&&/gecko\/(\d+)/i.test(De.userAgent),Be=!$e&&/Chrome\/(\d+)/.exec(De.userAgent),Ue="webkitFontSmoothing"in Qe.documentElement.style,He=!$e&&/Apple Computer/.test(De.vendor),qe=He&&(/Mobile\/\w+/.test(De.userAgent)||De.maxTouchPoints>2);var Ve={mac:qe||/Mac/.test(De.platform),windows:/Win/.test(De.platform),linux:/Linux|X11/.test(De.platform),ie:$e,ie_version:Ne?Qe.documentMode||6:Me?+Me[1]:Ie?+Ie[1]:0,gecko:Fe,gecko_version:Fe?+(/Firefox\/(\d+)/.exec(De.userAgent)||[0,0])[1]:0,chrome:!!Be,chrome_version:Be?+Be[1]:0,ios:qe,android:/Android\b/.test(De.userAgent),webkit:Ue,safari:He,webkit_version:Ue?+(/\bAppleWebKit\/(\d+)/.exec(De.userAgent)||[0,0])[1]:0,tabSize:null!=Qe.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Xe extends Ae{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof Xe)||this.length-(e-t)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Xe(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Te(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;0==e&&n<0||e==r&&n>=0?Ve.chrome||Ve.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let l=we(t,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:n>=0)?0:l.length-1];Ve.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,(t=>t.width))||a);return o?de(a,o<0):a||null}(this.dom,t,e)}}class ze extends Ae{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(ye(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,i,s){return(!n||!(!(n instanceof ze&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&s<=0))&&(Le(this,t,e,n?n.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,r=-1,i=0;for(let s of this.children){let o=n+s.length;o>t&&e.push(n<t?s.split(t-n):s),r<0&&n>=t&&(r=i),n=o,i++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new ze(this.mark,e,s)}domAtPos(t){return Ge(this,t)}coordsAt(t,e){return Ze(this,t,e)}}class We extends Ae{static create(t,e,n){return new We(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=We.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof We&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof We&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return n.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):n.empty}domAtPos(t){return(this.length?0==t:this.side>0)?Te.before(this.dom):Te.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?r.length-1:0;i=r[e],!(t>0?0==e:e==r.length-1||i.top<i.bottom);e+=s?-1:1);return de(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class je extends Ae{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof je&&t.side==this.side}split(){return new je(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Te.before(this.dom):Te.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.empty}get isHidden(){return!0}}function Ge(t,e){let n=t.dom,{children:r}=t,i=0;for(let t=0;i<r.length;i++){let s=r[i],o=t+s.length;if(!(o==t&&s.getSide()<=0)){if(e>t&&e<o&&s.dom.parentNode==n)return s.domAtPos(e-t);if(e<=t)break;t=o}}for(let t=i;t>0;t--){let e=r[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=i;t<r.length;t++){let e=r[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new Te(n,0)}function Ye(t,e,n){let r,{children:i}=t;n>0&&e instanceof ze&&i.length&&(r=i[i.length-1])instanceof ze&&r.mark.eq(e.mark)?Ye(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ze(t,e,n){let r=null,i=-1,s=null,o=-1;!function t(e,l){for(let a=0,u=0;a<e.children.length&&u<=l;a++){let c=e.children[a],h=u+c.length;h>=l&&(c.children.length?t(c,l-u):(!s||s.isHidden&&n>0)&&(h>l||u==h&&c.getSide()>0)?(s=c,o=l-u):(u<l||u==h&&c.getSide()<0&&!c.isHidden)&&(r=c,i=l-u)),u=h}}(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=le(e);return n[n.length-1]||null}(t)}function Ke(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}Xe.prototype.children=We.prototype.children=je.prototype.children=Se;const Je=Object.create(null);function tn(t,e,n){if(t==e)return!0;t||(t=Je),e||(e=Je);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(-1==i.indexOf(s)||t[s]!==e[s]))return!1;return!0}function en(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,"style"==i?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,"style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function nn(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class rn extends Ae{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,s){if(n){if(!(n instanceof rn))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Le(this,t,e,n?n.children.slice():[],i,s),!0}split(t){let e=new rn;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){tn(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Ye(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=Ke(e,this.attrs||{})),n&&(this.attrs=Ke({class:n},this.attrs||{}))}domAtPos(t){return Ge(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(ye(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(en(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&Ae.get(r)instanceof ze;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Ae.get(r))||void 0===n?void 0:n.isEditable)||Ve.ios&&this.children.some((t=>t instanceof Xe))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof Xe)||/[^ -~]/.test(n.text))return null;let r=le(n.dom);if(1!=r.length)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=Ze(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let r=(e-t.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(t){return!1}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let i=t.children[n],s=r+i.length;if(s>=e){if(i instanceof rn)return i;if(s>e)break}r=s+i.breakAfter}return null}}class sn extends Ae{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof sn&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?Te.before(this.dom):Te.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new sn(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Se}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.empty}domBoundsAround(){return null}become(t){return t instanceof sn&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class on{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var ln=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ln||(ln={}));class an extends At{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new un(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new hn(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,r=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:i,end:s}=fn(t,r);e=(i?r?-3e8:-1:5e8)-1,n=1+(s?r?2e8:1:-6e8)}return new hn(t,e,n,r,t.widget||null,!0)}static line(t){return new cn(t)}static set(t,e=!1){return Lt.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}an.none=Lt.empty;class un extends an{constructor(t){let{start:e,end:n}=fn(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof un&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&tn(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}un.prototype.point=!1;class cn extends an{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof cn&&this.spec.class==t.spec.class&&tn(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}cn.prototype.mapMode=C.TrackBefore,cn.prototype.point=!0;class hn extends an{constructor(t,e,n,r,i,s){super(e,n,i,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?C.TrackBefore:C.TrackAfter:C.TrackDel}get type(){return this.startSide!=this.endSide?ln.WidgetRange:this.startSide<=0?ln.WidgetBefore:ln.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof hn&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function fn(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function dn(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}hn.prototype.point=!0;class vn{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof sn&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new rn),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(gn(new je(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof sn||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(gn(new Xe(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i,s){if(this.disallowBlockEffectsFor[s]&&n instanceof hn){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof hn)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new sn(n.widget||pn.block,o,n));else{let s=We.create(n.widget||pn.inline,o,o?0:n.startSide),l=this.atCursorPos&&!s.isEditable&&i<=r.length&&(t<e||n.startSide>0),a=!s.isEditable&&(t<e||i>r.length||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(gn(new je(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(gn(s,r),i),this.atCursorPos=a,this.pendingBuffer=a?t<e||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r,i){let s=new vn(t,e,n,i);return s.openEnd=Lt.spans(r,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function gn(t,e){for(let n of e)t=new ze(n,[t],t.length);return t}class pn extends on{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}pn.inline=new pn("span"),pn.block=new pn("div");var mn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(mn||(mn={}));const Rn=mn.LTR,On=mn.RTL;function wn(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const xn=wn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),yn=wn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),bn=Object.create(null),kn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);bn[e]=n,bn[n]=-e}function Cn(t){return t<=247?xn[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?yn[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Tn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Sn{get dir(){return this.level%2?On:Rn}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,r){let i=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(i<0||(0!=r?r<0?o.from<e:o.to>e:t[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function An(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!An(r.inner,i.inner))return!1}return!0}const Pn=[];function En(t,e,n,r,i,s,o){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<n;){let e=!0,c=!1;if(u==s.length||a<s[u].from){let t=Pn[a];t!=l&&(e=!1,c=16==t)}let h=e||1!=l?null:[],f=e?r:r+1,d=a;t:for(;;)if(u<s.length&&d==s[u].from){if(c)break t;let v=s[u];if(!e)for(let t=v.to,e=u+1;;){if(t==n)break t;if(!(e<s.length&&s[e].from==t)){if(Pn[t]==l)break t;break}t=s[e++].to}if(u++,h)h.push(v);else{v.from>a&&o.push(new Sn(a,v.from,f)),_n(t,v.direction==Rn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.to}d=v.to}else{if(d==n||(e?Pn[d]!=l:Pn[d]==l))break;d++}h?En(t,a,d,r+1,i,h,o):a<d&&o.push(new Sn(a,d,f)),a=d}else for(let a=n,u=s.length;a>e;){let n=!0,c=!1;if(!u||a>s[u-1].to){let t=Pn[a-1];t!=l&&(n=!1,c=16==t)}let h=n||1!=l?null:[],f=n?r:r+1,d=a;t:for(;;)if(u&&d==s[u-1].to){if(c)break t;let v=s[--u];if(!n)for(let t=v.from,n=u;;){if(t==e)break t;if(!n||s[n-1].to!=t){if(Pn[t-1]==l)break t;break}t=s[--n].from}if(h)h.push(v);else{v.to<a&&o.push(new Sn(v.to,a,f)),_n(t,v.direction==Rn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.from}d=v.from}else{if(d==e||(n?Pn[d-1]!=l:Pn[d-1]==l))break;d--}h?En(t,d,a,r+1,i,h,o):d<a&&o.push(new Sn(d,a,f)),a=d}}function _n(t,e,n,r,i,s,o){let l=e%2?2:1;!function(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,l=s<r.length?r[s].from:n,a=s?256:i;for(let e=o,n=a,r=a;e<l;e++){let i=Cn(t.charCodeAt(e));512==i?i=n:8==i&&4==r&&(i=16),Pn[e]=4==i?2:i,7&i&&(r=i),n=i}for(let t=o,e=a,r=a;t<l;t++){let i=Pn[t];if(128==i)t<l-1&&e==Pn[t+1]&&24&e?i=Pn[t]=e:Pn[t]=256;else if(64==i){let i=t+1;for(;i<l&&64==Pn[i];)i++;let s=t&&8==e||i<n&&8==Pn[i]?1==r?1:8:256;for(let e=t;e<i;e++)Pn[e]=s;t=i-1}else 8==i&&1==r&&(Pn[t]=1);e=i,7&i&&(r=i)}}}(t,i,s,r,l),function(t,e,n,r,i){let s=1==i?2:1;for(let o=0,l=0,a=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let e,n,r,o=u;o<c;o++)if(n=bn[e=t.charCodeAt(o)])if(n<0){for(let t=l-3;t>=0;t-=3)if(kn[t+1]==-n){let e=kn[t+2],n=2&e?i:4&e?1&e?s:i:0;n&&(Pn[o]=Pn[kn[t]]=n),l=t;break}}else{if(189==kn.length)break;kn[l++]=o,kn[l++]=e,kn[l++]=a}else if(2==(r=Pn[o])||1==r){let t=r==i;a=t?0:1;for(let e=l-3;e>=0;e-=3){let n=kn[e+2];if(2&n)break;if(t)kn[e+2]|=2;else{if(4&n)break;kn[e+2]|=4}}}}}(t,i,s,r,l),function(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let a=o;a<l;){let o=Pn[a];if(256==o){let o=a+1;for(;;)if(o==l){if(i==n.length)break;o=n[i++].to,l=i<n.length?n[i].from:e}else{if(256!=Pn[o])break;o++}let u=1==s,c=u==(1==(o<e?Pn[o]:r))?u?1:2:r;for(let e=o,r=i,s=r?n[r-1].to:t;e>a;)e==s&&(e=n[--r].from,s=r?n[r-1].to:t),Pn[--e]=c;a=o}else s=o,a++}}}(i,s,r,l),En(t,i,s,e,n,r,o)}function Ln(t,e,n){if(!t)return[new Sn(0,0,e==On?1:0)];if(e==Rn&&!n.length&&!Tn.test(t))return Dn(t.length);if(n.length)for(;t.length>Pn.length;)Pn[Pn.length]=256;let r=[],i=e==Rn?0:1;return _n(t,i,i,n,0,t.length,r),r}function Dn(t){return[new Sn(0,t,0)]}let Qn="";function In(t,e,n,r,i){var s;let o=r.head-t.from,l=Sn.find(e,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc),a=e[l],u=a.side(i,n);if(o==u){let t=l+=i?1:-1;if(t<0||t>=e.length)return null;a=e[l=t],o=a.side(!i,n),u=a.side(i,n)}let c=p(t.text,o,a.forward(i,n));(c<a.from||c>a.to)&&(c=u),Qn=t.text.slice(Math.min(o,c),Math.max(o,c));let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<a.level?I.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):I.cursor(c+t.from,a.forward(i,n)?-1:1,a.level)}function Nn(t,e,n){for(let r=e;r<n;r++){let e=Cn(t.charCodeAt(r));if(1==e)return Rn;if(2==e||4==e)return On}return Rn}const Mn=$.define(),$n=$.define(),Fn=$.define(),Bn=$.define(),Un=$.define(),Hn=$.define(),qn=$.define(),Vn=$.define({combine:t=>t.some((t=>t))}),Xn=$.define({combine:t=>t.some((t=>t))}),zn=$.define();class Wn{constructor(t,e="nearest",n="nearest",r=5,i=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=s}map(t){return t.empty?this:new Wn(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Wn(I.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const jn=vt.define({map:(t,e)=>t.map(e)}),Gn=vt.define();function Yn(t,e,n){let r=t.facet(Bn);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Zn=$.define({combine:t=>!t.length||t[0]});let Kn=0;const Jn=$.define();class tr{constructor(t,e,n,r,i){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:i,decorations:s}=e||{};return new tr(Kn++,t,n,r,(t=>{let e=[Jn.of(t)];return s&&e.push(ir.of((e=>{let n=e.plugin(t);return n?s(n):an.none}))),i&&e.push(i(t)),e}))}static fromClass(t,e){return tr.define((e=>new t(e)),e)}}class er{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(Yn(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Yn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){Yn(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const nr=$.define(),rr=$.define(),ir=$.define(),sr=$.define(),or=$.define(),lr=$.define();function ar(t,e){let n=t.state.facet(lr);if(!n.length)return n;let r=n.map((e=>e instanceof Function?e(t):e)),i=[];return Lt.spans(r,e.from,e.to,{point(){},span(t,n,r,s){let o=t-e.from,l=n-e.from,a=i;for(let t=r.length-1;t>=0;t--,s--){let n,i=r[t].spec.bidiIsolate;if(null==i&&(i=Nn(e.text,o,l)),s>0&&a.length&&(n=a[a.length-1]).to==o&&n.direction==i)n.to=l,a=n.inner;else{let t={from:o,to:l,direction:i,inner:[]};a.push(t),a=t.inner}}}}),i}const ur=$.define();function cr(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(ur)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const hr=$.define();class fr{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new fr(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,s=0,o=0;;r++){let l=r==t.length?null:t[r],a=s-o,u=l?l.fromB:1e9;for(;i<e.length&&e[i]<u;){let t=e[i],r=e[i+1],s=Math.max(o,t),l=Math.min(u,r);if(s<=l&&new fr(s+a,l+a,s,l).addToSet(n),r>u)break;i+=2}if(!l)return n;new fr(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,o=l.toB}}}class dr{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=S.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new fr(t,e,n,i)))),this.changedRanges=r}static create(t,e,n){return new dr(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class vr extends Ae{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=an.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new rn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new fr(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?r=this.domChanged.newSel.head:function(t,e){let n=!1;e&&t.iterChangedRanges(((t,r)=>{t<e.to&&r>e.from&&(n=!0)}));return n}(t.changes,this.hasComposition)||t.selectionSet||(r=t.state.selection.main.head));let i=r>-1?function(t,e,n){let r=pr(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,l=i.nodeValue;if(/[\n\r]/.test(l))return null;if(t.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new fr(a.mapPos(s),a.mapPos(o),s,o),c=[];for(let e=i.parentNode;;e=e.parentNode){let n=Ae.get(e);if(n instanceof ze)c.push({node:e,deco:n.mark});else{if(n instanceof rn||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new un({inclusive:!0,attributes:nn(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:r}=this.hasComposition;n=new fr(e,r,t.changes.mapPos(e,-1),t.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Ve.ie||Ve.chrome)&&!i&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,n){let r=new mr;return Lt.compare(t,e,n,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return n=fr.extendWithRanges(n,s),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,i),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=Ve.chrome||Ve.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||r.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof sn&&t.widget instanceof gr&&i.push(t.dom);r.updateGaps(i)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,i=this.childCursor(e);for(let t=r.length-1;;t--){let e=t>=0?r[t]:null;if(!e)break;let s,o,l,a,{fromA:u,toA:c,fromB:h,toB:f}=e;if(n&&n.range.fromB<f&&n.range.toB>h){let t=vn.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=vn.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,l=t.openStart,a=e.openEnd;let r=this.compositionView(n);e.breakAtStart?r.breakAfter=1:e.content.length&&r.merge(r.length,r.length,e.content[0],!1,e.openStart,0)&&(r.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&r.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(r).concat(e.content)}else({content:s,breakAtStart:o,openStart:l,openEnd:a}=vn.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:d,off:v}=i.findPos(c,1),{i:g,off:p}=i.findPos(u,-1);_e(this,g,p,d,v,s,o,l,a)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(Gn)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new Xe(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new ze(n,[e],e.length);let n=new rn;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=Ae.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let i=t.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],e(i>=0?t.marks[i].node:t.text,r)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&oe(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||i))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),a=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(Ve.gecko&&o.empty&&!this.hasComposition&&(1==(u=l).node.nodeType&&u.node.firstChild&&(0==u.offset||"false"==u.node.childNodes[u.offset-1].contentEditable)&&(u.offset==u.node.childNodes.length||"false"==u.node.childNodes[u.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null))),l=a=new Te(t,0),s=!0}var u;let c=this.view.observer.selectionRange;!s&&c.focusNode&&(ae(l.node,l.offset,c.anchorNode,c.anchorOffset)&&ae(a.node,a.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,o))||(this.view.observer.ignore((()=>{Ve.android&&Ve.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=ie(this.view.root);if(t)if(o.empty){if(Ve.gecko){let t=(e=l.node,r=l.offset,1!=e.nodeType?0:(r&&"false"==e.childNodes[r-1].contentEditable?1:0)|(r<e.childNodes.length&&"false"==e.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=(1==t?ke:Ce)(l.node,l.offset);e&&(l=new Te(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=o.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=o.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(a.node,a.offset)}catch(t){}}else{let e=document.createRange();o.anchor>o.head&&([l,a]=[a,l]),e.setEnd(a.node,a.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}else;var e,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,a)),this.impreciseAnchor=l.precise?null:new Te(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new Te(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&ae(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=ie(t.root),{anchorNode:r,anchorOffset:i}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let s=rn.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let l=this.coordsAt(e.head,-1),a=this.coordsAt(e.head,1);if(!l||!a||l.bottom>a.top)return;let u=this.domAtPos(e.head+e.assoc);n.collapse(u.node,u.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&n.collapse(r,i)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let r=t.offset;!e&&r<n.childNodes.length;r++){let t=Ae.get(n.childNodes[r]);t instanceof rn&&(e=t.domAtPos(0))}for(let r=t.offset-1;!e&&r>=0;r--){let t=Ae.get(n.childNodes[r]);t instanceof rn&&(e=t.domAtPos(t.length))}return e?new Te(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Ae.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof rn)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],l=i-o.breakAfter,a=l-o.length;if(l<t)break;if(a<=t&&(a<t||o.covers(-1))&&(l>t||o.covers(1))&&(!n||o instanceof rn&&!(n instanceof rn&&e>=0)))n=o,r=a;else if(n&&a==t&&l==t&&o instanceof sn&&Math.abs(e)<2){if(o.deco.startSide<0)break;s&&(n=null)}i=a}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof rn))return null;for(;r.children.length;){let{i:t,off:e}=r.childPos(n,1);for(;;t++){if(t==r.children.length)return null;if((r=r.children[t]).length)break}n=e}if(!(r instanceof Xe))return null;let i=p(r.text,n);if(i==n)return null;let s=we(r.dom,n,i).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(t==s.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==mn.LTR;for(let t=0,a=0;a<this.children.length;a++){let u=this.children[a],c=t+u.length;if(c>r)break;if(t>=n){let n=u.dom.getBoundingClientRect();if(e.push(n.height),s){let e=u.dom.lastChild,r=e?le(e):[];if(r.length){let e=r[r.length-1],s=l?e.right-n.left:n.right-e.left;s>o&&(o=s,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+u.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?mn.RTL:mn.LTR}measureTextSize(){for(let t of this.children)if(t instanceof rn){let e=t.measureTextSize();if(e)return e}let t,e,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=le(r.firstChild)[0];t=r.getBoundingClientRect().height,e=i?i.width/27:7,n=i?i.height:t,r.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Ee(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],s=i?i.from-1:this.length;if(s>n){let r=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(an.replace({widget:new gr(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!i)break;n=i.to+1}return an.set(t)}updateDeco(){let t=1,e=this.view.state.facet(ir).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),n=!1,r=this.view.state.facet(sr).map(((t,e)=>{let r="function"==typeof t;return r&&(n=!0),r?t(this.view):t}));for(r.length&&(this.dynamicDecorationMap[t++]=n,e.push(Lt.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(zn))try{if(e(this.view,t.range,t))return!0}catch(t){Yn(this.view.state,t,"scroll handler")}let e,{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,e.left),top:Math.min(r.top,e.top),right:Math.max(r.right,e.right),bottom:Math.max(r.bottom,e.bottom)});let i=cr(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;!function(t,e,n,r,i,s,o,l){let a=t.ownerDocument,u=a.defaultView||window;for(let c=t,h=!1;c&&!h;)if(1==c.nodeType){let t,f=c==a.body,d=1,v=1;if(f)t=ve(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:d,scaleY:v}=ge(c,e)),t={left:e.left,right:e.left+c.clientWidth*d,top:e.top,bottom:e.top+c.clientHeight*v}}let g=0,p=0;if("nearest"==i)e.top<t.top?(p=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+p&&(p=e.bottom-t.bottom+p+o)):e.bottom>t.bottom&&(p=e.bottom-t.bottom+o,n<0&&e.top-p<t.top&&(p=-(t.top+p-e.top+o)));else{let r=e.bottom-e.top,s=t.bottom-t.top;p=("center"==i&&r<=s?e.top+r/2-s/2:"start"==i||"center"==i&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==r?e.left<t.left?(g=-(t.left-e.left+s),n>0&&e.right>t.right+g&&(g=e.right-t.right+g+s)):e.right>t.right&&(g=e.right-t.right+s,n<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+s))):g=("center"==r?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==r==l?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||p)if(f)u.scrollBy(g,p);else{let t=0,n=0;if(p){let t=c.scrollTop;c.scrollTop+=p/v,n=(c.scrollTop-t)*v}if(g){let e=c.scrollLeft;c.scrollLeft+=g/d,t=(c.scrollLeft-e)*d}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(r="nearest"),n&&Math.abs(n-p)<1&&(i="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==mn.LTR)}}class gr extends on{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function pr(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=ke(n.focusNode,n.focusOffset),i=Ce(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let e=Ae.get(i.node);if(!e||e instanceof Xe&&e.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let t=Ae.get(r.node);!t||t instanceof Xe&&t.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}let mr=class{constructor(){this.changes=[]}compareRange(t,e){dn(t,e,this.changes)}comparePoint(t,e){dn(t,e,this.changes)}};function Rr(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Or(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function wr(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function xr(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function yr(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function br(t,e,n){let r,i,s,o,l,a,u,c,h=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=le(f);for(let d=0;d<t.length;d++){let v=t[d];i&&wr(i,v)&&(v=xr(yr(v,i.bottom),i.top));let g=Rr(e,v),p=Or(n,v);if(0==g&&0==p)return 3==f.nodeType?kr(f,e,n):br(f,e,n);if(!r||o>p||o==p&&s>g){r=f,i=v,s=g,o=p;let l=p?n<v.top?-1:1:g?e<v.left?-1:1:0;h=!l||(l>0?d<t.length-1:d>0)}0==g?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=f,u=v):n<v.top&&(!c||c.top>v.top)&&(a=f,c=v):u&&wr(u,v)?u=yr(u,v.bottom):c&&wr(c,v)&&(c=xr(c,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):c&&c.top<=n&&(r=a,i=c),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?kr(r,f,n):h&&"false"!=r.contentEditable?br(r,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function kr(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<r;l++){let r=we(t,l,l+1).getClientRects();for(let a=0;a<r.length;a++){let u=r[a];if(u.top==u.bottom)continue;o||(o=e-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<s){let n=e>=(u.left+u.right)/2,r=n;if(Ve.chrome||Ve.gecko){we(t,l).getBoundingClientRect().left==u.right&&(r=!n)}if(c<=0)return{node:t,offset:l+(r?1:0)};i=l+(r?1:0),s=c}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function Cr(t,e,n,r=-1){var i,s;let o,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,i=!1;o=t.elementAtHeight(f),o.type!=ln.Text;)for(;f=r>0?o.bottom+e:o.top-e,!(f>=0&&f<=u);){if(i)return n?null:0;i=!0,r=-r}h=a+f;let d=o.from;if(d<t.viewport.from)return 0==t.viewport.from?0:n?null:Tr(t,l,o,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Tr(t,l,o,c,h);let v=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:v,p=g.elementFromPoint(c,h);p&&!t.contentDOM.contains(p)&&(p=null),p||(c=Math.max(l.left+1,Math.min(l.right-1,c)),p=g.elementFromPoint(c,h),p&&!t.contentDOM.contains(p)&&(p=null));let m,R=-1;if(p&&0!=(null===(i=t.docView.nearest(p))||void 0===i?void 0:i.isEditable))if(v.caretPositionFromPoint){let t=v.caretPositionFromPoint(c,h);t&&({offsetNode:m,offset:R}=t)}else if(v.caretRangeFromPoint){let e=v.caretRangeFromPoint(c,h);e&&(({startContainer:m,startOffset:R}=e),(!t.contentDOM.contains(m)||Ve.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return we(t,r-1,r).getBoundingClientRect().left>n}(m,R,c)||Ve.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}let r=1==t.nodeType?t.getBoundingClientRect():we(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(m,R,c))&&(m=void 0))}if(!m||!t.docView.dom.contains(m)){let e=rn.find(t.docView,d);if(!e)return f>o.top+o.height/2?o.to:o.from;({node:m,offset:R}=br(e.dom,c,h))}let O=t.docView.nearest(m);if(!O)return null;if(O.isWidget&&1==(null===(s=O.dom)||void 0===s?void 0:s.nodeType)){let t=O.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?O.posAtStart:O.posAtEnd}return O.localPosFromDOM(m,R)+O.posAtStart}function Tr(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((i-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Xt(o,s,t.state.tabSize)}function Sr(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==ln.Text))return t;return n}function Ar(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let l=e,a=null;;){let e=In(i,s,o,l,n),u=Qn;if(!e){if(i.number==(n?t.state.doc.lines:1))return l;u="\n",i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),e=t.visualLineSide(i,!n)}if(a){if(!a(u))return l}else{if(!r)return e;a=r(u)}l=e}}function Pr(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,((t,i,s)=>{if(e>t&&e<i){let s=r||n||(e-t<i-e?-1:1);e=s<0?t:i,r=s}}));if(!r)return e}}function Er(t,e,n){let r=Pr(t.state.facet(or).map((e=>e(t))),n.from,e.head>n.from?-1:1);return r==n.from?n:I.cursor(r,r<n.from?1:-1)}class _r{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Ve.safari&&t.contentDOM.addEventListener("input",(()=>null)),Ve.gecko&&function(t){ii.has(t)||(ii.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Ae.get(r))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Dr(t),n=this.handlers,r=this.view.contentDOM;for(let t in e)if("scroll"!=t){let i=!e[t].handlers.length,s=n[t];s&&i!=!s.handlers.length&&(r.removeEventListener(t,this.handleEvent),s=null),s||r.addEventListener(t,this.handleEvent,{passive:i})}for(let t in n)"scroll"==t||e[t]||r.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Nr.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),Ve.android&&Ve.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Ve.ios||t.synthetic||t.altKey||t.metaKey||!((e=Qr.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Ir.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,xe(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0)))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Ve.safari&&!Ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Lr(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(t){Yn(n.state,t)}}}function Dr(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let r in t.domEventHandlers){let i=t.domEventHandlers[r];i&&n(r).handlers.push(Lr(e.value,i))}if(t&&t.domEventObservers)for(let r in t.domEventObservers){let i=t.domEventObservers[r];i&&n(r).observers.push(Lr(e.value,i))}}for(let t in Fr)n(t).handlers.push(Fr[t]);for(let t in Br)n(t).observers.push(Br[t]);return e}const Qr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ir="dthko",Nr=[16,17,18,20,91,92,224,225];function Mr(t){return.7*Math.max(0,t)+8}class $r{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=function(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM),this.atoms=t.state.facet(or).map((e=>e(t)));let i=t.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Tt.allowMultipleSelections)&&function(t,e){let n=t.state.facet(Mn);return n.length?n[0](e):Ve.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=ie(t.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=Kr(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){var e;if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let n=0,r=0,i=(null===(e=this.scrollParent)||void 0===e?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=cr(this.view);t.clientX-s.left<=i.left+6?n=-Mr(i.left-t.clientX):t.clientX+s.right>=i.right-6&&(n=Mr(t.clientX-i.right)),t.clientY-s.top<=i.top+6?r=-Mr(i.top-t.clientY):t.clientY+s.bottom>=i.bottom-6&&(r=Mr(t.clientY-i.bottom)),this.setScrollSpeed(n,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],i=null;if(r.empty){let t=Pr(this.atoms,r.from,0);t!=r.from&&(i=I.cursor(t,-1))}else{let t=Pr(this.atoms,r.from,-1),e=Pr(this.atoms,r.to,1);t==r.from&&e==r.to||(i=I.range(r.from==r.anchor?t:e,r.from==r.head?t:e))}i&&(e||(e=t.ranges.slice()),e[n]=i)}return e?I.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Fr=Object.create(null),Br=Object.create(null),Ur=Ve.ie&&Ve.ie_version<15||Ve.ios&&Ve.webkit_version<604;function Hr(t,e){let n,{state:r}=t,i=1,s=r.toText(e),o=s.lines==r.selection.ranges.length,l=null!=ti&&r.selection.ranges.every((t=>t.empty))&&ti==s.toString();if(l){let t=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==t)return{range:n};t=l.from;let a=r.toText((o?s.line(i++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:a},range:I.cursor(n.from+a.length)}}))}else n=o?r.changeByRange((t=>{let e=s.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:I.cursor(t.from+e.length)}})):r.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function qr(t,e,n,r){if(1==r)return I.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(0==i.length)return I.cursor(e);0==s?n=1:s==i.length&&(n=-1);let o=s,l=s;n<0?o=p(i.text,s,!1):l=p(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let t=p(i.text,o,!1);if(r(i.text.slice(t,o))!=a)break;o=t}for(;l<i.length;){let t=p(i.text,l);if(r(i.text.slice(l,t))!=a)break;l=t}return I.range(o+i.from,l+i.from)}(t.state,e,n);{let n=rn.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),i=n?n.posAtStart:r.from,s=n?n.posAtEnd:r.to;return s<t.state.doc.length&&s==r.to&&s++,I.range(i,s)}}Br.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Fr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),Br.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Br.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Fr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(Fn))if(n=r(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=Wr(t,e),r=Kr(e),i=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),i=i.map(t.changes))},get(e,s,o){let l,a=Wr(t,e),u=qr(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let e=qr(t,n.pos,n.bias,r),i=Math.min(e.from,u.from),s=Math.max(e.to,u.to);u=i<u.from?I.range(i,s):I.range(s,i)}return s?i.replaceRange(i.main.extend(u.from,u.to)):o&&1==r&&i.ranges.length>1&&(l=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return I.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(i,a.pos))?l:o?i.addRange(u):I.create([u])}}}(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new $r(t,e,n,r)),r&&t.observer.ignore((()=>{Oe(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let i=t.inputState.mouseSelection;if(i)return i.start(e),!1===i.dragging}return!1};let Vr=(t,e)=>t>=e.top&&t<=e.bottom,Xr=(t,e,n)=>Vr(e,n)&&t>=n.left&&t<=n.right;function zr(t,e,n,r){let i=rn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Xr(n,r,o))return-1;let l=i.coordsAt(s,1);return l&&Xr(n,r,l)?1:o&&Vr(r,o)?-1:1}function Wr(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:zr(t,n,e.clientX,e.clientY)}}const jr=Ve.ie&&Ve.ie_version<=11;let Gr=null,Yr=0,Zr=0;function Kr(t){if(!jr)return t.detail;let e=Gr,n=Zr;return Gr=t,Zr=Date.now(),Yr=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Yr+1)%3:1}function Jr(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&function(t,e){let n=t.state.facet($n);return n.length?n[0](e):Ve.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,l={from:i,insert:n},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Fr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let t=r.posAtStart,e=t+r.length;(t>=n.to||e<=n.from)&&(n=I.range(t,e))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1},Fr.dragend=t=>(t.inputState.draggedContent=null,!1),Fr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&Jr(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),s()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return Jr(t,e,n,!0),!0}return!1},Fr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Ur?null:e.clipboardData;return n?(Hr(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),Hr(t,n.value)}),50)}(t),!1)};let ti=null;Fr.copy=Fr.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let s=t.doc.lineAt(r);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}(t.state);if(!n&&!i)return!1;ti=i?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=Ur?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),!1)};const ei=ht.define();function ni(t,e){let n=[];for(let r of t.facet(qn)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:ei.of(!0)}):null}function ri(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=ni(t.state,e);n?t.dispatch(n):t.update([])}}),10)}Br.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),ri(t)},Br.blur=t=>{t.observer.clearSelectionRange(),ri(t)},Br.compositionstart=Br.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},Br.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ve.chrome&&Ve.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},Br.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Fr.beforeinput=(t,e)=>{var n;let r;if(Ve.chrome&&Ve.android&&(r=Qr.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return Ve.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),Ve.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>Br.compositionend(t,e)),20),!1};const ii=new Set;const si=["pre-wrap","normal","pre-line","break-spaces"];class oi{constructor(t){this.lineWrapping=t,this.doc=n.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return si.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,i,s){let o=si.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=i,l){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class li{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ai{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?ln.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof hn?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new ai(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var ui=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(ui||(ui={}));const ci=.001;class hi{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>ci&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return hi.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this,s=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:l,toA:a,fromB:u,toB:c}=r[o],h=i.lineAt(l,ui.ByPosNoHeight,n.setDoc(e),0,0),f=h.to>=a?h:i.lineAt(a,ui.ByPosNoHeight,n,0,0);for(c+=f.to-a,a=f.to;o>0&&h.from<=r[o-1].toA;)l=r[o-1].fromA,u=r[o-1].fromB,o--,l<h.from&&(h=i.lineAt(l,ui.ByPosNoHeight,n,0,0));u+=h.from-l,l=h.from;let d=mi.build(n.setDoc(s),t,u,c);i=i.replace(l,a,d)}return i.updateHeight(n,0)}static empty(){return new di(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new gi(hi.of(t.slice(0,e)),s,hi.of(t.slice(n)))}}hi.prototype.size=1;class fi extends hi{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new ai(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,s){t<=i+this.length&&e>=i&&s(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class di extends fi{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new ai(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof di||r instanceof vi&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof vi?r=new di(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):hi.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class vi extends hi{constructor(t){super(t,0)}heightMetrics(t,e){let n,r=t.doc.lineAt(e).number,i=t.doc.lineAt(e+this.length).number,s=i-r+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);n=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else n=this.height/s;return{firstLine:r,lastLine:i,perLine:n,perChar:o}}blockAt(t,e,n,r){let{firstLine:i,lastLine:s,perLine:o,perChar:l}=this.heightMetrics(e,r);if(e.lineWrapping){let i=r+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),s=e.doc.lineAt(i),a=o+s.length*l,u=Math.max(n,t-a/2);return new ai(s.from,s.length,u,a,0)}{let r=Math.max(0,Math.min(s-i,Math.floor((t-n)/o))),{from:l,length:a}=e.doc.line(i+r);return new ai(l,a,n+o*r,o,0)}}lineAt(t,e,n,r,i){if(e==ui.ByHeight)return this.blockAt(t,n,r,i);if(e==ui.ByPosNoHeight){let{from:e,to:r}=n.doc.lineAt(t);return new ai(e,r-e,0,0,0)}let{firstLine:s,perLine:o,perChar:l}=this.heightMetrics(n,i),a=n.doc.lineAt(t),u=o+a.length*l,c=a.number-s,h=r+o*c+l*(a.from-i-c);return new ai(a.from,a.length,Math.max(r,Math.min(h,r+this.height-u)),u,0)}forEachLine(t,e,n,r,i,s){t=Math.max(t,i),e=Math.min(e,i+this.length);let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(n,i);for(let u=t,c=r;u<=e;){let e=n.doc.lineAt(u);if(u==t){let n=e.number-o;c+=l*n+a*(t-i-n)}let r=l+a*e.length;s(new ai(e.from,e.length,c,r,0)),c+=r,u=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof vi?n[n.length-1]=new vi(t.length+r):n.push(null,new vi(r-1))}if(t>0){let e=n[0];e instanceof vi?n[0]=new vi(t+e.length):n.unshift(new vi(t-1),null)}return hi.of(n)}decomposeLeft(t,e){e.push(new vi(t-1),null)}decomposeRight(t,e){e.push(null,new vi(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],s=Math.max(e,r.from),o=-1;for(r.from>e&&n.push(new vi(r.from-e-1).updateHeight(t,e));s<=i&&r.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==o?o=i:Math.abs(i-o)>=ci&&(o=-2);let l=new di(e,i);l.outdated=!1,n.push(l),s+=e+1}s<=i&&n.push(null,new vi(i-s).updateHeight(t,s));let l=hi.of(n);return(o<0||Math.abs(l.height-this.height)>=ci||Math.abs(o-this.heightMetrics(t,e).perLine)>=ci)&&(t.heightChanged=!0),l}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class gi extends hi{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let s=r+this.left.height,o=i+this.left.length+this.break,l=e==ui.ByHeight?t<s:t<o,a=l?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,s,o);if(this.break||(l?a.to<o:a.from>o))return a;let u=e==ui.ByPosNoHeight?ui.ByPosNoHeight:ui.ByPos;return l?a.join(this.right.lineAt(o,u,n,s,o)):this.left.lineAt(o,u,n,r,i).join(a)}forEachLine(t,e,n,r,i,s){let o=r+this.left.height,l=i+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,i,s),e>=l&&this.right.forEachLine(t,e,n,o,l,s);else{let a=this.lineAt(l,ui.ByPos,n,r,i);t<a.from&&this.left.forEachLine(t,a.from-1,n,r,i,s),a.to>=t&&a.from<=e&&s(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,o,l,s)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let s=i.length;for(let t of n)i.push(t);if(t>0&&pi(i,s-1),e<this.length){let t=i.length;this.decomposeRight(e,i),pi(i,t)}return hi.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?hi.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:s}=this,o=e+i.length+this.break,l=null;return r&&r.from<=e+i.length&&r.more?l=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=o+s.length&&r.more?l=s=s.updateHeight(t,o,n,r):s.updateHeight(t,o,n),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function pi(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof vi&&(r=t[e+1])instanceof vi&&t.splice(e-1,3,new vi(n.length+1+r.length))}class mi{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof di?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new di(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new fi(s,r,n)):(s||i||r>=5)&&this.addLineDeco(r,i,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new di(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new vi(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof di)return t;let e=new di(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof di||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new di(0,-1));let n=t;for(let t of this.nodes)t instanceof di&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let i=new mi(n,t);return Lt.spans(e,n,r,i,0),i.finish(n)}}class Ri{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&dn(t,e,this.changes,5)}}function Oi(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=r.body;)if(1==e.nodeType){let n=e,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();s=Math.max(s,r.left),o=Math.min(o,r.right),l=Math.max(l,r.top),a=e==t.parentNode?r.bottom:Math.min(a,r.bottom)}e="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function wi(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class xi{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t,e){return an.replace({widget:new yi(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class yi extends on{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class bi{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Si,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(rr).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new oi(e),this.stateDeco=t.facet(ir).filter((t=>"function"!=typeof t)),this.heightMap=hi.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle.setDoc(t.doc),[new fr(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=an.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineBlockAt(r);t.push(new ki(e,n))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?Si:new Ai(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(Pi(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(ir).filter((t=>"function"!=typeof t));let r=t.changedRanges,i=fr.extendWithRanges(r,function(t,e,n){let r=new Ri;return Lt.compare(t,e,n,r,0),r.changes}(n,this.stateDeco,t?t.changes:S.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=s&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=i.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let a=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,t.flags|=this.updateForViewport(),(a||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(Xn)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?mn.RTL:mn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=e.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let{scaleX:t,scaleY:n}=ge(e,l);(t>.005&&Math.abs(this.scaleX-t)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=t,this.scaleY=n,u|=8,o=a=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==f||(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=8);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=be(t.scrollDOM);let v=(this.printing?wi:Oi)(e,this.paddingTop),g=v.top-this.pixelViewport.top,p=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let R=l.width;if(this.contentDOMWidth==R&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,u|=8),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(o=!0),o||i.lineWrapping&&Math.abs(R-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:r,textHeight:l}=t.docView.measureTextSize();o=n>0&&i.refresh(s,n,r,l,R/r,e),o&&(t.docView.minWidth=0,u|=8)}g>0&&p>0?c=Math.max(g,p):g<0&&p<0&&(c=Math.min(g,p)),i.heightChanged=!1;for(let r of this.viewports){let s=r.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(r);this.heightMap=(o?hi.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle,[new fr(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new li(r.from,s))}i.heightChanged&&(u|=2)}let O=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(2&u&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(2&u||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,l=new ki(r.lineAt(s-1e3*n,ui.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),ui.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(t,ui.ByPos,i,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-s,l=new ki(r.lineAt(n-500,ui.ByHeight,i,0,0).from,r.lineAt(n+s+500,ui.ByHeight,i,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new ki(this.heightMap.lineAt(n,ui.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,ui.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,ui.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(e,ui.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||r<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>s-2e3&&i<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new xi(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,s=r<<1;if(this.defaultTextDirection!=mn.LTR&&!n)return[];let o=[],l=(r,s,a,u)=>{if(s-r<i)return;let c=this.state.selection.main,h=[c.from];c.empty||h.push(c.to);for(let t of h)if(t>r&&t<s)return l(r,t-10,a,u),void l(t+10,s,a,u);let f=function(t,e){for(let n of t)if(e(n))return n;return}(t,(t=>t.from>=a.from&&t.to<=a.to&&Math.abs(t.from-r)<i&&Math.abs(t.to-s)<i&&!h.some((e=>t.from<e&&t.to>e))));if(!f){if(s<a.to&&e&&n&&e.visibleRanges.some((t=>t.from<=s&&t.to>=s))){let t=e.moveToLineBoundary(I.cursor(s),!1,!0).head;t>r&&(s=t)}f=new xi(r,s,this.gapSize(a,r,s,u))}o.push(f)},a=t=>{if(t.length<s||t.type!=ln.Text)return;let e=function(t,e,n){let r=[],i=t,s=0;Lt.spans(n,t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),s+=t-i),i=e}},20),i<e&&(r.push({from:i,to:e}),s+=e-i);return{total:s,ranges:r}}(t.from,t.to,this.stateDeco);if(e.total<s)return;let i,o,a=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,s,l=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let r=Ti(e,a),i=((this.visibleBottom-this.visibleTop)/2+l)/t.height;n=r-i,s=r+i}else n=(this.visibleTop-t.top-l)/t.height,s=(this.visibleBottom-t.top+l)/t.height;i=Ci(e,n),o=Ci(e,s)}else{let t,n,s=e.total*this.heightOracle.charWidth,l=r*this.heightOracle.charWidth;if(null!=a){let r=Ti(e,a),i=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/s;t=r-i,n=r+i}else t=(this.pixelViewport.left-l)/s,n=(this.pixelViewport.right+l)/s;i=Ci(e,t),o=Ci(e,n)}i>t.from&&l(t.from,i,t,e),o<t.to&&l(o,t.to,t,e)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(a):a(t);return o}gapSize(t,e,n,r){let i=Ti(r,n)-Ti(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){xi.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=an.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Lt.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Pi(this.heightMap.lineAt(t,ui.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||Pi(this.heightMap.lineAt(this.scaler.fromDOM(t),ui.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Pi(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ki{constructor(t,e){this.from=t,this.to=e}}function Ci({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],s=i-n;if(r<=s)return n+r;r-=s}}function Ti(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}const Si={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class Ai{constructor(t,e,n){let r=0,i=0,s=0;this.viewports=n.map((({from:n,to:i})=>{let s=e.lineAt(n,ui.ByPos,t,0,0).top,o=e.lineAt(i,ui.ByPos,t,0,0).bottom;return r+=o-s,{from:n,to:i,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=s+(t.top-i)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return r+(t-n)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);n=i.bottom,r=i.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return n+(t-r)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);n=i.bottom,r=i.domBottom}}eq(t){return t instanceof Ai&&(this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to)))}}function Pi(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ai(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map((t=>Pi(t,e))):t._content)}const Ei=$.define({combine:t=>t.join(" ")}),_i=$.define({combine:t=>t.indexOf(!0)>-1}),Li=Gt.newName(),Di=Gt.newName(),Qi=Gt.newName(),Ii={"&light":"."+Di,"&dark":"."+Qi};function Ni(t,e,n){return new Gt(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const Mi=Ni("."+Li,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ii),$i="￿";class Fi{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Tt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=$i}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let t=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==e)break;let s=Ae.get(r),o=Ae.get(i);(s&&o?s.breakAfter:(s?s.breakAfter:ce(r))||ce(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>t)&&this.lineBreak(),r=i}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=r.exec(e))&&(s=i.index,o=i[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=Ae.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Bi(t,n.node,n.offset)?e:0))}}function Bi(t,e,n){for(;;){if(!e||n<fe(e))return!1;if(e==t)return!0;n=ue(e)+1,e=e.parentNode}}class Ui{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Hi{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:i,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=i||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;n&&(e.push(new Ui(n,r)),i==n&&s==r||e.push(new Ui(i,s)));return e}(t),n=new Fi(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?I.single(n+e,r+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=i&&i.node==e.focusNode&&i.offset==e.focusOffset||!se(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),r=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!se(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),o=t.viewport;if((Ve.ios||Ve.chrome)&&t.state.selection.main.empty&&n!=r&&(o.from>0||o.to<t.state.doc.length)){let e=Math.min(n,r),i=Math.max(n,r),s=o.from-e,l=o.to-i;0!=s&&1!=s&&0!=e||0!=l&&-1!=l&&i!=t.state.doc.length||(n=0,r=t.state.doc.length)}this.newSel=I.single(r,n)}}}function qi(t,e){let r,{newSel:i}=e,s=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:l}=e.bounds,a=s.from,u=null;(8===o||Ve.android&&e.text.length<l-i)&&(a=s.to,u="end");let c=function(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if("end"==r){n-=o+Math.max(0,s-Math.min(o,l))-s}if(o<s&&t.length<e.length){s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s}else if(l<s){s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}(t.state.doc.sliceString(i,l,$i),e.text,a-i,u);c&&(Ve.chrome&&13==o&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==$i+$i&&c.toB--,r={from:i+c.from,to:i+c.toA,insert:n.of(e.text.slice(c.from,c.toB).split($i))})}else i&&(!t.hasFocus&&t.state.facet(Zn)||i.main.eq(s))&&(i=null);if(!r&&!i)return!1;if(!r&&e.typeOver&&!s.empty&&i&&i.main.empty?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,s.to))}:(Ve.mac||Ve.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==r.insert.length&&(i=I.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}):Ve.chrome&&r&&r.from==r.to&&r.from==s.head&&"\n "==r.insert.toString()&&t.lineWrapping&&(i&&(i=I.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}),r)return Vi(t,r,i,o);if(i&&!i.main.eq(s)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}function Vi(t,e,n,r=-1){if(Ve.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Ve.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&" "==t.state.sliceDoc(e.from,i.from))&&1==e.insert.length&&2==e.insert.lines&&xe(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&0==e.insert.length||8==r&&e.insert.length<e.to-e.from&&e.to>i.head)&&xe(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&0==e.insert.length&&xe(t.contentDOM,"Delete",46)))return!0;let s,o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l=()=>s||(s=function(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=s.from<e.from?i.sliceDoc(s.from,e.from):"",o=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+o))}else{let o=i.changes(e),l=n&&n.main.to<=o.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let a,u=t.state.sliceDoc(e.from,e.to),c=n&&pr(t,n.main.head);if(c){let t=e.insert.length-(e.to-e.from);a={from:c.from,to:c.to-t}}else a=t.state.doc.lineAt(s.head);let h=s.to-e.to,f=s.to-s.from;r=i.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:o,range:l||n.map(o)};let r=n.to-h,c=r-u.length;if(n.to-n.from!=f||t.state.sliceDoc(c,r)!=u||n.to>=a.from&&n.from<=a.to)return{range:n};let d=i.changes({from:c,to:r,insert:e.insert}),v=n.to-s.to;return{changes:d,range:l?I.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):n.map(d)}}))}else r={changes:o,selection:l&&i.selection.replaceRange(l)}}let o="input.type";(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1));return i.update(r,{userEvent:o,scrollIntoView:!0})}(t,e,n));return t.state.facet(Hn).some((n=>n(t,e.from,e.to,o,l)))||t.dispatch(l()),!0}const Xi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},zi=Ve.ie&&Ve.ie_version<=11;class Wi{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new pe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(Ve.ie&&Ve.ie_version<=11||Ve.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),window.EditContext&&!0===t.constructor.EDIT_CONTEXT&&(this.editContext=new Yi(t),t.state.facet(Zn)&&(t.contentDOM.editContext=this.editContext.editContext)),zi&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(Zn)?n.root.activeElement!=this.dom:!oe(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(t)?e||(this.selectionChanged=!1):(Ve.ie&&Ve.ie_version<=11||Ve.android&&Ve.chrome)&&!n.state.selection.main.empty&&r.focusNode&&ae(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=ie(t.root);if(!e)return!1;let n=Ve.safari&&11==t.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return Gi(t,n)}let n=null;function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?Gi(t,n):null}(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let r=oe(this.dom,n);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,fe(n));;)if(r){if(1!=n.nodeType)return!1;let t=n.childNodes[r-1];"false"==t.contentEditable?r--:(n=t,r=fe(n))}else{if(n==t)return!0;r=ue(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Xi),zi&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),zi&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;if(t){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&xe(this.dom,t.key,t.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&oe(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Hi(this.view,t,e,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=qi(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=ji(e,t.previousSibling||t.target.previousSibling,-1),r=ji(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Zn)!=t.state.facet(Zn)&&(t.view.contentDOM.editContext=t.state.facet(Zn)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function ji(t,e,n){for(;e;){let r=Ae.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Gi(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return ae(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}class Yi{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});e.addEventListener("textupdate",(e=>{let{anchor:r}=t.state.selection.main,i={from:this.toEditorPos(e.updateRangeStart),to:this.toEditorPos(e.updateRangeEnd),insert:n.of(e.text.split("\n"))};i.from==this.from&&r<this.from?i.from=r:i.to==this.to&&r>this.to&&(i.to=r),(i.from!=i.to||i.insert.length)&&(this.pendingContextChange=i,Vi(t,i,I.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd))),this.pendingContextChange&&this.revertPending(t.state))})),e.addEventListener("characterboundsupdate",(n=>{let r=[],i=null;for(let e=this.toEditorPos(n.rangeStart),s=this.toEditorPos(n.rangeEnd);e<s;e++){let n=t.coordsForChar(e);i=n&&new DOMRect(n.left,n.right,n.right-n.left,n.bottom-n.top)||i||new DOMRect,r.push(i)}e.updateCharacterBounds(n.rangeStart,r)})),e.addEventListener("textformatupdate",(e=>{let n=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,r=t.underlineThickness;if("None"!=e&&"None"!=r){let i=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==r?1:2}px`;n.push(an.mark({attributes:{style:i}}).range(this.toEditorPos(t.rangeStart),this.toEditorPos(t.rangeEnd)))}}t.dispatch({effects:Gn.of(an.set(n))})})),e.addEventListener("compositionstart",(()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)})),e.addEventListener("compositionend",(()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null})),this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=ie(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,r=this.pendingContextChange;return t.changes.iterChanges(((i,s,o,l,a)=>{if(n)return;let u=a.length-(s-i);if(r&&s>=r.to){if(r.from==i&&r.to==s&&r.insert.eq(a))return r=this.pendingContextChange=null,void(e+=u);r=null,this.revertPending(t.state)}if(i+=e,(s+=e)<=this.from)this.from+=u,this.to+=u;else if(i<this.to){if(i<this.from||s>this.to||this.to-this.from+a.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(i),this.toContextPos(s),a.toString()),this.to+=u}e+=u})),r&&!n&&this.revertPending(t.state),!n}update(t){this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.to+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),r=this.toContextPos(e.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}}class Zi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:e}=t;this.dispatchTransactions=t.dispatchTransactions||e&&(t=>t.forEach((t=>e(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new bi(t.state||Tt.create(t)),t.scrollTo&&t.scrollTo.is(jn)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Jn).map((t=>new er(t)));for(let t of this.plugins)t.update(this);this.observer=new Wi(this),this.inputState=new _r(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vr(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...t){let e=1==t.length&&t[0]instanceof gt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,i=this.state;for(let e of t){if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}if(this.destroyed)return void(this.viewState.state=i);let s=this.hasFocus,o=0,l=null;t.some((t=>t.annotation(ei)))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=ni(i,s),l||(o=1));let a=this.observer.delayedAndroidKey,u=null;if(a?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(u=null)):this.observer.clear(),i.facet(Tt.phrases)!=this.state.facet(Tt.phrases))return this.setState(i);e=dr.create(this,i,t),e.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(c&&(c=c.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;c=new Wn(t.empty?t:I.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(jn)&&(c=t.value.clip(this.state))}this.viewState.update(e,c),this.bidiCache=ts.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(hr)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(Ei)!=e.state.facet(Ei)&&(this.viewState.mustMeasureContent=!0),(n||r||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(Un))try{t(e)}catch(t){Yn(this.state,t,"update listener")}(l||u)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!qi(this,u)&&a.force&&xe(this.contentDOM,a.key,a.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new bi(t),this.plugins=t.facet(Jn).map((t=>new er(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new vr(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Jn),n=t.state.facet(Jn);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new er(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){Yn(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(be(n))i=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(r);i=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&o||([this.measureRequests,l]=[l,this.measureRequests]);let a=l.map((t=>{try{return t.read(this)}catch(t){return Yn(this.state,t),Ji}})),u=dr.create(this,this.state,[]),c=!1;u.flags|=o,e?e.flags|=o:e=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),c=this.docView.update(u),c&&this.docViewUpdate());for(let t=0;t<l.length;t++)if(a[t]!=Ji)try{let e=l[t];e.write&&e.write(a[t],this)}catch(t){Yn(this.state,t)}if(c&&this.docView.updateSelection(!0),!u.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(t>1||t<-1){r+=t,n.scrollTop=r/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(Un))t(e)}get themeClasses(){return Li+" "+(this.state.facet(_i)?Qi:Di)+" "+this.state.facet(Ei)}updateAttrs(){let t=es(this,nr,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Zn)?"true":"false",class:"cm-content",style:`${Ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),es(this,rr,e);let n=this.observer.ignore((()=>{let n=en(this.contentDOM,this.contentAttrs,e),r=en(this.dom,this.editorAttrs,t);return n||r}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(Zi.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(hr);let t=this.state.facet(Zi.cspNonce);Gt.mount(this.root,this.styleModules.concat(Mi).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Er(this,t,Ar(this,t,e,n))}moveByGroup(t,e){return Er(this,t,Ar(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return t=>{let e=r(t);return i==yt.Space&&(i=e),i==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),r=this.textDirectionAt(t.from),i=n[e?n.length-1:0];return I.cursor(i.side(e,r)+t.from,i.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let i=Sr(t,e.head),s=r&&i.type==ln.Text&&(t.lineWrapping||i.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(i.from),o=t.posAtCoords({x:n==(r==mn.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=o)return I.cursor(o,n?-1:1)}return I.cursor(n?i.to:i.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return Er(this,t,function(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return I.cursor(i,e.assoc);let o,l=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)null==l&&(l=u.left-a.left),o=s<0?u.top:u.bottom;else{let e=t.viewState.lineBlockAt(i);null==l&&(l=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-e.from))),o=(s<0?e.top:e.bottom)+c}let h=a.left+l,f=null!=r?r:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=o+(f+e)*s,r=Cr(t,{x:h,y:n},!1,s);if(n<a.top||n>a.bottom||(s<0?r<i:r>i)){let e=t.docView.coordsForChar(r),i=!e||n<e.top?-1:1;return I.cursor(r,i,void 0,l)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Cr(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return de(n,i[Sn.find(i,t-r.from,-1,e)].dir==mn.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Vn)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Ki)return Dn(t.length);let e,n=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==n&&(r.fresh||An(r.isolates,e=ar(this,t))))return r.order;e||(e=ar(this,t));let r=Ln(t.text,n,e);return this.bidiCache.push(new ts(t.from,t.to,n,e,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Ve.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Oe(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return jn.of(new Wn("number"==typeof t?I.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return jn.of(new Wn(I.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return tr.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return tr.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=Gt.newName(),r=[Ei.of(n),hr.of(Ni(`.${n}`,t))];return e&&e.dark&&r.push(_i.of(!0)),r}static baseTheme(t){return Z.lowest(hr.of(Ni("."+Li,t,Ii)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&Ae.get(n)||Ae.get(t);return(null===(e=null==r?void 0:r.rootView)||void 0===e?void 0:e.view)||null}}Zi.styleModule=hr,Zi.inputHandler=Hn,Zi.scrollHandler=zn,Zi.focusChangeEffect=qn,Zi.perLineTextDirection=Vn,Zi.exceptionSink=Bn,Zi.updateListener=Un,Zi.editable=Zn,Zi.mouseSelectionStyle=Fn,Zi.dragMovesSelection=$n,Zi.clickAddsSelectionRange=Mn,Zi.decorations=ir,Zi.outerDecorations=sr,Zi.atomicRanges=or,Zi.bidiIsolatedRanges=lr,Zi.scrollMargins=ur,Zi.darkTheme=_i,Zi.cspNonce=$.define({combine:t=>t.length?t[0]:""}),Zi.contentAttributes=rr,Zi.editorAttributes=nr,Zi.lineWrapping=Zi.contentAttributes.of({class:"cm-lineWrapping"}),Zi.announce=vt.define();const Ki=4096,Ji={};class ts{constructor(t,e,n,r,i,s){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=i,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],r=t.length?t[t.length-1].dir:mn.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let s=t[i];s.dir!=r||e.touchesRange(s.from,s.to)||n.push(new ts(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function es(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let e=r[i],s="function"==typeof e?e(t):e;s&&Ke(s,n)}return n}const ns=Ve.mac?"mac":Ve.windows?"win":Ve.linux?"linux":"key";function rs(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const is=Z.default(Zi.domEventHandlers({keydown:(t,e)=>hs(ls(e.state),t,e,"editor")})),ss=$.define({enables:is}),os=new WeakMap;function ls(t){let e=t.facet(ss),n=os.get(e);return n||os.set(e,n=function(t,e=ns){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,r,s,o,l)=>{var a,u;let c=n[t]||(n[t]=Object.create(null)),h=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,s,o,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?o=!0:i=!0}}return r&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<h.length;e++){let n=h.slice(0,e).join(" ");i(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let r=as={view:e,prefix:n,scope:t};return setTimeout((()=>{as==r&&(as=null)}),us),!0}]})}let f=h.join(" ");i(f,!1);let d=c[f]||(c[f]={preventDefault:!1,stopPropagation:!1,run:(null===(u=null===(a=c._any)||void 0===a?void 0:a.run)||void 0===u?void 0:u.slice())||[]});s&&d.run.push(s),o&&(d.preventDefault=!0),l&&(d.stopPropagation=!0)};for(let r of t){let t=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=r;for(let e in t)t[e].run.push((t=>i(t,cs)))}let i=r[e]||r.key;if(i)for(let e of t)s(e,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&s(e,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let as=null;const us=4e3;let cs=null;function hs(t,e,n,r){cs=e;let i=function(t){var e=!(te&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ee&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Jt:Kt)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=b(x(i,0))==i.length&&" "!=i,o="",l=!1,a=!1,u=!1;as&&as.view==n&&as.scope==r&&(o=as.prefix+" ",Nr.indexOf(e.keyCode)<0&&(a=!0,as=null));let c,h,f=new Set,d=t=>{if(t){for(let e of t.run)if(!f.has(e)&&(f.add(e),e(n)))return t.stopPropagation&&(u=!0),!0;t.preventDefault&&(t.stopPropagation&&(u=!0),a=!0)}return!1},v=t[r];return v&&(d(v[o+rs(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ve.windows&&e.ctrlKey&&e.altKey)&&(c=Kt[e.keyCode])&&c!=i?(d(v[o+rs(c,e,!0)])||e.shiftKey&&(h=Jt[e.keyCode])!=i&&h!=c&&d(v[o+rs(h,e,!1)]))&&(l=!0):s&&e.shiftKey&&d(v[o+rs(i,e,!0)])&&(l=!0),!l&&d(v._any)&&(l=!0)),a&&(l=!0),l&&u&&e.stopPropagation(),cs=null,l}class fs{constructor(t,e,n,r,i){this.className=t,this.left=e,this.top=n,this.width=r,this.height=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=ds(t);return[new fs(e,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==mn.LTR,o=t.contentDOM,l=o.getBoundingClientRect(),a=ds(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=Sr(t,r),v=Sr(t,i),g=d.type==ln.Text?d:null,p=v.type==ln.Text?v:null;g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=vs(t,r,1,g));p&&(t.lineWrapping||v.widgetLineBreaks)&&(p=vs(t,i,-1,p));if(g&&p&&g.from==p.from&&g.to==p.to)return R(O(n.from,n.to,g));{let e=g?O(n.from,null,g):w(d,!1),r=p?O(null,n.to,p):w(v,!0),i=[];return(g||d).to<(p||v).from-(g&&p?1:0)||d.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<r.top?i.push(m(h,e.bottom,f,r.top)):e.bottom<r.top&&t.elementAtHeight((e.bottom+r.top)/2).type==ln.Text&&(e.bottom=r.top=(e.bottom+r.top)/2),R(e).concat(i).concat(R(r))}function m(t,n,r,i){return new fs(e,t-a.left,n-a.top-.01,r-t,i-n+.01)}function R({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(m(n[i],t,n[i+1],e));return r}function O(e,n,r){let i=1e9,o=-1e9,l=[];function a(e,n,a,u,c){let d=t.coordsAtPos(e,e==r.to?-2:2),v=t.coordsAtPos(a,a==r.from?2:-2);d&&v&&(i=Math.min(d.top,v.top,i),o=Math.max(d.bottom,v.bottom,o),c==mn.LTR?l.push(s&&n?h:d.left,s&&u?f:v.right):l.push(!s&&u?h:v.left,!s&&n?f:d.right))}let u=null!=e?e:r.from,c=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>u&&r.from<c)for(let i=Math.max(r.from,u),s=Math.min(r.to,c);;){let r=t.state.doc.lineAt(i);for(let o of t.bidiSpans(r)){let t=o.from+r.from,l=o.to+r.from;if(t>=s)break;l>i&&a(Math.max(t,i),null==e&&t<=u,Math.min(l,s),null==n&&l>=c,o.dir)}if(i=r.to+1,i>=s)break}return 0==l.length&&a(u,null==e,c,null==n,t.textDirection),{top:i,bottom:o,horizontal:l}}function w(t,e){let n=l.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(t,e,n)}}function ds(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==mn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function vs(t,e,n,r){let i=t.coordsAtPos(e,2*n);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=t.posAtCoords({x:s.left+1,y:o}),a=t.posAtCoords({x:s.right-1,y:o});return null==l||null==a?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}class gs{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(ps)!=t.state.facet(ps)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,n=t.facet(ps);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>!function(t,e){return t.constructor==e.constructor&&t.eq(e)}(t,this.drawn[e])))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ps=$.define();function ms(t){return[tr.define((e=>new gs(e,t))),ps.of(t)]}const Rs=!Ve.ios,Os=$.define({combine:t=>St(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function ws(t={}){return[Os.of(t),ys,ks,Ts,Xn.of(!0)]}function xs(t){return t.startState.facet(Os)!=t.state.facet(Os)}const ys=ms({above:!0,markers(t){let{state:e}=t,n=e.facet(Os),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||Rs:n.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:I.cursor(i.head,i.head>i.anchor?-1:1);for(let i of fs.forRange(t,e,n))r.push(i)}}return r},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let n=xs(t);return n&&bs(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){bs(e.state,t)},class:"cm-cursorLayer"});function bs(t,e){e.style.animationDuration=t.facet(Os).cursorBlinkRate+"ms"}const ks=ms({above:!1,markers:t=>t.state.selection.ranges.map((e=>e.empty?[]:fs.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e))),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||xs(t),class:"cm-selectionLayer"}),Cs={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Rs&&(Cs[".cm-line"].caretColor=Cs[".cm-content"].caretColor="transparent !important");const Ts=Z.highest(Zi.theme(Cs)),Ss=vt.define({map:(t,e)=>null==t?null:e.mapPos(t)}),As=X.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(Ss)?e.value:t),t))}),Ps=tr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(As);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(As)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(As),n=null!=e&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(As)!=t&&this.view.dispatch({effects:Ss.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Es(t,e,n,r,i){e.lastIndex=0;for(let s,o=t.iterRange(n,r),l=n;!o.next().done;l+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(l+s.index,s)}class _s{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:i,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(t,e,n,i)=>r(i,n,n+t[0].length,t,e);else if("function"==typeof n)this.addMatch=(t,e,r,i)=>{let s=n(t,e,r);s&&i(r,r+t[0].length,s)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,r,i)=>i(r,r+t[0].length,n)}this.boundary=i,this.maxLength=s}createDeco(t){let e=new Dt,n=e.add.bind(e);for(let{from:e,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(t,this.maxLength))Es(t.state.doc,this.regexp,e,r,((e,r)=>this.addMatch(r,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),r=Math.max(o,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let s=Math.max(i.from,n),o=Math.min(i.to,r);if(o>s){let n=t.state.doc.lineAt(s),r=n.to<o?t.state.doc.lineAt(o):n,l=Math.max(i.from,n.from),a=Math.min(i.to,r.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){l=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){a=o;break}}let u,c=[],h=(t,e,n)=>c.push(n.range(t,e));if(n==r)for(this.regexp.lastIndex=l-n.from;(u=this.regexp.exec(n.text))&&u.index<a-n.from;)this.addMatch(u,t,u.index+n.from,h);else Es(t.state.doc,this.regexp,l,a,((e,n)=>this.addMatch(n,t,e,h)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:c})}}return e}}const Ls=null!=/x/.unicode?"gu":"g",Ds=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Ls),Qs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Is=null;const Ns=$.define({combine(t){let e=St(t,{render:null,specialChars:Ds,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==Is&&"undefined"!=typeof document&&document.body){let e=document.body.style;Is=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Is||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Ls)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ls)),e}});function Ms(t={}){return[Ns.of(t),$s||($s=tr.fromClass(class{constructor(t){this.view=t,this.decorations=an.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Ns)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new _s({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=x(e[0],0);if(9==s){let t=i.lineAt(r),e=n.state.tabSize,s=Vt(t.text,e,r-t.from);return an.replace({widget:new Bs((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=an.replace({widget:new Fs(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Ns);t.startState.facet(Ns)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let $s=null;class Fs extends on{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(Qs[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Bs extends on{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Us=an.line({class:"cm-activeLine"}),Hs=tr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Us.range(i.from)),e=i.from)}return an.set(n)}},{decorations:t=>t.decorations});const qs=2e3;function Vs(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>qs?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):Vt(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function Xs(t,e){let n=Vs(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,s){let o=Vs(t,e);if(!o)return r;let l=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>qs||n.off>qs||e.col<0||n.col<0){let o=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=l&&s.push(I.range(n.from+o,n.to+l))}}else{let o=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=Xt(n.text,o,t.tabSize,!0);if(r<0)s.push(I.cursor(n.to));else{let e=Xt(n.text,l,t.tabSize);s.push(I.range(n.from+r,n.from+e))}}}return s}(t.state,n,o);return l.length?s?I.create(l.concat(r.ranges)):I.create(l):r}}:null}function zs(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return Zi.mouseSelectionStyle.of(((t,n)=>e(n)?Xs(t,n):null))}const Ws={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},js={style:"cursor: crosshair"};function Gs(t={}){let[e,n]=Ws[t.key||"Alt"],r=tr.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)},mousemove(t){this.set(n(t))}}});return[r,Zi.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.isDown)?js:null}))]}const Ys="-10000px";class Zs{constructor(t,e,n,r){this.facet=e,this.createTooltipView=n,this.removeTooltipView=r,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t));let i=null;this.tooltipViews=this.tooltips.map((t=>i=n(t,i)))}update(t,e){var n;let r=t.state.facet(this.facet),i=r.filter((t=>t));if(r===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],o=e?[]:null;for(let n=0;n<i.length;n++){let r=i[n],l=-1;if(r){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==r.create&&(l=t)}if(l<0)s[n]=this.createTooltipView(r,n?s[n-1]:null),o&&(o[n]=!!r.above);else{let r=s[n]=this.tooltipViews[l];o&&(o[n]=e[l]),r.update&&r.update(t)}}}for(let t of this.tooltipViews)s.indexOf(t)<0&&(this.removeTooltipView(t),null===(n=t.destroy)||void 0===n||n.call(t));return e&&(o.forEach(((t,n)=>e[n]=t)),e.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function Ks(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Js=$.define({combine:t=>{var e,n,r;return{position:Ve.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Ks}}}),to=new WeakMap,eo=tr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Js);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new Zs(t,io,((t,e)=>this.createTooltip(t,e)),(t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()})),this.above=this.manager.tooltips.map((t=>!!t.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Js);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",n.dom.appendChild(t)}return n.dom.style.position=this.position,n.dom.style.top=Ys,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(Ve.gecko)r=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==Ys&&"0px"==t.style.left){let e=t.getBoundingClientRect();r=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(r||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,n=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(Js).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=t.pos[l],f=t.size[l];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){c.style.top=Ys;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,v=d?7:0,g=f.right-f.left,p=null!==(e=to.get(u))&&void 0!==e?e:f.bottom-f.top,m=u.offset||ro,R=this.view.textDirection==mn.LTR,O=f.width>r.right-r.left?R?r.left:r.right-f.width:R?Math.min(h.left-(d?14:0)+m.x,r.right-g):Math.max(r.left,h.left-g+(d?14:0)-m.x),w=this.above[l];!a.strictSide&&(w?h.top-(f.bottom-f.top)-m.y<r.top:h.bottom+(f.bottom-f.top)+m.y>r.bottom)&&w==r.bottom-h.bottom>h.top-r.top&&(w=this.above[l]=!w);let x=(w?h.top-r.top:r.bottom-h.bottom)-v;if(x<p&&!1!==u.resize){if(x<this.view.defaultLineHeight){c.style.top=Ys;continue}to.set(u,p),c.style.height=(p=x)/s+"px"}else c.style.height&&(c.style.height="");let y=w?h.top-p-v-m.y:h.bottom+v+m.y,b=O+g;if(!0!==u.overlap)for(let t of o)t.left<b&&t.right>O&&t.top<y+p&&t.bottom>y&&(y=w?t.top-p-2-v:t.bottom+v+2);if("absolute"==this.position?(c.style.top=(y-t.parent.top)/s+"px",c.style.left=(O-t.parent.left)/i+"px"):(c.style.top=y/s+"px",c.style.left=O/i+"px"),d){let t=h.left+(R?m.x:-m.x)-(O+14-7);d.style.left=t/i+"px"}!0!==u.overlap&&o.push({left:O,top:y,right:b,bottom:y+p}),c.classList.toggle("cm-tooltip-above",w),c.classList.toggle("cm-tooltip-below",!w),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Ys}},{eventObservers:{scroll(){this.maybeMeasure()}}}),no=Zi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ro={x:0,y:0},io=$.define({enables:[eo,no]}),so=$.define({combine:t=>t.reduce(((t,e)=>t.concat(e)),[])});class oo{static create(t){return new oo(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Zs(t,so,((t,e)=>this.createHostedView(t,e)),(t=>t.dom.remove()))}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const lo=io.compute([so],(t=>{let e=t.facet(so);return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:oo.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class ao{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,i=1;if(n instanceof We)r=n.posAtStart;else{if(r=t.posAtCoords(e),null==r)return;let n=t.coordsAtPos(r);if(!n||e.y<n.top||e.y>n.bottom||e.x<n.left-t.defaultCharacterWidth||e.x>n.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(r)).find((t=>t.from<=r&&t.to>=r)),o=s&&s.dir==mn.RTL?-1:1;i=e.x<n.left?-o:o}let s=this.source(t,r,i);if(null==s?void 0:s.then){let e=this.pending={pos:r};s.then((n=>{this.pending==e&&(this.pending=null,!n||Array.isArray(n)&&!n.length||t.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(e=>Yn(t.state,e,"hover tooltip")))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(eo),e=t?t.manager.tooltips.findIndex((t=>t.create==oo.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r.length&&i&&!function(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-uo&&e.clientX<=n.right+uo&&e.clientY>=n.top-uo&&e.clientY<=n.bottom+uo}(i.dom,t)||this.pending){let{pos:i}=r[0]||this.pending,s=null!==(n=null===(e=r[0])||void 0===e?void 0:e.end)&&void 0!==n?n:i;(i==s?this.view.posAtCoords(this.lastMove)==i:function(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,l)<i)return!1;let a=t.posAtCoords({x:r,y:i},!1);return a>=e&&a<=n}(this.view,i,s,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const uo=4;function co(t,e={}){let n=vt.define(),r=X.define({create:()=>[],update(t,r){if(t.length&&(e.hideOnChange&&(r.docChanged||r.selection)?t=[]:e.hideOn&&(t=t.filter((t=>!e.hideOn(r,t)))),r.docChanged)){let e=[];for(let n of t){let t=r.changes.mapPos(n.pos,-1,C.TrackDel);if(null!=t){let i=Object.assign(Object.create(null),n);i.pos=t,null!=i.end&&(i.end=r.changes.mapPos(i.end)),e.push(i)}}t=e}for(let e of r.effects)e.is(n)&&(t=e.value),e.is(fo)&&(t=[]);return t},provide:t=>so.from(t)});return[r,tr.define((i=>new ao(i,t,r,n,e.hoverTime||300))),lo]}function ho(t,e){let n=t.plugin(eo);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const fo=vt.define();const vo=$.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function go(t,e){let n=t.plugin(po),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const po=tr.fromClass(class{constructor(t){this.input=t.state.facet(Oo),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(vo);this.top=new mo(t,!0,e.topContainer),this.bottom=new mo(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(vo);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new mo(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new mo(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Oo);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],s=[],o=[];for(let n of e){let e,l=this.specs.indexOf(n);l<0?(e=n(t.view),o.push(e)):(e=this.panels[l],e.update&&e.update(t)),r.push(e),(e.top?i:s).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Zi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class mo{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=Ro(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=Ro(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Ro(t){let e=t.nextSibling;return t.remove(),e}const Oo=$.define({enables:po});class wo extends At{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}wo.prototype.elementClass="",wo.prototype.toDOM=void 0,wo.prototype.mapMode=C.TrackBefore,wo.prototype.startSide=wo.prototype.endSide=-1,wo.prototype.point=!0;const xo=$.define(),yo={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Lt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},bo=$.define();function ko(t){return[To(),bo.of(Object.assign(Object.assign({},yo),t))]}const Co=$.define({combine:t=>t.some((t=>t))});function To(t){let e=[So];return t&&!1===t.fixed&&e.push(Co.of(!0)),e}const So=tr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(bo).map((e=>new _o(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Co),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Co)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Lt.iter(this.view.state.facet(xo),this.view.viewport.from),r=[],i=this.gutters.map((t=>new Eo(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(t.type)){let e=!0;for(let s of t.type)if(s.type==ln.Text&&e){Po(n,r,s.from);for(let t of i)t.line(this.view,s,r);e=!1}else if(s.widget)for(let t of i)t.widget(this.view,s)}else if(t.type==ln.Text){Po(n,r,t.from);for(let e of i)e.line(this.view,t,r)}else if(t.widget)for(let e of i)e.widget(this.view,t);for(let t of i)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(bo),n=t.state.facet(bo),r=t.docChanged||t.heightChanged||t.viewportChanged||!Lt.eq(t.startState.facet(xo),t.state.facet(xo),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new _o(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Zi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==mn.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function Ao(t){return Array.isArray(t)?t:[t]}function Po(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Eo{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=Lt.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,i=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==r.elements.length){let e=new Lo(t,s,i,n);r.elements.push(e),r.dom.appendChild(e.dom)}else r.elements[this.i].update(t,s,i,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];Po(this.cursor,r,e.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let s=this.gutter;(0!=r.length||s.config.renderEmptyElements)&&this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e);n&&this.addElement(t,e,[n])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class _o{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,s=r.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();i=(t.top+t.bottom)/2}else i=r.clientY;let o=t.lineBlockAtHeight(i-t.documentTop);e.domEventHandlers[n](t,o,r)&&r.preventDefault()}));this.markers=Ao(e.markers(t)),e.initialSpacer&&(this.spacer=new Lo(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Ao(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Lt.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Lo{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,s=0;;){let o=s,l=i<e.length?e[i++]:null,a=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(l)){o=t,a=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!l)break;l.toDOM&&(a?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),a&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const Do=$.define(),Qo=$.define({combine:t=>St(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class Io extends wo{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function No(t,e){return t.state.facet(Qo).formatNumber(e,t.state)}const Mo=bo.compute([Qo],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(Do),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Io(No(t,t.state.doc.lineAt(e.from).number)),widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Qo)!=t.state.facet(Qo),initialSpacer:t=>new Io(No(t,Fo(t.state.doc.lines))),updateSpacer(t,e){let n=No(e.view,Fo(e.view.state.doc.lines));return n==t.number?t:new Io(n)},domEventHandlers:t.facet(Qo).domEventHandlers})));function $o(t={}){return[Qo.of(t),To(),Mo]}function Fo(t){let e=9;for(;e<t;)e=10*e+9;return e}const Bo=new class extends wo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Uo=xo.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Bo.range(i)))}return Lt.of(e)}));const Ho=1024;let qo=0;class Vo{constructor(t,e){this.from=t,this.to=e}}class Xo{constructor(t={}){this.id=qo++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=jo.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Xo.closedBy=new Xo({deserialize:t=>t.split(" ")}),Xo.openedBy=new Xo({deserialize:t=>t.split(" ")}),Xo.group=new Xo({deserialize:t=>t.split(" ")}),Xo.isolate=new Xo({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Xo.contextHash=new Xo({perNode:!0}),Xo.lookAhead=new Xo({perNode:!0}),Xo.mounted=new Xo({perNode:!0});class zo{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Xo.mounted.id]}}const Wo=Object.create(null);class jo{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):Wo,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new jo(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Xo.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(Xo.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}jo.none=new jo("",Object.create(null),0,8);class Go{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let e of t){let t=e(n);t&&(r||(r=Object.assign({},n.props)),r[t[0].id]=t[1])}e.push(r?new jo(n.name,r,n.id,n.flags):n)}return new Go(e)}}const Yo=new WeakMap,Zo=new WeakMap;var Ko;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(Ko||(Ko={}));class Jo{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=zo.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new fl(this.topNode,t)}cursorAt(t,e=0,n=0){let r=Yo.get(this)||this.topNode,i=new fl(r);return i.moveTo(t,e),Yo.set(this,i._tree),i}get topNode(){return new sl(this,0,0,null)}resolve(t,e=0){let n=rl(Yo.get(this)||this.topNode,t,e,!1);return Yo.set(this,n),n}resolveInner(t,e=0){let n=rl(Zo.get(this)||this.topNode,t,e,!0);return Zo.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let r=t.resolveInner(e,n),i=null;for(let t=r instanceof sl?r:r.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(i||(i=[r])).push(s.resolve(e,n)),t=s}else{let s=zo.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new sl(s.tree,s.overlay[0].from+t.from,-1,t);(i||(i=[r])).push(rl(o,e,n,!1))}}return i?cl(i):r}(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t,s=t.mode||0,o=(s&Ko.IncludeAnonymous)>0;for(let t=this.cursor(s|Ko.IncludeAnonymous);;){let s=!1;if(t.from<=i&&t.to>=r&&(!o&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&n&&(o||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:pl(jo.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new Jo(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new Jo(jo.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Ho,reused:s=[],minRepeatType:o=r.types.length}=t,l=Array.isArray(n)?new tl(n,n.length):n,a=r.types,u=0,c=0;function h(t,e,n,R,O,w){let{id:x,start:y,end:b,size:k}=l,C=c;for(;k<0;){if(l.next(),-1==k){let e=s[x];return n.push(e),void R.push(y-t)}if(-3==k)return void(u=x);if(-4==k)return void(c=x);throw new RangeError(`Unrecognized record size: ${k}`)}let T,S,A=a[x],P=y-t;if(b-y<=i&&(S=p(l.pos-e,O))){let e=new Uint16Array(S.size-S.skip),n=l.pos-S.size,i=e.length;for(;l.pos>n;)i=m(S.start,e,i);T=new el(e,b-S.start,r),P=S.start-t}else{let t=l.pos-k;l.next();let e=[],n=[],r=x>=o?x:-1,s=0,a=b;for(;l.pos>t;)r>=0&&l.id==r&&l.size>=0?(l.end<=a-i&&(v(e,n,y,s,l.end,a,r,C),s=e.length,a=l.end),l.next()):w>2500?f(y,t,e,n):h(y,t,e,n,r,w+1);if(r>=0&&s>0&&s<e.length&&v(e,n,y,s,y,a,r,C),e.reverse(),n.reverse(),r>-1&&s>0){let t=d(A);T=pl(A,e,n,0,e.length,0,b-y,t,t)}else T=g(A,e,n,b-y,C-b)}n.push(T),R.push(P)}function f(t,e,n,s){let o=[],a=0,u=-1;for(;l.pos>e;){let{id:t,start:e,end:n,size:r}=l;if(r>4)l.next();else{if(u>-1&&e<u)break;u<0&&(u=n-i),o.push(t,e,n),a++,l.next()}}if(a){let e=new Uint16Array(4*a),i=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-i,e[n++]=o[t+2]-i,e[n++]=n;n.push(new el(e,o[2]-i,r)),s.push(i-t)}}function d(t){return(e,n,r)=>{let i,s,o=0,l=e.length-1;if(l>=0&&(i=e[l])instanceof Jo){if(!l&&i.type==t&&i.length==r)return i;(s=i.prop(Xo.lookAhead))&&(o=n[l]+i.length+s)}return g(t,e,n,r,o)}}function v(t,e,n,i,s,o,l,a){let u=[],c=[];for(;t.length>i;)u.push(t.pop()),c.push(e.pop()+n-s);t.push(g(r.types[l],u,c,o-s,a-o)),e.push(s-n)}function g(t,e,n,r,i=0,s){if(u){let t=[Xo.contextHash,u];s=s?[t].concat(s):[t]}if(i>25){let t=[Xo.lookAhead,i];s=s?[t].concat(s):[t]}return new Jo(t,e,n,r,s)}function p(t,e){let n=l.fork(),r=0,s=0,a=0,u=n.end-i,c={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){c.size=r,c.start=s,c.skip=a,a+=4,r+=4,n.next();continue}let l=n.pos-t;if(t<0||l<i||n.start<u)break;let h=n.id>=o?4:0,f=n.start;for(n.next();n.pos>l;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=o&&(h+=4);n.next()}s=f,r+=t,a+=h}return(e<0||r==t)&&(c.size=r,c.start=s,c.skip=a),c.size>4?c:void 0}function m(t,e,n){let{id:r,start:i,end:s,size:a}=l;if(l.next(),a>=0&&r<o){let o=n;if(a>4){let r=l.pos-(a-4);for(;l.pos>r;)n=m(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=i-t,e[--n]=r}else-3==a?u=r:-4==a&&(c=r);return n}let R=[],O=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,R,O,-1,0);let w=null!==(e=t.length)&&void 0!==e?e:R.length?O[0]+R[0].length:0;return new Jo(a[t.topID],R.reverse(),O.reverse(),w)}(t)}}Jo.empty=new Jo(jo.none,[],[],0);class tl{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new tl(this.buffer,this.index)}}class el{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return jo.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return i+"("+s.join(",")+")"}findChild(t,e,n,r,i){let{buffer:s}=this,o=-1;for(let l=t;l!=e&&!(nl(i,r,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,e,n){let r=this.buffer,i=new Uint16Array(e-t),s=0;for(let o=t,l=0;o<e;){i[l++]=r[o++],i[l++]=r[o++]-n;let e=i[l++]=r[o++]-n;i[l++]=r[o++]-t,s=Math.max(s,e)}return new el(i,s,this.set)}}function nl(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function rl(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof sl&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=r?0:Ko.IgnoreOverlays;if(r)for(let r=t,o=r.parent;o;r=o,o=r.parent)r instanceof sl&&r.index<0&&(null===(i=o.enter(e,n,s))||void 0===i?void 0:i.from)!=r.from&&(t=o);for(;;){let r=t.enter(e,n,s);if(!r)return t;t=r}}class il{cursor(t=0){return new fl(this,t)}getChild(t,e=null,n=null){let r=ol(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return ol(this,t,e,n)}resolve(t,e=0){return rl(this,t,e,!1)}resolveInner(t,e=0){return rl(this,t,e,!0)}matchContext(t){return ll(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class sl extends il{constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],u=l[t]+s.from;if(nl(r,n,u,u+a.length))if(a instanceof el){if(i&Ko.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,e,n-u,r);if(o>-1)return new ul(new al(s,a,t,u),null,o)}else if(i&Ko.IncludeAnonymous||!a.type.isAnonymous||dl(a)){let o;if(!(i&Ko.IgnoreMounts)&&(o=zo.get(a))&&!o.overlay)return new sl(o.tree,u,t,s);let l=new sl(a,u,t,s);return i&Ko.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,r)}}if(i&Ko.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&Ko.IgnoreOverlays)&&(r=zo.get(this._tree))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new sl(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ol(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(null!=n)for(let t=!1;!t;)if(t=i.type.is(n),!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function ll(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class al{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class ul extends il{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new ul(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&Ko.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new ul(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new ul(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new ul(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let s=n.buffer[this.index+1];t.push(n.slice(r,i,s)),e.push(0)}return new Jo(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function cl(t){if(!t.length)return null;let e=0,n=t[0];for(let r=1;r<t.length;r++){let i=t[r];(i.from>n.from||i.to<n.to)&&(n=i,e=r)}let r=n instanceof sl&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new hl(i,n)}class hl{constructor(t,e){this.heads=t,this.node=e}get next(){return cl(this.heads)}}class fl{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof sl)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof sl?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&Ko.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ko.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Ko.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n._tree.children.length;r!=i;r+=t){let t=n._tree.children[r];if(this.mode&Ko.IncludeAnonymous||t instanceof el||!t.type.isAnonymous||dl(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new ul(this.buffer,e,this.stack[t]);return this.bufferNode=new ul(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return ll(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return ll(this.node,t,r);let s=n[e.buffer[this.stack[i]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function dl(t){return t.children.some((t=>t instanceof el||!t.type.isAnonymous||dl(t)))}const vl=new WeakMap;function gl(t,e){if(!t.isAnonymous||e instanceof el||e.type!=t)return 1;let n=vl.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Jo)){n=1;break}n+=gl(t,r)}vl.set(e,n)}return n}function pl(t,e,n,r,i,s,o,l,a){let u=0;for(let n=r;n<i;n++)u+=gl(t,e[n]);let c=Math.ceil(1.5*u/8),h=[],f=[];return function e(n,r,i,o,l){for(let u=i;u<o;){let i=u,d=r[u],v=gl(t,n[u]);for(u++;u<o;u++){let e=gl(t,n[u]);if(v+e>=c)break;v+=e}if(u==i+1){if(v>c){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+l);continue}h.push(n[i])}else{let e=r[u-1]+n[u-1].length-d;h.push(pl(t,n,r,i,u,d,e,null,a))}f.push(d+l-s)}}(e,n,r,i,0),(l||a)(h,f,o)}class ml{constructor(t,e,n,r,i=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new ml(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,s=t.length?t[0]:null;for(let o=0,l=0,a=0;;o++){let u=o<e.length?e[o]:null,c=u?u.fromA:1e9;if(c-l>=n)for(;s&&s.from<c;){let e=s;if(l>=e.from||c<=e.to||a){let t=Math.max(e.from,l)-a,n=Math.min(e.to,c)-a;e=t>=n?null:new ml(t,n,e.tree,e.offset+a,o>0,!!u)}if(e&&r.push(e),s.to>c)break;s=i<t.length?t[i++]:null}if(!u)break;l=u.toA,a=u.toA-u.toB}return r}}class Rl{startParse(t,e,n){return"string"==typeof t&&(t=new Ol(t)),n=n?n.length?n.map((t=>new Vo(t.from,t.to))):[new Vo(0,0)]:[new Vo(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}class Ol{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Xo({perNode:!0});let wl=0;class xl{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=wl++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new xl([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new bl;return e=>e.modified.indexOf(t)>-1?e:bl.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let yl=0;class bl{constructor(){this.instances=[],this.id=yl++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let r=[],i=new xl(r,t,e);for(let t of e)t.instances.push(i);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of s)r.push(bl.get(e,t));return i}}function kl(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,l=n[o];if(!l)throw new RangeError("Invalid path: "+t);let a=new Tl(r,i,o>0?n.slice(0,o):null);e[l]=a.sort(e[l])}}return Cl.add(e)}const Cl=new Xo;class Tl{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function Sl(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:r,all:i=null}=e||{};return{style:t=>{let e=i;for(let r of t)for(let t of r.set){let r=n[t.id];if(r){e=e?e+" "+r:r;break}}return e},scope:r}}function Al(t,e,n,r=0,i=t.length){let s=new Pl(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}Tl.empty=new Tl([],2,null);class Pl{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i){let{type:s,from:o,to:l}=t;if(o>=n||l<=e)return;s.isTop&&(i=this.highlighters.filter((t=>!t.scope||t.scope(s))));let a=r,u=function(t){let e=t.type.prop(Cl);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||Tl.empty,c=function(t,e){let n=null;for(let r of t){let t=r.style(e);t&&(n=n?n+" "+t:t)}return n}(i,u.tags);if(c&&(a&&(a+=" "),a+=c,1==u.mode&&(r+=(r?" ":"")+c)),this.startSpan(Math.max(e,o),a),u.opaque)return;let h=t.tree&&t.tree.prop(Xo.mounted);if(h&&h.overlay){let s=t.node.enter(h.overlay[0].from+o,1),u=this.highlighters.filter((t=>!t.scope||t.scope(h.tree.type))),c=t.firstChild();for(let f=0,d=o;;f++){let v=f<h.overlay.length?h.overlay[f]:null,g=v?v.from+o:l,p=Math.max(e,d),m=Math.min(n,g);if(p<m&&c)for(;t.from<m&&(this.highlightRange(t,p,m,r,i),this.startSpan(Math.min(m,t.to),a),!(t.to>=g)&&t.nextSibling()););if(!v||g>n)break;d=v.to+o,d>e&&(this.highlightRange(s.cursor(),Math.max(e,v.from+o),Math.min(n,d),"",u),this.startSpan(Math.min(n,d),a))}c&&t.parent()}else if(t.firstChild()){h&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i),this.startSpan(Math.min(n,t.to),a)}}while(t.nextSibling());t.parent()}}}const El=xl.define,_l=El(),Ll=El(),Dl=El(Ll),Ql=El(Ll),Il=El(),Nl=El(Il),Ml=El(Il),$l=El(),Fl=El($l),Bl=El(),Ul=El(),Hl=El(),ql=El(Hl),Vl=El(),Xl={comment:_l,lineComment:El(_l),blockComment:El(_l),docComment:El(_l),name:Ll,variableName:El(Ll),typeName:Dl,tagName:El(Dl),propertyName:Ql,attributeName:El(Ql),className:El(Ll),labelName:El(Ll),namespace:El(Ll),macroName:El(Ll),literal:Il,string:Nl,docString:El(Nl),character:El(Nl),attributeValue:El(Nl),number:Ml,integer:El(Ml),float:El(Ml),bool:El(Il),regexp:El(Il),escape:El(Il),color:El(Il),url:El(Il),keyword:Bl,self:El(Bl),null:El(Bl),atom:El(Bl),unit:El(Bl),modifier:El(Bl),operatorKeyword:El(Bl),controlKeyword:El(Bl),definitionKeyword:El(Bl),moduleKeyword:El(Bl),operator:Ul,derefOperator:El(Ul),arithmeticOperator:El(Ul),logicOperator:El(Ul),bitwiseOperator:El(Ul),compareOperator:El(Ul),updateOperator:El(Ul),definitionOperator:El(Ul),typeOperator:El(Ul),controlOperator:El(Ul),punctuation:Hl,separator:El(Hl),bracket:ql,angleBracket:El(ql),squareBracket:El(ql),paren:El(ql),brace:El(ql),content:$l,heading:Fl,heading1:El(Fl),heading2:El(Fl),heading3:El(Fl),heading4:El(Fl),heading5:El(Fl),heading6:El(Fl),contentSeparator:El($l),list:El($l),quote:El($l),emphasis:El($l),strong:El($l),link:El($l),monospace:El($l),strikethrough:El($l),inserted:El(),deleted:El(),changed:El(),invalid:El(),meta:Vl,documentMeta:El(Vl),annotation:El(Vl),processingInstruction:El(Vl),definition:xl.defineModifier(),constant:xl.defineModifier(),function:xl.defineModifier(),standard:xl.defineModifier(),local:xl.defineModifier(),special:xl.defineModifier()};Sl([{tag:Xl.link,class:"tok-link"},{tag:Xl.heading,class:"tok-heading"},{tag:Xl.emphasis,class:"tok-emphasis"},{tag:Xl.strong,class:"tok-strong"},{tag:Xl.keyword,class:"tok-keyword"},{tag:Xl.atom,class:"tok-atom"},{tag:Xl.bool,class:"tok-bool"},{tag:Xl.url,class:"tok-url"},{tag:Xl.labelName,class:"tok-labelName"},{tag:Xl.inserted,class:"tok-inserted"},{tag:Xl.deleted,class:"tok-deleted"},{tag:Xl.literal,class:"tok-literal"},{tag:Xl.string,class:"tok-string"},{tag:Xl.number,class:"tok-number"},{tag:[Xl.regexp,Xl.escape,Xl.special(Xl.string)],class:"tok-string2"},{tag:Xl.variableName,class:"tok-variableName"},{tag:Xl.local(Xl.variableName),class:"tok-variableName tok-local"},{tag:Xl.definition(Xl.variableName),class:"tok-variableName tok-definition"},{tag:Xl.special(Xl.variableName),class:"tok-variableName2"},{tag:Xl.definition(Xl.propertyName),class:"tok-propertyName tok-definition"},{tag:Xl.typeName,class:"tok-typeName"},{tag:Xl.namespace,class:"tok-namespace"},{tag:Xl.className,class:"tok-className"},{tag:Xl.macroName,class:"tok-macroName"},{tag:Xl.propertyName,class:"tok-propertyName"},{tag:Xl.operator,class:"tok-operator"},{tag:Xl.comment,class:"tok-comment"},{tag:Xl.meta,class:"tok-meta"},{tag:Xl.invalid,class:"tok-invalid"},{tag:Xl.punctuation,class:"tok-punctuation"}]);var zl;const Wl=new Xo;function jl(t){return $.define({combine:t?e=>e.concat(t):void 0})}const Gl=new Xo;class Yl{constructor(t,e,n=[],r=""){this.data=t,this.name=r,Tt.prototype.hasOwnProperty("tree")||Object.defineProperty(Tt.prototype,"tree",{get(){return Jl(this)}}),this.parser=e,this.extension=[aa.of(this),Tt.languageData.of(((t,e,n)=>{let r=Zl(t,e,n),i=r.type.prop(Wl);if(!i)return[];let s=t.facet(i),o=r.type.prop(Gl);if(o){let i=r.resolve(e-r.from,n);for(let e of o)if(e.test(i,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e,n=-1){return Zl(t,e,n).type.prop(Wl)==this.data}findRegions(t){let e=t.facet(aa);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(Wl)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(Xo.mounted);if(i){if(i.tree.prop(Wl)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof Jo&&r(i,t.positions[n]+e)}};return r(Jl(t),0),n}get allowsNesting(){return!0}}function Zl(t,e,n){let r=t.facet(aa),i=Jl(t).topNode;if(!r||r.allowsNesting)for(let t=i;t;t=t.enter(e,n,Ko.ExcludeBuffers))t.type.isTop&&(i=t);return i}Yl.setState=vt.define();class Kl extends Yl{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=jl(t.languageData);return new Kl(e,t.parser.configure({props:[Wl.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new Kl(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Jl(t){let e=t.field(Yl.state,!1);return e?e.tree:Jo.empty}class ta{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let ea=null;class na{constructor(t,e,n=[],r,i,s,o,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new na(t,e,[],Jo.empty,0,n,[],null)}startParse(){return this.parser.startParse(new ta(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=Jo.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(ml.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(ml.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=ea;ea=this;try{return t()}finally{ea=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=ra(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=ml.applyChanges(n,e),r=Jo.empty,i=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&o.push({from:n,to:r})}}}return new na(this.parser,e,n,r,i,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=ra(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Rl{createParse(e,n,r){let i=r[0].from,s=r[r.length-1].to,o={parsedPos:i,advance(){let e=ea;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new Jo(jo.none,[],[],s-i)},stoppedAt:null,stopAt(){}};return o}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return ea}}function ra(t,e,n){return ml.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ia{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new ia(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=na.create(t.facet(aa).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new ia(n)}}Yl.state=X.define({create:ia.init,update(t,e){for(let t of e.effects)if(t.is(Yl.setState))return t.value;return e.startState.facet(aa)!=e.state.facet(aa)?ia.init(e.state):t.apply(e)}});let sa=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(sa=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const oa="undefined"!=typeof navigator&&(null===(zl=navigator.scheduling)||void 0===zl?void 0:zl.isInputPending)?()=>navigator.scheduling.isInputPending():null,la=tr.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Yl.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Yl.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=sa(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(Yl.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!oa?Math.max(25,t.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work((()=>oa&&oa()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Yl.setState.of(new ia(i.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>Yn(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),aa=$.define({combine:t=>t.length?t[0]:null,enables:t=>[Yl.state,la,Zi.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});const ua=$.define(),ca=$.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function ha(t){let e=t.facet(ca);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function fa(t,e){let n="",r=t.tabSize,i=t.facet(ca)[0];if("\t"==i){for(;e>=r;)n+="\t",e-=r;i=" "}for(let t=0;t<e;t++)n+=i;return n}function da(t,e){t instanceof Tt&&(t=new va(t));for(let n of t.state.facet(ua)){let r=n(t,e);if(void 0!==r)return r}let n=Jl(t.state);return n.length>=e?function(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let t=[];for(let e=i;e!=r.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)r={node:t[e],next:r}}return pa(r,t,n)}(t,n,e):null}class va{constructor(t,e={}){this.state=t,this.options=e,this.unit=ha(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(i+=s-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return Vt(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ga=new Xo;function pa(t,e,n){for(let r=t;r;r=r.next){let t=ma(r.node);if(t)return t(Oa.create(e,n,r))}return 0}function ma(t){let e=t.type.prop(ga);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(Xo.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>xa(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?Ra:null}function Ra(){return 0}class Oa extends va{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new Oa(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(wa(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return pa(this.context.next,this.base,this.pos)}}function wa(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function xa(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==t.pos+o,a=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<o?n:null;t=i.to}}(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}function ya({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const ba=$.define(),ka=new Xo;function Ca(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Ta(t,e,n){for(let r of t.facet(ba)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=Jl(t);if(r.length<n)return null;let i=null;for(let s=r.resolveStack(n,1);s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(i&&o.from<e)break;let l=o.type.prop(ka);if(l&&(o.to<r.length-50||r.length==t.doc.length||!Ca(o))){let r=l(o,t);r&&r.from<=n&&r.from>=e&&r.to>n&&(i=r)}}return i}(t,e,n)}function Sa(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Aa=vt.define({map:Sa}),Pa=vt.define({map:Sa});function Ea(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const _a=X.define({create:()=>an.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Aa)&&!Da(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet($a),i=r?an.replace({widget:new Ha(r(e.state,n.value))}):Ua;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Pa)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>Zi.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(Ua.range(r,i))}return an.set(e,!0)}});function La(t,e,n){var r;let i=null;return null===(r=t.field(_a,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function Da(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function Qa(t,e){return t.field(_a,!1)?e:e.concat(vt.appendConfig.of(Fa()))}function Ia(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Zi.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Na=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of Ea(t)){let n=Ta(t.state,e.from,e.to);if(n)return t.dispatch({effects:Qa(t.state,[Aa.of(n),Ia(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(_a,!1))return!1;let e=[];for(let n of Ea(t)){let r=La(t.state,n.from,n.to);r&&e.push(Pa.of(r),Ia(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=Ta(e,i.from,i.to);s&&n.push(Aa.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:Qa(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(_a,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(Pa.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],Ma={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},$a=$.define({combine:t=>St(t,Ma)});function Fa(t){let e=[_a,za];return t&&e.push($a.of(t)),e}function Ba(t,e){let{state:n}=t,r=n.facet($a),i=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=La(t.state,n.from,n.to);r&&t.dispatch({effects:Pa.of(r)}),e.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const Ua=an.replace({widget:new class extends on{toDOM(t){return Ba(t,null)}}});class Ha extends on{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Ba(t,this.value)}}const qa={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Va extends wo{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function Xa(t={}){let e=Object.assign(Object.assign({},qa),t),n=new Va(e,!0),r=new Va(e,!1),i=tr.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(aa)!=t.state.facet(aa)||t.startState.field(_a,!1)!=t.state.field(_a,!1)||Jl(t.startState)!=Jl(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Dt;for(let i of t.viewportLineBlocks){let s=La(t.state,i.from,i.to)?r:Ta(t.state,i.from,i.to)?n:null;s&&e.add(i.from,i.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[i,ko({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Lt.empty},initialSpacer:()=>new Va(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let r=La(t.state,e.from,e.to);if(r)return t.dispatch({effects:Pa.of(r)}),!0;let i=Ta(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:Aa.of(i)}),!0)}})}),Fa()]}const za=Zi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Wa{constructor(t,e){let n;function r(t){let e=Gt.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const i="string"==typeof e.all?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof Yl?t=>t.prop(Wl)==s.data:s?t=>t==s:void 0,this.style=Sl(t.map((t=>({tag:t.tag,class:t.class||r(Object.assign({},t,{tag:null}))}))),{all:i}).style,this.module=n?new Gt(n):null,this.themeType=e.themeType}static define(t,e){return new Wa(t,e||{})}}const ja=$.define(),Ga=$.define({combine:t=>t.length?[t[0]]:null});function Ya(t){let e=t.facet(ja);return e.length?e:t.facet(Ga)}function Za(t,e){let n,r=[Ja];return t instanceof Wa&&(t.module&&r.push(Zi.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?r.push(Ga.of(t)):n?r.push(ja.computeN([Zi.darkTheme],(e=>e.facet(Zi.darkTheme)==("dark"==n)?[t]:[]))):r.push(ja.of(t)),r}class Ka{constructor(t){this.markCache=Object.create(null),this.tree=Jl(t.state),this.decorations=this.buildDeco(t,Ya(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=Jl(t.state),n=Ya(t.state),r=n!=Ya(t.startState),{viewport:i}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<i.to&&!r&&e.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=i.to)}buildDeco(t,e){if(!e||!this.tree.length)return an.none;let n=new Dt;for(let{from:r,to:i}of t.visibleRanges)Al(this.tree,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=an.mark({class:r})))}),r,i);return n.finish()}}const Ja=Z.high(tr.fromClass(Ka,{decorations:t=>t.decorations})),tu=Wa.define([{tag:Xl.meta,color:"#404740"},{tag:Xl.link,textDecoration:"underline"},{tag:Xl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Xl.emphasis,fontStyle:"italic"},{tag:Xl.strong,fontWeight:"bold"},{tag:Xl.strikethrough,textDecoration:"line-through"},{tag:Xl.keyword,color:"#708"},{tag:[Xl.atom,Xl.bool,Xl.url,Xl.contentSeparator,Xl.labelName],color:"#219"},{tag:[Xl.literal,Xl.inserted],color:"#164"},{tag:[Xl.string,Xl.deleted],color:"#a11"},{tag:[Xl.regexp,Xl.escape,Xl.special(Xl.string)],color:"#e40"},{tag:Xl.definition(Xl.variableName),color:"#00f"},{tag:Xl.local(Xl.variableName),color:"#30a"},{tag:[Xl.typeName,Xl.namespace],color:"#085"},{tag:Xl.className,color:"#167"},{tag:[Xl.special(Xl.variableName),Xl.macroName],color:"#256"},{tag:Xl.definition(Xl.propertyName),color:"#00c"},{tag:Xl.comment,color:"#940"},{tag:Xl.invalid,color:"#f00"}]),eu=Zi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),nu=1e4,ru="()[]{}",iu=$.define({combine:t=>St(t,{afterCursor:!0,brackets:ru,maxScanDistance:nu,renderMatch:lu})}),su=an.mark({class:"cm-matchingBracket"}),ou=an.mark({class:"cm-nonmatchingBracket"});function lu(t){let e=[],n=t.matched?su:ou;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const au=X.define({create:()=>an.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(iu);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=vu(e.state,t.head,-1,r)||t.head>0&&vu(e.state,t.head-1,1,r)||r.afterCursor&&(vu(e.state,t.head,1,r)||t.head<e.state.doc.length&&vu(e.state,t.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return an.set(n,!0)},provide:t=>Zi.decorations.from(t)}),uu=[au,eu];function cu(t={}){return[iu.of(t),uu]}const hu=new Xo;function fu(t,e,n){let r=t.prop(e<0?Xo.openedBy:Xo.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function du(t){let e=t.type.prop(hu);return e?e(t.node):t}function vu(t,e,n,r={}){let i=r.maxScanDistance||nu,s=r.brackets||ru,o=Jl(t),l=o.resolveInner(e,n);for(let r=l;r;r=r.parent){let i=fu(r.type,n,s);if(i&&r.from<r.to){let o=du(r);if(o&&(n>0?e>=o.from&&e<o.to:e>o.from&&e<=o.to))return gu(t,e,n,r,o,i,s)}}return function(t,e,n,r,i,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let l=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||r.resolveInner(l+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:u,end:{from:l+t,to:l+t+1},matched:e>>1==a>>1};h--}}n>0&&(t+=s.length)}return c.done?{start:u,matched:!1}:null}(t,e,n,o,l.type,i,s)}function gu(t,e,n,r,i,s,o){let l=r.parent,a={from:i.from,to:i.to},u=0,c=null==l?void 0:l.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==u&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=du(c);return{start:a,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(fu(c.type,n,o))u++;else if(fu(c.type,-n,o)){if(0==u){let t=du(c);return{start:a,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}u--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const pu=Object.create(null),mu=[jo.none],Ru=[],Ou=Object.create(null),wu=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])wu[t]=yu(pu,e);function xu(t,e){Ru.indexOf(t)>-1||(Ru.push(t),console.warn(e))}function yu(t,e){let n=[];for(let r of e.split(" ")){let e=[];for(let n of r.split(".")){let r=t[n]||Xl[n];r?"function"==typeof r?e.length?e=e.map(r):xu(n,`Modifier ${n} used at start of tag`):e.length?xu(n,`Tag ${n} used as modifier`):e=Array.isArray(r)?r:[r]:xu(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map((t=>t.id)),s=Ou[i];if(s)return s.id;let o=Ou[i]=jo.define({id:mu.length,name:r,props:[kl({[r]:n})]});return mu.push(o),o.id}mn.RTL,mn.LTR;function bu(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}const ku=bu(Eu,0),Cu=bu(Pu,0),Tu=bu(((t,e)=>Pu(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}(e))),0);function Su(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Au=50;function Pu(t,e,n=e.selection.ranges){let r=n.map((t=>Su(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let s,o,l=t.sliceDoc(r-Au,r),a=t.sliceDoc(i,i+Au),u=/\s*$/.exec(l)[0].length,c=/^\s*/.exec(a)[0].length,h=l.length-u;if(l.slice(h-e.length,h)==e&&a.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};i-r<=2*Au?s=o=t.sliceDoc(r,i):(s=t.sliceDoc(r,r+Au),o=t.sliceDoc(i-Au,i));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(o)[0].length,v=o.length-d-n.length;return s.slice(f,f+e.length)==e&&o.slice(v,v+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:s,close:o}=e;t.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:t}}return null}function Eu(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:t,to:s}of n){let n=r.length,o=1e9,l=Su(e,t).line;if(l){for(let n=t;n<=s;){let a=e.doc.lineAt(n);if(a.from>i&&(t==s||s>a.from)){i=a.from;let t=/^\s*/.exec(a.text)[0].length,e=t==a.length,n=a.text.slice(t,t+l.length)==l?t:-1;t<a.text.length&&t<o&&(o=t),r.push({line:a,comment:n,token:l,indent:t,empty:e,single:!1})}n=a.to+1}if(o<1e9)for(let t=n;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=o);r.length==n+1&&(r[n].single=!0)}}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:s,single:o}of r)!o&&s||t.push({from:e.from+i,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,s=r+i.length;" "==e.text[s-e.from]&&s++,t.push({from:r,to:s})}return{changes:t}}return null}const _u=ht.define(),Lu=ht.define(),Du=$.define(),Qu=$.define({combine:t=>St(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}),Iu=X.define({create:()=>Ku.empty,update(t,e){let n=e.state.facet(Qu),r=e.annotation(_u);if(r){let i=Hu.fromTransaction(e,r.selection),s=r.side,o=0==s?t.undone:t.done;return o=i?qu(o,o.length,n.minDepth,i):Wu(o,e.startState.selection),new Ku(0==s?r.rest:o,0==s?o:r.rest)}let i=e.annotation(Lu);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(gt.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Hu.fromTransaction(e),o=e.annotation(gt.time),l=e.annotation(gt.userEvent);return s?t=t.addChanges(s,o,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,l,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new Ku(t.done.map(Hu.fromJSON),t.undone.map(Hu.fromJSON))});function Nu(t={}){return[Iu,Qu.of(t),Zi.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?$u:"historyRedo"==t.inputType?Fu:null;return!!n&&(t.preventDefault(),n(e))}})]}function Mu(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Iu,!1);if(!i)return!1;let s=i.pop(t,n,e);return!!s&&(r(s),!0)}}const $u=Mu(0,!1),Fu=Mu(1,!1),Bu=Mu(0,!0),Uu=Mu(1,!0);class Hu{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new Hu(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Hu(t.changes&&S.fromJSON(t.changes),[],t.mapped&&T.fromJSON(t.mapped),t.startSelection&&I.fromJSON(t.startSelection),t.selectionsAfter.map(I.fromJSON))}static fromTransaction(t,e){let n=Xu;for(let e of t.startState.facet(Du)){let r=e(t);r.length&&(n=n.concat(r))}return!n.length&&t.changes.empty?null:new Hu(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,Xu)}static selection(t){return new Hu(void 0,Xu,void 0,void 0,t)}}function qu(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function Vu(t,e){return t.length?e.length?t.concat(e):t:e}const Xu=[],zu=200;function Wu(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-zu));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),qu(t,t.length-1,1e9,n.setSelAfter(r)))}return[Hu.selection([e])]}function ju(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Gu(t,e){if(!t.length)return t;let n=t.length,r=Xu;for(;n;){let i=Yu(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Hu.selection(r)]:Xu}function Yu(t,e,n){let r=Vu(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):Xu,n);if(!t.changes)return Hu.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Hu(i,vt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const Zu=/^(input\.type|delete)($|\.)/;class Ku{constructor(t,e,n=0,r=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Ku(this.done,this.undone):this}addChanges(t,e,n,r,i){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||Zu.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&i<=o&&(r=!0)}})),r}(o.changes,t.changes))||"input.type.compose"==n)?qu(s,s.length-1,r.minDepth,new Hu(t.changes.compose(o.changes),Vu(t.effects,o.effects),o.mapped,o.startSelection,Xu)):qu(s,s.length,r.minDepth,t),new Ku(s,Xu,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Xu;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(i[i.length-1],t)?this:new Ku(Wu(this.done,t),this.undone,e,n)}addMapping(t){return new Ku(Gu(this.done,t),Gu(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],s=i.selectionsAfter[0]||e.selection;if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:_u.of({side:t,rest:ju(r),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?Xu:r.slice(0,r.length-1);return i.mapped&&(n=Gu(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:_u.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}Ku.empty=new Ku(Xu,Xu);const Ju=[{key:"Mod-z",run:$u,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Fu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Fu,preventDefault:!0},{key:"Mod-u",run:Bu,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Uu,preventDefault:!0}];function tc(t,e){return I.create(t.ranges.map(e),t.mainIndex)}function ec(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function nc({state:t,dispatch:e},n){let r=tc(t.selection,n);return!r.eq(t.selection,!0)&&(e(ec(t,r)),!0)}function rc(t,e){return I.cursor(e?t.to:t.from)}function ic(t,e){return nc(t,(n=>n.empty?t.moveByChar(n,e):rc(n,e)))}function sc(t){return t.textDirectionAt(t.state.selection.main.head)==mn.LTR}const oc=t=>ic(t,!sc(t)),lc=t=>ic(t,sc(t));function ac(t,e){return nc(t,(n=>n.empty?t.moveByGroup(n,e):rc(n,e)))}"undefined"!=typeof Intl&&Intl.Segmenter;function uc(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function cc(t,e,n){let r,i,s=Jl(t).resolveInner(e.head),o=n?Xo.closedBy:Xo.openedBy;for(let r=e.head;;){let e=n?s.childAfter(r):s.childBefore(r);if(!e)break;uc(t,e,o)?s=e:r=n?e.to:e.from}return i=s.type.prop(o)&&(r=n?vu(t,s.from,1):vu(t,s.to,-1))&&r.matched?n?r.end.to:r.end.from:n?s.to:s.from,I.cursor(i,n?-1:1)}function hc(t,e){return nc(t,(n=>{if(!n.empty)return rc(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const fc=t=>hc(t,!1),dc=t=>hc(t,!0);function vc(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,i=0;if(n){for(let e of t.state.facet(Zi.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}e=t.scrollDOM.clientHeight-r-i}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function gc(t,e){let n,r=vc(t),{state:i}=t,s=tc(i.selection,(n=>n.empty?t.moveVertically(n,e,r.height):rc(n,e)));if(s.eq(i.selection))return!1;if(r.selfScroll){let e=t.coordsAtPos(i.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),l=o.top+r.marginTop,a=o.bottom-r.marginBottom;e&&e.top>l&&e.bottom<a&&(n=Zi.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-l}))}return t.dispatch(ec(i,s),{effects:n}),!0}const pc=t=>gc(t,!1),mc=t=>gc(t,!0);function Rc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=I.cursor(r.from+n))}return i}function Oc(t,e,n){let r=!1,i=tc(t.selection,(e=>{let i=vu(t,e.head,-1)||vu(t,e.head,1)||e.head>0&&vu(t,e.head-1,1)||e.head<t.doc.length&&vu(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let s=i.start.from==e.head?i.end.to:i.end.from;return n?I.range(e.anchor,s):I.cursor(s)}));return!!r&&(e(ec(t,i)),!0)}function wc(t,e){let n=tc(t.state.selection,(t=>{let n=e(t);return I.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(ec(t.state,n)),!0)}function xc(t,e){return wc(t,(n=>t.moveByChar(n,e)))}const yc=t=>xc(t,!sc(t)),bc=t=>xc(t,sc(t));function kc(t,e){return wc(t,(n=>t.moveByGroup(n,e)))}function Cc(t,e){return wc(t,(n=>t.moveVertically(n,e)))}const Tc=t=>Cc(t,!1),Sc=t=>Cc(t,!0);function Ac(t,e){return wc(t,(n=>t.moveVertically(n,e,vc(t).height)))}const Pc=t=>Ac(t,!1),Ec=t=>Ac(t,!0),_c=({state:t,dispatch:e})=>(e(ec(t,{anchor:0})),!0),Lc=({state:t,dispatch:e})=>(e(ec(t,{anchor:t.doc.length})),!0),Dc=({state:t,dispatch:e})=>(e(ec(t,{anchor:t.selection.main.anchor,head:0})),!0),Qc=({state:t,dispatch:e})=>(e(ec(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function Ic(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange((r=>{let{from:i,to:s}=r;if(i==s){let o=e(r);o<i?(n="delete.backward",o=Nc(t,o,!1)):o>i&&(n="delete.forward",o=Nc(t,o,!0)),i=Math.min(i,o),s=Math.max(s,o)}else i=Nc(t,i,!1),s=Nc(t,s,!0);return i==s?{range:r}:{changes:{from:i,to:s},range:I.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Zi.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Nc(t,e,n){if(t instanceof Zi)for(let r of t.state.facet(Zi.atomicRanges).map((e=>e(t))))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const Mc=(t,e,n)=>Ic(t,(r=>{let i,s,o=r.from,{state:l}=t,a=l.doc.lineAt(o);if(n&&!e&&o>a.from&&o<a.from+200&&!/[^ \t]/.test(i=a.text.slice(0,o-a.from))){if("\t"==i[i.length-1])return o-1;let t=Vt(i,l.tabSize)%ha(l)||ha(l);for(let e=0;e<t&&" "==i[i.length-1-e];e++)o--;s=o}else s=p(a.text,o-a.from,e,e)+a.from,s==o&&a.number!=(e?l.doc.lines:1)?s+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(s-a.from,o-a.from))&&(s=p(a.text,s-a.from,!1,!1)+a.from);return s})),$c=t=>Mc(t,!1,!0),Fc=t=>Mc(t,!0,!1),Bc=(t,e)=>Ic(t,(n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let t=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=p(s.text,r-s.from,e)+s.from,a=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(a);if(null!=t&&u!=t)break;" "==a&&r==n.head||(t=u),r=l}return r})),Uc=t=>Bc(t,!1);function Hc(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function qc(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let e of Hc(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),o=s.length+1;if(n){r.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)i.push(I.range(Math.min(t.doc.length,n.anchor+o),Math.min(t.doc.length,n.head+o)))}else{r.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)i.push(I.range(t.anchor-o,t.head-o))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:I.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Vc(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of Hc(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Xc=Wc(!1),zc=Wc(!0);function Wc(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=e.changeByRange((r=>{let{from:i,to:s}=r,o=e.doc.lineAt(i),l=!t&&i==s&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=Jl(t).resolveInner(e),i=r.childBefore(e),s=r.childAfter(e);return i&&s&&i.to<=e&&s.from>=e&&(n=i.type.prop(Xo.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}(e,i);t&&(i=s=(s<=o.to?o:e.doc.lineAt(s)).to);let a=new va(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=da(a,i);for(null==u&&(u=Vt(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?({from:i,to:s}=l):i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let c=["",fa(e,u)];return l&&c.push(fa(e,a.lineIndent(o.from,-1))),{changes:{from:i,to:s,insert:n.of(c)},range:I.cursor(i+1+c[1].length)}}));return r(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function jc(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let s=t.changes(i);return{changes:i,range:I.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const Gc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(jc(t,((e,n)=>{n.push({from:e.from,insert:t.facet(ca)})})),{userEvent:"input.indent"})),!0),Yc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(jc(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=Vt(r,t.tabSize),s=0,o=fa(t,Math.max(0,i-ha(t)));for(;s<r.length&&s<o.length&&r.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0),Zc=[{key:"Ctrl-b",run:oc,shift:yc,preventDefault:!0},{key:"Ctrl-f",run:lc,shift:bc},{key:"Ctrl-p",run:fc,shift:Tc},{key:"Ctrl-n",run:dc,shift:Sc},{key:"Ctrl-a",run:t=>nc(t,(e=>I.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>wc(t,(e=>I.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>nc(t,(e=>I.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>wc(t,(e=>I.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:Fc},{key:"Ctrl-h",run:$c},{key:"Ctrl-k",run:t=>Ic(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:Uc},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:n.of(["",""])},range:I.cursor(t.from)})));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:p(r.text,n-r.from,!1)+r.from,s=n==r.to?n+1:p(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(i,n))},range:I.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:mc}],Kc=[{key:"ArrowLeft",run:oc,shift:yc,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>ac(t,!sc(t)),shift:t=>kc(t,!sc(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>nc(t,(e=>Rc(t,e,!sc(t)))),shift:t=>wc(t,(e=>Rc(t,e,!sc(t)))),preventDefault:!0},{key:"ArrowRight",run:lc,shift:bc,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>ac(t,sc(t)),shift:t=>kc(t,sc(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>nc(t,(e=>Rc(t,e,sc(t)))),shift:t=>wc(t,(e=>Rc(t,e,sc(t)))),preventDefault:!0},{key:"ArrowUp",run:fc,shift:Tc,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_c,shift:Dc},{mac:"Ctrl-ArrowUp",run:pc,shift:Pc},{key:"ArrowDown",run:dc,shift:Sc,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Lc,shift:Qc},{mac:"Ctrl-ArrowDown",run:mc,shift:Ec},{key:"PageUp",run:pc,shift:Pc},{key:"PageDown",run:mc,shift:Ec},{key:"Home",run:t=>nc(t,(e=>Rc(t,e,!1))),shift:t=>wc(t,(e=>Rc(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:_c,shift:Dc},{key:"End",run:t=>nc(t,(e=>Rc(t,e,!0))),shift:t=>wc(t,(e=>Rc(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:Lc,shift:Qc},{key:"Enter",run:Xc},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:$c,shift:$c},{key:"Delete",run:Fc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Uc},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Bc(t,!0)},{mac:"Mod-Backspace",run:t=>Ic(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>Ic(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat(Zc.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),Jc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>nc(t,(e=>cc(t.state,e,!sc(t)))),shift:t=>wc(t,(e=>cc(t.state,e,!sc(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>nc(t,(e=>cc(t.state,e,sc(t)))),shift:t=>wc(t,(e=>cc(t.state,e,sc(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>qc(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Vc(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>qc(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Vc(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=I.create([n.main]):n.main.empty||(r=I.create([I.cursor(n.main.head)])),!!r&&(e(ec(t,r)),!0)}},{key:"Mod-Enter",run:zc},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=Hc(t).map((({from:e,to:n})=>I.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:I.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=tc(t.selection,(e=>{var n;for(let r=Jl(t).resolveStack(e.from,1);r;r=r.next){let{node:t}=r;if((t.from<e.from&&t.to>=e.to||t.to>e.to&&t.from<=e.from)&&(null===(n=t.parent)||void 0===n?void 0:n.parent))return I.range(t.to,t.from)}return e}));return e(ec(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:Yc},{key:"Mod-]",run:Gc},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new va(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=jc(t,((e,i,s)=>{let o=da(r,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],a=fa(t,o);(l!=a||s.from<e.from+l.length)&&(n[e.from]=o,i.push({from:e.from,to:e.from+l.length,insert:a}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Hc(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=tc(e.selection,(e=>{let n;if(t.lineWrapping){let r=t.lineBlockAt(e.head),i=t.coordsAtPos(e.head,e.assoc||1);i&&(n=r.bottom+t.documentTop-i.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,n)})).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>Oc(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Su(t.state,n.from);return r.line?ku(t):!!r.block&&Tu(t)}},{key:"Alt-A",run:Cu},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat(Kc),th={key:"Tab",run:Gc,shift:Yc};function eh(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)nh(t,arguments[e]);return t}function nh(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)nh(t,e[n])}}const rh="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class ih{constructor(t,e,n=0,r=t.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(rh(t)):rh,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return x(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=y(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=b(t);let r=this.normalize(e);for(let t=0,i=n;;t++){let s=r.charCodeAt(t),o=this.match(s,i,this.bufferPos+this.bufferStart);if(t==r.length-1){if(o)return this.value=o,this;break}i==n&&t<e.length&&e.charCodeAt(t)==s&&i++}}}match(t,e,n){let r=null;for(let e=0;e<this.matches.length;e+=2){let i=this.matches[e],s=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?r={from:this.matches[e+1],to:n}:(this.matches[e]++,s=!0)),s||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?r={from:e,to:n}:this.matches.push(1,e)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(ih.prototype[Symbol.iterator]=function(){return this});const sh={from:-1,to:-1,match:/.*/.exec("")},oh="gm"+(null==/x/.unicode?"":"u");class lh{constructor(t,e,n,r=0,i=t.length){if(this.text=t,this.to=i,this.curLine="",this.done=!1,this.value=sh,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new ch(t,e,n,r,i);this.re=new RegExp(e,oh+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=hh(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=hh(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const ah=new WeakMap;class uh{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=ah.get(t);if(!r||r.from>=n||r.to<=e){let r=new uh(e,t.sliceString(e,n));return ah.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:s}=r;return s>e&&(i=t.sliceString(e,s)+i,s=e),r.to<n&&(i+=t.sliceString(r.to,n)),ah.set(t,new uh(s,i)),new uh(e,i.slice(e-s,n-s))}}class ch{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=sh,this.matchPos=hh(t,r),this.re=new RegExp(e,oh+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=uh.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=hh(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=uh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function hh(t,e){if(e>=t.length)return e;let n,r=t.lineAt(e);for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function fh(t){let e=eh("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,s,o,l,a]=n,u=l?+l.slice(1):0,c=o?+o:i.number;if(o&&a){let t=c/100;s&&(t=t*("-"==s?-1:1)+i.number/r.doc.lines),c=Math.round(r.doc.lines*t)}else o&&s&&(c=c*("-"==s?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,c))),f=I.cursor(h.from+Math.max(0,Math.min(u,h.length)));t.dispatch({effects:[dh.of(!1),Zi.scrollIntoView(f.from,{y:"center"})],selection:f}),t.focus()}return{dom:eh("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:dh.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},eh("label",t.state.phrase("Go to line"),": ",e)," ",eh("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(lh.prototype[Symbol.iterator]=ch.prototype[Symbol.iterator]=function(){return this});const dh=vt.define(),vh=X.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(dh)&&(t=n.value);return t},provide:t=>Oo.from(t,(t=>t?fh:null))}),gh=Zi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),ph={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},mh=$.define({combine:t=>St(t,ph,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function Rh(t){let e=[bh,yh];return t&&e.push(mh.of(t)),e}const Oh=an.mark({class:"cm-selectionMatch"}),wh=an.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function xh(t,e,n,r){return!(0!=n&&t(e.sliceDoc(n-1,n))==yt.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==yt.Word)}const yh=tr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(mh),{state:n}=t,r=n.selection;if(r.ranges.length>1)return an.none;let i,s=r.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return an.none;let t=n.wordAt(s.head);if(!t)return an.none;o=n.charCategorizer(s.head),i=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return an.none;if(e.wholeWords){if(i=n.sliceDoc(s.from,s.to),o=n.charCategorizer(s.head),!xh(o,n,s.from,s.to)||!function(t,e,n,r){return t(e.sliceDoc(n,n+1))==yt.Word&&t(e.sliceDoc(r-1,r))==yt.Word}(o,n,s.from,s.to))return an.none}else if(i=n.sliceDoc(s.from,s.to),!i)return an.none}let l=[];for(let r of t.visibleRanges){let t=new ih(n.doc,i,r.from,r.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!o||xh(o,n,r,i))&&(s.empty&&r<=s.from&&i>=s.to?l.push(wh.range(r,i)):(r>=s.to||i<=s.from)&&l.push(Oh.range(r,i)),l.length>e.maxMatches))return an.none}}return an.set(l)}},{decorations:t=>t.decorations}),bh=Zi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const kh=$.define({combine:t=>St(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new Jh(t),scrollToMatch:t=>Zi.scrollIntoView(t)})});class Ch{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,oh),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new Lh(this):new Ah(this)}getCursor(t,e=0,n){let r=t.doc?t:Tt.create({doc:t});return null==n&&(n=r.doc.length),this.regexp?Ph(this,r,e,n):Sh(this,r,e,n)}}class Th{constructor(t){this.spec=t}}function Sh(t,e,n,r){return new ih(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?function(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),!(e(Eh(i,n-s))==yt.Word&&e(_h(i,n-s))==yt.Word||e(_h(i,r-s))==yt.Word&&e(Eh(i,r-s))==yt.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class Ah extends Th{constructor(t){super(t)}nextMatch(t,e,n){let r=Sh(this.spec,t,n,t.doc.length).nextOverlapping();return r.done&&(r=Sh(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.spec.unquoted.length),i=Sh(this.spec,t,n,r),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=Sh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Sh(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function Ph(t,e,n,r){return new lh(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(i=e.charCategorizer(e.selection.main.head),(t,e,n)=>!n[0].length||(i(Eh(n.input,n.index))!=yt.Word||i(_h(n.input,n.index))!=yt.Word)&&(i(_h(n.input,n.index+n[0].length))!=yt.Word||i(Eh(n.input,n.index+n[0].length))!=yt.Word)):void 0},n,r);var i}function Eh(t,e){return t.slice(p(t,e,!1),e)}function _h(t,e){return t.slice(e,p(t,e))}class Lh extends Th{nextMatch(t,e,n){let r=Ph(this.spec,t,n,t.doc.length).next();return r.done&&(r=Ph(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),s=Ph(this.spec,t,i,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==e||o.from>i+10))return o;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=Ph(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Ph(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Dh=vt.define(),Qh=vt.define(),Ih=X.define({create:t=>new Nh(Wh(t).create(),null),update(t,e){for(let n of e.effects)n.is(Dh)?t=new Nh(n.value.create(),t.panel):n.is(Qh)&&(t=new Nh(t.query,n.value?zh:null));return t},provide:t=>Oo.from(t,(t=>t.panel))});class Nh{constructor(t,e){this.query=t,this.panel=e}}const Mh=an.mark({class:"cm-searchMatch"}),$h=an.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Fh=tr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ih))}update(t){let e=t.state.field(Ih);(e!=t.startState.field(Ih)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return an.none;let{view:n}=this,r=new Dt;for(let e=0,i=n.visibleRanges,s=i.length;e<s;e++){let{from:o,to:l}=i[e];for(;e<s-1&&l>i[e+1].from-500;)l=i[++e].to;t.highlight(n.state,o,l,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?$h:Mh)}))}return r.finish()}},{decorations:t=>t.decorations});function Bh(t){return e=>{let n=e.state.field(Ih,!1);return n&&n.query.spec.valid?t(e,n):Yh(e)}}const Uh=Bh(((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=I.single(r.from,r.to),s=t.state.facet(kh);return t.dispatch({selection:i,effects:[rf(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),Gh(t),!0})),Hh=Bh(((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=I.single(i.from,i.to),o=t.state.facet(kh);return t.dispatch({selection:s,effects:[rf(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),Gh(t),!0})),qh=Bh(((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!(!n||!n.length)&&(t.dispatch({selection:I.create(n.map((t=>I.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),Vh=Bh(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o,l,a=[],u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(Zi.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let e=0==a.length||a[0].from>=s.to?0:s.to-s.from-l.length;o=I.single(s.from-e,s.to-e),u.push(rf(t,s)),u.push(n.facet(kh).scrollToMatch(o.main,t))}return t.dispatch({changes:a,selection:o,effects:u,userEvent:"input.replace"}),!0})),Xh=Bh(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Zi.announce.of(r),userEvent:"input.replace.all"}),!0}));function zh(t){return t.state.facet(kh).createPanel(t)}function Wh(t,e){var n,r,i,s,o;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=t.facet(kh);return new Ch({search:(null!==(n=null==e?void 0:e.literal)&&void 0!==n?n:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==e?void 0:e.caseSensitive)&&void 0!==r?r:u.caseSensitive,literal:null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:u.literal,regexp:null!==(s=null==e?void 0:e.regexp)&&void 0!==s?s:u.regexp,wholeWord:null!==(o=null==e?void 0:e.wholeWord)&&void 0!==o?o:u.wholeWord})}function jh(t){let e=go(t,zh);return e&&e.dom.querySelector("[main-field]")}function Gh(t){let e=jh(t);e&&e==t.root.activeElement&&e.select()}const Yh=t=>{let e=t.state.field(Ih,!1);if(e&&e.panel){let n=jh(t);if(n&&n!=t.root.activeElement){let r=Wh(t.state,e.query.spec);r.valid&&t.dispatch({effects:Dh.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Qh.of(!0),e?Dh.of(Wh(t.state,e.query.spec)):vt.appendConfig.of(of)]});return!0},Zh=t=>{let e=t.state.field(Ih,!1);if(!e||!e.panel)return!1;let n=go(t,zh);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Qh.of(!1)}),!0},Kh=[{key:"Mod-f",run:Yh,scope:"editor search-panel"},{key:"F3",run:Uh,shift:Hh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Uh,shift:Hh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Zh,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let e=new ih(t.doc,t.sliceDoc(r,i));!e.next().done;){if(s.length>1e3)return!1;e.value.from==r&&(o=s.length),s.push(I.range(e.value.from,e.value.to))}return e(t.update({selection:I.create(s,o),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=go(t,fh);if(!e){let n=[dh.of(!0)];null==t.state.field(vh,!1)&&n.push(vt.appendConfig.of([vh,gh])),t.dispatch({effects:n}),e=go(t,fh)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=I.create(n.ranges.map((e=>t.wordAt(e.head)||I.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new ih(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(s){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new ih(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange(I.range(i.from,i.to),!1),effects:Zi.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Jh{constructor(t){this.view=t;let e=this.query=t.state.field(Ih).query.spec;function n(t,e,n){return eh("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=eh("input",{value:e.search,placeholder:tf(t,"Find"),"aria-label":tf(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=eh("input",{value:e.replace,placeholder:tf(t,"Replace"),"aria-label":tf(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=eh("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=eh("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=eh("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=eh("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>Uh(t)),[tf(t,"next")]),n("prev",(()=>Hh(t)),[tf(t,"previous")]),n("select",(()=>qh(t)),[tf(t,"all")]),eh("label",null,[this.caseField,tf(t,"match case")]),eh("label",null,[this.reField,tf(t,"regexp")]),eh("label",null,[this.wordField,tf(t,"by word")]),...t.state.readOnly?[]:[eh("br"),this.replaceField,n("replace",(()=>Vh(t)),[tf(t,"replace")]),n("replaceAll",(()=>Xh(t)),[tf(t,"replace all")])],eh("button",{name:"close",onclick:()=>Zh(t),"aria-label":tf(t,"close"),type:"button"},["×"])])}commit(){let t=new Ch({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Dh.of(t)}))}keydown(t){var e,n,r;e=this.view,n=t,r="search-panel",hs(ls(e.state),n,e,r)?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Hh:Uh)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),Vh(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(Dh)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(kh).top}}function tf(t,e){return t.state.phrase(e)}const ef=30,nf=/[\s\.,:;?!]/;function rf(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-ef),o=Math.min(i,n+ef),l=t.state.sliceDoc(s,o);if(s!=r.from)for(let t=0;t<ef;t++)if(!nf.test(l[t+1])&&nf.test(l[t])){l=l.slice(t);break}if(o!=i)for(let t=l.length-1;t>l.length-ef;t--)if(!nf.test(l[t-1])&&nf.test(l[t])){l=l.slice(0,t);break}return Zi.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const sf=Zi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),of=[Ih,Z.low(Fh),sf];class lf{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=Jl(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(ff(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function af(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function uf(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=af(e)+af(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:n}:null}}class cf{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function hf(t){return t.selection.main.from}function ff(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const df=ht.define();const vf=new WeakMap;function gf(t){if(!Array.isArray(t))return t;let e=vf.get(t);return e||vf.set(t,e=uf(t)),e}const pf=vt.define(),mf=vt.define();class Rf{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=x(t,e),r=b(n);this.chars.push(n);let i=t.slice(e,e+r),s=i.toUpperCase();this.folded.push(x(s==i?i.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:i,byWord:s}=this;if(1==e.length){let r=x(t,0),i=b(r),s=i==t.length?0:-100;if(r==e[0]);else{if(r!=n[0])return null;s+=-200}return this.ret(s,[0,i])}let o=t.indexOf(this.pattern);if(0==o)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=e.length,a=0;if(o<0){for(let i=0,s=Math.min(t.length,200);i<s&&a<l;){let s=x(t,i);s!=e[a]&&s!=n[a]||(r[a++]=i),i+=b(s)}if(a<l)return null}let u=0,c=0,h=!1,f=0,d=-1,v=-1,g=/[a-z]/.test(t),p=!0;for(let r=0,a=Math.min(t.length,200),m=0;r<a&&c<l;){let a=x(t,r);o<0&&(u<l&&a==e[u]&&(i[u++]=r),f<l&&(a==e[f]||a==n[f]?(0==f&&(d=r),v=r+1,f++):f=0));let R,O=a<255?a>=48&&a<=57||a>=97&&a<=122?2:a>=65&&a<=90?1:0:(R=y(a))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!r||1==O&&g||0==m&&0!=O)&&(e[c]==a||n[c]==a&&(h=!0)?s[c++]=r:s.length&&(p=!1)),m=O,r+=b(a)}return c==l&&0==s[0]&&p?this.result((h?-200:0)-100,s,t):f==l&&0==d?this.ret(-200-t.length+(v==t.length?0:-100),[0,v]):o>-1?this.ret(-700-t.length,[o,o+this.pattern.length]):f==l?this.ret(-900-t.length,[d,v]):c==l?this.result((h?-200:0)-100-700+(p?0:-1100),s,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[],i=0;for(let t of e){let e=t+(this.astral?b(x(n,t)):1);i&&r[i-1]==t?r[i-1]=e:(r[i++]=t,r[i++]=e)}return this.ret(t-n.length,r)}}class Of{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),n=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,e.length],this.score=n+(t.length==this.pattern.length?0:-100),this)}}const wf=$.define({combine:t=>St(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:yf,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>xf(t(n),e(n)),optionClass:(t,e)=>n=>xf(t(n),e(n)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function xf(t,e){return t?e?t+" "+e:t:e}function yf(t,e,n,r,i,s){let o,l,a=t.textDirection==mn.RTL,u=a,c=!1,h="top",f=e.left-i.left,d=i.right-e.right,v=r.right-r.left,g=r.bottom-r.top;if(u&&f<Math.min(v,d)?u=!1:!u&&d<Math.min(v,f)&&(u=!0),v<=(u?f:d))o=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,l=Math.min(400,u?f:d);else{c=!0,l=Math.min(400,(a?e.right:i.right-e.left)-30);let t=i.bottom-e.bottom;t>=g||t>e.top?o=n.bottom-e.top:(h="bottom",o=e.bottom-n.top)}return{style:`${h}: ${o/((e.bottom-e.top)/s.offsetHeight)}px; max-width: ${l/((e.right-e.left)/s.offsetWidth)}px`,class:"cm-completionInfo-"+(c?a?"left-narrow":"right-narrow":u?"left":"right")}}function bf(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class kf{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:i,selected:s}=r.open,o=t.state.facet(wf);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let s=t.displayLabel||t.label,o=0;for(let t=0;t<r.length;){let e=r[t++],n=r[t++];e>o&&i.appendChild(document.createTextNode(s.slice(o,e)));let l=i.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(s.slice(e,n))),l.className="cm-completionMatchedText",o=n}return o<s.length&&i.appendChild(document.createTextNode(s.slice(o))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=bf(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=t.state.field(e).open;for(let e,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(e=/-(\d+)$/.exec(i.id))&&+e[1]<r.length)return this.applyCompletion(t,r[+e[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let n=t.state.field(this.stateField,!1);n&&n.tooltip&&t.state.facet(wf).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:mf.of(null)})})),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:i,selected:s,disabled:o}=n.open;r.open&&r.open.options==i||(this.range=bf(i.length,s,t.state.facet(wf).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=(null===(e=r.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=bf(e.options.length,e.selected,this.view.state.facet(wf).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,n)})).catch((t=>Yn(this.view.state,t,"completion info"))):this.addInfoPane(i,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:r}=t;n.appendChild(e),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.space;if(!i){let t=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return r.top>Math.min(i.bottom,e.bottom)-10||r.bottom<Math.max(i.top,e.top)+10?null:this.view.state.facet(wf).positionInfo(this.view,e,r,n,i,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=n.from;s<n.to;s++){let{completion:o,match:l}=t[s],{section:a}=o;if(a){let t="string"==typeof a?a:a.name;if(t!=i&&(s>n.from||0==n.from))if(i=t,"string"!=typeof a&&a.header)r.appendChild(a.header(a));else{r.appendChild(document.createElement("completion-section")).textContent=t}}const u=r.appendChild(document.createElement("li"));u.id=e+"-"+s,u.setAttribute("role","option");let c=this.optionClass(o);c&&(u.className=c);for(let t of this.optionContent){let e=t(o,this.view.state,this.view,l);e&&u.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Cf(t,e){return n=>new kf(n,t,e)}function Tf(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Sf{constructor(t,e,n,r,i,s){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Sf(this.options,Ef(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,i){let s=function(t,e){let n=[],r=null,i=t=>{n.push(t);let{section:e}=t.completion;if(e){r||(r=[]);let t="string"==typeof e?e:e.name;r.some((e=>e.name==t))||r.push("string"==typeof e?{name:t}:e)}},s=e.facet(wf);for(let r of t)if(r.hasResult()){let t=r.result.getMatch;if(!1===r.result.filter)for(let e of r.result.options)i(new cf(e,r.source,t?t(e):[],1e9-n.length));else{let n,o=e.sliceDoc(r.from,r.to),l=s.filterStrict?new Of(o):new Rf(o);for(let e of r.result.options)if(n=l.match(e.label)){let s=e.displayLabel?t?t(e,n.matched):[]:n.matched;i(new cf(e,r.source,s,n.score+(e.boost||0)))}}}if(r){let t=Object.create(null),e=0,i=(t,e)=>{var n,r;return(null!==(n=t.rank)&&void 0!==n?n:1e9)-(null!==(r=e.rank)&&void 0!==r?r:1e9)||(t.name<e.name?-1:1)};for(let n of r.sort(i))e-=1e5,t[n.name]=e;for(let e of n){let{section:n}=e.completion;n&&(e.score+=t["string"==typeof n?n:n.name])}}let o=[],l=null,a=s.compareCompletions;for(let t of n.sort(((t,e)=>e.score-t.score||a(t.completion,e.completion)))){let e=t.completion;!l||l.label!=e.label||l.detail!=e.detail||null!=l.type&&null!=e.type&&l.type!=e.type||l.apply!=e.apply||l.boost!=e.boost?o.push(t):Tf(t.completion)>Tf(l)&&(o[o.length-1]=t),l=t.completion}return o}(t,e);if(!s.length)return r&&t.some((t=>1==t.state))?new Sf(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let o=e.facet(wf).selectOnOpen?0:-1;if(r&&r.selected!=o&&-1!=r.selected){let t=r.options[r.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new Sf(s,Ef(n,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:Ff,above:i.aboveCursor},r?r.timestamp:Date.now(),o,!1)}map(t){return new Sf(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Af{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new Af(_f,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(wf),r=(n.override||e.languageDataAt("autocomplete",hf(e)).map(gf)).map((e=>{let r=this.active.find((t=>t.source==e))||new Df(e,this.active.some((t=>0!=t.state))?1:0);return r.update(t,n)}));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=this.open;i&&t.docChanged&&(i=i.map(t.changes)),t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?i=Sf.build(r,e,this.id,i,n):i&&i.disabled&&!r.some((t=>1==t.state))&&(i=null),!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new Df(t.source,0):t)));for(let e of t.effects)e.is(Nf)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new Af(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Pf}}const Pf={"aria-autocomplete":"list"};function Ef(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const _f=[];function Lf(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(df);if(n&&e.activateOnCompletion(n))return"input"}return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Df{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Lf(t,e),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Df(r.source,0));for(let e of t.effects)if(e.is(pf))r=new Df(r.source,1,e.value?hf(t.state):-1);else if(e.is(mf))r=new Df(r.source,0);else if(e.is(If))for(let t of e.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new Df(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(hf(t.startState))?new Df(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Df(this.source,this.state,t.mapPos(this.explicitPos))}}class Qf extends Df{constructor(t,e,n,r,i){super(t,2,e),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(t,e,n){var r;let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let s=t.changes.mapPos(this.from),o=t.changes.mapPos(this.to,1),l=hf(t.state);if((this.explicitPos<0?l<=s:l<this.from)||l>o||!i||"delete"==e&&hf(t.startState)==this.from)return new Df(this.source,"input"==e&&n.activateOnTyping?1:0);let a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return"function"==typeof t?t(i,n,r,e):ff(t,!0).test(i)}(i.validFor,t.state,s,o)?new Qf(this.source,a,i,s,o):i.update&&(i=i.update(i,s,o,new lf(t.state,l,a>=0)))?new Qf(this.source,a,i,i.from,null!==(r=i.to)&&void 0!==r?r:hf(t.state)):new Df(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Df(this.source,0):this.map(t.changes)}map(t){if(t.empty)return this;return(this.result.map?this.result.map(this.result,t):this.result)?new Qf(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Df(this.source,0)}}const If=vt.define({map:(t,e)=>t.map((t=>t.map(e)))}),Nf=vt.define(),Mf=X.define({create:()=>Af.start(),update:(t,e)=>t.update(e),provide:t=>[io.from(t,(t=>t.tooltip)),Zi.contentAttributes.from(t,(t=>t.attrs))]});function $f(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Mf).active.find((t=>t.source==e.source));return r instanceof Qf&&("string"==typeof n?t.dispatch(Object.assign(Object.assign({},function(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange((l=>l!=i&&n!=r&&t.sliceDoc(l.from+s,l.from+o)!=t.sliceDoc(n,r)?{range:l}:{changes:{from:l.from+s,to:r==i.from?l.to:l.from+o,insert:e},range:I.cursor(l.from+s+e.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,r.from,r.to)),{annotations:df.of(e.completion)})):n(t,e.completion,r.from,r.to),!0)}const Ff=Cf(Mf,$f);function Bf(t,e="option"){return n=>{let r=n.state.field(Mf,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(wf).interactionDelay)return!1;let i,s=1;"page"==e&&(i=ho(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:o-1;return l<0?l="page"==e?0:o-1:l>=o&&(l="page"==e?o-1:0),n.dispatch({effects:Nf.of(l)}),!0}}class Uf{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Hf=tr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Mf).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(Mf),n=t.state.facet(wf);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Mf)==e)return;let r=t.transactions.some((t=>(t.selection||t.docChanged)&&!Lf(t,n)));for(let e=0;e<this.running.length;e++){let n=this.running[e];if(r||n.updates.length+t.transactions.length>50&&Date.now()-n.time>1e3){for(let t of n.context.abortListeners)try{t()}catch(t){Yn(this.view.state,t)}n.context.abortListeners=null,this.running.splice(e--,1)}else n.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some((t=>t.effects.some((t=>t.is(pf)))))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),i):-1,0!=this.composing)for(let e of t.transactions)"input"==Lf(e,n)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Mf);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=hf(e),r=new lf(e,n,t.explicitPos==n),i=new Uf(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:mf.of(null)}),Yn(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(wf).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(wf);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new Qf(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:hf(i.updates.length?i.updates[0].startState:this.view.state));for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let s=this.view.state.field(Mf).active.find((t=>t.source==i.active.source));if(s&&1==s.state)if(null==i.done){let t=new Df(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:If.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Mf,!1);if(e&&e.tooltip&&this.view.state.facet(wf).closeOnBlur){let n=e.open&&ho(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:mf.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:pf.of(!1)})),20),this.composing=0}}}),qf="object"==typeof navigator&&/Win/.test(navigator.platform),Vf=Z.highest(Zi.domEventHandlers({keydown(t,e){let n=e.state.field(Mf,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&(!qf||!t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find((t=>t.source==r.source)),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&$f(e,r),!1}})),Xf=Zi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const zf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Wf=vt.define({map(t,e){let n=e.mapPos(t,-1,C.TrackAfter);return null==n?void 0:n}}),jf=new class extends At{};jf.startSide=1,jf.endSide=-1;const Gf=X.define({create:()=>Lt.empty,update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=n.from&&t<=n.to})}for(let n of e.effects)n.is(Wf)&&(t=t.update({add:[jf.range(n.value,n.value+1)]}));return t}});const Yf="()[]{}<>";function Zf(t){for(let e=0;e<Yf.length;e+=2)if(Yf.charCodeAt(e)==t)return Yf.charAt(e+1);return y(t<128?t:t+1)}function Kf(t,e){return t.languageDataAt("closeBrackets",e)[0]||zf}const Jf="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),td=Zi.inputHandler.of(((t,e,n,r)=>{if((Jf?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==b(x(r,0))||e!=i.from||n!=i.to)return!1;let s=function(t,e){let n=Kf(t,t.selection.main.head),r=n.brackets||zf.brackets;for(let i of r){let s=Zf(x(i,0));if(e==i)return s==i?od(t,i,r.indexOf(i+i+i)>-1,n):id(t,i,s,n.before||zf.before);if(e==s&&nd(t,t.selection.main.from))return sd(t,i,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)})),ed=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Kf(t,t.selection.main.head).brackets||zf.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return b(x(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&rd(t.doc,e.head)==Zf(x(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:I.cursor(e.head-i.length)}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function nd(t,e){let n=!1;return t.field(Gf).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function rd(t,e){let n=t.sliceString(e,e+2);return n.slice(0,b(x(n,0)))}function id(t,e,n,r){let i=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Wf.of(s.to+e.length),range:I.range(s.anchor+e.length,s.head+e.length)};let o=rd(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:Wf.of(s.head+e.length),range:I.cursor(s.head+e.length)}:{range:i=s}}));return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function sd(t,e,n){let r=null,i=t.changeByRange((e=>e.empty&&rd(t.doc,e.head)==n?{changes:{from:e.head,to:e.head+n.length,insert:n},range:I.cursor(e.head+n.length)}:r={range:e}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function od(t,e,n,r){let i=r.stringPrefixes||zf.stringPrefixes,s=null,o=t.changeByRange((r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:e,from:r.to}],effects:Wf.of(r.to+e.length),range:I.range(r.anchor+e.length,r.head+e.length)};let o,l=r.head,a=rd(t.doc,l);if(a==e){if(ld(t,l))return{changes:{insert:e+e,from:l},effects:Wf.of(l+e.length),range:I.cursor(l+e.length)};if(nd(t,l)){let r=n&&t.sliceDoc(l,l+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+r.length,insert:r},range:I.cursor(l+r.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(o=ad(t,l-2*e.length,i))>-1&&ld(t,o))return{changes:{insert:e+e+e+e,from:l},effects:Wf.of(l+e.length),range:I.cursor(l+e.length)};if(t.charCategorizer(l)(a)!=yt.Word&&ad(t,l,i)>-1&&!function(t,e,n,r){let i=Jl(t).resolveInner(e,-1),s=r.reduce(((t,e)=>Math.max(t,e.length)),0);for(let o=0;o<5;o++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=o.indexOf(n);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let e=i.firstChild;for(;e&&e.from==i.from&&e.to-e.from>n.length+l;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let a=i.to==e&&i.parent;if(!a)break;i=a}return!1}(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Wf.of(l+e.length),range:I.cursor(l+e.length)}}return{range:s=r}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ld(t,e){let n=Jl(t).resolveInner(e+1);return n.parent&&n.from==e}function ad(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=yt.Word)return e;for(let i of n){let n=e-i.length;if(t.sliceDoc(n,e)==i&&r(t.sliceDoc(n-1,n))!=yt.Word)return n}return-1}function ud(t={}){return[Vf,Mf,wf.of(t),Hf,hd,Xf]}const cd=[{key:"Ctrl-Space",run:t=>!!t.state.field(Mf,!1)&&(t.dispatch({effects:pf.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(Mf,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:mf.of(null)}),!0)}},{key:"ArrowDown",run:Bf(!0)},{key:"ArrowUp",run:Bf(!1)},{key:"PageDown",run:Bf(!0,"page")},{key:"PageUp",run:Bf(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(Mf,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(wf).interactionDelay)&&$f(t,e.open.options[e.open.selected])}}],hd=Z.highest(ss.computeN([wf],(t=>t.facet(wf).defaultKeymap?[cd]:[])));class fd{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class dd{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,i=n.facet(Td).markerFilter;i&&(r=i(r,n));let s=an.set(r.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?an.widget({widget:new Pd(t),diagnostic:t}).range(t.from):an.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t,inclusive:!0}).range(t.from,t.to))),!0);return new dd(s,e,vd(s))}}function vd(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new fd(t,n,i.diagnostic),!1})),r}function gd(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Td).hideOn(t,n,r);if(null!=i)return i;let s=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(md)))&&!t.changes.touchesRange(s.from,Math.max(s.to,r)))}function pd(t,e){return t.field(wd,!1)?e:e.concat(vt.appendConfig.of(Id))}const md=vt.define(),Rd=vt.define(),Od=vt.define(),wd=X.define({create:()=>new dd(an.none,null,null),update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=vd(n,t.selected.diagnostic,i)||vd(n,null,i)}!n.size&&i&&e.state.facet(Td).autoPanel&&(i=null),t=new dd(n,i,r)}for(let n of e.effects)if(n.is(md)){let r=e.state.facet(Td).autoPanel?n.value.length?_d.open:null:t.panel;t=dd.init(n.value,r,e.state)}else n.is(Rd)?t=new dd(t.diagnostics,n.value?_d.open:null,t.selected):n.is(Od)&&(t=new dd(t.diagnostics,t.panel,n.value));return t},provide:t=>[Oo.from(t,(t=>t.panel)),Zi.decorations.from(t,(t=>t.diagnostics))]});const xd=an.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function yd(t,e,n){let{diagnostics:r}=t.state.field(wd),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:l})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(l.diagnostic),s=Math.min(t,s),o=Math.max(r,o))}));let l=t.state.facet(Td).tooltipFilter;return l&&(i=l(i,t.state)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create:()=>({dom:bd(t,i)})}:null}function bd(t,e){return eh("ul",{class:"cm-tooltip-lint"},e.map((e=>Ad(t,e,!1))))}const kd=t=>{let e=t.state.field(wd,!1);return!(!e||!e.panel)&&(t.dispatch({effects:Rd.of(!1)}),!0)},Cd=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(wd,!1);e&&e.panel||t.dispatch({effects:pd(t.state,[Rd.of(!0)])});let n=go(t,_d.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(wd,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],Td=$.define({combine:t=>Object.assign({sources:t.map((t=>t.source)).filter((t=>null!=t))},St(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function Sd(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function Ad(t,e,n){var r;let i=n?Sd(e.actions):[];return eh("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},eh("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let s=!1,o=r=>{if(r.preventDefault(),s)return;s=!0;let i=vd(t.state.field(wd).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:l}=n,a=i[r]?l.indexOf(i[r]):-1,u=a<0?l:[l.slice(0,a),eh("u",l.slice(a,a+1)),l.slice(a+1)];return eh("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${l}${a<0?"":` (access key "${i[r]})"`}.`},u)})),e.source&&eh("div",{class:"cm-diagnosticSource"},e.source))}class Pd extends on{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return eh("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Ed{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Ad(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class _d{constructor(t){this.view=t,this.items=[];this.list=eh("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)kd(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=Sd(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=vd(this.view.state.field(wd).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=eh("div",{class:"cm-panel-lint"},this.list,eh("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>kd(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(wd).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(wd),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let l,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){a=t;break}a<0?(l=new Ed(this.view,o.diagnostic),this.items.splice(n,0,l),r=!0):(l=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),i=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new Ed(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let n=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/n:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=vd(this.view.state.field(wd).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:Od.of(e)})}static open(t){return new _d(t)}}function Ld(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Dd(t){return Ld(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Qd=Zi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Dd("#d11")},".cm-lintRange-warning":{backgroundImage:Dd("orange")},".cm-lintRange-info":{backgroundImage:Dd("#999")},".cm-lintRange-hint":{backgroundImage:Dd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const Id=[wd,Zi.decorations.compute([wd],(t=>{let{selected:e,panel:n}=t.field(wd);return e&&n&&e.from!=e.to?an.set([xd.range(e.from,e.to)]):an.none})),co(yd,{hideOn:gd}),Qd];const Nd=(()=>[$o(),Uo,Ms(),Nu(),Xa(),ws(),[As,Ps],Tt.allowMultipleSelections.of(!0),Tt.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let s=n.sliceString(i.from,r);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,l=-1,a=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==l)continue;l=e.from;let n=da(o,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=fa(o,n);r!=i&&a.push({from:e.from,to:e.from+r.length,insert:i})}return a.length?[t,{changes:a,sequential:!0}]:t})),Za(tu,{fallback:!0}),cu(),[td,Gf],ud(),zs(),Gs(),Hs,Rh(),ss.of([...ed,...Jc,...Kh,...Ju,...Na,...cd,...Cd])])();class Md{constructor(t,e,n,r,i,s,o,l,a,u=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=a,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new Md(t,[],e,n,n,0,[],0,r?new $d(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,r=65535&t,{parser:i}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let s=i.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&t?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,a=this.reducePos-l;a>=2e3&&!(null===(e=this.p.parser.nodeSet.types[r])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=a):this.p.lastBigReductionSize<a&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=a));let u=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-u;if(r<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,t,c+4,!0)}if(262144&t)this.state=this.stack[o];else{let t=this.stack[o-3];this.state=i.getGoto(t,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,l)}storeNode(t,e,n,r=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,r=this.buffer.length;if(0==r&&t.parent&&(r=t.bufferBase-t.parent.bufferBase,t=t.parent),r>0&&0==t.buffer[r-4]&&t.buffer[r-1]>-1){if(e==n)return;if(t.buffer[r-2]>=e)return void(t.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n,r){if(131072&t)this.pushState(65535&t,this.pos);else if(262144&t)this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4);else{let i=t,{parser:s}=this.p;(r>this.pos||e<=s.maxNode)&&(this.pos=r,s.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,r,4)}}apply(t,e,n,r){65536&t?this.reduce(t):this.shift(t,e,n,r)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new Md(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Fd(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(!(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<e.length;i+=2)(r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t)&&n.push(e[i],r);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let r=e[t+1];n.some(((t,e)=>1&e&&t==r))||n.push(e[t],r)}e=n}let n=[];for(let t=0;t<e.length&&n.length<4;t+=2){let r=e[t+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(r,i)=>{if(!e.includes(r))return e.push(r),t.allActions(r,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-i;if(n>1){let r=65535&e,i=this.stack.length-3*n;if(i>=0&&t.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let t=n(e,i+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new $d(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class $d{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class Fd{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Bd{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Bd(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Bd(this.stack,this.pos,this.index)}}function Ud(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let e=t.charCodeAt(r++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,n=!0),s+=i,n)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Hd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const qd=new Hd;class Vd{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=qd,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,i=this.pos+t;for(;i<n.from;){if(!r)return null;let t=this.ranges[--r];i-=n.from-t.to,n=t}for(;e<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let t=this.ranges[++r];i+=t.from-n.to,n=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,r=this.chunkOff+t;if(r>=0&&r<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(t,1);if(null==r)return-1;if(e=r,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,r=this.range;for(;r.to<=e;)r=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=qd,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class Xd{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;zd(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}Xd.prototype.contextual=Xd.prototype.fallback=Xd.prototype.extend=!1;Xd.prototype.fallback=Xd.prototype.extend=!1;function zd(t,e,n,r,i,s){let o=0,l=1<<r,{dialect:a}=n.p.parser;t:for(;l&t[o];){let n=t[o+1];for(let r=o+3;r<n;r+=2)if((t[r+1]&l)>0){let n=t[r];if(a.allows(n)&&(-1==e.token.value||e.token.value==n||jd(n,e.token.value,i,s))){e.acceptToken(n);break}}let r=e.next,u=0,c=t[o+2];if(!(e.next<0&&c>u&&65535==t[n+3*c-3])){for(;u<c;){let i=u+c>>1,s=n+i+(i<<1),l=t[s],a=t[s+1]||65536;if(r<l)c=i;else{if(!(r>=a)){o=t[s+2],e.advance();continue t}u=i+1}}break}o=t[n+3*c-1]}}function Wd(t,e,n){for(let r,i=e;65535!=(r=t[i]);i++)if(r==n)return i-e;return-1}function jd(t,e,n,r){let i=Wd(n,r,e);return i<0||Wd(n,r,t)<i}const Gd="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Yd=null;function Zd(t,e,n){let r=t.cursor(Ko.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class Kd{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Zd(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Zd(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],s=this.start[e]+n.positions[r];if(s>t)return this.nextStart=s,null;if(i instanceof Jo){if(s==t){if(s<this.safeFrom)return null;let t=s+i.length;if(t<=this.safeTo){let e=i.prop(Xo.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,s+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+i.length}}}class Jd{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new Hd))}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:i}=r,s=r.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let r=0;r<i.length;r++){if(!(1<<r&s))continue;let a=i[r],u=this.tokens[r];if((!n||a.fallback)&&((a.contextual||u.start!=t.pos||u.mask!=s||u.context!=o)&&(this.updateCachedToken(u,a,t),u.mask=s,u.context=o),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),0!=u.value)){let r=e;if(u.extended>-1&&(e=this.addActions(t,u.extended,u.end,e)),e=this.addActions(t,u.value,u.end,e),!a.extend&&(n=u,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),n||t.pos!=this.stream.end||(n=new Hd,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Hd,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){let r=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(r,t),n),t.value>-1){let{parser:e}=n.p;for(let r=0;r<e.specialized.length;r++)if(e.specialized[r]==t.value){let i=e.specializers[r](this.stream.read(t.start,t.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){1&i?t.extended=i>>1:t.value=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,n,r){for(let e=0;e<r;e+=3)if(this.actions[e]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:i}=t,{parser:s}=t.p,{data:o}=s;for(let t=0;t<2;t++)for(let l=s.stateSlot(i,t?2:1);;l+=3){if(65535==o[l]){if(1!=o[l+1]){0==r&&2==o[l+1]&&(r=this.putAction(iv(o,l+2),e,n,r));break}l=iv(o,l+2)}o[l]==e&&(r=this.putAction(iv(o,l+1),e,n,r))}return r}}class tv{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Vd(e,r),this.tokens=new Jd(t,this.stream),this.topTerm=t.top[1];let{from:i}=r[0];this.stacks=[Md.start(this,t.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*t.bufferLength?new Kd(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!i.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return Gd&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw Gd&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(n)return Gd&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort(((t,e)=>e.score-t.score));i.length>t;)i.pop();i.some((t=>t.reducePos>r))&&this.recovering--}else if(i.length>1){t:for(let t=0;t<i.length-1;t++){let e=i[t];for(let n=t+1;n<i.length;n++){let r=i[n];if(e.sameState(r)||e.buffer.length>500&&r.buffer.length>500){if(!((e.score-r.score||e.buffer.length-r.buffer.length)>0)){i.splice(t--,1);continue t}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:i}=this,s=Gd?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?i.getGoto(t.state,o.type.id):-1;if(r>-1&&o.length&&(!e||(o.prop(Xo.contextHash)||0)==n))return t.useNode(o,r),Gd&&console.log(s+this.stackID(t)+` (via reuse of ${i.getName(o.type.id)})`),!0;if(!(o instanceof Jo)||0==o.children.length||o.positions[0]>0)break;let l=o.children[0];if(!(l instanceof Jo&&0==o.positions[0]))break;o=l}}let o=i.stateSlot(t.state,4);if(o>0)return t.reduce(o),Gd&&console.log(s+this.stackID(t)+` (via always-reduce ${i.getName(65535&o)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let o=0;o<l.length;){let a=l[o++],u=l[o++],c=l[o++],h=o==l.length||!n,f=h?t:t.split(),d=this.tokens.mainToken;if(f.apply(a,u,d?d.start:f.pos,c),Gd&&console.log(s+this.stackID(f)+` (via ${65536&a?`reduce of ${i.getName(65535&a)}`:"shift"} for ${i.getName(u)} @ ${r}${f==t?"":", split"})`),h)return!0;f.pos>r?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return ev(t,e),!0}}runRecovery(t,e,n){let r=null,i=!1;for(let s=0;s<t.length;s++){let o=t[s],l=e[s<<1],a=e[1+(s<<1)],u=Gd?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),Gd&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),h=u;for(let t=0;c.forceReduce()&&t<10;t++){if(Gd&&console.log(h+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;Gd&&(h=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(l))Gd&&console.log(u+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(a==o.pos&&(a++,l=0),o.recoverByDelete(l,a),Gd&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),ev(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(t){return t.close(),Jo.build({buffer:Bd.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Yd||(Yd=new WeakMap)).get(t);return e||Yd.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function ev(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class nv{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class rv extends Rl{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let n=0;n<t.repeatNodeCount;n++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function i(t,e,n){r[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=Xo[t]);for(let n=1;n<e.length;){let r=e[n++];if(r>=0)i(r,t,e[n++]);else{let s=e[n+-r];for(let o=-r;o>0;o--)i(e[n++],t,s);n++}}}this.nodeSet=new Go(e.map(((e,i)=>jo.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=Ho;let s=Ud(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(sv),this.states=Ud(t.states,Uint32Array),this.data=Ud(t.stateData),this.goto=Ud(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new Xd(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new tv(this,t,e,n);for(let i of this.wrappers)r=i(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let i=r[e+1];;){let e=r[i++],s=1&e,o=r[i++];if(s&&n)return o;for(let n=i+(e>>1);i<n;i++)if(r[i]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let i,s=this.stateSlot(t,r?2:1);;s+=3){if(65535==(i=n[s])){if(1!=n[s+1]){if(2==n[s+1])return iv(n,s+2);break}i=n[s=iv(n,s+2)]}if(i==e||0==i)return iv(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),r=n?e(n):void 0;for(let n=this.stateSlot(t,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=iv(this.data,n+2)}r=e(iv(this.data,n+1))}return r}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=iv(this.data,n+2)}if(!(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create(rv.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=t.specializers.find((t=>t.from==n.external));if(!i)return n;let s=Object.assign(Object.assign({},n),{external:i.to});return e.specializers[r]=sv(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let r=null;for(let t=0;t<e.length;t++)if(!n[t])for(let n,i=this.dialects[e[t]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new nv(t,n,r)}static deserialize(t){return new rv(t)}}function iv(t,e){return t[e]|t[e+1]<<16}function sv(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const ov={__proto__:null,open:8,interface:14,extends:22,forall:56,mu:66,type:82,true:98,false:100,undefined:102,override:108,with:120,let:144,in:146,letrec:150,if:156,then:158,else:160,trait:164,implements:166,inherits:168,new:172,toString:176,fix:180,fold:184,unfold:188,ref:192},lv={__proto__:null,Int:24,Double:26,String:28,Bool:30,Top:32,Bot:34,Trait:68,Ref:72},av=rv.deserialize({version:14,states:"#![O]QPOOOOQO'#Eq'#EqO]QPOOO%cQQO'#DYOOQO'#DZ'#DZO(PQPO'#FrOOQO'#Db'#DbO(WQPO'#FtOOQO'#Dc'#DcOOQO'#Di'#DiO&PQPO'#FzOOQO'#Fq'#FqO(oQPO'#FqO*tQQO'#FpO-bQQO'#FoO/xQQO'#FnO2]QQO'#FmO2|QPO'#DqO3[QPO'#DsOOQO'#Fl'#FlOOQO'#Fk'#FkO&PQPO'#FkO4tQQO'#FjO5^QPO'#DXOOQO'#FW'#FWOOQO'#Er'#ErO7eQPOOQOQPOOO9lQPO'#FTO3_QPO'#CbO3_QPO'#DUO9vQPO'#DuO9vQPO'#DxO&PQPO'#D{O9{QSO'#EPO&PQPO'#ETO:ZQPO'#EVO9vQPO'#EXO;UQPO'#EZO;ZQPO'#E]O:ZQPO'#E_OOQO-E8o-E8oO;`QPO'#FsO;hQPO'#FsO;oQPO,5<^O&PQPO'#DzO;tQPO'#CrO<YQPO'#DeO9vQPO'#FvOOQO'#Dg'#DgO<kQPO'#FwO<sQPO'#DfO<xQPO'#FuO=QQPO'#FuO=YQPO'#FuO=_QPO'#FuO=vQPO,5<`O={QPO'#FuO>ZQPO,5<dO>`QPO,5<fOOQO'#Dl'#DlOOQO,5<],5<]O>eQPO'#FOO@mQQO,5<[O>eQPO,5<ZOAZQPO,5<YO>eQPO,5<YOOQO'#FP'#FPOBOQQO,5<XOAZQPO'#FPOOQO'#DY'#DYOOQO'#Ff'#FfO3SQPO'#FhOChQSO,5:]OCyQSO'#FiOOQO'#Fe'#FeOOQO'#Ey'#EyOOQO'#Cd'#CdO3_QPO'#F`OOQO'#F_'#F_OOQO'#Ev'#EvODUQPO,5:_OEXQQO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VOExQPO,5<UO5RQPO'#F`OFYQPO,59sOFdQPO,59sO&PQPO,59sOExQPO,59sOOQO-E8p-E8pOFxQQO,5;oOGSQPO,5:fOGXQPO,58|OGgQPO,59pOGrQPO,5:aOGyQPO,5:dOHQQPO,5:gO&PQPO,5:kOHVQPO,5:kOHgQPO,5:kOIpQSO,5:kOI{QQO,5:oOOQO,5:q,5:qOJlQPO,5:sOAZQPO,5:uOAZQPO,5:wOOQO,5:y,5:yPJqQPO'#FTOOQO,5;g,5;gOJyQPO,5<_OOQO-E8y-E8yOOQO1G1x1G1xO&PQPO,5:POKRQPO,5:POKdQPO,5<bOOQO'#Cr'#CrOKlQPO,5<cO<kQPO,5:QOK}QPO,5:QO<kQPO,5<aOOQO,5;h,5;hOLSQPO,5<aOL[QPO,5<aOLdQPO,5<aOOQO-E8z-E8zO={QPO,5<aOOQO1G1z1G1zO<{QPO'#DfOLiQPO,5<aOLqQPO1G2OOOQO1G2Q1G2QOOQO'#Dm'#DmOOQO,5;j,5;jOOQO-E8|-E8|OL|QSO1G1uOOQO'#Co'#CoOMRQPO'#F[OOQO'#Cp'#CpOExQPO'#FcOExQPO'#FdOOQO'#FZ'#FZOM^QQO'#FYOOQO1G1t1G1tOOQO-E8}-E8}OOQO,5;k,5;kO! pQPO,5<SO&PQPO1G/wOOQO-E8w-E8wO! uQPO'#EzO! zQSO,5<TO!!VQPO,5<TO!![QPO,5;zOOQO-E8t-E8tO&PQPO1G/yOOQO1G1q1G1qO!#qQQO1G1qO!#xQQO1G1qO!%aQQO1G1qO!%hQQO1G1qO!'PQQO1G1qO!'WQQO1G1qO!(lQQO1G1qO!(vQQO1G1qO!)lQPO1G1pO!)yQPO'#F^O!,|QPO'#FYO3[QPO'#F^O3_QPO'#F^O!-ZQPO'#F^OAZQPO'#F^O!-`QPO1G/_O&PQPO1G/_OExQPO1G/_O!-tQPO1G/_O!-yQPO1G/_OOQO1G1Z1G1ZO&PQPO1G0QO3_QPO'#FXOOQO'#Es'#EsO!.XQPO1G.hOOQO'#Et'#EtO!.[QPO1G.hO!.gQPO1G.hOAZQPO1G.hO!.lQPO1G/[O!.oQPO1G/[OExQPO1G/[O!.wQPO1G/{O!/OQPO1G/{O&PQPO1G/{O!/aQPO1G0OO!/hQPO1G0OOExQPO1G0OO&PQPO1G0RO!/yQQO1G0VO!0jQWO1G0VO!1OQWO'#F^O!2wQWO'#FYO!3qQ`O'#FpO!3{Q`O'#FoO!4VQ`O'#FnO!4dQWO'#FmO!5iQWO1G0VO&PQPO1G0VOHVQPO1G0VOHgQPO1G0VOExQPO1G0_O:ZQPO1G0aO:ZQPO1G0cP!5sQPO,5;oP!5xQPO'#E{OOQO1G/k1G/kO&PQPO1G/kOOQO1G1|1G1|OExQPO1G1|OOQO1G1}1G1}O!5}QPO1G1}OOQO1G/l1G/lO!6`QPO1G/lO!6eQPO1G1{O<kQPO1G1{P!6mQPO'#E|P!6uQPO'#E|P!6zQPO'#E|P={QPO'#E|O!7PQPO1G1{OOQO1G1S1G1SO!7XQPO'#FyO!7^QPO'#FyO!7iQPO7+'jO<kQPO7+'aO!7nQPO'#F]O!7vQPO'#F]O!8RQPO,5;vO!8WQPO,5;}O!8fQPO,5<OO!8tQPO'#FaOOQO'#Ex'#ExO!9UQQO,5;tOExQPO1G1nOOQO7+%c7+%cO&PQPO,5;fOOQO-E8x-E8xO!;hQPO1G1oOOQO1G1o1G1oOExQPO1G1fOOQO7+%e7+%eOExQPO,5;xOExQPO,5;xOExQPO,5;xOOQO'#Ew'#EwO!;mQPO,5;xO!>pQPO,5;tO!>}QPO,5;xO!?YQPO,5;xOOQO,5;x,5;xO&PQPO7+$yOExQPO7+$yO!?_QPO7+$yO!?dQPO7+$yOOQO7+$y7+$yOOQO7+%l7+%lO!?rQPO,5;sOOQO-E8q-E8qO!?wQPO7+$SO!@SQPO7+$SOAZQPO7+$SOOQO-E8r-E8rOOQO7+$S7+$SO!@XQPO7+$SO!@^QPO7+$vOExQPO7+$vO!@fQPO7+$vO!@tQPO7+%gO&PQPO7+%gO!AVQPO7+%gO!A[QPO7+%jOExQPO7+%jO!AmQPO7+%jO!A{QPO7+%mO&PQPO7+%qOHVQPO7+%qOHgQPO7+%qO!BQQWO,5;xO!CyQWO,5;tO!DsQ`O,5<[O!D}QWO,5<XO!FTQWO,5<VO!F_QWO,5:oO!FiQWO'#FpO!GmQQO7+%qO!H^QWO7+%qO!HrQWO7+%qO!H|QPO7+%yOOQO7+%{7+%{OOQO7+%}7+%}OOQO7+%V7+%VO!I[QPO7+'hOOQO7+'i7+'iO<kQPO7+%WOOQO7+&n7+&nO!IjQPO7+'gP<kQPO,5;hP!IrQPO,5;hO&PQPO,5<eO!IwQPO,5<eOOQO-E8{-E8{OOQO<<KU<<KUO!I|QPO<<J{OExQPO,5;wO!JRQPO,5;wO!JWQPO,5;wOOQO-E8s-E8sOOQO1G1b1G1bOOQO1G1i1G1iOOQO1G1j1G1jO!J`QpO'#FbO!JqQPO,5;{O!JvQpO'#F^O!KZQpO'#FYOOQO-E8v-E8vO!LbQPO7+'YO!LpQPO1G1QOOQO7+'Z7+'ZO!LuQPO7+'QO!M{QPO1G1dO!NVQPO1G1dOOQO1G1d1G1dOOQO-E8u-E8uOExQPO1G1dO!NaQPO<<HeO!NfQPO<<HeOOQO<<He<<HeO&PQPO<<HeOOQO1G1_1G1_O!NtQPO<<GnOAZQPO<<GnOOQO<<Gn<<GnO!@XQPO<<GnOExQPO<<HbO!NyQPO<<HbOOQO<<Hb<<HbO&PQPO<<IRO# XQPO<<IRO&PQPO<<IROExQPO<<IUO# ^QPO<<IUO&PQPO<<IUO&PQPO<<IXO##]QWO1G1dO##gQWO1G1dO##qQQO<<I]O#$bQWO<<I]O#$pQWO<<I]O#%uQWO1G1qO#%|QWO1G1qO#'OQWO1G1qO#'VQWO1G1qO#(XQWO1G1qO#(`QWO1G1qO#)_QWO1G1qO#)iQWO1G1qO#)sQWO1G0VO#)}QWO,5<[O&PQPO<<I]OHVQPO<<I]OHgQPO<<I]O&PQPO<<IeOOQO<<KS<<KSOOQO<<Hr<<HrP#+RQPO1G1SO#+WQPO1G2PO&PQPO1G2PP#+`QPO'#E}OOQOAN@gAN@gO#+eQPO1G1cOExQPO1G1cOExQPO1G1cO#+vQPO1G1cP#+{QPO'#EuOExQPO,5;|OOQO1G1g1G1gO#,TQpO,5;xO#,hQpO,5;tOOQO<<Jt<<JtO#-oQWO1G1pOOQO7+&l7+&lOOQO<<Jl<<JlO#/gQPO7+'OOOQOAN>PAN>PO&PQPOAN>PO#/}QPOAN>POOQOAN=YAN=YO!@XQPOAN=YO#0SQPOAN=YO#0XQPOAN=|OOQOAN=|AN=|O#0gQPOAN>mO&PQPOAN>mOOQOAN>mAN>mO#0lQPOAN>pO&PQPOAN>pO#0zQPOAN>pOOQOAN>sAN>sO&PQPOAN>wOHVQPOAN>wO#1PQWO7+'OO#2`QWO'#FjO#3aQWO7+%qO#3kQQOAN>wO#4[QWOAN>wO#4jQWOAN>wO#4tQQOAN?POOQO7+&o7+&oO#5eQPO7+'kP&PQPO,5;iOOQO7+&g7+&gO#5mQPO7+&}O#6OQPO7+&}OExQPO7+&}PExQPO,5;aP#6aQPO,5;aO#6fQPO1G1hO#6tQpO1G1dO#7VQpO1G1dO#7hQPOG23kOOQOG23kG23kO#7mQPOG22tOOQOG22tG22tOOQOG23hG23hO&PQPOG24XOOQOG24XG24XO&PQPOG24[O#7rQPOG24[O&PQPOG24[O#7wQQOG24cO#8hQWOG24cO#8vQWO<<I]O&PQPOG24cOHVQPOG24cP#9QQPO1G1TOOQO<<JR<<JRO#9VQPO<<JiP#9hQPO1G0{PExQPO1G0{O#9vQpO7+'OOOQOLD)VLD)VOOQOLD(`LD(`OOQOLD)sLD)sO#:XQPOLD)vO&PQPOLD)vOOQOLD)vLD)vO&PQPOLD)}O#:^QWOAN>wO#:hQWOAN?PO#:rQQOLD)}O#;cQWOLD)}P#;qQPO7+&gO&PQPO!$'MbOOQO!$'Mb!$'MbO#<PQQO!$'MiO#<pQWOG24cO&PQPO!$'MiOOQO!)9B|!)9B|O#<zQWOLD)}O#=UQQO!)9CTO#=uQWO!$'MiO#>PQWO!)9CTOHgQPO'#FkO#>ZQQO'#FjOHgQPO'#ETO:ZQPO'#EVO:ZQPO'#E_OAZQPO,5<YOAZQPO'#FPOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHVQPO,5<UOHgQPO,5:kO#>eQPO1G/wO#>eQPO1G/yOAZQPO'#F^OAZQPO'#F^O#>eQPO1G0QOHgQPO1G0VO:ZQPO1G0aO:ZQPO1G0cOHVQPO,5;xO!8tQPO,5;xOHVQPO,5;xO!8tQPO,5;xOHVQPO,5;xO!8tQPO,5;xOHgQPO7+%qOHVQPO1G1dO!8tQPO1G1dO#>eQPO<<IRO#>eQPO<<IXOHgQPO<<I]OHgQPO<<IeO#>eQPOAN>mOHgQPOAN>wO#?nQWO'#FjO#>eQPOG24XO#>eQPOG24XO#>eQPOG24[O#>eQPOG24[OHgQPOG24cO#>eQPOLD)vO#>eQPOLD)vOHgQPOLD)}O#>eQPO!$'MbO#>eQPO!$'MbOHgQPO!$'MiO#?uQSO'#EPO#@TQSO,5:]O#@fQPO,5:_O#@qQPO,5:fO#@vQSO,5:kOAZQPO,5:uOAZQPO,5:wO#ARQWO1G0VO#AgQWO1G0VO#AqQPO,5;xO#A|QPO,5;xO#BXQPO,5;xO#B^QPO,5;xO#BcQPO7+%gO#BhQPO7+%mO#BmQWO7+%qO#CRQWO7+%qO#C]QPO7+%yO#CkQPO<<IRO#CpQWO<<I]O#DOQWO<<I]O#DYQPOAN>mO#D_QPOAN>mO#DdQPOAN>pO#DiQPOAN>pO#DnQWOAN>wO#D|QWOAN>wO#EWQPOG24[O#E]QPOG24[O#EbQWOG24cO#EpQPOLD)vO#EuQPOLD)vO#EzQWOLD)}O#>eQPO1G/wO#>eQPO1G/yO#>eQPO1G0QO#>eQPO<<IRO#>eQPO<<IXO#>eQPOAN>mO2|QPO'#DqO3[QPO'#DsO#FYQPO'#EZO#F_QPO'#E]O&PQPO'#DzOHVQPO,5:kOHgQPO,5:kO3[QPO'#F^O3[QPO'#F^O3_QPO'#F^O3_QPO'#F^O&PQPO1G/{O&PQPO1G0ROHVQPO1G0VOHgQPO1G0VOExQPO1G0_O&PQPO7+%gOHVQPO7+%qOHgQPO7+%qO&PQPO<<IRO&PQPO<<IRO&PQPO<<IUO&PQPO<<IUOHVQPO<<I]OHgQPO<<I]O&PQPOAN>pO&PQPOAN>pOHVQPOAN>wO&PQPOG24[O&PQPOG24[OHVQPOG24cO#FdQSO,5:]O#FuQPO,5:_O#GQQPO,5:fO#GVQPO7+%gO#G[QPO7+%mO#GaQPO<<IRO#GfQPO,5:aO#GmQPO,5:gO#GrQPO,5:sO#GwQPO1G/{O#HOQPO1G/{O#HaQPO7+%gO#HrQPO7+%gO#ITQPO7+%jO#IcQPO7+%jO#IqQPO<<IUO#JPQPO<<IUO#J_QPOAN>pO#JmQPOAN>pO2|QPO'#DqO3[QPO'#DsO&PQPO'#DzO&PQPO1G/{O&PQPO1G0RO&PQPO7+%gO9vQPO'#DuO&PQPO'#D{O9vQPO'#EXOExQPO1G0OOExQPO1G0OOExQPO7+%jOExQPO7+%jOExQPO<<IUOExQPO<<IUO#>eQPO'#FkO#>eQPO'#ETO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5:kO#>eQPO1G0VO#>eQPO7+%qO#>eQPO<<I]O#>eQPO<<IeO#>eQPOAN>wO#>eQPOG24cO#>eQPOLD)}O#>eQPO!$'MiO#J{QSO'#EPO#KZQSO,5:kO#KfQWO1G0VO#KzQWO1G0VO#LUQWO7+%qO#LjQWO7+%qO#LtQPO7+%yO#MSQWO<<I]O#MbQWO<<I]O#MlQWOAN>wO#MzQWOAN>wO#NUQWOG24cO#NdQWOLD)}OHVQPO,5:kOHgQPO,5:kOHVQPO1G0VOHgQPO1G0VOExQPO1G0_OHVQPO7+%qOHgQPO7+%qOHVQPO<<I]OHgQPO<<I]OHVQPOAN>wOHVQPOG24cO#NrQPO,5:aO#NyQPO,5:gO$ OQPO,5:sO$ TQPO1G/{O$ [QPO1G/{O$ mQPO,5:dO$ tQPO,5:dO$ {QPO1G0OO$!SQPO1G0OO$!ZQPO1G0OO$!lQPO1G0OO$!}QPO7+%jO$#`QPO7+%jO$$iQWO,5<VO$$vQWO,5:oO$&RQWO1G1qO$&YQWO1G1qO$'_QWO1G1qO$'fQWO1G1qO$(kQWO1G1qO$(rQWO1G1qO$)tQWO1G1qO$*OQWO1G1qO$*YQWO1G0VO$*gQWO7+%qO$*tQWO<<I]O$+RQWOAN>wO$+`QWOAN?PO$+mQWOG24cO$+zQWOLD)}O$,XQWO!$'MiO$,fQWO!)9CTO9vQPO'#DuO&PQPO'#D{O9vQPO'#EXO9vQPO'#DxO9vQPO'#Dx",stateData:"$,}~O#vOSPOSQOS~OSlOVmObZOeVOmYOvTOynO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#xRO#ySO~Ob}Xe}Xh}Xm}Xp}Xv}X!O}X!P}X!Q}X!R}X!S}X!T}X![}X!_}X!c}X!d}X#T}X#X}X#Y}X#Z}X#[}X#]}X#^}X#_}X#`}X#a}X#b}X#c}X#x}X#y}X~Oe|Xh|Xm|Xz|X#t}X#x|X#y|X$Z|X~P#cOS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#xSO#ySO~Ow$gP~P&POm!SOv!QO!W!ZO#x!OO#y!OO$Z!WOu$iP~O#y!^O~Op!`Ob$dXe$dXh$dXm$dXv$dX!O$dX!P$dX!Q$dX!R$dX!S$dX!T$dX![$dX!_$dX!c$dX!d$dX#T$dX#X$dX#Y$dX#Z$dX#[$dX#]$dX#^$dX#_$dX#`$dX#a$dX#b$dX#c$dX#x$dX#y$dX~O#t$dXT$dXw$dXo$dX!k$dX!q$dXu$dX!r$dX~P(tOv!bOb$cXe$cXh$cXm$cXv$cX!O$cX!P$cX!Q$cX!R$cX!S$cX!T$cX![$cX!_$cX!c$cX!d$cX#T$cX#X$cX#Y$cX#Z$cX#[$cX#]$cX#^$cX#_$cX#`$cX#a$cX#b$cX#c$cX#x$cX#y$cX~O#t$cXT$cXw$cXo$cX!k$cX!q$cXu$cX!r$cX~P+bO!d!dOb$bXe$bXh$bXm$bXv$bX!O$bX!P$bX!Q$bX!R$bX!S$bX!T$bX![$bX!_$bX#T$bX#X$bX#Y$bX#Z$bX#[$bX#]$bX#^$bX#_$bX#`$bX#a$bX#b$bX#c$bX#x$bX#y$bX~O!c!cO#t$bXT$bXw$bXo$bX!k$bX!q$bXu$bX!r$bX~P.OObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O#xSO#ySOh$aX#T$aX#X$aX#Y$aX#Z$aX#[$aX#]$aX#^$aX#_$aX#`$aX#a$aX#b$aX#c$aX~O![!gO#t$aXT$aXw$aXo$aX!k$aX!q$aXu$aX!r$aX~P0iOe!lOm!jO#x!hO$Z!iO~Om!pO#y!oO~O#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{O#a!|O#b!}O#c!}O#t$^XT$^Xw$^Xo$^X!k$^X!q$^Xu$^X!r$^X~Oh#OO~P3dOe!lOm#PO#x!hO#y!oO$Z!iO~Oh#TOz#SO~P4{OS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#ySO~OVmOynO#xRO~P5hOS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO~O#x#VO#y#VO~P7rO#x!hO~Os#^Ov!QO!u#_O!v#`O~ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O#xSO#ySO~O![#eO~O![#fO~OT#iOw$gX~Ow$gX~P&POw#lO~OefXmfXzfX!^}X#xfX$ZfX~Oe!lOm!jOz#mO#x!hO$Z!iO~O#x#pO#y#pO~Op#rO~Op#tO![#sO~OT#uOu$iX~Op#tO~Om!SOv!QO!W#zO#x#pO#y#pO$Z#xOu$iX~Ou#{O~Om!SOv!QO#x#pO#y#pO~O!^$OO~Oo$PO~O#x$QO#y$QO~Op!`Ob$dae$dah$dam$dav$da!O$da!P$da!Q$da!R$da!S$da!T$da![$da!_$da!c$da!d$da#T$da#X$da#Y$da#Z$da#[$da#]$da#^$da#_$da#`$da#a$da#b$da#c$da#x$da#y$da~O#t$daT$daw$dao$da!k$da!q$dau$da!r$da~P>mO[$ZO]$ZO^$ZO_$ZO`$ZOa$ZOb$ZOe$VOm$YOv$XO#y$UO~O![!gOh$aa#T$aa#X$aa#Y$aa#Z$aa#[$aa#]$aa#^$aa#_$aa#`$aa#a$aa#b$aa#c$aa#t$aaT$aaw$aao$aa!k$aa!q$aau$aa!r$aa~P:ZOe!lOm!jO!f$aO#x!hO$Z!iO~O#d$eO#x#pO#y#pO~Om!pOp$hO#y!oO~O#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{O#a!|O#b!}O#c!}O~Oh$_a#t$_aT$_aw$_ao$_a!k$_a!q$_au$_a!r$_a~PDaOl$uOq$vOr$wOt$xO~PAZOh${Oz$zO~P4{Oe!lOh${Om!jOz$zO#x!hO$Z!iO~OT%OO!k}X~P#cO!k%PO~OX%QOZ%WOe$VO#y!oO~OX%QOz%ZO#y!oO~Oz%^O~P4{Oh%aO~P4{O!q%bO~Ol-hOq-jOr$wOt+uO~PAZOS-eO!d-aO!h-bO!j.kO!m0gO!p.lO!t,hO!x+cO!z+dO!|.mO#O-cO#Q-dO#S+eO#T+aO#U+aO#V+aO#W+aO~P:ZOs%lO!u%mO!v%nO~Oh!wa#t!waT!waw!wao!wa!k!wa!q!wau!wa!r!wa~PDaOh%oO~O#x%rO#y%rO~OT#iOw$ga~Oe!lOm!jOz%uO#x!hO$Z!iO~Oh%wOw%vO~Oe!lOm!jOo%xO#x!hO$Z!iO~Om!SO~Op%}O![#sO~OT#uOu$ia~Op%}O~OT&TOu$ia~O#x#pO#y#pOu$mP~O!b&XO~O#x#pO#y#pOu$PP~OX&_Ob#|Xe#|Xh#|Xm#|Xv#|X!O#|X!P#|X!Q#|X!R#|X!S#|X!T#|X![#|X!_#|X#T#|X#X#|X#Y#|X#Z#|X#[#|X#]#|X#^#|X#_#|X#`#|X#a#|X#b#|X#c#|X#t#|X#x#|X#y#|XT#|Xw#|Xo#|X!k#|X!q#|Xu#|X!r#|X~Oh&bO~Oz&dO~O#d&fO#x#pO#y#pO~Ou&gO~On&hO~O#X!uOh$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#Y$_i~P!!aO#Y!vO~P!!aO#T!wO#X!uO#Y!vO#Z!wOh$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#[$_i~P!$PO#[!xO~P!$PO#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zOh$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#_$_i~P!%oO#_!{O~P!%oO#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{Oh$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#a$_i#b$_i~P!'_O#a!|O#b!}O~P!'_O#t$^iT$^iw$^io$^i!k$^i!q$^iu$^i!r$^i~Oi&jOj&kOk&lO~P!)QOi$QXj$QXk$QX#t$QXz$QXT$QXw$QXo$QX!k$QX!q$QXp$QXu$QX!r$QXY$QX~PAZOX&_O[#|X]#|X^#|X_#|X`#|Xa#|Xb#|Xe#|Xi#|Xj#|Xk#|Xm#|Xv#|X#t#|X#y#|X!O#|X!P#|X!Q#|X!R#|X!S#|X!T#|X!_#|X#x#|XT#|Xw#|Xo#|X!k#|X!q#|Xu#|X!r#|X~Oz#|Xp#|XY#|X~P!*yOX&_O~Oe!lOh&tOm!jOz&sO#x!hO$Z!iO~OT&wO~Oi&jOj&kOk&lOz&sO~OX%QOZ&}Oe$VO#y!oO~OT'PO~OX%QOz'SO#y!oO~Oz'VO~P4{Oe!lOm!jOz'VO#x!hO$Z!iO~Oh'YO~P4{Oe!lOh'YOm!jO#x!hO$Z!iO~Oh!si#t!siT!siw!sio!si!k!si!q!siu!si!r!si~PDaOi+{Oj+}Ok,POs']O!u'^O!v'_O~Oi$QXj$QXk$QXs$QX!u$QX!v$QXh$QX#T$QX#X$QX#Y$QX#Z$QX#[$QX#]$QX#^$QX#_$QX#`$QX#a$QX#b$QX#c$QX#t$QXT$QXw$QXo$QX!k$QX!q$QXu$QX!r$QX~PAZO[#|X]#|X^#|X_#|X`#|Xa#|Xi#|Xj#|Xk#|Xs#|X!u#|X!v#|X~PM^Os$dX!u$dX~P(tOs$cX!u$cX~P+bO!c+fOs$bX!u$bX~P.OO![+gOs$aX!u$aX~P0iO#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mO#_+nO#`+nO#a+oO#b+pO#c+pO~Os']O!u'^O~P!4qOT%OO~OT#iO~Oe!lOm!jOo'oO#x!hO$Z!iO~Op'pO~OT'qOu$ii~Op'sO![#sO~OT#uO~Op'sO~OT&TOu$ii~Oz'uO~O#x#pO#y#pOu$mX~Ou'xO~Og'{Oh'zO~O#x#pO#y#pOu$PX~Ou(OO~Oi&jOj&kOk&lOw(PO~Oi&jOj&kOk&lOo(QO~Ol-iOq-kOr$wOt+vO~PAZOX&_Ob#|ae#|ah#|am#|av#|a!O#|a!P#|a!Q#|a!R#|a!S#|a!T#|a![#|a!_#|a#T#|a#X#|a#Y#|a#Z#|a#[#|a#]#|a#^#|a#_#|a#`#|a#a#|a#b#|a#c#|a#t#|a#x#|a#y#|aT#|aw#|ao#|a!k#|a!q#|au#|a!r#|a~Ou(YO~Oi$Qaj$Qak$Qa#t$Qaz$QaT$Qaw$Qao$Qa!k$Qa!q$Qap$Qau$Qa!r$QaY$Qa~PAZOX&_O[#|a]#|a^#|a_#|a`#|aa#|ab#|ae#|ai#|aj#|ak#|am#|av#|a#t#|a#y#|a!O#|a!P#|a!Q#|a!R#|a!S#|a!T#|a!_#|a#x#|aT#|aw#|ao#|a!k#|a!q#|au#|a!r#|a~Oz#|ap#|aY#|a~P!<mOm!pOp(`O#y!oO~Op(`O~OT(cO~Oi&jOj&kOk&lOz(dO~OY(eO~OZ(gOe$VO#y!oO~OT(hO~Oe$VO~Oz(jO#y!oO~OT(lOi&jOj&kOk&lO~Oe!lOm!jOz(mO#x!hO$Z!iO~O!k(oO~Oe!lOh(pOm!jO#x!hO$Z!iO~Oi&jOj&kOk&lOz(rO~O!r(sO~Oi$Qaj$Qak$Qas$Qa!u$Qa!v$Qah$Qa#T$Qa#X$Qa#Y$Qa#Z$Qa#[$Qa#]$Qa#^$Qa#_$Qa#`$Qa#a$Qa#b$Qa#c$Qa#t$QaT$Qaw$Qao$Qa!k$Qa!q$Qau$Qa!r$Qa~PAZO[#|a]#|a^#|a_#|a`#|aa#|ai#|aj#|ak#|as#|a!u#|a!v#|a~P!9UOs$da!u$da~P>mO![+gOs$aa!u$aa#T$aa#X$aa#Y$aa#Z$aa#[$aa#]$aa#^$aa#_$aa#`$aa#a$aa#b$aa#c$aah$aa~P:ZOs$_a!u$_a~P!4qOs!wa!u!wa~P!4qOp!`Os$dX!u$dX#T$dX#X$dX#Y$dX#Z$dX#[$dX#]$dX#^$dX#_$dX#`$dX#a$dX#b$dX#c$dXh$dX~Oh!sq#t!sqT!sqw!sqo!sq!k!sq!q!squ!sq!r!sq~PDaOi+{Oj+}Ok,POs)TO!u)UO!v)VO~Os)TO!u)UO~P!4qOi&jOj&kOk&lOp)WO~Oi&jOj&kOk&lOw)XO~OT'qOu$iq~OT&TO~Oz)]O~Ow)_O~Oh)aO~Og)cOh)bO~Oi+|Oj,OOk,QOs)eOY$UX~OY)fO~OY$QXi$QXj$QXk$QXs$QX~PAZOX&_OY#|X[#|X]#|X^#|X_#|X`#|Xa#|Xb#|Xe#|Xi#|Xj#|Xk#|Xm#|Xs#|Xv#|X#y#|X~Oi&jOj&kOk&lOo)iO~OT)kO~Oi&jOj&kOk&lOo)lO~Ok&lO#t$Qiz$QiT$Qiw$Qio$Qi!k$Qi!q$Qip$Qiu$Qi!r$QiY$Qi~Oi&jOj&kO~P!MTOi$Qij$Qi~P!MTOT)nO~Oi&jOj&kOk&lOz)oO~OT)qO~OT)uOi&jOj&kOk&lO~O!k)wO~Oi&jOj&kOk&lOz)zO~Ok,POs$Qi!u$Qi!v$Qih$Qi#T$Qi#X$Qi#Y$Qi#Z$Qi#[$Qi#]$Qi#^$Qi#_$Qi#`$Qi#a$Qi#b$Qi#c$Qi#t$QiT$Qiw$Qio$Qi!k$Qi!q$Qiu$Qi!r$Qi~Oi+{Oj+}O~P# lOi$Qij$Qi~P# lOh!sy#t!syT!syw!syo!sy!k!sy!q!syu!sy!r!sy~PDaOi+{Oj+}Ok,POs)}O~Os)}O!u*OO~P!4qO#X+hOs$_i!u$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#Y$_i~P#$zO#Y+iO~P#$zO#T+jO#X+hO#Y+iO#Z+jOs$_i!u$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#[$_i~P#&TO#[+kO~P#&TO#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mOs$_i!u$_i#`$_i#a$_i#b$_i#c$_i~O#_$_i~P#'^O#_+nO~P#'^O#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mO#_+nO#`+nOs$_i!u$_i#c$_i~O#a$_i#b$_i~P#(gO#a+oO#b+pO~P#(gOs!si!u!si~P!4qOp!`Os$da!u$da#T$da#X$da#Y$da#Z$da#[$da#]$da#^$da#_$da#`$da#a$da#b$da#c$dah$da~OT'qO~OT*WOu$mi~Oz*YO~OT*ZOi&jOj&kOk&lOu$Pi~Oh*^O~Og*`Oh*_O~OY$Qai$Qaj$Qak$Qas$Qa~PAZOX&_OY#|a[#|a]#|a^#|a_#|a`#|aa#|ab#|ae#|ai#|aj#|ak#|am#|as#|av#|a#y#|a~Oi+{Oj+}Ok,POh$^i#T$^i#X$^i#Y$^i#Z$^i#[$^i#]$^i#^$^i#_$^i#`$^i#a$^i#b$^i#c$^is$^i!u$^i~P!)QO#t$QqT$Qqw$Qqo$Qq!k$Qq!q$Qqu$Qq!r$Qq~Oi&jOj&kOk&lOz$Qqp$QqY$Qq~P#.{OT*eO~OT*gO~OT*hOi&jOj&kOk&lO~O!k*iO~Oi&jOj&kOk&lOz*kO~O!k*mO~Oi+{Oj+}Ok,POs$Qq!u$Qq!v$Qqh$Qq#T$Qq#X$Qq#Y$Qq#Z$Qq#[$Qq#]$Qq#^$Qq#_$Qq#`$Qq#a$Qq#b$Qq#c$Qq~P#.{Oh+qO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|O#a.}O#b/OO#c/OOs$^X!u$^X~Os!sq!u!sq~P!4qOh!s!R#t!s!RT!s!Rw!s!Ro!s!R!k!s!R!q!s!Ru!s!R!r!s!R~PDaOi+{Oj+}Ok,POs*qO~Os*qO!u*rO~P!4qOh!{!R#t!{!RT!{!Rw!{!Ro!{!R!k!{!R!q!{!Ru!{!R!r!{!R~PDaOT*WOu$mq~OT*tOi&jOj&kOk&lOu$Pq~OT*ZOi&jOj&kOk&lOu$Pq~Oh*wO~Oi&jOj&kOk&lOY$Ui~Oi+|Oj,OOk,QOY$Qis$Qi~Ok,QOY$Qii$Qij$Qis$Qi~OT*yO~OT*zO~O!k*}O~Oh!s!Z#t!s!ZT!s!Zw!s!Zo!s!Z!k!s!Z!q!s!Zu!s!Z!r!s!Z~PDaOi+{Oj+}Ok,POs+PO~Os!sy!u!sy~P!4qOT*WO~OT*tOi&jOj&kOk&lOu$Py~OT*ZOi&jOj&kOk&lO~Oi+|Oj,OOk,QOY$Qqs$Qq~O!k+VO~Os!s!R!u!s!R~P!4qOs!{!R!u!{!R~P!4qOh!s!c#t!s!cT!s!cw!s!co!s!c!k!s!c!q!s!cu!s!c!r!s!c~PDaOi+{Oj+}Ok,POs+ZO~OT*tOi&jOj&kOk&lO~Oh!s!k#t!s!kT!s!kw!s!ko!s!k!k!s!k!q!s!ku!s!k!r!s!k~PDaOs!s!Z!u!s!Z~P!4qOs!s!c!u!s!c~P!4qOh!s!s#t!s!sT!s!sw!s!so!s!s!k!s!s!q!s!su!s!s!r!s!s~PDaOs!s!k!u!s!k~P!4qOs!s!s!u!s!s~P!4qOh+qOh$^X~P3dOS.gO!d.eO!h.fO!j0dO!m0hO!p0eO!t/YO!x.uO!z+dO!|0fO#O-cO#Q-dO#S+eO#T.tO#U.tO#V.tO#W.tO~P:ZOh$^X~P#2`Os+rOv!QO!u-fO!v-gO~Oe!lOm!jO!f+sO#x!hO$Z!iO~Om!pOp+tO#y!oO~O!k+wO~Os+xO!u-nO!v-oO~Oi+{Oj+}Ok,POs,RO!u-rO!v-sO~Os,RO!u-rO~P!4qOm!pOp,SO#y!oO~Om!pOp,TO#y!oO~Op,SO~Op,TO~O!k,UO~O!r,VO~Oi+{Oj+}Ok,POs,WO!u-xO!v-yO~Os,WO!u-xO~P!4qOi&jOj&kOk&lOp,XO~O!k,YO~Oi+{Oj+}Ok,POs,ZO~Os,ZO!u-|O~P!4qO!k,]O~O!k,^O~O!k,_O~O!k,`O~Oi+{Oj+}Ok,POs,aO~Os,aO!u.PO~P!4qO!k,bO~O!k,cO~Oi+{Oj+}Ok,POs,dO~O!k,eO~O!k,fO~Oi+{Oj+}Ok,POs,gO~O![,mO~O![,nO~Oe!lOm!jO!f-ZO#x!hO$Z!iO~Om!pOp-[O#y!oO~O!k-]O~O!k-^O~O!r-_O~O!k-`O~Oz-lO~P4{O!q-mO~Oh-pO~Oz-qO~P4{Oe!lOm!jOz-qO#x!hO$Z!iO~Oe!lOm!jOz-tO#x!hO$Z!iO~Oe!lOm!jOz-uO#x!hO$Z!iO~Oi&jOj&kOk&lOz-vO~Oi&jOj&kOk&lOz-wO~Oi&jOj&kOk&lOz-zO~Oi&jOj&kOk&lOz-{O~Oi&jOj&kOk&lOz-}O~Oi&jOj&kOk&lOz.OO~Os/POv!QO!u/gO!v/hO~Os/QO!u/iO!v/jO~Oi+{Oj+}Ok,POs/RO!u/lO!v/mO~Os/RO!u/lO~P!4qOi+{Oj+}Ok,POs/SO!u/nO!v/oO~Os/SO!u/nO~P!4qOi&jOj&kOk&lOp/TO~Oi+{Oj+}Ok,POs/UO~Os/UO!u/pO~P!4qOi+{Oj+}Ok,POs/VO~Os/VO!u/qO~P!4qOi+{Oj+}Ok,POs/WO~Oi+{Oj+}Ok,POs/XO~Oz.hO~P4{O!q.iO~Oh/kO~Oz.jO~P4{Oe!lOm!jOz.jO#x!hO$Z!iO~Oh.nO~P4{Oh.oO~P4{Oh.pO~P4{Oh.qO~P4{Oe!lOh.pOm!jO#x!hO$Z!iO~Oe!lOh.qOm!jO#x!hO$Z!iO~Oe!lOh.rOm!jO#x!hO$Z!iO~Oe!lOh.sOm!jO#x!hO$Z!iO~O#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|O#a.}O#b/OO#c/OO~Oh$_as$_a!u$_a~P$#qOh!was!wa!u!wa~P$#qO#X.vOh$_is$_i!u$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#Y$_i~P$%TO#Y.wO~P$%TO#T.xO#X.vO#Y.wO#Z.xOh$_is$_i!u$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#[$_i~P$&aO#[.yO~P$&aO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{Oh$_is$_i!u$_i#`$_i#a$_i#b$_i#c$_i~O#_$_i~P$'mO#_.|O~P$'mO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|Oh$_is$_i!u$_i#c$_i~O#a$_i#b$_i~P$(yO#a.}O#b/OO~P$(yOh!sis!si!u!si~P$#qOh!sqs!sq!u!sq~P$#qOh!sys!sy!u!sy~P$#qOh!s!Rs!s!R!u!s!R~P$#qOh!{!Rs!{!R!u!{!R~P$#qOh!s!Zs!s!Z!u!s!Z~P$#qOh!s!cs!s!c!u!s!c~P$#qOh!s!ks!s!k!u!s!k~P$#qOh!s!ss!s!s!u!s!s~P$#qOP#Tj!d#]XQeQ~",goto:"!FP$oPPPPPP$pP$uPPPPPPPPPP&T'|P*WPPPPPPPPPPPPPPPPP$pPP$p*z,kPPPPPP0V0VP3n4^4mP0VPP5R5UPPP5_P5_P5_PP5_P5_5_PPP5_PPP5_P5_P5_P5_P5_P5_PPPPPPPPPPPPPPPPP8j8p8w9R9e9k:s;R;e=V=]=c=i=o=}PPP>XPP>]>b>h@{BzDzD}IOIlJYJg&T&TJjKdPLbLbM[!#V!)j5_!,u!0Y!3k!7^!:y!>b!>e!A|!BP!BZ!Be!E|0VVhOQj!U!qbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/zQ#XmQ#YnS$f!p#P`%T#X#Y%S%U%X%Y&{'RQ&q$vQ&y%QQ,s-jR,t-k$m$Z!c!g#O#T#_#e#f$X$Y$s$x${%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&}'S'Y'^'`'z(T(`(g(j(p)U)a)b)e)g*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/q$l$Z!c!g#O#T#_#e#f$X$Y$s$x${%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&}'S'Y'^'`'z(T(`(g(j(p)U)a)b)e)g*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/qQ%V#XS&|%S%US(f&{'QQ)s(iR*f)rd!PV!X!Z#r#t#z%}&R'p'sQ#q!SS$c!l$dQ&U$OQ&Y$VQ'v&VQ'y&XR'|&ZUgOQj!r!iag!P!j!k#P#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OQ#ZoQ#[pQ#duQ#o!QQ.W.kQ.Y.mQ/r0dQ/t0fQ/w0gR/x0h'zZOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR![V'{ZOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eQ!VVQ#w!XQ#}!ZQ%z#rQ%|#tQ&S#zQ'r%}Q't&RQ)Y'pR)Z'sQ!VVQ#w!XQ#}!ZQ&S#zR't&RQ!UVQ#arQ#v!XU#|!Z#z&RQ,l,hR/Z/YR!_[Q$R!`Q$T!bR$]!d'ccOQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%l%n%u&d&s'V']'_'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eQQORyQSjOQR#UjQ%S#XQ%X#YT&z%S%XQ%U#XQ%Y#YQ&{%SW'O%U%Y&{'RR'R%XQ&Z$VR'}&ZQ!sbQ#Qgj$g!s#Q%[%_&p,j,q,r.R.Z/u/y/zQ%[#ZQ%_#[Q&p$uQ,j-bQ,q-hQ,r-iQ.R.fQ.Z.WQ/u/rQ/y/wR/z/xQ&n$sQ'`%eU(_&n'`)gR)g(TQ&a$[Q&o$tQ'a%fW(V&a&o'a)hR)h(UQ!kaQ#RgQ#n!Pv$b!k#R#n$y%]%`%y'U'X,i.Q.[.].^/v/{/|/}0OQ$y#QQ%]#ZQ%`#[Q%y#qQ'U%[Q'X%_Q,i-aQ.Q.eQ.[.WQ.].ZQ.^/uQ/v/rQ/{/wQ/|/xQ/}/yR0O/zQ$d!lR&e$dQ{TR#k{Q!XVR#y!XQ&V$OR'w&VQ!a]U$S!a'b)SQ'b%gR)S'fQ!f`S$^!f'cR'c%jTPOQViOQjX%R#X#Y%S%XS$]!c+fS$_!g+g!h$s#O#T$X$Y${%Z%a%o%w&b&h&j&k&l&t'S'Y'z(`(j(p)a)b)e*^*_*w-p.n.o.p.q.r.s/k!O%e#_%m'^)U*O*r+q+{+},P,S-f-n-r-x-|.P/g/i/l/n/p/qQ%p#eQ%q#f[&m$s%e&n'`(T)gU&r$x+u+vQ'Q%WY(T&_+|,O,Q,TQ(i&}Q)r(gQ+y,mR+z,nS$[!c!g!|$t#O#T#e#f$X$Y$s$x${%W%Z%a%o%w&b&h&j&k&l&n&t&}'S'Y'z(`(g(j(p)a)b)e*^*_*w,m,n-p.n.o.p.q.r.s/k!Y%f#_%e%m'^'`)U*O*r+f+g+q+u+{+},P,S-f-n-r-x-|.P/g/i/l/n/p/qa(U&_(T)g+v+|,O,Q,T${$W!c!g#O#T#X#_#e#f$X$Y$s$x${%S%U%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&{&}'Q'S'Y'^'`'z(T(`(g(i(j(p)U)a)b)e)g)r*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/qR&[$VQ$r#OQ$}#TQ%d#_Q&]$XQ&^$YQ&v${Q'T%ZQ'Z%aQ'h%mQ'j%oQ'n%wQ(R&_Q(W&bQ(Z&hQ([&jQ(]&kU(^&l,P,QQ(b&tQ(k'SQ(q'YQ(t+{Q(u+}Q(w'^Q)`'zQ)j+qQ)m(`Q)t(jQ)y(pQ*P,SQ*T)UQ*[)aQ*])bQ*a)eQ*b+|Q*c,OQ*o*OQ*u*^Q*v*_Q*x,TQ+T*rQ+U*wQ,o-fQ,w-nQ,y-pQ,{-rQ-R-xQ-V-|Q-Y.PQ._.nQ.`.oQ.a.pQ.b.qQ.c.rQ.d.sQ/[/gQ/^/iQ/`/kQ/a/lQ/c/nQ/e/pR/f/q!V!rbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/z!V!qbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/z`&`$[$t%f&a&o'a(U)hR&r$wR(S&_!o!nag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0O!n!mag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OT$`!j#P!o!mag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OUkOQjQzTQ!]YS#Wl}Q#]qQ#j{Q$|#SQ%t#mU&c$a+s-ZU&i$h+t-[Q&u$zU&x%P+w-]Q'W%^Q'[%bQ'm%uQ(X&dQ(a&sQ(n'VQ)['uQ)p(dQ)v(mU)x(o,U-^Q){(rU)|(s,V-_Q*X)]Q*d)oU*j)w,Y-`Q*l)zQ*s*YU*{*i,],^Q*|*kU+O*m,_,`U+W*},b,cU+[+V,e,fQ,k-eQ,u-lQ,v-mQ,z-qQ,}-tQ-O-uQ-P-vQ-Q-wQ-T-zQ-U-{Q-W-}Q-X.OQ.S.gQ.T.hQ.U.iQ.V.jQ.X.lR/s0e!|fOQTYjlq{}#S#m$z%^%b%u&d&s'V'u(d(m(r)])o)z*Y*k-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eQ!teQ#bsU$i!u+h.vQ$j!vQ$k!wQ$l!xQ$m!yQ$n!zQ$o!{Q$p!|Q$q!}Q%c#^Q%k#`Q'd+aQ'e+cQ'g%lQ'i%nQ(v']Q(x'_Q(y+iQ(z+jQ({+kQ(|+lQ(}+mQ)O+nQ)P+oQ)Q+pQ)R+rd*Q+s+t+w,U,V,Y,],_,b,eQ*R+xQ*S)TQ*U)VQ*V)WQ*n)}Q*p,RQ+Q,WQ+R,XQ+S*qQ+X+PQ+Y,ZQ+],aQ+^+ZQ+_,dQ+`,gd+b$a$h%P(o(s)w*i*m*}+Vd,[,^,`,c,f-Z-[-]-^-_-`Q,p-gQ,x-oQ,|-sQ-S-yQ/]/hQ/_/jQ/b/mQ/d/oQ0P.tQ0Q.uQ0R.wQ0S.xQ0T.yQ0U.zQ0V.{Q0W.|Q0X.}Q0Y/OQ0Z/PQ0[/QQ0]/RQ0^/SQ0_/TQ0`/UQ0a/VQ0b/WR0c/X'cdOQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%l%n%u&d&s'V']'_'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0e$[`OQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eW!e`!f%j'c$V%j#`%n'_)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o$`_OQTY`ejlqs{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0e$Z%i#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o$`^OQTY`ejlqs{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eS#ct+dS#gx+e$Y%h#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/oS'k%p+yT'l%q+z$h]OQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%p%q%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0e$Y%g#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/oX'f+d+e+y+z'{UOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR|T'{WOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR!YVa!RVr!X!Z#z&R,h/YY!TV!X!Z#z&RR%{#s'{XOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR&W$O",nodeNames:"⚠ LineComment BlockComment Program open ; Interface interface TypeNameDecl < > extends Int Double String Bool Top Bot Unit TypeName RecordType { LabelDecl ? : TypeOp TypeOp TypeOp forall ( * ) . mu Trait TraitArrow Ref } [ ] TypeDef type = TermDef TermNameDecl TermName Number String Document true false undefined Array Record override RecordField MethodPattern SelfAnno @ RecordUpdate with $ CtorName Label <- \\\\ \\ Lambda -> BigLambda /\\ Let let in LetRec letrec Open IfElse if then else Trait trait implements inherits New new ToString toString Fix fix Fold fold UnFold unfold Ref ref ArithOp DerefOp LengthOp SqrtOp IndexOp ArithOp ArithOp AppendOp CompareOp LogicOp LogicOp ForwardOp MergeOp AssignOp SeqOp ..",maxTerm:168,skippedNodes:[0,1,2],repeatNodeCount:15,tokenData:"2{~R}X^$Opq$Oqr$srs%Yst'Qtu'Vuv'[vw'axy'nyz'{z{(Q{|(X|}(n}!O(y!O!P)t!P!Q*R!Q!R*`!R![+}![!]-Y!]!^-g!^!_-l!_!`.O!`!a.`!a!b.r!b!c.w!c!}.|!}#O/b#O#P/g#P#Q/y#Q#R0O#R#S0T#S#T0Y#T#o0w#o#p1]#p#q2f#q#r2q#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O%&t%&u2v&FU&FV$O~$TY#v~X^$Opq$O#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O&FU&FV$Ok$xQ#UPqr%O!_!`%Tj%TO#Xjj%YO#]j~%_W!P~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z<%lO%Y~%|O!P~~&PRO;'S%Y;'S;=`&Y;=`O%Y~&_X!P~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z;=`<%l%Y<%lO%Y~&}P;=`<%l%Y~'VO#V~~'[O!_~j'aO#Yj~'fPk~vw'i~'nO#^~~'sPm~yz'v~'{Ob~~(QOo~k(XOnP#Yj~(^Q#Z~{|(d|}(i~(iO#[~~(nO#a~~(sQ#a~{|(i|}(i~)OQ#Tk}!O)U!`!a)m~)ZSP~OY)UZ;'S)U;'S;=`)g<%lO)U~)jP;=`<%l)U})tO!fSiyo)yPpk!O!P)|S*RO#dSk*WP#Yj#O#P*ZP*`O!hP~*eW!O~!O!P*}!Q![+}!g!h+c!q!r,`!z!{,n#X#Y+c#c#d,`#l#m,n~+QP!Q![+T~+YR!O~!Q![+T!g!h+c#X#Y+c~+fR{|+o}!O+o!Q![+u~+rP!Q![+u~+zP!O~!Q![+u~,SS!O~!O!P*}!Q![+}!g!h+c#X#Y+c~,cP!Q!Y,f~,kP!O~!Q!Y,f~,qR!Q![,z!c!i,z#T#Z,z~-PR!O~!Q![,z!c!i,z#T#Z,z~-_Ph~!_!`-b~-gO#b~~-lOT~!a-sQ#]jX{}!O-y!_!`%TS.OO!bS!a.TQzR!_!`%T!`!a.Z!^.`Os!^!].gQYq#]j!_!`%T!`!a.mj.rO#cj~.wOg~~.|O![~~/RT#y~wx.|!Q![.|!c!}.|#R#S.|#T#o.|~/gOv~~/nQjy!d~}!O(i#O#P/tb/yO!cb~0OOw~~0TO#`~~0YO$Z~~0]TO#S0Y#S#T0l#T;'S0Y;'S;=`0q<%lO0Y~0qO!Q~~0tP;=`<%l0Y~0|T#x~wx0w!Q![0w!c!}0w#R#S0w#T#o0w~1bPe~}!O1e~1hTO}1e}!O1w!O;'S1e;'S;=`2`<%lO1e~1zTO#q1e#q#r2Z#r;'S1e;'S;=`2`<%lO1e~2`OQ~~2cP;=`<%l1e~2iP#p#q2l~2qO#_~~2vOu~~2{O#W~",tokenizers:[0,1,2,3,4,5],topRules:{Program:[0,3]},specialized:[{term:132,get:t=>ov[t]||-1},{term:133,get:t=>lv[t]||-1}],tokenPrec:6889});var uv={compose:function(t){return function(e){return function(n){return t(e(n))}}}},cv=function(t){return t.compose},hv=function(t){return t.identity},fv={identity:function(t){return t},Semigroupoid0:function(){return uv}},dv=function(t){return function(e){return function(n){return t(n)(e)}}},vv=function(t){return function(e){return t}},gv=function(t){return function(e){return e(t)}};const pv=void 0;var mv=function(t){return t.map},Rv=function(t){var e=mv(t);return function(t){return function(n){return e(n)(t)}}},Ov=function(t){return mv(t)(vv(pv))},wv=function(t){var e=mv(t);return function(t){return function(n){return e(vv(n))(t)}}},xv={map:cv(uv)},yv={map:function(t){return function(e){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t(e[i]);return r}}},bv=function(t){var e=mv(t);return function(t){return function(n){return e((function(t){return t(n)}))(t)}}};var kv={append:function(t){return function(e){return t+e}}},Cv={append:function(t){return function(e){return 0===t.length?e:0===e.length?t:t.concat(e)}}},Tv=function(t){return t.append},Sv=function(t){return t.alt};var Av=hv(fv),Pv=function(t){return t.apply},Ev=function(t){var e=Pv(t),n=mv(t.Functor0());return function(t){return function(r){return e(n(vv(Av))(t))(r)}}},_v=function(t){var e=Pv(t),n=mv(t.Functor0());return function(t){return function(r){return function(i){return e(n(t)(r))(i)}}}},Lv=function(t){return t.pure},Dv=function(t){var e=Pv(t.Apply0()),n=Lv(t);return function(t){return function(r){return e(n(t))(r)}}};var Qv=function(t){return t.discard},Iv=function(t){return t.bind},Nv=function(t){return dv(Iv(t))},Mv=function(t){var e=Nv(t);return function(t){return function(n){return function(r){return e(t)(n(r))}}}},$v=function(t){var e=Iv(t);return function(t){return function(n){return function(r){return e(t(r))(n)}}}},Fv={discard:function(t){return Iv(t)}},Bv=function(t){var e=Iv(t.Bind1()),n=Lv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return e(r)((function(e){return n(t(e))}))}))}}};const Uv=String.fromCharCode(65535),Hv=String.fromCharCode(0);Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;var qv=function(t){return function(e){return function(n){return function(r){return function(i){return r<i?t:r===i?e:n}}}}};const Vv=qv,Xv=qv,zv=qv;var Wv=function(t){return function(e){return t===e}};var jv={eq:Wv},Gv={eq:Wv},Yv={eq:Wv},Zv={eq:Wv},Kv=function(t){return t.eq1},Jv=function(t){return t.eq},tg=Jv(Zv),eg=function(t){var e=Jv(t);return function(t){return function(n){return tg(e(t)(n))(!1)}}},ng=function(){function t(){}return t.value=new t,t}(),rg=function(){function t(){}return t.value=new t,t}(),ig=function(){function t(){}return t.value=new t,t}(),sg={eq:function(t){return function(e){return t instanceof ng&&e instanceof ng||(t instanceof rg&&e instanceof rg||t instanceof ig&&e instanceof ig)}}};var og={add:function(t){return function(e){return t+e|0}},zero:0,mul:function(t){return function(e){return t*e|0}},one:1},lg={sub:function(t){return function(e){return t-e|0}},Semiring0:function(){return og}},ag=function(){return{compare:Xv(ng.value)(ig.value)(rg.value),Eq0:function(){return jv}}}(),ug=function(){return{compare:Vv(ng.value)(ig.value)(rg.value),Eq0:function(){return Gv}}}(),cg=function(){return{compare:zv(ng.value)(ig.value)(rg.value),Eq0:function(){return Yv}}}(),hg=function(t){return t.compare},fg=function(t){return t.top},dg={top:2147483647,bottom:-2147483648,Ord0:function(){return ug}},vg={top:Uv,bottom:Hv,Ord0:function(){return cg}},gg=function(t){return t.bottom};var pg={show:function(t){var e=t.length;return'"'+t.replace(/[\0-\x1F\x7F"\\]/g,(function(n,r){switch(n){case'"':case"\\":return"\\"+n;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=r+1,s=i<e&&t[i]>="0"&&t[i]<="9"?"\\&":"";return"\\"+n.charCodeAt(0).toString(10)+s}))+'"'}},mg={show:function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"}},Rg={show:function(t){return t.toString()}},Og={show:function(t){if(t)return"true";if(!t)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[t.constructor.name])}},wg=function(t){return t.show},xg=hv(fv),yg=function(){function t(){}return t.value=new t,t}(),bg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),kg=function(t){var e=wg(t);return{show:function(t){if(t instanceof bg)return"(Just "+e(t.value0)+")";if(t instanceof yg)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}},Cg=function(t){return function(e){return function(n){if(n instanceof yg)return t;if(n instanceof bg)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},Tg=Cg(!0)(vv(!1)),Sg=Cg(!1)(vv(!0)),Ag={map:function(t){return function(e){return e instanceof bg?new bg(t(e.value0)):yg.value}}},Pg=mv(Ag),Eg=function(t){return Cg(t)(xg)},_g=function(t){var e=Jv(t);return{eq:function(t){return function(n){return t instanceof yg&&n instanceof yg||t instanceof bg&&n instanceof bg&&e(t.value0)(n.value0)}}}},Lg={apply:function(t){return function(e){if(t instanceof bg)return Pg(t.value0)(e);if(t instanceof yg)return yg.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,e.constructor.name])}},Functor0:function(){return Ag}},Dg={bind:function(t){return function(e){if(t instanceof bg)return e(t.value0);if(t instanceof yg)return yg.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,e.constructor.name])}},Apply0:function(){return Lg}},Qg={alt:function(t){return function(e){return t instanceof yg?e:t}},Functor0:function(){return Ag}},Ig=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Ng=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Mg={map:function(t){return function(e){if(e instanceof Ig)return new Ig(e.value0);if(e instanceof Ng)return new Ng(t(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},$g=function(t){return function(e){return function(n){if(n instanceof Ig)return t(n.value0);if(n instanceof Ng)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var Fg={Ring0:function(){return lg}},Bg=function(t){return t.mod},Ug={degree:function(t){return Math.min(Math.abs(t),2147483647)},div:function(t){return function(e){return 0===e?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},mod:function(t){return function(e){if(0===e)return 0;var n=Math.abs(e);return(t%n+n)%n}},CommutativeRing0:function(){return Fg}},Hg=function(t){return t.div},qg={mempty:"",Semigroup0:function(){return kv}},Vg=function(t){return t.mempty},Xg=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},zg={Applicative0:function(){return jg},Bind1:function(){return Wg}},Wg={bind:function(t){return function(e){return function(){return e(t())()}}},Apply0:function(){return Yg(0)}},jg={pure:function(t){return function(){return t}},Apply0:function(){return Yg(0)}},Gg=Xg("functorEffect","Effect",(function(){return{map:Dv(jg)}})),Yg=Xg("applyEffect","Effect",(function(){return{apply:Bv(zg),Functor0:function(){return Gg(0)}}}));function Zg(t){return function(){throw t}}var Kg=function(t){return Zg(new Error(t))},Jg=function(t){return t.throwError},tp=function(t){return t.local},ep=function(t){return t.ask},np=function(t){var e=mv(t.Monad0().Bind1().Apply0().Functor0()),n=ep(t);return function(t){return e(t)(n)}},rp=function(t){return t},ip={map:function(t){return function(e){return t(e)}}},sp={apply:function(t){return function(e){return t(e)}},Functor0:function(){return ip}},op={bind:function(t){return function(e){return e(t)}},Apply0:function(){return sp}},lp={pure:rp,Apply0:function(){return sp}},ap={Applicative0:function(){return lp},Bind1:function(){return op}};var up=function(t){return t.not},cp=function(t){return t.ff},hp=function(t){return t.disj},fp={ff:!1,tt:!0,implies:function(t){return function(e){return hp(fp)(up(fp)(t))(e)}},conj:function(t){return function(e){return t&&e}},disj:function(t){return function(e){return t||e}},not:function(t){return!t}},dp=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),vp=function(t){return function(e){return t(e.value0)(e.value1)}},gp=function(t){return t.value1},pp=function(t){return t.value0},mp=function(t){var e=Jv(t);return function(t){var n=Jv(t);return{eq:function(t){return function(r){return e(t.value0)(r.value0)&&n(t.value1)(r.value1)}}}}},Rp=function(t){return t.state},Op=function(t){var e=Rp(t);return function(t){return e((function(e){return new dp(pv,t(e))}))}},wp=function(t){var e=Rp(t);return function(t){return e((function(e){return new dp(t(e),e)}))}},xp=function(t){return t.tell},yp=mv(Mg),bp=function(t){return function(e){return t(e)}},kp=function(t){var e=mv(t);return{map:function(t){return bp(e(yp(t)))}}},Cp=function(t){return{Applicative0:function(){return Ap(t)},Bind1:function(){return Tp(t)}}},Tp=function(t){var e=Iv(t.Bind1()),n=Lv(t.Applicative0());return{bind:function(t){return function(r){return e(t)($g((function(t){return n(Ig.create(t))}))((function(t){return r(t)})))}},Apply0:function(){return Sp(t)}}},Sp=function(t){var e=kp(t.Bind1().Apply0().Functor0());return{apply:Bv(Cp(t)),Functor0:function(){return e}}},Ap=function(t){return{pure:(e=Lv(t.Applicative0()),function(t){return e(Ng.create(t))}),Apply0:function(){return Sp(t)}};var e},Pp=function(t){var e,n=Cp(t);return{throwError:(e=Lv(t.Applicative0()),function(t){return e(Ig.create(t))}),Monad0:function(){return n}}},Ep=function(t){var e=Tv(t);return function(t){var n=t.Bind1(),r=Iv(n),i=Lv(t.Applicative0()),s=kp(n.Apply0().Functor0());return{alt:function(t){return function(n){return r(t)((function(t){if(t instanceof Ng)return i(new Ng(t.value0));if(t instanceof Ig)return r(n)((function(n){if(n instanceof Ng)return i(new Ng(n.value0));if(n instanceof Ig)return i(new Ig(e(t.value0)(n.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[n.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[t.constructor.name])}))}},Functor0:function(){return s}}}},_p=function(t){return t.lift},Lp=function(t){return t.empty};const Dp=function(t){return t};var Qp=function(){return Dp},Ip=Qp(),Np=function(){return Ip},Mp=function(){return function(){return function(){return function(){return function(t){return Ip}}}}},$p=function(t){return function(e){return function(n){return e(t(n))}}},Fp=_p({lift:function(t){return function(t){return vv(t)}}}),Bp=function(t){return function(e){return function(n){return t(e(n))}}},Up=function(t){return{map:(e=mv(t),function(t){return Bp(e(t))})};var e},Hp=function(t){var e=Pv(t),n=Up(t.Functor0());return{apply:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},qp=function(t){var e=Iv(t),n=Hp(t.Apply0());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t)(r)}))}}},Apply0:function(){return n}}},Vp=function(t){var e,n=Hp(t.Apply0());return{pure:(e=Lv(t),function(t){return vv(e(t))}),Apply0:function(){return n}}},Xp=function(t){var e=Vp(t.Applicative0()),n=qp(t.Bind1());return{Applicative0:function(){return e},Bind1:function(){return n}}},zp=function(t){var e=Xp(t);return{ask:Lv(t.Applicative0()),Monad0:function(){return e}}},Wp=function(t){var e=zp(t);return{local:$p,MonadAsk0:function(){return e}}},jp=function(t){var e,n,r=t.Monad0(),i=Xp(r);return{throwError:(e=Fp(r),n=Jg(t),function(t){return e(n(t))}),Monad0:function(){return i}}},Gp=function(t){var e=Sv(t),n=Up(t.Functor0());return{alt:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},Yp={lift:function(t){var e=Iv(t.Bind1()),n=Lv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return n(new dp(t,r))}))}}}},Zp=_p(Yp),Kp=function(t){var e=mv(t);return{map:function(t){return function(n){return function(r){return e((function(e){return new dp(t(e.value0),e.value1)}))(n(r))}}}}},Jp=function(t){return{Applicative0:function(){return nm(t)},Bind1:function(){return tm(t)}}},tm=function(t){var e=Iv(t.Bind1());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t.value0)(t.value1)}))}}},Apply0:function(){return em(t)}}},em=function(t){var e=Kp(t.Bind1().Apply0().Functor0());return{apply:Bv(Jp(t)),Functor0:function(){return e}}},nm=function(t){var e=Lv(t.Applicative0());return{pure:function(t){return function(n){return e(new dp(t,n))}},Apply0:function(){return em(t)}}},rm=function(t){var e=Lv(t.Applicative0()),n=Jp(t);return{state:function(t){return function(n){return e(t(n))}},Monad0:function(){return n}}},im=function(t){var e=t.Monad0(),n=Zp(e),r=Jg(t),i=Jp(e);return{throwError:function(t){return n(r(t))},Monad0:function(){return i}}};Array.prototype.fill,function(){function t(t,e){this.head=t,this.tail=e}var e={};function n(e){return function(n){return new t(e,n)}}}();const sm=function(t){return t.length},om=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])},lm=function(t,e,n,r){for(var i=0,s=r.length;i<s;i++)if(n(r[i]))return t(i);return e},am=(function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}(),function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0}),um=function(t,e){return t[e]};function cm(t){return function(){return{value:t}}}const hm=function(t){return function(){return t.value}},fm=function(t){return function(e){return function(){return e.value=t}}};var dm=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},vm={map:function(t){return function(e){return function(){return t(e())}}}};function gm(t){return t}const pm=gm;!function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}();const mm=function(t,e){return e.push(t)},Rm=function(t){return function(e){return function(){return t(e)}}},Om=function(t){return function(e){return function(n){return function(){return t(e,n)}}}};var wm=Rm(pm),xm=Om(mm),ym=mv(vm),bm=up(fp),km=Ov(vm),Cm=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Tm=function(t){return function(){var e=hm(t.value1)();return function(t){return dm((function(e){var n=t(e);return{state:n,value:n}}))}((function(t){return t+1|0}))(t.value1)(),t.value0(e)}};var Sm=hv(fv),Am=function(t){return t.bimap},Pm=function(t){return Am(t)(Sm)},Em={bimap:function(t){return function(e){return function(n){return new dp(t(n.value0),e(n.value1))}}}},_m={append:function(t){return function(e){return t instanceof bg?t:e}}},Lm=function(){return{mempty:yg.value,Semigroup0:function(){return _m}}}(),Dm=function(t){return t},Qm=function(t){var e=function(t){var e=hp(t);return{append:function(t){return function(n){return e(t)(n)}}}}(t);return{mempty:cp(t),Semigroup0:function(){return e}}},Im=function(t){var e=cv(t);return{append:function(t){return function(n){return e(t)(n)}}}},Nm=function(t){var e=Im(t.Semigroupoid0());return{mempty:hv(t),Semigroup0:function(){return e}}},Mm=Np(),$m=Mp()()()(),Fm=function(t){return t.foldr},Bm=function(t){var e=Ev(t.Apply0()),n=Lv(t);return function(t){var r=Fm(t);return function(t){return r((function(n){return e(t(n))}))(n(pv))}}},Um=function(t){return t.foldl},Hm=function(t){var e=Um(t);return function(t){var n=Tv(t.Semigroup0()),r=Vg(t);return function(t){return function(i){return e((function(e){return function(r){return e.init?{init:!1,acc:r}:{init:!1,acc:n(e.acc)(n(t)(r))}}}))({init:!0,acc:r})(i).acc}}}},qm={foldr:function(t){return function(e){return function(n){if(n instanceof yg)return e;if(n instanceof bg)return t(n.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldl:function(t){return function(e){return function(n){if(n instanceof yg)return e;if(n instanceof bg)return t(e)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldMap:function(t){var e=Vg(t);return function(t){return function(n){if(n instanceof yg)return e;if(n instanceof bg)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,n.constructor.name])}}}},Vm={foldr:function(t){return function(e){return function(n){for(var r=e,i=n.length-1;i>=0;i--)r=t(n[i])(r);return r}}},foldl:function(t){return function(e){return function(n){for(var r=e,i=n.length,s=0;s<i;s++)r=t(r)(n[s]);return r}}},foldMap:function(t){return function(t){var e=Fm(t);return function(t){var n=Tv(t.Semigroup0()),r=Vg(t);return function(t){return e((function(e){return function(r){return n(t(e))(r)}}))(r)}}}(Vm)(t)}},Xm=function(t){return t.foldMap},zm=function(t){var e=Xm(t)(Lm);return function(t){var n=Jv(t);return function(t){var r=e((function(e){return n(t)(e.value0)?new bg(e.value1):yg.value}));return function(t){return Mm(r(t))}}}},Wm=function(t){var e=Xm(t);return function(t){return $m(Dm)(e(Qm(t)))}};const jm=function(t){return function(e){return function(n){return t(e,n)}}},Gm=function(t){return function(e){return function(n){return function(r){return function(i){return t(e,n,r,i)}}}}};const Ym=function(){function t(t){return[t]}function e(t){return function(e){return[t,e]}}function n(t){return function(e){return function(n){return[t,e,n]}}}function r(t){return function(e){return t.concat(e)}}return function(i){return function(s){return function(o){return function(l){return function(a){return function u(c,h){switch(h-c){case 0:return o([]);case 1:return s(t)(l(a[c]));case 2:return i(s(e)(l(a[c])))(l(a[c+1]));case 3:return i(i(s(n)(l(a[c])))(l(a[c+1])))(l(a[c+2]));default:var f=c+2*Math.floor((h-c)/4);return i(s(r)(u(c,f)))(u(f,h))}}(0,a.length)}}}}}}();var Zm=hv(fv),Km=function(t){return t.traverse},Jm={traverse:function(t){var e=Lv(t),n=mv(t.Apply0().Functor0());return function(t){return function(r){if(r instanceof yg)return e(yg.value);if(r instanceof bg)return n(bg.create)(t(r.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,r.constructor.name])}}},sequence:function(t){var e=Lv(t),n=mv(t.Apply0().Functor0());return function(t){if(t instanceof yg)return e(yg.value);if(t instanceof bg)return n(bg.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}},Functor0:function(){return Ag},Foldable1:function(){return qm}},tR=function(t){var e=Km(t);return function(t){return e(t)(Zm)}},eR={traverse:function(t){var e=t.Apply0();return Ym(Pv(e))(mv(e.Functor0()))(Lv(t))},sequence:function(t){return tR(eR)(t)},Functor0:function(){return yv},Foldable1:function(){return Vm}},nR=function(t){return function(e){var n=Km(e)(t);return function(t){return function(e){return n(e)(t)}}}};var rR=Ov(vm),iR=function(){return jm(um)},sR=function(t){return 0===sm(t)},oR=function(){return Gm(om)(bg.create)(yg.value)}(),lR=function(t){return function(){var e=[],n=[],r=function(t){return ym(Cm.create(t))(cm(0))}((function(e){return oR(t)(e)}))();!function(t){return function(e){return function(){for(var n=cm(!1)();ym(bm)(hm(n))();)!function(){var r=Tm(t)();if(r instanceof bg)return e(r.value0)();if(r instanceof yg)return km(fm(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[r.constructor.name])}();return{}}}}(r)((function(t){return function(){return rR(xm(t.value0)(e))(),rR(xm(t.value1)(n))()}}))();var i=wm(e)(),s=wm(n)();return new dp(i,s)}()},aR=function(t){return oR(t)(0)},uR=function(){return Gm(lm)(bg.create)(yg.value)}(),cR=function(t){var e=Jv(t);return function(t){return uR((function(n){return e(n)(t)}))}},hR=function(t){var e=cR(t);return function(t){return function(n){return Tg(e(t)(n))}}},fR=function(t){var e=cR(t);return function(t){return function(n){return Sg(e(t)(n))}}},dR=jm(am);!function(){function t(t){this.fn=t}var e={},n=function(t,e){this.head=t,this.tail=e};function r(t){return new n(t,e)}function i(t){return function(e){return new n(t,e)}}function s(t){for(var n=[],r=t;r!==e;)n.push(r.head),r=r.tail;return n}}();var vR=function(t){return t.foldrWithIndex},gR=hv(fv),pR=function(){function t(){}return t.value=new t,t}(),mR=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),RR={map:function(t){var e;return e=pR.value,function(n){var r,i=e,s=!1;function o(e,r){return r instanceof mR&&r.value1 instanceof mR&&r.value1.value1 instanceof mR?(i=new mR(r,e),void(n=r.value1.value1.value1)):(s=!0,(l=e,function(e){for(var n,r,i,s=l,o=!1;!o;)i=e,n=(r=s)instanceof mR&&r.value0 instanceof mR&&r.value0.value1 instanceof mR&&r.value0.value1.value1 instanceof mR?(s=r.value1,void(e=new mR(t(r.value0.value0),new mR(t(r.value0.value1.value0),new mR(t(r.value0.value1.value1.value0),i))))):(o=!0,i);return n})((o=r)instanceof mR&&o.value1 instanceof mR&&o.value1.value1 instanceof pR?new mR(t(o.value0),new mR(t(o.value1.value0),pR.value)):o instanceof mR&&o.value1 instanceof pR?new mR(t(o.value0),pR.value):pR.value));var o,l}for(;!s;)r=o(i,n);return r}}},OR={foldr:function(t){return function(e){var n,r=(n=pR.value,function(t){var e,r=n,i=!1;function s(e,n){if(n instanceof pR)return i=!0,e;if(n instanceof mR)return r=new mR(n.value0,e),void(t=n.value1);throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[e.constructor.name,n.constructor.name])}for(;!i;)e=s(r,t);return e}),i=Um(OR)(dv(t))(e);return function(t){return i(r(t))}}},foldl:function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof pR)return s=!0,e;if(r instanceof mR)return i=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[r.constructor.name])}for(;!s;)r=o(i,n);return r}}},foldMap:function(t){var e=Tv(t.Semigroup0()),n=Vg(t);return function(t){return Um(OR)((function(n){var r=e(n);return function(e){return r(t(e))}}))(n)}}},wR=Um(OR),xR=Fm(OR),yR={append:function(t){return function(e){return xR(mR.create)(e)(t)}}},bR={traverse:function(t){var e=t.Apply0(),n=mv(e.Functor0()),r=_v(e),i=Lv(t);return function(t){var e=n(wR(dv(mR.create))(pR.value)),s=wR((function(e){var n=r(dv(mR.create))(e);return function(e){return n(t(e))}}))(i(pR.value));return function(t){return e(s(t))}}},sequence:function(t){return Km(bR)(t)(gR)},Functor0:function(){return RR},Foldable1:function(){return OR}},kR={eq1:function(t){var e=Jv(t);return function(t){return function(n){var r;return(r=t,function(t){return function(n){var i,s=r,o=t,l=!1;function a(t,r,i){return i?t instanceof pR&&r instanceof pR?(l=!0,i):t instanceof mR&&r instanceof mR?(s=t.value1,o=r.value1,void(n=i&&e(r.value0)(t.value0))):(l=!0,!1):(l=!0,!1)}for(;!l;)i=a(s,o,n);return i}})(n)(!0)}}}},CR=Kv(kR),TR=function(t){return{eq:CR(t)}},SR=Jv(sg),AR=eg(sg),PR=function(t){return new mR(t,pR.value)},ER=function(t){var e=function(n){return function(r){if(n instanceof mR&&r instanceof mR)return SR(t(n.value0)(r.value0))(rg.value)?new mR(r.value0,e(n)(r.value1)):new mR(n.value0,e(n.value1)(r));if(n instanceof pR)return r;if(r instanceof pR)return n;throw new Error("Failed pattern match at Data.List (line 466, column 3 - line 466, column 38): "+[n.constructor.name,r.constructor.name])}},n=function(t){return t instanceof mR&&t.value1 instanceof mR?new mR(e(t.value0)(t.value1.value0),n(t.value1.value1)):t},r=function(e){return e instanceof mR&&e.value1 instanceof mR?SR(t(e.value0)(e.value1.value0))(rg.value)?i(e.value1.value0)(PR(e.value0))(e.value1.value1):s(e.value1.value0)((function(t){return new mR(e.value0,t)}))(e.value1.value1):PR(e)},i=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof mR&&SR(t(e)(s.value0))(rg.value)?(o=s.value0,l=new mR(e,n),void(i=s.value1)):(a=!0,new mR(new mR(e,n),r(s)))}for(;!a;)s=u(o,l,i);return s}}},s=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof mR&&AR(t(e)(s.value0))(rg.value)?(o=s.value0,l=function(t){return n(new mR(e,t))},void(i=s.value1)):(a=!0,new mR(n(PR(e)),r(s)))}for(;!a;)s=u(o,l,i);return s}}};return function(t){return function(t){var e,r=!1;function i(e){if(e instanceof mR&&e.value1 instanceof pR)return r=!0,e.value0;t=n(e)}for(;!r;)e=i(t);return e}(r(t))}},_R=function(t){var e=hg(t);return function(t){return ER(e)(t)}},LR=function(){var t;return t=pR.value,function(e){var n,r=t,i=!1;function s(t,n){if(n instanceof pR)return i=!0,t;if(n instanceof mR)return r=new mR(n.value0,t),void(e=n.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=s(r,e);return n}}(),DR=function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof pR)return s=!0,LR(e);if(r instanceof mR)return t(r.value0)?(i=new mR(r.value0,e),void(n=r.value1)):(i=e,void(n=r.value1));throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[e.constructor.name,r.constructor.name])}for(;!s;)r=o(i,n);return r}}(pR.value)};const QR=function(t){return t.length},IR=function(t){return function(e){return e.substring(t)}},NR=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};const MR=function(t){throw new Error(t)};var $R=function(){return MR},FR=$R(),BR=function(t){return t()},UR=function(t){return BR((function(){return FR(t)}))},HR=Np(),qR=function(t){return HR(t)};const VR=isFinite;Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,Math.cos,Math.exp;const XR=Math.floor,zR=(Math.log,Math.round,Math.sign&&Math.sign,Math.sin,Math.sqrt);Math.tan,Math.trunc&&Math.trunc;var WR=fg(dg),jR=gg(dg),GR=function(){return(t=bg.create,function(e){return function(n){return(0|n)===n?t(n):e}})(yg.value);var t}(),YR=function(t){return VR(t)?t>=WR?WR:t<=jR?jR:Eg(0)(GR(t)):0},ZR=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},KR=function(){function t(){}return t.value=new t,t}(),JR=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),tO=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),eO=function(t,e,n,r){if(n instanceof KR){if(r instanceof KR)return new JR(1,1,t,e,n,r);if(r instanceof JR)return new JR(1+r.value0|0,1+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): "+[r.constructor.name])}if(n instanceof JR){if(r instanceof KR)return new JR(1+n.value0|0,1+n.value1|0,t,e,n,r);if(r instanceof JR)return new JR(1+(n.value0>r.value0?n.value0:r.value0)|0,(1+n.value1|0)+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): "+[n.constructor.name])},nO=function(t){return function(e){return new JR(1,1,t,e,KR.value,KR.value)}},rO=function(){var t=function(t){if(t instanceof KR)return 0;if(t instanceof JR)return t.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): "+[t.constructor.name])},e=function(e,n,r,i,s,o,l){return o instanceof JR&&o.value0>t(l)?eO(o.value2,o.value3,eO(e,n,r,o.value4),eO(i,s,o.value5,l)):eO(i,s,eO(e,n,r,o),l)},n=function(e,n,r,i,s,o,l){return o instanceof JR&&t(s)<=o.value0?eO(o.value2,o.value3,eO(r,i,s,o.value4),eO(e,n,o.value5,l)):eO(r,i,s,eO(e,n,o,l))};return function(t,r,i,s){if(i instanceof KR)return s instanceof KR?nO(t)(r):s instanceof JR&&s.value0>1?e(t,r,i,s.value2,s.value3,s.value4,s.value5):eO(t,r,i,s);if(i instanceof JR){if(s instanceof JR){if(s.value0>(i.value0+1|0))return e(t,r,i,s.value2,s.value3,s.value4,s.value5);if(i.value0>(s.value0+1|0))return n(t,r,i.value2,i.value3,i.value4,i.value5,s)}return s instanceof KR&&i.value0>1?n(t,r,i.value2,i.value3,i.value4,i.value5,s):eO(t,r,i,s)}throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): "+[i.constructor.name])}}(),iO=ZR("unsafeSplit","Data.Map.Internal",(function(){return function(t,e,n){if(n instanceof KR)return new tO(yg.value,KR.value,KR.value);if(n instanceof JR){var r=t(e)(n.value2);if(r instanceof ng){var i=iO(793)(t,e,n.value4);return new tO(i.value0,i.value1,rO(n.value2,n.value3,i.value2,n.value5))}if(r instanceof rg){i=iO(796)(t,e,n.value5);return new tO(i.value0,rO(n.value2,n.value3,n.value4,i.value1),i.value2)}if(r instanceof ig)return new tO(new bg(n.value3),n.value4,n.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): "+[n.constructor.name])}})),sO=iO(786),oO=ZR("unsafeUnionWith","Data.Map.Internal",(function(){return function(t,e,n,r){if(n instanceof KR)return r;if(r instanceof KR)return n;if(r instanceof JR){var i=sO(t,r.value2,n),s=oO(809)(t,e,i.value1,r.value4),o=oO(810)(t,e,i.value2,r.value5);if(i.value0 instanceof bg)return rO(r.value2,e(i.value0.value0)(r.value3),s,o);if(i.value0 instanceof yg)return rO(r.value2,r.value3,s,o);throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): "+[i.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): "+[n.constructor.name,r.constructor.name])}})),lO=oO(803),aO=function(t){var e=hg(t);return function(t){return function(n){return function(r){return lO(e,t,n,r)}}}},uO=function(t){return aO(t)(vv)},cO=function(t){var e=hg(t);return function(t){return function(n){var r,i=!1;function s(r){if(r instanceof KR)return i=!0,yg.value;if(r instanceof JR){var s=e(t)(r.value2);if(s instanceof ng)return void(n=r.value4);if(s instanceof rg)return void(n=r.value5);if(s instanceof ig)return i=!0,new bg(r.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): "+[r.constructor.name])}for(;!i;)r=s(n);return r}}},hO=function(t){var e=hg(t);return function(t){return function(n){var r=function(i){if(i instanceof KR)return nO(t)(n);if(i instanceof JR){var s=e(t)(i.value2);if(s instanceof ng)return rO(i.value2,i.value3,r(i.value4),i.value5);if(s instanceof rg)return rO(i.value2,i.value3,i.value4,r(i.value5));if(s instanceof ig)return new JR(i.value0,i.value1,t,n,i.value4,i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): "+[i.constructor.name])};return r}}},fO={foldr:function(t){return function(e){var n=ZR("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof KR)return r;if(e instanceof JR)return n(172)(e.value4,t(e.value3)(n(172)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): "+[e.constructor.name])}})),r=n(169);return function(t){return r(t,e)}}},foldl:function(t){return function(e){var n=ZR("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof KR)return e;if(r instanceof JR)return n(178)(t(n(178)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): "+[r.constructor.name])}})),r=n(175);return function(t){return r(e,t)}}},foldMap:function(t){var e=Vg(t),n=Tv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof KR)return e;if(i instanceof JR)return n(r(i.value4))(n(t(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): "+[i.constructor.name])};return r}}},dO={foldrWithIndex:function(t){return function(e){var n=ZR("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof KR)return r;if(e instanceof JR)return n(192)(e.value4,t(e.value2)(e.value3)(n(192)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): "+[e.constructor.name])}})),r=n(189);return function(t){return r(t,e)}}},foldlWithIndex:function(t){return function(e){var n=ZR("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof KR)return e;if(r instanceof JR)return n(198)(t(r.value2)(n(198)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): "+[r.constructor.name])}})),r=n(195);return function(t){return r(e,t)}}},foldMapWithIndex:function(t){var e=Vg(t),n=Tv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof KR)return e;if(i instanceof JR)return n(r(i.value4))(n(t(i.value2)(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): "+[i.constructor.name])};return r}},Foldable0:function(){return fO}},vO=function(){return vR(dO)((function(t){return function(e){return function(e){return new mR(t,e)}}}))(pR.value)}(),gO=function(){return KR.value}(),pO=function(t){var e=hO(t);return function(t){return Um(t)((function(t){return function(n){return e(n.value0)(n.value1)(t)}}))(gO)}};function mO(t){return{term:t,done:!1}}function RO(t){return t.done}function OO(t){return t.term}function wO(t){return function(e){return e.term=t,e.done=!0,t}}var xO=function(){function t(){}return t.value=new t,t}(),yO=function(){function t(){}return t.value=new t,t}(),bO=function(){function t(){}return t.value=new t,t}(),kO=function(){function t(){}return t.value=new t,t}(),CO=function(){function t(){}return t.value=new t,t}(),TO=function(){function t(){}return t.value=new t,t}(),SO=function(){function t(){}return t.value=new t,t}(),AO=function(){function t(){}return t.value=new t,t}(),PO=function(){function t(){}return t.value=new t,t}(),EO=function(){function t(){}return t.value=new t,t}(),_O=function(){function t(){}return t.value=new t,t}(),LO=function(){function t(){}return t.value=new t,t}(),DO=function(){function t(){}return t.value=new t,t}(),QO=function(){function t(){}return t.value=new t,t}(),IO=function(){function t(){}return t.value=new t,t}(),NO=function(){function t(){}return t.value=new t,t}(),MO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),$O=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),FO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),BO=function(){function t(){}return t.value=new t,t}(),UO=function(){function t(){}return t.value=new t,t}(),HO={show:function(t){if(t instanceof xO)return"-";if(t instanceof yO)return"#";if(t instanceof bO)return"√";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 23, column 1 - line 26, column 18): "+[t.constructor.name])}},qO={show:function(t){if(t instanceof kO)return"&&";if(t instanceof CO)return"||";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 60, column 1 - line 62, column 18): "+[t.constructor.name])}},VO=wg(qO),XO={show:function(t){if(t instanceof TO)return"==";if(t instanceof SO)return"!=";if(t instanceof AO)return"<";if(t instanceof PO)return"<=";if(t instanceof EO)return">";if(t instanceof _O)return">=";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 52, column 1 - line 58, column 18): "+[t.constructor.name])}},zO=wg(XO),WO={show:function(t){if(t instanceof LO)return"+";if(t instanceof DO)return"-";if(t instanceof QO)return"*";if(t instanceof IO)return"/";if(t instanceof NO)return"%";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 45, column 1 - line 50, column 17): "+[t.constructor.name])}},jO=wg(WO),GO={show:function(t){if(t instanceof MO)return jO(t.value0);if(t instanceof $O)return zO(t.value0);if(t instanceof FO)return VO(t.value0);if(t instanceof BO)return"++";if(t instanceof UO)return"!!";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 38, column 1 - line 43, column 23): "+[t.constructor.name])}},YO=function(t){return"("+t+")"},ZO=function(t){return"["+t+"]"},KO=function(t){return"{ "+t+" }"},JO=function(t){return"<"+t+">"};function tw(t){return t.charCodeAt(0)}var ew=gg(vg),nw=fg(vg),rw=function(t){return t.toEnum},iw=function(t){return t.fromEnum},sw=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},ow=function(t){return function(e){return function(n){return t(e(n)-1|0)}}},lw=function(t){return t>=tw(ew)&&t<=tw(nw)?new bg(function(t){return String.fromCharCode(t)}(t)):yg.value},aw={succ:sw(lw)(tw),pred:ow(lw)(tw),Ord0:function(){return cg}},uw=function(){return{cardinality:tw(nw)-tw(ew)|0,toEnum:lw,fromEnum:tw,Bounded0:function(){return vg},Enum1:function(){return aw}}}(),cw=iR(),hw=cR(Gv),fw=function(){function t(){}return t.value=new t,t}(),dw=function(){function t(){}return t.value=new t,t}(),vw=function(){function t(){}return t.value=new t,t}(),gw=function(){function t(){}return t.value=new t,t}(),pw=function(){function t(){}return t.value=new t,t}(),mw=function(){function t(){}return t.value=new t,t}(),Rw=function(){function t(){}return t.value=new t,t}(),Ow=function(){function t(){}return t.value=new t,t}(),ww=function(){function t(){}return t.value=new t,t}(),xw=function(){function t(){}return t.value=new t,t}(),yw=function(){function t(){}return t.value=new t,t}(),bw=function(){function t(){}return t.value=new t,t}(),kw=function(){function t(){}return t.value=new t,t}(),Cw=function(){function t(){}return t.value=new t,t}(),Tw=function(){function t(){}return t.value=new t,t}(),Sw=function(){function t(){}return t.value=new t,t}(),Aw=function(){function t(){}return t.value=new t,t}(),Pw=function(){function t(){}return t.value=new t,t}(),Ew=function(){function t(){}return t.value=new t,t}(),_w=function(){function t(){}return t.value=new t,t}(),Lw=function(){function t(){}return t.value=new t,t}(),Dw=function(){function t(){}return t.value=new t,t}(),Qw=function(){function t(){}return t.value=new t,t}(),Iw=function(){function t(){}return t.value=new t,t}(),Nw=function(){function t(){}return t.value=new t,t}(),Mw=function(){function t(){}return t.value=new t,t}(),$w=function(){function t(){}return t.value=new t,t}(),Fw=function(){function t(){}return t.value=new t,t}(),Bw=function(){function t(){}return t.value=new t,t}(),Uw=function(){function t(){}return t.value=new t,t}(),Hw=function(){return{category:2,unicodeCat:Qw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),qw=function(){return{category:67108864,unicodeCat:Nw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Vw=function(){return{category:33554432,unicodeCat:Iw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Xw=8192,zw=function(){return{category:Xw,unicodeCat:Dw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Ww=function(){return{category:Xw,unicodeCat:Dw.value,possible:1,updist:0,lowdist:26,titledist:0}}(),jw=function(){return{category:Xw,unicodeCat:Dw.value,possible:1,updist:-26,lowdist:0,titledist:-26}}(),Gw=function(){return{category:64,unicodeCat:Ew.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Yw=function(){return{category:1024,unicodeCat:Lw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Zw=function(){return{category:8,unicodeCat:_w.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Kw=function(){return{category:16,unicodeCat:Cw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Jw=function(){return{category:4,unicodeCat:Pw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),tx=function(){return{category:32768,unicodeCat:Sw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ex=262144,nx=function(){return{category:ex,unicodeCat:Aw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),rx=function(){return{category:32,unicodeCat:Tw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ix=function(){return{category:128,unicodeCat:kw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),sx=function(){return{category:2048,unicodeCat:bw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ox=131072,lx=function(){return{category:ox,unicodeCat:yw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ax=16777216,ux=function(){return{category:ax,unicodeCat:xw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),cx=function(){return{category:ax,unicodeCat:xw.value,possible:1,updist:0,lowdist:16,titledist:0}}(),hx=function(){return{category:ax,unicodeCat:xw.value,possible:1,updist:-16,lowdist:0,titledist:-16}}(),fx=256,dx=function(){return{category:fx,unicodeCat:ww.value,possible:0,updist:0,lowdist:0,titledist:0}}(),vx=2097152,gx=function(){return{category:vx,unicodeCat:mw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),px=function(){return{category:vx,unicodeCat:mw.value,possible:1,updist:84,lowdist:0,titledist:84}}(),mx=4194304,Rx=function(){return{category:mx,unicodeCat:Ow.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Ox=8388608,wx=function(){return{category:Ox,unicodeCat:Rw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),xx=512,yx=function(){return{category:xx,unicodeCat:Uw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),bx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:8,titledist:0}}(),kx=function(){return{category:xx,unicodeCat:fw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Cx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-60,titledist:0}}(),Tx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-7,titledist:0}}(),Sx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:80,titledist:0}}(),Ax=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:15,titledist:0}}(),Px=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:48,titledist:0}}(),Ex=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:7264,titledist:0}}(),_x=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:38864,titledist:0}}(),Lx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-3008,titledist:0}}(),Dx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-7615,titledist:0}}(),Qx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),Ix=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-74,titledist:0}}(),Nx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-86,titledist:0}}(),Mx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-100,titledist:0}}(),$x=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-112,titledist:0}}(),Fx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-128,titledist:0}}(),Bx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-126,titledist:0}}(),Ux=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-7517,titledist:0}}(),Hx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-8383,titledist:0}}(),qx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-8262,titledist:0}}(),Vx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:28,titledist:0}}(),Xx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10743,titledist:0}}(),zx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-3814,titledist:0}}(),Wx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10727,titledist:0}}(),jx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10780,titledist:0}}(),Gx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10749,titledist:0}}(),Yx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10783,titledist:0}}(),Zx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10782,titledist:0}}(),Kx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-10815,titledist:0}}(),Jx=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-35332,titledist:0}}(),ty=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42280,titledist:0}}(),ey=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42308,titledist:0}}(),ny=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42319,titledist:0}}(),ry=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42315,titledist:0}}(),iy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42305,titledist:0}}(),sy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42258,titledist:0}}(),oy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42282,titledist:0}}(),ly=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42261,titledist:0}}(),ay=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:928,titledist:0}}(),uy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-48,titledist:0}}(),cy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-42307,titledist:0}}(),hy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-35384,titledist:0}}(),fy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:40,titledist:0}}(),dy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:34,titledist:0}}(),vy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:1,titledist:0}}(),gy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-199,titledist:0}}(),py=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-121,titledist:0}}(),my=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:210,titledist:0}}(),Ry=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:206,titledist:0}}(),Oy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:205,titledist:0}}(),wy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:79,titledist:0}}(),xy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:202,titledist:0}}(),yy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:203,titledist:0}}(),by=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:207,titledist:0}}(),ky=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:211,titledist:0}}(),Cy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:209,titledist:0}}(),Ty=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:213,titledist:0}}(),Sy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:214,titledist:0}}(),Ay=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:218,titledist:0}}(),Py=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:217,titledist:0}}(),Ey=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:219,titledist:0}}(),_y=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:2,titledist:1}}(),Ly=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-97,titledist:0}}(),Dy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-56,titledist:0}}(),Qy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-130,titledist:0}}(),Iy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:10795,titledist:0}}(),Ny=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-163,titledist:0}}(),My=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:10792,titledist:0}}(),$y=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:-195,titledist:0}}(),Fy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:69,titledist:0}}(),By=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:71,titledist:0}}(),Uy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:32,titledist:0}}(),Hy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:116,titledist:0}}(),qy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:38,titledist:0}}(),Vy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:37,titledist:0}}(),Xy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:64,titledist:0}}(),zy=function(){return{category:xx,unicodeCat:fw.value,possible:1,updist:0,lowdist:63,titledist:0}}(),Wy=524288,jy=function(){return{category:Wy,unicodeCat:vw.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),Gy=function(){return{category:Wy,unicodeCat:vw.value,possible:1,updist:0,lowdist:-9,titledist:0}}(),Yy=function(){return{category:Wy,unicodeCat:vw.value,possible:1,updist:-1,lowdist:1,titledist:0}}(),Zy=16384,Ky=function(){return{category:Zy,unicodeCat:pw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Jy=1048576,tb=function(){return{category:Jy,unicodeCat:gw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),eb=4096,nb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-37,lowdist:0,titledist:-37}}(),rb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-31,lowdist:0,titledist:-31}}(),ib=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-64,lowdist:0,titledist:-64}}(),sb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-63,lowdist:0,titledist:-63}}(),ob=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-62,lowdist:0,titledist:-62}}(),lb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-57,lowdist:0,titledist:-57}}(),ab=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-47,lowdist:0,titledist:-47}}(),ub=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-54,lowdist:0,titledist:-54}}(),cb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-8,lowdist:0,titledist:-8}}(),hb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-86,lowdist:0,titledist:-86}}(),fb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-80,lowdist:0,titledist:-80}}(),db=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:7,lowdist:0,titledist:7}}(),vb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-116,lowdist:0,titledist:-116}}(),gb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-96,lowdist:0,titledist:-96}}(),pb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-32,lowdist:0,titledist:-32}}(),mb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-15,lowdist:0,titledist:-15}}(),Rb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-48,lowdist:0,titledist:-48}}(),Ob=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:3008,lowdist:0,titledist:0}}(),wb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6254,lowdist:0,titledist:-6254}}(),xb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6253,lowdist:0,titledist:-6253}}(),yb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6244,lowdist:0,titledist:-6244}}(),bb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6242,lowdist:0,titledist:-6242}}(),kb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6243,lowdist:0,titledist:-6243}}(),Cb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6236,lowdist:0,titledist:-6236}}(),Tb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-6181,lowdist:0,titledist:-6181}}(),Sb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:35266,lowdist:0,titledist:35266}}(),Ab=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:35332,lowdist:0,titledist:35332}}(),Pb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:3814,lowdist:0,titledist:3814}}(),Eb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:35384,lowdist:0,titledist:35384}}(),_b=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-59,lowdist:0,titledist:-59}}(),Lb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:8,lowdist:0,titledist:8}}(),Db=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:74,lowdist:0,titledist:74}}(),Qb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:86,lowdist:0,titledist:86}}(),Ib=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:100,lowdist:0,titledist:100}}(),Nb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:128,lowdist:0,titledist:128}}(),Mb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:112,lowdist:0,titledist:112}}(),$b=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:126,lowdist:0,titledist:126}}(),Fb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:9,lowdist:0,titledist:9}}(),Bb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-7205,lowdist:0,titledist:-7205}}(),Ub=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-28,lowdist:0,titledist:-28}}(),Hb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-10795,lowdist:0,titledist:-10795}}(),qb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-10792,lowdist:0,titledist:-10792}}(),Vb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:743,lowdist:0,titledist:743}}(),Xb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-7264,lowdist:0,titledist:-7264}}(),zb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:48,lowdist:0,titledist:48}}(),Wb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-928,lowdist:0,titledist:-928}}(),jb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-38864,lowdist:0,titledist:-38864}}(),Gb=function(){return{category:eb,unicodeCat:dw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Yb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-40,lowdist:0,titledist:-40}}(),Zb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-34,lowdist:0,titledist:-34}}(),Kb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:121,lowdist:0,titledist:121}}(),Jb=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-1,lowdist:0,titledist:-1}}(),tk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-232,lowdist:0,titledist:-232}}(),ek=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-300,lowdist:0,titledist:-300}}(),nk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:195,lowdist:0,titledist:195}}(),rk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:97,lowdist:0,titledist:97}}(),ik=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:163,lowdist:0,titledist:163}}(),sk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:130,lowdist:0,titledist:130}}(),ok=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:56,lowdist:0,titledist:56}}(),lk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-2,lowdist:0,titledist:-1}}(),ak=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-79,lowdist:0,titledist:-79}}(),uk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10815,lowdist:0,titledist:10815}}(),ck=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10783,lowdist:0,titledist:10783}}(),hk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10780,lowdist:0,titledist:10780}}(),fk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10782,lowdist:0,titledist:10782}}(),dk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-210,lowdist:0,titledist:-210}}(),vk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-206,lowdist:0,titledist:-206}}(),gk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-205,lowdist:0,titledist:-205}}(),pk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-202,lowdist:0,titledist:-202}}(),mk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-203,lowdist:0,titledist:-203}}(),Rk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42319,lowdist:0,titledist:42319}}(),Ok=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42315,lowdist:0,titledist:42315}}(),wk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-207,lowdist:0,titledist:-207}}(),xk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42280,lowdist:0,titledist:42280}}(),yk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42308,lowdist:0,titledist:42308}}(),bk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-209,lowdist:0,titledist:-209}}(),kk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-211,lowdist:0,titledist:-211}}(),Ck=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10743,lowdist:0,titledist:10743}}(),Tk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42305,lowdist:0,titledist:42305}}(),Sk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10749,lowdist:0,titledist:10749}}(),Ak=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-213,lowdist:0,titledist:-213}}(),Pk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-214,lowdist:0,titledist:-214}}(),Ek=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:10727,lowdist:0,titledist:10727}}(),_k=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-218,lowdist:0,titledist:-218}}(),Lk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42307,lowdist:0,titledist:42307}}(),Dk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42282,lowdist:0,titledist:42282}}(),Qk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-69,lowdist:0,titledist:-69}}(),Ik=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-217,lowdist:0,titledist:-217}}(),Nk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-71,lowdist:0,titledist:-71}}(),Mk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-219,lowdist:0,titledist:-219}}(),$k=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42261,lowdist:0,titledist:42261}}(),Fk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:42258,lowdist:0,titledist:42258}}(),Bk=function(){return{category:eb,unicodeCat:dw.value,possible:1,updist:-38,lowdist:0,titledist:-38}}(),Uk=function(){return{category:134217728,unicodeCat:Fw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Hk=function(){return{category:268435456,unicodeCat:Bw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),qk=function(){return{category:65536,unicodeCat:$w.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Vk=function(){return{category:1,unicodeCat:Mw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Xk=function(t){return function(e){return function(n){return function(r){var i;return(i=0,function(n){var s,o=i,l=!1;function a(i,s){if(i>s||i>=sm(e))return l=!0,yg.value;var a=YR(XR((i+s|0)/2)),u=cw(e)(a),c=r(t)(u);return c instanceof ig?(l=!0,new bg(u)):c instanceof rg?(o=a+1|0,void(n=s)):(o=i,void(n=a-1|0))}for(;!l;)s=a(o,n);return s})(n)}}}},zk=function(t){return function(e){return t.start>=e.start&&t.start<(e.start+e.length|0)?ig.value:t.start>e.start?rg.value:ng.value}},Wk=function(t){return function(e){return function(n){var r=Xk({start:e,length:1,convRule:yx})(t)(n)(zk);if(r instanceof yg)return yg.value;if(r instanceof bg)return new bg(r.value0.convRule);throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5612, column 5 - line 5614, column 60): "+[r.constructor.name])}}},jk=[{start:0,length:32,convRule:Vk},{start:32,length:1,convRule:Hw},{start:33,length:3,convRule:Jw},{start:36,length:1,convRule:Zw},{start:37,length:3,convRule:Jw},{start:40,length:1,convRule:Kw},{start:41,length:1,convRule:rx},{start:42,length:1,convRule:Jw},{start:43,length:1,convRule:Gw},{start:44,length:1,convRule:Jw},{start:45,length:1,convRule:ix},{start:46,length:2,convRule:Jw},{start:48,length:10,convRule:dx},{start:58,length:2,convRule:Jw},{start:60,length:3,convRule:Gw},{start:63,length:2,convRule:Jw},{start:65,length:26,convRule:Uy},{start:91,length:1,convRule:Kw},{start:92,length:1,convRule:Jw},{start:93,length:1,convRule:rx},{start:94,length:1,convRule:Yw},{start:95,length:1,convRule:sx},{start:96,length:1,convRule:Yw},{start:97,length:26,convRule:pb},{start:123,length:1,convRule:Kw},{start:124,length:1,convRule:Gw},{start:125,length:1,convRule:rx},{start:126,length:1,convRule:Gw},{start:127,length:33,convRule:Vk},{start:160,length:1,convRule:Hw},{start:161,length:1,convRule:Jw},{start:162,length:4,convRule:Zw},{start:166,length:1,convRule:zw},{start:167,length:1,convRule:Jw},{start:168,length:1,convRule:Yw},{start:169,length:1,convRule:zw},{start:170,length:1,convRule:Ky},{start:171,length:1,convRule:tx},{start:172,length:1,convRule:Gw},{start:173,length:1,convRule:qk},{start:174,length:1,convRule:zw},{start:175,length:1,convRule:Yw},{start:176,length:1,convRule:zw},{start:177,length:1,convRule:Gw},{start:178,length:2,convRule:lx},{start:180,length:1,convRule:Yw},{start:181,length:1,convRule:Vb},{start:182,length:2,convRule:Jw},{start:184,length:1,convRule:Yw},{start:185,length:1,convRule:lx},{start:186,length:1,convRule:Ky},{start:187,length:1,convRule:nx},{start:188,length:3,convRule:lx},{start:191,length:1,convRule:Jw},{start:192,length:23,convRule:Uy},{start:215,length:1,convRule:Gw},{start:216,length:7,convRule:Uy},{start:223,length:1,convRule:Gb},{start:224,length:23,convRule:pb},{start:247,length:1,convRule:Gw},{start:248,length:7,convRule:pb},{start:255,length:1,convRule:Kb},{start:256,length:1,convRule:vy},{start:257,length:1,convRule:Jb},{start:258,length:1,convRule:vy},{start:259,length:1,convRule:Jb},{start:260,length:1,convRule:vy},{start:261,length:1,convRule:Jb},{start:262,length:1,convRule:vy},{start:263,length:1,convRule:Jb},{start:264,length:1,convRule:vy},{start:265,length:1,convRule:Jb},{start:266,length:1,convRule:vy},{start:267,length:1,convRule:Jb},{start:268,length:1,convRule:vy},{start:269,length:1,convRule:Jb},{start:270,length:1,convRule:vy},{start:271,length:1,convRule:Jb},{start:272,length:1,convRule:vy},{start:273,length:1,convRule:Jb},{start:274,length:1,convRule:vy},{start:275,length:1,convRule:Jb},{start:276,length:1,convRule:vy},{start:277,length:1,convRule:Jb},{start:278,length:1,convRule:vy},{start:279,length:1,convRule:Jb},{start:280,length:1,convRule:vy},{start:281,length:1,convRule:Jb},{start:282,length:1,convRule:vy},{start:283,length:1,convRule:Jb},{start:284,length:1,convRule:vy},{start:285,length:1,convRule:Jb},{start:286,length:1,convRule:vy},{start:287,length:1,convRule:Jb},{start:288,length:1,convRule:vy},{start:289,length:1,convRule:Jb},{start:290,length:1,convRule:vy},{start:291,length:1,convRule:Jb},{start:292,length:1,convRule:vy},{start:293,length:1,convRule:Jb},{start:294,length:1,convRule:vy},{start:295,length:1,convRule:Jb},{start:296,length:1,convRule:vy},{start:297,length:1,convRule:Jb},{start:298,length:1,convRule:vy},{start:299,length:1,convRule:Jb},{start:300,length:1,convRule:vy},{start:301,length:1,convRule:Jb},{start:302,length:1,convRule:vy},{start:303,length:1,convRule:Jb},{start:304,length:1,convRule:gy},{start:305,length:1,convRule:tk},{start:306,length:1,convRule:vy},{start:307,length:1,convRule:Jb},{start:308,length:1,convRule:vy},{start:309,length:1,convRule:Jb},{start:310,length:1,convRule:vy},{start:311,length:1,convRule:Jb},{start:312,length:1,convRule:Gb},{start:313,length:1,convRule:vy},{start:314,length:1,convRule:Jb},{start:315,length:1,convRule:vy},{start:316,length:1,convRule:Jb},{start:317,length:1,convRule:vy},{start:318,length:1,convRule:Jb},{start:319,length:1,convRule:vy},{start:320,length:1,convRule:Jb},{start:321,length:1,convRule:vy},{start:322,length:1,convRule:Jb},{start:323,length:1,convRule:vy},{start:324,length:1,convRule:Jb},{start:325,length:1,convRule:vy},{start:326,length:1,convRule:Jb},{start:327,length:1,convRule:vy},{start:328,length:1,convRule:Jb},{start:329,length:1,convRule:Gb},{start:330,length:1,convRule:vy},{start:331,length:1,convRule:Jb},{start:332,length:1,convRule:vy},{start:333,length:1,convRule:Jb},{start:334,length:1,convRule:vy},{start:335,length:1,convRule:Jb},{start:336,length:1,convRule:vy},{start:337,length:1,convRule:Jb},{start:338,length:1,convRule:vy},{start:339,length:1,convRule:Jb},{start:340,length:1,convRule:vy},{start:341,length:1,convRule:Jb},{start:342,length:1,convRule:vy},{start:343,length:1,convRule:Jb},{start:344,length:1,convRule:vy},{start:345,length:1,convRule:Jb},{start:346,length:1,convRule:vy},{start:347,length:1,convRule:Jb},{start:348,length:1,convRule:vy},{start:349,length:1,convRule:Jb},{start:350,length:1,convRule:vy},{start:351,length:1,convRule:Jb},{start:352,length:1,convRule:vy},{start:353,length:1,convRule:Jb},{start:354,length:1,convRule:vy},{start:355,length:1,convRule:Jb},{start:356,length:1,convRule:vy},{start:357,length:1,convRule:Jb},{start:358,length:1,convRule:vy},{start:359,length:1,convRule:Jb},{start:360,length:1,convRule:vy},{start:361,length:1,convRule:Jb},{start:362,length:1,convRule:vy},{start:363,length:1,convRule:Jb},{start:364,length:1,convRule:vy},{start:365,length:1,convRule:Jb},{start:366,length:1,convRule:vy},{start:367,length:1,convRule:Jb},{start:368,length:1,convRule:vy},{start:369,length:1,convRule:Jb},{start:370,length:1,convRule:vy},{start:371,length:1,convRule:Jb},{start:372,length:1,convRule:vy},{start:373,length:1,convRule:Jb},{start:374,length:1,convRule:vy},{start:375,length:1,convRule:Jb},{start:376,length:1,convRule:py},{start:377,length:1,convRule:vy},{start:378,length:1,convRule:Jb},{start:379,length:1,convRule:vy},{start:380,length:1,convRule:Jb},{start:381,length:1,convRule:vy},{start:382,length:1,convRule:Jb},{start:383,length:1,convRule:ek},{start:384,length:1,convRule:nk},{start:385,length:1,convRule:my},{start:386,length:1,convRule:vy},{start:387,length:1,convRule:Jb},{start:388,length:1,convRule:vy},{start:389,length:1,convRule:Jb},{start:390,length:1,convRule:Ry},{start:391,length:1,convRule:vy},{start:392,length:1,convRule:Jb},{start:393,length:2,convRule:Oy},{start:395,length:1,convRule:vy},{start:396,length:1,convRule:Jb},{start:397,length:1,convRule:Gb},{start:398,length:1,convRule:wy},{start:399,length:1,convRule:xy},{start:400,length:1,convRule:yy},{start:401,length:1,convRule:vy},{start:402,length:1,convRule:Jb},{start:403,length:1,convRule:Oy},{start:404,length:1,convRule:by},{start:405,length:1,convRule:rk},{start:406,length:1,convRule:ky},{start:407,length:1,convRule:Cy},{start:408,length:1,convRule:vy},{start:409,length:1,convRule:Jb},{start:410,length:1,convRule:ik},{start:411,length:1,convRule:Gb},{start:412,length:1,convRule:ky},{start:413,length:1,convRule:Ty},{start:414,length:1,convRule:sk},{start:415,length:1,convRule:Sy},{start:416,length:1,convRule:vy},{start:417,length:1,convRule:Jb},{start:418,length:1,convRule:vy},{start:419,length:1,convRule:Jb},{start:420,length:1,convRule:vy},{start:421,length:1,convRule:Jb},{start:422,length:1,convRule:Ay},{start:423,length:1,convRule:vy},{start:424,length:1,convRule:Jb},{start:425,length:1,convRule:Ay},{start:426,length:2,convRule:Gb},{start:428,length:1,convRule:vy},{start:429,length:1,convRule:Jb},{start:430,length:1,convRule:Ay},{start:431,length:1,convRule:vy},{start:432,length:1,convRule:Jb},{start:433,length:2,convRule:Py},{start:435,length:1,convRule:vy},{start:436,length:1,convRule:Jb},{start:437,length:1,convRule:vy},{start:438,length:1,convRule:Jb},{start:439,length:1,convRule:Ey},{start:440,length:1,convRule:vy},{start:441,length:1,convRule:Jb},{start:442,length:1,convRule:Gb},{start:443,length:1,convRule:Ky},{start:444,length:1,convRule:vy},{start:445,length:1,convRule:Jb},{start:446,length:1,convRule:Gb},{start:447,length:1,convRule:ok},{start:448,length:4,convRule:Ky},{start:452,length:1,convRule:_y},{start:453,length:1,convRule:Yy},{start:454,length:1,convRule:lk},{start:455,length:1,convRule:_y},{start:456,length:1,convRule:Yy},{start:457,length:1,convRule:lk},{start:458,length:1,convRule:_y},{start:459,length:1,convRule:Yy},{start:460,length:1,convRule:lk},{start:461,length:1,convRule:vy},{start:462,length:1,convRule:Jb},{start:463,length:1,convRule:vy},{start:464,length:1,convRule:Jb},{start:465,length:1,convRule:vy},{start:466,length:1,convRule:Jb},{start:467,length:1,convRule:vy},{start:468,length:1,convRule:Jb},{start:469,length:1,convRule:vy},{start:470,length:1,convRule:Jb},{start:471,length:1,convRule:vy},{start:472,length:1,convRule:Jb},{start:473,length:1,convRule:vy},{start:474,length:1,convRule:Jb},{start:475,length:1,convRule:vy},{start:476,length:1,convRule:Jb},{start:477,length:1,convRule:ak},{start:478,length:1,convRule:vy},{start:479,length:1,convRule:Jb},{start:480,length:1,convRule:vy},{start:481,length:1,convRule:Jb},{start:482,length:1,convRule:vy},{start:483,length:1,convRule:Jb},{start:484,length:1,convRule:vy},{start:485,length:1,convRule:Jb},{start:486,length:1,convRule:vy},{start:487,length:1,convRule:Jb},{start:488,length:1,convRule:vy},{start:489,length:1,convRule:Jb},{start:490,length:1,convRule:vy},{start:491,length:1,convRule:Jb},{start:492,length:1,convRule:vy},{start:493,length:1,convRule:Jb},{start:494,length:1,convRule:vy},{start:495,length:1,convRule:Jb},{start:496,length:1,convRule:Gb},{start:497,length:1,convRule:_y},{start:498,length:1,convRule:Yy},{start:499,length:1,convRule:lk},{start:500,length:1,convRule:vy},{start:501,length:1,convRule:Jb},{start:502,length:1,convRule:Ly},{start:503,length:1,convRule:Dy},{start:504,length:1,convRule:vy},{start:505,length:1,convRule:Jb},{start:506,length:1,convRule:vy},{start:507,length:1,convRule:Jb},{start:508,length:1,convRule:vy},{start:509,length:1,convRule:Jb},{start:510,length:1,convRule:vy},{start:511,length:1,convRule:Jb},{start:512,length:1,convRule:vy},{start:513,length:1,convRule:Jb},{start:514,length:1,convRule:vy},{start:515,length:1,convRule:Jb},{start:516,length:1,convRule:vy},{start:517,length:1,convRule:Jb},{start:518,length:1,convRule:vy},{start:519,length:1,convRule:Jb},{start:520,length:1,convRule:vy},{start:521,length:1,convRule:Jb},{start:522,length:1,convRule:vy},{start:523,length:1,convRule:Jb},{start:524,length:1,convRule:vy},{start:525,length:1,convRule:Jb},{start:526,length:1,convRule:vy},{start:527,length:1,convRule:Jb},{start:528,length:1,convRule:vy},{start:529,length:1,convRule:Jb},{start:530,length:1,convRule:vy},{start:531,length:1,convRule:Jb},{start:532,length:1,convRule:vy},{start:533,length:1,convRule:Jb},{start:534,length:1,convRule:vy},{start:535,length:1,convRule:Jb},{start:536,length:1,convRule:vy},{start:537,length:1,convRule:Jb},{start:538,length:1,convRule:vy},{start:539,length:1,convRule:Jb},{start:540,length:1,convRule:vy},{start:541,length:1,convRule:Jb},{start:542,length:1,convRule:vy},{start:543,length:1,convRule:Jb},{start:544,length:1,convRule:Qy},{start:545,length:1,convRule:Gb},{start:546,length:1,convRule:vy},{start:547,length:1,convRule:Jb},{start:548,length:1,convRule:vy},{start:549,length:1,convRule:Jb},{start:550,length:1,convRule:vy},{start:551,length:1,convRule:Jb},{start:552,length:1,convRule:vy},{start:553,length:1,convRule:Jb},{start:554,length:1,convRule:vy},{start:555,length:1,convRule:Jb},{start:556,length:1,convRule:vy},{start:557,length:1,convRule:Jb},{start:558,length:1,convRule:vy},{start:559,length:1,convRule:Jb},{start:560,length:1,convRule:vy},{start:561,length:1,convRule:Jb},{start:562,length:1,convRule:vy},{start:563,length:1,convRule:Jb},{start:564,length:6,convRule:Gb},{start:570,length:1,convRule:Iy},{start:571,length:1,convRule:vy},{start:572,length:1,convRule:Jb},{start:573,length:1,convRule:Ny},{start:574,length:1,convRule:My},{start:575,length:2,convRule:uk},{start:577,length:1,convRule:vy},{start:578,length:1,convRule:Jb},{start:579,length:1,convRule:$y},{start:580,length:1,convRule:Fy},{start:581,length:1,convRule:By},{start:582,length:1,convRule:vy},{start:583,length:1,convRule:Jb},{start:584,length:1,convRule:vy},{start:585,length:1,convRule:Jb},{start:586,length:1,convRule:vy},{start:587,length:1,convRule:Jb},{start:588,length:1,convRule:vy},{start:589,length:1,convRule:Jb},{start:590,length:1,convRule:vy},{start:591,length:1,convRule:Jb},{start:592,length:1,convRule:ck},{start:593,length:1,convRule:hk},{start:594,length:1,convRule:fk},{start:595,length:1,convRule:dk},{start:596,length:1,convRule:vk},{start:597,length:1,convRule:Gb},{start:598,length:2,convRule:gk},{start:600,length:1,convRule:Gb},{start:601,length:1,convRule:pk},{start:602,length:1,convRule:Gb},{start:603,length:1,convRule:mk},{start:604,length:1,convRule:Rk},{start:605,length:3,convRule:Gb},{start:608,length:1,convRule:gk},{start:609,length:1,convRule:Ok},{start:610,length:1,convRule:Gb},{start:611,length:1,convRule:wk},{start:612,length:1,convRule:Gb},{start:613,length:1,convRule:xk},{start:614,length:1,convRule:yk},{start:615,length:1,convRule:Gb},{start:616,length:1,convRule:bk},{start:617,length:1,convRule:kk},{start:618,length:1,convRule:yk},{start:619,length:1,convRule:Ck},{start:620,length:1,convRule:Tk},{start:621,length:2,convRule:Gb},{start:623,length:1,convRule:kk},{start:624,length:1,convRule:Gb},{start:625,length:1,convRule:Sk},{start:626,length:1,convRule:Ak},{start:627,length:2,convRule:Gb},{start:629,length:1,convRule:Pk},{start:630,length:7,convRule:Gb},{start:637,length:1,convRule:Ek},{start:638,length:2,convRule:Gb},{start:640,length:1,convRule:_k},{start:641,length:1,convRule:Gb},{start:642,length:1,convRule:Lk},{start:643,length:1,convRule:_k},{start:644,length:3,convRule:Gb},{start:647,length:1,convRule:Dk},{start:648,length:1,convRule:_k},{start:649,length:1,convRule:Qk},{start:650,length:2,convRule:Ik},{start:652,length:1,convRule:Nk},{start:653,length:5,convRule:Gb},{start:658,length:1,convRule:Mk},{start:659,length:1,convRule:Gb},{start:660,length:1,convRule:Ky},{start:661,length:8,convRule:Gb},{start:669,length:1,convRule:$k},{start:670,length:1,convRule:Fk},{start:671,length:17,convRule:Gb},{start:688,length:18,convRule:tb},{start:706,length:4,convRule:Yw},{start:710,length:12,convRule:tb},{start:722,length:14,convRule:Yw},{start:736,length:5,convRule:tb},{start:741,length:7,convRule:Yw},{start:748,length:1,convRule:tb},{start:749,length:1,convRule:Yw},{start:750,length:1,convRule:tb},{start:751,length:17,convRule:Yw},{start:768,length:69,convRule:gx},{start:837,length:1,convRule:px},{start:838,length:42,convRule:gx},{start:880,length:1,convRule:vy},{start:881,length:1,convRule:Jb},{start:882,length:1,convRule:vy},{start:883,length:1,convRule:Jb},{start:884,length:1,convRule:tb},{start:885,length:1,convRule:Yw},{start:886,length:1,convRule:vy},{start:887,length:1,convRule:Jb},{start:890,length:1,convRule:tb},{start:891,length:3,convRule:sk},{start:894,length:1,convRule:Jw},{start:895,length:1,convRule:Hy},{start:900,length:2,convRule:Yw},{start:902,length:1,convRule:qy},{start:903,length:1,convRule:Jw},{start:904,length:3,convRule:Vy},{start:908,length:1,convRule:Xy},{start:910,length:2,convRule:zy},{start:912,length:1,convRule:Gb},{start:913,length:17,convRule:Uy},{start:931,length:9,convRule:Uy},{start:940,length:1,convRule:Bk},{start:941,length:3,convRule:nb},{start:944,length:1,convRule:Gb},{start:945,length:17,convRule:pb},{start:962,length:1,convRule:rb},{start:963,length:9,convRule:pb},{start:972,length:1,convRule:ib},{start:973,length:2,convRule:sb},{start:975,length:1,convRule:bx},{start:976,length:1,convRule:ob},{start:977,length:1,convRule:lb},{start:978,length:3,convRule:kx},{start:981,length:1,convRule:ab},{start:982,length:1,convRule:ub},{start:983,length:1,convRule:cb},{start:984,length:1,convRule:vy},{start:985,length:1,convRule:Jb},{start:986,length:1,convRule:vy},{start:987,length:1,convRule:Jb},{start:988,length:1,convRule:vy},{start:989,length:1,convRule:Jb},{start:990,length:1,convRule:vy},{start:991,length:1,convRule:Jb},{start:992,length:1,convRule:vy},{start:993,length:1,convRule:Jb},{start:994,length:1,convRule:vy},{start:995,length:1,convRule:Jb},{start:996,length:1,convRule:vy},{start:997,length:1,convRule:Jb},{start:998,length:1,convRule:vy},{start:999,length:1,convRule:Jb},{start:1e3,length:1,convRule:vy},{start:1001,length:1,convRule:Jb},{start:1002,length:1,convRule:vy},{start:1003,length:1,convRule:Jb},{start:1004,length:1,convRule:vy},{start:1005,length:1,convRule:Jb},{start:1006,length:1,convRule:vy},{start:1007,length:1,convRule:Jb},{start:1008,length:1,convRule:hb},{start:1009,length:1,convRule:fb},{start:1010,length:1,convRule:db},{start:1011,length:1,convRule:vb},{start:1012,length:1,convRule:Cx},{start:1013,length:1,convRule:gb},{start:1014,length:1,convRule:Gw},{start:1015,length:1,convRule:vy},{start:1016,length:1,convRule:Jb},{start:1017,length:1,convRule:Tx},{start:1018,length:1,convRule:vy},{start:1019,length:1,convRule:Jb},{start:1020,length:1,convRule:Gb},{start:1021,length:3,convRule:Qy},{start:1024,length:16,convRule:Sx},{start:1040,length:32,convRule:Uy},{start:1072,length:32,convRule:pb},{start:1104,length:16,convRule:fb},{start:1120,length:1,convRule:vy},{start:1121,length:1,convRule:Jb},{start:1122,length:1,convRule:vy},{start:1123,length:1,convRule:Jb},{start:1124,length:1,convRule:vy},{start:1125,length:1,convRule:Jb},{start:1126,length:1,convRule:vy},{start:1127,length:1,convRule:Jb},{start:1128,length:1,convRule:vy},{start:1129,length:1,convRule:Jb},{start:1130,length:1,convRule:vy},{start:1131,length:1,convRule:Jb},{start:1132,length:1,convRule:vy},{start:1133,length:1,convRule:Jb},{start:1134,length:1,convRule:vy},{start:1135,length:1,convRule:Jb},{start:1136,length:1,convRule:vy},{start:1137,length:1,convRule:Jb},{start:1138,length:1,convRule:vy},{start:1139,length:1,convRule:Jb},{start:1140,length:1,convRule:vy},{start:1141,length:1,convRule:Jb},{start:1142,length:1,convRule:vy},{start:1143,length:1,convRule:Jb},{start:1144,length:1,convRule:vy},{start:1145,length:1,convRule:Jb},{start:1146,length:1,convRule:vy},{start:1147,length:1,convRule:Jb},{start:1148,length:1,convRule:vy},{start:1149,length:1,convRule:Jb},{start:1150,length:1,convRule:vy},{start:1151,length:1,convRule:Jb},{start:1152,length:1,convRule:vy},{start:1153,length:1,convRule:Jb},{start:1154,length:1,convRule:zw},{start:1155,length:5,convRule:gx},{start:1160,length:2,convRule:Rx},{start:1162,length:1,convRule:vy},{start:1163,length:1,convRule:Jb},{start:1164,length:1,convRule:vy},{start:1165,length:1,convRule:Jb},{start:1166,length:1,convRule:vy},{start:1167,length:1,convRule:Jb},{start:1168,length:1,convRule:vy},{start:1169,length:1,convRule:Jb},{start:1170,length:1,convRule:vy},{start:1171,length:1,convRule:Jb},{start:1172,length:1,convRule:vy},{start:1173,length:1,convRule:Jb},{start:1174,length:1,convRule:vy},{start:1175,length:1,convRule:Jb},{start:1176,length:1,convRule:vy},{start:1177,length:1,convRule:Jb},{start:1178,length:1,convRule:vy},{start:1179,length:1,convRule:Jb},{start:1180,length:1,convRule:vy},{start:1181,length:1,convRule:Jb},{start:1182,length:1,convRule:vy},{start:1183,length:1,convRule:Jb},{start:1184,length:1,convRule:vy},{start:1185,length:1,convRule:Jb},{start:1186,length:1,convRule:vy},{start:1187,length:1,convRule:Jb},{start:1188,length:1,convRule:vy},{start:1189,length:1,convRule:Jb},{start:1190,length:1,convRule:vy},{start:1191,length:1,convRule:Jb},{start:1192,length:1,convRule:vy},{start:1193,length:1,convRule:Jb},{start:1194,length:1,convRule:vy},{start:1195,length:1,convRule:Jb},{start:1196,length:1,convRule:vy},{start:1197,length:1,convRule:Jb},{start:1198,length:1,convRule:vy},{start:1199,length:1,convRule:Jb},{start:1200,length:1,convRule:vy},{start:1201,length:1,convRule:Jb},{start:1202,length:1,convRule:vy},{start:1203,length:1,convRule:Jb},{start:1204,length:1,convRule:vy},{start:1205,length:1,convRule:Jb},{start:1206,length:1,convRule:vy},{start:1207,length:1,convRule:Jb},{start:1208,length:1,convRule:vy},{start:1209,length:1,convRule:Jb},{start:1210,length:1,convRule:vy},{start:1211,length:1,convRule:Jb},{start:1212,length:1,convRule:vy},{start:1213,length:1,convRule:Jb},{start:1214,length:1,convRule:vy},{start:1215,length:1,convRule:Jb},{start:1216,length:1,convRule:Ax},{start:1217,length:1,convRule:vy},{start:1218,length:1,convRule:Jb},{start:1219,length:1,convRule:vy},{start:1220,length:1,convRule:Jb},{start:1221,length:1,convRule:vy},{start:1222,length:1,convRule:Jb},{start:1223,length:1,convRule:vy},{start:1224,length:1,convRule:Jb},{start:1225,length:1,convRule:vy},{start:1226,length:1,convRule:Jb},{start:1227,length:1,convRule:vy},{start:1228,length:1,convRule:Jb},{start:1229,length:1,convRule:vy},{start:1230,length:1,convRule:Jb},{start:1231,length:1,convRule:mb},{start:1232,length:1,convRule:vy},{start:1233,length:1,convRule:Jb},{start:1234,length:1,convRule:vy},{start:1235,length:1,convRule:Jb},{start:1236,length:1,convRule:vy},{start:1237,length:1,convRule:Jb},{start:1238,length:1,convRule:vy},{start:1239,length:1,convRule:Jb},{start:1240,length:1,convRule:vy},{start:1241,length:1,convRule:Jb},{start:1242,length:1,convRule:vy},{start:1243,length:1,convRule:Jb},{start:1244,length:1,convRule:vy},{start:1245,length:1,convRule:Jb},{start:1246,length:1,convRule:vy},{start:1247,length:1,convRule:Jb},{start:1248,length:1,convRule:vy},{start:1249,length:1,convRule:Jb},{start:1250,length:1,convRule:vy},{start:1251,length:1,convRule:Jb},{start:1252,length:1,convRule:vy},{start:1253,length:1,convRule:Jb},{start:1254,length:1,convRule:vy},{start:1255,length:1,convRule:Jb},{start:1256,length:1,convRule:vy},{start:1257,length:1,convRule:Jb},{start:1258,length:1,convRule:vy},{start:1259,length:1,convRule:Jb},{start:1260,length:1,convRule:vy},{start:1261,length:1,convRule:Jb},{start:1262,length:1,convRule:vy},{start:1263,length:1,convRule:Jb},{start:1264,length:1,convRule:vy},{start:1265,length:1,convRule:Jb},{start:1266,length:1,convRule:vy},{start:1267,length:1,convRule:Jb},{start:1268,length:1,convRule:vy},{start:1269,length:1,convRule:Jb},{start:1270,length:1,convRule:vy},{start:1271,length:1,convRule:Jb},{start:1272,length:1,convRule:vy},{start:1273,length:1,convRule:Jb},{start:1274,length:1,convRule:vy},{start:1275,length:1,convRule:Jb},{start:1276,length:1,convRule:vy},{start:1277,length:1,convRule:Jb},{start:1278,length:1,convRule:vy},{start:1279,length:1,convRule:Jb},{start:1280,length:1,convRule:vy},{start:1281,length:1,convRule:Jb},{start:1282,length:1,convRule:vy},{start:1283,length:1,convRule:Jb},{start:1284,length:1,convRule:vy},{start:1285,length:1,convRule:Jb},{start:1286,length:1,convRule:vy},{start:1287,length:1,convRule:Jb},{start:1288,length:1,convRule:vy},{start:1289,length:1,convRule:Jb},{start:1290,length:1,convRule:vy},{start:1291,length:1,convRule:Jb},{start:1292,length:1,convRule:vy},{start:1293,length:1,convRule:Jb},{start:1294,length:1,convRule:vy},{start:1295,length:1,convRule:Jb},{start:1296,length:1,convRule:vy},{start:1297,length:1,convRule:Jb},{start:1298,length:1,convRule:vy},{start:1299,length:1,convRule:Jb},{start:1300,length:1,convRule:vy},{start:1301,length:1,convRule:Jb},{start:1302,length:1,convRule:vy},{start:1303,length:1,convRule:Jb},{start:1304,length:1,convRule:vy},{start:1305,length:1,convRule:Jb},{start:1306,length:1,convRule:vy},{start:1307,length:1,convRule:Jb},{start:1308,length:1,convRule:vy},{start:1309,length:1,convRule:Jb},{start:1310,length:1,convRule:vy},{start:1311,length:1,convRule:Jb},{start:1312,length:1,convRule:vy},{start:1313,length:1,convRule:Jb},{start:1314,length:1,convRule:vy},{start:1315,length:1,convRule:Jb},{start:1316,length:1,convRule:vy},{start:1317,length:1,convRule:Jb},{start:1318,length:1,convRule:vy},{start:1319,length:1,convRule:Jb},{start:1320,length:1,convRule:vy},{start:1321,length:1,convRule:Jb},{start:1322,length:1,convRule:vy},{start:1323,length:1,convRule:Jb},{start:1324,length:1,convRule:vy},{start:1325,length:1,convRule:Jb},{start:1326,length:1,convRule:vy},{start:1327,length:1,convRule:Jb},{start:1329,length:38,convRule:Px},{start:1369,length:1,convRule:tb},{start:1370,length:6,convRule:Jw},{start:1376,length:1,convRule:Gb},{start:1377,length:38,convRule:Rb},{start:1415,length:2,convRule:Gb},{start:1417,length:1,convRule:Jw},{start:1418,length:1,convRule:ix},{start:1421,length:2,convRule:zw},{start:1423,length:1,convRule:Zw},{start:1425,length:45,convRule:gx},{start:1470,length:1,convRule:ix},{start:1471,length:1,convRule:gx},{start:1472,length:1,convRule:Jw},{start:1473,length:2,convRule:gx},{start:1475,length:1,convRule:Jw},{start:1476,length:2,convRule:gx},{start:1478,length:1,convRule:Jw},{start:1479,length:1,convRule:gx},{start:1488,length:27,convRule:Ky},{start:1519,length:4,convRule:Ky},{start:1523,length:2,convRule:Jw},{start:1536,length:6,convRule:qk},{start:1542,length:3,convRule:Gw},{start:1545,length:2,convRule:Jw},{start:1547,length:1,convRule:Zw},{start:1548,length:2,convRule:Jw},{start:1550,length:2,convRule:zw},{start:1552,length:11,convRule:gx},{start:1563,length:1,convRule:Jw},{start:1564,length:1,convRule:qk},{start:1566,length:2,convRule:Jw},{start:1568,length:32,convRule:Ky},{start:1600,length:1,convRule:tb},{start:1601,length:10,convRule:Ky},{start:1611,length:21,convRule:gx},{start:1632,length:10,convRule:dx},{start:1642,length:4,convRule:Jw},{start:1646,length:2,convRule:Ky},{start:1648,length:1,convRule:gx},{start:1649,length:99,convRule:Ky},{start:1748,length:1,convRule:Jw},{start:1749,length:1,convRule:Ky},{start:1750,length:7,convRule:gx},{start:1757,length:1,convRule:qk},{start:1758,length:1,convRule:zw},{start:1759,length:6,convRule:gx},{start:1765,length:2,convRule:tb},{start:1767,length:2,convRule:gx},{start:1769,length:1,convRule:zw},{start:1770,length:4,convRule:gx},{start:1774,length:2,convRule:Ky},{start:1776,length:10,convRule:dx},{start:1786,length:3,convRule:Ky},{start:1789,length:2,convRule:zw},{start:1791,length:1,convRule:Ky},{start:1792,length:14,convRule:Jw},{start:1807,length:1,convRule:qk},{start:1808,length:1,convRule:Ky},{start:1809,length:1,convRule:gx},{start:1810,length:30,convRule:Ky},{start:1840,length:27,convRule:gx},{start:1869,length:89,convRule:Ky},{start:1958,length:11,convRule:gx},{start:1969,length:1,convRule:Ky},{start:1984,length:10,convRule:dx},{start:1994,length:33,convRule:Ky},{start:2027,length:9,convRule:gx},{start:2036,length:2,convRule:tb},{start:2038,length:1,convRule:zw},{start:2039,length:3,convRule:Jw},{start:2042,length:1,convRule:tb},{start:2045,length:1,convRule:gx},{start:2046,length:2,convRule:Zw},{start:2048,length:22,convRule:Ky},{start:2070,length:4,convRule:gx},{start:2074,length:1,convRule:tb},{start:2075,length:9,convRule:gx},{start:2084,length:1,convRule:tb},{start:2085,length:3,convRule:gx},{start:2088,length:1,convRule:tb},{start:2089,length:5,convRule:gx},{start:2096,length:15,convRule:Jw},{start:2112,length:25,convRule:Ky},{start:2137,length:3,convRule:gx},{start:2142,length:1,convRule:Jw},{start:2144,length:11,convRule:Ky},{start:2208,length:21,convRule:Ky},{start:2230,length:18,convRule:Ky},{start:2259,length:15,convRule:gx},{start:2274,length:1,convRule:qk},{start:2275,length:32,convRule:gx},{start:2307,length:1,convRule:wx},{start:2308,length:54,convRule:Ky},{start:2362,length:1,convRule:gx},{start:2363,length:1,convRule:wx},{start:2364,length:1,convRule:gx},{start:2365,length:1,convRule:Ky},{start:2366,length:3,convRule:wx},{start:2369,length:8,convRule:gx},{start:2377,length:4,convRule:wx},{start:2381,length:1,convRule:gx},{start:2382,length:2,convRule:wx},{start:2384,length:1,convRule:Ky},{start:2385,length:7,convRule:gx},{start:2392,length:10,convRule:Ky},{start:2402,length:2,convRule:gx},{start:2404,length:2,convRule:Jw},{start:2406,length:10,convRule:dx},{start:2416,length:1,convRule:Jw},{start:2417,length:1,convRule:tb},{start:2418,length:15,convRule:Ky},{start:2433,length:1,convRule:gx},{start:2434,length:2,convRule:wx},{start:2437,length:8,convRule:Ky},{start:2447,length:2,convRule:Ky},{start:2451,length:22,convRule:Ky},{start:2474,length:7,convRule:Ky},{start:2482,length:1,convRule:Ky},{start:2486,length:4,convRule:Ky},{start:2492,length:1,convRule:gx},{start:2493,length:1,convRule:Ky},{start:2494,length:3,convRule:wx},{start:2497,length:4,convRule:gx},{start:2503,length:2,convRule:wx},{start:2507,length:2,convRule:wx},{start:2509,length:1,convRule:gx},{start:2510,length:1,convRule:Ky},{start:2519,length:1,convRule:wx},{start:2524,length:2,convRule:Ky},{start:2527,length:3,convRule:Ky},{start:2530,length:2,convRule:gx},{start:2534,length:10,convRule:dx},{start:2544,length:2,convRule:Ky},{start:2546,length:2,convRule:Zw},{start:2548,length:6,convRule:lx},{start:2554,length:1,convRule:zw},{start:2555,length:1,convRule:Zw},{start:2556,length:1,convRule:Ky},{start:2557,length:1,convRule:Jw},{start:2558,length:1,convRule:gx},{start:2561,length:2,convRule:gx},{start:2563,length:1,convRule:wx},{start:2565,length:6,convRule:Ky},{start:2575,length:2,convRule:Ky},{start:2579,length:22,convRule:Ky},{start:2602,length:7,convRule:Ky},{start:2610,length:2,convRule:Ky},{start:2613,length:2,convRule:Ky},{start:2616,length:2,convRule:Ky},{start:2620,length:1,convRule:gx},{start:2622,length:3,convRule:wx},{start:2625,length:2,convRule:gx},{start:2631,length:2,convRule:gx},{start:2635,length:3,convRule:gx},{start:2641,length:1,convRule:gx},{start:2649,length:4,convRule:Ky},{start:2654,length:1,convRule:Ky},{start:2662,length:10,convRule:dx},{start:2672,length:2,convRule:gx},{start:2674,length:3,convRule:Ky},{start:2677,length:1,convRule:gx},{start:2678,length:1,convRule:Jw},{start:2689,length:2,convRule:gx},{start:2691,length:1,convRule:wx},{start:2693,length:9,convRule:Ky},{start:2703,length:3,convRule:Ky},{start:2707,length:22,convRule:Ky},{start:2730,length:7,convRule:Ky},{start:2738,length:2,convRule:Ky},{start:2741,length:5,convRule:Ky},{start:2748,length:1,convRule:gx},{start:2749,length:1,convRule:Ky},{start:2750,length:3,convRule:wx},{start:2753,length:5,convRule:gx},{start:2759,length:2,convRule:gx},{start:2761,length:1,convRule:wx},{start:2763,length:2,convRule:wx},{start:2765,length:1,convRule:gx},{start:2768,length:1,convRule:Ky},{start:2784,length:2,convRule:Ky},{start:2786,length:2,convRule:gx},{start:2790,length:10,convRule:dx},{start:2800,length:1,convRule:Jw},{start:2801,length:1,convRule:Zw},{start:2809,length:1,convRule:Ky},{start:2810,length:6,convRule:gx},{start:2817,length:1,convRule:gx},{start:2818,length:2,convRule:wx},{start:2821,length:8,convRule:Ky},{start:2831,length:2,convRule:Ky},{start:2835,length:22,convRule:Ky},{start:2858,length:7,convRule:Ky},{start:2866,length:2,convRule:Ky},{start:2869,length:5,convRule:Ky},{start:2876,length:1,convRule:gx},{start:2877,length:1,convRule:Ky},{start:2878,length:1,convRule:wx},{start:2879,length:1,convRule:gx},{start:2880,length:1,convRule:wx},{start:2881,length:4,convRule:gx},{start:2887,length:2,convRule:wx},{start:2891,length:2,convRule:wx},{start:2893,length:1,convRule:gx},{start:2901,length:2,convRule:gx},{start:2903,length:1,convRule:wx},{start:2908,length:2,convRule:Ky},{start:2911,length:3,convRule:Ky},{start:2914,length:2,convRule:gx},{start:2918,length:10,convRule:dx},{start:2928,length:1,convRule:zw},{start:2929,length:1,convRule:Ky},{start:2930,length:6,convRule:lx},{start:2946,length:1,convRule:gx},{start:2947,length:1,convRule:Ky},{start:2949,length:6,convRule:Ky},{start:2958,length:3,convRule:Ky},{start:2962,length:4,convRule:Ky},{start:2969,length:2,convRule:Ky},{start:2972,length:1,convRule:Ky},{start:2974,length:2,convRule:Ky},{start:2979,length:2,convRule:Ky},{start:2984,length:3,convRule:Ky},{start:2990,length:12,convRule:Ky},{start:3006,length:2,convRule:wx},{start:3008,length:1,convRule:gx},{start:3009,length:2,convRule:wx},{start:3014,length:3,convRule:wx},{start:3018,length:3,convRule:wx},{start:3021,length:1,convRule:gx},{start:3024,length:1,convRule:Ky},{start:3031,length:1,convRule:wx},{start:3046,length:10,convRule:dx},{start:3056,length:3,convRule:lx},{start:3059,length:6,convRule:zw},{start:3065,length:1,convRule:Zw},{start:3066,length:1,convRule:zw},{start:3072,length:1,convRule:gx},{start:3073,length:3,convRule:wx},{start:3076,length:1,convRule:gx},{start:3077,length:8,convRule:Ky},{start:3086,length:3,convRule:Ky},{start:3090,length:23,convRule:Ky},{start:3114,length:16,convRule:Ky},{start:3133,length:1,convRule:Ky},{start:3134,length:3,convRule:gx},{start:3137,length:4,convRule:wx},{start:3142,length:3,convRule:gx},{start:3146,length:4,convRule:gx},{start:3157,length:2,convRule:gx},{start:3160,length:3,convRule:Ky},{start:3168,length:2,convRule:Ky},{start:3170,length:2,convRule:gx},{start:3174,length:10,convRule:dx},{start:3191,length:1,convRule:Jw},{start:3192,length:7,convRule:lx},{start:3199,length:1,convRule:zw},{start:3200,length:1,convRule:Ky},{start:3201,length:1,convRule:gx},{start:3202,length:2,convRule:wx},{start:3204,length:1,convRule:Jw},{start:3205,length:8,convRule:Ky},{start:3214,length:3,convRule:Ky},{start:3218,length:23,convRule:Ky},{start:3242,length:10,convRule:Ky},{start:3253,length:5,convRule:Ky},{start:3260,length:1,convRule:gx},{start:3261,length:1,convRule:Ky},{start:3262,length:1,convRule:wx},{start:3263,length:1,convRule:gx},{start:3264,length:5,convRule:wx},{start:3270,length:1,convRule:gx},{start:3271,length:2,convRule:wx},{start:3274,length:2,convRule:wx},{start:3276,length:2,convRule:gx},{start:3285,length:2,convRule:wx},{start:3294,length:1,convRule:Ky},{start:3296,length:2,convRule:Ky},{start:3298,length:2,convRule:gx},{start:3302,length:10,convRule:dx},{start:3313,length:2,convRule:Ky},{start:3328,length:2,convRule:gx},{start:3330,length:2,convRule:wx},{start:3332,length:9,convRule:Ky},{start:3342,length:3,convRule:Ky},{start:3346,length:41,convRule:Ky},{start:3387,length:2,convRule:gx},{start:3389,length:1,convRule:Ky},{start:3390,length:3,convRule:wx},{start:3393,length:4,convRule:gx},{start:3398,length:3,convRule:wx},{start:3402,length:3,convRule:wx},{start:3405,length:1,convRule:gx},{start:3406,length:1,convRule:Ky},{start:3407,length:1,convRule:zw},{start:3412,length:3,convRule:Ky},{start:3415,length:1,convRule:wx},{start:3416,length:7,convRule:lx},{start:3423,length:3,convRule:Ky},{start:3426,length:2,convRule:gx},{start:3430,length:10,convRule:dx},{start:3440,length:9,convRule:lx},{start:3449,length:1,convRule:zw},{start:3450,length:6,convRule:Ky},{start:3457,length:1,convRule:gx},{start:3458,length:2,convRule:wx},{start:3461,length:18,convRule:Ky},{start:3482,length:24,convRule:Ky},{start:3507,length:9,convRule:Ky},{start:3517,length:1,convRule:Ky},{start:3520,length:7,convRule:Ky},{start:3530,length:1,convRule:gx},{start:3535,length:3,convRule:wx},{start:3538,length:3,convRule:gx},{start:3542,length:1,convRule:gx},{start:3544,length:8,convRule:wx},{start:3558,length:10,convRule:dx},{start:3570,length:2,convRule:wx},{start:3572,length:1,convRule:Jw},{start:3585,length:48,convRule:Ky},{start:3633,length:1,convRule:gx},{start:3634,length:2,convRule:Ky},{start:3636,length:7,convRule:gx},{start:3647,length:1,convRule:Zw},{start:3648,length:6,convRule:Ky},{start:3654,length:1,convRule:tb},{start:3655,length:8,convRule:gx},{start:3663,length:1,convRule:Jw},{start:3664,length:10,convRule:dx},{start:3674,length:2,convRule:Jw},{start:3713,length:2,convRule:Ky},{start:3716,length:1,convRule:Ky},{start:3718,length:5,convRule:Ky},{start:3724,length:24,convRule:Ky},{start:3749,length:1,convRule:Ky},{start:3751,length:10,convRule:Ky},{start:3761,length:1,convRule:gx},{start:3762,length:2,convRule:Ky},{start:3764,length:9,convRule:gx},{start:3773,length:1,convRule:Ky},{start:3776,length:5,convRule:Ky},{start:3782,length:1,convRule:tb},{start:3784,length:6,convRule:gx},{start:3792,length:10,convRule:dx},{start:3804,length:4,convRule:Ky},{start:3840,length:1,convRule:Ky},{start:3841,length:3,convRule:zw},{start:3844,length:15,convRule:Jw},{start:3859,length:1,convRule:zw},{start:3860,length:1,convRule:Jw},{start:3861,length:3,convRule:zw},{start:3864,length:2,convRule:gx},{start:3866,length:6,convRule:zw},{start:3872,length:10,convRule:dx},{start:3882,length:10,convRule:lx},{start:3892,length:1,convRule:zw},{start:3893,length:1,convRule:gx},{start:3894,length:1,convRule:zw},{start:3895,length:1,convRule:gx},{start:3896,length:1,convRule:zw},{start:3897,length:1,convRule:gx},{start:3898,length:1,convRule:Kw},{start:3899,length:1,convRule:rx},{start:3900,length:1,convRule:Kw},{start:3901,length:1,convRule:rx},{start:3902,length:2,convRule:wx},{start:3904,length:8,convRule:Ky},{start:3913,length:36,convRule:Ky},{start:3953,length:14,convRule:gx},{start:3967,length:1,convRule:wx},{start:3968,length:5,convRule:gx},{start:3973,length:1,convRule:Jw},{start:3974,length:2,convRule:gx},{start:3976,length:5,convRule:Ky},{start:3981,length:11,convRule:gx},{start:3993,length:36,convRule:gx},{start:4030,length:8,convRule:zw},{start:4038,length:1,convRule:gx},{start:4039,length:6,convRule:zw},{start:4046,length:2,convRule:zw},{start:4048,length:5,convRule:Jw},{start:4053,length:4,convRule:zw},{start:4057,length:2,convRule:Jw},{start:4096,length:43,convRule:Ky},{start:4139,length:2,convRule:wx},{start:4141,length:4,convRule:gx},{start:4145,length:1,convRule:wx},{start:4146,length:6,convRule:gx},{start:4152,length:1,convRule:wx},{start:4153,length:2,convRule:gx},{start:4155,length:2,convRule:wx},{start:4157,length:2,convRule:gx},{start:4159,length:1,convRule:Ky},{start:4160,length:10,convRule:dx},{start:4170,length:6,convRule:Jw},{start:4176,length:6,convRule:Ky},{start:4182,length:2,convRule:wx},{start:4184,length:2,convRule:gx},{start:4186,length:4,convRule:Ky},{start:4190,length:3,convRule:gx},{start:4193,length:1,convRule:Ky},{start:4194,length:3,convRule:wx},{start:4197,length:2,convRule:Ky},{start:4199,length:7,convRule:wx},{start:4206,length:3,convRule:Ky},{start:4209,length:4,convRule:gx},{start:4213,length:13,convRule:Ky},{start:4226,length:1,convRule:gx},{start:4227,length:2,convRule:wx},{start:4229,length:2,convRule:gx},{start:4231,length:6,convRule:wx},{start:4237,length:1,convRule:gx},{start:4238,length:1,convRule:Ky},{start:4239,length:1,convRule:wx},{start:4240,length:10,convRule:dx},{start:4250,length:3,convRule:wx},{start:4253,length:1,convRule:gx},{start:4254,length:2,convRule:zw},{start:4256,length:38,convRule:Ex},{start:4295,length:1,convRule:Ex},{start:4301,length:1,convRule:Ex},{start:4304,length:43,convRule:Ob},{start:4347,length:1,convRule:Jw},{start:4348,length:1,convRule:tb},{start:4349,length:3,convRule:Ob},{start:4352,length:329,convRule:Ky},{start:4682,length:4,convRule:Ky},{start:4688,length:7,convRule:Ky},{start:4696,length:1,convRule:Ky},{start:4698,length:4,convRule:Ky},{start:4704,length:41,convRule:Ky},{start:4746,length:4,convRule:Ky},{start:4752,length:33,convRule:Ky},{start:4786,length:4,convRule:Ky},{start:4792,length:7,convRule:Ky},{start:4800,length:1,convRule:Ky},{start:4802,length:4,convRule:Ky},{start:4808,length:15,convRule:Ky},{start:4824,length:57,convRule:Ky},{start:4882,length:4,convRule:Ky},{start:4888,length:67,convRule:Ky},{start:4957,length:3,convRule:gx},{start:4960,length:9,convRule:Jw},{start:4969,length:20,convRule:lx},{start:4992,length:16,convRule:Ky},{start:5008,length:10,convRule:zw},{start:5024,length:80,convRule:_x},{start:5104,length:6,convRule:bx},{start:5112,length:6,convRule:cb},{start:5120,length:1,convRule:ix},{start:5121,length:620,convRule:Ky},{start:5741,length:1,convRule:zw},{start:5742,length:1,convRule:Jw},{start:5743,length:17,convRule:Ky},{start:5760,length:1,convRule:Hw},{start:5761,length:26,convRule:Ky},{start:5787,length:1,convRule:Kw},{start:5788,length:1,convRule:rx},{start:5792,length:75,convRule:Ky},{start:5867,length:3,convRule:Jw},{start:5870,length:3,convRule:ux},{start:5873,length:8,convRule:Ky},{start:5888,length:13,convRule:Ky},{start:5902,length:4,convRule:Ky},{start:5906,length:3,convRule:gx},{start:5920,length:18,convRule:Ky},{start:5938,length:3,convRule:gx},{start:5941,length:2,convRule:Jw},{start:5952,length:18,convRule:Ky},{start:5970,length:2,convRule:gx},{start:5984,length:13,convRule:Ky},{start:5998,length:3,convRule:Ky},{start:6002,length:2,convRule:gx},{start:6016,length:52,convRule:Ky},{start:6068,length:2,convRule:gx},{start:6070,length:1,convRule:wx},{start:6071,length:7,convRule:gx},{start:6078,length:8,convRule:wx},{start:6086,length:1,convRule:gx},{start:6087,length:2,convRule:wx},{start:6089,length:11,convRule:gx},{start:6100,length:3,convRule:Jw},{start:6103,length:1,convRule:tb},{start:6104,length:3,convRule:Jw},{start:6107,length:1,convRule:Zw},{start:6108,length:1,convRule:Ky},{start:6109,length:1,convRule:gx},{start:6112,length:10,convRule:dx},{start:6128,length:10,convRule:lx},{start:6144,length:6,convRule:Jw},{start:6150,length:1,convRule:ix},{start:6151,length:4,convRule:Jw},{start:6155,length:3,convRule:gx},{start:6158,length:1,convRule:qk},{start:6160,length:10,convRule:dx},{start:6176,length:35,convRule:Ky},{start:6211,length:1,convRule:tb},{start:6212,length:53,convRule:Ky},{start:6272,length:5,convRule:Ky},{start:6277,length:2,convRule:gx},{start:6279,length:34,convRule:Ky},{start:6313,length:1,convRule:gx},{start:6314,length:1,convRule:Ky},{start:6320,length:70,convRule:Ky},{start:6400,length:31,convRule:Ky},{start:6432,length:3,convRule:gx},{start:6435,length:4,convRule:wx},{start:6439,length:2,convRule:gx},{start:6441,length:3,convRule:wx},{start:6448,length:2,convRule:wx},{start:6450,length:1,convRule:gx},{start:6451,length:6,convRule:wx},{start:6457,length:3,convRule:gx},{start:6464,length:1,convRule:zw},{start:6468,length:2,convRule:Jw},{start:6470,length:10,convRule:dx},{start:6480,length:30,convRule:Ky},{start:6512,length:5,convRule:Ky},{start:6528,length:44,convRule:Ky},{start:6576,length:26,convRule:Ky},{start:6608,length:10,convRule:dx},{start:6618,length:1,convRule:lx},{start:6622,length:34,convRule:zw},{start:6656,length:23,convRule:Ky},{start:6679,length:2,convRule:gx},{start:6681,length:2,convRule:wx},{start:6683,length:1,convRule:gx},{start:6686,length:2,convRule:Jw},{start:6688,length:53,convRule:Ky},{start:6741,length:1,convRule:wx},{start:6742,length:1,convRule:gx},{start:6743,length:1,convRule:wx},{start:6744,length:7,convRule:gx},{start:6752,length:1,convRule:gx},{start:6753,length:1,convRule:wx},{start:6754,length:1,convRule:gx},{start:6755,length:2,convRule:wx},{start:6757,length:8,convRule:gx},{start:6765,length:6,convRule:wx},{start:6771,length:10,convRule:gx},{start:6783,length:1,convRule:gx},{start:6784,length:10,convRule:dx},{start:6800,length:10,convRule:dx},{start:6816,length:7,convRule:Jw},{start:6823,length:1,convRule:tb},{start:6824,length:6,convRule:Jw},{start:6832,length:14,convRule:gx},{start:6846,length:1,convRule:Rx},{start:6847,length:2,convRule:gx},{start:6912,length:4,convRule:gx},{start:6916,length:1,convRule:wx},{start:6917,length:47,convRule:Ky},{start:6964,length:1,convRule:gx},{start:6965,length:1,convRule:wx},{start:6966,length:5,convRule:gx},{start:6971,length:1,convRule:wx},{start:6972,length:1,convRule:gx},{start:6973,length:5,convRule:wx},{start:6978,length:1,convRule:gx},{start:6979,length:2,convRule:wx},{start:6981,length:7,convRule:Ky},{start:6992,length:10,convRule:dx},{start:7002,length:7,convRule:Jw},{start:7009,length:10,convRule:zw},{start:7019,length:9,convRule:gx},{start:7028,length:9,convRule:zw},{start:7040,length:2,convRule:gx},{start:7042,length:1,convRule:wx},{start:7043,length:30,convRule:Ky},{start:7073,length:1,convRule:wx},{start:7074,length:4,convRule:gx},{start:7078,length:2,convRule:wx},{start:7080,length:2,convRule:gx},{start:7082,length:1,convRule:wx},{start:7083,length:3,convRule:gx},{start:7086,length:2,convRule:Ky},{start:7088,length:10,convRule:dx},{start:7098,length:44,convRule:Ky},{start:7142,length:1,convRule:gx},{start:7143,length:1,convRule:wx},{start:7144,length:2,convRule:gx},{start:7146,length:3,convRule:wx},{start:7149,length:1,convRule:gx},{start:7150,length:1,convRule:wx},{start:7151,length:3,convRule:gx},{start:7154,length:2,convRule:wx},{start:7164,length:4,convRule:Jw},{start:7168,length:36,convRule:Ky},{start:7204,length:8,convRule:wx},{start:7212,length:8,convRule:gx},{start:7220,length:2,convRule:wx},{start:7222,length:2,convRule:gx},{start:7227,length:5,convRule:Jw},{start:7232,length:10,convRule:dx},{start:7245,length:3,convRule:Ky},{start:7248,length:10,convRule:dx},{start:7258,length:30,convRule:Ky},{start:7288,length:6,convRule:tb},{start:7294,length:2,convRule:Jw},{start:7296,length:1,convRule:wb},{start:7297,length:1,convRule:xb},{start:7298,length:1,convRule:yb},{start:7299,length:2,convRule:bb},{start:7301,length:1,convRule:kb},{start:7302,length:1,convRule:Cb},{start:7303,length:1,convRule:Tb},{start:7304,length:1,convRule:Sb},{start:7312,length:43,convRule:Lx},{start:7357,length:3,convRule:Lx},{start:7360,length:8,convRule:Jw},{start:7376,length:3,convRule:gx},{start:7379,length:1,convRule:Jw},{start:7380,length:13,convRule:gx},{start:7393,length:1,convRule:wx},{start:7394,length:7,convRule:gx},{start:7401,length:4,convRule:Ky},{start:7405,length:1,convRule:gx},{start:7406,length:6,convRule:Ky},{start:7412,length:1,convRule:gx},{start:7413,length:2,convRule:Ky},{start:7415,length:1,convRule:wx},{start:7416,length:2,convRule:gx},{start:7418,length:1,convRule:Ky},{start:7424,length:44,convRule:Gb},{start:7468,length:63,convRule:tb},{start:7531,length:13,convRule:Gb},{start:7544,length:1,convRule:tb},{start:7545,length:1,convRule:Ab},{start:7546,length:3,convRule:Gb},{start:7549,length:1,convRule:Pb},{start:7550,length:16,convRule:Gb},{start:7566,length:1,convRule:Eb},{start:7567,length:12,convRule:Gb},{start:7579,length:37,convRule:tb},{start:7616,length:58,convRule:gx},{start:7675,length:5,convRule:gx},{start:7680,length:1,convRule:vy},{start:7681,length:1,convRule:Jb},{start:7682,length:1,convRule:vy},{start:7683,length:1,convRule:Jb},{start:7684,length:1,convRule:vy},{start:7685,length:1,convRule:Jb},{start:7686,length:1,convRule:vy},{start:7687,length:1,convRule:Jb},{start:7688,length:1,convRule:vy},{start:7689,length:1,convRule:Jb},{start:7690,length:1,convRule:vy},{start:7691,length:1,convRule:Jb},{start:7692,length:1,convRule:vy},{start:7693,length:1,convRule:Jb},{start:7694,length:1,convRule:vy},{start:7695,length:1,convRule:Jb},{start:7696,length:1,convRule:vy},{start:7697,length:1,convRule:Jb},{start:7698,length:1,convRule:vy},{start:7699,length:1,convRule:Jb},{start:7700,length:1,convRule:vy},{start:7701,length:1,convRule:Jb},{start:7702,length:1,convRule:vy},{start:7703,length:1,convRule:Jb},{start:7704,length:1,convRule:vy},{start:7705,length:1,convRule:Jb},{start:7706,length:1,convRule:vy},{start:7707,length:1,convRule:Jb},{start:7708,length:1,convRule:vy},{start:7709,length:1,convRule:Jb},{start:7710,length:1,convRule:vy},{start:7711,length:1,convRule:Jb},{start:7712,length:1,convRule:vy},{start:7713,length:1,convRule:Jb},{start:7714,length:1,convRule:vy},{start:7715,length:1,convRule:Jb},{start:7716,length:1,convRule:vy},{start:7717,length:1,convRule:Jb},{start:7718,length:1,convRule:vy},{start:7719,length:1,convRule:Jb},{start:7720,length:1,convRule:vy},{start:7721,length:1,convRule:Jb},{start:7722,length:1,convRule:vy},{start:7723,length:1,convRule:Jb},{start:7724,length:1,convRule:vy},{start:7725,length:1,convRule:Jb},{start:7726,length:1,convRule:vy},{start:7727,length:1,convRule:Jb},{start:7728,length:1,convRule:vy},{start:7729,length:1,convRule:Jb},{start:7730,length:1,convRule:vy},{start:7731,length:1,convRule:Jb},{start:7732,length:1,convRule:vy},{start:7733,length:1,convRule:Jb},{start:7734,length:1,convRule:vy},{start:7735,length:1,convRule:Jb},{start:7736,length:1,convRule:vy},{start:7737,length:1,convRule:Jb},{start:7738,length:1,convRule:vy},{start:7739,length:1,convRule:Jb},{start:7740,length:1,convRule:vy},{start:7741,length:1,convRule:Jb},{start:7742,length:1,convRule:vy},{start:7743,length:1,convRule:Jb},{start:7744,length:1,convRule:vy},{start:7745,length:1,convRule:Jb},{start:7746,length:1,convRule:vy},{start:7747,length:1,convRule:Jb},{start:7748,length:1,convRule:vy},{start:7749,length:1,convRule:Jb},{start:7750,length:1,convRule:vy},{start:7751,length:1,convRule:Jb},{start:7752,length:1,convRule:vy},{start:7753,length:1,convRule:Jb},{start:7754,length:1,convRule:vy},{start:7755,length:1,convRule:Jb},{start:7756,length:1,convRule:vy},{start:7757,length:1,convRule:Jb},{start:7758,length:1,convRule:vy},{start:7759,length:1,convRule:Jb},{start:7760,length:1,convRule:vy},{start:7761,length:1,convRule:Jb},{start:7762,length:1,convRule:vy},{start:7763,length:1,convRule:Jb},{start:7764,length:1,convRule:vy},{start:7765,length:1,convRule:Jb},{start:7766,length:1,convRule:vy},{start:7767,length:1,convRule:Jb},{start:7768,length:1,convRule:vy},{start:7769,length:1,convRule:Jb},{start:7770,length:1,convRule:vy},{start:7771,length:1,convRule:Jb},{start:7772,length:1,convRule:vy},{start:7773,length:1,convRule:Jb},{start:7774,length:1,convRule:vy},{start:7775,length:1,convRule:Jb},{start:7776,length:1,convRule:vy},{start:7777,length:1,convRule:Jb},{start:7778,length:1,convRule:vy},{start:7779,length:1,convRule:Jb},{start:7780,length:1,convRule:vy},{start:7781,length:1,convRule:Jb},{start:7782,length:1,convRule:vy},{start:7783,length:1,convRule:Jb},{start:7784,length:1,convRule:vy},{start:7785,length:1,convRule:Jb},{start:7786,length:1,convRule:vy},{start:7787,length:1,convRule:Jb},{start:7788,length:1,convRule:vy},{start:7789,length:1,convRule:Jb},{start:7790,length:1,convRule:vy},{start:7791,length:1,convRule:Jb},{start:7792,length:1,convRule:vy},{start:7793,length:1,convRule:Jb},{start:7794,length:1,convRule:vy},{start:7795,length:1,convRule:Jb},{start:7796,length:1,convRule:vy},{start:7797,length:1,convRule:Jb},{start:7798,length:1,convRule:vy},{start:7799,length:1,convRule:Jb},{start:7800,length:1,convRule:vy},{start:7801,length:1,convRule:Jb},{start:7802,length:1,convRule:vy},{start:7803,length:1,convRule:Jb},{start:7804,length:1,convRule:vy},{start:7805,length:1,convRule:Jb},{start:7806,length:1,convRule:vy},{start:7807,length:1,convRule:Jb},{start:7808,length:1,convRule:vy},{start:7809,length:1,convRule:Jb},{start:7810,length:1,convRule:vy},{start:7811,length:1,convRule:Jb},{start:7812,length:1,convRule:vy},{start:7813,length:1,convRule:Jb},{start:7814,length:1,convRule:vy},{start:7815,length:1,convRule:Jb},{start:7816,length:1,convRule:vy},{start:7817,length:1,convRule:Jb},{start:7818,length:1,convRule:vy},{start:7819,length:1,convRule:Jb},{start:7820,length:1,convRule:vy},{start:7821,length:1,convRule:Jb},{start:7822,length:1,convRule:vy},{start:7823,length:1,convRule:Jb},{start:7824,length:1,convRule:vy},{start:7825,length:1,convRule:Jb},{start:7826,length:1,convRule:vy},{start:7827,length:1,convRule:Jb},{start:7828,length:1,convRule:vy},{start:7829,length:1,convRule:Jb},{start:7830,length:5,convRule:Gb},{start:7835,length:1,convRule:_b},{start:7836,length:2,convRule:Gb},{start:7838,length:1,convRule:Dx},{start:7839,length:1,convRule:Gb},{start:7840,length:1,convRule:vy},{start:7841,length:1,convRule:Jb},{start:7842,length:1,convRule:vy},{start:7843,length:1,convRule:Jb},{start:7844,length:1,convRule:vy},{start:7845,length:1,convRule:Jb},{start:7846,length:1,convRule:vy},{start:7847,length:1,convRule:Jb},{start:7848,length:1,convRule:vy},{start:7849,length:1,convRule:Jb},{start:7850,length:1,convRule:vy},{start:7851,length:1,convRule:Jb},{start:7852,length:1,convRule:vy},{start:7853,length:1,convRule:Jb},{start:7854,length:1,convRule:vy},{start:7855,length:1,convRule:Jb},{start:7856,length:1,convRule:vy},{start:7857,length:1,convRule:Jb},{start:7858,length:1,convRule:vy},{start:7859,length:1,convRule:Jb},{start:7860,length:1,convRule:vy},{start:7861,length:1,convRule:Jb},{start:7862,length:1,convRule:vy},{start:7863,length:1,convRule:Jb},{start:7864,length:1,convRule:vy},{start:7865,length:1,convRule:Jb},{start:7866,length:1,convRule:vy},{start:7867,length:1,convRule:Jb},{start:7868,length:1,convRule:vy},{start:7869,length:1,convRule:Jb},{start:7870,length:1,convRule:vy},{start:7871,length:1,convRule:Jb},{start:7872,length:1,convRule:vy},{start:7873,length:1,convRule:Jb},{start:7874,length:1,convRule:vy},{start:7875,length:1,convRule:Jb},{start:7876,length:1,convRule:vy},{start:7877,length:1,convRule:Jb},{start:7878,length:1,convRule:vy},{start:7879,length:1,convRule:Jb},{start:7880,length:1,convRule:vy},{start:7881,length:1,convRule:Jb},{start:7882,length:1,convRule:vy},{start:7883,length:1,convRule:Jb},{start:7884,length:1,convRule:vy},{start:7885,length:1,convRule:Jb},{start:7886,length:1,convRule:vy},{start:7887,length:1,convRule:Jb},{start:7888,length:1,convRule:vy},{start:7889,length:1,convRule:Jb},{start:7890,length:1,convRule:vy},{start:7891,length:1,convRule:Jb},{start:7892,length:1,convRule:vy},{start:7893,length:1,convRule:Jb},{start:7894,length:1,convRule:vy},{start:7895,length:1,convRule:Jb},{start:7896,length:1,convRule:vy},{start:7897,length:1,convRule:Jb},{start:7898,length:1,convRule:vy},{start:7899,length:1,convRule:Jb},{start:7900,length:1,convRule:vy},{start:7901,length:1,convRule:Jb},{start:7902,length:1,convRule:vy},{start:7903,length:1,convRule:Jb},{start:7904,length:1,convRule:vy},{start:7905,length:1,convRule:Jb},{start:7906,length:1,convRule:vy},{start:7907,length:1,convRule:Jb},{start:7908,length:1,convRule:vy},{start:7909,length:1,convRule:Jb},{start:7910,length:1,convRule:vy},{start:7911,length:1,convRule:Jb},{start:7912,length:1,convRule:vy},{start:7913,length:1,convRule:Jb},{start:7914,length:1,convRule:vy},{start:7915,length:1,convRule:Jb},{start:7916,length:1,convRule:vy},{start:7917,length:1,convRule:Jb},{start:7918,length:1,convRule:vy},{start:7919,length:1,convRule:Jb},{start:7920,length:1,convRule:vy},{start:7921,length:1,convRule:Jb},{start:7922,length:1,convRule:vy},{start:7923,length:1,convRule:Jb},{start:7924,length:1,convRule:vy},{start:7925,length:1,convRule:Jb},{start:7926,length:1,convRule:vy},{start:7927,length:1,convRule:Jb},{start:7928,length:1,convRule:vy},{start:7929,length:1,convRule:Jb},{start:7930,length:1,convRule:vy},{start:7931,length:1,convRule:Jb},{start:7932,length:1,convRule:vy},{start:7933,length:1,convRule:Jb},{start:7934,length:1,convRule:vy},{start:7935,length:1,convRule:Jb},{start:7936,length:8,convRule:Lb},{start:7944,length:8,convRule:Qx},{start:7952,length:6,convRule:Lb},{start:7960,length:6,convRule:Qx},{start:7968,length:8,convRule:Lb},{start:7976,length:8,convRule:Qx},{start:7984,length:8,convRule:Lb},{start:7992,length:8,convRule:Qx},{start:8e3,length:6,convRule:Lb},{start:8008,length:6,convRule:Qx},{start:8016,length:1,convRule:Gb},{start:8017,length:1,convRule:Lb},{start:8018,length:1,convRule:Gb},{start:8019,length:1,convRule:Lb},{start:8020,length:1,convRule:Gb},{start:8021,length:1,convRule:Lb},{start:8022,length:1,convRule:Gb},{start:8023,length:1,convRule:Lb},{start:8025,length:1,convRule:Qx},{start:8027,length:1,convRule:Qx},{start:8029,length:1,convRule:Qx},{start:8031,length:1,convRule:Qx},{start:8032,length:8,convRule:Lb},{start:8040,length:8,convRule:Qx},{start:8048,length:2,convRule:Db},{start:8050,length:4,convRule:Qb},{start:8054,length:2,convRule:Ib},{start:8056,length:2,convRule:Nb},{start:8058,length:2,convRule:Mb},{start:8060,length:2,convRule:$b},{start:8064,length:8,convRule:Lb},{start:8072,length:8,convRule:jy},{start:8080,length:8,convRule:Lb},{start:8088,length:8,convRule:jy},{start:8096,length:8,convRule:Lb},{start:8104,length:8,convRule:jy},{start:8112,length:2,convRule:Lb},{start:8114,length:1,convRule:Gb},{start:8115,length:1,convRule:Fb},{start:8116,length:1,convRule:Gb},{start:8118,length:2,convRule:Gb},{start:8120,length:2,convRule:Qx},{start:8122,length:2,convRule:Ix},{start:8124,length:1,convRule:Gy},{start:8125,length:1,convRule:Yw},{start:8126,length:1,convRule:Bb},{start:8127,length:3,convRule:Yw},{start:8130,length:1,convRule:Gb},{start:8131,length:1,convRule:Fb},{start:8132,length:1,convRule:Gb},{start:8134,length:2,convRule:Gb},{start:8136,length:4,convRule:Nx},{start:8140,length:1,convRule:Gy},{start:8141,length:3,convRule:Yw},{start:8144,length:2,convRule:Lb},{start:8146,length:2,convRule:Gb},{start:8150,length:2,convRule:Gb},{start:8152,length:2,convRule:Qx},{start:8154,length:2,convRule:Mx},{start:8157,length:3,convRule:Yw},{start:8160,length:2,convRule:Lb},{start:8162,length:3,convRule:Gb},{start:8165,length:1,convRule:db},{start:8166,length:2,convRule:Gb},{start:8168,length:2,convRule:Qx},{start:8170,length:2,convRule:$x},{start:8172,length:1,convRule:Tx},{start:8173,length:3,convRule:Yw},{start:8178,length:1,convRule:Gb},{start:8179,length:1,convRule:Fb},{start:8180,length:1,convRule:Gb},{start:8182,length:2,convRule:Gb},{start:8184,length:2,convRule:Fx},{start:8186,length:2,convRule:Bx},{start:8188,length:1,convRule:Gy},{start:8189,length:2,convRule:Yw},{start:8192,length:11,convRule:Hw},{start:8203,length:5,convRule:qk},{start:8208,length:6,convRule:ix},{start:8214,length:2,convRule:Jw},{start:8216,length:1,convRule:tx},{start:8217,length:1,convRule:nx},{start:8218,length:1,convRule:Kw},{start:8219,length:2,convRule:tx},{start:8221,length:1,convRule:nx},{start:8222,length:1,convRule:Kw},{start:8223,length:1,convRule:tx},{start:8224,length:8,convRule:Jw},{start:8232,length:1,convRule:Vw},{start:8233,length:1,convRule:qw},{start:8234,length:5,convRule:qk},{start:8239,length:1,convRule:Hw},{start:8240,length:9,convRule:Jw},{start:8249,length:1,convRule:tx},{start:8250,length:1,convRule:nx},{start:8251,length:4,convRule:Jw},{start:8255,length:2,convRule:sx},{start:8257,length:3,convRule:Jw},{start:8260,length:1,convRule:Gw},{start:8261,length:1,convRule:Kw},{start:8262,length:1,convRule:rx},{start:8263,length:11,convRule:Jw},{start:8274,length:1,convRule:Gw},{start:8275,length:1,convRule:Jw},{start:8276,length:1,convRule:sx},{start:8277,length:10,convRule:Jw},{start:8287,length:1,convRule:Hw},{start:8288,length:5,convRule:qk},{start:8294,length:10,convRule:qk},{start:8304,length:1,convRule:lx},{start:8305,length:1,convRule:tb},{start:8308,length:6,convRule:lx},{start:8314,length:3,convRule:Gw},{start:8317,length:1,convRule:Kw},{start:8318,length:1,convRule:rx},{start:8319,length:1,convRule:tb},{start:8320,length:10,convRule:lx},{start:8330,length:3,convRule:Gw},{start:8333,length:1,convRule:Kw},{start:8334,length:1,convRule:rx},{start:8336,length:13,convRule:tb},{start:8352,length:32,convRule:Zw},{start:8400,length:13,convRule:gx},{start:8413,length:4,convRule:Rx},{start:8417,length:1,convRule:gx},{start:8418,length:3,convRule:Rx},{start:8421,length:12,convRule:gx},{start:8448,length:2,convRule:zw},{start:8450,length:1,convRule:kx},{start:8451,length:4,convRule:zw},{start:8455,length:1,convRule:kx},{start:8456,length:2,convRule:zw},{start:8458,length:1,convRule:Gb},{start:8459,length:3,convRule:kx},{start:8462,length:2,convRule:Gb},{start:8464,length:3,convRule:kx},{start:8467,length:1,convRule:Gb},{start:8468,length:1,convRule:zw},{start:8469,length:1,convRule:kx},{start:8470,length:2,convRule:zw},{start:8472,length:1,convRule:Gw},{start:8473,length:5,convRule:kx},{start:8478,length:6,convRule:zw},{start:8484,length:1,convRule:kx},{start:8485,length:1,convRule:zw},{start:8486,length:1,convRule:Ux},{start:8487,length:1,convRule:zw},{start:8488,length:1,convRule:kx},{start:8489,length:1,convRule:zw},{start:8490,length:1,convRule:Hx},{start:8491,length:1,convRule:qx},{start:8492,length:2,convRule:kx},{start:8494,length:1,convRule:zw},{start:8495,length:1,convRule:Gb},{start:8496,length:2,convRule:kx},{start:8498,length:1,convRule:Vx},{start:8499,length:1,convRule:kx},{start:8500,length:1,convRule:Gb},{start:8501,length:4,convRule:Ky},{start:8505,length:1,convRule:Gb},{start:8506,length:2,convRule:zw},{start:8508,length:2,convRule:Gb},{start:8510,length:2,convRule:kx},{start:8512,length:5,convRule:Gw},{start:8517,length:1,convRule:kx},{start:8518,length:4,convRule:Gb},{start:8522,length:1,convRule:zw},{start:8523,length:1,convRule:Gw},{start:8524,length:2,convRule:zw},{start:8526,length:1,convRule:Ub},{start:8527,length:1,convRule:zw},{start:8528,length:16,convRule:lx},{start:8544,length:16,convRule:cx},{start:8560,length:16,convRule:hx},{start:8576,length:3,convRule:ux},{start:8579,length:1,convRule:vy},{start:8580,length:1,convRule:Jb},{start:8581,length:4,convRule:ux},{start:8585,length:1,convRule:lx},{start:8586,length:2,convRule:zw},{start:8592,length:5,convRule:Gw},{start:8597,length:5,convRule:zw},{start:8602,length:2,convRule:Gw},{start:8604,length:4,convRule:zw},{start:8608,length:1,convRule:Gw},{start:8609,length:2,convRule:zw},{start:8611,length:1,convRule:Gw},{start:8612,length:2,convRule:zw},{start:8614,length:1,convRule:Gw},{start:8615,length:7,convRule:zw},{start:8622,length:1,convRule:Gw},{start:8623,length:31,convRule:zw},{start:8654,length:2,convRule:Gw},{start:8656,length:2,convRule:zw},{start:8658,length:1,convRule:Gw},{start:8659,length:1,convRule:zw},{start:8660,length:1,convRule:Gw},{start:8661,length:31,convRule:zw},{start:8692,length:268,convRule:Gw},{start:8960,length:8,convRule:zw},{start:8968,length:1,convRule:Kw},{start:8969,length:1,convRule:rx},{start:8970,length:1,convRule:Kw},{start:8971,length:1,convRule:rx},{start:8972,length:20,convRule:zw},{start:8992,length:2,convRule:Gw},{start:8994,length:7,convRule:zw},{start:9001,length:1,convRule:Kw},{start:9002,length:1,convRule:rx},{start:9003,length:81,convRule:zw},{start:9084,length:1,convRule:Gw},{start:9085,length:30,convRule:zw},{start:9115,length:25,convRule:Gw},{start:9140,length:40,convRule:zw},{start:9180,length:6,convRule:Gw},{start:9186,length:69,convRule:zw},{start:9280,length:11,convRule:zw},{start:9312,length:60,convRule:lx},{start:9372,length:26,convRule:zw},{start:9398,length:26,convRule:Ww},{start:9424,length:26,convRule:jw},{start:9450,length:22,convRule:lx},{start:9472,length:183,convRule:zw},{start:9655,length:1,convRule:Gw},{start:9656,length:9,convRule:zw},{start:9665,length:1,convRule:Gw},{start:9666,length:54,convRule:zw},{start:9720,length:8,convRule:Gw},{start:9728,length:111,convRule:zw},{start:9839,length:1,convRule:Gw},{start:9840,length:248,convRule:zw},{start:10088,length:1,convRule:Kw},{start:10089,length:1,convRule:rx},{start:10090,length:1,convRule:Kw},{start:10091,length:1,convRule:rx},{start:10092,length:1,convRule:Kw},{start:10093,length:1,convRule:rx},{start:10094,length:1,convRule:Kw},{start:10095,length:1,convRule:rx},{start:10096,length:1,convRule:Kw},{start:10097,length:1,convRule:rx},{start:10098,length:1,convRule:Kw},{start:10099,length:1,convRule:rx},{start:10100,length:1,convRule:Kw},{start:10101,length:1,convRule:rx},{start:10102,length:30,convRule:lx},{start:10132,length:44,convRule:zw},{start:10176,length:5,convRule:Gw},{start:10181,length:1,convRule:Kw},{start:10182,length:1,convRule:rx},{start:10183,length:31,convRule:Gw},{start:10214,length:1,convRule:Kw},{start:10215,length:1,convRule:rx},{start:10216,length:1,convRule:Kw},{start:10217,length:1,convRule:rx},{start:10218,length:1,convRule:Kw},{start:10219,length:1,convRule:rx},{start:10220,length:1,convRule:Kw},{start:10221,length:1,convRule:rx},{start:10222,length:1,convRule:Kw},{start:10223,length:1,convRule:rx},{start:10224,length:16,convRule:Gw},{start:10240,length:256,convRule:zw},{start:10496,length:131,convRule:Gw},{start:10627,length:1,convRule:Kw},{start:10628,length:1,convRule:rx},{start:10629,length:1,convRule:Kw},{start:10630,length:1,convRule:rx},{start:10631,length:1,convRule:Kw},{start:10632,length:1,convRule:rx},{start:10633,length:1,convRule:Kw},{start:10634,length:1,convRule:rx},{start:10635,length:1,convRule:Kw},{start:10636,length:1,convRule:rx},{start:10637,length:1,convRule:Kw},{start:10638,length:1,convRule:rx},{start:10639,length:1,convRule:Kw},{start:10640,length:1,convRule:rx},{start:10641,length:1,convRule:Kw},{start:10642,length:1,convRule:rx},{start:10643,length:1,convRule:Kw},{start:10644,length:1,convRule:rx},{start:10645,length:1,convRule:Kw},{start:10646,length:1,convRule:rx},{start:10647,length:1,convRule:Kw},{start:10648,length:1,convRule:rx},{start:10649,length:63,convRule:Gw},{start:10712,length:1,convRule:Kw},{start:10713,length:1,convRule:rx},{start:10714,length:1,convRule:Kw},{start:10715,length:1,convRule:rx},{start:10716,length:32,convRule:Gw},{start:10748,length:1,convRule:Kw},{start:10749,length:1,convRule:rx},{start:10750,length:258,convRule:Gw},{start:11008,length:48,convRule:zw},{start:11056,length:21,convRule:Gw},{start:11077,length:2,convRule:zw},{start:11079,length:6,convRule:Gw},{start:11085,length:39,convRule:zw},{start:11126,length:32,convRule:zw},{start:11159,length:105,convRule:zw},{start:11264,length:47,convRule:Px},{start:11312,length:47,convRule:Rb},{start:11360,length:1,convRule:vy},{start:11361,length:1,convRule:Jb},{start:11362,length:1,convRule:Xx},{start:11363,length:1,convRule:zx},{start:11364,length:1,convRule:Wx},{start:11365,length:1,convRule:Hb},{start:11366,length:1,convRule:qb},{start:11367,length:1,convRule:vy},{start:11368,length:1,convRule:Jb},{start:11369,length:1,convRule:vy},{start:11370,length:1,convRule:Jb},{start:11371,length:1,convRule:vy},{start:11372,length:1,convRule:Jb},{start:11373,length:1,convRule:jx},{start:11374,length:1,convRule:Gx},{start:11375,length:1,convRule:Yx},{start:11376,length:1,convRule:Zx},{start:11377,length:1,convRule:Gb},{start:11378,length:1,convRule:vy},{start:11379,length:1,convRule:Jb},{start:11380,length:1,convRule:Gb},{start:11381,length:1,convRule:vy},{start:11382,length:1,convRule:Jb},{start:11383,length:5,convRule:Gb},{start:11388,length:2,convRule:tb},{start:11390,length:2,convRule:Kx},{start:11392,length:1,convRule:vy},{start:11393,length:1,convRule:Jb},{start:11394,length:1,convRule:vy},{start:11395,length:1,convRule:Jb},{start:11396,length:1,convRule:vy},{start:11397,length:1,convRule:Jb},{start:11398,length:1,convRule:vy},{start:11399,length:1,convRule:Jb},{start:11400,length:1,convRule:vy},{start:11401,length:1,convRule:Jb},{start:11402,length:1,convRule:vy},{start:11403,length:1,convRule:Jb},{start:11404,length:1,convRule:vy},{start:11405,length:1,convRule:Jb},{start:11406,length:1,convRule:vy},{start:11407,length:1,convRule:Jb},{start:11408,length:1,convRule:vy},{start:11409,length:1,convRule:Jb},{start:11410,length:1,convRule:vy},{start:11411,length:1,convRule:Jb},{start:11412,length:1,convRule:vy},{start:11413,length:1,convRule:Jb},{start:11414,length:1,convRule:vy},{start:11415,length:1,convRule:Jb},{start:11416,length:1,convRule:vy},{start:11417,length:1,convRule:Jb},{start:11418,length:1,convRule:vy},{start:11419,length:1,convRule:Jb},{start:11420,length:1,convRule:vy},{start:11421,length:1,convRule:Jb},{start:11422,length:1,convRule:vy},{start:11423,length:1,convRule:Jb},{start:11424,length:1,convRule:vy},{start:11425,length:1,convRule:Jb},{start:11426,length:1,convRule:vy},{start:11427,length:1,convRule:Jb},{start:11428,length:1,convRule:vy},{start:11429,length:1,convRule:Jb},{start:11430,length:1,convRule:vy},{start:11431,length:1,convRule:Jb},{start:11432,length:1,convRule:vy},{start:11433,length:1,convRule:Jb},{start:11434,length:1,convRule:vy},{start:11435,length:1,convRule:Jb},{start:11436,length:1,convRule:vy},{start:11437,length:1,convRule:Jb},{start:11438,length:1,convRule:vy},{start:11439,length:1,convRule:Jb},{start:11440,length:1,convRule:vy},{start:11441,length:1,convRule:Jb},{start:11442,length:1,convRule:vy},{start:11443,length:1,convRule:Jb},{start:11444,length:1,convRule:vy},{start:11445,length:1,convRule:Jb},{start:11446,length:1,convRule:vy},{start:11447,length:1,convRule:Jb},{start:11448,length:1,convRule:vy},{start:11449,length:1,convRule:Jb},{start:11450,length:1,convRule:vy},{start:11451,length:1,convRule:Jb},{start:11452,length:1,convRule:vy},{start:11453,length:1,convRule:Jb},{start:11454,length:1,convRule:vy},{start:11455,length:1,convRule:Jb},{start:11456,length:1,convRule:vy},{start:11457,length:1,convRule:Jb},{start:11458,length:1,convRule:vy},{start:11459,length:1,convRule:Jb},{start:11460,length:1,convRule:vy},{start:11461,length:1,convRule:Jb},{start:11462,length:1,convRule:vy},{start:11463,length:1,convRule:Jb},{start:11464,length:1,convRule:vy},{start:11465,length:1,convRule:Jb},{start:11466,length:1,convRule:vy},{start:11467,length:1,convRule:Jb},{start:11468,length:1,convRule:vy},{start:11469,length:1,convRule:Jb},{start:11470,length:1,convRule:vy},{start:11471,length:1,convRule:Jb},{start:11472,length:1,convRule:vy},{start:11473,length:1,convRule:Jb},{start:11474,length:1,convRule:vy},{start:11475,length:1,convRule:Jb},{start:11476,length:1,convRule:vy},{start:11477,length:1,convRule:Jb},{start:11478,length:1,convRule:vy},{start:11479,length:1,convRule:Jb},{start:11480,length:1,convRule:vy},{start:11481,length:1,convRule:Jb},{start:11482,length:1,convRule:vy},{start:11483,length:1,convRule:Jb},{start:11484,length:1,convRule:vy},{start:11485,length:1,convRule:Jb},{start:11486,length:1,convRule:vy},{start:11487,length:1,convRule:Jb},{start:11488,length:1,convRule:vy},{start:11489,length:1,convRule:Jb},{start:11490,length:1,convRule:vy},{start:11491,length:1,convRule:Jb},{start:11492,length:1,convRule:Gb},{start:11493,length:6,convRule:zw},{start:11499,length:1,convRule:vy},{start:11500,length:1,convRule:Jb},{start:11501,length:1,convRule:vy},{start:11502,length:1,convRule:Jb},{start:11503,length:3,convRule:gx},{start:11506,length:1,convRule:vy},{start:11507,length:1,convRule:Jb},{start:11513,length:4,convRule:Jw},{start:11517,length:1,convRule:lx},{start:11518,length:2,convRule:Jw},{start:11520,length:38,convRule:Xb},{start:11559,length:1,convRule:Xb},{start:11565,length:1,convRule:Xb},{start:11568,length:56,convRule:Ky},{start:11631,length:1,convRule:tb},{start:11632,length:1,convRule:Jw},{start:11647,length:1,convRule:gx},{start:11648,length:23,convRule:Ky},{start:11680,length:7,convRule:Ky},{start:11688,length:7,convRule:Ky},{start:11696,length:7,convRule:Ky},{start:11704,length:7,convRule:Ky},{start:11712,length:7,convRule:Ky},{start:11720,length:7,convRule:Ky},{start:11728,length:7,convRule:Ky},{start:11736,length:7,convRule:Ky},{start:11744,length:32,convRule:gx},{start:11776,length:2,convRule:Jw},{start:11778,length:1,convRule:tx},{start:11779,length:1,convRule:nx},{start:11780,length:1,convRule:tx},{start:11781,length:1,convRule:nx},{start:11782,length:3,convRule:Jw},{start:11785,length:1,convRule:tx},{start:11786,length:1,convRule:nx},{start:11787,length:1,convRule:Jw},{start:11788,length:1,convRule:tx},{start:11789,length:1,convRule:nx},{start:11790,length:9,convRule:Jw},{start:11799,length:1,convRule:ix},{start:11800,length:2,convRule:Jw},{start:11802,length:1,convRule:ix},{start:11803,length:1,convRule:Jw},{start:11804,length:1,convRule:tx},{start:11805,length:1,convRule:nx},{start:11806,length:2,convRule:Jw},{start:11808,length:1,convRule:tx},{start:11809,length:1,convRule:nx},{start:11810,length:1,convRule:Kw},{start:11811,length:1,convRule:rx},{start:11812,length:1,convRule:Kw},{start:11813,length:1,convRule:rx},{start:11814,length:1,convRule:Kw},{start:11815,length:1,convRule:rx},{start:11816,length:1,convRule:Kw},{start:11817,length:1,convRule:rx},{start:11818,length:5,convRule:Jw},{start:11823,length:1,convRule:tb},{start:11824,length:10,convRule:Jw},{start:11834,length:2,convRule:ix},{start:11836,length:4,convRule:Jw},{start:11840,length:1,convRule:ix},{start:11841,length:1,convRule:Jw},{start:11842,length:1,convRule:Kw},{start:11843,length:13,convRule:Jw},{start:11856,length:2,convRule:zw},{start:11858,length:1,convRule:Jw},{start:11904,length:26,convRule:zw},{start:11931,length:89,convRule:zw},{start:12032,length:214,convRule:zw},{start:12272,length:12,convRule:zw},{start:12288,length:1,convRule:Hw},{start:12289,length:3,convRule:Jw},{start:12292,length:1,convRule:zw},{start:12293,length:1,convRule:tb},{start:12294,length:1,convRule:Ky},{start:12295,length:1,convRule:ux},{start:12296,length:1,convRule:Kw},{start:12297,length:1,convRule:rx},{start:12298,length:1,convRule:Kw},{start:12299,length:1,convRule:rx},{start:12300,length:1,convRule:Kw},{start:12301,length:1,convRule:rx},{start:12302,length:1,convRule:Kw},{start:12303,length:1,convRule:rx},{start:12304,length:1,convRule:Kw},{start:12305,length:1,convRule:rx},{start:12306,length:2,convRule:zw},{start:12308,length:1,convRule:Kw},{start:12309,length:1,convRule:rx},{start:12310,length:1,convRule:Kw},{start:12311,length:1,convRule:rx},{start:12312,length:1,convRule:Kw},{start:12313,length:1,convRule:rx},{start:12314,length:1,convRule:Kw},{start:12315,length:1,convRule:rx},{start:12316,length:1,convRule:ix},{start:12317,length:1,convRule:Kw},{start:12318,length:2,convRule:rx},{start:12320,length:1,convRule:zw},{start:12321,length:9,convRule:ux},{start:12330,length:4,convRule:gx},{start:12334,length:2,convRule:wx},{start:12336,length:1,convRule:ix},{start:12337,length:5,convRule:tb},{start:12342,length:2,convRule:zw},{start:12344,length:3,convRule:ux},{start:12347,length:1,convRule:tb},{start:12348,length:1,convRule:Ky},{start:12349,length:1,convRule:Jw},{start:12350,length:2,convRule:zw},{start:12353,length:86,convRule:Ky},{start:12441,length:2,convRule:gx},{start:12443,length:2,convRule:Yw},{start:12445,length:2,convRule:tb},{start:12447,length:1,convRule:Ky},{start:12448,length:1,convRule:ix},{start:12449,length:90,convRule:Ky},{start:12539,length:1,convRule:Jw},{start:12540,length:3,convRule:tb},{start:12543,length:1,convRule:Ky},{start:12549,length:43,convRule:Ky},{start:12593,length:94,convRule:Ky},{start:12688,length:2,convRule:zw},{start:12690,length:4,convRule:lx},{start:12694,length:10,convRule:zw},{start:12704,length:32,convRule:Ky},{start:12736,length:36,convRule:zw},{start:12784,length:16,convRule:Ky},{start:12800,length:31,convRule:zw},{start:12832,length:10,convRule:lx},{start:12842,length:30,convRule:zw},{start:12872,length:8,convRule:lx},{start:12880,length:1,convRule:zw},{start:12881,length:15,convRule:lx},{start:12896,length:32,convRule:zw},{start:12928,length:10,convRule:lx},{start:12938,length:39,convRule:zw},{start:12977,length:15,convRule:lx},{start:12992,length:320,convRule:zw},{start:13312,length:6592,convRule:Ky},{start:19904,length:64,convRule:zw},{start:19968,length:20989,convRule:Ky},{start:40960,length:21,convRule:Ky},{start:40981,length:1,convRule:tb},{start:40982,length:1143,convRule:Ky},{start:42128,length:55,convRule:zw},{start:42192,length:40,convRule:Ky},{start:42232,length:6,convRule:tb},{start:42238,length:2,convRule:Jw},{start:42240,length:268,convRule:Ky},{start:42508,length:1,convRule:tb},{start:42509,length:3,convRule:Jw},{start:42512,length:16,convRule:Ky},{start:42528,length:10,convRule:dx},{start:42538,length:2,convRule:Ky},{start:42560,length:1,convRule:vy},{start:42561,length:1,convRule:Jb},{start:42562,length:1,convRule:vy},{start:42563,length:1,convRule:Jb},{start:42564,length:1,convRule:vy},{start:42565,length:1,convRule:Jb},{start:42566,length:1,convRule:vy},{start:42567,length:1,convRule:Jb},{start:42568,length:1,convRule:vy},{start:42569,length:1,convRule:Jb},{start:42570,length:1,convRule:vy},{start:42571,length:1,convRule:Jb},{start:42572,length:1,convRule:vy},{start:42573,length:1,convRule:Jb},{start:42574,length:1,convRule:vy},{start:42575,length:1,convRule:Jb},{start:42576,length:1,convRule:vy},{start:42577,length:1,convRule:Jb},{start:42578,length:1,convRule:vy},{start:42579,length:1,convRule:Jb},{start:42580,length:1,convRule:vy},{start:42581,length:1,convRule:Jb},{start:42582,length:1,convRule:vy},{start:42583,length:1,convRule:Jb},{start:42584,length:1,convRule:vy},{start:42585,length:1,convRule:Jb},{start:42586,length:1,convRule:vy},{start:42587,length:1,convRule:Jb},{start:42588,length:1,convRule:vy},{start:42589,length:1,convRule:Jb},{start:42590,length:1,convRule:vy},{start:42591,length:1,convRule:Jb},{start:42592,length:1,convRule:vy},{start:42593,length:1,convRule:Jb},{start:42594,length:1,convRule:vy},{start:42595,length:1,convRule:Jb},{start:42596,length:1,convRule:vy},{start:42597,length:1,convRule:Jb},{start:42598,length:1,convRule:vy},{start:42599,length:1,convRule:Jb},{start:42600,length:1,convRule:vy},{start:42601,length:1,convRule:Jb},{start:42602,length:1,convRule:vy},{start:42603,length:1,convRule:Jb},{start:42604,length:1,convRule:vy},{start:42605,length:1,convRule:Jb},{start:42606,length:1,convRule:Ky},{start:42607,length:1,convRule:gx},{start:42608,length:3,convRule:Rx},{start:42611,length:1,convRule:Jw},{start:42612,length:10,convRule:gx},{start:42622,length:1,convRule:Jw},{start:42623,length:1,convRule:tb},{start:42624,length:1,convRule:vy},{start:42625,length:1,convRule:Jb},{start:42626,length:1,convRule:vy},{start:42627,length:1,convRule:Jb},{start:42628,length:1,convRule:vy},{start:42629,length:1,convRule:Jb},{start:42630,length:1,convRule:vy},{start:42631,length:1,convRule:Jb},{start:42632,length:1,convRule:vy},{start:42633,length:1,convRule:Jb},{start:42634,length:1,convRule:vy},{start:42635,length:1,convRule:Jb},{start:42636,length:1,convRule:vy},{start:42637,length:1,convRule:Jb},{start:42638,length:1,convRule:vy},{start:42639,length:1,convRule:Jb},{start:42640,length:1,convRule:vy},{start:42641,length:1,convRule:Jb},{start:42642,length:1,convRule:vy},{start:42643,length:1,convRule:Jb},{start:42644,length:1,convRule:vy},{start:42645,length:1,convRule:Jb},{start:42646,length:1,convRule:vy},{start:42647,length:1,convRule:Jb},{start:42648,length:1,convRule:vy},{start:42649,length:1,convRule:Jb},{start:42650,length:1,convRule:vy},{start:42651,length:1,convRule:Jb},{start:42652,length:2,convRule:tb},{start:42654,length:2,convRule:gx},{start:42656,length:70,convRule:Ky},{start:42726,length:10,convRule:ux},{start:42736,length:2,convRule:gx},{start:42738,length:6,convRule:Jw},{start:42752,length:23,convRule:Yw},{start:42775,length:9,convRule:tb},{start:42784,length:2,convRule:Yw},{start:42786,length:1,convRule:vy},{start:42787,length:1,convRule:Jb},{start:42788,length:1,convRule:vy},{start:42789,length:1,convRule:Jb},{start:42790,length:1,convRule:vy},{start:42791,length:1,convRule:Jb},{start:42792,length:1,convRule:vy},{start:42793,length:1,convRule:Jb},{start:42794,length:1,convRule:vy},{start:42795,length:1,convRule:Jb},{start:42796,length:1,convRule:vy},{start:42797,length:1,convRule:Jb},{start:42798,length:1,convRule:vy},{start:42799,length:1,convRule:Jb},{start:42800,length:2,convRule:Gb},{start:42802,length:1,convRule:vy},{start:42803,length:1,convRule:Jb},{start:42804,length:1,convRule:vy},{start:42805,length:1,convRule:Jb},{start:42806,length:1,convRule:vy},{start:42807,length:1,convRule:Jb},{start:42808,length:1,convRule:vy},{start:42809,length:1,convRule:Jb},{start:42810,length:1,convRule:vy},{start:42811,length:1,convRule:Jb},{start:42812,length:1,convRule:vy},{start:42813,length:1,convRule:Jb},{start:42814,length:1,convRule:vy},{start:42815,length:1,convRule:Jb},{start:42816,length:1,convRule:vy},{start:42817,length:1,convRule:Jb},{start:42818,length:1,convRule:vy},{start:42819,length:1,convRule:Jb},{start:42820,length:1,convRule:vy},{start:42821,length:1,convRule:Jb},{start:42822,length:1,convRule:vy},{start:42823,length:1,convRule:Jb},{start:42824,length:1,convRule:vy},{start:42825,length:1,convRule:Jb},{start:42826,length:1,convRule:vy},{start:42827,length:1,convRule:Jb},{start:42828,length:1,convRule:vy},{start:42829,length:1,convRule:Jb},{start:42830,length:1,convRule:vy},{start:42831,length:1,convRule:Jb},{start:42832,length:1,convRule:vy},{start:42833,length:1,convRule:Jb},{start:42834,length:1,convRule:vy},{start:42835,length:1,convRule:Jb},{start:42836,length:1,convRule:vy},{start:42837,length:1,convRule:Jb},{start:42838,length:1,convRule:vy},{start:42839,length:1,convRule:Jb},{start:42840,length:1,convRule:vy},{start:42841,length:1,convRule:Jb},{start:42842,length:1,convRule:vy},{start:42843,length:1,convRule:Jb},{start:42844,length:1,convRule:vy},{start:42845,length:1,convRule:Jb},{start:42846,length:1,convRule:vy},{start:42847,length:1,convRule:Jb},{start:42848,length:1,convRule:vy},{start:42849,length:1,convRule:Jb},{start:42850,length:1,convRule:vy},{start:42851,length:1,convRule:Jb},{start:42852,length:1,convRule:vy},{start:42853,length:1,convRule:Jb},{start:42854,length:1,convRule:vy},{start:42855,length:1,convRule:Jb},{start:42856,length:1,convRule:vy},{start:42857,length:1,convRule:Jb},{start:42858,length:1,convRule:vy},{start:42859,length:1,convRule:Jb},{start:42860,length:1,convRule:vy},{start:42861,length:1,convRule:Jb},{start:42862,length:1,convRule:vy},{start:42863,length:1,convRule:Jb},{start:42864,length:1,convRule:tb},{start:42865,length:8,convRule:Gb},{start:42873,length:1,convRule:vy},{start:42874,length:1,convRule:Jb},{start:42875,length:1,convRule:vy},{start:42876,length:1,convRule:Jb},{start:42877,length:1,convRule:Jx},{start:42878,length:1,convRule:vy},{start:42879,length:1,convRule:Jb},{start:42880,length:1,convRule:vy},{start:42881,length:1,convRule:Jb},{start:42882,length:1,convRule:vy},{start:42883,length:1,convRule:Jb},{start:42884,length:1,convRule:vy},{start:42885,length:1,convRule:Jb},{start:42886,length:1,convRule:vy},{start:42887,length:1,convRule:Jb},{start:42888,length:1,convRule:tb},{start:42889,length:2,convRule:Yw},{start:42891,length:1,convRule:vy},{start:42892,length:1,convRule:Jb},{start:42893,length:1,convRule:ty},{start:42894,length:1,convRule:Gb},{start:42895,length:1,convRule:Ky},{start:42896,length:1,convRule:vy},{start:42897,length:1,convRule:Jb},{start:42898,length:1,convRule:vy},{start:42899,length:1,convRule:Jb},{start:42900,length:1,convRule:zb},{start:42901,length:1,convRule:Gb},{start:42902,length:1,convRule:vy},{start:42903,length:1,convRule:Jb},{start:42904,length:1,convRule:vy},{start:42905,length:1,convRule:Jb},{start:42906,length:1,convRule:vy},{start:42907,length:1,convRule:Jb},{start:42908,length:1,convRule:vy},{start:42909,length:1,convRule:Jb},{start:42910,length:1,convRule:vy},{start:42911,length:1,convRule:Jb},{start:42912,length:1,convRule:vy},{start:42913,length:1,convRule:Jb},{start:42914,length:1,convRule:vy},{start:42915,length:1,convRule:Jb},{start:42916,length:1,convRule:vy},{start:42917,length:1,convRule:Jb},{start:42918,length:1,convRule:vy},{start:42919,length:1,convRule:Jb},{start:42920,length:1,convRule:vy},{start:42921,length:1,convRule:Jb},{start:42922,length:1,convRule:ey},{start:42923,length:1,convRule:ny},{start:42924,length:1,convRule:ry},{start:42925,length:1,convRule:iy},{start:42926,length:1,convRule:ey},{start:42927,length:1,convRule:Gb},{start:42928,length:1,convRule:sy},{start:42929,length:1,convRule:oy},{start:42930,length:1,convRule:ly},{start:42931,length:1,convRule:ay},{start:42932,length:1,convRule:vy},{start:42933,length:1,convRule:Jb},{start:42934,length:1,convRule:vy},{start:42935,length:1,convRule:Jb},{start:42936,length:1,convRule:vy},{start:42937,length:1,convRule:Jb},{start:42938,length:1,convRule:vy},{start:42939,length:1,convRule:Jb},{start:42940,length:1,convRule:vy},{start:42941,length:1,convRule:Jb},{start:42942,length:1,convRule:vy},{start:42943,length:1,convRule:Jb},{start:42946,length:1,convRule:vy},{start:42947,length:1,convRule:Jb},{start:42948,length:1,convRule:uy},{start:42949,length:1,convRule:cy},{start:42950,length:1,convRule:hy},{start:42951,length:1,convRule:vy},{start:42952,length:1,convRule:Jb},{start:42953,length:1,convRule:vy},{start:42954,length:1,convRule:Jb},{start:42997,length:1,convRule:vy},{start:42998,length:1,convRule:Jb},{start:42999,length:1,convRule:Ky},{start:43e3,length:2,convRule:tb},{start:43002,length:1,convRule:Gb},{start:43003,length:7,convRule:Ky},{start:43010,length:1,convRule:gx},{start:43011,length:3,convRule:Ky},{start:43014,length:1,convRule:gx},{start:43015,length:4,convRule:Ky},{start:43019,length:1,convRule:gx},{start:43020,length:23,convRule:Ky},{start:43043,length:2,convRule:wx},{start:43045,length:2,convRule:gx},{start:43047,length:1,convRule:wx},{start:43048,length:4,convRule:zw},{start:43052,length:1,convRule:gx},{start:43056,length:6,convRule:lx},{start:43062,length:2,convRule:zw},{start:43064,length:1,convRule:Zw},{start:43065,length:1,convRule:zw},{start:43072,length:52,convRule:Ky},{start:43124,length:4,convRule:Jw},{start:43136,length:2,convRule:wx},{start:43138,length:50,convRule:Ky},{start:43188,length:16,convRule:wx},{start:43204,length:2,convRule:gx},{start:43214,length:2,convRule:Jw},{start:43216,length:10,convRule:dx},{start:43232,length:18,convRule:gx},{start:43250,length:6,convRule:Ky},{start:43256,length:3,convRule:Jw},{start:43259,length:1,convRule:Ky},{start:43260,length:1,convRule:Jw},{start:43261,length:2,convRule:Ky},{start:43263,length:1,convRule:gx},{start:43264,length:10,convRule:dx},{start:43274,length:28,convRule:Ky},{start:43302,length:8,convRule:gx},{start:43310,length:2,convRule:Jw},{start:43312,length:23,convRule:Ky},{start:43335,length:11,convRule:gx},{start:43346,length:2,convRule:wx},{start:43359,length:1,convRule:Jw},{start:43360,length:29,convRule:Ky},{start:43392,length:3,convRule:gx},{start:43395,length:1,convRule:wx},{start:43396,length:47,convRule:Ky},{start:43443,length:1,convRule:gx},{start:43444,length:2,convRule:wx},{start:43446,length:4,convRule:gx},{start:43450,length:2,convRule:wx},{start:43452,length:2,convRule:gx},{start:43454,length:3,convRule:wx},{start:43457,length:13,convRule:Jw},{start:43471,length:1,convRule:tb},{start:43472,length:10,convRule:dx},{start:43486,length:2,convRule:Jw},{start:43488,length:5,convRule:Ky},{start:43493,length:1,convRule:gx},{start:43494,length:1,convRule:tb},{start:43495,length:9,convRule:Ky},{start:43504,length:10,convRule:dx},{start:43514,length:5,convRule:Ky},{start:43520,length:41,convRule:Ky},{start:43561,length:6,convRule:gx},{start:43567,length:2,convRule:wx},{start:43569,length:2,convRule:gx},{start:43571,length:2,convRule:wx},{start:43573,length:2,convRule:gx},{start:43584,length:3,convRule:Ky},{start:43587,length:1,convRule:gx},{start:43588,length:8,convRule:Ky},{start:43596,length:1,convRule:gx},{start:43597,length:1,convRule:wx},{start:43600,length:10,convRule:dx},{start:43612,length:4,convRule:Jw},{start:43616,length:16,convRule:Ky},{start:43632,length:1,convRule:tb},{start:43633,length:6,convRule:Ky},{start:43639,length:3,convRule:zw},{start:43642,length:1,convRule:Ky},{start:43643,length:1,convRule:wx},{start:43644,length:1,convRule:gx},{start:43645,length:1,convRule:wx},{start:43646,length:50,convRule:Ky},{start:43696,length:1,convRule:gx},{start:43697,length:1,convRule:Ky},{start:43698,length:3,convRule:gx},{start:43701,length:2,convRule:Ky},{start:43703,length:2,convRule:gx},{start:43705,length:5,convRule:Ky},{start:43710,length:2,convRule:gx},{start:43712,length:1,convRule:Ky},{start:43713,length:1,convRule:gx},{start:43714,length:1,convRule:Ky},{start:43739,length:2,convRule:Ky},{start:43741,length:1,convRule:tb},{start:43742,length:2,convRule:Jw},{start:43744,length:11,convRule:Ky},{start:43755,length:1,convRule:wx},{start:43756,length:2,convRule:gx},{start:43758,length:2,convRule:wx},{start:43760,length:2,convRule:Jw},{start:43762,length:1,convRule:Ky},{start:43763,length:2,convRule:tb},{start:43765,length:1,convRule:wx},{start:43766,length:1,convRule:gx},{start:43777,length:6,convRule:Ky},{start:43785,length:6,convRule:Ky},{start:43793,length:6,convRule:Ky},{start:43808,length:7,convRule:Ky},{start:43816,length:7,convRule:Ky},{start:43824,length:35,convRule:Gb},{start:43859,length:1,convRule:Wb},{start:43860,length:7,convRule:Gb},{start:43867,length:1,convRule:Yw},{start:43868,length:4,convRule:tb},{start:43872,length:9,convRule:Gb},{start:43881,length:1,convRule:tb},{start:43882,length:2,convRule:Yw},{start:43888,length:80,convRule:jb},{start:43968,length:35,convRule:Ky},{start:44003,length:2,convRule:wx},{start:44005,length:1,convRule:gx},{start:44006,length:2,convRule:wx},{start:44008,length:1,convRule:gx},{start:44009,length:2,convRule:wx},{start:44011,length:1,convRule:Jw},{start:44012,length:1,convRule:wx},{start:44013,length:1,convRule:gx},{start:44016,length:10,convRule:dx},{start:44032,length:11172,convRule:Ky},{start:55216,length:23,convRule:Ky},{start:55243,length:49,convRule:Ky},{start:55296,length:896,convRule:Uk},{start:56192,length:128,convRule:Uk},{start:56320,length:1024,convRule:Uk},{start:57344,length:6400,convRule:Hk},{start:63744,length:366,convRule:Ky},{start:64112,length:106,convRule:Ky},{start:64256,length:7,convRule:Gb},{start:64275,length:5,convRule:Gb},{start:64285,length:1,convRule:Ky},{start:64286,length:1,convRule:gx},{start:64287,length:10,convRule:Ky},{start:64297,length:1,convRule:Gw},{start:64298,length:13,convRule:Ky},{start:64312,length:5,convRule:Ky},{start:64318,length:1,convRule:Ky},{start:64320,length:2,convRule:Ky},{start:64323,length:2,convRule:Ky},{start:64326,length:108,convRule:Ky},{start:64434,length:16,convRule:Yw},{start:64467,length:363,convRule:Ky},{start:64830,length:1,convRule:rx},{start:64831,length:1,convRule:Kw},{start:64848,length:64,convRule:Ky},{start:64914,length:54,convRule:Ky},{start:65008,length:12,convRule:Ky},{start:65020,length:1,convRule:Zw},{start:65021,length:1,convRule:zw},{start:65024,length:16,convRule:gx},{start:65040,length:7,convRule:Jw},{start:65047,length:1,convRule:Kw},{start:65048,length:1,convRule:rx},{start:65049,length:1,convRule:Jw},{start:65056,length:16,convRule:gx},{start:65072,length:1,convRule:Jw},{start:65073,length:2,convRule:ix},{start:65075,length:2,convRule:sx},{start:65077,length:1,convRule:Kw},{start:65078,length:1,convRule:rx},{start:65079,length:1,convRule:Kw},{start:65080,length:1,convRule:rx},{start:65081,length:1,convRule:Kw},{start:65082,length:1,convRule:rx},{start:65083,length:1,convRule:Kw},{start:65084,length:1,convRule:rx},{start:65085,length:1,convRule:Kw},{start:65086,length:1,convRule:rx},{start:65087,length:1,convRule:Kw},{start:65088,length:1,convRule:rx},{start:65089,length:1,convRule:Kw},{start:65090,length:1,convRule:rx},{start:65091,length:1,convRule:Kw},{start:65092,length:1,convRule:rx},{start:65093,length:2,convRule:Jw},{start:65095,length:1,convRule:Kw},{start:65096,length:1,convRule:rx},{start:65097,length:4,convRule:Jw},{start:65101,length:3,convRule:sx},{start:65104,length:3,convRule:Jw},{start:65108,length:4,convRule:Jw},{start:65112,length:1,convRule:ix},{start:65113,length:1,convRule:Kw},{start:65114,length:1,convRule:rx},{start:65115,length:1,convRule:Kw},{start:65116,length:1,convRule:rx},{start:65117,length:1,convRule:Kw},{start:65118,length:1,convRule:rx},{start:65119,length:3,convRule:Jw},{start:65122,length:1,convRule:Gw},{start:65123,length:1,convRule:ix},{start:65124,length:3,convRule:Gw},{start:65128,length:1,convRule:Jw},{start:65129,length:1,convRule:Zw},{start:65130,length:2,convRule:Jw},{start:65136,length:5,convRule:Ky},{start:65142,length:135,convRule:Ky},{start:65279,length:1,convRule:qk},{start:65281,length:3,convRule:Jw},{start:65284,length:1,convRule:Zw},{start:65285,length:3,convRule:Jw},{start:65288,length:1,convRule:Kw},{start:65289,length:1,convRule:rx},{start:65290,length:1,convRule:Jw},{start:65291,length:1,convRule:Gw},{start:65292,length:1,convRule:Jw},{start:65293,length:1,convRule:ix},{start:65294,length:2,convRule:Jw},{start:65296,length:10,convRule:dx},{start:65306,length:2,convRule:Jw},{start:65308,length:3,convRule:Gw},{start:65311,length:2,convRule:Jw},{start:65313,length:26,convRule:Uy},{start:65339,length:1,convRule:Kw},{start:65340,length:1,convRule:Jw},{start:65341,length:1,convRule:rx},{start:65342,length:1,convRule:Yw},{start:65343,length:1,convRule:sx},{start:65344,length:1,convRule:Yw},{start:65345,length:26,convRule:pb},{start:65371,length:1,convRule:Kw},{start:65372,length:1,convRule:Gw},{start:65373,length:1,convRule:rx},{start:65374,length:1,convRule:Gw},{start:65375,length:1,convRule:Kw},{start:65376,length:1,convRule:rx},{start:65377,length:1,convRule:Jw},{start:65378,length:1,convRule:Kw},{start:65379,length:1,convRule:rx},{start:65380,length:2,convRule:Jw},{start:65382,length:10,convRule:Ky},{start:65392,length:1,convRule:tb},{start:65393,length:45,convRule:Ky},{start:65438,length:2,convRule:tb},{start:65440,length:31,convRule:Ky},{start:65474,length:6,convRule:Ky},{start:65482,length:6,convRule:Ky},{start:65490,length:6,convRule:Ky},{start:65498,length:3,convRule:Ky},{start:65504,length:2,convRule:Zw},{start:65506,length:1,convRule:Gw},{start:65507,length:1,convRule:Yw},{start:65508,length:1,convRule:zw},{start:65509,length:2,convRule:Zw},{start:65512,length:1,convRule:zw},{start:65513,length:4,convRule:Gw},{start:65517,length:2,convRule:zw},{start:65529,length:3,convRule:qk},{start:65532,length:2,convRule:zw},{start:65536,length:12,convRule:Ky},{start:65549,length:26,convRule:Ky},{start:65576,length:19,convRule:Ky},{start:65596,length:2,convRule:Ky},{start:65599,length:15,convRule:Ky},{start:65616,length:14,convRule:Ky},{start:65664,length:123,convRule:Ky},{start:65792,length:3,convRule:Jw},{start:65799,length:45,convRule:lx},{start:65847,length:9,convRule:zw},{start:65856,length:53,convRule:ux},{start:65909,length:4,convRule:lx},{start:65913,length:17,convRule:zw},{start:65930,length:2,convRule:lx},{start:65932,length:3,convRule:zw},{start:65936,length:13,convRule:zw},{start:65952,length:1,convRule:zw},{start:66e3,length:45,convRule:zw},{start:66045,length:1,convRule:gx},{start:66176,length:29,convRule:Ky},{start:66208,length:49,convRule:Ky},{start:66272,length:1,convRule:gx},{start:66273,length:27,convRule:lx},{start:66304,length:32,convRule:Ky},{start:66336,length:4,convRule:lx},{start:66349,length:20,convRule:Ky},{start:66369,length:1,convRule:ux},{start:66370,length:8,convRule:Ky},{start:66378,length:1,convRule:ux},{start:66384,length:38,convRule:Ky},{start:66422,length:5,convRule:gx},{start:66432,length:30,convRule:Ky},{start:66463,length:1,convRule:Jw},{start:66464,length:36,convRule:Ky},{start:66504,length:8,convRule:Ky},{start:66512,length:1,convRule:Jw},{start:66513,length:5,convRule:ux},{start:66560,length:40,convRule:fy},{start:66600,length:40,convRule:Yb},{start:66640,length:78,convRule:Ky},{start:66720,length:10,convRule:dx},{start:66736,length:36,convRule:fy},{start:66776,length:36,convRule:Yb},{start:66816,length:40,convRule:Ky},{start:66864,length:52,convRule:Ky},{start:66927,length:1,convRule:Jw},{start:67072,length:311,convRule:Ky},{start:67392,length:22,convRule:Ky},{start:67424,length:8,convRule:Ky},{start:67584,length:6,convRule:Ky},{start:67592,length:1,convRule:Ky},{start:67594,length:44,convRule:Ky},{start:67639,length:2,convRule:Ky},{start:67644,length:1,convRule:Ky},{start:67647,length:23,convRule:Ky},{start:67671,length:1,convRule:Jw},{start:67672,length:8,convRule:lx},{start:67680,length:23,convRule:Ky},{start:67703,length:2,convRule:zw},{start:67705,length:7,convRule:lx},{start:67712,length:31,convRule:Ky},{start:67751,length:9,convRule:lx},{start:67808,length:19,convRule:Ky},{start:67828,length:2,convRule:Ky},{start:67835,length:5,convRule:lx},{start:67840,length:22,convRule:Ky},{start:67862,length:6,convRule:lx},{start:67871,length:1,convRule:Jw},{start:67872,length:26,convRule:Ky},{start:67903,length:1,convRule:Jw},{start:67968,length:56,convRule:Ky},{start:68028,length:2,convRule:lx},{start:68030,length:2,convRule:Ky},{start:68032,length:16,convRule:lx},{start:68050,length:46,convRule:lx},{start:68096,length:1,convRule:Ky},{start:68097,length:3,convRule:gx},{start:68101,length:2,convRule:gx},{start:68108,length:4,convRule:gx},{start:68112,length:4,convRule:Ky},{start:68117,length:3,convRule:Ky},{start:68121,length:29,convRule:Ky},{start:68152,length:3,convRule:gx},{start:68159,length:1,convRule:gx},{start:68160,length:9,convRule:lx},{start:68176,length:9,convRule:Jw},{start:68192,length:29,convRule:Ky},{start:68221,length:2,convRule:lx},{start:68223,length:1,convRule:Jw},{start:68224,length:29,convRule:Ky},{start:68253,length:3,convRule:lx},{start:68288,length:8,convRule:Ky},{start:68296,length:1,convRule:zw},{start:68297,length:28,convRule:Ky},{start:68325,length:2,convRule:gx},{start:68331,length:5,convRule:lx},{start:68336,length:7,convRule:Jw},{start:68352,length:54,convRule:Ky},{start:68409,length:7,convRule:Jw},{start:68416,length:22,convRule:Ky},{start:68440,length:8,convRule:lx},{start:68448,length:19,convRule:Ky},{start:68472,length:8,convRule:lx},{start:68480,length:18,convRule:Ky},{start:68505,length:4,convRule:Jw},{start:68521,length:7,convRule:lx},{start:68608,length:73,convRule:Ky},{start:68736,length:51,convRule:Xy},{start:68800,length:51,convRule:ib},{start:68858,length:6,convRule:lx},{start:68864,length:36,convRule:Ky},{start:68900,length:4,convRule:gx},{start:68912,length:10,convRule:dx},{start:69216,length:31,convRule:lx},{start:69248,length:42,convRule:Ky},{start:69291,length:2,convRule:gx},{start:69293,length:1,convRule:ix},{start:69296,length:2,convRule:Ky},{start:69376,length:29,convRule:Ky},{start:69405,length:10,convRule:lx},{start:69415,length:1,convRule:Ky},{start:69424,length:22,convRule:Ky},{start:69446,length:11,convRule:gx},{start:69457,length:4,convRule:lx},{start:69461,length:5,convRule:Jw},{start:69552,length:21,convRule:Ky},{start:69573,length:7,convRule:lx},{start:69600,length:23,convRule:Ky},{start:69632,length:1,convRule:wx},{start:69633,length:1,convRule:gx},{start:69634,length:1,convRule:wx},{start:69635,length:53,convRule:Ky},{start:69688,length:15,convRule:gx},{start:69703,length:7,convRule:Jw},{start:69714,length:20,convRule:lx},{start:69734,length:10,convRule:dx},{start:69759,length:3,convRule:gx},{start:69762,length:1,convRule:wx},{start:69763,length:45,convRule:Ky},{start:69808,length:3,convRule:wx},{start:69811,length:4,convRule:gx},{start:69815,length:2,convRule:wx},{start:69817,length:2,convRule:gx},{start:69819,length:2,convRule:Jw},{start:69821,length:1,convRule:qk},{start:69822,length:4,convRule:Jw},{start:69837,length:1,convRule:qk},{start:69840,length:25,convRule:Ky},{start:69872,length:10,convRule:dx},{start:69888,length:3,convRule:gx},{start:69891,length:36,convRule:Ky},{start:69927,length:5,convRule:gx},{start:69932,length:1,convRule:wx},{start:69933,length:8,convRule:gx},{start:69942,length:10,convRule:dx},{start:69952,length:4,convRule:Jw},{start:69956,length:1,convRule:Ky},{start:69957,length:2,convRule:wx},{start:69959,length:1,convRule:Ky},{start:69968,length:35,convRule:Ky},{start:70003,length:1,convRule:gx},{start:70004,length:2,convRule:Jw},{start:70006,length:1,convRule:Ky},{start:70016,length:2,convRule:gx},{start:70018,length:1,convRule:wx},{start:70019,length:48,convRule:Ky},{start:70067,length:3,convRule:wx},{start:70070,length:9,convRule:gx},{start:70079,length:2,convRule:wx},{start:70081,length:4,convRule:Ky},{start:70085,length:4,convRule:Jw},{start:70089,length:4,convRule:gx},{start:70093,length:1,convRule:Jw},{start:70094,length:1,convRule:wx},{start:70095,length:1,convRule:gx},{start:70096,length:10,convRule:dx},{start:70106,length:1,convRule:Ky},{start:70107,length:1,convRule:Jw},{start:70108,length:1,convRule:Ky},{start:70109,length:3,convRule:Jw},{start:70113,length:20,convRule:lx},{start:70144,length:18,convRule:Ky},{start:70163,length:25,convRule:Ky},{start:70188,length:3,convRule:wx},{start:70191,length:3,convRule:gx},{start:70194,length:2,convRule:wx},{start:70196,length:1,convRule:gx},{start:70197,length:1,convRule:wx},{start:70198,length:2,convRule:gx},{start:70200,length:6,convRule:Jw},{start:70206,length:1,convRule:gx},{start:70272,length:7,convRule:Ky},{start:70280,length:1,convRule:Ky},{start:70282,length:4,convRule:Ky},{start:70287,length:15,convRule:Ky},{start:70303,length:10,convRule:Ky},{start:70313,length:1,convRule:Jw},{start:70320,length:47,convRule:Ky},{start:70367,length:1,convRule:gx},{start:70368,length:3,convRule:wx},{start:70371,length:8,convRule:gx},{start:70384,length:10,convRule:dx},{start:70400,length:2,convRule:gx},{start:70402,length:2,convRule:wx},{start:70405,length:8,convRule:Ky},{start:70415,length:2,convRule:Ky},{start:70419,length:22,convRule:Ky},{start:70442,length:7,convRule:Ky},{start:70450,length:2,convRule:Ky},{start:70453,length:5,convRule:Ky},{start:70459,length:2,convRule:gx},{start:70461,length:1,convRule:Ky},{start:70462,length:2,convRule:wx},{start:70464,length:1,convRule:gx},{start:70465,length:4,convRule:wx},{start:70471,length:2,convRule:wx},{start:70475,length:3,convRule:wx},{start:70480,length:1,convRule:Ky},{start:70487,length:1,convRule:wx},{start:70493,length:5,convRule:Ky},{start:70498,length:2,convRule:wx},{start:70502,length:7,convRule:gx},{start:70512,length:5,convRule:gx},{start:70656,length:53,convRule:Ky},{start:70709,length:3,convRule:wx},{start:70712,length:8,convRule:gx},{start:70720,length:2,convRule:wx},{start:70722,length:3,convRule:gx},{start:70725,length:1,convRule:wx},{start:70726,length:1,convRule:gx},{start:70727,length:4,convRule:Ky},{start:70731,length:5,convRule:Jw},{start:70736,length:10,convRule:dx},{start:70746,length:2,convRule:Jw},{start:70749,length:1,convRule:Jw},{start:70750,length:1,convRule:gx},{start:70751,length:3,convRule:Ky},{start:70784,length:48,convRule:Ky},{start:70832,length:3,convRule:wx},{start:70835,length:6,convRule:gx},{start:70841,length:1,convRule:wx},{start:70842,length:1,convRule:gx},{start:70843,length:4,convRule:wx},{start:70847,length:2,convRule:gx},{start:70849,length:1,convRule:wx},{start:70850,length:2,convRule:gx},{start:70852,length:2,convRule:Ky},{start:70854,length:1,convRule:Jw},{start:70855,length:1,convRule:Ky},{start:70864,length:10,convRule:dx},{start:71040,length:47,convRule:Ky},{start:71087,length:3,convRule:wx},{start:71090,length:4,convRule:gx},{start:71096,length:4,convRule:wx},{start:71100,length:2,convRule:gx},{start:71102,length:1,convRule:wx},{start:71103,length:2,convRule:gx},{start:71105,length:23,convRule:Jw},{start:71128,length:4,convRule:Ky},{start:71132,length:2,convRule:gx},{start:71168,length:48,convRule:Ky},{start:71216,length:3,convRule:wx},{start:71219,length:8,convRule:gx},{start:71227,length:2,convRule:wx},{start:71229,length:1,convRule:gx},{start:71230,length:1,convRule:wx},{start:71231,length:2,convRule:gx},{start:71233,length:3,convRule:Jw},{start:71236,length:1,convRule:Ky},{start:71248,length:10,convRule:dx},{start:71264,length:13,convRule:Jw},{start:71296,length:43,convRule:Ky},{start:71339,length:1,convRule:gx},{start:71340,length:1,convRule:wx},{start:71341,length:1,convRule:gx},{start:71342,length:2,convRule:wx},{start:71344,length:6,convRule:gx},{start:71350,length:1,convRule:wx},{start:71351,length:1,convRule:gx},{start:71352,length:1,convRule:Ky},{start:71360,length:10,convRule:dx},{start:71424,length:27,convRule:Ky},{start:71453,length:3,convRule:gx},{start:71456,length:2,convRule:wx},{start:71458,length:4,convRule:gx},{start:71462,length:1,convRule:wx},{start:71463,length:5,convRule:gx},{start:71472,length:10,convRule:dx},{start:71482,length:2,convRule:lx},{start:71484,length:3,convRule:Jw},{start:71487,length:1,convRule:zw},{start:71680,length:44,convRule:Ky},{start:71724,length:3,convRule:wx},{start:71727,length:9,convRule:gx},{start:71736,length:1,convRule:wx},{start:71737,length:2,convRule:gx},{start:71739,length:1,convRule:Jw},{start:71840,length:32,convRule:Uy},{start:71872,length:32,convRule:pb},{start:71904,length:10,convRule:dx},{start:71914,length:9,convRule:lx},{start:71935,length:8,convRule:Ky},{start:71945,length:1,convRule:Ky},{start:71948,length:8,convRule:Ky},{start:71957,length:2,convRule:Ky},{start:71960,length:24,convRule:Ky},{start:71984,length:6,convRule:wx},{start:71991,length:2,convRule:wx},{start:71995,length:2,convRule:gx},{start:71997,length:1,convRule:wx},{start:71998,length:1,convRule:gx},{start:71999,length:1,convRule:Ky},{start:72e3,length:1,convRule:wx},{start:72001,length:1,convRule:Ky},{start:72002,length:1,convRule:wx},{start:72003,length:1,convRule:gx},{start:72004,length:3,convRule:Jw},{start:72016,length:10,convRule:dx},{start:72096,length:8,convRule:Ky},{start:72106,length:39,convRule:Ky},{start:72145,length:3,convRule:wx},{start:72148,length:4,convRule:gx},{start:72154,length:2,convRule:gx},{start:72156,length:4,convRule:wx},{start:72160,length:1,convRule:gx},{start:72161,length:1,convRule:Ky},{start:72162,length:1,convRule:Jw},{start:72163,length:1,convRule:Ky},{start:72164,length:1,convRule:wx},{start:72192,length:1,convRule:Ky},{start:72193,length:10,convRule:gx},{start:72203,length:40,convRule:Ky},{start:72243,length:6,convRule:gx},{start:72249,length:1,convRule:wx},{start:72250,length:1,convRule:Ky},{start:72251,length:4,convRule:gx},{start:72255,length:8,convRule:Jw},{start:72263,length:1,convRule:gx},{start:72272,length:1,convRule:Ky},{start:72273,length:6,convRule:gx},{start:72279,length:2,convRule:wx},{start:72281,length:3,convRule:gx},{start:72284,length:46,convRule:Ky},{start:72330,length:13,convRule:gx},{start:72343,length:1,convRule:wx},{start:72344,length:2,convRule:gx},{start:72346,length:3,convRule:Jw},{start:72349,length:1,convRule:Ky},{start:72350,length:5,convRule:Jw},{start:72384,length:57,convRule:Ky},{start:72704,length:9,convRule:Ky},{start:72714,length:37,convRule:Ky},{start:72751,length:1,convRule:wx},{start:72752,length:7,convRule:gx},{start:72760,length:6,convRule:gx},{start:72766,length:1,convRule:wx},{start:72767,length:1,convRule:gx},{start:72768,length:1,convRule:Ky},{start:72769,length:5,convRule:Jw},{start:72784,length:10,convRule:dx},{start:72794,length:19,convRule:lx},{start:72816,length:2,convRule:Jw},{start:72818,length:30,convRule:Ky},{start:72850,length:22,convRule:gx},{start:72873,length:1,convRule:wx},{start:72874,length:7,convRule:gx},{start:72881,length:1,convRule:wx},{start:72882,length:2,convRule:gx},{start:72884,length:1,convRule:wx},{start:72885,length:2,convRule:gx},{start:72960,length:7,convRule:Ky},{start:72968,length:2,convRule:Ky},{start:72971,length:38,convRule:Ky},{start:73009,length:6,convRule:gx},{start:73018,length:1,convRule:gx},{start:73020,length:2,convRule:gx},{start:73023,length:7,convRule:gx},{start:73030,length:1,convRule:Ky},{start:73031,length:1,convRule:gx},{start:73040,length:10,convRule:dx},{start:73056,length:6,convRule:Ky},{start:73063,length:2,convRule:Ky},{start:73066,length:32,convRule:Ky},{start:73098,length:5,convRule:wx},{start:73104,length:2,convRule:gx},{start:73107,length:2,convRule:wx},{start:73109,length:1,convRule:gx},{start:73110,length:1,convRule:wx},{start:73111,length:1,convRule:gx},{start:73112,length:1,convRule:Ky},{start:73120,length:10,convRule:dx},{start:73440,length:19,convRule:Ky},{start:73459,length:2,convRule:gx},{start:73461,length:2,convRule:wx},{start:73463,length:2,convRule:Jw},{start:73648,length:1,convRule:Ky},{start:73664,length:21,convRule:lx},{start:73685,length:8,convRule:zw},{start:73693,length:4,convRule:Zw},{start:73697,length:17,convRule:zw},{start:73727,length:1,convRule:Jw},{start:73728,length:922,convRule:Ky},{start:74752,length:111,convRule:ux},{start:74864,length:5,convRule:Jw},{start:74880,length:196,convRule:Ky},{start:77824,length:1071,convRule:Ky},{start:78896,length:9,convRule:qk},{start:82944,length:583,convRule:Ky},{start:92160,length:569,convRule:Ky},{start:92736,length:31,convRule:Ky},{start:92768,length:10,convRule:dx},{start:92782,length:2,convRule:Jw},{start:92880,length:30,convRule:Ky},{start:92912,length:5,convRule:gx},{start:92917,length:1,convRule:Jw},{start:92928,length:48,convRule:Ky},{start:92976,length:7,convRule:gx},{start:92983,length:5,convRule:Jw},{start:92988,length:4,convRule:zw},{start:92992,length:4,convRule:tb},{start:92996,length:1,convRule:Jw},{start:92997,length:1,convRule:zw},{start:93008,length:10,convRule:dx},{start:93019,length:7,convRule:lx},{start:93027,length:21,convRule:Ky},{start:93053,length:19,convRule:Ky},{start:93760,length:32,convRule:Uy},{start:93792,length:32,convRule:pb},{start:93824,length:23,convRule:lx},{start:93847,length:4,convRule:Jw},{start:93952,length:75,convRule:Ky},{start:94031,length:1,convRule:gx},{start:94032,length:1,convRule:Ky},{start:94033,length:55,convRule:wx},{start:94095,length:4,convRule:gx},{start:94099,length:13,convRule:tb},{start:94176,length:2,convRule:tb},{start:94178,length:1,convRule:Jw},{start:94179,length:1,convRule:tb},{start:94180,length:1,convRule:gx},{start:94192,length:2,convRule:wx},{start:94208,length:6136,convRule:Ky},{start:100352,length:1238,convRule:Ky},{start:101632,length:9,convRule:Ky},{start:110592,length:287,convRule:Ky},{start:110928,length:3,convRule:Ky},{start:110948,length:4,convRule:Ky},{start:110960,length:396,convRule:Ky},{start:113664,length:107,convRule:Ky},{start:113776,length:13,convRule:Ky},{start:113792,length:9,convRule:Ky},{start:113808,length:10,convRule:Ky},{start:113820,length:1,convRule:zw},{start:113821,length:2,convRule:gx},{start:113823,length:1,convRule:Jw},{start:113824,length:4,convRule:qk},{start:118784,length:246,convRule:zw},{start:119040,length:39,convRule:zw},{start:119081,length:60,convRule:zw},{start:119141,length:2,convRule:wx},{start:119143,length:3,convRule:gx},{start:119146,length:3,convRule:zw},{start:119149,length:6,convRule:wx},{start:119155,length:8,convRule:qk},{start:119163,length:8,convRule:gx},{start:119171,length:2,convRule:zw},{start:119173,length:7,convRule:gx},{start:119180,length:30,convRule:zw},{start:119210,length:4,convRule:gx},{start:119214,length:59,convRule:zw},{start:119296,length:66,convRule:zw},{start:119362,length:3,convRule:gx},{start:119365,length:1,convRule:zw},{start:119520,length:20,convRule:lx},{start:119552,length:87,convRule:zw},{start:119648,length:25,convRule:lx},{start:119808,length:26,convRule:kx},{start:119834,length:26,convRule:Gb},{start:119860,length:26,convRule:kx},{start:119886,length:7,convRule:Gb},{start:119894,length:18,convRule:Gb},{start:119912,length:26,convRule:kx},{start:119938,length:26,convRule:Gb},{start:119964,length:1,convRule:kx},{start:119966,length:2,convRule:kx},{start:119970,length:1,convRule:kx},{start:119973,length:2,convRule:kx},{start:119977,length:4,convRule:kx},{start:119982,length:8,convRule:kx},{start:119990,length:4,convRule:Gb},{start:119995,length:1,convRule:Gb},{start:119997,length:7,convRule:Gb},{start:120005,length:11,convRule:Gb},{start:120016,length:26,convRule:kx},{start:120042,length:26,convRule:Gb},{start:120068,length:2,convRule:kx},{start:120071,length:4,convRule:kx},{start:120077,length:8,convRule:kx},{start:120086,length:7,convRule:kx},{start:120094,length:26,convRule:Gb},{start:120120,length:2,convRule:kx},{start:120123,length:4,convRule:kx},{start:120128,length:5,convRule:kx},{start:120134,length:1,convRule:kx},{start:120138,length:7,convRule:kx},{start:120146,length:26,convRule:Gb},{start:120172,length:26,convRule:kx},{start:120198,length:26,convRule:Gb},{start:120224,length:26,convRule:kx},{start:120250,length:26,convRule:Gb},{start:120276,length:26,convRule:kx},{start:120302,length:26,convRule:Gb},{start:120328,length:26,convRule:kx},{start:120354,length:26,convRule:Gb},{start:120380,length:26,convRule:kx},{start:120406,length:26,convRule:Gb},{start:120432,length:26,convRule:kx},{start:120458,length:28,convRule:Gb},{start:120488,length:25,convRule:kx},{start:120513,length:1,convRule:Gw},{start:120514,length:25,convRule:Gb},{start:120539,length:1,convRule:Gw},{start:120540,length:6,convRule:Gb},{start:120546,length:25,convRule:kx},{start:120571,length:1,convRule:Gw},{start:120572,length:25,convRule:Gb},{start:120597,length:1,convRule:Gw},{start:120598,length:6,convRule:Gb},{start:120604,length:25,convRule:kx},{start:120629,length:1,convRule:Gw},{start:120630,length:25,convRule:Gb},{start:120655,length:1,convRule:Gw},{start:120656,length:6,convRule:Gb},{start:120662,length:25,convRule:kx},{start:120687,length:1,convRule:Gw},{start:120688,length:25,convRule:Gb},{start:120713,length:1,convRule:Gw},{start:120714,length:6,convRule:Gb},{start:120720,length:25,convRule:kx},{start:120745,length:1,convRule:Gw},{start:120746,length:25,convRule:Gb},{start:120771,length:1,convRule:Gw},{start:120772,length:6,convRule:Gb},{start:120778,length:1,convRule:kx},{start:120779,length:1,convRule:Gb},{start:120782,length:50,convRule:dx},{start:120832,length:512,convRule:zw},{start:121344,length:55,convRule:gx},{start:121399,length:4,convRule:zw},{start:121403,length:50,convRule:gx},{start:121453,length:8,convRule:zw},{start:121461,length:1,convRule:gx},{start:121462,length:14,convRule:zw},{start:121476,length:1,convRule:gx},{start:121477,length:2,convRule:zw},{start:121479,length:5,convRule:Jw},{start:121499,length:5,convRule:gx},{start:121505,length:15,convRule:gx},{start:122880,length:7,convRule:gx},{start:122888,length:17,convRule:gx},{start:122907,length:7,convRule:gx},{start:122915,length:2,convRule:gx},{start:122918,length:5,convRule:gx},{start:123136,length:45,convRule:Ky},{start:123184,length:7,convRule:gx},{start:123191,length:7,convRule:tb},{start:123200,length:10,convRule:dx},{start:123214,length:1,convRule:Ky},{start:123215,length:1,convRule:zw},{start:123584,length:44,convRule:Ky},{start:123628,length:4,convRule:gx},{start:123632,length:10,convRule:dx},{start:123647,length:1,convRule:Zw},{start:124928,length:197,convRule:Ky},{start:125127,length:9,convRule:lx},{start:125136,length:7,convRule:gx},{start:125184,length:34,convRule:dy},{start:125218,length:34,convRule:Zb},{start:125252,length:7,convRule:gx},{start:125259,length:1,convRule:tb},{start:125264,length:10,convRule:dx},{start:125278,length:2,convRule:Jw},{start:126065,length:59,convRule:lx},{start:126124,length:1,convRule:zw},{start:126125,length:3,convRule:lx},{start:126128,length:1,convRule:Zw},{start:126129,length:4,convRule:lx},{start:126209,length:45,convRule:lx},{start:126254,length:1,convRule:zw},{start:126255,length:15,convRule:lx},{start:126464,length:4,convRule:Ky},{start:126469,length:27,convRule:Ky},{start:126497,length:2,convRule:Ky},{start:126500,length:1,convRule:Ky},{start:126503,length:1,convRule:Ky},{start:126505,length:10,convRule:Ky},{start:126516,length:4,convRule:Ky},{start:126521,length:1,convRule:Ky},{start:126523,length:1,convRule:Ky},{start:126530,length:1,convRule:Ky},{start:126535,length:1,convRule:Ky},{start:126537,length:1,convRule:Ky},{start:126539,length:1,convRule:Ky},{start:126541,length:3,convRule:Ky},{start:126545,length:2,convRule:Ky},{start:126548,length:1,convRule:Ky},{start:126551,length:1,convRule:Ky},{start:126553,length:1,convRule:Ky},{start:126555,length:1,convRule:Ky},{start:126557,length:1,convRule:Ky},{start:126559,length:1,convRule:Ky},{start:126561,length:2,convRule:Ky},{start:126564,length:1,convRule:Ky},{start:126567,length:4,convRule:Ky},{start:126572,length:7,convRule:Ky},{start:126580,length:4,convRule:Ky},{start:126585,length:4,convRule:Ky},{start:126590,length:1,convRule:Ky},{start:126592,length:10,convRule:Ky},{start:126603,length:17,convRule:Ky},{start:126625,length:3,convRule:Ky},{start:126629,length:5,convRule:Ky},{start:126635,length:17,convRule:Ky},{start:126704,length:2,convRule:Gw},{start:126976,length:44,convRule:zw},{start:127024,length:100,convRule:zw},{start:127136,length:15,convRule:zw},{start:127153,length:15,convRule:zw},{start:127169,length:15,convRule:zw},{start:127185,length:37,convRule:zw},{start:127232,length:13,convRule:lx},{start:127245,length:161,convRule:zw},{start:127462,length:29,convRule:zw},{start:127504,length:44,convRule:zw},{start:127552,length:9,convRule:zw},{start:127568,length:2,convRule:zw},{start:127584,length:6,convRule:zw},{start:127744,length:251,convRule:zw},{start:127995,length:5,convRule:Yw},{start:128e3,length:728,convRule:zw},{start:128736,length:13,convRule:zw},{start:128752,length:13,convRule:zw},{start:128768,length:116,convRule:zw},{start:128896,length:89,convRule:zw},{start:128992,length:12,convRule:zw},{start:129024,length:12,convRule:zw},{start:129040,length:56,convRule:zw},{start:129104,length:10,convRule:zw},{start:129120,length:40,convRule:zw},{start:129168,length:30,convRule:zw},{start:129200,length:2,convRule:zw},{start:129280,length:121,convRule:zw},{start:129402,length:82,convRule:zw},{start:129485,length:135,convRule:zw},{start:129632,length:14,convRule:zw},{start:129648,length:5,convRule:zw},{start:129656,length:3,convRule:zw},{start:129664,length:7,convRule:zw},{start:129680,length:25,convRule:zw},{start:129712,length:7,convRule:zw},{start:129728,length:3,convRule:zw},{start:129744,length:7,convRule:zw},{start:129792,length:147,convRule:zw},{start:129940,length:55,convRule:zw},{start:130032,length:10,convRule:dx},{start:131072,length:42718,convRule:Ky},{start:173824,length:4149,convRule:Ky},{start:177984,length:222,convRule:Ky},{start:178208,length:5762,convRule:Ky},{start:183984,length:7473,convRule:Ky},{start:194560,length:542,convRule:Ky},{start:196608,length:4939,convRule:Ky},{start:917505,length:1,convRule:qk},{start:917536,length:96,convRule:qk},{start:917760,length:240,convRule:gx},{start:983040,length:65534,convRule:Hk},{start:1048576,length:65534,convRule:Hk}],Gk=function(t){return function(e){var n=e<256?63:3396,r=Wk(jk)(e)(n);if(r instanceof yg)return!1;if(r instanceof bg)return Sg(hw(r.value0.category)(t));throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5645, column 5 - line 5647, column 86): "+[r.constructor.name])}},Yk=Gk([xx,Wy]),Zk=(Array.from,"undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator]),Kk=(String.prototype.fromCodePoint,"function"==typeof String.prototype.codePointAt);const Jk=function(t){return Kk?function(t){return t.codePointAt(0)}:t};var tC=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},eC=iw(uw),nC=hg(ug),rC=function(t){return function(e){return 65536+((1024*(t-55296|0)|0)+(e-56320|0)|0)|0}},iC=function(t){return 56320<=t&&t<=57343},sC=function(t){return 55296<=t&&t<=56319},oC=function(t){var e=QR(t);if(0===e)return yg.value;if(1===e)return new bg({head:eC(NR(0)(t)),tail:""});var n=eC(NR(1)(t)),r=eC(NR(0)(t)),i=sC(r)&&iC(n);return new bg(i?{head:rC(r)(n),tail:IR(2)(t)}:{head:r,tail:IR(1)(t)})},lC=function(t){var e=eC(NR(0)(t));if(sC(e)&&QR(t)>1){var n=eC(NR(1)(t));return iC(n)?rC(e)(n):e}return e},aC=Jk(lC),uC={eq:function(t){return function(e){return t===e}}},cC={compare:function(t){return function(e){return nC(t)(e)}},Eq0:function(){return uC}},hC=function(t){return function(e){var n,r=t,i=!1;function s(t,n){var s=oC(n);return s instanceof bg?0===t?(i=!0,new bg(s.value0.head)):(r=t-1|0,void(e=s.value0.tail)):(i=!0,yg.value)}for(;!i;)n=s(r,e);return n}},fC=function(t){return function(e){return t<0||0===t&&""===e?yg.value:0===t?new bg(aC(e)):(n=hC,function(t){return function(e){return function(r){return function(i){return function(s){var o=s.length;if(i<0||i>=o)return e;if(Zk)for(var l=s[Symbol.iterator](),a=i;;--a){var u=l.next();if(u.done)return e;if(0===a)return t(r(u.value))}return n(i)(s)}}}}})(bg.create)(yg.value)(aC)(t)(e);var n}},dC={bottom:0,top:1114111,Ord0:function(){return cC}},vC=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){return t>=0&&t<=1114111?new bg(t):yg.value},Bounded0:function(){return dC},Enum1:function(){return gC(0)}}}(),gC=tC("enumCodePoint","Data.String.CodePoints",(function(){return{succ:sw(rw(vC))(iw(vC)),pred:ow(rw(vC))(iw(vC)),Ord0:function(){return cC}}})),pC=iw(vC),mC=function(t){return Yk(pC(t))},RC=Um(OR),OC=function(t){if(t instanceof yg)return UR("unsafeFromJust: unexpected Nothing");if(t instanceof bg)return t.value0;throw new Error("Failed pattern match at Language.CP.Util (line 25, column 1 - line 25, column 41): "+[t.constructor.name])},wC=function(){var t=fC(0);return function(e){return mC(OC(t(e)))}}(),xC=function(t){return function(e){if(e instanceof pR)return UR("foldr1: empty list");if(e instanceof mR&&e.value1 instanceof pR)return e.value0;if(e instanceof mR)return t(e.value0)(xC(t)(e.value1));throw new Error("Failed pattern match at Language.CP.Util (line 20, column 1 - line 20, column 49): "+[t.constructor.name,e.constructor.name])}},yC=function(t){return function(e){if(e instanceof pR)return UR("foldl1: empty list");if(e instanceof mR)return RC(t)(e.value0)(e.value1);throw new Error("Failed pattern match at Language.CP.Util (line 16, column 1 - line 16, column 49): "+[t.constructor.name,e.constructor.name])}},bC=function(t){return function(e){return t+" "+e}},kC=wg(Rg),CC=wg(mg),TC=wg(pg),SC=wg(Og),AC=wg(HO),PC=wg(GO),EC=Hm(Vm)(qg),_C=mv(yv),LC=cO(ag),DC=hO(ag),QC=function(){function t(){}return t.value=new t,t}(),IC=function(){function t(){}return t.value=new t,t}(),NC=function(){function t(){}return t.value=new t,t}(),MC=function(){function t(){}return t.value=new t,t}(),$C=function(){function t(){}return t.value=new t,t}(),FC=function(){function t(){}return t.value=new t,t}(),BC=function(){function t(){}return t.value=new t,t}(),UC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),HC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),qC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),VC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),XC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),zC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),WC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),jC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),GC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),YC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),ZC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),KC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),JC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),tT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),eT=function(){function t(){}return t.value=new t,t}(),nT=function(){function t(){}return t.value=new t,t}(),rT=function(){function t(){}return t.value=new t,t}(),iT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),oT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),lT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),aT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),uT=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),cT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),hT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),fT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),dT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),vT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),gT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),pT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mT=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),RT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),OT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),xT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),yT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),bT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),kT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),CT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),TT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),ST=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),AT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),PT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),ET=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),_T=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),LT={show:function(t){if(t instanceof QC)return"Int";if(t instanceof IC)return"Double";if(t instanceof NC)return"String";if(t instanceof MC)return"Bool";if(t instanceof $C)return"()";if(t instanceof FC)return"Top";if(t instanceof BC)return"Bot";if(t instanceof UC&&t.value2)return"Trait"+JO(bC(wg(LT)(t.value0))(bC("=>")(wg(LT)(t.value1))));if(t instanceof UC&&!t.value2)return YO(bC(wg(LT)(t.value0))(bC("->")(wg(LT)(t.value1))));if(t instanceof HC)return YO(bC(wg(LT)(t.value0))(bC("&")(wg(LT)(t.value1))));if(t instanceof qC)return KO(t.value0+bC(t.value2?"?":"")(bC(":")(wg(LT)(t.value1))));if(t instanceof VC)return t.value0;if(t instanceof XC)return YO(bC("forall")(bC(t.value0)(bC("*")(wg(LT)(t.value1)+bC(".")(wg(LT)(t.value2))))));if(t instanceof zC)return YO(bC("mu")(t.value0+bC(".")(wg(LT)(t.value1))));if(t instanceof WC)return YO(bC("Ref")(wg(LT)(t.value0)));if(t instanceof jC)return ZO(wg(LT)(t.value0));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 36, column 1 - line 56, column 39): "+[t.constructor.name])}},DT=wg(LT),QT={show:function(t){if(t instanceof ZC)return kC(t.value0);if(t instanceof KC)return CC(t.value0);if(t instanceof JC)return TC(t.value0);if(t instanceof tT)return SC(t.value0);if(t instanceof eT)return"()";if(t instanceof nT)return"{}";if(t instanceof rT)return"undefined";if(t instanceof iT)return AC(t.value0)+wg(QT)(t.value1);if(t instanceof sT)return YO(bC(wg(QT)(t.value1))(bC(PC(t.value0))(wg(QT)(t.value2))));if(t instanceof oT)return YO(bC("if")(bC(wg(QT)(t.value0))(bC("then")(bC(wg(QT)(t.value1))(bC("else")(wg(QT)(t.value2)))))));if(t instanceof lT)return t.value0;if(t instanceof aT)return YO(bC(wg(QT)(t.value0))(wg(QT)(t.value1)));if(t instanceof uT)return YO("λ"+(t.value0+bC(".")(wg(QT)(t.value1))));if(t instanceof cT)return YO(bC("fix")(t.value0+bC(".")(wg(QT)(t.value1))));if(t instanceof hT)return YO(bC(wg(QT)(t.value0))(bC(":")(DT(t.value1))));if(t instanceof fT)return YO(bC(wg(QT)(t.value0))(bC(",")(wg(QT)(t.value1))));if(t instanceof dT)return KO(bC(t.value0)(bC("=")(wg(QT)(t.value2))));if(t instanceof vT)return wg(QT)(t.value0)+"."+t.value1;if(t instanceof gT)return wg(QT)(t.value0)+"."+bC(t.value1)(bC("??")(wg(QT)(t.value3)));if(t instanceof pT)return YO(bC(wg(QT)(t.value0))("@"+DT(t.value1)));if(t instanceof mT)return YO("Λ"+(t.value0+bC(".")(wg(QT)(t.value2))));if(t instanceof RT)return bC(t.value0)(bC("=")(wg(QT)(t.value1)+";\n"+wg(QT)(t.value2)));if(t instanceof OT)return YO("fold @"+bC(DT(t.value0))(wg(QT)(t.value1)));if(t instanceof wT)return YO("unfold @"+bC(DT(t.value0))(wg(QT)(t.value1)));if(t instanceof xT)return YO(bC("ref")(wg(QT)(t.value0)));if(t instanceof yT)return"!"+wg(QT)(t.value0);if(t instanceof bT)return YO(bC(wg(QT)(t.value0))(bC(":=")(wg(QT)(t.value1))));if(t instanceof kT)return YO(bC("toString")(wg(QT)(t.value0)));if(t instanceof CT)return ZO(EC("; ")(_C(wg(QT))(t.value1)));if(t instanceof TT)return wg(QT)(t.value0);if(t instanceof ST)return wg(QT)(OO(t.value0));if(t instanceof AT)return JO(bC("Closure")(wg(QT)(t.value1)));if(t instanceof PT)return JO(bC("HOAS")(bC(DT(t.value1))(bC("→")(DT(t.value2)))));if(t instanceof ET)return JO(bC("HOAS fix")(DT(t.value1)));if(t instanceof _T)return JO(bC("HOAS ∀*")(DT(t.value1)));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 101, column 1 - line 139, column 72): "+[t.constructor.name])}},IT=wg(QT),NT={show:function(t){if(t instanceof GC)return IT(t.value0);if(t instanceof YC&&t.value0 instanceof bg)return DT(t.value0.value0);if(t instanceof YC&&t.value0 instanceof yg)return"*";throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 289, column 1 - line 292, column 30): "+[t.constructor.name])}},MT={eq:function(t){return function(e){return t instanceof QC&&e instanceof QC||(t instanceof IC&&e instanceof IC||(t instanceof NC&&e instanceof NC||(t instanceof MC&&e instanceof MC||(t instanceof $C&&e instanceof $C||(t instanceof FC&&e instanceof FC||(t instanceof BC&&e instanceof BC||(t instanceof UC&&e instanceof UC?Jv(MT)(t.value0)(e.value0)&&Jv(MT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof HC&&e instanceof HC?Jv(MT)(t.value0)(e.value0)&&Jv(MT)(t.value1)(e.value1):t instanceof qC&&e instanceof qC?t.value0===e.value0&&Jv(MT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof VC&&e instanceof VC?t.value0===e.value0:t instanceof XC&&e instanceof XC?t.value0===e.value0&&Jv(MT)(t.value1)(e.value1)&&Jv(MT)(t.value2)(e.value2):t instanceof zC&&e instanceof zC?t.value0===e.value0&&Jv(MT)(t.value1)(e.value1):(t instanceof WC&&e instanceof WC||t instanceof jC&&e instanceof jC)&&Jv(MT)(t.value0)(e.value0))))))))}}},$T=function(t){return function(e){return function(n){return n instanceof UC?new UC($T(t)(e)(n.value0),$T(t)(e)(n.value1),n.value2):n instanceof HC?new HC($T(t)(e)(n.value0),$T(t)(e)(n.value1)):n instanceof qC?new qC(n.value0,$T(t)(e)(n.value1),n.value2):n instanceof VC&&t===n.value0?e:n instanceof XC?new XC(n.value0,$T(t)(e)(n.value1),t===n.value0?n.value2:$T(t)(e)(n.value2)):n instanceof zC&&t!==n.value0?new zC(n.value0,$T(t)(e)(n.value1)):n instanceof WC?new WC($T(t)(e)(n.value0)):n instanceof jC?new jC($T(t)(e)(n.value0)):n}}},FT=function(t){return t instanceof zC?$T(t.value0)(t)(t.value1):t},BT=function(t){return function(e){if(e instanceof UC)return new UC(BT(t)(e.value0),BT(t)(e.value1),e.value2);if(e instanceof HC)return new HC(BT(t)(e.value0),BT(t)(e.value1));if(e instanceof qC)return new qC(e.value0,BT(t)(e.value1),e.value2);if(e instanceof VC){var n=LC(e.value0)(t);return n instanceof bg&&n.value0 instanceof Ng?n.value0.value0:new VC(e.value0)}return e instanceof XC?new XC(e.value0,BT(t)(e.value1),BT(t)(e.value2)):e instanceof zC?new zC(e.value0,BT(t)(e.value1)):e instanceof WC?new WC(BT(t)(e.value0)):e instanceof jC?new jC(BT(t)(e.value0)):e}},UT=function(t){return function(e){return function(n){return function(r){return BT(DC(e)(new Ng(r))(t))(n)}}}},HT=UT(gO),qT=function(t){return function(e){return function(n){if(n instanceof iT)return new iT(n.value0,qT(t)(e)(n.value1));if(n instanceof sT)return new sT(n.value0,qT(t)(e)(n.value1),qT(t)(e)(n.value2));if(n instanceof oT)return new oT(qT(t)(e)(n.value0),qT(t)(e)(n.value1),qT(t)(e)(n.value2));if(n instanceof aT)return new aT(qT(t)(e)(n.value0),qT(t)(e)(n.value1),n.value2);if(n instanceof uT)return new uT(n.value0,qT(t)(e)(n.value1),$T(t)(e)(n.value2),$T(t)(e)(n.value3),n.value4,n.value5);if(n instanceof cT)return new cT(n.value0,qT(t)(e)(n.value1),$T(t)(e)(n.value2));if(n instanceof hT)return new hT(qT(t)(e)(n.value0),$T(t)(e)(n.value1));if(n instanceof fT)return new fT(qT(t)(e)(n.value0),qT(t)(e)(n.value1));if(n instanceof dT)return new dT(n.value0,$T(t)(e)(n.value1),qT(t)(e)(n.value2));if(n instanceof vT)return new vT(qT(t)(e)(n.value0),n.value1);if(n instanceof gT)return new gT(qT(t)(e)(n.value0),n.value1,$T(t)(e)(n.value2),qT(t)(e)(n.value3));if(n instanceof pT)return new pT(qT(t)(e)(n.value0),$T(t)(e)(n.value1));if(n instanceof mT){var r=mT.create(n.value0)($T(t)(e)(n.value1));return t===n.value0?r(n.value2)(n.value3)(n.value4):r(qT(t)(e)(n.value2))($T(t)(e)(n.value3))(n.value4)}return n instanceof RT?new RT(n.value0,qT(t)(e)(n.value1),qT(t)(e)(n.value2)):n instanceof OT?new OT($T(t)(e)(n.value0),qT(t)(e)(n.value1)):n instanceof wT?new wT($T(t)(e)(n.value0),qT(t)(e)(n.value1)):n instanceof xT?new xT(qT(t)(e)(n.value0)):n instanceof yT?new yT(qT(t)(e)(n.value0)):n instanceof bT?new bT(qT(t)(e)(n.value0),qT(t)(e)(n.value1)):n instanceof kT?new kT(qT(t)(e)(n.value0)):n instanceof CT?new CT($T(t)(e)(n.value0),_C(qT(t)(e))(n.value1)):n instanceof TT?new TT(qT(t)(e)(n.value0)):n}}},VT=function(t){return function(e){return function(n){return n instanceof iT?new iT(n.value0,VT(t)(e)(n.value1)):n instanceof sT?new sT(n.value0,VT(t)(e)(n.value1),VT(t)(e)(n.value2)):n instanceof oT?new oT(VT(t)(e)(n.value0),VT(t)(e)(n.value1),VT(t)(e)(n.value2)):n instanceof lT&&t===n.value0?e:n instanceof aT?new aT(VT(t)(e)(n.value0),VT(t)(e)(n.value1),n.value2):n instanceof uT&&t!==n.value0?new uT(n.value0,VT(t)(e)(n.value1),n.value2,n.value3,n.value4,n.value5):n instanceof cT&&t!==n.value0?new cT(n.value0,VT(t)(e)(n.value1),n.value2):n instanceof hT?new hT(VT(t)(e)(n.value0),n.value1):n instanceof fT?new fT(VT(t)(e)(n.value0),VT(t)(e)(n.value1)):n instanceof dT?new dT(n.value0,n.value1,VT(t)(e)(n.value2)):n instanceof vT?new vT(VT(t)(e)(n.value0),n.value1):n instanceof gT?new gT(VT(t)(e)(n.value0),n.value1,n.value2,VT(t)(e)(n.value3)):n instanceof pT?new pT(VT(t)(e)(n.value0),n.value1):n instanceof mT?new mT(n.value0,n.value1,VT(t)(e)(n.value2),n.value3,n.value4):n instanceof RT?new RT(n.value0,VT(t)(e)(n.value1),t===n.value0?n.value2:VT(t)(e)(n.value2)):n instanceof OT?new OT(n.value0,VT(t)(e)(n.value1)):n instanceof wT?new wT(n.value0,VT(t)(e)(n.value1)):n instanceof xT?new xT(VT(t)(e)(n.value0)):n instanceof yT?new yT(VT(t)(e)(n.value0)):n instanceof bT?new bT(VT(t)(e)(n.value0),VT(t)(e)(n.value1)):n instanceof kT?new kT(VT(t)(e)(n.value0)):n instanceof CT?new CT(n.value0,_C(VT(t)(e))(n.value1)):n instanceof TT?new TT(VT(t)(e)(n.value0)):n}}},XT=function(t){return function(e){if(e instanceof iT)return new iT(e.value0,XT(t)(e.value1));if(e instanceof sT)return new sT(e.value0,XT(t)(e.value1),XT(t)(e.value2));if(e instanceof oT)return new oT(XT(t)(e.value0),XT(t)(e.value1),XT(t)(e.value2));if(e instanceof lT){var n=LC(e.value0)(t);return n instanceof bg&&n.value0 instanceof Ig?n.value0.value0:new lT(e.value0)}if(e instanceof aT)return new aT(XT(t)(e.value0),XT(t)(e.value1),e.value2);if(e instanceof uT)return new PT((function(n){return XT(DC(e.value0)(new Ig(n))(t))(e.value1)}),BT(t)(e.value2),BT(t)(e.value3),e.value4);if(e instanceof cT)return new ET((function(n){return XT(DC(e.value0)(new Ig(n))(t))(e.value1)}),BT(t)(e.value2));if(e instanceof hT)return new hT(XT(t)(e.value0),BT(t)(e.value1));if(e instanceof fT)return new fT(XT(t)(e.value0),XT(t)(e.value1));if(e instanceof dT)return new dT(e.value0,BT(t)(e.value1),XT(t)(e.value2));if(e instanceof vT)return new vT(XT(t)(e.value0),e.value1);if(e instanceof gT)return new gT(XT(t)(e.value0),e.value1,e.value2,XT(t)(e.value3));if(e instanceof pT)return new pT(XT(t)(e.value0),BT(t)(e.value1));if(e instanceof mT)return new _T((function(n){return XT(DC(e.value0)(new Ng(n))(t))(e.value2)}),BT(t)(e.value1),UT(t)(e.value0)(e.value3),e.value4);if(e instanceof RT){var r=new ST(mO(XT(t)(e.value1)));return XT(DC(e.value0)(new Ig(r))(t))(e.value2)}return e instanceof OT?new OT(BT(t)(e.value0),XT(t)(e.value1)):e instanceof wT?new wT(BT(t)(e.value0),XT(t)(e.value1)):e instanceof xT?new xT(XT(t)(e.value0)):e instanceof yT?new yT(XT(t)(e.value0)):e instanceof bT?new bT(XT(t)(e.value0),XT(t)(e.value1)):e instanceof kT?new kT(XT(t)(e.value0)):e instanceof CT?new CT(BT(t)(e.value0),_C(XT(t))(e.value1)):e instanceof TT?new TT(XT(t)(e.value0)):e}},zT=XT(gO),WT=Iv(Dg),jT=Jv(MT),GT=function(t){return t instanceof HC?new bg(new dp(t.value0,t.value1)):t instanceof UC?WT(GT(t.value1))((function(e){return new bg(new dp(new UC(t.value0,e.value0,t.value2),new UC(t.value0,e.value1,t.value2)))})):t instanceof qC?WT(GT(t.value1))((function(e){return new bg(new dp(new qC(t.value0,e.value0,t.value2),new qC(t.value0,e.value1,t.value2)))})):t instanceof XC?WT(GT(t.value2))((function(e){return new bg(new dp(new XC(t.value0,t.value1,e.value0),new XC(t.value0,t.value1,e.value1)))})):yg.value},YT=function(t){return t instanceof FC||(t instanceof UC?YT(t.value1):t instanceof HC?YT(t.value0)&&YT(t.value1):t instanceof qC?YT(t.value1):t instanceof XC?YT(t.value2):t instanceof zC&&YT(t.value1))},ZT=function(t){return function(e){if(t instanceof BC)return!0;if(YT(e))return!0;var n=GT(e);return n instanceof bg?ZT(t)(n.value0.value0)&&ZT(t)(n.value0.value1):function(n){if(t instanceof UC&&e instanceof UC)return ZT(e.value0)(t.value0)&&ZT(t.value1)(e.value1);if(t instanceof HC)return ZT(t.value0)(e)||ZT(t.value1)(e);if(e instanceof qC&&e.value2)return!0;if(t instanceof qC&&!t.value2&&e instanceof qC&&!e.value2)return t.value0===e.value0&&ZT(t.value1)(e.value1);if(t instanceof XC&&e instanceof XC)return ZT(e.value1)(t.value1)&&ZT(t.value2)($T(e.value0)(new VC(t.value0))(e.value2));if(t instanceof zC&&e instanceof zC){var r=$T(e.value0)(new VC(t.value0))(e.value1);return ZT($T(t.value0)(new qC(t.value0,t.value1,!1))(t.value1))($T(e.value0)(new qC(t.value0,r,!1))(e.value1))}return t instanceof WC&&e instanceof WC?ZT(t.value0)(e.value0)&&ZT(e.value0)(t.value0):t instanceof jC&&e instanceof jC?ZT(t.value0)(e.value0):!!jT(t)(e)}()}},KT=function(t){return function(e){return t instanceof UC&&e instanceof UC||t instanceof HC&&e instanceof HC?KT(t.value0)(e.value0)&&KT(t.value1)(e.value1):t instanceof qC&&e instanceof qC?t.value0===e.value0&&KT(t.value1)(e.value1)&&t.value2===e.value2:t instanceof XC&&e instanceof XC?KT(t.value1)(e.value1)&&KT(t.value2)($T(e.value0)(new VC(t.value0))(e.value2)):t instanceof zC&&e instanceof zC?KT(t.value1)($T(e.value0)(new VC(t.value0))(e.value1)):t instanceof WC&&e instanceof WC||t instanceof jC&&e instanceof jC?KT(t.value0)(e.value0):!!jT(t)(e)}},JT=Qp(),tS=Xm(OR),eS=Um(OR),nS=Fm(OR),rS=function(t){return JT(uO(t))},iS=function(t){return vO(t)},sS={foldMap:function(t){var e=tS(t);return function(t){var n=e(t);return function(t){return n(iS(t))}}},foldl:function(t){return function(e){var n=eS(t)(e);return function(t){return n(iS(t))}}},foldr:function(t){return function(e){var n=nS(t)(e);return function(t){return n(iS(t))}}}},oS=gO;var lS=mp(jv),aS=Rv(RR),uS=mv(RR),cS=Pm(Em),hS=mv(Ag),fS=Wm(OR)(fp),dS=Hm(OR)(qg),vS=wg(Rg),gS=wg(mg),pS=wg(pg),mS=wg(Og),RS=wg(HO),OS=wg(GO),wS=Hm(Vm)(qg),xS=mv(yv),yS=Xm(OR)(qg),bS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),kS=function(){function t(){}return t.value=new t,t}(),CS=function(){function t(){}return t.value=new t,t}(),TS=function(){function t(){}return t.value=new t,t}(),SS=function(){function t(){}return t.value=new t,t}(),AS=function(){function t(){}return t.value=new t,t}(),PS=function(){function t(){}return t.value=new t,t}(),ES=function(){function t(){}return t.value=new t,t}(),_S=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),LS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),DS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),QS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),NS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),MS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),$S=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),FS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),BS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),US=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),HS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),qS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),VS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),XS=function(){function t(){}return t.value=new t,t}(),zS=function(){function t(){}return t.value=new t,t}(),WS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),jS=function(){function t(){}return t.value=new t,t}(),GS=function(){function t(){}return t.value=new t,t}(),YS=function(){function t(){}return t.value=new t,t}(),ZS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),KS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),JS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),tA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),eA=function(){function t(){}return t.value=new t,t}(),nA=function(){function t(){}return t.value=new t,t}(),rA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),iA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),sA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),oA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),lA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),aA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),uA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),cA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),hA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),fA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),dA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),vA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),gA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),pA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),RA=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),OA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),xA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),yA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),bA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),kA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),CA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),TA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),SA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),AA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),PA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),EA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),_A=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),LA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),DA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),NA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),MA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),$A=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),FA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),BA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),UA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),HA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),qA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),VA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),XA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),zA={show:function(t){if(t instanceof jS)return",";if(t instanceof GS)return"+,";if(t instanceof YS)return",+";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 114, column 1 - line 117, column 23): "+[t.constructor.name])}},WA=wg(zA),jA={eq:function(t){return function(e){return t instanceof kS&&e instanceof kS||(t instanceof CS&&e instanceof CS||(t instanceof TS&&e instanceof TS||(t instanceof SS&&e instanceof SS||(t instanceof AS&&e instanceof AS||(t instanceof PS&&e instanceof PS||(t instanceof ES&&e instanceof ES||(t instanceof _S&&e instanceof _S||t instanceof LS&&e instanceof LS?Jv(jA)(t.value0)(e.value0)&&Jv(jA)(t.value1)(e.value1):t instanceof DS&&e instanceof DS?Jv(TR(GA))(t.value0)(e.value0):t instanceof QS&&e instanceof QS?t.value0===e.value0:t instanceof IS&&e instanceof IS?Jv(TR(lS(_g(jA))))(t.value0)(e.value0)&&Jv(jA)(t.value1)(e.value1):t instanceof NS&&e instanceof NS?t.value0===e.value0&&Jv(jA)(t.value1)(e.value1):t instanceof MS&&e instanceof MS?Jv(jA)(t.value0)(e.value0):t instanceof $S&&e instanceof $S?Jv(jA)(t.value0)(e.value0)&&Jv(jA)(t.value1)(e.value1):t instanceof FS&&e instanceof FS?t.value0===e.value0&&Jv(jA)(t.value1)(e.value1):t instanceof BS&&e instanceof BS?Jv(_g(jA))(t.value0)(e.value0)&&Jv(jA)(t.value1)(e.value1):t instanceof US&&e instanceof US?Jv(jA)(t.value0)(e.value0)&&Jv(_g(jA))(t.value1)(e.value1):t instanceof HS&&e instanceof HS?t.value0===e.value0&&t.value1===e.value1&&Jv(jA)(t.value2)(e.value2):t instanceof qS&&e instanceof qS?Jv(jA)(t.value0)(e.value0):t instanceof VS&&e instanceof VS&&(Jv(jA)(t.value0)(e.value0)&&Jv(jA)(t.value1)(e.value1)))))))))}}},GA={eq:function(t){return function(e){return t.value0===e.value0&&Jv(jA)(t.value1)(e.value1)&&t.value2===e.value2}}},YA=function(t){return function(e){return function(n){return n instanceof _S?new _S(YA(t)(e)(n.value0),YA(t)(e)(n.value1)):n instanceof LS?new LS(YA(t)(e)(n.value0),YA(t)(e)(n.value1)):n instanceof DS?new DS(aS(n.value0)((function(n){return new bS(n.value0,YA(t)(e)(n.value1),n.value2)}))):n instanceof QS?t===n.value0?e:new QS(n.value0):n instanceof IS?new IS(uS(cS(hS(YA(t)(e))))(n.value0),fS((function(e){return pp(e)===t}))(n.value0)?n.value1:YA(t)(e)(n.value1)):n instanceof NS?new NS(n.value0,t===n.value0?n.value1:YA(t)(e)(n.value1)):n instanceof MS?new MS(YA(t)(e)(n.value0)):n instanceof $S?new $S(YA(t)(e)(n.value0),YA(t)(e)(n.value1)):n instanceof FS?new FS(n.value0,t===n.value0?n.value1:YA(t)(e)(n.value1)):n instanceof BS?new BS(hS(YA(t)(e))(n.value0),YA(t)(e)(n.value1)):n instanceof US?new US(YA(t)(e)(n.value0),hS(YA(t)(e))(n.value1)):n instanceof HS?new HS(n.value0,n.value1,t===n.value0||t===n.value1?n.value2:YA(t)(e)(n.value2)):n instanceof qS?new qS(YA(t)(e)(n.value0)):n instanceof VS?new VS(YA(t)(e)(n.value0),YA(t)(e)(n.value1)):n}}},ZA=function(t){var e=wg(t);return function(t){return function(n){return function(r){return Cg("")((function(n){return t+(e(n)+r)}))(n)}}}},KA=function(t){var e=function(t){return Fm(t)((function(t){return function(t){return!1}}))(!0)}(t),n=Hm(t);return function(t){var r=Vg(t),i=Tv(t.Semigroup0()),s=n(t);return function(t){return function(n){return e(n)?r:i(s(t)(n))(t)}}}},JA=KA(OR)(qg),tP=function(t){return JA(" ")(aS(t)((function(t){return Cg(pp(t))((function(e){return YO(bC(pp(t))(bC("*")(wg(eP)(e))))}))(gp(t))})))},eP={show:function(t){if(t instanceof kS)return"Int";if(t instanceof CS)return"Double";if(t instanceof TS)return"String";if(t instanceof SS)return"Bool";if(t instanceof AS)return"()";if(t instanceof PS)return"Top";if(t instanceof ES)return"Bot";if(t instanceof _S)return YO(bC(wg(eP)(t.value0))(bC("->")(wg(eP)(t.value1))));if(t instanceof LS)return YO(bC(wg(eP)(t.value0))(bC("&")(wg(eP)(t.value1))));if(t instanceof DS)return KO(nP(t.value0));if(t instanceof QS)return t.value0;if(t instanceof IS)return YO(bC("forall")(tP(t.value0)+bC(".")(wg(eP)(t.value1))));if(t instanceof NS)return YO(bC("mu")(t.value0+bC(".")(wg(eP)(t.value1))));if(t instanceof MS)return YO(bC("Ref")(wg(eP)(t.value0)));if(t instanceof $S)return YO(bC(wg(eP)(t.value0))(wg(eP)(t.value1)));if(t instanceof FS)return YO("\\"+bC(t.value0)(bC("->")(wg(eP)(t.value1))));if(t instanceof BS)return"Trait"+JO(ZA(eP)("")(t.value0)(" => ")+wg(eP)(t.value1));if(t instanceof US)return JO(wg(eP)(t.value0)+ZA(eP)(" => ")(t.value1)(""));if(t instanceof HS)return YO("\\"+bC(JO(t.value0+bC(",")(t.value1)))(bC("->")(wg(eP)(t.value2))));if(t instanceof qS)return ZO(wg(eP)(t.value0));if(t instanceof VS)return YO(bC(wg(eP)(t.value0))(bC("\\")(wg(eP)(t.value1))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 40, column 1 - line 63, column 62): "+[t.constructor.name])}},nP=function(t){return dS("; ")(aS(t)((function(t){return t.value0+bC(t.value2?"?":"")(bC(":")(wg(eP)(t.value1)))})))},rP=wg(eP),iP=ZA(eP),sP=hS((function(t){return ZO(function(){if(t.value1 instanceof bg)return bC(t.value0)(bC(":")(rP(t.value1.value0)));if(t.value1 instanceof yg)return t.value0;throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 288, column 45 - line 290, column 15): "+[t.value1.constructor.name])}())})),oP=function(t){var e=function(t){return bC(t.value0)(bC("=")(wg(lP)(t.value1)+"; "))};return JA(" ")(aS(t)((function(t){if(t instanceof $A&&t.value1 instanceof bg)return YO(bC(t.value0)(bC(":")(rP(t.value1.value0))));if(t instanceof $A&&t.value1 instanceof yg)return t.value0;if(t instanceof FA)return"{"+yS(e)(t.value0)+"..}";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 258, column 53 - line 261, column 66): "+[t.constructor.name])})))},lP={show:function(t){if(t instanceof ZS)return vS(t.value0);if(t instanceof KS)return gS(t.value0);if(t instanceof JS)return pS(t.value0);if(t instanceof tA)return mS(t.value0);if(t instanceof eA)return"()";if(t instanceof nA)return"undefined";if(t instanceof rA)return RS(t.value0)+wg(lP)(t.value1);if(t instanceof iA)return YO(bC(wg(lP)(t.value1))(bC(OS(t.value0))(wg(lP)(t.value2))));if(t instanceof sA)return YO(bC("if")(bC(wg(lP)(t.value0))(bC("then")(bC(wg(lP)(t.value1))(bC("else")(wg(lP)(t.value2)))))));if(t instanceof oA)return wC(t.value0)?"$"+t.value0:t.value0;if(t instanceof lA)return YO(bC(wg(lP)(t.value0))(wg(lP)(t.value1)));if(t instanceof aA)return YO("\\"+(oP(t.value0)+bC("->")(wg(lP)(t.value1))));if(t instanceof uA)return YO(bC("fix")(bC(t.value0)(bC(":")(rP(t.value2)+bC(".")(wg(lP)(t.value1))))));if(t instanceof cA)return YO(bC(wg(lP)(t.value0))(bC(":")(rP(t.value1))));if(t instanceof hA)return YO(bC(wg(lP)(t.value1))(bC(WA(t.value0))(wg(lP)(t.value2))));if(t instanceof fA)return KO(aP(t.value0));if(t instanceof dA)return wg(lP)(t.value0)+"."+t.value1;if(t instanceof vA)return wg(lP)(t.value0)+"."+bC(t.value1)(bC("??")(wg(lP)(t.value2)));if(t instanceof gA)return YO(bC(wg(lP)(t.value0))("@"+rP(t.value1)));if(t instanceof pA)return YO("/\\"+(tP(t.value0)+bC(".")(wg(lP)(t.value1))));if(t instanceof mA)return YO(bC("let")(bC(t.value0)(tP(t.value1)+(oP(t.value2)+bC("=")(bC(wg(lP)(t.value3))(bC("in")(wg(lP)(t.value4))))))));if(t instanceof RA)return YO(bC("letrec")(bC(t.value0)(tP(t.value1)+(oP(t.value2)+bC(":")(bC(rP(t.value3))(bC("=")(bC(wg(lP)(t.value4))(bC("in")(wg(lP)(t.value5))))))))));if(t instanceof OA)return YO(bC("open")(bC(wg(lP)(t.value0))(bC("in")(wg(lP)(t.value1)))));if(t instanceof wA)return KO(bC(wg(lP)(t.value0))(bC("with")(dS("; ")(aS(t.value1)((function(t){return bC(t.value0)(bC("=")(wg(lP)(t.value1)))}))))));if(t instanceof xA)return YO("trait"+bC(Cg("")((function(t){return" "+t}))(sP(t.value0)))(iP("implements ")(t.value1)(" ")+(ZA(lP)("inherits ")(t.value2)(" ")+bC("=>")(wg(lP)(t.value3)))));if(t instanceof yA)return YO(bC("new")(wg(lP)(t.value0)));if(t instanceof bA)return YO(bC(wg(lP)(t.value0))(bC("^")(wg(lP)(t.value1))));if(t instanceof kA)return YO(bC(wg(lP)(t.value0))(bC("\\\\")(rP(t.value1))));if(t instanceof CA)return YO(bC(wg(lP)(t.value0))(bC("\\")(t.value1)));if(t instanceof TA)return YO(bC(wg(lP)(t.value0))(bC("\\-")(wg(lP)(t.value1))));if(t instanceof SA)return YO(bC(wg(lP)(t.value0))(ZO(bC(t.value1)(bC("<-")(t.value2)))));if(t instanceof AA)return YO("fold @"+bC(rP(t.value0))(wg(lP)(t.value1)));if(t instanceof PA)return YO("unfold @"+bC(rP(t.value0))(wg(lP)(t.value1)));if(t instanceof EA)return YO(bC("ref")(wg(lP)(t.value0)));if(t instanceof _A)return"!"+wg(lP)(t.value0);if(t instanceof LA)return YO(bC(wg(lP)(t.value0))(bC(":=")(wg(lP)(t.value1))));if(t instanceof DA)return bC(wg(lP)(t.value0))(bC(">>")(wg(lP)(t.value1)));if(t instanceof QA)return YO(bC("toString")(wg(lP)(t.value0)));if(t instanceof IA)return ZO(wS("; ")(xS(wg(lP))(t.value0)));if(t instanceof NA)return wg(lP)(t.value0);if(t instanceof MA)return wg(lP)(t.value1);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 124, column 1 - line 174, column 31): "+[t.constructor.name])}},aP=function(t){var e=function(t){return function(e){return function(n){return"."+bC(t)(oP(e)+bC("=")(wg(lP)(n)))}}};return dS("; ")(aS(t)((function(t){if(t instanceof BA)return(t.value0?"override ":"")+function(t){return function(n){return function(r){if(r instanceof Ig)return bC(t)(oP(n)+bC("=")(wg(lP)(r.value0)));if(r instanceof Ng)return Cg("")((function(t){return t+"@"}))(sP(r.value0.value0))+(YO(" "+bC(t)(oP(n)))+e(r.value0.value1)(r.value0.value2)(r.value0.value3));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 277, column 9 - line 277, column 79): "+[t.constructor.name,n.constructor.name,r.constructor.name])}}}(t.value1)(t.value2)(t.value3);if(t instanceof UA)return Eg("_")(sP(t.value0.value0))+e(t.value0.value1)(t.value0.value2)(t.value0.value3);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 273, column 42 - line 276, column 58): "+[t.constructor.name])})))},uP=wg(lP),cP=function(t){return t instanceof NA?"`"+cP(t.value0)+"`":t instanceof MA&&t.value1 instanceof NA?"["+cP(t.value1.value0)+"]":t instanceof MA?cP(t.value1):t instanceof yA?cP(t.value0):t instanceof oA&&"Endl"===t.value0?"\\\\":t instanceof oA?"\\"+t.value0:t instanceof lA&&t.value0 instanceof lA&&t.value0.value0 instanceof oA&&"Comp"===t.value0.value0.value0?cP(t.value0.value1)+cP(t.value1):t instanceof lA&&t.value0 instanceof oA&&"Str"===t.value0.value0&&t.value1 instanceof JS?t.value1.value0:t instanceof lA&&t.value0 instanceof oA&&"Str"===t.value0.value0&&t.value1 instanceof QA?"\\("+uP(t.value1.value0)+")":t instanceof lA?cP(t.value0)+cP(t.value1):"("+uP(t)+")"},hP={show:function(t){if(t instanceof qA){var e=t.value0 instanceof XS?"type":"interface",n=t.value0 instanceof WS?bC("extends")(rP(t.value0.value0)):"";return bC(e)(bC(t.value1)(JA(" ")(uS(JO)(t.value2))+(JA(" ")(t.value3)+bC(n)(bC("=")(rP(t.value4)+";")))))}if(t instanceof VA)return bC(t.value0)(tP(t.value1)+(oP(t.value2)+(iP(": ")(t.value3)(" ")+bC("=")(uP(t.value4)+";"))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 195, column 1 - line 206, column 50): "+[t.constructor.name])}},fP=wg(hP),dP={show:function(t){return JA("\n")(uS(fP)(t.value0))+"\n"+uP(t.value1)}},vP=wg(Rg),gP=wg(lP),pP=Pp(ap),mP=mv(Up(kp(ip))),RP=cO(ag),OP=Cp(ap),wP=np(zp(OP)),xP=tp(Wp(OP)),yP=pO(ag)(OR),bP=mv(RR),kP=Pm(Em),CP=Iv(qp(Tp(ap))),TP=Jg(jp(pP)),SP=Lv(Vp(Ap(ap))),AP=wg(pg),PP=hv(fv),EP=hO(ag),_P=function(){function t(){}return t.value=new t,t}(),LP=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),DP=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QP=function(){function t(){}return t.value=new t,t}(),IP=function(){function t(){}return t.value=new t,t}(),NP=function(){function t(){}return t.value=new t,t}(),MP=function(){function t(){}return t.value=new t,t}(),$P=function(){function t(){}return t.value=new t,t}(),FP=function(){function t(){}return t.value=new t,t}(),BP={show:function(t){if(t.value1 instanceof _P)return t.value0;if(t.value1 instanceof LP){return e=t.value1.value0,vP(e.line)+":"+vP(e.column)+": "+t.value0+"\nin the expression: "+(t.value1.value2?cP:gP)(t.value1.value1)}var e;throw new Error("Failed pattern match at Language.CP.Context (line 86, column 1 - line 94, column 40): "+[t.constructor.name])}},UP={append:vv},HP=function(t){return function(e){return qR(t(e))}},qP=function(t){return mP(RP(t))(wP((function(t){return t.tyBindEnv})))},VP=function(t){return mP(RP(t))(wP((function(t){return t.sortEnv})))},XP=function(t){return xP((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.pos=t(e.pos),n}))},zP=function(){return{mode:$P.value,timing:!1,tmBindings:pR.value,tyAliases:pR.value,forbidDup:!0,runJS:!1}}(),WP=function(t){return{tmBindEnv:yP(LR(bP(kP(pp))(t.tmBindings))),tyAliasEnv:yP(LR(t.tyAliases)),tyBindEnv:gO,sortEnv:gO,pos:_P.value}},jP=wP((function(t){return t.pos})),GP=function(t){return CP(mP(DP.create(t))(jP))(TP)},YP=function(t){return function(e){return function(n){return"_"===e?PP:xP(t(EP(e)(n)))}}},ZP=YP((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tyBindEnv:t(e.tyBindEnv)}}})),KP=YP((function(t){return function(e){return{tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tmBindEnv:t(e.tmBindEnv)}}})),JP=YP((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,pos:e.pos,sortEnv:t(e.sortEnv)}}})),tE=Fm(OR),eE=Pm(Em),nE=hv(fv),rE=Rv(RR),iE=Sv(Qg),sE=mv(Ag),oE=mv(RR),lE=mv(yv),aE=function(t){return new xA(t.value0,yg.value,yg.value,new fA(PR(new BA(!1,t.value1,t.value2,new Ig(t.value3)))))},uE=function(t){if(t instanceof aA)return tE((function(t){return function(e){return new aA(PR(t),e)}}))(uE(t.value1))(t.value0);if(t instanceof pA){var e=function(t){return new bg(Eg(PS.value)(t))};return tE((function(t){return function(n){return new pA(PR(eE(e)(t)),n)}}))(uE(t.value1))(t.value0)}if(t instanceof fA&&t.value0 instanceof pR)return new fA(pR.value);if(t instanceof fA){return yC(hA.create(jS.value))(rE(t.value0)((function(t){return new fA(PR(function(t){if(t instanceof BA)return new BA(t.value0,t.value1,pR.value,new Ig(uE(new aA(t.value2,$g(nE)(aE)(t.value3)))));if(t instanceof UA)return t;throw new Error("Failed pattern match at Language.CP.Desugar (line 25, column 5 - line 25, column 41): "+[t.constructor.name])}(t)))})))}if(t instanceof xA&&t.value0 instanceof bg)return new xA(new bg(new dp(t.value0.value0.value0,iE(t.value0.value0.value1)(t.value1))),iE(t.value1)(new bg(PS.value)),sE(uE)(t.value2),uE(t.value3));if(t instanceof xA&&t.value0 instanceof yg)return uE(new xA(new bg(new dp("$self",new bg(PS.value))),t.value1,t.value2,t.value3));if(t instanceof mA)return new mA(t.value0,pR.value,pR.value,uE(new pA(t.value1,new aA(t.value2,t.value3))),uE(t.value4));if(t instanceof RA){var n=new IS(t.value1,tE(_S.create)(t.value3)(oE((function(t){if(t instanceof $A&&t.value1 instanceof bg)return t.value1.value0;if(t instanceof $A&&t.value1 instanceof yg)return ES.value;if(t instanceof FA)return ES.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 41, column 16 - line 43, column 45): "+[t.constructor.name])}))(t.value2)));return new RA(t.value0,pR.value,pR.value,n,uE(new pA(t.value1,new aA(t.value2,t.value4))),uE(t.value5))}return t instanceof rA?new rA(t.value0,uE(t.value1)):t instanceof iA?new iA(t.value0,uE(t.value1),uE(t.value2)):t instanceof sA?new sA(uE(t.value0),uE(t.value1),uE(t.value2)):t instanceof lA?new lA(uE(t.value0),uE(t.value1)):t instanceof uA?new uA(t.value0,uE(t.value1),t.value2):t instanceof cA?new cA(uE(t.value0),t.value1):t instanceof hA?new hA(t.value0,uE(t.value1),uE(t.value2)):t instanceof dA?new dA(uE(t.value0),t.value1):t instanceof vA?new vA(uE(t.value0),t.value1,uE(t.value2)):t instanceof gA?new gA(uE(t.value0),t.value1):t instanceof OA?new OA(uE(t.value0),uE(t.value1)):t instanceof wA?new wA(uE(t.value0),oE(eE(uE))(t.value1)):t instanceof yA?new yA(uE(t.value0)):t instanceof bA?new bA(uE(t.value0),uE(t.value1)):t instanceof kA?new kA(uE(t.value0),t.value1):t instanceof CA?new CA(uE(t.value0),t.value1):t instanceof TA?new TA(uE(t.value0),uE(t.value1)):t instanceof SA?new SA(uE(t.value0),t.value1,t.value2):t instanceof AA?new AA(t.value0,uE(t.value1)):t instanceof PA?new PA(t.value0,uE(t.value1)):t instanceof EA?new EA(uE(t.value0)):t instanceof _A?new _A(uE(t.value0)):t instanceof LA?new LA(uE(t.value0),uE(t.value1)):t instanceof DA?new DA(uE(t.value0),uE(t.value1)):t instanceof QA?new QA(uE(t.value0)):t instanceof IA?new IA(lE(uE)(t.value0)):t instanceof NA?new NA(uE(t.value0)):t instanceof MA?new MA(t.value0,uE(t.value1)):t},cE=function(t){if(t instanceof VA&&t.value3 instanceof yg)return new VA(t.value0,pR.value,pR.value,yg.value,uE(new pA(t.value1,new aA(t.value2,t.value4))));if(t instanceof VA&&t.value3 instanceof bg){var e=new IS(t.value1,tE(_S.create)(t.value3.value0)(oE((function(t){if(t instanceof $A&&t.value1 instanceof bg)return t.value1.value0;if(t instanceof $A&&t.value1 instanceof yg)return ES.value;if(t instanceof FA)return ES.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 85, column 16 - line 87, column 45): "+[t.constructor.name])}))(t.value2)));return new VA(t.value0,pR.value,pR.value,new bg(e),uE(new pA(t.value1,new aA(t.value2,t.value4))))}return t},hE={bifoldMap:function(t){var e=Tv(t.Semigroup0());return function(t){return function(n){return function(r){return e(t(r.value0))(n(r.value1))}}}},bifoldr:function(t){return function(e){return function(n){return function(r){return t(r.value0)(e(r.value1)(n))}}}},bifoldl:function(t){return function(e){return function(n){return function(r){return e(t(n)(r.value0))(r.value1)}}}}},fE=function(t){return t.bitraverse},dE=function(t){var e=fE(t);return function(t){return e(t)(Lv(t))}},vE={bitraverse:function(t){var e=t.Apply0(),n=Pv(e),r=mv(e.Functor0());return function(t){return function(e){return function(i){return n(r(dp.create)(t(i.value0)))(e(i.value1))}}}},bisequence:function(t){var e=t.Apply0(),n=Pv(e),r=mv(e.Functor0());return function(t){return n(r(dp.create)(t.value0))(t.value1)}},Bifunctor0:function(){return Em},Bifoldable1:function(){return hE}},gE=Jv(MT),pE=wg(LT),mE=Iv(qp(Tp(ap))),RE=Up(kp(ip)),OE=mv(RE),wE=Lv(Vp(Ap(ap))),xE=Sv(Gp(Ep(UP)(ap))),yE=bv(RE),bE=Pv(Hp(Sp(ap))),kE=function(t){return function(e){return function(n){return t instanceof HC?new HC(e,n):t instanceof UC&&e instanceof UC&&n instanceof UC&&gE(t.value0)(e.value0)&&gE(t.value0)(n.value0)&&t.value2===e.value2&&t.value2===n.value2?new UC(t.value0,kE(t.value1)(e.value1)(n.value1),t.value2):t instanceof qC&&e instanceof qC&&n instanceof qC&&t.value0===e.value0&&t.value0===n.value0&&t.value2===e.value2&&t.value2===n.value2?new qC(t.value0,kE(t.value1)(e.value1)(n.value1),t.value2):t instanceof XC&&e instanceof XC&&n instanceof XC&&t.value0===e.value0&&t.value0===n.value0&&gE(t.value1)(e.value1)&&gE(t.value1)(n.value1)?new XC(t.value0,t.value1,kE(t.value2)(e.value2)(n.value2)):UR("CP.TypeDiff.tyMerge: cannot merge "+pE(e)+" and "+pE(n)+" according to "+pE(t))}}},CE=function(t){if(YT(t))return FC.value;if(t instanceof HC){var e=YT(t.value1),n=YT(t.value0);if(n&&e)return FC.value;if(n&&!e)return t.value1;if(!n&&e)return t.value0;if(!n&&!e)return t;throw new Error("Failed pattern match at Language.CP.TypeDiff (line 81, column 28 - line 85, column 20): "+[n.constructor.name,e.constructor.name])}return t instanceof UC?new UC(t.value0,CE(t.value1),t.value2):t instanceof qC?new qC(t.value0,CE(t.value1),t.value2):t instanceof XC?new XC(t.value0,t.value1,CE(t.value2)):t instanceof zC?new zC(t.value0,CE(t.value1)):t instanceof WC?new WC(CE(t.value0)):t instanceof jC?new jC(CE(t.value0)):t},TE=function(t){return function(e){var n=GP("cannot subtract "+pE(e)+" from "+pE(t)),r=function(t){return function(e){return mE(qP(t))((function(t){if(t instanceof bg)return OE(YT)(i(e)(t.value0));if(t instanceof yg)return wE(!1);throw new Error("Failed pattern match at Language.CP.TypeDiff (line 59, column 42 - line 61, column 28): "+[t.constructor.name])}))}},i=function(t){return function(e){if(YT(t)||YT(e))return wE(t);var s=GT(t);return s instanceof bg?bE(OE(kE(t))(i(s.value0.value0)(e)))(i(s.value0.value1)(e)):function(s){if(e instanceof HC)return xE(mE(i(t)(e.value0))((function(t){return i(t)(e.value1)})))(mE(i(t)(e.value1))((function(t){return i(t)(e.value0)})));if(t instanceof BC&&e instanceof BC)return wE(FC.value);if(e instanceof BC)return i(t)(t);if(t instanceof BC)return n;if(t instanceof UC&&e instanceof UC)return mE(i(t.value1)(e.value1))((function(r){return gE(r)(t.value1)?wE(t):mE(i(e.value0)(t.value0))((function(e){return YT(e)?wE(new UC(t.value0,r,t.value2)):n}))}));if(t instanceof qC&&e instanceof qC)return t.value0===e.value0?yE(OE(qC.create(t.value0))(i(t.value1)(e.value1)))(t.value2):wE(t);if(t instanceof XC&&e instanceof XC){var o=$T(e.value0)(new VC(t.value0))(e.value2);return mE(i(t.value2)(o))((function(r){return gE(r)(t.value2)?wE(t):mE(i(e.value1)(t.value1))((function(e){return YT(e)?wE(new XC(t.value0,t.value1,r)):n}))}))}return t instanceof VC&&e instanceof VC&&t.value0===e.value0?wE(FC.value):t instanceof VC?mE(r(t.value0)(e))((function(e){return e?wE(new VC(t.value0)):n})):e instanceof VC?mE(r(e.value0)(t))((function(e){return e?wE(t):n})):t instanceof jC&&e instanceof jC?OE(jC.create)(i(t.value0)(e.value0)):t instanceof zC||e instanceof zC||t instanceof WC||e instanceof WC||t instanceof jC||e instanceof jC?n:gE(t)(e)?wE(FC.value):wE(t)}()}};return OE(CE)(i(t)(e))}},SE=Vp(Ap(ap)),AE=Lv(SE),PE=Up(kp(ip)),EE=mv(PE),_E=nR(SE)(bR),LE=bv(PE),DE=Pv(Hp(Sp(ap))),QE=Fm(OR),IE=Km(bR)(SE),NE=dE(vE)(SE),ME=qp(Tp(ap)),$E=Iv(ME),FE=wg(eP),BE=Sv(Qg),UE=Ov(Ag),HE=wg(pg),qE=Km(Jm)(SE),VE=$v(ME),XE=function(t){if(t instanceof DS&&t.value0 instanceof pR)return AE(FC.value);if(t instanceof DS)return EE(yC(HC.create))(_E(t.value0)((function(t){return LE(EE(qC.create(t.value0))(XE(t.value1)))(t.value2)})));if(t instanceof IS){return DE(EE(QE(vp(XC.create)))(XE(t.value1)))(IE(NE((function(t){if(t instanceof bg)return XE(t.value0);if(t instanceof yg)return AE(FC.value);throw new Error("Failed pattern match at Language.CP.Transform (line 34, column 9 - line 34, column 50): "+[t.constructor.name])})))(t.value0))}return t instanceof VS?$E(XE(t.value0))((function(e){return $E(XE(t.value1))((function(t){return TE(e)(t)}))})):t instanceof kS?AE(QC.value):t instanceof CS?AE(IC.value):t instanceof TS?AE(NC.value):t instanceof SS?AE(MC.value):t instanceof AS?AE($C.value):t instanceof PS?AE(FC.value):t instanceof ES?AE(BC.value):t instanceof LS?DE(EE(HC.create)(XE(t.value0)))(XE(t.value1)):t instanceof _S?LE(DE(EE(UC.create)(XE(t.value0)))(XE(t.value1)))(!1):t instanceof QS?AE(new VC(t.value0)):t instanceof NS?EE(zC.create(t.value0))(XE(t.value1)):t instanceof MS?EE(WC.create)(XE(t.value0)):t instanceof BS&&t.value0 instanceof yg?$E(XE(t.value1))((function(t){return AE(new UC(t,t,!0))})):t instanceof BS&&t.value0 instanceof bg?LE(DE(EE(UC.create)(XE(t.value0.value0)))(XE(t.value1)))(!0):t instanceof qS?EE(jC.create)(XE(t.value0)):GP(t instanceof FS||t instanceof HS?bC("expected a proper type, but got")(FE(t)):bC("expected an expanded type, but got")(FE(t)))},zE=function(){return FC.value}(),WE=function(t){return t instanceof _S?DE(EE(_S.create)(WE(t.value0)))(WE(t.value1)):t instanceof LS?DE(EE(LS.create)(WE(t.value0)))(WE(t.value1)):t instanceof DS?EE(DS.create)(_E(t.value0)((function(t){return LE(EE(bS.create(t.value0))(WE(t.value1)))(t.value2)}))):t instanceof QS?$E(qP(t.value0))((function(e){return $E(VP(t.value0))((function(n){var r,i=BE(UE(e))(UE(n));if(i instanceof bg)return AE(new QS(t.value0));if(i instanceof yg)return $E((r=t.value0,mP(RP(r))(wP((function(t){return t.tyAliasEnv})))))((function(e){if(e instanceof bg)return WE(e.value0);if(e instanceof yg)return GP(bC("type variable")(bC(HE(t.value0))("is undefined")));throw new Error("Failed pattern match at Language.CP.Transform (line 80, column 7 - line 82, column 82): "+[e.constructor.name])}));throw new Error("Failed pattern match at Language.CP.Transform (line 76, column 3 - line 82, column 82): "+[i.constructor.name])}))})):t instanceof IS?DE(EE(IS.create)(IE(NE(qE(WE)))(t.value0)))(QE((function(t){return function(e){return ZP(pp(t))(zE)(e)}}))(WE(t.value1))(t.value0)):t instanceof NS?EE(NS.create(t.value0))(ZP(t.value0)(zE)(WE(t.value1))):t instanceof MS?EE(MS.create)(WE(t.value0)):t instanceof $S?$E(WE(t.value0))((function(e){return $E(WE(t.value1))((function(n){return e instanceof FS?AE(YA(e.value0)(n)(e.value1)):e instanceof HS?n instanceof US&&n.value1 instanceof bg?AE(YA(e.value1)(n.value1.value0)(YA(e.value0)(n.value0)(e.value2))):GP(bC("sig instantiation expected a sort, but got")(FE(t.value1))):GP(bC("expected an applicable type, but got")(FE(t.value0)))}))})):t instanceof FS?ZP(t.value0)(zE)(EE(FS.create(t.value0))(WE(t.value1))):t instanceof BS?DE(EE(BS.create)(qE(WE)(t.value0)))(WE(t.value1)):t instanceof US?$E(WE(t.value0))((function(e){return $E(qE(WE)(t.value1))((function(t){if(t instanceof bg)return AE(new US(new LS(e,t.value0),new bg(t.value0)));if(t instanceof yg)return e instanceof QS?$E(VP(e.value0))((function(t){if(t instanceof bg)return AE(new US(e,new bg(new QS(t.value0))));if(t instanceof yg)return AE(new US(e,new bg(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 111, column 9 - line 112, column 61): "+[t.constructor.name])})):AE(new US(e,new bg(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 106, column 3 - line 113, column 42): "+[t.constructor.name])}))})):t instanceof qS?EE(qS.create)(WE(t.value0)):t instanceof VS?DE(EE(VS.create)(WE(t.value0)))(WE(t.value1)):AE(t)},jE=VE(WE)(XE),GE=function(t){return function(e){return function(n){return n instanceof _S?DE(EE(_S.create)(GE(t)(!e)(n.value0)))(GE(t)(e)(n.value1)):n instanceof LS?DE(EE(LS.create)(GE(t)(e)(n.value0)))(GE(t)(e)(n.value1)):n instanceof DS?EE(DS.create)(_E(n.value0)((function(t){return LE(EE(bS.create(t.value0))(GE(wC(t.value0))(e)(t.value1)))(t.value2)}))):e&&n instanceof QS?$E(VP(n.value0))((function(e){if(e instanceof bg)return AE(t?new BS(new bg(n),new QS(e.value0)):new QS(e.value0));if(e instanceof yg)return AE(new QS(n.value0));throw new Error("Failed pattern match at Language.CP.Transform (line 132, column 3 - line 134, column 41): "+[e.constructor.name])})):n instanceof IS?DE(EE(IS.create)(IE(NE(qE(GE(t)(e))))(n.value0)))(GE(t)(e)(n.value1)):n instanceof NS?EE(NS.create(n.value0))(GE(t)(e)(n.value1)):n instanceof MS?EE(MS.create)(GE(t)(e)(n.value0)):n instanceof $S?DE(EE($S.create)(GE(t)(e)(n.value0)))(GE(t)(e)(n.value1)):n instanceof FS?EE(FS.create(n.value0))(GE(t)(e)(n.value1)):n instanceof BS?DE(EE(BS.create)(qE(GE(t)(!e))(n.value0)))(GE(t)(e)(n.value1)):n instanceof qS?EE(qS.create)(GE(t)(e)(n.value0)):n instanceof VS?DE(EE(VS.create)(GE(t)(e)(n.value0)))(GE(t)(e)(n.value1)):AE(n)}}},YE=VE(WE)(GE(!1)(!0)),ZE=qp(Tp(ap)),KE=Iv(ZE),JE=Vp(Ap(ap)),t_=Lv(JE),e_=wg(eP),n_=wg(pg),r_=wg(LT),i_=Ev(Hp(Sp(ap))),s_=Sv(Gp(Ep(UP)(ap))),o_=eg(MT),l_=Up(kp(ip)),a_=wv(l_),u_=rS(ag),c_=mv(l_),h_=Qv(Fv),f_=h_(ZE),d_=Fm(sS),v_=Fm(OR),g_=nR(JE)(bR),p_=hv(fv),m_=wg(lP),R_=Tv(Cv),O_=fR(jv),w_=Tv(yR),x_=mv(RR),y_=Jv(TR(jv)),b_=_R(ag),k_=Rv(RR),C_=hR(jv),T_=Sv(Qg),S_=mv(Ag),A_=Jv(TR(mp(jv)(_g(jA)))),P_=Jv(MT),E_=Km(eR)(JE),__=Um(OR),L_=Cp(ap),D_=tm(L_),Q_=Iv(D_),I_=rm(L_),N_=wp(I_),M_=zm(OR)(jv),$_=Jg(im(Pp(ap))),F_=Op(I_),B_=h_(D_),U_=wg(hP),H_=nm(L_),q_=Bm(H_)(OR),V_=Lv(H_),X_=function(t){return KE(jE(t))((function(e){return e instanceof zC?t_(e):GP(bC("fold/unfold expected a recursive type, but got")(e_(t)))}))},z_=function(t){return function(e){return function(n){return function(r){var i=!YT(n);return new dp(new uT(t,e,n,r,!1,i),new UC(n,r,!0))}}}},W_=function(t){return function(e){return function(n){if(t instanceof HC){var r=W_(t.value1)(e)(n),i=W_(t.value0)(e)(n);if(i instanceof bg&&r instanceof bg)return new bg(new HC(i.value0,r.value0));if(i instanceof bg&&r instanceof yg)return new bg(i.value0);if(i instanceof yg&&r instanceof bg)return new bg(r.value0);if(i instanceof yg&&r instanceof yg)return yg.value;throw new Error("Failed pattern match at Language.CP.Typing (line 621, column 3 - line 625, column 34): "+[i.constructor.name,r.constructor.name])}return t instanceof qC&&e===t.value0&&n===t.value2?new bg(t.value1):yg.value}}},j_=function(t){return function(e){return function(n){return function(r){return function(i){return new aT(new uT(t,r,n,i,!1,!1),e,!1)}}}}},G_=function(t){return function(e){return KE(qP(t))((function(n){if(n instanceof bg)return ZT(n.value0)(e)?t_(pv):GP(bC("type variable")(bC(n_(t))(bC("is not disjoint from")(r_(e)))));if(n instanceof yg)return GP(bC("type variable")(bC(n_(t))("is undefined")));throw new Error("Failed pattern match at Language.CP.Typing (line 589, column 3 - line 592, column 78): "+[n.constructor.name])}))}},Y_=function(t){return function(e){return function(n){return function(r){return function(i){var s=t+" or "+n,o=new VC(s);return ZP(s)(i)(Z_($T(t)(o)(e))($T(n)(o)(r)))}}}}},Z_=function(t){return function(e){return YT(t)||YT(e)?t_(pv):t instanceof UC&&e instanceof UC?Z_(t.value1)(e.value1):t instanceof HC?i_(Z_(t.value0)(e))(Z_(t.value1)(e)):e instanceof HC?Z_(new HC(e.value0,e.value1))(t):t instanceof qC&&e instanceof qC?t.value0===e.value0?Z_(t.value1)(e.value1):t_(pv):t instanceof VC&&e instanceof VC?s_(G_(t.value0)(new VC(e.value0)))(G_(e.value0)(new VC(t.value0))):t instanceof VC?G_(t.value0)(e):e instanceof VC?G_(e.value0)(t):t instanceof XC&&e instanceof XC?Y_(t.value0)(t.value2)(e.value0)(e.value2)(new HC(t.value1,e.value1)):t instanceof zC&&e instanceof zC?Y_(t.value0)(t.value1)(e.value0)(e.value1)(BC.value):o_(t)(e)?t_(pv):GP(bC("expected two disjoint types, but got")(bC(r_(t))(bC("and")(r_(e)))))}},K_=function(t){return function(e){return t instanceof UC&&e instanceof Ig?ZT(e.value0)(t.value0)?t_(t.value1):GP(bC("expected the argument type to be a subtype of the parameter type, but got")(bC(r_(e.value0))(bC("and")(r_(t.value0))))):t instanceof XC&&e instanceof Ng?a_(Z_(e.value0)(t.value1))($T(t.value0)(e.value0)(t.value2)):t instanceof HC?KE(K_(t.value0)(e))((function(n){return KE(K_(t.value1)(e))((function(t){return t_(new HC(n,t))}))})):GP(bC("expected an applicable type, but got")(r_(t)))}},J_=function(t){return t instanceof HC?u_(J_(t.value0))(J_(t.value1)):t instanceof qC&&!t.value2?function(t){return nO(t)(pv)}(t.value0):oS},tL=function(t){return function(e){return function(n){return KE(jE(n))((function(r){return KE(KP(t)(r)(eL(e)))((function(t){return ZT(t.value1)(r)?t_(new dp(KT(t.value1)(r)?t.value0:new hT(t.value0,r),r)):GP(bC("annotated")(bC(e_(n))(bC("is not a supertype of inferred")(r_(t.value1)))))}))}))}}},eL=function(t){if(t instanceof ZS)return t_(new dp(new ZC(t.value0),QC.value));if(t instanceof KS)return t_(new dp(new KC(t.value0),IC.value));if(t instanceof JS)return t_(new dp(new JC(t.value0),NC.value));if(t instanceof tA)return t_(new dp(new tT(t.value0),MC.value));if(t instanceof eA)return t_(new dp(eT.value,$C.value));if(t instanceof nA)return t_(new dp(rT.value,BC.value));if(t instanceof rA&&t.value0 instanceof xO)return KE(eL(t.value1))((function(t){var e=function(e){return new dp(new iT(xO.value,new hT(t.value0,e)),e)};return ZT(t.value1)(QC.value)?t_(e(QC.value)):ZT(t.value1)(IC.value)?t_(e(IC.value)):GP(bC("Neg is not defined for")(r_(t.value1)))}));if(t instanceof rA&&t.value0 instanceof yO)return KE(eL(t.value1))((function(t){var e=new dp(new iT(yO.value,t.value0),QC.value);return t.value1 instanceof jC?t_(e):GP(bC("Len is not defined for")(r_(t.value1)))}));if(t instanceof rA&&t.value0 instanceof bO)return KE(eL(t.value1))((function(t){var e=new dp(new iT(bO.value,t.value0),IC.value);return t.value1 instanceof IC?t_(e):GP(bC("Sqrt is not defined for")(r_(t.value1)))}));if(t instanceof iA&&t.value0 instanceof MO)return KE(eL(t.value1))((function(e){return KE(eL(t.value2))((function(n){var r=function(r){return new dp(new sT(new MO(t.value0.value0),new hT(e.value0,r),new hT(n.value0,r)),r)};return ZT(e.value1)(QC.value)&&ZT(n.value1)(QC.value)?t_(r(QC.value)):ZT(e.value1)(IC.value)&&ZT(n.value1)(IC.value)?t_(r(IC.value)):GP(bC("ArithOp is not defined between")(bC(r_(e.value1))(bC("and")(r_(n.value1)))))}))}));if(t instanceof iA&&t.value0 instanceof $O){return KE(eL(t.value1))((function(e){return KE(eL(t.value2))((function(n){var r=function(r){return new dp(new sT(new $O(t.value0.value0),new hT(e.value0,r),new hT(n.value0,r)),MC.value)};if(ZT(e.value1)(QC.value)&&ZT(n.value1)(QC.value))return t_(r(QC.value));if(ZT(e.value1)(IC.value)&&ZT(n.value1)(IC.value))return t_(r(IC.value));if(ZT(e.value1)(NC.value)&&ZT(n.value1)(NC.value))return t_(r(NC.value));if(ZT(e.value1)(MC.value)&&ZT(n.value1)(MC.value))return t_(r(MC.value));var i=function(t){return t instanceof TO||t instanceof SO}(t.value0.value0);return e.value1 instanceof WC&&n.value1 instanceof WC&&i?t_(new dp(new sT(new $O(t.value0.value0),e.value0,n.value0),MC.value)):GP(bC("CompOp is not defined between")(bC(r_(e.value1))(bC("and")(r_(n.value1)))))}))}))}if(t instanceof iA&&t.value0 instanceof FO)return KE(eL(t.value1))((function(e){return KE(eL(t.value2))((function(n){var r=new dp(new sT(new FO(t.value0.value0),new hT(e.value0,MC.value),new hT(n.value0,MC.value)),MC.value);return ZT(e.value1)(MC.value)&&ZT(n.value1)(MC.value)?t_(r):GP(bC("LogicOp is not defined between")(bC(r_(e.value1))(bC("and")(r_(n.value1)))))}))}));if(t instanceof iA&&t.value0 instanceof BO)return KE(eL(t.value1))((function(e){return KE(eL(t.value2))((function(t){if(ZT(e.value1)(NC.value)&&ZT(t.value1)(NC.value))return t_(new dp(new sT(BO.value,new hT(e.value0,NC.value),new hT(t.value0,NC.value)),NC.value));if(e.value1 instanceof jC&&t.value1 instanceof jC){var n=function(t){return function(e){return function(n){return new dp(new sT(BO.value,t,e),n)}}};return KT(e.value1.value0)(t.value1.value0)?t_(n(e.value0)(t.value0)(e.value1)):ZT(t.value1.value0)(e.value1.value0)?t_(n(e.value0)(new hT(t.value0,e.value1))(e.value1)):ZT(e.value1.value0)(t.value1.value0)?t_(n(new hT(e.value0,t.value1))(t.value0)(t.value1)):GP(bC("Append expected two arrays of equivalent types or subtypes,")(bC("but got")(bC(r_(e.value1.value0))(bC("and")(r_(t.value1.value0))))))}return GP(bC("Append is not defined between")(bC(r_(e.value1))(bC("and")(r_(t.value1)))))}))}));if(t instanceof iA&&t.value0 instanceof UO)return KE(eL(t.value1))((function(e){return KE(eL(t.value2))((function(t){return e.value1 instanceof jC&&ZT(t.value1)(QC.value)?t_(new dp(new sT(UO.value,e.value0,new hT(t.value0,QC.value)),e.value1.value0)):GP(bC("Index is not defined between")(bC(r_(e.value1))(bC("and")(r_(t.value1)))))}))}));if(t instanceof sA)return KE(eL(t.value0))((function(e){return ZT(e.value1)(MC.value)?KE(eL(t.value1))((function(n){return KE(eL(t.value2))((function(t){var r=function(t){return function(n){return function(r){return new dp(new oT(new hT(e.value0,MC.value),t,n),r)}}};return KT(n.value1)(t.value1)?t_(r(n.value0)(t.value0)(n.value1)):ZT(t.value1)(n.value1)?t_(r(n.value0)(new hT(t.value0,n.value1))(n.value1)):ZT(n.value1)(t.value1)?t_(r(new hT(n.value0,t.value1))(t.value0)(t.value1)):GP(bC("if-branches expected two equivalent types or subtypes, but got")(bC(r_(n.value1))(bC("and")(r_(t.value1)))))}))})):GP(bC("if-condition expected Bool, but got")(r_(e.value1)))}));if(t instanceof oA)return c_((function(e){return new dp(new lT(t.value0),e)}))((e=t.value0,CP(wP((function(t){return t.tmBindEnv})))((function(t){var n=RP(e)(t);if(n instanceof bg)return SP(n.value0);if(n instanceof yg)return GP("term variable "+AP(e)+" is undefined");throw new Error("Failed pattern match at Language.CP.Context (line 48, column 3 - line 50, column 81): "+[n.constructor.name])}))));var e;if(t instanceof lA){return KE(eL(t.value0))((function(e){return KE(eL(t.value1))((function(t){var n=function(t){return function(e){return t instanceof UC&&KT(e)(t.value0)?new bg(t.value1):yg.value}}(e.value1)(t.value1);return n instanceof bg?t_(new dp(new aT(e.value0,t.value0,!1),n.value0)):c_((function(n){return new dp(new aT(e.value0,t.value0,!0),n)}))(K_(e.value1)(new Ig(t.value1)))}))}))}if(t instanceof aA&&t.value0 instanceof mR&&t.value0.value0 instanceof $A&&t.value0.value0.value1 instanceof bg&&t.value0.value1 instanceof pR)return KE(jE(t.value0.value0.value1.value0))((function(e){return KE(KP(t.value0.value0.value0)(e)(eL(t.value1)))((function(n){return t_(new dp(new uT(t.value0.value0.value0,n.value0,e,n.value1,!1,!1),new UC(e,n.value1,!1)))}))}));if(t instanceof aA&&t.value0 instanceof mR&&t.value0.value0 instanceof $A&&t.value0.value0.value1 instanceof yg&&t.value0.value1 instanceof pR)return GP(bC("lambda parameter")(bC(n_(t.value0.value0.value0))("should be annotated with a type")));if(t instanceof aA&&t.value0 instanceof mR&&t.value0.value0 instanceof FA&&t.value0.value1 instanceof pR)return GP("record wildcards should only occur in traits with interfaces implemented");if(t instanceof uA)return KE(jE(t.value2))((function(e){return KE(KP(t.value0)(e)(eL(t.value1)))((function(n){return ZT(n.value1)(e)?t_(new dp(new cT(t.value0,n.value0,n.value1),n.value1)):GP(bC("fix body expected a subtype of the annotated type, but got ")(r_(n.value1)))}))}));if(t instanceof cA)return KE(eL(t.value0))((function(e){return KE(jE(t.value1))((function(n){return ZT(e.value1)(n)?t_(new dp(new hT(e.value0,n),n)):GP(bC("annotated")(bC(e_(t.value1))(bC("is not a supertype of inferred")(r_(e.value1)))))}))}));if(t instanceof hA&&t.value0 instanceof jS){var n=function(t){return new aT(t,new lT("$self"),!0)};return KE(eL(t.value1))((function(e){return KE(eL(t.value2))((function(t){return e.value1 instanceof FC?t_(new dp(t.value0,t.value1)):t.value1 instanceof FC?t_(new dp(e.value0,e.value1)):e.value1 instanceof UC&&e.value1.value2&&t.value1 instanceof UC&&t.value1.value2?f_(Z_(e.value1.value1)(t.value1.value1))((function(){var r=e.value1.value0 instanceof FC?t.value1.value0:t.value1.value0 instanceof FC?e.value1.value0:new HC(e.value1.value0,t.value1.value0);return t_(z_("$self")(new fT(n(e.value0),n(t.value0)))(r)(new HC(e.value1.value1,t.value1.value1)))})):f_(Z_(e.value1)(t.value1))((function(){return t_(new dp(new fT(e.value0,t.value0),new HC(e.value1,t.value1)))}))}))}))}if(t instanceof hA&&t.value0 instanceof GS)return eL(new hA(jS.value,t.value1,new TA(t.value2,t.value1)));if(t instanceof hA&&t.value0 instanceof YS)return eL(new hA(jS.value,new TA(t.value1,t.value2),t.value2));if(t instanceof fA&&t.value0 instanceof pR)return t_(new dp(nT.value,FC.value));if(t instanceof fA&&t.value0 instanceof mR&&t.value0.value0 instanceof BA&&t.value0.value0.value2 instanceof pR&&t.value0.value0.value3 instanceof Ig&&t.value0.value1 instanceof pR)return KE(eL(t.value0.value0.value3.value0))((function(e){return t_(new dp(new dT(t.value0.value0.value1,e.value1,e.value0),new qC(t.value0.value0.value1,e.value1,!1)))}));if(t instanceof dA)return KE(eL(t.value0))((function(e){var n=e.value1 instanceof zC?new dp(new wT(e.value1,e.value0),FT(e.value1)):new dp(e.value0,e.value1),r=W_(n.value1)(t.value1)(!1);return r instanceof bg?t_(new dp(new vT(n.value0,t.value1),r.value0)):GP(bC("label")(bC(n_(t.value1))(bC("is absent in")(r_(e.value1)))))}));if(t instanceof vA)return KE(eL(t.value0))((function(e){return KE(eL(t.value2))((function(n){var r=W_(e.value1)(t.value1)(!0);return r instanceof bg&&ZT(n.value1)(r.value0)?t_(new dp(new gT(e.value0,t.value1,r.value0,n.value0),r.value0)):GP(t.value1+"'s default value does not match its interface")}))}));if(t instanceof gA)return KE(eL(t.value0))((function(e){return KE(jE(t.value1))((function(t){return KE(K_(e.value1)(new Ng(t)))((function(n){return t_(new dp(new pT(e.value0,t),n))}))}))}));if(t instanceof pA&&t.value0 instanceof mR&&t.value0.value0.value1 instanceof bg&&t.value0.value1 instanceof pR)return KE(jE(t.value0.value0.value1.value0))((function(e){return KE(ZP(t.value0.value0.value0)(e)(eL(t.value1)))((function(n){return t_(new dp(new mT(t.value0.value0.value0,e,n.value0,n.value1,!1),new XC(t.value0.value0.value0,e,n.value1)))}))}));if(t instanceof mA&&t.value1 instanceof pR&&t.value2 instanceof pR)return KE(eL(t.value3))((function(e){return KE(KP(t.value0)(e.value1)(eL(t.value4)))((function(n){return t_(new dp(j_(t.value0)(e.value0)(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof RA&&t.value1 instanceof pR&&t.value2 instanceof pR)return KE(tL(t.value0)(t.value4)(t.value3))((function(e){return KE(KP(t.value0)(e.value1)(eL(t.value5)))((function(n){return t_(new dp(j_(t.value0)(new cT(t.value0,e.value0,e.value1))(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof OA)return KE(eL(t.value0))((function(e){var n=e.value1 instanceof zC?new dp(new wT(e.value1,e.value0),FT(e.value1)):new dp(e.value0,e.value1),r=d_((function(t){return function(e){return new mR(new dp(t,OC(W_(n.value1)(t)(!1))),e)}}))(pR.value)(J_(n.value1));return KE(v_(vp(KP))(eL(t.value1))(r))((function(t){return t_(new dp(j_("$open")(n.value0)(n.value1)(v_((function(e){return function(n){return j_(e.value0)(new vT(new lT("$open"),e.value0))(e.value1)(n)(t.value1)}}))(t.value0)(r))(t.value1),t.value1))}))}));if(t instanceof wA){var r=function(t){return function(e){return t instanceof dT?new HC(new qC(t.value0,t.value1,!1),e):e}};return KE(eL(t.value0))((function(e){return KE(g_(t.value1)((function(t){return KE(eL(t.value1))((function(e){return t_(new dT(t.value0,e.value1,e.value0))}))})))((function(n){var i=v_(r)(FC.value)(n);return ZT(e.value1)(i)?KE(TE(e.value1)(i))((function(t){var r=xC(fT.create)(n),i=YT(t)?p_:fT.create(new hT(e.value0,t));return t_(new dp(i(r),e.value1))})):GP(bC("cannot safely update the record")(m_(t.value0)))}))}))}if(t instanceof xA&&t.value0 instanceof bg&&t.value0.value0.value1 instanceof bg&&t.value1 instanceof bg){var i=function(t){return DR((function(e){return t(e.value0)}))},s=function(t){return t instanceof LS&&t.value0 instanceof DS&&t.value1 instanceof DS?w_(t.value0.value0)(t.value1.value0):t instanceof LS&&t.value1 instanceof DS?w_(s(t.value0))(t.value1.value0):t instanceof LS&&t.value0 instanceof DS?w_(t.value0.value0)(s(t.value1)):t instanceof LS?w_(s(t.value0))(s(t.value1)):t instanceof DS?t.value0:pR.value},o=function(e){return function(n){if(e instanceof LS)return o(new DS(s(e)))(n);if(e instanceof NS)return new AA(e,o(e.value1)(n));if(n instanceof MA)return new MA(n.value0,o(e)(n.value1));if(n instanceof OA)return new OA(n.value0,o(e)(n.value1));if(n instanceof hA)return new hA(n.value0,o(e)(n.value1),o(e)(n.value2));if(e instanceof DS&&n instanceof fA&&n.value0 instanceof mR&&n.value0.value0 instanceof BA&&n.value0.value0.value2 instanceof pR&&n.value0.value0.value3 instanceof Ig&&n.value0.value1 instanceof pR){var r=function(t){var e,n=!1;function r(e){return e instanceof mR&&e.value1 instanceof pR?(n=!0,new bg(e.value0)):e instanceof mR?void(t=e.value1):(n=!0,yg.value)}for(;!n;)e=r(t);return e}(i((function(t){return t===n.value0.value0.value1}))(e.value0));return r instanceof bg?new fA(PR(new BA(n.value0.value0.value0,n.value0.value0.value1,pR.value,new Ig(o(r.value0.value1)(n.value0.value0.value3.value0))))):n}if(e instanceof DS&&n instanceof fA&&n.value0 instanceof mR&&n.value0.value0 instanceof UA&&n.value0.value1 instanceof pR){var l=function(t){if(t instanceof _S){var e=l(t.value1);return new dp(new mR(new $A("_",new bg(t.value0)),e.value0),e.value1)}return new dp(pR.value,t)},a=function(t){return function(e){if(t instanceof MA)return a(t.value1)(e);if(t instanceof OA)return a(t.value1)(e);if(t instanceof hA)return R_(a(t.value1)(e))(a(t.value2)(e));if(t instanceof fA&&t.value0 instanceof mR&&t.value0.value0 instanceof BA&&t.value0.value0.value3 instanceof Ig&&t.value0.value1 instanceof pR){var n=function(t){var e,n=!1;function r(e){if(e instanceof MA)t=e.value1;else if(e instanceof OA)t=e.value1;else if(e instanceof aA)t=e.value1;else{if(!(e instanceof xA))return e instanceof fA&&e.value0 instanceof mR&&e.value0.value0 instanceof BA&&e.value0.value1 instanceof pR?(n=!0,e.value0.value0.value1):(n=!0,"$nothing");t=e.value3}}for(;!n;)e=r(t);return e}(t.value0.value0.value3.value0)===e;return n?[t.value0.value0.value1]:[]}return[]}};return uE(new fA(k_(i((function(e){return C_(e)(function(e){return a(new hA(jS.value,Eg(eA.value)(t.value2),t.value3))(e)}(n.value0.value0.value0.value1))}))(e.value0))((function(t){var e=l(t.value1),r=o(e.value1)(uE(aE(n.value0.value0.value0)));return new BA(!1,t.value0,e.value0,new Ig(r))}))))}if(e instanceof _S&&n instanceof aA&&n.value0 instanceof mR&&n.value0.value0 instanceof $A&&n.value0.value1 instanceof pR)return new aA(PR(new $A(n.value0.value0.value0,T_(n.value0.value0.value1)(new bg(e.value0)))),o(e.value1)(n.value1));if(e instanceof _S&&n instanceof aA&&n.value0 instanceof mR&&n.value0.value0 instanceof FA&&n.value0.value1 instanceof pR&&function(t){return function(e){var n=v_((function(t){return function(e){return t.value2?new mR(t.value0,e):e}}))(pR.value)(s(e)),r=x_(pp)(t);return y_(b_(r))(b_(n))}}(n.value0.value0.value0)(e.value0)){var u=new oA("$wildcard"),c=function(t){return function(e){return new mA(t.value0,pR.value,pR.value,new vA(u,t.value0,t.value1),e)}};return new aA(PR(new $A("$wildcard",new bg(e.value0))),(h=n.value0.value0.value0,function(t){return v_(c)(t)(h)})(new OA(u,o(e.value1)(n.value1))))}var h;if(e instanceof BS&&n instanceof xA&&n.value0 instanceof bg){var f=Eg(Eg(PS.value)(e.value0))(n.value0.value0.value1);return new xA(new bg(new dp(n.value0.value0.value0,new bg(f))),n.value1,S_(o(e.value1))(n.value2),o(e.value1)(n.value3))}if(e instanceof IS&&e.value0 instanceof mR&&n instanceof pA&&n.value0 instanceof mR&&n.value0.value1 instanceof pR){var d=(A_(e.value0.value1)(pR.value)?p_:IS.create(e.value0.value1))(YA(e.value0.value0.value0)(new QS(n.value0.value0.value0))(e.value1));return new pA(PR(new dp(n.value0.value0.value0,T_(n.value0.value0.value1)(e.value0.value0.value1))),o(d)(n.value1))}return n}};return KE(jE(t.value0.value0.value1.value0))((function(e){return KE(function(t){return $E(WE(t))((function(t){return $E(XE(t))((function(e){return AE(new dp(e,t))}))}))}(t.value1.value0))((function(n){var r=o(n.value1)(t.value3);return KE(function(){if(t.value2 instanceof bg)return KE(KP(t.value0.value0.value0)(e)(eL(t.value2.value0)))((function(n){return n.value1 instanceof UC&&n.value1.value2?ZT(e)(n.value1.value0)?KE(KP(t.value0.value0.value0)(e)(KP("super")(n.value1.value1)(eL(r))))((function(e){var i=function(t){return function(e){var n=function(t){return t instanceof MA||t instanceof OA?n(t.value1):t instanceof hA?R_(n(t.value1))(n(t.value2)):t instanceof fA&&t.value0 instanceof mR&&t.value0.value0 instanceof BA&&t.value0.value0.value0&&t.value0.value1 instanceof pR?[t.value0.value0.value1]:[]},r=function(t){return function(e){if(t instanceof HC){var n=r(t.value1)(e),i=r(t.value0)(e);return i instanceof FC&&n instanceof FC?FC.value:i instanceof FC?n:n instanceof FC?i:new HC(i,n)}return t instanceof qC&&O_(t.value0)(e)?FC.value:t}},i=n(e);return sR(i)?t:r(t)(i)}}(n.value1.value1)(r);return f_(Z_(i)(e.value1))((function(){var r=new HC(i,e.value1),s=j_("super")(new aT(n.value0,new lT(t.value0.value0.value0),!0))(n.value1.value1)(new fT(new hT(new lT("super"),i),e.value0))(r);return t_(new dp(s,r))}))})):GP(bC("self-type")(bC(e_(t.value0.value0.value1.value0))(bC("is not a subtype of inherited self-type")(r_(n.value1.value0))))):GP(bC("expected to inherit a trait, but got")(r_(n.value1)))}));if(t.value2 instanceof yg)return KE(KP(t.value0.value0.value0)(e)(eL(r)))((function(t){return t_(new dp(t.value0,t.value1))}));throw new Error("Failed pattern match at Language.CP.Typing (line 233, column 18 - line 254, column 23): "+[t.value2.constructor.name])}())((function(r){return ZT(r.value1)(n.value0)?t_(z_(t.value0.value0.value0)(r.value0)(e)(r.value1)):GP(bC("the trait does not implement")(e_(t.value1.value0)))}))}))}))}if(t instanceof xA&&t.value0 instanceof bg&&t.value0.value0.value1 instanceof yg)return eL(new xA(new bg(new dp(t.value0.value0.value0,new bg(PS.value))),t.value1,t.value2,t.value3));if(t instanceof yA)return KE(eL(t.value0))((function(t){return t.value1 instanceof UC&&t.value1.value2?ZT(t.value1.value1)(t.value1.value0)?t_(new dp(new cT("$self",new aT(t.value0,new lT("$self"),!0),t.value1.value1),t.value1.value1)):GP(bC("input type is not a supertype of output type in")(bC("Trait<")(bC(r_(t.value1.value0))(bC("=>")(bC(r_(t.value1.value1))(">")))))):GP(bC("new expected a trait, but got")(r_(t.value1)))}));if(t instanceof bA)return KE(eL(t.value0))((function(e){return KE(eL(t.value1))((function(t){return e.value1 instanceof UC&&e.value1.value2?ZT(t.value1)(e.value1.value0)?t_(new dp(new aT(e.value0,t.value0,!0),e.value1.value1)):GP(bC("expected to forward to a subtype of")(r_(e.value1.value0)+bC(", but got")(r_(t.value1)))):GP(bC("expected to forward from a trait, but got")(r_(e.value1)))}))}));if(t instanceof kA){var l=function(e){return function(n){return n instanceof HC?s_(l(e)(n.value0))(l(e)(n.value1)):n instanceof qC&&e===n.value0?t_(pv):GP(bC("label")(bC(n_(e))(bC("is absent in")(m_(t.value0)))))}};return KE(eL(t.value0))((function(e){return KE(jE(t.value1))((function(t){var n=t instanceof qC&&t.value1 instanceof BC&&!t.value2?l(t.value0):vv(t_(pv));return e.value1 instanceof UC&&e.value1.value2?f_(n(e.value1.value1))((function(){return KE(TE(e.value1.value1)(t))((function(t){var n=new UC(e.value1.value0,t,!0);return t_(new dp(new hT(e.value0,n),n))}))})):f_(n(e.value1))((function(){return KE(TE(e.value1)(t))((function(t){return t_(new dp(new hT(e.value0,t),t))}))}))}))}))}return t instanceof CA?eL(new kA(t.value0,new DS(PR(new bS(t.value1,ES.value,!1))))):t instanceof TA?KE(eL(t.value0))((function(e){return KE(eL(t.value1))((function(t){return e.value1 instanceof UC&&e.value1.value2&&t.value1 instanceof UC&&t.value1.value2?KE(TE(e.value1.value1)(t.value1.value1))((function(t){return t_(z_("$self")(new hT(new aT(e.value0,new lT("$self"),!0),t))(e.value1.value0)(t))})):KE(TE(e.value1)(t.value1))((function(t){return t_(new dp(new hT(e.value0,t),t))}))}))})):t instanceof SA?KE(eL(t.value0))((function(e){if(e.value1 instanceof UC&&e.value1.value2){var n=W_(e.value1.value0)(t.value1)(!1);if(n instanceof bg){var r=new SA(new oA("$self"),t.value2,t.value1),i=new SA(new bA(t.value0,r),t.value1,t.value2);return KE(c_(HC.create(new qC(t.value2,n.value0,!1)))(TE(e.value1.value0)(new qC(t.value1,BC.value,!1))))((function(t){return KE(KP("$self")(t)(eL(i)))((function(e){return t_(z_("$self")(e.value0)(t)(e.value1))}))}))}if(n instanceof yg){i=new SA(new bA(t.value0,new oA("$self")),t.value1,t.value2);return KE(KP("$self")(e.value1.value0)(eL(i)))((function(t){return t_(z_("$self")(t.value0)(e.value1.value0)(t.value1))}))}throw new Error("Failed pattern match at Language.CP.Typing (line 414, column 7 - line 428, column 43): "+[n.constructor.name])}return eL(new hA(jS.value,new CA(t.value0,t.value1),new fA(PR(new BA(!1,t.value2,pR.value,new Ig(new dA(t.value0,t.value1)))))))})):t instanceof AA?KE(X_(t.value0))((function(e){return KE(eL(t.value1))((function(n){return ZT(n.value1)(FT(e))?t_(new dp(new OT(e,n.value0),e)):GP(bC("cannot fold")(bC(m_(t.value1))(bC("to")(e_(t.value0)))))}))})):t instanceof PA?KE(X_(t.value0))((function(e){return KE(eL(t.value1))((function(n){return ZT(n.value1)(e)?t_(new dp(new wT(e,n.value0),FT(e))):GP(bC("cannot unfold")(bC(m_(t.value1))(bC("to")(e_(t.value0)))))}))})):t instanceof EA?KE(eL(t.value0))((function(t){return t_(new dp(new xT(t.value0),new WC(t.value1)))})):t instanceof _A?KE(eL(t.value0))((function(t){return t.value1 instanceof WC?t_(new dp(new yT(t.value0),t.value1.value0)):GP(bC("cannot dereference")(r_(t.value1)))})):t instanceof LA?KE(eL(t.value0))((function(e){return e.value1 instanceof WC?KE(eL(t.value1))((function(t){return ZT(t.value1)(e.value1.value0)?t_(new dp(new bT(e.value0,t.value0),$C.value)):GP(bC("assigned type")(bC(r_(t.value1))(bC("is not a subtype of")(r_(e.value1.value0)))))})):GP(bC("assignment expected a reference type, but got")(r_(e.value1)))})):t instanceof DA?KE(eL(t.value0))((function(e){return e.value1 instanceof $C?KE(eL(t.value1))((function(t){return t_(new dp(j_("_")(e.value0)(e.value1)(t.value0)(t.value1),t.value1))})):GP(bC("sequencing expected a unit type, but got")(r_(e.value1)))})):t instanceof QA?KE(eL(t.value0))((function(t){return P_(t.value1)(QC.value)||P_(t.value1)(IC.value)||P_(t.value1)(NC.value)||P_(t.value1)(MC.value)?t_(new dp(new kT(t.value0),NC.value)):GP(bC("cannot show")(r_(t.value1)))})):t instanceof IA?sR(t.value0)?t_(new dp(new CT(BC.value,[]),new jC(BC.value))):KE(E_(eL)(t.value0))((function(e){var n=lR(e),r=OC(aR(n.value1));return dR((function(t){return KT(t)(r)}))(n.value1)?t_(new dp(new CT(r,n.value0),new jC(r))):GP("elements of an array should all have the same type"+bC(", but got")(m_(new IA(t.value0))))})):t instanceof NA?XP((function(t){if(t instanceof LP)return new LP(t.value0,t.value1,!0);if(t instanceof _P)return _P.value;throw new Error("Failed pattern match at Language.CP.Typing (line 478, column 9 - line 478, column 37): "+[t.constructor.name])}))(eL(t.value0)):t instanceof MA?XP((function(e){if(e instanceof LP)return new LP(t.value0,t.value1,e.value2);if(e instanceof _P)return new LP(t.value0,t.value1,!1);throw new Error("Failed pattern match at Language.CP.Typing (line 482, column 9 - line 482, column 42): "+[e.constructor.name])}))(eL(t.value1)):GP(bC("expected a desugared term, but got")(m_(t)))},nL=function(t){if(t instanceof qA){var e=k_(t.value2)((function(t){return new dp(t,t+"_")})),n=function(n){return v_(vp(HS.create))(v_(FS.create)(n)(t.value3))(e)},r=function(e){return v_(dv(ZP)(FC.value))(e)(t.value3)},i=function(t){return v_(vp(JP))(t)(e)};return Q_(N_((function(t){return t.forbidDup})))((function(e){return Q_(N_((function(t){return t.tyAliases})))((function(s){if(e&&Sg(M_(t.value1)(s)))return $_(new DP(bC("type")(bC(n_(t.value1))("has already been defined")),_P.value));if(t.value0 instanceof XS)return Q_(N_(WP))((function(e){var s=HP(i(r(YE(t.value4))))(e);if(s instanceof Ig)return $_(s.value0);if(s instanceof Ng)return F_((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new mR(new dp(t.value1,n(s.value0)),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 503, column 7 - line 505, column 83): "+[s.constructor.name])}));if(t.value0 instanceof zS)return Q_(N_(WP))((function(e){var s=HP(i(r(ZP(t.value1)(FC.value)(YE(t.value4)))))(e);if(s instanceof Ig)return $_(s.value0);if(s instanceof Ng)return F_((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new mR(new dp(t.value1,n(new NS(t.value1,s.value0))),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 508, column 7 - line 510, column 95): "+[s.constructor.name])}));if(t.value0 instanceof WS)return B_(nL(new qA(zS.value,t.value1+"_",t.value2,t.value3,t.value4)))((function(){var e,n,r,i=function(e){return __((function(t){return e=$S.create(t),function(t){return e(QS.create(t))};var e}))(e)(t.value3)}((e=new QS(t.value1+"_"),n=dv(US.create)(yg.value),r=function(t){return n(QS.create(t))},__((function(t){return e=$S.create(t),function(t){return e(r(t))};var e}))(e)(t.value2)));return nL(new qA(XS.value,t.value1,t.value2,t.value3,new LS(t.value0.value0,i)))}));throw new Error("Failed pattern match at Language.CP.Typing (line 500, column 8 - line 515, column 73): "+[t.value0.constructor.name])}))}))}return t instanceof VA&&t.value1 instanceof pR&&t.value2 instanceof pR?Q_(N_((function(t){return t.forbidDup})))((function(e){return Q_(N_((function(t){return t.tmBindings})))((function(n){return e&&Sg(M_(t.value0)(n))?$_(new DP(bC("term")(bC(n_(t.value0))("has already been defined")),_P.value)):Q_(N_(WP))((function(e){var n=function(){if(t.value3 instanceof bg)return tL(t.value0)(t.value4)(t.value3.value0);if(t.value3 instanceof yg)return eL(t.value4);throw new Error("Failed pattern match at Language.CP.Typing (line 537, column 18 - line 538, column 47): "+[t.value3.constructor.name])}(),r=HP(n)(e);if(r instanceof Ig)return $_(r.value0);if(r instanceof Ng){var i=Sg(t.value3)?new cT(t.value0,r.value0.value0,r.value0.value1):r.value0.value0,s=function(e){return new RT(t.value0,i,e)};return F_((function(e){var n={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.tmBindings=new mR(new dp(t.value0,new dp(r.value0.value1,s)),e.tmBindings),n}))}throw new Error("Failed pattern match at Language.CP.Typing (line 539, column 5 - line 544, column 74): "+[r.constructor.name])}))}))})):$_(new DP(bC("expected a desugared def, but got")(U_(t)),_P.value))};var rL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),iL=function(t){var e,n=!1;function r(e){if(e.value0 instanceof pR&&e.value1 instanceof pR)return n=!0,yg.value;if(!(e.value0 instanceof pR)){if(e.value0 instanceof mR)return n=!0,new bg(new dp(e.value0.value0,new rL(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[e.constructor.name])}t=new rL(LR(e.value1),pR.value)}for(;!n;)e=r(t);return e},sL=function(t){return function(e){return new rL(t.value0,new mR(e,t.value1))}},oL=function(t){return t.value0 instanceof pR&&t.value1 instanceof pR},lL=function(){return new rL(pR.value,pR.value)}(),aL=function(){function t(){}return t.value=new t,t}(),uL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),cL=function(t){return function(e){if(t instanceof aL)return e;if(e instanceof aL)return t;if(t instanceof uL)return new uL(t.value0,sL(t.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,e.constructor.name])}},hL=function(t){return function(e){return function(n){var r;return(r=n,function(n){var i,s=r,o=!1;function l(r,i){var l=iL(r);if(l instanceof yg)return o=!0,function(t){return function(e){return function(n){var r,i=t,s=e,o=!1;function l(t,e,r){if(r instanceof pR)return o=!0,e;if(r instanceof mR)return i=t,s=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[t.constructor.name,e.constructor.name,r.constructor.name])}for(;!o;)r=l(i,s,n);return r}}}((function(t){return function(e){return e(t)}}))(e)(i);if(l instanceof bg)return s=l.value0.value1,void(n=new mR(t(l.value0.value0),i));throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[l.constructor.name])}for(;!o;)i=l(s,n);return i})(pR.value)}}},fL=function(t){if(t instanceof aL)return yg.value;if(t instanceof uL)return new bg(new dp(t.value0,oL(t.value1)?aL.value:hL(cL)(aL.value)(t.value1)));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])},dL=function(){return aL.value}(),vL=cL,gL={append:vL},pL=function(t){return function(e){return vL(t)(new uL(e,lL))}},mL=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},RL=Tv(gL),OL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),xL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),yL=function(t){var e,n=!1;function r(e){var r=function(t){return function(e){return new OL(t.value0,RL(t.value1)(e))}};if(e.value0 instanceof wL){var i=fL(e.value1);if(i instanceof yg)return n=!0,new wL(e.value0.value0);if(i instanceof bg)return void(t=r((0,i.value0.value0)(e.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(e.value0 instanceof xL)return n=!0,new xL(e.value0.value0,(function(t){return r(e.value0.value1(t))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!n;)e=r(t);return e},bL=function(t){var e=mv(t);return function(t){return function(n){var r,i=!1;function s(r){var s=yL(r);if(s instanceof wL)return i=!0,s.value0;if(!(s instanceof xL))throw new Error("Failed pattern match at Control.Monad.Free (line 178, column 10 - line 180, column 33): "+[s.constructor.name]);n=t(e(s.value1)(s.value0))}for(;!i;)r=s(n);return r}}},kL=function(t){return new OL(t,dL)},CL={Applicative0:function(){return AL},Bind1:function(){return SL}},TL={map:function(t){return function(e){return Nv(SL)((n=Lv(AL),function(e){return n(t(e))}))(e);var n}}},SL={bind:function(t){return function(e){return new OL(t.value0,pL(t.value1)(e))}},Apply0:function(){return PL(0)}},AL={pure:function(t){return kL(wL.create(t))},Apply0:function(){return PL(0)}},PL=mL("freeApply","Control.Monad.Free",(function(){return{apply:Bv(CL),Functor0:function(){return TL}}})),EL=PL(77),_L=bL(xv)((function(t){return t(pv)})),LL=wg(QT),DL=wg(LT),QL=wg(GO),IL=wg(HO),NL=wg(Rg),ML=wg(mg),$L=wg(Og),FL=Hg(Ug),BL=Bg(Ug),UL=Tv(Cv),HL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),qL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),VL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),XL={show:function(t){if(t instanceof HL)return LL(t.value0);if(t instanceof qL)return LL(t.value0);if(t instanceof VL)return DL(t.value0);throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 111, column 1 - line 114, column 28): "+[t.constructor.name])}},zL=function(t){return function(e){return function(n){return UR("CP.Semantics.Common.binop: impossible binary operation "+QL(t)+" between "+LL(e)+" and "+LL(n))}}},WL=function(t){return function(e){return t instanceof xO&&e instanceof ZC?new ZC(0|-e.value0):t instanceof xO&&e instanceof KC?new KC(-e.value0):t instanceof yO&&e instanceof CT?new ZC(sm(e.value1)):t instanceof bO&&e instanceof KC?new KC(zR(e.value0)):UR("CP.Semantics.Common.unop: impossible unary operation "+IL(t)+" on "+LL(e))}},jL=function(t){return t instanceof JC?t:t instanceof ZC?new JC(NL(t.value0)):t instanceof KC?new JC(ML(t.value0)):t instanceof tT?new JC($L(t.value0)):UR("CP.Semantics.Common.toString: impossible from "+LL(t)+" to string")},GL=function(t){return function(e){if(t instanceof fT){var n=GL(t.value1)(e),r=GL(t.value0)(e);return r instanceof nT&&n instanceof nT?nT.value:r instanceof nT?n:n instanceof nT?r:new fT(r,n)}return t instanceof dT&&e===t.value0?new hT(t.value2,t.value1):nT.value}},YL=function(t){var e,n=!1;function r(e){return e instanceof FC?(n=!0,nT.value):e instanceof UC?(n=!0,new uT("$top",nT.value,FC.value,e.value1,!0,e.value2)):e instanceof qC?(n=!0,new dT(e.value0,e.value1,nT.value)):e instanceof XC?(n=!0,new mT(e.value0,FC.value,nT.value,e.value2,!0)):e instanceof zC?void(t=e.value1):(n=!0,UR("CP.Semantics.Common.genTopLike: cannot generate a top-like value of type "+DL(e)))}for(;!n;)e=r(t);return e},ZL=function(t){return function(e){return function(n){if(t instanceof MO)return function(t){return function(e){return function(n){return t instanceof LO&&e instanceof ZC&&n instanceof ZC?new ZC(e.value0+n.value0|0):t instanceof DO&&e instanceof ZC&&n instanceof ZC?new ZC(e.value0-n.value0|0):t instanceof QO&&e instanceof ZC&&n instanceof ZC?new ZC(e.value0*n.value0|0):t instanceof IO&&e instanceof ZC&&n instanceof ZC?new ZC(FL(e.value0)(n.value0)):t instanceof NO&&e instanceof ZC&&n instanceof ZC?new ZC(BL(e.value0)(n.value0)):t instanceof LO&&e instanceof KC&&n instanceof KC?new KC(e.value0+n.value0):t instanceof DO&&e instanceof KC&&n instanceof KC?new KC(e.value0-n.value0):t instanceof QO&&e instanceof KC&&n instanceof KC?new KC(e.value0*n.value0):t instanceof IO&&e instanceof KC&&n instanceof KC?new KC(e.value0/n.value0):t instanceof NO&&e instanceof KC&&n instanceof KC?new KC(function(t){return function(e){return t%e}}(e.value0)(n.value0)):zL(new MO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof $O)return function(t){return function(e){return function(n){return t instanceof TO&&e instanceof ZC&&n instanceof ZC?new tT(e.value0===n.value0):t instanceof SO&&e instanceof ZC&&n instanceof ZC?new tT(e.value0!==n.value0):t instanceof AO&&e instanceof ZC&&n instanceof ZC?new tT(e.value0<n.value0):t instanceof PO&&e instanceof ZC&&n instanceof ZC?new tT(e.value0<=n.value0):t instanceof EO&&e instanceof ZC&&n instanceof ZC?new tT(e.value0>n.value0):t instanceof _O&&e instanceof ZC&&n instanceof ZC?new tT(e.value0>=n.value0):t instanceof TO&&e instanceof KC&&n instanceof KC?new tT(e.value0===n.value0):t instanceof SO&&e instanceof KC&&n instanceof KC?new tT(e.value0!==n.value0):t instanceof AO&&e instanceof KC&&n instanceof KC?new tT(e.value0<n.value0):t instanceof PO&&e instanceof KC&&n instanceof KC?new tT(e.value0<=n.value0):t instanceof EO&&e instanceof KC&&n instanceof KC?new tT(e.value0>n.value0):t instanceof _O&&e instanceof KC&&n instanceof KC?new tT(e.value0>=n.value0):t instanceof TO&&e instanceof JC&&n instanceof JC?new tT(e.value0===n.value0):t instanceof SO&&e instanceof JC&&n instanceof JC?new tT(e.value0!==n.value0):t instanceof AO&&e instanceof JC&&n instanceof JC?new tT(e.value0<n.value0):t instanceof PO&&e instanceof JC&&n instanceof JC?new tT(e.value0<=n.value0):t instanceof EO&&e instanceof JC&&n instanceof JC?new tT(e.value0>n.value0):t instanceof _O&&e instanceof JC&&n instanceof JC?new tT(e.value0>=n.value0):t instanceof TO&&e instanceof tT&&n instanceof tT?new tT(e.value0===n.value0):t instanceof SO&&e instanceof tT&&n instanceof tT?new tT(e.value0!==n.value0):t instanceof AO&&e instanceof tT&&n instanceof tT?new tT(e.value0<n.value0):t instanceof PO&&e instanceof tT&&n instanceof tT?new tT(e.value0<=n.value0):t instanceof EO&&e instanceof tT&&n instanceof tT?new tT(e.value0>n.value0):t instanceof _O&&e instanceof tT&&n instanceof tT?new tT(e.value0>=n.value0):zL(new $O(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof FO)return function(t){return function(e){return function(n){return t instanceof kO&&e instanceof tT&&n instanceof tT?new tT(e.value0&&n.value0):t instanceof CO&&e instanceof tT&&n instanceof tT?new tT(e.value0||n.value0):zL(new FO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof BO&&e instanceof JC&&n instanceof JC)return new JC(e.value0+n.value0);if(t instanceof BO&&e instanceof CT&&n instanceof CT)return new CT(e.value0,UL(e.value1)(n.value1));if(t instanceof UO&&e instanceof CT&&n instanceof ZC){var r=oR(e.value1)(n.value0);if(r instanceof bg)return new hT(r.value0,e.value0);if(r instanceof yg)return UR("CP.Semantics.Common.binop: the index "+NL(n.value0)+" is out of bounds for "+LL(new CT(e.value0,e.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 27, column 41 - line 30, column 63): "+[r.constructor.name])}return zL(t)(e)(n)}}},KL=wg(QT),JL=wg(XL),tD=wg(LT),eD=Sv(Qg),nD=Pv(Lg),rD=mv(Ag),iD=Ev(Lg),sD=Lv(AL),oD=mv(TL),lD=Iv(SL),aD=Pv(EL),uD=bv(TL),cD=Mv(SL),hD=mv(yv),fD=Km(eR)(AL),dD=function(t){return function(e){return t instanceof PT&&!t.value3&&e instanceof HL?t.value0(new ST(mO(e.value0))):t instanceof PT&&t.value3&&e instanceof HL?new hT(t.value0(new ST(mO(e.value0))),t.value2):t instanceof PT&&e instanceof qL?new hT(t.value0(new ST(mO(new hT(e.value0,t.value1)))),t.value2):t instanceof _T&&!t.value3&&e instanceof VL?t.value0(e.value0):t instanceof _T&&t.value3&&e instanceof VL?new hT(t.value0(e.value0),t.value2(e.value0)):t instanceof fT?new fT(dD(t.value0)(e),dD(t.value1)(e)):UR("CP.Semantics.HOAS.paraApp: impossible application "+KL(t)+" • "+JL(e))}},vD=function(t){return t instanceof ZC||(t instanceof KC||(t instanceof JC||(t instanceof tT||(t instanceof eT||(t instanceof nT||(t instanceof PT||(t instanceof fT?vD(t.value0)&&vD(t.value1):t instanceof dT||(t instanceof _T||(t instanceof OT?vD(t.value1):t instanceof CT)))))))))},gD=function(t){return function(e){if(!vD(t))return UR("CP.Semantics.HOAS.cast: "+KL(t)+" is not a value");var n=GT(e);if(n instanceof bg){var r=function(t){return t instanceof qC&&t.value2?new bg(nT.value):yg.value},i=gD(t)(n.value0.value1),s=gD(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return eD(nD(rD(fT.create)(s))(i))(eD(iD(l)(i))(eD(iD(o)(s))(iD(l)(o))))}return YT(e)?new bg(function(t){var e,n=!1;function r(e){return e instanceof FC?(n=!0,nT.value):e instanceof UC?(n=!0,new PT((function(t){return nT.value}),FC.value,e.value1,!0)):e instanceof qC?(n=!0,new dT(e.value0,e.value1,nT.value)):e instanceof XC?(n=!0,new _T((function(t){return nT.value}),FC.value,HT(e.value0)(e.value2),!0)):e instanceof zC?void(t=e.value1):(n=!0,UR("CP.Semantics.HOAS.genTopLike: cannot generate a top-like value of type "+tD(e)))}for(;!n;)e=r(t);return e}(e)):t instanceof ZC&&e instanceof QC?new bg(new ZC(t.value0)):t instanceof KC&&e instanceof IC?new bg(new KC(t.value0)):t instanceof JC&&e instanceof NC?new bg(new JC(t.value0)):t instanceof tT&&e instanceof MC?new bg(new tT(t.value0)):t instanceof PT&&e instanceof UC&&ZT(t.value2)(e.value1)?new bg(new PT(t.value0,t.value1,e.value1,!0)):t instanceof fT?eD(gD(t.value0)(e))(gD(t.value1)(e)):t instanceof dT&&e instanceof qC&&t.value0===e.value0&&ZT(t.value1)(e.value1)?new bg(new dT(t.value0,e.value1,t.value2)):t instanceof _T&&e instanceof XC&&ZT(e.value1)(t.value1)&&ZT(t.value2(new VC(e.value0)))(e.value2)?new bg(new _T(t.value0,t.value1,HT(e.value0)(e.value2),!0)):t instanceof OT&&e instanceof zC&&ZT(t.value0)(e)?new bg(new OT(e,t.value1)):t instanceof CT&&e instanceof jC&&ZT(t.value0)(e.value0)?new bg(new CT(e.value0,t.value1)):yg.value}},pD=function(){var t=function(e){var n=e;if(e instanceof ZC)return sD(n);n=e;if(e instanceof KC)return sD(n);n=e;if(e instanceof JC)return sD(n);n=e;if(e instanceof tT)return sD(n);if(e instanceof eT)return sD(eT.value);if(e instanceof nT)return sD(nT.value);if(e instanceof iT)return oD(WL(e.value0))(t(e.value1));if(e instanceof sT)return lD(t(e.value1))((function(n){return lD(t(e.value2))((function(r){var i=ZL(e.value0)(n)(r);return e.value0 instanceof UO?t(i):sD(i)}))}));if(e instanceof oT)return lD(t(e.value0))((function(n){return n instanceof tT&&n.value0?t(e.value1):n instanceof tT&&!n.value0?t(e.value2):UR("CP.Semantics.HOAS.eval: impossible if "+KL(n)+" ...")}));if(e instanceof aT)return lD(t(e.value0))((function(n){return t(dD(n)((e.value2?qL.create:HL.create)(e.value1)))}));n=e;if(e instanceof PT)return sD(n);n=e;if(e instanceof ET)return t(e.value0(n));if(e instanceof hT)return lD((r=function(e){var n,r=!1;function i(n){if(!(n instanceof hT))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=gD(n)(e.value1);if(r instanceof bg)return t(r.value0);if(r instanceof yg)return UR("CP.Semantics.HOAS.eval: impossible casting "+KL(n)+" : "+tD(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 49, column 7 - line 52, column 75): "+[r.constructor.name])}));if(e instanceof fT)return aD(oD(fT.create)(t(e.value0)))(t(e.value1));if(e instanceof dT)return sD(new dT(e.value0,e.value1,new ST(mO(e.value2))));if(e instanceof vT)return lD(uD(oD(GL)(t(e.value0)))(e.value1))(t);if(e instanceof gT)return lD(t(e.value0))((function(n){var r=gD(n)(new qC(e.value1,e.value2,!1));if(r instanceof bg)return t(new vT(r.value0,e.value1));if(r instanceof yg)return t(e.value3);throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 61, column 7 - line 63, column 25): "+[r.constructor.name])}));if(e instanceof pT)return lD(uD(oD(dD)(t(e.value0)))(new VL(e.value1)))(t);n=e;if(e instanceof _T)return sD(n);if(e instanceof OT)return oD(OT.create(e.value0))(t(e.value1));if(e instanceof wT){var r=function(n){return n instanceof fT?cD(r)(t)(new hT(n,e.value0)):n instanceof OT?t(new hT(n.value1,FT(e.value0))):UR("CP.Semantics.HOAS.eval: impossible unfold "+KL(n))};return YT(e.value0)?sD(nT.value):lD(t(e.value1))(r)}if(e instanceof kT)return oD(jL)(t(e.value0));if(e instanceof CT)return sD(new CT(e.value0,hD((function(t){return ST.create(mO(t))}))(e.value1)));if(e instanceof TT){var i=function(e){return e instanceof fT?lD(i(e.value0))((function(t){return lD(i(e.value1))((function(e){return sD(new fT(t,e))}))})):e instanceof dT?oD(dT.create(e.value0)(e.value1))(t(e.value2)):e instanceof CT?oD(CT.create(e.value0))(fD(t)(e.value1)):sD(e)};return lD(t(e.value0))(i)}if(e instanceof ST){n=OO(e.value0);return RO(e.value0)?sD(n):lD(t(n))((function(t){return sD(wO(t)(e.value0))}))}return UR("CP.Semantics.HOAS.eval: well-typed programs don't get stuck, but got "+KL(e))};return function(e){return _L(t(zT(e)))}}(),mD=mv(Ag),RD={lift:function(t){var e=function(t){var e=Iv(t.Bind1()),n=Lv(t.Applicative0());return function(t){return function(r){return e(r)((function(e){return n(t(e))}))}}}(t)(bg.create);return function(t){return e(t)}}},OD=function(t){var e=mv(t);return{map:function(t){return function(n){return e(mD(t))(n)}}}},wD=function(t){return{Applicative0:function(){return bD(t)},Bind1:function(){return xD(t)}}},xD=function(t){var e=Iv(t.Bind1()),n=Lv(t.Applicative0());return{bind:function(t){return function(r){return e(t)((function(t){if(t instanceof yg)return n(yg.value);if(t instanceof bg)return r(t.value0);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 54, column 11 - line 56, column 42): "+[t.constructor.name])}))}},Apply0:function(){return yD(t)}}},yD=function(t){var e=OD(t.Bind1().Apply0().Functor0());return{apply:Bv(wD(t)),Functor0:function(){return e}}},bD=function(t){return{pure:(e=Lv(t.Applicative0()),function(t){return e(bg.create(t))}),Apply0:function(){return yD(t)}};var e},kD=function(t){var e=t.Bind1(),n=Iv(e),r=Lv(t.Applicative0()),i=OD(e.Apply0().Functor0());return{alt:function(t){return function(e){return n(t)((function(t){return t instanceof yg?e:r(t)}))}},Functor0:function(){return i}}},CD=function(t){var e=kD(t);return{empty:Lv(t.Applicative0())(yg.value),Alt0:function(){return e}}},TD=hO(ag),SD=wg(QT),AD=wg(XL),PD=cO(ag),ED=wg(kg(NT)),_D=_p(RD),LD=uO(ag),DD=Tv(Cv),QD=wg(Rg),ID=function(t){return function(e){return t instanceof yO&&e instanceof AT&&e.value1 instanceof CT?new ZC(sm(e.value1.value1)):WL(t)(e)}},ND=function(t){return function(e){if(t instanceof fT){var n=ND(t.value1)(e),r=ND(t.value0)(e);return r instanceof nT&&n instanceof nT?nT.value:r instanceof nT?n:n instanceof nT?r:new fT(r,n)}return t instanceof AT&&t.value1 instanceof dT&&e===t.value1.value0?new AT(t.value0,new hT(t.value1.value2,t.value1.value1)):nT.value}},MD=function(t){return function(e){return t instanceof AT&&t.value1 instanceof uT&&!t.value1.value4&&e instanceof HL?new AT(TD(t.value1.value0)(new GC(e.value0))(t.value0),t.value1.value1):t instanceof AT&&t.value1 instanceof uT&&t.value1.value4&&e instanceof HL?new AT(TD(t.value1.value0)(new GC(e.value0))(t.value0),new hT(t.value1.value1,t.value1.value3)):t instanceof AT&&t.value1 instanceof uT&&e instanceof qL?new AT(TD(t.value1.value0)(new GC(new hT(e.value0,t.value1.value2)))(t.value0),new hT(t.value1.value1,t.value1.value3)):t instanceof AT&&t.value1 instanceof mT&&!t.value1.value4&&e instanceof VL?new AT(TD(t.value1.value0)(new YC(new bg(e.value0)))(t.value0),t.value1.value2):t instanceof AT&&t.value1 instanceof mT&&t.value1.value4&&e instanceof VL?new AT(TD(t.value1.value0)(new YC(new bg(e.value0)))(t.value0),new hT(t.value1.value2,t.value1.value3)):t instanceof fT?new fT(MD(t.value0)(e),MD(t.value1)(e)):UR("CP.Semantics.Closure.paraApp: impossible application "+SD(t)+" • "+AD(e))}},$D=function(t){return t instanceof ZC||(t instanceof KC||(t instanceof JC||(t instanceof tT||(t instanceof eT||(t instanceof nT||(t instanceof fT?$D(t.value0)&&$D(t.value1):t instanceof OT?$D(t.value1):t instanceof AT&&t.value1 instanceof dT||(t instanceof AT&&t.value1 instanceof uT||(t instanceof AT&&t.value1 instanceof mT||t instanceof AT&&t.value1 instanceof CT))))))))},FD=function(t){var e=t.Bind1(),n=e.Apply0(),r=Up(n.Functor0()),i=bv(r),s=Pv(Hp(n)),o=mv(r),l=Iv(qp(e)),a=ep(zp(t)),u=Lv(Vp(t.Applicative0())),c=tp(Wp(t));return function(e){return e instanceof UC?i(s(o(UC.create)(FD(t)(e.value0)))(FD(t)(e.value1)))(e.value2):e instanceof HC?s(o(HC.create)(FD(t)(e.value0)))(FD(t)(e.value1)):e instanceof qC?i(o(qC.create(e.value0))(FD(t)(e.value1)))(e.value2):e instanceof VC?l(a)((function(n){var r=PD(e.value0)(n);return r instanceof bg&&r.value0 instanceof YC&&r.value0.value0 instanceof yg?u(new VC(e.value0)):r instanceof bg&&r.value0 instanceof YC&&r.value0.value0 instanceof bg?FD(t)(r.value0.value0.value0):UR("CP.Semantics.Closure.expand: "+e.value0+" is "+ED(r))})):e instanceof XC?l(FD(t)(e.value1))((function(n){return l(c((function(t){return TD(e.value0)(new YC(yg.value))(t)}))(FD(t)(e.value2)))((function(t){return u(new XC(e.value0,n,t))}))})):e instanceof zC?l(c((function(t){return TD(e.value0)(new YC(yg.value))(t)}))(FD(t)(e.value1)))((function(t){return u(new zC(e.value0,t))})):e instanceof jC?o(jC.create)(FD(t)(e.value0)):u(e)}},BD=function(t){var e=Iv(qp(t.Bind1())),n=ep(zp(t)),r=Lv(Vp(t.Applicative0()));return function(t){return e(n)((function(e){return r(new AT(e,t))}))}},UD=function(t){var e=Xp(t),n=Lv(bD(e)),r=Sv(kD(e)),i=Iv(xD(e)),s=_D(e),o=tp(Wp(t)),l=FD(t),a=Lp(CD(e)),u=yD(e),c=Pv(u),h=mv(OD(Up(t.Bind1().Apply0().Functor0()))),f=Ev(u);return function(t){return function(e){var u=function(t){return function(e){if(!$D(t))return UR("CP.Semantics.Closure.cast: "+SD(t)+" is not a value");var d=GT(e);if(d instanceof bg){var v=function(t){return t instanceof qC&&t.value2?n(nT.value):a},g=u(t)(d.value0.value1),p=u(t)(d.value0.value0),m=v(d.value0.value1),R=v(d.value0.value0);return r(c(h(fT.create)(p))(g))(r(f(R)(g))(r(f(m)(p))(f(R)(m))))}return YT(e)?n(YL(e)):t instanceof fT?r(u(t.value0)(e))(u(t.value1)(e)):t instanceof ZC&&e instanceof QC?n(new ZC(t.value0)):t instanceof KC&&e instanceof IC?n(new KC(t.value0)):t instanceof JC&&e instanceof NC?n(new JC(t.value0)):t instanceof tT&&e instanceof MC?n(new tT(t.value0)):t instanceof eT&&e instanceof $C?n(eT.value):t instanceof OT&&e instanceof zC&&ZT(t.value0)(e)?n(new OT(e,t.value1)):t instanceof AT&&t.value1 instanceof dT&&e instanceof qC?i(s(o(vv(t.value0))(l(t.value1.value1))))((function(r){return t.value1.value0===e.value0&&ZT(r)(e.value1)?n(new AT(t.value0,new dT(e.value0,e.value1,t.value1.value2))):a})):t instanceof AT&&t.value1 instanceof uT&&e instanceof UC?i(s(o(vv(t.value0))(l(t.value1.value2))))((function(r){return i(s(o(vv(t.value0))(l(t.value1.value3))))((function(i){return ZT(i)(e.value1)?n(new AT(t.value0,new uT(t.value1.value0,t.value1.value1,r,e.value1,!0,t.value1.value5))):a}))})):t instanceof AT&&t.value1 instanceof mT&&e instanceof XC?i(s(o(vv(t.value0))(l(t.value1.value1))))((function(r){var u=TD(t.value1.value0)(new YC(yg.value))(t.value0);return i(s(o(vv(u))(l(t.value1.value3))))((function(i){return t.value1.value0===e.value0&&ZT(e.value1)(r)&&ZT(i)(e.value2)?n(new AT(u,new mT(e.value0,r,t.value1.value2,e.value2,!0))):a}))})):t instanceof AT&&t.value1 instanceof CT&&e instanceof jC?i(s(o(vv(t.value0))(l(t.value1.value0))))((function(r){return ZT(r)(e.value0)?n(new AT(t.value0,new CT(e.value0,t.value1.value1))):a})):a}};return u(t)(e)}}},HD=function(t){return function(e){return function(n){if(t instanceof BO&&e instanceof AT&&e.value1 instanceof CT&&n instanceof AT&&n.value1 instanceof CT)return new AT(LD(e.value0)(n.value0),new CT(e.value1.value0,DD(e.value1.value1)(n.value1.value1)));if(t instanceof UO&&e instanceof AT&&e.value1 instanceof CT&&n instanceof ZC){var r=oR(e.value1.value1)(n.value0);if(r instanceof bg)return new AT(e.value0,new hT(r.value0,e.value1.value0));if(r instanceof yg)return UR("CP.Semantics.Closure.binop': the index "+QD(n.value0)+" is out of bounds for "+SD(new CT(e.value1.value0,e.value1.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Closure (line 160, column 58 - line 163, column 63): "+[r.constructor.name])}return ZL(t)(e)(n)}}},qD=Lv(Vp(AL)),VD=Up(TL),XD=mv(VD),zD=qp(SL),WD=Iv(zD),jD=wg(QT),GD=ep(zp(CL)),YD=cO(ag),ZD=wg(pg),KD=wg(kg(NT)),JD=BD(CL),tQ=tp(Wp(CL)),eQ=hO(ag),nQ=FD(CL),rQ=UD(CL),iQ=wg(LT),sQ=Pv(Hp(EL)),oQ=bv(VD),lQ=Mv(zD),aQ=wg(QT),uQ=wg(XL),cQ=Sv(Qg),hQ=Pv(Lg),fQ=mv(Ag),dQ=Ev(Lg),vQ=function(t){return function(e){return t instanceof uT&&!t.value4&&e instanceof HL?VT(t.value0)(e.value0)(t.value1):t instanceof uT&&t.value4&&e instanceof HL?new hT(VT(t.value0)(e.value0)(t.value1),t.value3):t instanceof uT&&e instanceof qL?new hT(VT(t.value0)(new hT(e.value0,t.value2))(t.value1),t.value3):t instanceof mT&&!t.value4&&e instanceof VL?qT(t.value0)(e.value0)(t.value2):t instanceof mT&&t.value4&&e instanceof VL?new hT(qT(t.value0)(e.value0)(t.value2),$T(t.value0)(e.value0)(t.value3)):t instanceof fT?new fT(vQ(t.value0)(e),vQ(t.value1)(e)):UR("CP.Semantics.Subst.paraApp: impossible application "+aQ(t)+" • "+uQ(e))}},gQ=function(t){return t instanceof ZC||(t instanceof KC||(t instanceof JC||(t instanceof tT||(t instanceof eT||(t instanceof nT||(t instanceof uT||(t instanceof fT?gQ(t.value0)&&gQ(t.value1):t instanceof dT||(t instanceof mT||(t instanceof OT?gQ(t.value1):t instanceof CT)))))))))},pQ=function(t){return function(e){if(!gQ(t))return UR("CP.Semantics.Subst.cast: "+aQ(t)+" is not a value");var n=GT(e);if(n instanceof bg){var r=function(t){return t instanceof qC&&t.value2?new bg(nT.value):yg.value},i=pQ(t)(n.value0.value1),s=pQ(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return cQ(hQ(fQ(fT.create)(s))(i))(cQ(dQ(l)(i))(cQ(dQ(o)(s))(dQ(l)(o))))}return YT(e)?new bg(YL(e)):t instanceof ZC&&e instanceof QC?new bg(new ZC(t.value0)):t instanceof KC&&e instanceof IC?new bg(new KC(t.value0)):t instanceof JC&&e instanceof NC?new bg(new JC(t.value0)):t instanceof tT&&e instanceof MC?new bg(new tT(t.value0)):t instanceof uT&&e instanceof UC&&ZT(t.value3)(e.value1)?new bg(new uT(t.value0,t.value1,t.value2,e.value1,!0,t.value5)):t instanceof fT?cQ(pQ(t.value0)(e))(pQ(t.value1)(e)):t instanceof dT&&e instanceof qC&&t.value0===e.value0&&ZT(t.value1)(e.value1)?new bg(new dT(t.value0,e.value1,t.value2)):t instanceof mT&&e instanceof XC&&ZT(e.value1)(t.value1)&&ZT($T(t.value0)(new VC(e.value0))(t.value3))(e.value2)?new bg(new mT(e.value0,t.value1,qT(t.value0)(new VC(e.value0))(t.value2),e.value2,!0)):t instanceof OT&&e instanceof zC&&ZT(t.value0)(e)?new bg(new OT(e,t.value1)):t instanceof CT&&e instanceof jC&&ZT(t.value0)(e.value0)?new bg(new CT(e.value0,t.value1)):yg.value}},mQ=function(t){if(t instanceof iT)return gQ(t.value1)?WL(t.value0)(t.value1):new iT(t.value0,mQ(t.value1));if(t instanceof sT)return gQ(t.value1)&&gQ(t.value2)?ZL(t.value0)(t.value1)(t.value2):gQ(t.value1)?new sT(t.value0,t.value1,mQ(t.value2)):new sT(t.value0,mQ(t.value1),t.value2);if(t instanceof oT&&t.value0 instanceof tT&&t.value0.value0)return t.value1;if(t instanceof oT&&t.value0 instanceof tT&&!t.value0.value0)return t.value2;if(t instanceof oT)return new oT(mQ(t.value0),t.value1,t.value2);if(t instanceof aT)return gQ(t.value0)?vQ(t.value0)((t.value2?qL.create:HL.create)(t.value1)):new aT(mQ(t.value0),t.value1,t.value2);if(t instanceof cT)return VT(t.value0)(t)(t.value1);if(t instanceof hT&&t.value0 instanceof hT)return new hT(t.value0.value0,t.value1);if(t instanceof hT)return gQ(t.value0)?OC(pQ(t.value0)(t.value1)):new hT(mQ(t.value0),t.value1);if(t instanceof fT)return gQ(t.value0)?new fT(t.value0,mQ(t.value1)):gQ(t.value1)?new fT(mQ(t.value0),t.value1):new fT(mQ(t.value0),mQ(t.value1));if(t instanceof vT)return gQ(t.value0)?GL(t.value0)(t.value1):new vT(mQ(t.value0),t.value1);if(t instanceof gT){if(gQ(t.value0)){if((e=pQ(t.value0)(new qC(t.value1,t.value2,!1)))instanceof bg)return new vT(e.value0,t.value1);if(e instanceof yg)return t.value3;throw new Error("Failed pattern match at Language.CP.Semantics.Subst (line 40, column 18 - line 41, column 65): "+[e.constructor.name])}return new gT(mQ(t.value0),t.value1,t.value2,t.value3)}if(t instanceof pT)return gQ(t.value0)?vQ(t.value0)(new VL(t.value1)):new pT(mQ(t.value0),t.value1);if(t instanceof RT)return VT(t.value0)(t.value1)(t.value2);if(t instanceof OT)return new OT(t.value0,mQ(t.value1));if(t instanceof wT&&YT(t.value0))return nT.value;var e=function(e){var n=function(e){return t instanceof wT?new wT(t.value0,mQ(t.value1)):t instanceof kT?gQ(t.value0)?jL(t.value0):new kT(mQ(t.value0)):t instanceof TT?mQ(t.value0):UR("CP.Semantics.Subst.step: well-typed programs don't get stuck, but got "+aQ(t))};return t instanceof wT&&t.value1 instanceof fT?new wT(t.value0,new hT(t.value1,t.value0)):n()};return t instanceof wT&&t.value1 instanceof OT?new hT(t.value1.value1,FT(t.value0)):e(!0)},RQ=Lv(AL),OQ=mv(TL),wQ=Iv(SL),xQ=wg(QT),yQ=wg(LT),bQ=Pv(EL),kQ=bv(TL),CQ=Mv(SL),TQ=mv(yv),SQ=function(){var t=function(e){var n=e;if(e instanceof ZC)return RQ(n);n=e;if(e instanceof KC)return RQ(n);n=e;if(e instanceof JC)return RQ(n);n=e;if(e instanceof tT)return RQ(n);if(e instanceof eT)return RQ(eT.value);if(e instanceof nT)return RQ(nT.value);if(e instanceof iT)return OQ(WL(e.value0))(t(e.value1));if(e instanceof sT)return wQ(t(e.value1))((function(n){return wQ(t(e.value2))((function(r){var i=ZL(e.value0)(n)(r);return e.value0 instanceof UO?t(i):RQ(i)}))}));if(e instanceof oT)return wQ(t(e.value0))((function(n){return n instanceof tT&&n.value0?t(e.value1):n instanceof tT&&!n.value0?t(e.value2):UR("CP.Semantics.NaturalSubst.eval: impossible if "+xQ(n)+" ...")}));if(e instanceof aT)return wQ(t(e.value0))((function(n){var r=e.value2?qL.create:HL.create;return t(vQ(n)(r(new ST(mO(e.value1)))))}));n=e;if(e instanceof uT)return RQ(n);if(e instanceof cT){var r=mO(e);return wQ(t(VT(e.value0)(new ST(r))(e.value1)))((function(t){return RQ(wO(t)(r))}))}if(e instanceof hT)return wQ((i=function(e){var n,r=!1;function i(n){if(!(n instanceof hT))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=pQ(n)(e.value1);if(r instanceof bg)return t(r.value0);if(r instanceof yg)return UR("CP.Semantics.NaturalSubst.eval: impossible casting "+xQ(n)+" : "+yQ(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 51, column 7 - line 54, column 75): "+[r.constructor.name])}));if(e instanceof fT)return bQ(OQ(fT.create)(t(e.value0)))(t(e.value1));if(e instanceof dT)return RQ(new dT(e.value0,e.value1,new ST(mO(e.value2))));if(e instanceof vT)return wQ(kQ(OQ(GL)(t(e.value0)))(e.value1))(t);if(e instanceof gT)return wQ(t(e.value0))((function(n){var r=pQ(n)(new qC(e.value1,e.value2,!1));if(r instanceof bg)return t(new vT(r.value0,e.value1));if(r instanceof yg)return t(e.value3);throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 63, column 7 - line 65, column 25): "+[r.constructor.name])}));if(e instanceof pT)return wQ(kQ(OQ(vQ)(t(e.value0)))(new VL(e.value1)))(t);n=e;if(e instanceof mT)return RQ(n);if(e instanceof RT)return t(VT(e.value0)(new ST(mO(e.value1)))(e.value2));if(e instanceof OT)return OQ(OT.create(e.value0))(t(e.value1));if(e instanceof wT){var i=function(n){return n instanceof fT?CQ(i)(t)(new hT(n,e.value0)):n instanceof OT?t(new hT(n.value1,FT(e.value0))):UR("CP.Semantics.NaturalSubst.eval: impossible unfold "+xQ(n))};return YT(e.value0)?RQ(nT.value):wQ(t(e.value1))(i)}if(e instanceof kT)return OQ(jL)(t(e.value0));if(e instanceof CT)return RQ(new CT(e.value0,TQ((function(t){return ST.create(mO(t))}))(e.value1)));if(e instanceof TT)return t(e.value0);if(e instanceof ST){n=OO(e.value0);return RO(e.value0)?RQ(n):wQ(t(n))((function(t){return RQ(wO(t)(e.value0))}))}return UR("CP.Semantics.NaturalSubst.eval: well-typed programs don't get stuck, but got "+xQ(e))};return function(e){return _L(t(e))}}(),AQ=function(t){return function(e){return t(e)}},PQ=function(t){var e=mv(t);return{map:function(t){return AQ(e((function(e){return new dp(t(e.value0),e.value1)})))}}},EQ=function(t){var e=Tv(t);return function(t){var n=Pv(t),r=t.Functor0(),i=mv(r),s=PQ(r);return{apply:function(t){return function(r){return n(i((function(t){return function(n){return new dp(t.value0(n.value0),e(t.value1)(n.value1))}}))(t))(r)}},Functor0:function(){return s}}}},_Q=function(t){var e=Tv(t),n=EQ(t);return function(t){var r=Iv(t),i=t.Apply0(),s=mv(i.Functor0()),o=n(i);return{bind:function(t){return function(n){return r(t)((function(t){var r=n(t.value0);return s((function(n){return new dp(n.value0,e(t.value1)(n.value1))}))(r)}))}},Apply0:function(){return o}}}},LQ=function(t){var e=Vg(t),n=EQ(t.Semigroup0());return function(t){var r=Lv(t),i=n(t.Apply0());return{pure:function(t){return r(new dp(t,e))},Apply0:function(){return i}}}},DQ=function(t){var e=LQ(t),n=_Q(t.Semigroup0());return function(t){var r=e(t.Applicative0()),i=n(t.Bind1());return{Applicative0:function(){return r},Bind1:function(){return i}}}},QQ=function(t){var e=t.Semigroup0(),n=DQ(t);return function(t){var r,i,s=n(t);return{tell:(r=Lv(t.Applicative0()),i=dp.create(pv),function(t){return r(i(t))}),Semigroup0:function(){return e},Monad1:function(){return s}}}},IQ=Np(),NQ=function(t){return IQ(t)},MQ=xp(QQ(Nm(fv))(ap)),$Q=PQ(ip),FQ=wv($Q),BQ=Im(uv),UQ=EQ(BQ)(sp),HQ=Pv(UQ),qQ=bv($Q),VQ=wg(QT),XQ=Iv(_Q(BQ)(op)),zQ=Ev(UQ),WQ=function(t){return function(e){return t+e}},jQ=function(t){return MQ(WQ("→ Step-"+t+"\n"))},GQ=function(t){return MQ(WQ("↓ Step-"+t+"\n"))},YQ=function(t){if(t instanceof iT)return gQ(t.value1)?FQ(GQ("UnaryV"))(WL(t.value0)(t.value1)):HQ(FQ(jQ("Unary"))(iT.create(t.value0)))(YQ(t.value1));if(t instanceof sT)return gQ(t.value1)&&gQ(t.value2)?FQ(GQ("BinaryV"))(ZL(t.value0)(t.value1)(t.value2)):gQ(t.value1)?HQ(FQ(jQ("BinaryR"))(sT.create(t.value0)(t.value1)))(YQ(t.value2)):qQ(HQ(FQ(jQ("BinaryL"))(sT.create(t.value0)))(YQ(t.value1)))(t.value2);if(t instanceof oT&&t.value0 instanceof tT&&t.value0.value0)return FQ(GQ("IfTrue"))(t.value1);if(t instanceof oT&&t.value0 instanceof tT&&!t.value0.value0)return FQ(GQ("IfFalse"))(t.value2);if(t instanceof oT)return qQ(qQ(HQ(FQ(jQ("If"))(oT.create))(YQ(t.value0)))(t.value1))(t.value2);if(t instanceof aT)return gQ(t.value0)?FQ(GQ("PApp"))(vQ(t.value0)((t.value2?qL.create:HL.create)(t.value1))):qQ(qQ(HQ(FQ(jQ("AppL"))(aT.create))(YQ(t.value0)))(t.value1))(t.value2);if(t instanceof cT)return FQ(GQ("Fix"))(VT(t.value0)(t)(t.value1));if(t instanceof hT&&t.value0 instanceof hT)return FQ(GQ("AnnoAnno"))(new hT(t.value0.value0,t.value1));if(t instanceof hT)return gQ(t.value0)?FQ(GQ("AnnoV"))(OC(pQ(t.value0)(t.value1))):qQ(HQ(FQ(jQ("Anno"))(hT.create))(YQ(t.value0)))(t.value1);if(t instanceof fT)return gQ(t.value0)?HQ(FQ(jQ("MergeR"))(fT.create(t.value0)))(YQ(t.value1)):gQ(t.value1)?qQ(HQ(FQ(jQ("MergeL"))(fT.create))(YQ(t.value0)))(t.value1):HQ(HQ(FQ(jQ("Merge"))(fT.create))(YQ(t.value0)))(YQ(t.value1));if(t instanceof vT)return gQ(t.value0)?FQ(GQ("PProj"))(GL(t.value0)(t.value1)):qQ(HQ(FQ(jQ("Proj"))(vT.create))(YQ(t.value0)))(t.value1);if(t instanceof gT){if(gQ(t.value0)){if((e=pQ(t.value0)(new qC(t.value1,t.value2,!1)))instanceof bg)return FQ(GQ("OptProjL"))(new vT(e.value0,t.value1));if(e instanceof yg)return FQ(GQ("OptProjR"))(t.value3);throw new Error("Failed pattern match at Language.CP.Semantics.StepTrace (line 65, column 18 - line 67, column 58): "+[e.constructor.name])}return qQ(qQ(qQ(HQ(FQ(jQ("OptProj"))(gT.create))(YQ(t.value0)))(t.value1))(t.value2))(t.value3)}if(t instanceof pT)return gQ(t.value0)?FQ(GQ("PTApp"))(vQ(t.value0)(new VL(t.value1))):qQ(HQ(FQ(jQ("TApp"))(pT.create))(YQ(t.value0)))(t.value1);if(t instanceof RT)return FQ(GQ("Def"))(VT(t.value0)(t.value1)(t.value2));if(t instanceof OT)return HQ(FQ(jQ("Fold"))(OT.create(t.value0)))(YQ(t.value1));if(t instanceof wT&&YT(t.value0))return FQ(GQ("UnfoldTop"))(nT.value);var e=function(e){var n=function(e){return t instanceof wT?HQ(FQ(jQ("Unfold"))(wT.create(t.value0)))(YQ(t.value1)):t instanceof kT?gQ(t.value0)?FQ(GQ("ToStringV"))(jL(t.value0)):HQ(FQ(jQ("ToString"))(kT.create))(YQ(t.value0)):t instanceof TT?YQ(t.value0):UR("CP.Semantics.StepTrace.step: well-typed programs don't get stuck, but got "+VQ(t))};return t instanceof wT&&t.value1 instanceof fT?FQ(GQ("UnfoldMerge"))(new wT(t.value0,new hT(t.value1,t.value0))):n()};return t instanceof wT&&t.value1 instanceof OT?qQ(FQ(GQ("UnfoldFold"))(hT.create(t.value1.value1)))(FT(t.value0)):e(!0)},ZQ=function(){var t=function(e){return gQ(e)?FQ(MQ(WQ(VQ(e)+"\n")))(e):XQ(zQ(MQ(WQ(VQ(e)+"\n")))(YQ(e)))(t)},e=Pm(Em)(Np());return function(n){return e(NQ(t(n)))}}(),KQ=Um(OR),JQ=mv(RR),tI=Cp(ap),eI=Iv(tm(tI)),nI=Lv(nm(tI)),rI=wp(rm(tI)),iI=wg(QT),sI=wg(dP),oI=wg(lP),lI=wg(BP),aI=Lv(jg),uI=function(t){return function(e){return KQ(gv)(t)(JQ((function(t){return gp(gp(t))}))(e))}},cI=function(t){var e=function(t){return new XA(oE(cE)(t.value0),uE(t.value1))}(t);return eI(function(t){return eI(function(t){return B_(q_(nL)(t.value0))((function(){return Q_(N_(WP))((function(e){var n=HP(eL(t.value1))(e);if(n instanceof Ig)return $_(n.value0);if(n instanceof Ng)return V_(new dp(new TT(n.value0.value0),n.value0.value1));throw new Error("Failed pattern match at Language.CP.Typing (line 551, column 3 - line 553, column 47): "+[n.constructor.name])}))}))}(t))((function(t){return eI(rI((function(t){return t.tmBindings})))((function(e){return nI(uI(t.value0)(e))}))}))}(e))((function(n){return eI(rI((function(t){return t.mode})))((function(r){return nI(function(){if(r instanceof QP)return iI(function(t){var e,n=!1;function r(e){if(gQ(e))return n=!0,e;t=mQ(e)}for(;!n;)e=r(t);return e}(n));if(r instanceof IP){var i=ZQ(n);return sI(t)+"\n⇣ Desugar\n"+oI(e.value1)+"\n↯ Elaborate\n"+i.value1("")}if(r instanceof NP)return sI(t)+"\n⇣ Desugar\n"+oI(e.value1)+"\n↯ Elaborate\n"+iI(n);if(r instanceof MP)return iI(SQ(n));if(r instanceof $P)return iI(pD(n));if(r instanceof FP)return iI(function(t){var e=function(t){var n=t;if(t instanceof ZC)return qD(n);if(n=t,t instanceof KC)return qD(n);if(n=t,t instanceof JC)return qD(n);if(n=t,t instanceof tT)return qD(n);if(t instanceof eT)return qD(eT.value);if(t instanceof nT)return qD(nT.value);if(t instanceof iT)return XD(ID(t.value0))(e(t.value1));if(t instanceof sT)return WD(e(t.value1))((function(n){return WD(e(t.value2))((function(r){var i=HD(t.value0)(n)(r);return t.value0 instanceof UO?e(i):qD(i)}))}));if(t instanceof oT)return WD(e(t.value0))((function(n){return n instanceof tT&&n.value0?e(t.value1):n instanceof tT&&!n.value0?e(t.value2):UR("CP.Semantics.NaturalClosure.eval: impossible if "+jD(n)+" ...")}));if(t instanceof lT)return WD(GD)((function(n){var r=YD(t.value0)(n);return r instanceof bg&&r.value0 instanceof GC?e(r.value0.value0):UR("CP.Semantics.NaturalClosure.eval: variable "+ZD(t.value0)+" is "+KD(r))}));if(t instanceof aT)return WD(e(t.value0))((function(n){return WD(JD(t.value1))((function(r){var i=t.value2?qL.create:HL.create;return e(MD(n)(i(new ST(mO(r)))))}))}));if(n=t,t instanceof uT)return JD(n);if(t instanceof cT)return tQ((function(e){return eQ(t.value0)(new GC(t.value1))(e)}))(e(t.value1));if(t instanceof hT)return WD((r=function(t){var n,r=!1;function i(n){if(!(n instanceof hT))return r=!0,e(n);t=n.value0}for(;!r;)n=i(t);return n})(t.value0))((function(n){return WD(nQ(t.value1))((function(r){return WD(rQ(n)(r))((function(r){if(r instanceof bg)return e(r.value0);if(r instanceof yg)return UR("CP.Semantics.NaturalClosure.eval: impossible casting "+jD(n)+" : "+iQ(t.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 59, column 7 - line 62, column 75): "+[r.constructor.name])}))}))}));if(t instanceof fT)return sQ(XD(fT.create)(e(t.value0)))(e(t.value1));if(n=t,t instanceof dT)return JD(n);if(t instanceof vT)return WD(oQ(XD(ND)(e(t.value0)))(t.value1))(e);if(t instanceof gT)return WD(e(t.value0))((function(n){return WD(nQ(t.value2))((function(r){return WD(rQ(n)(new qC(t.value1,r,!1)))((function(n){if(n instanceof bg)return e(new vT(n.value0,t.value1));if(n instanceof yg)return e(t.value3);throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 73, column 7 - line 75, column 25): "+[n.constructor.name])}))}))}));if(t instanceof pT)return WD(e(t.value0))((function(n){return WD(nQ(t.value1))((function(t){return e(MD(n)(new VL(t)))}))}));if(n=t,t instanceof mT)return JD(n);if(t instanceof RT)return WD(JD(t.value1))((function(n){return tQ((function(e){return eQ(t.value0)(new GC(new ST(mO(n))))(e)}))(e(t.value2))}));if(t instanceof OT)return XD(OT.create(t.value0))(e(t.value1));if(t instanceof wT){var r=function(n){return n instanceof fT?lQ(r)(e)(new hT(n,t.value0)):n instanceof OT?e(new hT(n.value1,FT(t.value0))):UR("CP.Semantics.NaturalClosure.eval: impossible unfold "+jD(n))};return YT(t.value0)?qD(nT.value):WD(e(t.value1))(r)}return t instanceof kT?XD(jL)(e(t.value0)):(n=t,t instanceof CT?JD(n):t instanceof TT?e(t.value0):t instanceof ST?(n=OO(t.value0),RO(t.value0)?qD(n):WD(e(n))((function(e){return qD(wO(e)(t.value0))}))):t instanceof AT&&t.value1 instanceof dT||t instanceof AT&&t.value1 instanceof uT||t instanceof AT&&t.value1 instanceof mT||t instanceof AT&&t.value1 instanceof CT?qD(t):t instanceof AT?tQ(vv(t.value0))(e(t.value1)):UR("CP.Semantics.NaturalClosure.eval: well-typed programs don't get stuck, but got "+jD(t)))};return _L(e(t)(gO))}(n));throw new Error("Failed pattern match at Language.CP (line 64, column 10 - line 72, column 37): "+[r.constructor.name])}())}))}))},hI=function(t){var e=function(t){return function(e){return qR(t(e))}}(cI(t))(zP);if(e instanceof Ig)return Kg(lI(e.value0));if(e instanceof Ng)return aI(e.value0.value0);throw new Error("Failed pattern match at Language.CP (line 87, column 17 - line 89, column 37): "+[e.constructor.name])},fI={92:()=>{}},dI={};function vI(t){var e=dI[t];if(void 0!==e)return e.exports;var n=dI[t]={exports:{}};return fI[t](n,n.exports,vI),n.exports}vI.d=(t,e)=>{for(var n in e)vI.o(e,n)&&!vI.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},vI.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gI={};(()=>{vI.d(gI,{dx:()=>W,q2:()=>Tt,FO:()=>xe,xf:()=>ke,Gy:()=>Ae,s4:()=>_t,c7:()=>Le,_7:()=>oe,gp:()=>me,cK:()=>St,zs:()=>ge,AV:()=>ke,Xp:()=>m,VS:()=>R,ul:()=>z,hW:()=>Nt,x1:()=>jt,z5:()=>Jt,oN:()=>ce,TB:()=>he,u1:()=>fe,_b:()=>Qe,$F:()=>ee,_T:()=>Me,db:()=>ne,Zx:()=>Kt,_x:()=>Qt,r8:()=>I,JI:()=>E,TP:()=>_,WU:()=>t,Nj:()=>a,ZP:()=>qe});class t{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function e(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=-1,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1;const n=Math.round(Math.random()*Math.pow(2,32));function r(t){if(!t)return 0;const e=typeof t,r="string"===e?t:!("object"!==e||!t.toString)&&t.toString();if(!r)return 0;let i,s;const o=3&r.length,l=r.length-o;let a=n;const u=3432918353,c=461845907;let h=0;for(;h<l;)s=255&r.charCodeAt(h)|(255&r.charCodeAt(++h))<<8|(255&r.charCodeAt(++h))<<16|(255&r.charCodeAt(++h))<<24,++h,s=(65535&s)*u+(((s>>>16)*u&65535)<<16)&4294967295,s=s<<15|s>>>17,s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295,a^=s,a=a<<13|a>>>19,i=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=27492+(65535&i)+((58964+(i>>>16)&65535)<<16);switch(s=0,o){case 3:s^=(255&r.charCodeAt(h+2))<<16;case 2:s^=(255&r.charCodeAt(h+1))<<8;case 1:s^=255&r.charCodeAt(h),s=(65535&s)*u+(((s>>>16)*u&65535)<<16)&4294967295,s=s<<15|s>>>17,s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295,a^=s}return a^=r.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0}class i{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=r(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new i;return t.update.apply(t,arguments),t.finish()}}function s(t){return t?"string"==typeof t?r(t):t.hashCode():-1}function o(t,e){return t?t.equals(e):t===e}function l(t){return null===t?"null":t}function a(t){return Array.isArray(t)?"["+t.map(l).join(", ")+"]":"null"}const u="h-";class c{constructor(t,e){this.data={},this.hashFunction=t||s,this.equalsFunction=e||o}add(t){const e=u+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e];return n.push(t),t}return this.data[e]=[t],t}has(t){return null!=this.get(t)}get(t){const e=u+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e]}return null}values(){return Object.keys(this.data).filter((t=>t.startsWith(u))).flatMap((t=>this.data[t]),this)}toString(){return a(this.values())}get length(){return Object.keys(this.data).filter((t=>t.startsWith(u))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}class h{hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===h.NONE)return e;if(null===e||e===h.NONE)return t;const n=new f(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===h.NONE||e===h.NONE)return h.NONE;const n=new d(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class f extends h{constructor(t,e){super();const n=new c;t instanceof f?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof f?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=v(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof f&&e(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,null===o)return null;o!==h.NONE&&r.push(o)}if(!n)return this;if(0===r.length)return h.NONE;let i=null;return r.map((function(t){i=null===i?t:h.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class d extends h{constructor(t,e){super();const n=new c;t instanceof d?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof d?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=v(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof d&&e(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,o===h.NONE)return h.NONE;null!==o&&r.push(o)}return n?(0===r.length||r.map((function(t){return t})),null):this}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function v(t){const e=[];return t.values().map((function(t){t instanceof h.PrecedencePredicate&&e.push(t)})),e}function g(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class p{constructor(t,e){this.checkContext(t,e),t=g(t),e=g(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:h.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof p&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new i;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof p&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==h.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class m{constructor(t,e){this.start=t,this.stop=e}clone(){return new m(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}m.INVALID_INTERVAL=new m(-1,-2);class R{constructor(){this.intervals=null,this.readOnly=!1}first(e){return null===this.intervals||0===this.intervals.length?t.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new m(t,t+1))}addRange(t,e){this.addInterval(new m(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new m(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new m(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new m(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new R;return n.addInterval(new m(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new m(n.start,t.start);const r=new m(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new m(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new m(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new m(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new m(n.start,n.stop-1));if(t<n.stop-1){const r=new m(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const e=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===t.EOF?e.push("<EOF>"):e.push("'"+String.fromCharCode(r.start)+"'"):e.push("'"+String.fromCharCode(r.start)+"'..'"+String.fromCharCode(r.stop-1)+"'")}return e.length>1?"{"+e.join(", ")+"}":e[0]}toIndexString(){const e=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===t.EOF?e.push("<EOF>"):e.push(r.start.toString()):e.push(r.start.toString()+".."+(r.stop-1).toString())}return e.length>1?"{"+e.join(", ")+"}":e[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(e,n,r){return r===t.EOF?"<EOF>":r===t.EPSILON?"<EPSILON>":e[r]||n[r]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class O{constructor(){this.atn=null,this.stateNumber=O.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof O&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}O.INVALID_TYPE=0,O.BASIC=1,O.RULE_START=2,O.BLOCK_START=3,O.PLUS_BLOCK_START=4,O.STAR_BLOCK_START=5,O.TOKEN_START=6,O.RULE_STOP=7,O.BLOCK_END=8,O.STAR_LOOP_BACK=9,O.STAR_LOOP_ENTRY=10,O.PLUS_LOOP_BACK=11,O.LOOP_END=12,O.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],O.INVALID_STATE_NUMBER=-1;class w extends O{constructor(){return super(),this.stateType=O.RULE_STOP,this}}class x{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}x.EPSILON=1,x.RANGE=2,x.RULE=3,x.PREDICATE=4,x.ATOM=5,x.ACTION=6,x.SET=7,x.NOT_SET=8,x.WILDCARD=9,x.PRECEDENCE=10,x.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],x.serializationTypes={EpsilonTransition:x.EPSILON,RangeTransition:x.RANGE,RuleTransition:x.RULE,PredicateTransition:x.PREDICATE,AtomTransition:x.ATOM,ActionTransition:x.ACTION,SetTransition:x.SET,NotSetTransition:x.NOT_SET,WildcardTransition:x.WILDCARD,PrecedencePredicateTransition:x.PRECEDENCE};class y extends x{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=x.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class b extends x{constructor(e,n){super(e),this.serializationType=x.SET,null!=n?this.label=n:(this.label=new R,this.label.addOne(t.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class k extends b{constructor(t,e){super(t,e),this.serializationType=x.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class C extends x{constructor(t){super(t),this.serializationType=x.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class T extends x{constructor(t){super(t)}}class S{}class A extends S{}class P extends A{}class E extends P{get ruleContext(){throw new Error("missing interface implementation")}}class _ extends P{}class L extends _{}const D={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=D.getNodeText(t,e);r=function(t,e){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let s="("+r+" ";i>0&&(r=D.toStringTree(t.getChild(0),e),s=s.concat(r));for(let n=1;n<i;n++)r=D.toStringTree(t.getChild(n),e),s=s.concat(" "+r);return s=s.concat(")"),s},getNodeText:function(e,n,r){if(n=n||null,null!==(r=r||null)&&(n=r.ruleNames),null!==n){if(e instanceof E){const t=e.ruleContext.getAltNumber();return 0!=t?n[e.ruleIndex]+":"+t:n[e.ruleIndex]}if(e instanceof L)return e.toString();if(e instanceof _&&null!==e.symbol)return e.symbol.text}const i=e.getPayload();return i instanceof t?i.text:e.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return D.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return D.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return D._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof _?t.symbol.type===e&&r.push(t):!n&&t instanceof E&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)D._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(D.descendants(t.getChild(n)));return e}},Q=D;class I extends E{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return m.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return Q.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class N{constructor(t){this.cachedHashCode=t}isEmpty(){return this===N.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===N.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}N.EMPTY=null,N.EMPTY_RETURN_STATE=2147483647,N.globalNodeCount=1,N.id=N.globalNodeCount,N.trace_atn_sim=!1;class M extends N{constructor(t,e){const n=new i;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===N.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof M&&this.hashCode()===t.hashCode()&&e(this.returnStates,t.returnStates)&&e(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==N.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class $ extends N{constructor(t,e){let n=0;const r=new i;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof $&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===N.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===N.EMPTY_RETURN_STATE&&null===t?N.EMPTY:new $(t,e)}}class F extends ${constructor(){super(null,N.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}N.EMPTY=new F;const B="h-";class U{constructor(t,e){this.data={},this.hashFunction=t||s,this.equalsFunction=e||o}set(t,e){const n=B+this.hashFunction(t);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(t,i.key)){const t=i.value;return i.value=e,t}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}containsKey(t){const e=B+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return!0}}return!1}get(t){const e=B+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((t=>t.startsWith(B))).flatMap((t=>this.data[t]),this)}getKeys(){return this.entries().map((t=>t.key))}getValues(){return this.entries().map((t=>t.value))}toString(){return"["+this.entries().map((t=>"{"+t.key+":"+t.value+"}")).join(", ")+"]"}get length(){return Object.keys(this.data).filter((t=>t.startsWith(B))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}function H(t,e){if(null==e&&(e=I.EMPTY),null===e.parentCtx||e===I.EMPTY)return N.EMPTY;const n=H(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return $.create(n,r.followState.stateNumber)}function q(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,s=[];for(let r=0;r<s.length;r++){const o=q(t.getParent(r),e,n);if(i||o!==t.getParent(r)){if(!i){s=[];for(let e=0;e<t.length;e++)s[e]=t.getParent(e);i=!0}s[r]=o}}if(!i)return e.add(t),n.set(t,t),t;let o=null;return o=0===s.length?N.EMPTY:1===s.length?$.create(s[0],t.getReturnState(0)):new M(s,t.returnStates),e.add(o),n.set(o,o),n.set(t,o),o}function V(t,e,n,r){if(t===e)return t;if(t instanceof $&&e instanceof $)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===N.EMPTY)return N.EMPTY;if(e===N.EMPTY)return N.EMPTY}else{if(t===N.EMPTY&&e===N.EMPTY)return N.EMPTY;if(t===N.EMPTY){const t=[e.returnState,N.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new M(n,t)}if(e===N.EMPTY){const e=[t.returnState,N.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new M(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=V(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const s=$.create(i,t.returnState);return null!==r&&r.set(t,e,s),s}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const s=new M([n,n],i);return null!==r&&r.set(t,e,s),s}const i=[t.returnState,e.returnState];let s=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,s=[e.parentCtx,t.parentCtx]);const o=new M(s,i);return null!==r&&r.set(t,e,o),o}}(t,e,n,r);if(n){if(t instanceof F)return t;if(e instanceof F)return e}return t instanceof $&&(t=new M([t.getParent()],[t.returnState])),e instanceof $&&(e=new M([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n;if(n=r.get(e,t),null!==n)return N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n}let i=0,s=0,o=0,l=new Array(t.returnStates.length+e.returnStates.length).fill(0),a=new Array(t.returnStates.length+e.returnStates.length).fill(null);for(;i<t.returnStates.length&&s<e.returnStates.length;){const u=t.parents[i],c=e.parents[s];if(t.returnStates[i]===e.returnStates[s]){const e=t.returnStates[i];e===N.EMPTY_RETURN_STATE&&null===u&&null===c||null!==u&&null!==c&&u===c?(a[o]=u,l[o]=e):(a[o]=V(u,c,n,r),l[o]=e),i+=1,s+=1}else t.returnStates[i]<e.returnStates[s]?(a[o]=u,l[o]=t.returnStates[i],i+=1):(a[o]=c,l[o]=e.returnStates[s],s+=1);o+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)a[o]=t.parents[e],l[o]=t.returnStates[e],o+=1;else for(let t=s;t<e.returnStates.length;t++)a[o]=e.parents[t],l[o]=e.returnStates[t],o+=1;if(o<a.length){if(1===o){const n=$.create(a[0],l[0]);return null!==r&&r.set(t,e,n),n}a=a.slice(0,o),l=l.slice(0,o)}const u=new M(a,l);return u.equals(t)?(null!==r&&r.set(t,e,t),N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):u.equals(e)?(null!==r&&r.set(t,e,e),N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){const e=new U;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(a),null!==r&&r.set(t,e,u),N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+u),u)}(t,e,n,r)}class X{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){Object.keys(t.data).map((t=>this.add(t)),this)}remove(t){delete this.data[t]}has(t){return!0===this.data[t]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return i.hashStuff(this.values())}equals(t){return t instanceof X&&e(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class z{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new R;const e=new c,i=!1;this._LOOK(t.transition(r).target,null,N.EMPTY,n[r],e,new X,i,!1),(0===n[r].length||n[r].contains(z.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new R,i=null!==(n=n||null)?H(t.atn,n):null;return this._LOOK(t,e,i,r,new c,new X,!0,!0),r}_LOOK(e,n,r,i,s,o,l,a){const u=new p({state:e,alt:0,context:r},null);if(!s.has(u)){if(s.add(u),e===n){if(null===r)return void i.addOne(t.EPSILON);if(r.isEmpty()&&a)return void i.addOne(t.EOF)}if(e instanceof w){if(null===r)return void i.addOne(t.EPSILON);if(r.isEmpty()&&a)return void i.addOne(t.EOF);if(r!==N.EMPTY){const t=o.has(e.ruleIndex);try{o.remove(e.ruleIndex);for(let t=0;t<r.length;t++){const e=this.atn.states[r.getReturnState(t)];this._LOOK(e,n,r.getParent(t),i,s,o,l,a)}}finally{t&&o.add(e.ruleIndex)}return}}for(let u=0;u<e.transitions.length;u++){const c=e.transitions[u];if(c.constructor===y){if(o.has(c.target.ruleIndex))continue;const t=$.create(r,c.followState.stateNumber);try{o.add(c.target.ruleIndex),this._LOOK(c.target,n,t,i,s,o,l,a)}finally{o.remove(c.target.ruleIndex)}}else if(c instanceof T)l?this._LOOK(c.target,n,r,i,s,o,l,a):i.addOne(z.HIT_PRED);else if(c.isEpsilon)this._LOOK(c.target,n,r,i,s,o,l,a);else if(c.constructor===C)i.addRange(t.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let e=c.label;null!==e&&(c instanceof k&&(e=e.complement(t.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(e))}}}}}z.HIT_PRED=t.INVALID_TYPE;class W{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new z(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(e,n){if(e<0||e>=this.states.length)throw"Invalid state number.";const r=this.states[e];let i=this.nextTokens(r);if(!i.contains(t.EPSILON))return i;const s=new R;for(s.addSet(i),s.removeOne(t.EPSILON);null!==n&&n.invokingState>=0&&i.contains(t.EPSILON);){const e=this.states[n.invokingState].transitions[0];i=this.nextTokens(e.followState),s.addSet(i),s.removeOne(t.EPSILON),n=n.parentCtx}return i.contains(t.EPSILON)&&s.addOne(t.EOF),s}}W.INVALID_ALT_NUMBER=0;class j extends O{constructor(){super(),this.stateType=O.BASIC}}class G extends O{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class Y extends G{constructor(){return super(),this.endState=null,this}}class Z extends O{constructor(){return super(),this.stateType=O.BLOCK_END,this.startState=null,this}}class K extends O{constructor(){return super(),this.stateType=O.LOOP_END,this.loopBackState=null,this}}class J extends O{constructor(){return super(),this.stateType=O.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class tt extends G{constructor(){return super(),this.stateType=O.TOKEN_START,this}}class et extends G{constructor(){return super(),this.stateType=O.PLUS_LOOP_BACK,this}}class nt extends O{constructor(){return super(),this.stateType=O.STAR_LOOP_BACK,this}}class rt extends G{constructor(){return super(),this.stateType=O.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class it extends Y{constructor(){return super(),this.stateType=O.PLUS_BLOCK_START,this.loopBackState=null,this}}class st extends Y{constructor(){return super(),this.stateType=O.STAR_BLOCK_START,this}}class ot extends Y{constructor(){return super(),this.stateType=O.BLOCK_START,this}}class lt extends x{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=x.ATOM}makeLabel(){const t=new R;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class at extends x{constructor(t,e,n){super(t),this.serializationType=x.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new R;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class ut extends x{constructor(t,e,n,r){super(t),this.serializationType=x.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class ct extends x{constructor(t,e){super(t),this.serializationType=x.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class ht extends h{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof ht&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}h.NONE=new ht;class ft extends T{constructor(t,e,n,r){super(t),this.serializationType=x.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new ht(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class dt extends h{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?h.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof dt&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}h.PrecedencePredicate=dt;class vt extends T{constructor(t,e){super(t),this.serializationType=x.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new dt(this.precedence)}toString(){return this.precedence+" >= _p"}}class gt{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}gt.defaultOptions=new gt,gt.defaultOptions.readOnly=!0;class pt{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class mt extends pt{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}mt.INSTANCE=new mt;class Rt extends pt{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof Rt&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Ot extends pt{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Ot&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class wt extends pt{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}wt.INSTANCE=new wt;class xt extends pt{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof xt&&this.type===t.type}toString(){return"type("+this.type+")"}}class yt extends pt{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof yt&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class bt extends pt{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}bt.INSTANCE=new bt;class kt extends pt{constructor(t){super(2),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof kt&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function Ct(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class Tt{constructor(t){null==t&&(t=gt.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new W(t,e)}readStates(t,e){let n,r,i;const s=[],o=[],l=this.readInt();for(let n=0;n<l;n++){const n=this.readInt();if(n===O.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===O.LOOP_END){const t=this.readInt();s.push([i,t])}else if(i instanceof Y){const t=this.readInt();o.push([i,t])}t.addState(i)}for(n=0;n<s.length;n++)r=s[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<o.length;n++)r=o[n],r[0].endState=t.states[r[1]];let a=this.readInt();for(n=0;n<a;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(e,n){let r;const i=this.readInt();for(0===e.grammarType&&(e.ruleToTokenType=Ct(i,0)),e.ruleToStartState=Ct(i,0),r=0;r<i;r++){const i=this.readInt();if(e.ruleToStartState[r]=e.states[i],0===e.grammarType){let i=this.readInt();n&&65535===i&&(i=t.EOF),e.ruleToTokenType[r]=i}}for(e.ruleToStopState=Ct(i,0),r=0;r<e.states.length;r++){const t=e.states[r];t instanceof w&&(e.ruleToStopState[t.ruleIndex]=t,e.ruleToStartState[t.ruleIndex].stopState=t)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new R;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,s,o;const l=this.readInt();for(n=0;n<l;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),o=this.readInt(),l=this.readInt(),a=this.readInt();s=this.edgeFactory(t,i,n,r,o,l,a,e),t.states[n].addTransition(s)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof y))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),s=new ct(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(s)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof Y){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof et)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof it&&(o.loopBackState=i);else if(i instanceof nt)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof rt&&(o.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=Ct(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,s)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new ot;i.ruleIndex=e,t.addState(i);const s=new Z;s.ruleIndex=e,t.addState(s),i.endState=s,t.defineDecisionState(i),s.startState=i;let o=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){l=r,o=r.loopBackState.transitions[0];break}if(null===o)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==o&&e.target===l&&(e.target=s)}}const a=t.ruleToStartState[e],u=a.transitions.length;for(;u>0;)i.addTransition(a.transitions[u-1]),a.transitions=a.transitions.slice(-1);t.ruleToStartState[e].addTransition(new ct(i)),s.addTransition(new ct(l));const c=new j;t.addState(c),c.addTransition(new lt(s,t.ruleToTokenType[e])),i.addTransition(new ct(c))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof rt))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof K&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof w?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof rt&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof K&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof w&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof it)this.checkCondition(null!==n.loopBackState);else if(n instanceof rt)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof st)this.checkCondition(n.transitions[1].target instanceof K),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof K))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof st),this.checkCondition(n.nonGreedy)}else n instanceof nt?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof rt)):n instanceof K?this.checkCondition(null!==n.loopBackState):n instanceof J?this.checkCondition(null!==n.stopState):n instanceof Y?this.checkCondition(null!==n.endState):n instanceof Z?this.checkCondition(null!==n.startState):n instanceof G?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof w)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(e,n,r,i,s,o,l,a){const u=e.states[i];switch(n){case x.EPSILON:return new ct(u);case x.RANGE:return new at(u,0!==l?t.EOF:s,o);case x.RULE:return new y(e.states[s],o,l,u);case x.PREDICATE:return new ft(u,s,o,0!==l);case x.PRECEDENCE:return new vt(u,s);case x.ATOM:return new lt(u,0!==l?t.EOF:s);case x.ACTION:return new ut(u,s,o,0!==l);case x.SET:return new b(u,a[s]);case x.NOT_SET:return new k(u,a[s]);case x.WILDCARD:return new C(u);default:throw"The specified transition type: "+n+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[O.INVALID_TYPE]=null,t[O.BASIC]=()=>new j,t[O.RULE_START]=()=>new J,t[O.BLOCK_START]=()=>new ot,t[O.PLUS_BLOCK_START]=()=>new it,t[O.STAR_BLOCK_START]=()=>new st,t[O.TOKEN_START]=()=>new tt,t[O.RULE_STOP]=()=>new w,t[O.BLOCK_END]=()=>new Z,t[O.STAR_LOOP_BACK]=()=>new nt,t[O.STAR_LOOP_ENTRY]=()=>new rt,t[O.PLUS_LOOP_BACK]=()=>new et,t[O.LOOP_END]=()=>new K,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new Rt(t),t[1]=(t,e)=>new Ot(t,e),t[2]=(t,e)=>new kt(t),t[3]=(t,e)=>wt.INSTANCE,t[4]=(t,e)=>bt.INSTANCE,t[5]=(t,e)=>new yt(t),t[6]=(t,e)=>mt.INSTANCE,t[7]=(t,e)=>new xt(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class St{syntaxError(t,e,n,r,i,s){}reportAmbiguity(t,e,n,r,i,s,o){}reportAttemptingFullContext(t,e,n,r,i,s){}reportContextSensitivity(t,e,n,r,i,s){}}class At extends St{constructor(){super()}syntaxError(t,e,n,r,i,s){console.error("line "+n+":"+r+" "+i)}}At.INSTANCE=new At;class Pt extends St{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,s){this.delegates.map((o=>o.syntaxError(t,e,n,r,i,s)))}reportAmbiguity(t,e,n,r,i,s,o){this.delegates.map((l=>l.reportAmbiguity(t,e,n,r,i,s,o)))}reportAttemptingFullContext(t,e,n,r,i,s){this.delegates.map((o=>o.reportAttemptingFullContext(t,e,n,r,i,s)))}reportContextSensitivity(t,e,n,r,i,s){this.delegates.map((o=>o.reportContextSensitivity(t,e,n,r,i,s)))}}class Et{constructor(){this._listeners=[At.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.1";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const e=this.getTokenNames();if(null===e)throw"The current recognizer does not provide a list of token names.";let n=this.tokenTypeMapCache[e];return void 0===n&&(n=e.reduce((function(t,e,n){t[e]=n})),n.EOF=t.EOF,this.tokenTypeMapCache[e]=n),n}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(e){const n=this.getTokenTypeMap()[e];return void 0!==n?n:t.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(e){if(null===e)return"<no token>";let n=e.text;return null===n&&(n=e.type===t.EOF?"<EOF>":"<"+e.type+">"),n=n.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+n+"'"}getErrorListenerDispatch(){return new Pt(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}Et.tokenTypeMapCache={},Et.ruleIndexMapCache={};class _t extends t{constructor(e,n,r,i,s){super(),this.source=void 0!==e?e:_t.EMPTY_SOURCE,this.type=void 0!==n?n:null,this.channel=void 0!==r?r:t.DEFAULT_CHANNEL,this.start=void 0!==i?i:-1,this.stop=void 0!==s?s:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=e[0].line,this.column=e[0].column):this.column=-1}clone(){const t=new _t(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(e){const n=new _t(this.source,e,this.channel,this.start,this.stop);return n.tokenIndex=this.tokenIndex,n.line=this.line,n.column=this.column,e===t.EOF&&(n.text=""),n}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}_t.EMPTY_SOURCE=[null,null];class Lt{}class Dt extends Lt{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,s,o,l){const a=new _t(t,e,r,i,s);return a.line=o,a.column=l,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(i,s)),a}createThin(t,e){const n=new _t(null,t);return n.text=e,n}}Dt.DEFAULT=new Dt;class Qt extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,Qt),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class It extends Qt{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new m(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class Nt extends Et{constructor(e){super(),this._input=e,this._factory=Dt.DEFAULT,this._tokenFactorySourcePair=[this,e],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=t.DEFAULT_CHANNEL,this._type=t.INVALID_TYPE,this._modeStack=[],this._mode=Nt.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=t.INVALID_TYPE,this._channel=t.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=Nt.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const e=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=t.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=t.INVALID_TYPE;let n=Nt.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof Qt))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===t.EOF&&(this._hitEOF=!0),this._type===t.INVALID_TYPE&&(this._type=n),this._type===Nt.SKIP){e=!0;break}if(this._type!==Nt.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(e)}}skip(){this._type=Nt.SKIP}more(){this._type=Nt.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const e=this.column,n=this.line,r=this._factory.create(this._tokenFactorySourcePair,t.EOF,null,t.DEFAULT_CHANNEL,this._input.index,this._input.index-1,n,e);return this.emitToken(r),r}getCharIndex(){return this._input.index}getAllTokens(){const e=[];let n=this.nextToken();for(;n.type!==t.EOF;)e.push(n),n=this.nextToken();return e}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(e){return e.charCodeAt(0)===t.EOF?"<EOF>":"\n"===e?"\\n":"\t"===e?"\\t":"\r"===e?"\\r":e}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(e){this._input.LA(1)!==t.EOF&&(e instanceof It?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function Mt(t){return t.hashCodeForConfigSet()}function $t(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Nt.DEFAULT_MODE=0,Nt.MORE=-2,Nt.SKIP=-3,Nt.DEFAULT_TOKEN_CHANNEL=t.DEFAULT_CHANNEL,Nt.HIDDEN=t.HIDDEN_CHANNEL,Nt.MIN_CHAR_VALUE=0,Nt.MAX_CHAR_VALUE=1114111;class Ft{constructor(t){this.configLookup=new c(Mt,$t),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==h.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=V(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new c;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==h.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof Ft&&e(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new i;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new c}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return a(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==W.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class Bt{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new Ft),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new c;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof Bt&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new i;return t.update(this.configs),t.finish()}}class Ut{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new U;return q(t,this.sharedContextCache,e)}}Ut.ERROR=new Bt(2147483647,new Ft);class Ht extends Ft{constructor(){super(),this.configLookup=new c}}class qt extends p{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=qt.prototype.hashCode,this.equalsForConfigSet=qt.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof qt&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof G&&e.nonGreedy}}class Vt extends pt{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof Vt&&this.offset===t.offset&&this.action===t.action}}class Xt{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=i.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof Vt||(null===e&&(e=this.lexerActions.concat([])),e[n]=new Vt(t,this.lexerActions[n]));return null===e?this:new Xt(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let s=0;s<this.lexerActions.length;s++){let o=this.lexerActions[s];if(o instanceof Vt){const t=o.offset;e.seek(n+t),o=o.action,r=n+t!==i}else o.isPositionDependent&&(e.seek(i),r=!1);o.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof Xt){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new Xt([e]);const n=t.lexerActions.concat([e]);return new Xt(n)}}function zt(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class Wt{constructor(){zt(this)}reset(){zt(this)}}class jt extends Ut{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=Nt.DEFAULT_MODE,this.prevAccept=new Wt}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const n=this.decisionToDFA[e];return null===n.s0?this.matchATN(t):this.execATN(t,n.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Nt.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];jt.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const s=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=s);const o=this.execATN(t,s);return jt.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),o}execATN(e,n){jt.debug&&console.log("start state closure="+n.configs),n.isAcceptState&&this.captureSimState(this.prevAccept,e,n);let r=e.LA(1),i=n;for(;;){jt.debug&&console.log("execATN loop starting closure: "+i.configs);let n=this.getExistingTargetState(i,r);if(null===n&&(n=this.computeTargetState(e,i,r)),n===Ut.ERROR)break;if(r!==t.EOF&&this.consume(e),n.isAcceptState&&(this.captureSimState(this.prevAccept,e,n),r===t.EOF))break;r=e.LA(1),i=n}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(t,e){if(null===t.edges||e<jt.MIN_DFA_EDGE||e>jt.MAX_DFA_EDGE)return null;let n=t.edges[e-jt.MIN_DFA_EDGE];return void 0===n&&(n=null),jt.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new Ht;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Ut.ERROR),Ut.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(e,n,r,i){if(null!==this.prevAccept.dfaState){const t=e.dfaState.lexerActionExecutor;return this.accept(n,t,this.startIndex,e.index,e.line,e.column),e.dfaState.prediction}if(i===t.EOF&&n.index===this.startIndex)return t.EOF;throw new It(this.recog,n,this.startIndex,r)}getReachableConfigSet(e,n,r,i){let s=W.INVALID_ALT_NUMBER;for(let o=0;o<n.items.length;o++){const l=n.items[o],a=l.alt===s;if(!a||!l.passedThroughNonGreedyDecision){jt.debug&&console.log("testing %s at %s\n",this.getTokenName(i),l.toString(this.recog,!0));for(let n=0;n<l.state.transitions.length;n++){const o=l.state.transitions[n],u=this.getReachableTarget(o,i);if(null!==u){let n=l.lexerActionExecutor;null!==n&&(n=n.fixOffsetBeforeMatch(e.index-this.startIndex));const o=i===t.EOF,c=new qt({state:u,lexerActionExecutor:n},l);this.closure(e,c,r,a,!0,o)&&(s=l.alt)}}}}}accept(t,e,n,r,i,s){jt.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,Nt.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=N.EMPTY,r=new Ht;for(let i=0;i<e.transitions.length;i++){const s=e.transitions[i].target,o=new qt({state:s,alt:i+1,context:n},null);this.closure(t,o,r,!1,!1,!1)}return r}closure(t,e,n,r,i,s){let o=null;if(jt.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof w){if(jt.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new qt({state:e.state,context:N.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let l=0;l<e.context.length;l++)if(e.context.getReturnState(l)!==N.EMPTY_RETURN_STATE){const a=e.context.getParent(l),u=this.atn.states[e.context.getReturnState(l)];o=new qt({state:u,context:a},e),r=this.closure(t,o,n,r,i,s)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let l=0;l<e.state.transitions.length;l++){const a=e.state.transitions[l];o=this.getEpsilonTarget(t,e,a,n,i,s),null!==o&&(r=this.closure(t,o,n,r,i,s))}return r}getEpsilonTarget(e,n,r,i,s,o){let l=null;if(r.serializationType===x.RULE){const t=$.create(n.context,r.followState.stateNumber);l=new qt({state:r.target,context:t},n)}else{if(r.serializationType===x.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(r.serializationType===x.PREDICATE)jt.debug&&console.log("EVAL rule "+r.ruleIndex+":"+r.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,r.ruleIndex,r.predIndex,s)&&(l=new qt({state:r.target},n));else if(r.serializationType===x.ACTION)if(null===n.context||n.context.hasEmptyPath()){const t=Xt.append(n.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);l=new qt({state:r.target,lexerActionExecutor:t},n)}else l=new qt({state:r.target},n);else r.serializationType===x.EPSILON?l=new qt({state:r.target},n):r.serializationType!==x.ATOM&&r.serializationType!==x.RANGE&&r.serializationType!==x.SET||o&&r.matches(t.EOF,0,Nt.MAX_CHAR_VALUE)&&(l=new qt({state:r.target},n))}return l}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,s=this.line,o=t.index,l=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=s,t.seek(o),t.release(l)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<jt.MIN_DFA_EDGE||e>jt.MAX_DFA_EDGE||(jt.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-jt.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new Bt(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof w){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const s=e;return s.stateNumber=r.states.length,t.setReadonly(!0),s.configs=t,r.states.add(s),s}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}jt.debug=!1,jt.dfa_debug=!1,jt.MIN_DFA_EDGE=0,jt.MAX_DFA_EDGE=127;class Gt{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class Yt{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const Zt={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Zt.allConfigsInRuleStopStates(e))return!0;if(t===Zt.SLL&&e.hasSemanticContext){const t=new Ft;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new p({semanticContext:h.NONE},r),t.add(r)}e=t}const n=Zt.getConflictingAltSubsets(e);return Zt.hasConflictingAltSet(n)&&!Zt.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof w)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof w))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Zt.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Zt.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=Zt.getAlts(t);return 1===e.length?e.minValue():W.INVALID_ALT_NUMBER},getAlts:function(t){const e=new X;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new U;return e.hashFunction=function(t){i.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new X,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new Yt;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new X,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=Zt.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return W.INVALID_ALT_NUMBER}return e}},Kt=Zt;class Jt extends Qt{constructor(t,e,n,r,i,s){s=s||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:s}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class te{constructor(t){this.defaultMapCtor=t||U,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}class ee extends Ut{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=Kt.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),s=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=I.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let s=this.computeStartState(r.atnStartState,I.EMPTY,i);r.precedenceDfa?(r.s0.configs=s,s=this.applyPrecedenceFilter(s),e=this.addDFAState(r,new Bt(null,s)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new Bt(null,s)),r.s0=e)}const i=this.execATN(r,e,t,s,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),i}finally{this._dfa=null,this.mergeCache=null,t.seek(s),t.release(i)}}execATN(e,n,r,i,s){let o;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+e.decision+", DFA state "+n+", LA(1)=="+this.getLookaheadName(r)+" line "+r.LT(1).line+":"+r.LT(1).column);let l=n;this.debug&&console.log("s0 = "+n);let a=r.LA(1);for(;;){let n=this.getExistingTargetState(l,a);if(null===n&&(n=this.computeTargetState(e,l,a)),n===Ut.ERROR){const t=this.noViableAlt(r,s,l.configs,i);if(r.seek(i),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(l.configs,s),o!==W.INVALID_ALT_NUMBER)return o;throw t}if(n.requiresFullContext&&this.predictionMode!==Kt.SLL){let t=null;if(null!==n.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const e=r.index;if(e!==i&&r.seek(i),t=this.evalSemanticContext(n.predicates,s,!0),1===t.length)return this.debug&&console.log("Full LL avoided"),t.minValue();e!==i&&r.seek(e)}this.dfa_debug&&console.log("ctx sensitive state "+s+" in "+n);const l=!0,a=this.computeStartState(e.atnStartState,s,l);return this.reportAttemptingFullContext(e,t,n.configs,i,r.index),o=this.execATNWithFullContext(e,n,a,r,i,s),o}if(n.isAcceptState){if(null===n.predicates)return n.prediction;const t=r.index;r.seek(i);const o=this.evalSemanticContext(n.predicates,s,!0);if(0===o.length)throw this.noViableAlt(r,s,n.configs,i);return 1===o.length||this.reportAmbiguity(e,n,i,t,!1,o,n.configs),o.minValue()}l=n,a!==t.EOF&&(r.consume(),a=r.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Ut.ERROR),Ut.ERROR;let i=new Bt(null,r);const s=this.getUniqueAlt(r);if(this.debug){const t=Kt.getConflictingAltSubsets(r);console.log("SLL altSubSets="+a(t)+", configs="+r+", predict="+s+", allSubsetsConflict="+Kt.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return s!==W.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=s,i.prediction=s):Kt.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=W.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=W.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(e,n,r,i,s,o){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+r);let l,a=!1,u=r;i.seek(s);let c=i.LA(1),h=-1;for(;;){if(l=this.computeReachSet(u,c,!0),null===l){const t=this.noViableAlt(i,o,u,s);i.seek(s);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u,o);if(e!==W.INVALID_ALT_NUMBER)return e;throw t}const e=Kt.getConflictingAltSubsets(l);if(this.debug&&console.log("LL altSubSets="+e+", predict="+Kt.getUniqueAlt(e)+", resolvesToJustOneViableAlt="+Kt.resolvesToJustOneViableAlt(e)),l.uniqueAlt=this.getUniqueAlt(l),l.uniqueAlt!==W.INVALID_ALT_NUMBER){h=l.uniqueAlt;break}if(this.predictionMode!==Kt.LL_EXACT_AMBIG_DETECTION){if(h=Kt.resolvesToJustOneViableAlt(e),h!==W.INVALID_ALT_NUMBER)break}else if(Kt.allSubsetsConflict(e)&&Kt.allSubsetsEqual(e)){a=!0,h=Kt.getSingleViableAlt(e);break}u=l,c!==t.EOF&&(i.consume(),c=i.LA(1))}return l.uniqueAlt!==W.INVALID_ALT_NUMBER?(this.reportContextSensitivity(e,h,l,s,i.index),h):(this.reportAmbiguity(e,n,s,i.index,a,null,l),h)}computeReachSet(e,n,r){this.debug&&console.log("in computeReachSet, starting closure: "+e),null===this.mergeCache&&(this.mergeCache=new te);const i=new Ft(r);let s=null;for(let o=0;o<e.items.length;o++){const l=e.items[o];if(this.debug&&console.log("testing "+this.getTokenName(n)+" at "+l),l.state instanceof w)(r||n===t.EOF)&&(null===s&&(s=[]),s.push(l),this.debug_add&&console.log("added "+l+" to skippedStopStates"));else for(let t=0;t<l.state.transitions.length;t++){const e=l.state.transitions[t],r=this.getReachableTarget(e,n);if(null!==r){const t=new p({state:r},l);i.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let o=null;if(null===s&&n!==t.EOF&&(1===i.items.length||this.getUniqueAlt(i)!==W.INVALID_ALT_NUMBER)&&(o=i),null===o){o=new Ft(r);const e=new c,s=n===t.EOF;for(let t=0;t<i.items.length;t++)this.closure(i.items[t],o,e,!1,r,s)}if(n===t.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===i)),!(null===s||r&&Kt.hasConfigInRuleStopState(o)))for(let t=0;t<s.length;t++)o.add(s[t],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+e+" -> "+o),0===o.items.length?null:o}removeAllConfigsNotInRuleStopState(e,n){if(Kt.allConfigsInRuleStopStates(e))return e;const r=new Ft(e.fullCtx);for(let i=0;i<e.items.length;i++){const s=e.items[i];if(s.state instanceof w)r.add(s,this.mergeCache);else if(n&&s.state.epsilonOnlyTransitions&&this.atn.nextTokens(s.state).contains(t.EPSILON)){const t=this.atn.ruleToStopState[s.state.ruleIndex];r.add(new p({state:t},s),this.mergeCache)}}return r}computeStartState(t,e,n){const r=H(this.atn,e),i=new Ft(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(let e=0;e<t.transitions.length;e++){const s=t.transitions[e].target,o=new p({state:s,alt:e+1,context:r},null),l=new c;this.closure(o,i,l,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new Ft(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const s=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==s&&(n[e.state.stateNumber]=e.context,s!==e.semanticContext?r.add(new p({semanticContext:s},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.has(i.alt)&&(r[i.alt]=h.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=h.NONE:e!==h.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+a(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const s=e[i];null!==t&&t.has(i)&&n.push(new Gt(s,i)),s!==h.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let s=this.getAltThatFinishedDecisionEntryRule(r);return s!==W.INVALID_ALT_NUMBER||i.items.length>0&&(s=this.getAltThatFinishedDecisionEntryRule(i),s!==W.INVALID_ALT_NUMBER)?s:W.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof w&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?W.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new Ft(t.fullCtx),r=new Ft(t.fullCtx);for(let i=0;i<t.items.length;i++){const s=t.items[i];s.semanticContext!==h.NONE?s.semanticContext.evaluate(this.parser,e)?n.add(s):r.add(s):n.add(s)}return[n,r]}evalSemanticContext(t,e,n){const r=new X;for(let i=0;i<t.length;i++){const s=t[i];if(s.pred===h.NONE){if(r.add(s.alt),!n)break;continue}const o=s.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+s.alt),r.add(s.alt),!n))break}return r}closure(t,e,n,r,i,s){this.closureCheckingStopState(t,e,n,r,i,0,s)}closureCheckingStopState(t,e,n,r,i,s,o){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof w){if(!t.context.isEmpty()){for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===N.EMPTY_RETURN_STATE){if(i){e.add(new p({state:t.state,context:N.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,s,o);continue}const a=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),c={state:a,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new p(c,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,s-1,o)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,s,o)}closure_(t,e,n,r,i,s,o){const l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let a=0;a<l.transitions.length;a++){if(0===a&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=l.transitions[a],c=r&&!(u instanceof ut),h=this.getEpsilonTarget(t,u,c,0===s,i,o);if(null!==h){let r=s;if(t.state instanceof w){if(null!==this._dfa&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.add(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.add(h)!==h)continue;u instanceof y&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,c,i,r,o)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==O.STAR_LOOP_ENTRY)return!1;if(e.stateType!==O.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),s=this.atn.states[n];if(1!==s.transitions.length||!s.transitions[0].isEpsilon)return!1;const o=s.transitions[0].target;if(!(s.stateType===O.BLOCK_END&&o===e||s===i||o===i||o.stateType===O.BLOCK_END&&1===o.transitions.length&&o.transitions[0].isEpsilon&&o.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(e,n,r,i,s,o){switch(n.serializationType){case x.RULE:return this.ruleTransition(e,n);case x.PRECEDENCE:return this.precedenceTransition(e,n,r,i,s);case x.PREDICATE:return this.predTransition(e,n,r,i,s);case x.ACTION:return this.actionTransition(e,n);case x.EPSILON:return new p({state:n.target},e);case x.ATOM:case x.RANGE:case x.SET:return o&&n.matches(t.EOF,0,1)?new p({state:n.target},e):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new p({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+a(this.parser.getRuleInvocationStack())));let s=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new p({state:e.target},t))}else{const n=h.andContext(t.semanticContext,e.getPredicate());s=new p({state:e.target,semanticContext:n},t)}else s=new p({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+a(this.parser.getRuleInvocationStack())));let s=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new p({state:e.target},t))}else{const n=h.andContext(t.semanticContext,e.getPredicate());s=new p({state:e.target,semanticContext:n},t)}else s=new p({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=$.create(t.context,n.stateNumber);return new p({state:e.target,context:r},t)}getConflictingAlts(t){const e=Kt.getConflictingAltSubsets(t);return Kt.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==W.INVALID_ALT_NUMBER?(e=new X,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(e){if(e===t.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(e>=this.parser.literalNames.length&&e>=this.parser.symbolicNames.length))return(this.parser.literalNames[e]||this.parser.symbolicNames[e])+"<"+e+">";console.log(e+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+e}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof lt?r="Atom "+this.getTokenName(t.label):t instanceof b&&(r=(t instanceof k?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new Jt(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=W.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===W.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return W.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===Ut.ERROR)return e;const n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new m(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new m(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,s,o){if(this.debug||this.retry_debug){const t=new m(n,r+1);console.log("reportAmbiguity "+s+":"+o+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,i,s,o)}}class ne{constructor(){this.cache=new U}add(t){if(t===N.EMPTY)return N.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const re={ATN:W,ATNDeserializer:Tt,LexerATNSimulator:jt,ParserATNSimulator:ee,PredictionMode:Kt,PredictionContextCache:ne};class ie{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+a(t.predicates):e+"=>"+t.prediction.toString():e}}class se extends ie{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class oe{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new c,this.s0=null,this.precedenceDfa=!1,t instanceof rt&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new Bt(null,new Ft);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new c,t){const t=new Bt(null,new Ft);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new ie(this,t,e).toString()}toLexerString(){return null===this.s0?"":new se(this).toString()}get states(){return this._states}}const le={DFA:oe,DFASerializer:ie,LexerDFASerializer:se,PredPrediction:Gt},ae={PredictionContext:N},ue={Interval:m,IntervalSet:R};class ce{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class he{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class fe{walk(t,e){if(e instanceof L||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof _)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}fe.DEFAULT=new fe;const de={Trees:Q,RuleNode:E,ErrorNode:L,TerminalNode:_,ParseTreeListener:ce,ParseTreeVisitor:he,ParseTreeWalker:fe};class ve extends Qt{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class ge extends Qt{constructor(t,e,n){super({message:pe(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof ft?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function pe(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class me extends St{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,s,o){if(this.exactOnly&&!i)return;const l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(s,o)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,n,r,i,s){const o="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(o)}reportContextSensitivity(t,e,n,r,i,s){const o="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(o)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const s=i[r]||null;return null===s||0===s.length?""+n:`${n} (${s})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new X;for(let t=0;t<e.items.length;t++)n.add(e.items[t].alt);return`{${n.values().join(", ")}}`}}class Re extends Error{constructor(){super(),Error.captureStackTrace(this,Re)}}class Oe{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class we extends Oe{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Jt?this.reportNoViableAlternative(t,e):e instanceof ve?this.reportInputMismatch(t,e):e instanceof ge?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(e){if(this.inErrorRecoveryMode(e))return;const n=e._interp.atn.states[e.state],r=e.getTokenStream().LA(1),i=e.atn.nextTokens(n);if(i.contains(r))return this.nextTokensContext=null,void(this.nextTokenState=O.INVALID_STATE_NUMBER);if(i.contains(t.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=e._ctx,this.nextTokensState=e._stateNumber);else switch(n.stateType){case O.BLOCK_START:case O.STAR_BLOCK_START:case O.PLUS_BLOCK_START:case O.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(e))return;throw new ve(e);case O.PLUS_LOOP_BACK:case O.STAR_LOOP_BACK:{this.reportUnwantedToken(e);const t=new R;t.addSet(e.getExpectedTokens());const n=t.addSet(this.getErrorRecoverySet(e));this.consumeUntil(e,n)}}}reportNoViableAlternative(e,n){const r=e.getTokenStream();let i;i=null!==r?n.startToken.type===t.EOF?"<EOF>":r.getText(new m(n.startToken.tokenIndex,n.offendingToken.tokenIndex)):"<unknown input>";const s="no viable alternative at input "+this.escapeWSAndQuote(i);e.notifyErrorListeners(s,n.offendingToken,n)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new ve(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(e){const n=e.getCurrentToken(),r=this.getExpectedTokens(e).first();let i;i=r===t.EOF?"<missing EOF>":"<missing "+e.literalNames[r]+">";let s=n;const o=e.getTokenStream().LT(-1);return s.type===t.EOF&&null!==o&&(s=o),e.getTokenFactory().create(s.source,r,i,t.DEFAULT_CHANNEL,-1,-1,s.line,s.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(e){if(null===e)return"<no token>";let n=e.text;return null===n&&(n=e.type===t.EOF?"<EOF>":"<"+e.type+">"),this.escapeWSAndQuote(n)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(e){const n=e._interp.atn;let r=e._ctx;const i=new R;for(;null!==r&&r.invokingState>=0;){const t=n.states[r.invokingState].transitions[0],e=n.nextTokens(t.followState);i.addSet(e),r=r.parentCtx}return i.removeOne(t.EPSILON),i}consumeUntil(e,n){let r=e.getTokenStream().LA(1);for(;r!==t.EOF&&!n.contains(r);)e.consume(),r=e.getTokenStream().LA(1)}}class xe extends we{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new Re(e)}recoverInline(t){this.recover(t,new ve(t))}sync(t){}}const ye={RecognitionException:Qt,NoViableAltException:Jt,LexerNoViableAltException:It,InputMismatchException:ve,FailedPredicateException:ge,DiagnosticErrorListener:me,BailErrorStrategy:xe,DefaultErrorStrategy:we,ErrorListener:St};class be{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++)this.data[t]=this.strdata.charCodeAt(t)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(e){if(0===e)return 0;e<0&&(e+=1);const n=this._index+e-1;return n<0||n>=this._size?t.EOF:this.data[n]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class ke extends be{constructor(t,e){super(t,e)}}var Ce=vI(92);const Te="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class Se extends ke{static fromPath(t,e,n){if(!Te)throw new Error("FileStream is only available when running in Node!");Ce.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new be(e,!0)),n(t,r)}))}constructor(t,e,n){if(!Te)throw new Error("FileStream is only available when running in Node!");super(Ce.readFileSync(t,e||"utf-8"),n),this.fileName=t}}const Ae={fromString:function(t){return new be(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new be(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new be(t.toString(e),!0)},fromPath:function(t,e,n){Se.fromPath(t,e,n)},fromPathSync:function(t,e){return new Se(t,e)}},Pe={arrayToString:a,stringToCharArray:function(t){let e=new Uint16Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};class Ee{}class _e extends Ee{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let e=!1;if(e=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!e&&this.LA(1)===t.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(e){if(this.fetchedEOF)return 0;for(let n=0;n<e;n++){const e=this.tokenSource.nextToken();if(e.tokenIndex=this.tokens.length,this.tokens.push(e),e.type===t.EOF)return this.fetchedEOF=!0,n+1}return e}getTokens(e,n,r){if(void 0===r&&(r=null),e<0||n<0)return null;this.lazyInit();const i=[];n>=this.tokens.length&&(n=this.tokens.length-1);for(let s=e;s<n;s++){const e=this.tokens[s];if(e.type===t.EOF)break;(null===r||r.contains(e.type))&&i.push(e)}return i}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(e,n){if(this.sync(e),e>=this.tokens.length)return-1;let r=this.tokens[e];for(;r.channel!==this.channel;){if(r.type===t.EOF)return-1;e+=1,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,Nt.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,Nt.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==Nt.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(e){this.lazyInit(),this.fill(),e||(e=new m(0,this.tokens.length-1));let n=e.start;n instanceof t&&(n=n.tokenIndex);let r=e.stop;if(r instanceof t&&(r=r.tokenIndex),null===n||null===r||n<0||r<0)return"";r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let e=n;e<r+1;e++){const n=this.tokens[e];if(n.type===t.EOF)break;i+=n.text}return i}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(_e,"size",{get:function(){return this.tokens.length}});class Le extends _e{constructor(e,n){super(e),this.channel=void 0===n?t.DEFAULT_CHANNEL:n}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let n=0;n<this.tokens.length;n++){const r=this.tokens[n];if(r.channel===this.channel&&(e+=1),r.type===t.EOF)break}return e}}class De extends ce{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class Qe extends Et{constructor(t){super(),this._input=null,this._errHandler=new we,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new gt;n.generateRuleBypassTransitions=!0,e=new Tt(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,i,t,n)}consume(){const e=this.getCurrentToken();e.type!==t.EOF&&this.getInputStream().consume();const n=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||n){let t;t=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(e):this._ctx.addTokenNode(e),t.invokingState=this.state,n&&this._parseListeners.forEach((function(e){t instanceof L||void 0!==t.isErrorNode&&t.isErrorNode()?e.visitErrorNode(t):t instanceof _&&e.visitTerminal(t)}))}return e}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(e){const n=this._interp.atn;let r=this._ctx;const i=n.states[this.state];let s=n.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(t.EPSILON))return!1;for(;null!==r&&r.invokingState>=0&&s.contains(t.EPSILON);){const t=n.states[r.invokingState].transitions[0];if(s=n.nextTokens(t.followState),s.contains(e))return!0;r=r.parentCtx}return!(!s.contains(t.EPSILON)||e!==t.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.sourceName}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new De(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}Qe.bypassAltsAtnCache={};class Ie extends _{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return m.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new m(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===t.EOF?"<EOF>":this.symbol.text}}class Ne extends Ie{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class Me extends I{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof Ne&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new Ie(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new Ne(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof _&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof _&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?m.INVALID_INTERVAL:new m(this.start.tokenIndex,this.stop.tokenIndex)}}I.EMPTY=new Me;class $e{static DEFAULT_PROGRAM_NAME="default";constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),s=new Ue(this.tokens,n,i.length,e);i.push(s)}insertBefore(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;const i=this.getProgram(r),s=new Be(this.tokens,n,i.length,e);i.push(s)}replaceSingle(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,n)}replace(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$e.DEFAULT_PROGRAM_NAME;if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(r),s=new He(this.tokens,t,e,i.length,n);i.push(s)}delete(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;void 0===e&&(e=t),this.replace(t,e,null,n)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(e){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e.DEFAULT_PROGRAM_NAME;n=e instanceof m?e:new m(0,this.tokens.size-1),"string"==typeof e&&(r=e);const i=this.programs.get(r);let s=n.start,o=n.stop;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),null==i||0===i.length)return this.tokens.getText(new m(s,o));let l=[],a=this.reduceToSingleOperationPerIndex(i),u=s;for(;u<=o&&u<this.tokens.size;){let e=a.get(u);a.delete(u);let n=this.tokens.get(u);null==e?(n.type!==t.EOF&&l.push(String(n.text)),u++):u=e.execute(l)}if(o===this.tokens.size-1)for(const t of a.values())t.index>=this.tokens.size-1&&l.push(t.text.toString());return l.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof He))continue;let r=n,i=this.getKindOfOps(t,Be,e);for(let e of i)e.index===r.index?(t[e.instructionIndex]=void 0,r.text=e.text.toString()+(null!=r.text?r.text.toString():"")):e.index>r.index&&e.index<=r.lastIndex&&(t[e.instructionIndex]=void 0);let s=this.getKindOfOps(t,He,e);for(let e of s){if(e.index>=r.index&&e.lastIndex<=r.lastIndex){t[e.instructionIndex]=void 0;continue}let n=e.lastIndex<r.index||e.index>r.lastIndex;if(null!=e.text||null!=r.text||n){if(!n)throw new Error(`replace op boundaries of ${r} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,r.index=Math.min(e.index,r.index),r.lastIndex=Math.max(e.lastIndex,r.lastIndex)}}for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof Be))continue;let r=n,i=this.getKindOfOps(t,Be,e);for(let e of i)e.index===r.index&&(e instanceof Ue?(r.text=this.catOpText(e.text,r.text),t[e.instructionIndex]=void 0):e instanceof Be&&(r.text=this.catOpText(r.text,e.text),t[e.instructionIndex]=void 0));let s=this.getKindOfOps(t,He,e);for(let n of s)if(r.index!==n.index){if(r.index>=n.index&&r.index<=n.lastIndex)throw new Error(`insert op ${r} within boundaries of previous ${n}`)}else n.text=this.catOpText(r.text,n.text),t[e]=void 0}let e=new Map;for(let n of t)if(null!=n){if(null!=e.get(n.index))throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}getKindOfOps(t,e,n){return t.slice(0,n).filter((t=>t&&t instanceof e))}}class Fe{constructor(t,e,n,r){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=void 0===r?"":r}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class Be extends Fe{constructor(t,e,n,r){super(t,e,n,r)}execute(e){return this.text&&e.push(this.text.toString()),this.tokens.get(this.index).type!==t.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}}class Ue extends Be{constructor(t,e,n,r){super(t,e+1,n,r)}}class He extends Fe{constructor(t,e,n,r,i){super(t,e,r,i),this.lastIndex=n}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const qe={atn:re,dfa:le,context:ae,misc:ue,tree:de,error:ye,Token:t,CommonToken:_t,CharStreams:Ae,CharStream:ke,InputStream:ke,CommonTokenStream:Le,Lexer:Nt,Parser:Qe,ParserRuleContext:Me,Interval:m,IntervalSet:R,LL1Analyzer:z,Utils:Pe,TokenStreamRewriter:$e}})();var pI=gI.ZP;const mI=(new pI.atn.ATNDeserializer).deserialize([4,0,105,728,6,-1,6,-1,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,2,99,7,99,2,100,7,100,2,101,7,101,2,102,7,102,2,103,7,103,2,104,7,104,2,105,7,105,1,0,4,0,217,8,0,11,0,12,0,218,1,0,1,0,1,1,1,1,1,1,1,1,4,1,227,8,1,11,1,12,1,228,1,1,1,1,1,2,1,2,1,2,1,2,5,2,237,8,2,10,2,12,2,240,9,2,1,2,1,2,1,2,1,2,1,2,1,3,4,3,248,8,3,11,3,12,3,249,1,3,1,3,4,3,254,8,3,11,3,12,3,255,3,3,258,8,3,1,3,1,3,3,3,262,8,3,1,3,4,3,265,8,3,11,3,12,3,266,3,3,269,8,3,1,3,1,3,1,3,1,3,3,3,275,8,3,1,3,4,3,278,8,3,11,3,12,3,279,1,3,1,3,1,3,1,3,3,3,286,8,3,1,3,4,3,289,8,3,11,3,12,3,290,3,3,293,8,3,1,4,1,4,1,4,1,4,5,4,299,8,4,10,4,12,4,302,9,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,25,1,25,1,25,1,25,1,25,1,26,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,29,1,29,1,29,1,29,1,29,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,33,1,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,37,1,37,1,37,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,39,1,39,1,39,3,39,509,8,39,1,40,1,40,1,41,1,41,5,41,515,8,41,10,41,12,41,518,9,41,1,42,1,42,5,42,522,8,42,10,42,12,42,525,9,42,1,43,1,43,1,43,1,44,1,44,1,45,1,45,1,45,1,46,1,46,1,46,1,47,1,47,1,47,1,48,1,48,1,48,1,49,1,49,1,49,1,50,1,50,1,50,1,51,1,51,1,52,1,52,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,1,57,1,57,1,58,1,58,1,59,1,59,1,59,1,60,1,60,1,60,1,61,1,61,1,61,1,62,1,62,1,62,1,63,1,63,1,64,1,64,1,65,1,65,1,65,1,66,1,66,1,66,1,67,1,67,1,67,1,68,1,68,1,68,1,69,1,69,1,70,1,70,1,70,1,71,1,71,1,71,1,72,1,72,1,73,1,73,1,74,1,74,1,74,3,74,609,8,74,1,75,1,75,1,75,1,76,1,76,1,76,1,77,1,77,1,78,1,78,1,79,1,79,1,80,1,80,1,81,1,81,1,81,1,82,1,82,1,83,1,83,1,84,1,84,1,85,1,85,1,86,1,86,1,86,1,86,1,87,1,87,1,87,1,87,1,88,1,88,1,88,1,88,1,89,1,89,1,89,1,89,1,90,1,90,1,90,1,90,1,91,1,91,1,91,3,91,659,8,91,1,91,1,91,1,92,1,92,1,92,1,92,1,92,1,93,1,93,1,93,1,94,4,94,672,8,94,11,94,12,94,673,1,95,1,95,1,95,1,95,1,96,1,96,1,96,1,96,1,97,1,97,1,97,1,97,1,98,1,98,1,98,1,98,1,99,1,99,1,99,1,99,1,100,1,100,1,100,3,100,699,8,100,1,101,1,101,1,101,1,101,1,101,1,101,1,102,1,102,1,102,1,102,1,102,1,103,4,103,713,8,103,11,103,12,103,714,1,103,1,103,1,104,1,104,1,104,1,104,1,104,1,105,1,105,1,105,1,105,1,105,1,238,0,106,3,1,5,2,7,3,9,4,11,5,13,6,15,7,17,8,19,9,21,10,23,11,25,12,27,13,29,14,31,15,33,16,35,17,37,18,39,19,41,20,43,21,45,22,47,23,49,24,51,25,53,26,55,27,57,28,59,29,61,30,63,31,65,32,67,33,69,34,71,35,73,36,75,37,77,38,79,39,81,0,83,40,85,41,87,42,89,43,91,44,93,45,95,46,97,47,99,48,101,49,103,50,105,51,107,52,109,53,111,54,113,55,115,56,117,57,119,58,121,59,123,60,125,61,127,62,129,63,131,64,133,65,135,66,137,67,139,68,141,69,143,70,145,71,147,72,149,73,151,74,153,75,155,76,157,77,159,78,161,79,163,80,165,81,167,82,169,83,171,84,173,85,175,86,177,87,179,88,181,89,183,90,185,91,187,92,189,93,191,94,193,95,195,96,197,97,199,98,201,99,203,100,205,101,207,102,209,103,211,104,213,105,3,0,1,2,13,3,0,9,10,13,13,32,32,1,0,10,10,1,0,48,57,2,0,69,69,101,101,2,0,43,43,45,45,3,0,48,57,65,70,97,102,1,0,48,55,4,0,10,10,13,13,34,34,92,92,3,0,48,57,65,90,97,122,1,0,97,122,1,0,65,90,2,0,92,93,96,96,4,0,40,40,91,93,96,96,123,123,750,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,0,101,1,0,0,0,0,103,1,0,0,0,0,105,1,0,0,0,0,107,1,0,0,0,0,109,1,0,0,0,0,111,1,0,0,0,0,113,1,0,0,0,0,115,1,0,0,0,0,117,1,0,0,0,0,119,1,0,0,0,0,121,1,0,0,0,0,123,1,0,0,0,0,125,1,0,0,0,0,127,1,0,0,0,0,129,1,0,0,0,0,131,1,0,0,0,0,133,1,0,0,0,0,135,1,0,0,0,0,137,1,0,0,0,0,139,1,0,0,0,0,141,1,0,0,0,0,143,1,0,0,0,0,145,1,0,0,0,0,147,1,0,0,0,0,149,1,0,0,0,0,151,1,0,0,0,0,153,1,0,0,0,0,155,1,0,0,0,0,157,1,0,0,0,0,159,1,0,0,0,0,161,1,0,0,0,0,163,1,0,0,0,0,165,1,0,0,0,0,167,1,0,0,0,0,169,1,0,0,0,0,171,1,0,0,0,0,173,1,0,0,0,0,175,1,0,0,0,0,177,1,0,0,0,0,179,1,0,0,0,0,181,1,0,0,0,0,183,1,0,0,0,1,185,1,0,0,0,1,187,1,0,0,0,1,189,1,0,0,0,1,191,1,0,0,0,1,193,1,0,0,0,1,195,1,0,0,0,2,197,1,0,0,0,2,199,1,0,0,0,2,201,1,0,0,0,2,203,1,0,0,0,2,205,1,0,0,0,2,207,1,0,0,0,2,209,1,0,0,0,2,211,1,0,0,0,2,213,1,0,0,0,3,216,1,0,0,0,5,222,1,0,0,0,7,232,1,0,0,0,9,292,1,0,0,0,11,294,1,0,0,0,13,305,1,0,0,0,15,310,1,0,0,0,17,320,1,0,0,0,19,328,1,0,0,0,21,335,1,0,0,0,23,338,1,0,0,0,25,342,1,0,0,0,27,349,1,0,0,0,29,354,1,0,0,0,31,361,1,0,0,0,33,365,1,0,0,0,35,369,1,0,0,0,37,375,1,0,0,0,39,381,1,0,0,0,41,385,1,0,0,0,43,389,1,0,0,0,45,400,1,0,0,0,47,409,1,0,0,0,49,413,1,0,0,0,51,417,1,0,0,0,53,420,1,0,0,0,55,425,1,0,0,0,57,430,1,0,0,0,59,434,1,0,0,0,61,441,1,0,0,0,63,446,1,0,0,0,65,449,1,0,0,0,67,454,1,0,0,0,69,463,1,0,0,0,71,468,1,0,0,0,73,475,1,0,0,0,75,484,1,0,0,0,77,489,1,0,0,0,79,495,1,0,0,0,81,508,1,0,0,0,83,510,1,0,0,0,85,512,1,0,0,0,87,519,1,0,0,0,89,526,1,0,0,0,91,529,1,0,0,0,93,531,1,0,0,0,95,534,1,0,0,0,97,537,1,0,0,0,99,540,1,0,0,0,101,543,1,0,0,0,103,546,1,0,0,0,105,549,1,0,0,0,107,551,1,0,0,0,109,553,1,0,0,0,111,555,1,0,0,0,113,557,1,0,0,0,115,559,1,0,0,0,117,561,1,0,0,0,119,563,1,0,0,0,121,565,1,0,0,0,123,568,1,0,0,0,125,571,1,0,0,0,127,574,1,0,0,0,129,577,1,0,0,0,131,579,1,0,0,0,133,581,1,0,0,0,135,584,1,0,0,0,137,587,1,0,0,0,139,590,1,0,0,0,141,593,1,0,0,0,143,595,1,0,0,0,145,598,1,0,0,0,147,601,1,0,0,0,149,603,1,0,0,0,151,608,1,0,0,0,153,610,1,0,0,0,155,613,1,0,0,0,157,616,1,0,0,0,159,618,1,0,0,0,161,620,1,0,0,0,163,622,1,0,0,0,165,624,1,0,0,0,167,627,1,0,0,0,169,629,1,0,0,0,171,631,1,0,0,0,173,633,1,0,0,0,175,635,1,0,0,0,177,639,1,0,0,0,179,643,1,0,0,0,181,647,1,0,0,0,183,651,1,0,0,0,185,655,1,0,0,0,187,662,1,0,0,0,189,667,1,0,0,0,191,671,1,0,0,0,193,675,1,0,0,0,195,679,1,0,0,0,197,683,1,0,0,0,199,687,1,0,0,0,201,691,1,0,0,0,203,695,1,0,0,0,205,700,1,0,0,0,207,706,1,0,0,0,209,712,1,0,0,0,211,718,1,0,0,0,213,723,1,0,0,0,215,217,7,0,0,0,216,215,1,0,0,0,217,218,1,0,0,0,218,216,1,0,0,0,218,219,1,0,0,0,219,220,1,0,0,0,220,221,6,0,0,0,221,4,1,0,0,0,222,223,5,45,0,0,223,224,5,45,0,0,224,226,1,0,0,0,225,227,8,1,0,0,226,225,1,0,0,0,227,228,1,0,0,0,228,226,1,0,0,0,228,229,1,0,0,0,229,230,1,0,0,0,230,231,6,1,0,0,231,6,1,0,0,0,232,233,5,123,0,0,233,234,5,45,0,0,234,238,1,0,0,0,235,237,9,0,0,0,236,235,1,0,0,0,237,240,1,0,0,0,238,239,1,0,0,0,238,236,1,0,0,0,239,241,1,0,0,0,240,238,1,0,0,0,241,242,5,45,0,0,242,243,5,125,0,0,243,244,1,0,0,0,244,245,6,2,0,0,245,8,1,0,0,0,246,248,7,2,0,0,247,246,1,0,0,0,248,249,1,0,0,0,249,247,1,0,0,0,249,250,1,0,0,0,250,257,1,0,0,0,251,253,5,46,0,0,252,254,7,2,0,0,253,252,1,0,0,0,254,255,1,0,0,0,255,253,1,0,0,0,255,256,1,0,0,0,256,258,1,0,0,0,257,251,1,0,0,0,257,258,1,0,0,0,258,268,1,0,0,0,259,261,7,3,0,0,260,262,7,4,0,0,261,260,1,0,0,0,261,262,1,0,0,0,262,264,1,0,0,0,263,265,7,2,0,0,264,263,1,0,0,0,265,266,1,0,0,0,266,264,1,0,0,0,266,267,1,0,0,0,267,269,1,0,0,0,268,259,1,0,0,0,268,269,1,0,0,0,269,293,1,0,0,0,270,271,5,48,0,0,271,275,5,120,0,0,272,273,5,48,0,0,273,275,5,88,0,0,274,270,1,0,0,0,274,272,1,0,0,0,275,277,1,0,0,0,276,278,7,5,0,0,277,276,1,0,0,0,278,279,1,0,0,0,279,277,1,0,0,0,279,280,1,0,0,0,280,293,1,0,0,0,281,282,5,48,0,0,282,286,5,111,0,0,283,284,5,48,0,0,284,286,5,79,0,0,285,281,1,0,0,0,285,283,1,0,0,0,286,288,1,0,0,0,287,289,7,6,0,0,288,287,1,0,0,0,289,290,1,0,0,0,290,288,1,0,0,0,290,291,1,0,0,0,291,293,1,0,0,0,292,247,1,0,0,0,292,274,1,0,0,0,292,285,1,0,0,0,293,10,1,0,0,0,294,300,5,34,0,0,295,299,8,7,0,0,296,297,5,92,0,0,297,299,9,0,0,0,298,295,1,0,0,0,298,296,1,0,0,0,299,302,1,0,0,0,300,298,1,0,0,0,300,301,1,0,0,0,301,303,1,0,0,0,302,300,1,0,0,0,303,304,5,34,0,0,304,12,1,0,0,0,305,306,5,116,0,0,306,307,5,121,0,0,307,308,5,112,0,0,308,309,5,101,0,0,309,14,1,0,0,0,310,311,5,105,0,0,311,312,5,110,0,0,312,313,5,116,0,0,313,314,5,101,0,0,314,315,5,114,0,0,315,316,5,102,0,0,316,317,5,97,0,0,317,318,5,99,0,0,318,319,5,101,0,0,319,16,1,0,0,0,320,321,5,101,0,0,321,322,5,120,0,0,322,323,5,116,0,0,323,324,5,101,0,0,324,325,5,110,0,0,325,326,5,100,0,0,326,327,5,115,0,0,327,18,1,0,0,0,328,329,5,102,0,0,329,330,5,111,0,0,330,331,5,114,0,0,331,332,5,97,0,0,332,333,5,108,0,0,333,334,5,108,0,0,334,20,1,0,0,0,335,336,5,109,0,0,336,337,5,117,0,0,337,22,1,0,0,0,338,339,5,73,0,0,339,340,5,110,0,0,340,341,5,116,0,0,341,24,1,0,0,0,342,343,5,68,0,0,343,344,5,111,0,0,344,345,5,117,0,0,345,346,5,98,0,0,346,347,5,108,0,0,347,348,5,101,0,0,348,26,1,0,0,0,349,350,5,66,0,0,350,351,5,111,0,0,351,352,5,111,0,0,352,353,5,108,0,0,353,28,1,0,0,0,354,355,5,83,0,0,355,356,5,116,0,0,356,357,5,114,0,0,357,358,5,105,0,0,358,359,5,110,0,0,359,360,5,103,0,0,360,30,1,0,0,0,361,362,5,84,0,0,362,363,5,111,0,0,363,364,5,112,0,0,364,32,1,0,0,0,365,366,5,66,0,0,366,367,5,111,0,0,367,368,5,116,0,0,368,34,1,0,0,0,369,370,5,84,0,0,370,371,5,114,0,0,371,372,5,97,0,0,372,373,5,105,0,0,373,374,5,116,0,0,374,36,1,0,0,0,375,376,5,116,0,0,376,377,5,114,0,0,377,378,5,97,0,0,378,379,5,105,0,0,379,380,5,116,0,0,380,38,1,0,0,0,381,382,5,82,0,0,382,383,5,101,0,0,383,384,5,102,0,0,384,40,1,0,0,0,385,386,5,114,0,0,386,387,5,101,0,0,387,388,5,102,0,0,388,42,1,0,0,0,389,390,5,105,0,0,390,391,5,109,0,0,391,392,5,112,0,0,392,393,5,108,0,0,393,394,5,101,0,0,394,395,5,109,0,0,395,396,5,101,0,0,396,397,5,110,0,0,397,398,5,116,0,0,398,399,5,115,0,0,399,44,1,0,0,0,400,401,5,105,0,0,401,402,5,110,0,0,402,403,5,104,0,0,403,404,5,101,0,0,404,405,5,114,0,0,405,406,5,105,0,0,406,407,5,116,0,0,407,408,5,115,0,0,408,46,1,0,0,0,409,410,5,110,0,0,410,411,5,101,0,0,411,412,5,119,0,0,412,48,1,0,0,0,413,414,5,102,0,0,414,415,5,105,0,0,415,416,5,120,0,0,416,50,1,0,0,0,417,418,5,105,0,0,418,419,5,102,0,0,419,52,1,0,0,0,420,421,5,116,0,0,421,422,5,104,0,0,422,423,5,101,0,0,423,424,5,110,0,0,424,54,1,0,0,0,425,426,5,101,0,0,426,427,5,108,0,0,427,428,5,115,0,0,428,429,5,101,0,0,429,56,1,0,0,0,430,431,5,108,0,0,431,432,5,101,0,0,432,433,5,116,0,0,433,58,1,0,0,0,434,435,5,108,0,0,435,436,5,101,0,0,436,437,5,116,0,0,437,438,5,114,0,0,438,439,5,101,0,0,439,440,5,99,0,0,440,60,1,0,0,0,441,442,5,111,0,0,442,443,5,112,0,0,443,444,5,101,0,0,444,445,5,110,0,0,445,62,1,0,0,0,446,447,5,105,0,0,447,448,5,110,0,0,448,64,1,0,0,0,449,450,5,119,0,0,450,451,5,105,0,0,451,452,5,116,0,0,452,453,5,104,0,0,453,66,1,0,0,0,454,455,5,116,0,0,455,456,5,111,0,0,456,457,5,83,0,0,457,458,5,116,0,0,458,459,5,114,0,0,459,460,5,105,0,0,460,461,5,110,0,0,461,462,5,103,0,0,462,68,1,0,0,0,463,464,5,102,0,0,464,465,5,111,0,0,465,466,5,108,0,0,466,467,5,100,0,0,467,70,1,0,0,0,468,469,5,117,0,0,469,470,5,110,0,0,470,471,5,102,0,0,471,472,5,111,0,0,472,473,5,108,0,0,473,474,5,100,0,0,474,72,1,0,0,0,475,476,5,111,0,0,476,477,5,118,0,0,477,478,5,101,0,0,478,479,5,114,0,0,479,480,5,114,0,0,480,481,5,105,0,0,481,482,5,100,0,0,482,483,5,101,0,0,483,74,1,0,0,0,484,485,5,116,0,0,485,486,5,114,0,0,486,487,5,117,0,0,487,488,5,101,0,0,488,76,1,0,0,0,489,490,5,102,0,0,490,491,5,97,0,0,491,492,5,108,0,0,492,493,5,115,0,0,493,494,5,101,0,0,494,78,1,0,0,0,495,496,5,117,0,0,496,497,5,110,0,0,497,498,5,100,0,0,498,499,5,101,0,0,499,500,5,102,0,0,500,501,5,105,0,0,501,502,5,110,0,0,502,503,5,101,0,0,503,504,5,100,0,0,504,80,1,0,0,0,505,509,7,8,0,0,506,509,3,83,40,0,507,509,5,39,0,0,508,505,1,0,0,0,508,506,1,0,0,0,508,507,1,0,0,0,509,82,1,0,0,0,510,511,5,95,0,0,511,84,1,0,0,0,512,516,7,9,0,0,513,515,3,81,39,0,514,513,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,516,517,1,0,0,0,517,86,1,0,0,0,518,516,1,0,0,0,519,523,7,10,0,0,520,522,3,81,39,0,521,520,1,0,0,0,522,525,1,0,0,0,523,521,1,0,0,0,523,524,1,0,0,0,524,88,1,0,0,0,525,523,1,0,0,0,526,527,5,40,0,0,527,528,5,41,0,0,528,90,1,0,0,0,529,530,5,92,0,0,530,92,1,0,0,0,531,532,5,47,0,0,532,533,5,92,0,0,533,94,1,0,0,0,534,535,5,92,0,0,535,536,5,45,0,0,536,96,1,0,0,0,537,538,5,92,0,0,538,539,5,92,0,0,539,98,1,0,0,0,540,541,5,45,0,0,541,542,5,62,0,0,542,100,1,0,0,0,543,544,5,61,0,0,544,545,5,62,0,0,545,102,1,0,0,0,546,547,5,60,0,0,547,548,5,45,0,0,548,104,1,0,0,0,549,550,5,38,0,0,550,106,1,0,0,0,551,552,5,43,0,0,552,108,1,0,0,0,553,554,5,45,0,0,554,110,1,0,0,0,555,556,5,42,0,0,556,112,1,0,0,0,557,558,5,47,0,0,558,114,1,0,0,0,559,560,5,37,0,0,560,116,1,0,0,0,561,562,5,8730,0,0,562,118,1,0,0,0,563,564,5,33,0,0,564,120,1,0,0,0,565,566,5,58,0,0,566,567,5,61,0,0,567,122,1,0,0,0,568,569,5,62,0,0,569,570,5,62,0,0,570,124,1,0,0,0,571,572,5,38,0,0,572,573,5,38,0,0,573,126,1,0,0,0,574,575,5,124,0,0,575,576,5,124,0,0,576,128,1,0,0,0,577,578,5,60,0,0,578,130,1,0,0,0,579,580,5,62,0,0,580,132,1,0,0,0,581,582,5,60,0,0,582,583,5,61,0,0,583,134,1,0,0,0,584,585,5,62,0,0,585,586,5,61,0,0,586,136,1,0,0,0,587,588,5,61,0,0,588,589,5,61,0,0,589,138,1,0,0,0,590,591,5,33,0,0,591,592,5,61,0,0,592,140,1,0,0,0,593,594,5,35,0,0,594,142,1,0,0,0,595,596,5,33,0,0,596,597,5,33,0,0,597,144,1,0,0,0,598,599,5,43,0,0,599,600,5,43,0,0,600,146,1,0,0,0,601,602,5,94,0,0,602,148,1,0,0,0,603,604,5,64,0,0,604,150,1,0,0,0,605,609,5,44,0,0,606,607,5,44,0,0,607,609,5,44,0,0,608,605,1,0,0,0,608,606,1,0,0,0,609,152,1,0,0,0,610,611,5,43,0,0,611,612,5,44,0,0,612,154,1,0,0,0,613,614,5,44,0,0,614,615,5,43,0,0,615,156,1,0,0,0,616,617,5,61,0,0,617,158,1,0,0,0,618,619,5,59,0,0,619,160,1,0,0,0,620,621,5,58,0,0,621,162,1,0,0,0,622,623,5,46,0,0,623,164,1,0,0,0,624,625,5,46,0,0,625,626,5,46,0,0,626,166,1,0,0,0,627,628,5,36,0,0,628,168,1,0,0,0,629,630,5,63,0,0,630,170,1,0,0,0,631,632,5,91,0,0,632,172,1,0,0,0,633,634,5,93,0,0,634,174,1,0,0,0,635,636,5,123,0,0,636,637,1,0,0,0,637,638,6,86,1,0,638,176,1,0,0,0,639,640,5,125,0,0,640,641,1,0,0,0,641,642,6,87,2,0,642,178,1,0,0,0,643,644,5,40,0,0,644,645,1,0,0,0,645,646,6,88,1,0,646,180,1,0,0,0,647,648,5,41,0,0,648,649,1,0,0,0,649,650,6,89,2,0,650,182,1,0,0,0,651,652,5,96,0,0,652,653,1,0,0,0,653,654,6,90,3,0,654,184,1,0,0,0,655,658,5,92,0,0,656,659,3,85,41,0,657,659,3,87,42,0,658,656,1,0,0,0,658,657,1,0,0,0,659,660,1,0,0,0,660,661,6,91,4,0,661,186,1,0,0,0,662,663,5,92,0,0,663,664,5,40,0,0,664,665,1,0,0,0,665,666,6,92,1,0,666,188,1,0,0,0,667,668,5,92,0,0,668,669,5,92,0,0,669,190,1,0,0,0,670,672,8,11,0,0,671,670,1,0,0,0,672,673,1,0,0,0,673,671,1,0,0,0,673,674,1,0,0,0,674,192,1,0,0,0,675,676,5,93,0,0,676,677,1,0,0,0,677,678,6,95,2,0,678,194,1,0,0,0,679,680,5,96,0,0,680,681,1,0,0,0,681,682,6,96,2,0,682,196,1,0,0,0,683,684,5,91,0,0,684,685,1,0,0,0,685,686,6,97,3,0,686,198,1,0,0,0,687,688,5,40,0,0,688,689,1,0,0,0,689,690,6,98,1,0,690,200,1,0,0,0,691,692,5,123,0,0,692,693,1,0,0,0,693,694,6,99,1,0,694,202,1,0,0,0,695,698,5,92,0,0,696,699,3,85,41,0,697,699,3,87,42,0,698,696,1,0,0,0,698,697,1,0,0,0,699,204,1,0,0,0,700,701,5,92,0,0,701,702,5,40,0,0,702,703,1,0,0,0,703,704,6,101,2,0,704,705,6,101,1,0,705,206,1,0,0,0,706,707,5,92,0,0,707,708,5,92,0,0,708,709,1,0,0,0,709,710,6,102,2,0,710,208,1,0,0,0,711,713,8,12,0,0,712,711,1,0,0,0,713,714,1,0,0,0,714,712,1,0,0,0,714,715,1,0,0,0,715,716,1,0,0,0,716,717,6,103,2,0,717,210,1,0,0,0,718,719,5,93,0,0,719,720,1,0,0,0,720,721,6,104,2,0,721,722,6,104,2,0,722,212,1,0,0,0,723,724,5,96,0,0,724,725,1,0,0,0,725,726,6,105,2,0,726,727,6,105,2,0,727,214,1,0,0,0,27,0,1,2,218,228,238,249,255,257,261,266,268,274,279,285,290,292,298,300,508,516,523,608,658,673,698,714,5,6,0,0,5,0,0,4,0,0,5,1,0,5,2,0]),RI=mI.decisionToState.map(((t,e)=>new pI.dfa.DFA(t,e)));class OI extends pI.Lexer{static grammarFileName="CPLexer.g4";static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static modeNames=["DEFAULT_MODE","DOC_MODE","CMD_MODE"];static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'Ref'","'ref'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","':='","'>>'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","IdChar","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];constructor(t){super(t),this._interp=new pI.atn.LexerATNSimulator(this,mI,RI,new pI.atn.PredictionContextCache)}}OI.EOF=pI.Token.EOF,OI.Whitespaces=1,OI.LineComment=2,OI.BlockComment=3,OI.IntLit=4,OI.StringLit=5,OI.Type=6,OI.Interface=7,OI.Extends=8,OI.ForAll=9,OI.Mu=10,OI.Int=11,OI.Double=12,OI.Bool=13,OI.String=14,OI.Top=15,OI.Bot=16,OI.TraitType=17,OI.Trait=18,OI.RefType=19,OI.Ref=20,OI.Implements=21,OI.Inherits=22,OI.New=23,OI.Fix=24,OI.If=25,OI.Then=26,OI.Else=27,OI.Let=28,OI.LetRec=29,OI.Open=30,OI.In=31,OI.With=32,OI.ToString=33,OI.Fold=34,OI.Unfold=35,OI.Override=36,OI.True_=37,OI.False_=38,OI.Undefined_=39,OI.Underscore=40,OI.LowerId=41,OI.UpperId=42,OI.Unit=43,OI.Backslash=44,OI.SlashBackslash=45,OI.BackslashMinus=46,OI.DoubleBackslashes=47,OI.Arrow=48,OI.FatArrow=49,OI.LeftArrow=50,OI.Intersect=51,OI.Plus=52,OI.Minus=53,OI.Asterisk=54,OI.Slash=55,OI.Modulo=56,OI.Sqrt=57,OI.Deref=58,OI.Walrus=59,OI.Seq=60,OI.And=61,OI.Or=62,OI.Less=63,OI.Greater=64,OI.LessEqual=65,OI.GreaterEqual=66,OI.Equal=67,OI.NotEqual=68,OI.Length=69,OI.Index=70,OI.Append=71,OI.Forward=72,OI.At=73,OI.Merge=74,OI.LeftistMerge=75,OI.RightistMerge=76,OI.Assign=77,OI.Semicolon=78,OI.Colon=79,OI.Dot=80,OI.DotDot=81,OI.Dollar=82,OI.Question=83,OI.BracketOpen=84,OI.BracketClose=85,OI.BraceOpen=86,OI.BraceClose=87,OI.ParenOpen=88,OI.ParenClose=89,OI.BacktickOpen=90,OI.Command=91,OI.Interpolation=92,OI.NewLine=93,OI.PlainText=94,OI.BracketCloseInDoc=95,OI.BacktickClose=96,OI.BracketOpenAsArg=97,OI.ParenOpenAsArg=98,OI.BraceOpenAsArg=99,OI.CommandAfterCmd=100,OI.InterpolationAfterCmd=101,OI.NewLineAfterCmd=102,OI.PlainTextAfterCmd=103,OI.BracketCloseAfterCmd=104,OI.BacktickCloseAfterCmd=105,OI.DOC_MODE=1,OI.CMD_MODE=2;class wI extends pI.tree.ParseTreeVisitor{visitProgram(t){return this.visitChildren(t)}visitDefinition(t){return this.visitChildren(t)}visitInterfaceDef(t){return this.visitChildren(t)}visitTypeDef(t){return this.visitChildren(t)}visitTermDef(t){return this.visitChildren(t)}visitType(t){return this.visitChildren(t)}visitBtype(t){return this.visitChildren(t)}visitAtype(t){return this.visitChildren(t)}visitRecordType(t){return this.visitChildren(t)}visitRecordTypeField(t){return this.visitChildren(t)}visitExpression(t){return this.visitChildren(t)}visitOpexpr(t){return this.visitChildren(t)}visitLexpr(t){return this.visitChildren(t)}visitLambda(t){return this.visitChildren(t)}visitBigLambda(t){return this.visitChildren(t)}visitLetIn(t){return this.visitChildren(t)}visitLetRec(t){return this.visitChildren(t)}visitOpenIn(t){return this.visitChildren(t)}visitIfElse(t){return this.visitChildren(t)}visitTrait(t){return this.visitChildren(t)}visitNewTrait(t){return this.visitChildren(t)}visitFixpoint(t){return this.visitChildren(t)}visitToStr(t){return this.visitChildren(t)}visitFold(t){return this.visitChildren(t)}visitUnfold(t){return this.visitChildren(t)}visitRef(t){return this.visitChildren(t)}visitFexpr(t){return this.visitChildren(t)}visitExcludexpr(t){return this.visitChildren(t)}visitRenamexpr(t){return this.visitChildren(t)}visitDotexpr(t){return this.visitChildren(t)}visitAexpr(t){return this.visitChildren(t)}visitArray(t){return this.visitChildren(t)}visitRecord(t){return this.visitChildren(t)}visitRecordField(t){return this.visitChildren(t)}visitMethodPattern(t){return this.visitChildren(t)}visitDefaultPattern(t){return this.visitChildren(t)}visitRecordUpdate(t){return this.visitChildren(t)}visitTypeArg(t){return this.visitChildren(t)}visitTypeParam(t){return this.visitChildren(t)}visitTermParam(t){return this.visitChildren(t)}visitWildcard(t){return this.visitChildren(t)}visitSelfAnno(t){return this.visitChildren(t)}visitSort(t){return this.visitChildren(t)}visitTypeNameDecl(t){return this.visitChildren(t)}visitTypeName(t){return this.visitChildren(t)}visitTermNameDecl(t){return this.visitChildren(t)}visitCtorName(t){return this.visitChildren(t)}visitTermName(t){return this.visitChildren(t)}visitLabelDecl(t){return this.visitChildren(t)}visitLabel(t){return this.visitChildren(t)}visitDocument(t){return this.visitChildren(t)}visitDocElement(t){return this.visitChildren(t)}visitCommand(t){return this.visitChildren(t)}visitInterpolation(t){return this.visitChildren(t)}visitNewline(t){return this.visitChildren(t)}visitPlaintext(t){return this.visitChildren(t)}visitDocArg(t){return this.visitChildren(t)}visitRecordArgField(t){return this.visitChildren(t)}}const xI=(new pI.atn.ATNDeserializer).deserialize([4,1,105,791,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,1,0,5,0,118,8,0,10,0,12,0,121,9,0,1,0,1,0,1,0,1,1,1,1,1,1,3,1,129,8,1,1,2,1,2,1,2,1,2,1,2,1,2,5,2,137,8,2,10,2,12,2,140,9,2,1,2,5,2,143,8,2,10,2,12,2,146,9,2,1,2,1,2,3,2,150,8,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,5,3,161,8,3,10,3,12,3,164,9,3,1,3,5,3,167,8,3,10,3,12,3,170,9,3,1,3,1,3,1,3,1,3,1,4,1,4,5,4,178,8,4,10,4,12,4,181,9,4,1,4,5,4,184,8,4,10,4,12,4,187,9,4,1,4,1,4,3,4,191,8,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,4,5,200,8,5,11,5,12,5,201,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,3,5,217,8,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,225,8,5,10,5,12,5,228,9,5,3,5,230,8,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,241,8,5,10,5,12,5,244,9,5,1,6,1,6,1,6,1,6,1,6,5,6,251,8,6,10,6,12,6,254,9,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,3,7,273,8,7,1,8,1,8,1,8,1,8,5,8,279,8,8,10,8,12,8,282,9,8,1,8,3,8,285,8,8,1,8,1,8,1,9,1,9,3,9,291,8,9,1,9,1,9,1,9,1,10,1,10,1,10,3,10,299,8,10,1,11,1,11,1,11,1,11,3,11,305,8,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,5,11,340,8,11,10,11,12,11,343,9,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,3,12,359,8,12,1,13,1,13,4,13,363,8,13,11,13,12,13,364,1,13,1,13,1,13,1,14,1,14,4,14,372,8,14,11,14,12,14,373,1,14,1,14,1,14,1,15,1,15,1,15,5,15,382,8,15,10,15,12,15,385,9,15,1,15,5,15,388,8,15,10,15,12,15,391,9,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,5,16,401,8,16,10,16,12,16,404,9,16,1,16,5,16,407,8,16,10,16,12,16,410,9,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,3,19,433,8,19,1,19,1,19,3,19,437,8,19,1,19,1,19,3,19,441,8,19,1,19,1,19,1,19,1,19,3,19,447,8,19,1,19,1,19,3,19,451,8,19,1,19,1,19,3,19,455,8,19,1,19,1,19,3,19,459,8,19,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,25,1,25,1,25,1,26,1,26,3,26,487,8,26,1,26,1,26,5,26,491,8,26,10,26,12,26,494,9,26,1,27,1,27,1,27,1,27,1,27,3,27,501,8,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,3,28,510,8,28,1,29,1,29,1,29,5,29,515,8,29,10,29,12,29,518,9,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,3,30,537,8,30,1,31,1,31,1,31,1,31,5,31,543,8,31,10,31,12,31,546,9,31,1,31,3,31,549,8,31,1,31,1,31,1,32,1,32,1,32,1,32,3,32,557,8,32,1,32,1,32,5,32,561,8,32,10,32,12,32,564,9,32,1,32,1,32,1,32,3,32,569,8,32,3,32,571,8,32,1,32,1,32,1,33,3,33,576,8,33,1,33,3,33,579,8,33,1,33,1,33,5,33,583,8,33,10,33,12,33,586,9,33,1,33,1,33,1,33,1,34,3,34,592,8,34,1,34,1,34,1,34,3,34,597,8,34,1,34,1,34,1,34,5,34,602,8,34,10,34,12,34,605,9,34,1,34,1,34,1,34,1,34,5,34,611,8,34,10,34,12,34,614,9,34,1,34,1,34,1,34,1,35,1,35,3,35,621,8,35,1,35,1,35,1,35,5,35,626,8,35,10,35,12,35,629,9,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,5,36,643,8,36,10,36,12,36,646,9,36,1,36,1,36,1,36,1,36,3,36,652,8,36,1,36,1,36,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,3,38,666,8,38,1,39,1,39,1,39,1,39,1,39,3,39,673,8,39,1,39,1,39,1,39,1,39,1,39,3,39,680,8,39,1,40,1,40,1,40,1,40,1,40,1,40,1,40,5,40,689,8,40,10,40,12,40,692,9,40,1,40,1,40,1,40,1,41,1,41,1,41,1,41,3,41,701,8,41,1,41,1,41,1,42,1,42,1,42,3,42,708,8,42,1,43,1,43,1,44,1,44,1,45,1,45,1,46,1,46,1,47,1,47,1,48,1,48,1,49,1,49,1,50,1,50,5,50,726,8,50,10,50,12,50,729,9,50,1,50,1,50,1,51,1,51,1,51,1,51,3,51,737,8,51,1,52,1,52,5,52,741,8,52,10,52,12,52,744,9,52,1,53,1,53,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,5,56,756,8,56,10,56,12,56,759,9,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,5,56,770,8,56,10,56,12,56,773,9,56,1,56,3,56,776,8,56,1,56,3,56,779,8,56,1,57,1,57,5,57,783,8,57,10,57,12,57,786,9,57,1,57,1,57,1,57,1,57,0,2,10,22,58,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,0,12,3,0,53,53,57,58,69,69,1,0,54,56,1,0,52,53,1,0,63,68,2,0,46,46,74,76,1,0,41,42,2,0,96,96,105,105,2,0,91,91,100,100,2,0,92,92,101,101,2,0,93,93,102,102,2,0,94,94,103,103,2,0,95,95,104,104,863,0,119,1,0,0,0,2,128,1,0,0,0,4,130,1,0,0,0,6,154,1,0,0,0,8,175,1,0,0,0,10,229,1,0,0,0,12,245,1,0,0,0,14,272,1,0,0,0,16,274,1,0,0,0,18,288,1,0,0,0,20,295,1,0,0,0,22,304,1,0,0,0,24,358,1,0,0,0,26,360,1,0,0,0,28,369,1,0,0,0,30,378,1,0,0,0,32,397,1,0,0,0,34,418,1,0,0,0,36,423,1,0,0,0,38,458,1,0,0,0,40,460,1,0,0,0,42,463,1,0,0,0,44,470,1,0,0,0,46,473,1,0,0,0,48,477,1,0,0,0,50,481,1,0,0,0,52,486,1,0,0,0,54,495,1,0,0,0,56,502,1,0,0,0,58,511,1,0,0,0,60,536,1,0,0,0,62,538,1,0,0,0,64,552,1,0,0,0,66,575,1,0,0,0,68,591,1,0,0,0,70,620,1,0,0,0,72,633,1,0,0,0,74,655,1,0,0,0,76,665,1,0,0,0,78,679,1,0,0,0,80,681,1,0,0,0,82,696,1,0,0,0,84,704,1,0,0,0,86,709,1,0,0,0,88,711,1,0,0,0,90,713,1,0,0,0,92,715,1,0,0,0,94,717,1,0,0,0,96,719,1,0,0,0,98,721,1,0,0,0,100,723,1,0,0,0,102,736,1,0,0,0,104,738,1,0,0,0,106,745,1,0,0,0,108,749,1,0,0,0,110,751,1,0,0,0,112,778,1,0,0,0,114,780,1,0,0,0,116,118,3,2,1,0,117,116,1,0,0,0,118,121,1,0,0,0,119,117,1,0,0,0,119,120,1,0,0,0,120,122,1,0,0,0,121,119,1,0,0,0,122,123,3,20,10,0,123,124,5,0,0,1,124,1,1,0,0,0,125,129,3,4,2,0,126,129,3,6,3,0,127,129,3,8,4,0,128,125,1,0,0,0,128,126,1,0,0,0,128,127,1,0,0,0,129,3,1,0,0,0,130,131,5,7,0,0,131,138,3,86,43,0,132,133,5,63,0,0,133,134,3,86,43,0,134,135,5,64,0,0,135,137,1,0,0,0,136,132,1,0,0,0,137,140,1,0,0,0,138,136,1,0,0,0,138,139,1,0,0,0,139,144,1,0,0,0,140,138,1,0,0,0,141,143,3,86,43,0,142,141,1,0,0,0,143,146,1,0,0,0,144,142,1,0,0,0,144,145,1,0,0,0,145,149,1,0,0,0,146,144,1,0,0,0,147,148,5,8,0,0,148,150,3,12,6,0,149,147,1,0,0,0,149,150,1,0,0,0,150,151,1,0,0,0,151,152,3,16,8,0,152,153,5,78,0,0,153,5,1,0,0,0,154,155,5,6,0,0,155,162,3,86,43,0,156,157,5,63,0,0,157,158,3,86,43,0,158,159,5,64,0,0,159,161,1,0,0,0,160,156,1,0,0,0,161,164,1,0,0,0,162,160,1,0,0,0,162,163,1,0,0,0,163,168,1,0,0,0,164,162,1,0,0,0,165,167,3,86,43,0,166,165,1,0,0,0,167,170,1,0,0,0,168,166,1,0,0,0,168,169,1,0,0,0,169,171,1,0,0,0,170,168,1,0,0,0,171,172,5,77,0,0,172,173,3,10,5,0,173,174,5,78,0,0,174,7,1,0,0,0,175,179,3,90,45,0,176,178,3,76,38,0,177,176,1,0,0,0,178,181,1,0,0,0,179,177,1,0,0,0,179,180,1,0,0,0,180,185,1,0,0,0,181,179,1,0,0,0,182,184,3,78,39,0,183,182,1,0,0,0,184,187,1,0,0,0,185,183,1,0,0,0,185,186,1,0,0,0,186,190,1,0,0,0,187,185,1,0,0,0,188,189,5,79,0,0,189,191,3,10,5,0,190,188,1,0,0,0,190,191,1,0,0,0,191,192,1,0,0,0,192,193,5,77,0,0,193,194,3,20,10,0,194,195,5,78,0,0,195,9,1,0,0,0,196,197,6,5,-1,0,197,199,5,9,0,0,198,200,3,76,38,0,199,198,1,0,0,0,200,201,1,0,0,0,201,199,1,0,0,0,201,202,1,0,0,0,202,203,1,0,0,0,203,204,5,80,0,0,204,205,3,10,5,5,205,230,1,0,0,0,206,207,5,10,0,0,207,208,3,86,43,0,208,209,5,80,0,0,209,210,3,10,5,4,210,230,1,0,0,0,211,212,5,17,0,0,212,213,5,63,0,0,213,216,3,10,5,0,214,215,5,49,0,0,215,217,3,10,5,0,216,214,1,0,0,0,216,217,1,0,0,0,217,218,1,0,0,0,218,219,5,64,0,0,219,230,1,0,0,0,220,221,5,19,0,0,221,230,3,12,6,0,222,226,3,12,6,0,223,225,3,12,6,0,224,223,1,0,0,0,225,228,1,0,0,0,226,224,1,0,0,0,226,227,1,0,0,0,227,230,1,0,0,0,228,226,1,0,0,0,229,196,1,0,0,0,229,206,1,0,0,0,229,211,1,0,0,0,229,220,1,0,0,0,229,222,1,0,0,0,230,242,1,0,0,0,231,232,10,8,0,0,232,233,5,51,0,0,233,241,3,10,5,9,234,235,10,7,0,0,235,236,5,44,0,0,236,241,3,10,5,8,237,238,10,6,0,0,238,239,5,48,0,0,239,241,3,10,5,6,240,231,1,0,0,0,240,234,1,0,0,0,240,237,1,0,0,0,241,244,1,0,0,0,242,240,1,0,0,0,242,243,1,0,0,0,243,11,1,0,0,0,244,242,1,0,0,0,245,252,3,14,7,0,246,247,5,63,0,0,247,248,3,84,42,0,248,249,5,64,0,0,249,251,1,0,0,0,250,246,1,0,0,0,251,254,1,0,0,0,252,250,1,0,0,0,252,253,1,0,0,0,253,13,1,0,0,0,254,252,1,0,0,0,255,273,5,11,0,0,256,273,5,12,0,0,257,273,5,13,0,0,258,273,5,14,0,0,259,273,5,43,0,0,260,273,5,15,0,0,261,273,5,16,0,0,262,273,3,88,44,0,263,273,3,16,8,0,264,265,5,84,0,0,265,266,3,10,5,0,266,267,5,85,0,0,267,273,1,0,0,0,268,269,5,88,0,0,269,270,3,10,5,0,270,271,5,89,0,0,271,273,1,0,0,0,272,255,1,0,0,0,272,256,1,0,0,0,272,257,1,0,0,0,272,258,1,0,0,0,272,259,1,0,0,0,272,260,1,0,0,0,272,261,1,0,0,0,272,262,1,0,0,0,272,263,1,0,0,0,272,264,1,0,0,0,272,268,1,0,0,0,273,15,1,0,0,0,274,280,5,86,0,0,275,276,3,18,9,0,276,277,5,78,0,0,277,279,1,0,0,0,278,275,1,0,0,0,279,282,1,0,0,0,280,278,1,0,0,0,280,281,1,0,0,0,281,284,1,0,0,0,282,280,1,0,0,0,283,285,3,18,9,0,284,283,1,0,0,0,284,285,1,0,0,0,285,286,1,0,0,0,286,287,5,87,0,0,287,17,1,0,0,0,288,290,3,96,48,0,289,291,5,83,0,0,290,289,1,0,0,0,290,291,1,0,0,0,291,292,1,0,0,0,292,293,5,79,0,0,293,294,3,10,5,0,294,19,1,0,0,0,295,298,3,22,11,0,296,297,5,79,0,0,297,299,3,10,5,0,298,296,1,0,0,0,298,299,1,0,0,0,299,21,1,0,0,0,300,301,6,11,-1,0,301,305,3,24,12,0,302,303,7,0,0,0,303,305,3,22,11,12,304,300,1,0,0,0,304,302,1,0,0,0,305,341,1,0,0,0,306,307,10,11,0,0,307,308,5,70,0,0,308,340,3,22,11,12,309,310,10,10,0,0,310,311,7,1,0,0,311,340,3,22,11,11,312,313,10,9,0,0,313,314,7,2,0,0,314,340,3,22,11,10,315,316,10,8,0,0,316,317,5,71,0,0,317,340,3,22,11,9,318,319,10,7,0,0,319,320,7,3,0,0,320,340,3,22,11,8,321,322,10,6,0,0,322,323,5,61,0,0,323,340,3,22,11,6,324,325,10,5,0,0,325,326,5,62,0,0,326,340,3,22,11,5,327,328,10,4,0,0,328,329,5,72,0,0,329,340,3,22,11,5,330,331,10,3,0,0,331,332,7,4,0,0,332,340,3,22,11,4,333,334,10,2,0,0,334,335,5,59,0,0,335,340,3,22,11,3,336,337,10,1,0,0,337,338,5,60,0,0,338,340,3,22,11,2,339,306,1,0,0,0,339,309,1,0,0,0,339,312,1,0,0,0,339,315,1,0,0,0,339,318,1,0,0,0,339,321,1,0,0,0,339,324,1,0,0,0,339,327,1,0,0,0,339,330,1,0,0,0,339,333,1,0,0,0,339,336,1,0,0,0,340,343,1,0,0,0,341,339,1,0,0,0,341,342,1,0,0,0,342,23,1,0,0,0,343,341,1,0,0,0,344,359,3,52,26,0,345,359,3,26,13,0,346,359,3,28,14,0,347,359,3,30,15,0,348,359,3,32,16,0,349,359,3,34,17,0,350,359,3,36,18,0,351,359,3,38,19,0,352,359,3,40,20,0,353,359,3,42,21,0,354,359,3,44,22,0,355,359,3,46,23,0,356,359,3,48,24,0,357,359,3,50,25,0,358,344,1,0,0,0,358,345,1,0,0,0,358,346,1,0,0,0,358,347,1,0,0,0,358,348,1,0,0,0,358,349,1,0,0,0,358,350,1,0,0,0,358,351,1,0,0,0,358,352,1,0,0,0,358,353,1,0,0,0,358,354,1,0,0,0,358,355,1,0,0,0,358,356,1,0,0,0,358,357,1,0,0,0,359,25,1,0,0,0,360,362,5,44,0,0,361,363,3,78,39,0,362,361,1,0,0,0,363,364,1,0,0,0,364,362,1,0,0,0,364,365,1,0,0,0,365,366,1,0,0,0,366,367,5,48,0,0,367,368,3,20,10,0,368,27,1,0,0,0,369,371,5,45,0,0,370,372,3,76,38,0,371,370,1,0,0,0,372,373,1,0,0,0,373,371,1,0,0,0,373,374,1,0,0,0,374,375,1,0,0,0,375,376,5,80,0,0,376,377,3,20,10,0,377,29,1,0,0,0,378,379,5,28,0,0,379,383,3,90,45,0,380,382,3,76,38,0,381,380,1,0,0,0,382,385,1,0,0,0,383,381,1,0,0,0,383,384,1,0,0,0,384,389,1,0,0,0,385,383,1,0,0,0,386,388,3,78,39,0,387,386,1,0,0,0,388,391,1,0,0,0,389,387,1,0,0,0,389,390,1,0,0,0,390,392,1,0,0,0,391,389,1,0,0,0,392,393,5,77,0,0,393,394,3,20,10,0,394,395,5,31,0,0,395,396,3,20,10,0,396,31,1,0,0,0,397,398,5,29,0,0,398,402,3,90,45,0,399,401,3,76,38,0,400,399,1,0,0,0,401,404,1,0,0,0,402,400,1,0,0,0,402,403,1,0,0,0,403,408,1,0,0,0,404,402,1,0,0,0,405,407,3,78,39,0,406,405,1,0,0,0,407,410,1,0,0,0,408,406,1,0,0,0,408,409,1,0,0,0,409,411,1,0,0,0,410,408,1,0,0,0,411,412,5,79,0,0,412,413,3,10,5,0,413,414,5,77,0,0,414,415,3,20,10,0,415,416,5,31,0,0,416,417,3,20,10,0,417,33,1,0,0,0,418,419,5,30,0,0,419,420,3,20,10,0,420,421,5,31,0,0,421,422,3,20,10,0,422,35,1,0,0,0,423,424,5,25,0,0,424,425,3,20,10,0,425,426,5,26,0,0,426,427,3,20,10,0,427,428,5,27,0,0,428,429,3,20,10,0,429,37,1,0,0,0,430,432,5,18,0,0,431,433,3,82,41,0,432,431,1,0,0,0,432,433,1,0,0,0,433,436,1,0,0,0,434,435,5,21,0,0,435,437,3,10,5,0,436,434,1,0,0,0,436,437,1,0,0,0,437,440,1,0,0,0,438,439,5,22,0,0,439,441,3,22,11,0,440,438,1,0,0,0,440,441,1,0,0,0,441,442,1,0,0,0,442,443,5,49,0,0,443,459,3,22,11,0,444,446,5,18,0,0,445,447,3,82,41,0,446,445,1,0,0,0,446,447,1,0,0,0,447,450,1,0,0,0,448,449,5,22,0,0,449,451,3,22,11,0,450,448,1,0,0,0,450,451,1,0,0,0,451,454,1,0,0,0,452,453,5,21,0,0,453,455,3,10,5,0,454,452,1,0,0,0,454,455,1,0,0,0,455,456,1,0,0,0,456,457,5,49,0,0,457,459,3,22,11,0,458,430,1,0,0,0,458,444,1,0,0,0,459,39,1,0,0,0,460,461,5,23,0,0,461,462,3,22,11,0,462,41,1,0,0,0,463,464,5,24,0,0,464,465,3,90,45,0,465,466,5,79,0,0,466,467,3,10,5,0,467,468,5,80,0,0,468,469,3,22,11,0,469,43,1,0,0,0,470,471,5,33,0,0,471,472,3,58,29,0,472,45,1,0,0,0,473,474,5,34,0,0,474,475,3,74,37,0,475,476,3,58,29,0,476,47,1,0,0,0,477,478,5,35,0,0,478,479,3,74,37,0,479,480,3,58,29,0,480,49,1,0,0,0,481,482,5,20,0,0,482,483,3,58,29,0,483,51,1,0,0,0,484,487,3,92,46,0,485,487,3,54,27,0,486,484,1,0,0,0,486,485,1,0,0,0,487,492,1,0,0,0,488,491,3,54,27,0,489,491,3,74,37,0,490,488,1,0,0,0,490,489,1,0,0,0,491,494,1,0,0,0,492,490,1,0,0,0,492,493,1,0,0,0,493,53,1,0,0,0,494,492,1,0,0,0,495,500,3,56,28,0,496,497,5,47,0,0,497,501,3,12,6,0,498,499,5,44,0,0,499,501,3,98,49,0,500,496,1,0,0,0,500,498,1,0,0,0,500,501,1,0,0,0,501,55,1,0,0,0,502,509,3,58,29,0,503,504,5,84,0,0,504,505,3,98,49,0,505,506,5,50,0,0,506,507,3,96,48,0,507,508,5,85,0,0,508,510,1,0,0,0,509,503,1,0,0,0,509,510,1,0,0,0,510,57,1,0,0,0,511,516,3,60,30,0,512,513,5,80,0,0,513,515,3,98,49,0,514,512,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,516,517,1,0,0,0,517,59,1,0,0,0,518,516,1,0,0,0,519,537,3,94,47,0,520,537,5,4,0,0,521,537,5,5,0,0,522,537,3,100,50,0,523,537,5,43,0,0,524,537,5,37,0,0,525,537,5,38,0,0,526,537,5,39,0,0,527,537,3,62,31,0,528,537,3,64,32,0,529,537,3,72,36,0,530,531,5,82,0,0,531,537,3,92,46,0,532,533,5,88,0,0,533,534,3,20,10,0,534,535,5,89,0,0,535,537,1,0,0,0,536,519,1,0,0,0,536,520,1,0,0,0,536,521,1,0,0,0,536,522,1,0,0,0,536,523,1,0,0,0,536,524,1,0,0,0,536,525,1,0,0,0,536,526,1,0,0,0,536,527,1,0,0,0,536,528,1,0,0,0,536,529,1,0,0,0,536,530,1,0,0,0,536,532,1,0,0,0,537,61,1,0,0,0,538,544,5,84,0,0,539,540,3,20,10,0,540,541,5,78,0,0,541,543,1,0,0,0,542,539,1,0,0,0,543,546,1,0,0,0,544,542,1,0,0,0,544,545,1,0,0,0,545,548,1,0,0,0,546,544,1,0,0,0,547,549,3,20,10,0,548,547,1,0,0,0,548,549,1,0,0,0,549,550,1,0,0,0,550,551,5,85,0,0,551,63,1,0,0,0,552,562,5,86,0,0,553,557,3,66,33,0,554,557,3,68,34,0,555,557,3,70,35,0,556,553,1,0,0,0,556,554,1,0,0,0,556,555,1,0,0,0,557,558,1,0,0,0,558,559,5,78,0,0,559,561,1,0,0,0,560,556,1,0,0,0,561,564,1,0,0,0,562,560,1,0,0,0,562,563,1,0,0,0,563,570,1,0,0,0,564,562,1,0,0,0,565,569,3,66,33,0,566,569,3,68,34,0,567,569,3,70,35,0,568,565,1,0,0,0,568,566,1,0,0,0,568,567,1,0,0,0,569,571,1,0,0,0,570,568,1,0,0,0,570,571,1,0,0,0,571,572,1,0,0,0,572,573,5,87,0,0,573,65,1,0,0,0,574,576,5,36,0,0,575,574,1,0,0,0,575,576,1,0,0,0,576,578,1,0,0,0,577,579,3,82,41,0,578,577,1,0,0,0,578,579,1,0,0,0,579,580,1,0,0,0,580,584,3,96,48,0,581,583,3,78,39,0,582,581,1,0,0,0,583,586,1,0,0,0,584,582,1,0,0,0,584,585,1,0,0,0,585,587,1,0,0,0,586,584,1,0,0,0,587,588,5,77,0,0,588,589,3,20,10,0,589,67,1,0,0,0,590,592,5,36,0,0,591,590,1,0,0,0,591,592,1,0,0,0,592,596,1,0,0,0,593,594,3,82,41,0,594,595,5,73,0,0,595,597,1,0,0,0,596,593,1,0,0,0,596,597,1,0,0,0,597,598,1,0,0,0,598,599,5,88,0,0,599,603,3,96,48,0,600,602,3,78,39,0,601,600,1,0,0,0,602,605,1,0,0,0,603,601,1,0,0,0,603,604,1,0,0,0,604,606,1,0,0,0,605,603,1,0,0,0,606,607,5,89,0,0,607,608,5,80,0,0,608,612,3,96,48,0,609,611,3,78,39,0,610,609,1,0,0,0,611,614,1,0,0,0,612,610,1,0,0,0,612,613,1,0,0,0,613,615,1,0,0,0,614,612,1,0,0,0,615,616,5,77,0,0,616,617,3,20,10,0,617,69,1,0,0,0,618,621,5,40,0,0,619,621,3,82,41,0,620,618,1,0,0,0,620,619,1,0,0,0,621,622,1,0,0,0,622,623,5,80,0,0,623,627,3,96,48,0,624,626,3,78,39,0,625,624,1,0,0,0,626,629,1,0,0,0,627,625,1,0,0,0,627,628,1,0,0,0,628,630,1,0,0,0,629,627,1,0,0,0,630,631,5,77,0,0,631,632,3,20,10,0,632,71,1,0,0,0,633,634,5,86,0,0,634,635,3,20,10,0,635,644,5,32,0,0,636,637,3,96,48,0,637,638,5,77,0,0,638,639,3,20,10,0,639,640,1,0,0,0,640,641,5,78,0,0,641,643,1,0,0,0,642,636,1,0,0,0,643,646,1,0,0,0,644,642,1,0,0,0,644,645,1,0,0,0,645,651,1,0,0,0,646,644,1,0,0,0,647,648,3,96,48,0,648,649,5,77,0,0,649,650,3,20,10,0,650,652,1,0,0,0,651,647,1,0,0,0,651,652,1,0,0,0,652,653,1,0,0,0,653,654,5,87,0,0,654,73,1,0,0,0,655,656,5,73,0,0,656,657,3,12,6,0,657,75,1,0,0,0,658,666,3,86,43,0,659,660,5,88,0,0,660,661,3,86,43,0,661,662,5,54,0,0,662,663,3,10,5,0,663,664,5,89,0,0,664,666,1,0,0,0,665,658,1,0,0,0,665,659,1,0,0,0,666,77,1,0,0,0,667,680,3,90,45,0,668,680,5,40,0,0,669,672,5,88,0,0,670,673,3,90,45,0,671,673,5,40,0,0,672,670,1,0,0,0,672,671,1,0,0,0,673,674,1,0,0,0,674,675,5,79,0,0,675,676,3,10,5,0,676,677,5,89,0,0,677,680,1,0,0,0,678,680,3,80,40,0,679,667,1,0,0,0,679,668,1,0,0,0,679,669,1,0,0,0,679,678,1,0,0,0,680,79,1,0,0,0,681,690,5,86,0,0,682,683,3,96,48,0,683,684,5,77,0,0,684,685,3,20,10,0,685,686,1,0,0,0,686,687,5,78,0,0,687,689,1,0,0,0,688,682,1,0,0,0,689,692,1,0,0,0,690,688,1,0,0,0,690,691,1,0,0,0,691,693,1,0,0,0,692,690,1,0,0,0,693,694,5,81,0,0,694,695,5,87,0,0,695,81,1,0,0,0,696,697,5,84,0,0,697,700,3,90,45,0,698,699,5,79,0,0,699,701,3,10,5,0,700,698,1,0,0,0,700,701,1,0,0,0,701,702,1,0,0,0,702,703,5,85,0,0,703,83,1,0,0,0,704,707,3,10,5,0,705,706,5,49,0,0,706,708,3,10,5,0,707,705,1,0,0,0,707,708,1,0,0,0,708,85,1,0,0,0,709,710,5,42,0,0,710,87,1,0,0,0,711,712,5,42,0,0,712,89,1,0,0,0,713,714,5,41,0,0,714,91,1,0,0,0,715,716,5,42,0,0,716,93,1,0,0,0,717,718,7,5,0,0,718,95,1,0,0,0,719,720,7,5,0,0,720,97,1,0,0,0,721,722,7,5,0,0,722,99,1,0,0,0,723,727,5,90,0,0,724,726,3,102,51,0,725,724,1,0,0,0,726,729,1,0,0,0,727,725,1,0,0,0,727,728,1,0,0,0,728,730,1,0,0,0,729,727,1,0,0,0,730,731,7,6,0,0,731,101,1,0,0,0,732,737,3,104,52,0,733,737,3,106,53,0,734,737,3,108,54,0,735,737,3,110,55,0,736,732,1,0,0,0,736,733,1,0,0,0,736,734,1,0,0,0,736,735,1,0,0,0,737,103,1,0,0,0,738,742,7,7,0,0,739,741,3,112,56,0,740,739,1,0,0,0,741,744,1,0,0,0,742,740,1,0,0,0,742,743,1,0,0,0,743,105,1,0,0,0,744,742,1,0,0,0,745,746,7,8,0,0,746,747,3,20,10,0,747,748,5,89,0,0,748,107,1,0,0,0,749,750,7,9,0,0,750,109,1,0,0,0,751,752,7,10,0,0,752,111,1,0,0,0,753,757,5,97,0,0,754,756,3,102,51,0,755,754,1,0,0,0,756,759,1,0,0,0,757,755,1,0,0,0,757,758,1,0,0,0,758,760,1,0,0,0,759,757,1,0,0,0,760,779,7,11,0,0,761,762,5,98,0,0,762,763,3,20,10,0,763,764,5,89,0,0,764,779,1,0,0,0,765,771,5,99,0,0,766,767,3,114,57,0,767,768,5,78,0,0,768,770,1,0,0,0,769,766,1,0,0,0,770,773,1,0,0,0,771,769,1,0,0,0,771,772,1,0,0,0,772,775,1,0,0,0,773,771,1,0,0,0,774,776,3,114,57,0,775,774,1,0,0,0,775,776,1,0,0,0,776,777,1,0,0,0,777,779,5,87,0,0,778,753,1,0,0,0,778,761,1,0,0,0,778,765,1,0,0,0,779,113,1,0,0,0,780,784,3,96,48,0,781,783,3,78,39,0,782,781,1,0,0,0,783,786,1,0,0,0,784,782,1,0,0,0,784,785,1,0,0,0,785,787,1,0,0,0,786,784,1,0,0,0,787,788,5,77,0,0,788,789,3,20,10,0,789,115,1,0,0,0,77,119,128,138,144,149,162,168,179,185,190,201,216,226,229,240,242,252,272,280,284,290,298,304,339,341,358,364,373,383,389,402,408,432,436,440,446,450,454,458,486,490,492,500,509,516,536,544,548,556,562,568,570,575,578,584,591,596,603,612,620,627,644,651,665,672,679,690,700,707,727,736,742,757,771,775,778,784]),yI=xI.decisionToState.map(((t,e)=>new pI.dfa.DFA(t,e))),bI=new pI.atn.PredictionContextCache;class kI extends pI.Parser{static grammarFileName="CPParser.g4";static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'Ref'","'ref'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","':='","'>>'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["program","definition","interfaceDef","typeDef","termDef","type","btype","atype","recordType","recordTypeField","expression","opexpr","lexpr","lambda","bigLambda","letIn","letRec","openIn","ifElse","trait","newTrait","fixpoint","toStr","fold","unfold","ref","fexpr","excludexpr","renamexpr","dotexpr","aexpr","array","record","recordField","methodPattern","defaultPattern","recordUpdate","typeArg","typeParam","termParam","wildcard","selfAnno","sort","typeNameDecl","typeName","termNameDecl","ctorName","termName","labelDecl","label","document","docElement","command","interpolation","newline","plaintext","docArg","recordArgField"];constructor(t){super(t),this._interp=new pI.atn.ParserATNSimulator(this,xI,yI,bI),this.ruleNames=kI.ruleNames,this.literalNames=kI.literalNames,this.symbolicNames=kI.symbolicNames}sempred(t,e,n){switch(e){case 5:return this.type_sempred(t,n);case 11:return this.opexpr_sempred(t,n);default:throw"No predicate with index:"+e}}type_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6);default:throw"No predicate with index:"+e}}opexpr_sempred(t,e){switch(e){case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,10);case 5:return this.precpred(this._ctx,9);case 6:return this.precpred(this._ctx,8);case 7:return this.precpred(this._ctx,7);case 8:return this.precpred(this._ctx,6);case 9:return this.precpred(this._ctx,5);case 10:return this.precpred(this._ctx,4);case 11:return this.precpred(this._ctx,3);case 12:return this.precpred(this._ctx,2);case 13:return this.precpred(this._ctx,1);default:throw"No predicate with index:"+e}}program(){let t=new CI(this,this._ctx,this.state);this.enterRule(t,0,kI.RULE_program);try{this.enterOuterAlt(t,1),this.state=119,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,0,this._ctx);2!=e&&e!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=116,this.definition()),this.state=121,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,0,this._ctx);this.state=122,this.expression(),this.state=123,this.match(kI.EOF)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}definition(){let t=new TI(this,this._ctx,this.state);this.enterRule(t,2,kI.RULE_definition);try{switch(this.state=128,this._errHandler.sync(this),this._input.LA(1)){case 7:this.enterOuterAlt(t,1),this.state=125,this.interfaceDef();break;case 6:this.enterOuterAlt(t,2),this.state=126,this.typeDef();break;case 41:this.enterOuterAlt(t,3),this.state=127,this.termDef();break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interfaceDef(){let t=new SI(this,this._ctx,this.state);this.enterRule(t,4,kI.RULE_interfaceDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=130,this.match(kI.Interface),this.state=131,this.typeNameDecl(),this.state=138,this._errHandler.sync(this),e=this._input.LA(1);63===e;)this.state=132,this.match(kI.Less),this.state=133,this.typeNameDecl(),this.state=134,this.match(kI.Greater),this.state=140,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=144,this._errHandler.sync(this),e=this._input.LA(1);42===e;)this.state=141,this.typeNameDecl(),this.state=146,this._errHandler.sync(this),e=this._input.LA(1);this.state=149,this._errHandler.sync(this),8===(e=this._input.LA(1))&&(this.state=147,this.match(kI.Extends),this.state=148,this.btype()),this.state=151,this.recordType(),this.state=152,this.match(kI.Semicolon)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeDef(){let t=new AI(this,this._ctx,this.state);this.enterRule(t,6,kI.RULE_typeDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=154,this.match(kI.Type),this.state=155,this.typeNameDecl(),this.state=162,this._errHandler.sync(this),e=this._input.LA(1);63===e;)this.state=156,this.match(kI.Less),this.state=157,this.typeNameDecl(),this.state=158,this.match(kI.Greater),this.state=164,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=168,this._errHandler.sync(this),e=this._input.LA(1);42===e;)this.state=165,this.typeNameDecl(),this.state=170,this._errHandler.sync(this),e=this._input.LA(1);this.state=171,this.match(kI.Assign),this.state=172,this.type(0),this.state=173,this.match(kI.Semicolon)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termDef(){let t=new PI(this,this._ctx,this.state);this.enterRule(t,8,kI.RULE_termDef);var e=0;try{this.enterOuterAlt(t,1),this.state=175,this.termNameDecl(),this.state=179,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,7,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=176,this.typeParam()),this.state=181,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,7,this._ctx);for(this.state=185,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=182,this.termParam(),this.state=187,this._errHandler.sync(this),e=this._input.LA(1);this.state=190,this._errHandler.sync(this),79===(e=this._input.LA(1))&&(this.state=188,this.match(kI.Colon),this.state=189,this.type(0)),this.state=192,this.match(kI.Assign),this.state=193,this.expression(),this.state=194,this.match(kI.Semicolon)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}type(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new EI(this,this._ctx,n),i=r;this.enterRecursionRule(r,10,kI.RULE_type,t);var s=0;try{switch(this.enterOuterAlt(r,1),this.state=229,this._errHandler.sync(this),this._input.LA(1)){case 9:this.state=197,this.match(kI.ForAll),this.state=199,this._errHandler.sync(this),s=this._input.LA(1);do{this.state=198,this.typeParam(),this.state=201,this._errHandler.sync(this),s=this._input.LA(1)}while(42===s||88===s);this.state=203,this.match(kI.Dot),this.state=204,this.type(5);break;case 10:this.state=206,this.match(kI.Mu),this.state=207,this.typeNameDecl(),this.state=208,this.match(kI.Dot),this.state=209,this.type(4);break;case 17:this.state=211,this.match(kI.TraitType),this.state=212,this.match(kI.Less),this.state=213,this.type(0),this.state=216,this._errHandler.sync(this),49===(s=this._input.LA(1))&&(this.state=214,this.match(kI.FatArrow),this.state=215,this.type(0)),this.state=218,this.match(kI.Greater);break;case 19:this.state=220,this.match(kI.RefType),this.state=221,this.btype();break;case 11:case 12:case 13:case 14:case 15:case 16:case 42:case 43:case 84:case 86:case 88:this.state=222,this.btype(),this.state=226,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,12,this._ctx);2!=o&&o!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=223,this.btype()),this.state=228,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,12,this._ctx);break;default:throw new pI.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=242,this._errHandler.sync(this);for(o=this._interp.adaptivePredict(this._input,15,this._ctx);2!=o&&o!=pI.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=240,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:if(r=new EI(this,e,n),this.pushNewRecursionContext(r,10,kI.RULE_type),this.state=231,!this.precpred(this._ctx,8))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=232,this.match(kI.Intersect),this.state=233,this.type(9);break;case 2:if(r=new EI(this,e,n),this.pushNewRecursionContext(r,10,kI.RULE_type),this.state=234,!this.precpred(this._ctx,7))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=235,this.match(kI.Backslash),this.state=236,this.type(8);break;case 3:if(r=new EI(this,e,n),this.pushNewRecursionContext(r,10,kI.RULE_type),this.state=237,!this.precpred(this._ctx,6))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=238,this.match(kI.Arrow),this.state=239,this.type(6)}this.state=244,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,15,this._ctx)}}catch(t){if(!(t instanceof pI.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}btype(){let t=new _I(this,this._ctx,this.state);this.enterRule(t,12,kI.RULE_btype);try{this.enterOuterAlt(t,1),this.state=245,this.atype(),this.state=252,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=246,this.match(kI.Less),this.state=247,this.sort(),this.state=248,this.match(kI.Greater)),this.state=254,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}atype(){let t=new LI(this,this._ctx,this.state);this.enterRule(t,14,kI.RULE_atype);try{switch(this.state=272,this._errHandler.sync(this),this._input.LA(1)){case 11:this.enterOuterAlt(t,1),this.state=255,this.match(kI.Int);break;case 12:this.enterOuterAlt(t,2),this.state=256,this.match(kI.Double);break;case 13:this.enterOuterAlt(t,3),this.state=257,this.match(kI.Bool);break;case 14:this.enterOuterAlt(t,4),this.state=258,this.match(kI.String);break;case 43:this.enterOuterAlt(t,5),this.state=259,this.match(kI.Unit);break;case 15:this.enterOuterAlt(t,6),this.state=260,this.match(kI.Top);break;case 16:this.enterOuterAlt(t,7),this.state=261,this.match(kI.Bot);break;case 42:this.enterOuterAlt(t,8),this.state=262,this.typeName();break;case 86:this.enterOuterAlt(t,9),this.state=263,this.recordType();break;case 84:this.enterOuterAlt(t,10),this.state=264,this.match(kI.BracketOpen),this.state=265,this.type(0),this.state=266,this.match(kI.BracketClose);break;case 88:this.enterOuterAlt(t,11),this.state=268,this.match(kI.ParenOpen),this.state=269,this.type(0),this.state=270,this.match(kI.ParenClose);break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordType(){let t=new DI(this,this._ctx,this.state);this.enterRule(t,16,kI.RULE_recordType);var e=0;try{this.enterOuterAlt(t,1),this.state=274,this.match(kI.BraceOpen),this.state=280,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,18,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=275,this.recordTypeField(),this.state=276,this.match(kI.Semicolon)),this.state=282,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,18,this._ctx);this.state=284,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=283,this.recordTypeField()),this.state=286,this.match(kI.BraceClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordTypeField(){let t=new QI(this,this._ctx,this.state);this.enterRule(t,18,kI.RULE_recordTypeField);try{this.enterOuterAlt(t,1),this.state=288,this.labelDecl(),this.state=290,this._errHandler.sync(this),83===this._input.LA(1)&&(this.state=289,this.match(kI.Question)),this.state=292,this.match(kI.Colon),this.state=293,this.type(0)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}expression(){let t=new II(this,this._ctx,this.state);this.enterRule(t,20,kI.RULE_expression);try{this.enterOuterAlt(t,1),this.state=295,this.opexpr(0),this.state=298,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,21,this._ctx)&&(this.state=296,this.match(kI.Colon),this.state=297,this.type(0))}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}opexpr(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new NI(this,this._ctx,n),i=r;const s=22;this.enterRecursionRule(r,22,kI.RULE_opexpr,t);var o=0;try{switch(this.enterOuterAlt(r,1),this.state=304,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 18:case 20:case 23:case 24:case 25:case 28:case 29:case 30:case 33:case 34:case 35:case 37:case 38:case 39:case 41:case 42:case 43:case 44:case 45:case 82:case 84:case 86:case 88:case 90:this.state=301,this.lexpr();break;case 53:case 57:case 58:case 69:this.state=302,(o=this._input.LA(1))-53&-32||!(1<<o-53&65585)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=303,this.opexpr(12);break;default:throw new pI.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=341,this._errHandler.sync(this);for(var l=this._interp.adaptivePredict(this._input,24,this._ctx);2!=l&&l!=pI.atn.ATN.INVALID_ALT_NUMBER;){if(1===l)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=339,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=306,!this.precpred(this._ctx,11))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 11)");this.state=307,this.match(kI.Index),this.state=308,this.opexpr(12);break;case 2:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=309,!this.precpred(this._ctx,10))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 10)");this.state=310,(o=this._input.LA(1))-54&-32||!(1<<o-54&7)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=311,this.opexpr(11);break;case 3:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=312,!this.precpred(this._ctx,9))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 9)");this.state=313,52!==(o=this._input.LA(1))&&53!==o?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=314,this.opexpr(10);break;case 4:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=315,!this.precpred(this._ctx,8))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=316,this.match(kI.Append),this.state=317,this.opexpr(9);break;case 5:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=318,!this.precpred(this._ctx,7))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=319,(o=this._input.LA(1))-63&-32||!(1<<o-63&63)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=320,this.opexpr(8);break;case 6:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=321,!this.precpred(this._ctx,6))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=322,this.match(kI.And),this.state=323,this.opexpr(6);break;case 7:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=324,!this.precpred(this._ctx,5))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=325,this.match(kI.Or),this.state=326,this.opexpr(5);break;case 8:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=327,!this.precpred(this._ctx,4))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=328,this.match(kI.Forward),this.state=329,this.opexpr(5);break;case 9:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=330,!this.precpred(this._ctx,3))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)");this.state=331,(o=this._input.LA(1))-46&-32||!(1<<o-46&1879048193)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=332,this.opexpr(4);break;case 10:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=333,!this.precpred(this._ctx,2))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=334,this.match(kI.Walrus),this.state=335,this.opexpr(3);break;case 11:if(r=new NI(this,e,n),this.pushNewRecursionContext(r,s,kI.RULE_opexpr),this.state=336,!this.precpred(this._ctx,1))throw new pI.error.FailedPredicateException(this,"this.precpred(this._ctx, 1)");this.state=337,this.match(kI.Seq),this.state=338,this.opexpr(2)}this.state=343,this._errHandler.sync(this),l=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof pI.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}lexpr(){let t=new MI(this,this._ctx,this.state);this.enterRule(t,24,kI.RULE_lexpr);try{switch(this.state=358,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 37:case 38:case 39:case 41:case 42:case 43:case 82:case 84:case 86:case 88:case 90:this.enterOuterAlt(t,1),this.state=344,this.fexpr();break;case 44:this.enterOuterAlt(t,2),this.state=345,this.lambda();break;case 45:this.enterOuterAlt(t,3),this.state=346,this.bigLambda();break;case 28:this.enterOuterAlt(t,4),this.state=347,this.letIn();break;case 29:this.enterOuterAlt(t,5),this.state=348,this.letRec();break;case 30:this.enterOuterAlt(t,6),this.state=349,this.openIn();break;case 25:this.enterOuterAlt(t,7),this.state=350,this.ifElse();break;case 18:this.enterOuterAlt(t,8),this.state=351,this.trait();break;case 23:this.enterOuterAlt(t,9),this.state=352,this.newTrait();break;case 24:this.enterOuterAlt(t,10),this.state=353,this.fixpoint();break;case 33:this.enterOuterAlt(t,11),this.state=354,this.toStr();break;case 34:this.enterOuterAlt(t,12),this.state=355,this.fold();break;case 35:this.enterOuterAlt(t,13),this.state=356,this.unfold();break;case 20:this.enterOuterAlt(t,14),this.state=357,this.ref();break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}lambda(){let t=new $I(this,this._ctx,this.state);this.enterRule(t,26,kI.RULE_lambda);var e=0;try{this.enterOuterAlt(t,1),this.state=360,this.match(kI.Backslash),this.state=362,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=361,this.termParam(),this.state=364,this._errHandler.sync(this),e=this._input.LA(1)}while(40===e||41===e||86===e||88===e);this.state=366,this.match(kI.Arrow),this.state=367,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}bigLambda(){let t=new FI(this,this._ctx,this.state);this.enterRule(t,28,kI.RULE_bigLambda);var e=0;try{this.enterOuterAlt(t,1),this.state=369,this.match(kI.SlashBackslash),this.state=371,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=370,this.typeParam(),this.state=373,this._errHandler.sync(this),e=this._input.LA(1)}while(42===e||88===e);this.state=375,this.match(kI.Dot),this.state=376,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letIn(){let t=new BI(this,this._ctx,this.state);this.enterRule(t,30,kI.RULE_letIn);var e=0;try{this.enterOuterAlt(t,1),this.state=378,this.match(kI.Let),this.state=379,this.termNameDecl(),this.state=383,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,28,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=380,this.typeParam()),this.state=385,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,28,this._ctx);for(this.state=389,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=386,this.termParam(),this.state=391,this._errHandler.sync(this),e=this._input.LA(1);this.state=392,this.match(kI.Assign),this.state=393,this.expression(),this.state=394,this.match(kI.In),this.state=395,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letRec(){let t=new UI(this,this._ctx,this.state);this.enterRule(t,32,kI.RULE_letRec);var e=0;try{this.enterOuterAlt(t,1),this.state=397,this.match(kI.LetRec),this.state=398,this.termNameDecl(),this.state=402,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,30,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=399,this.typeParam()),this.state=404,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,30,this._ctx);for(this.state=408,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=405,this.termParam(),this.state=410,this._errHandler.sync(this),e=this._input.LA(1);this.state=411,this.match(kI.Colon),this.state=412,this.type(0),this.state=413,this.match(kI.Assign),this.state=414,this.expression(),this.state=415,this.match(kI.In),this.state=416,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}openIn(){let t=new HI(this,this._ctx,this.state);this.enterRule(t,34,kI.RULE_openIn);try{this.enterOuterAlt(t,1),this.state=418,this.match(kI.Open),this.state=419,this.expression(),this.state=420,this.match(kI.In),this.state=421,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ifElse(){let t=new qI(this,this._ctx,this.state);this.enterRule(t,36,kI.RULE_ifElse);try{this.enterOuterAlt(t,1),this.state=423,this.match(kI.If),this.state=424,this.expression(),this.state=425,this.match(kI.Then),this.state=426,this.expression(),this.state=427,this.match(kI.Else),this.state=428,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}trait(){let t=new VI(this,this._ctx,this.state);this.enterRule(t,38,kI.RULE_trait);try{switch(this.state=458,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,38,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=430,this.match(kI.Trait),this.state=432,this._errHandler.sync(this),84===this._input.LA(1)&&(this.state=431,this.selfAnno()),this.state=436,this._errHandler.sync(this),21===this._input.LA(1)&&(this.state=434,this.match(kI.Implements),this.state=435,this.type(0)),this.state=440,this._errHandler.sync(this),22===this._input.LA(1)&&(this.state=438,this.match(kI.Inherits),this.state=439,this.opexpr(0)),this.state=442,this.match(kI.FatArrow),this.state=443,this.opexpr(0);break;case 2:this.enterOuterAlt(t,2),this.state=444,this.match(kI.Trait),this.state=446,this._errHandler.sync(this),84===this._input.LA(1)&&(this.state=445,this.selfAnno()),this.state=450,this._errHandler.sync(this),22===this._input.LA(1)&&(this.state=448,this.match(kI.Inherits),this.state=449,this.opexpr(0)),this.state=454,this._errHandler.sync(this),21===this._input.LA(1)&&(this.state=452,this.match(kI.Implements),this.state=453,this.type(0)),this.state=456,this.match(kI.FatArrow),this.state=457,this.opexpr(0)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newTrait(){let t=new XI(this,this._ctx,this.state);this.enterRule(t,40,kI.RULE_newTrait);try{this.enterOuterAlt(t,1),this.state=460,this.match(kI.New),this.state=461,this.opexpr(0)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fixpoint(){let t=new zI(this,this._ctx,this.state);this.enterRule(t,42,kI.RULE_fixpoint);try{this.enterOuterAlt(t,1),this.state=463,this.match(kI.Fix),this.state=464,this.termNameDecl(),this.state=465,this.match(kI.Colon),this.state=466,this.type(0),this.state=467,this.match(kI.Dot),this.state=468,this.opexpr(0)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}toStr(){let t=new WI(this,this._ctx,this.state);this.enterRule(t,44,kI.RULE_toStr);try{this.enterOuterAlt(t,1),this.state=470,this.match(kI.ToString),this.state=471,this.dotexpr()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fold(){let t=new jI(this,this._ctx,this.state);this.enterRule(t,46,kI.RULE_fold);try{this.enterOuterAlt(t,1),this.state=473,this.match(kI.Fold),this.state=474,this.typeArg(),this.state=475,this.dotexpr()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}unfold(){let t=new GI(this,this._ctx,this.state);this.enterRule(t,48,kI.RULE_unfold);try{this.enterOuterAlt(t,1),this.state=477,this.match(kI.Unfold),this.state=478,this.typeArg(),this.state=479,this.dotexpr()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ref(){let t=new YI(this,this._ctx,this.state);this.enterRule(t,50,kI.RULE_ref);try{this.enterOuterAlt(t,1),this.state=481,this.match(kI.Ref),this.state=482,this.dotexpr()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fexpr(){let t=new ZI(this,this._ctx,this.state);this.enterRule(t,52,kI.RULE_fexpr);try{switch(this.enterOuterAlt(t,1),this.state=486,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,39,this._ctx)){case 1:this.state=484,this.ctorName();break;case 2:this.state=485,this.excludexpr()}this.state=492,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,41,this._ctx);2!=e&&e!=pI.atn.ATN.INVALID_ALT_NUMBER;){if(1===e)switch(this.state=490,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 37:case 38:case 39:case 41:case 42:case 43:case 82:case 84:case 86:case 88:case 90:this.state=488,this.excludexpr();break;case 73:this.state=489,this.typeArg();break;default:throw new pI.error.NoViableAltException(this)}this.state=494,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,41,this._ctx)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}excludexpr(){let t=new KI(this,this._ctx,this.state);this.enterRule(t,54,kI.RULE_excludexpr);try{this.enterOuterAlt(t,1),this.state=495,this.renamexpr(),this.state=500,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,42,this._ctx);1===e?(this.state=496,this.match(kI.DoubleBackslashes),this.state=497,this.btype()):2===e&&(this.state=498,this.match(kI.Backslash),this.state=499,this.label())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}renamexpr(){let t=new JI(this,this._ctx,this.state);this.enterRule(t,56,kI.RULE_renamexpr);try{this.enterOuterAlt(t,1),this.state=502,this.dotexpr(),this.state=509,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,43,this._ctx)&&(this.state=503,this.match(kI.BracketOpen),this.state=504,this.label(),this.state=505,this.match(kI.LeftArrow),this.state=506,this.labelDecl(),this.state=507,this.match(kI.BracketClose))}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}dotexpr(){let t=new tN(this,this._ctx,this.state);this.enterRule(t,58,kI.RULE_dotexpr);try{this.enterOuterAlt(t,1),this.state=511,this.aexpr(),this.state=516,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,44,this._ctx);2!=e&&e!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=512,this.match(kI.Dot),this.state=513,this.label()),this.state=518,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,44,this._ctx)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}aexpr(){let t=new eN(this,this._ctx,this.state);this.enterRule(t,60,kI.RULE_aexpr);try{switch(this.state=536,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,45,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=519,this.termName();break;case 2:this.enterOuterAlt(t,2),this.state=520,this.match(kI.IntLit);break;case 3:this.enterOuterAlt(t,3),this.state=521,this.match(kI.StringLit);break;case 4:this.enterOuterAlt(t,4),this.state=522,this.document();break;case 5:this.enterOuterAlt(t,5),this.state=523,this.match(kI.Unit);break;case 6:this.enterOuterAlt(t,6),this.state=524,this.match(kI.True_);break;case 7:this.enterOuterAlt(t,7),this.state=525,this.match(kI.False_);break;case 8:this.enterOuterAlt(t,8),this.state=526,this.match(kI.Undefined_);break;case 9:this.enterOuterAlt(t,9),this.state=527,this.array();break;case 10:this.enterOuterAlt(t,10),this.state=528,this.record();break;case 11:this.enterOuterAlt(t,11),this.state=529,this.recordUpdate();break;case 12:this.enterOuterAlt(t,12),this.state=530,this.match(kI.Dollar),this.state=531,this.ctorName();break;case 13:this.enterOuterAlt(t,13),this.state=532,this.match(kI.ParenOpen),this.state=533,this.expression(),this.state=534,this.match(kI.ParenClose)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}array(){let t=new nN(this,this._ctx,this.state);this.enterRule(t,62,kI.RULE_array);var e=0;try{this.enterOuterAlt(t,1),this.state=538,this.match(kI.BracketOpen),this.state=544,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,46,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=539,this.expression(),this.state=540,this.match(kI.Semicolon)),this.state=546,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,46,this._ctx);this.state=548,this._errHandler.sync(this),(!(-32&(e=this._input.LA(1)))&&1<<e&1939079216||!(e-33&-32)&&1<<e-33&51388279||!(e-69&-32)&&1<<e-69&2793473)&&(this.state=547,this.expression()),this.state=550,this.match(kI.BracketClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}record(){let t=new rN(this,this._ctx,this.state);this.enterRule(t,64,kI.RULE_record);var e=0;try{this.enterOuterAlt(t,1),this.state=552,this.match(kI.BraceOpen),this.state=562,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,49,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;){if(1===n){switch(this.state=556,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,48,this._ctx)){case 1:this.state=553,this.recordField();break;case 2:this.state=554,this.methodPattern();break;case 3:this.state=555,this.defaultPattern()}this.state=558,this.match(kI.Semicolon)}this.state=564,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,49,this._ctx)}if(this.state=570,this._errHandler.sync(this),!((e=this._input.LA(1))-36&-32)&&1<<e-36&113||84===e||88===e)switch(this.state=568,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,50,this._ctx)){case 1:this.state=565,this.recordField();break;case 2:this.state=566,this.methodPattern();break;case 3:this.state=567,this.defaultPattern()}this.state=572,this.match(kI.BraceClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordField(){let t=new iN(this,this._ctx,this.state);this.enterRule(t,66,kI.RULE_recordField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=575,this._errHandler.sync(this),36===(e=this._input.LA(1))&&(this.state=574,this.match(kI.Override)),this.state=578,this._errHandler.sync(this),84===(e=this._input.LA(1))&&(this.state=577,this.selfAnno()),this.state=580,this.labelDecl(),this.state=584,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=581,this.termParam(),this.state=586,this._errHandler.sync(this),e=this._input.LA(1);this.state=587,this.match(kI.Assign),this.state=588,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}methodPattern(){let t=new sN(this,this._ctx,this.state);this.enterRule(t,68,kI.RULE_methodPattern);var e=0;try{for(this.enterOuterAlt(t,1),this.state=591,this._errHandler.sync(this),36===(e=this._input.LA(1))&&(this.state=590,this.match(kI.Override)),this.state=596,this._errHandler.sync(this),84===(e=this._input.LA(1))&&(this.state=593,this.selfAnno(),this.state=594,this.match(kI.At)),this.state=598,this.match(kI.ParenOpen),this.state=599,this.labelDecl(),this.state=603,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=600,this.termParam(),this.state=605,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=606,this.match(kI.ParenClose),this.state=607,this.match(kI.Dot),this.state=608,this.labelDecl(),this.state=612,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=609,this.termParam(),this.state=614,this._errHandler.sync(this),e=this._input.LA(1);this.state=615,this.match(kI.Assign),this.state=616,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}defaultPattern(){let t=new oN(this,this._ctx,this.state);this.enterRule(t,70,kI.RULE_defaultPattern);var e=0;try{switch(this.enterOuterAlt(t,1),this.state=620,this._errHandler.sync(this),this._input.LA(1)){case 40:this.state=618,this.match(kI.Underscore);break;case 84:this.state=619,this.selfAnno();break;default:throw new pI.error.NoViableAltException(this)}for(this.state=622,this.match(kI.Dot),this.state=623,this.labelDecl(),this.state=627,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=624,this.termParam(),this.state=629,this._errHandler.sync(this),e=this._input.LA(1);this.state=630,this.match(kI.Assign),this.state=631,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordUpdate(){let t=new lN(this,this._ctx,this.state);this.enterRule(t,72,kI.RULE_recordUpdate);var e=0;try{this.enterOuterAlt(t,1),this.state=633,this.match(kI.BraceOpen),this.state=634,this.expression(),this.state=635,this.match(kI.With),this.state=644,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,61,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=636,this.labelDecl(),this.state=637,this.match(kI.Assign),this.state=638,this.expression(),this.state=640,this.match(kI.Semicolon)),this.state=646,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,61,this._ctx);this.state=651,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=647,this.labelDecl(),this.state=648,this.match(kI.Assign),this.state=649,this.expression()),this.state=653,this.match(kI.BraceClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeArg(){let t=new aN(this,this._ctx,this.state);this.enterRule(t,74,kI.RULE_typeArg);try{this.enterOuterAlt(t,1),this.state=655,this.match(kI.At),this.state=656,this.btype()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeParam(){let t=new uN(this,this._ctx,this.state);this.enterRule(t,76,kI.RULE_typeParam);try{switch(this.state=665,this._errHandler.sync(this),this._input.LA(1)){case 42:this.enterOuterAlt(t,1),this.state=658,this.typeNameDecl();break;case 88:this.enterOuterAlt(t,2),this.state=659,this.match(kI.ParenOpen),this.state=660,this.typeNameDecl(),this.state=661,this.match(kI.Asterisk),this.state=662,this.type(0),this.state=663,this.match(kI.ParenClose);break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termParam(){let t=new cN(this,this._ctx,this.state);this.enterRule(t,78,kI.RULE_termParam);try{switch(this.state=679,this._errHandler.sync(this),this._input.LA(1)){case 41:this.enterOuterAlt(t,1),this.state=667,this.termNameDecl();break;case 40:this.enterOuterAlt(t,2),this.state=668,this.match(kI.Underscore);break;case 88:switch(this.enterOuterAlt(t,3),this.state=669,this.match(kI.ParenOpen),this.state=672,this._errHandler.sync(this),this._input.LA(1)){case 41:this.state=670,this.termNameDecl();break;case 40:this.state=671,this.match(kI.Underscore);break;default:throw new pI.error.NoViableAltException(this)}this.state=674,this.match(kI.Colon),this.state=675,this.type(0),this.state=676,this.match(kI.ParenClose);break;case 86:this.enterOuterAlt(t,4),this.state=678,this.wildcard();break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}wildcard(){let t=new hN(this,this._ctx,this.state);this.enterRule(t,80,kI.RULE_wildcard);var e=0;try{for(this.enterOuterAlt(t,1),this.state=681,this.match(kI.BraceOpen),this.state=690,this._errHandler.sync(this),e=this._input.LA(1);41===e||42===e;)this.state=682,this.labelDecl(),this.state=683,this.match(kI.Assign),this.state=684,this.expression(),this.state=686,this.match(kI.Semicolon),this.state=692,this._errHandler.sync(this),e=this._input.LA(1);this.state=693,this.match(kI.DotDot),this.state=694,this.match(kI.BraceClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}selfAnno(){let t=new fN(this,this._ctx,this.state);this.enterRule(t,82,kI.RULE_selfAnno);try{this.enterOuterAlt(t,1),this.state=696,this.match(kI.BracketOpen),this.state=697,this.termNameDecl(),this.state=700,this._errHandler.sync(this),79===this._input.LA(1)&&(this.state=698,this.match(kI.Colon),this.state=699,this.type(0)),this.state=702,this.match(kI.BracketClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}sort(){let t=new dN(this,this._ctx,this.state);this.enterRule(t,84,kI.RULE_sort);try{this.enterOuterAlt(t,1),this.state=704,this.type(0),this.state=707,this._errHandler.sync(this),49===this._input.LA(1)&&(this.state=705,this.match(kI.FatArrow),this.state=706,this.type(0))}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeNameDecl(){let t=new vN(this,this._ctx,this.state);this.enterRule(t,86,kI.RULE_typeNameDecl);try{this.enterOuterAlt(t,1),this.state=709,this.match(kI.UpperId)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeName(){let t=new gN(this,this._ctx,this.state);this.enterRule(t,88,kI.RULE_typeName);try{this.enterOuterAlt(t,1),this.state=711,this.match(kI.UpperId)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termNameDecl(){let t=new pN(this,this._ctx,this.state);this.enterRule(t,90,kI.RULE_termNameDecl);try{this.enterOuterAlt(t,1),this.state=713,this.match(kI.LowerId)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ctorName(){let t=new mN(this,this._ctx,this.state);this.enterRule(t,92,kI.RULE_ctorName);try{this.enterOuterAlt(t,1),this.state=715,this.match(kI.UpperId)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termName(){let t=new RN(this,this._ctx,this.state);this.enterRule(t,94,kI.RULE_termName);var e=0;try{this.enterOuterAlt(t,1),this.state=717,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}labelDecl(){let t=new ON(this,this._ctx,this.state);this.enterRule(t,96,kI.RULE_labelDecl);var e=0;try{this.enterOuterAlt(t,1),this.state=719,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}label(){let t=new wN(this,this._ctx,this.state);this.enterRule(t,98,kI.RULE_label);var e=0;try{this.enterOuterAlt(t,1),this.state=721,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}document(){let t=new xN(this,this._ctx,this.state);this.enterRule(t,100,kI.RULE_document);var e=0;try{for(this.enterOuterAlt(t,1),this.state=723,this.match(kI.BacktickOpen),this.state=727,this._errHandler.sync(this),e=this._input.LA(1);!(e-91&-32)&&1<<e-91&7695;)this.state=724,this.docElement(),this.state=729,this._errHandler.sync(this),e=this._input.LA(1);this.state=730,96!==(e=this._input.LA(1))&&105!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docElement(){let t=new yN(this,this._ctx,this.state);this.enterRule(t,102,kI.RULE_docElement);try{switch(this.state=736,this._errHandler.sync(this),this._input.LA(1)){case 91:case 100:this.enterOuterAlt(t,1),this.state=732,this.command();break;case 92:case 101:this.enterOuterAlt(t,2),this.state=733,this.interpolation();break;case 93:case 102:this.enterOuterAlt(t,3),this.state=734,this.newline();break;case 94:case 103:this.enterOuterAlt(t,4),this.state=735,this.plaintext();break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}command(){let t=new bN(this,this._ctx,this.state);this.enterRule(t,104,kI.RULE_command);var e=0;try{for(this.enterOuterAlt(t,1),this.state=738,91!==(e=this._input.LA(1))&&100!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=742,this._errHandler.sync(this),e=this._input.LA(1);!(e-97&-32)&&1<<e-97&7;)this.state=739,this.docArg(),this.state=744,this._errHandler.sync(this),e=this._input.LA(1)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interpolation(){let t=new kN(this,this._ctx,this.state);this.enterRule(t,106,kI.RULE_interpolation);var e=0;try{this.enterOuterAlt(t,1),this.state=745,92!==(e=this._input.LA(1))&&101!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=746,this.expression(),this.state=747,this.match(kI.ParenClose)}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newline(){let t=new CN(this,this._ctx,this.state);this.enterRule(t,108,kI.RULE_newline);var e=0;try{this.enterOuterAlt(t,1),this.state=749,93!==(e=this._input.LA(1))&&102!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}plaintext(){let t=new TN(this,this._ctx,this.state);this.enterRule(t,110,kI.RULE_plaintext);var e=0;try{this.enterOuterAlt(t,1),this.state=751,94!==(e=this._input.LA(1))&&103!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docArg(){let t=new SN(this,this._ctx,this.state);this.enterRule(t,112,kI.RULE_docArg);var e=0;try{switch(this.state=778,this._errHandler.sync(this),this._input.LA(1)){case 97:for(this.enterOuterAlt(t,1),this.state=753,this.match(kI.BracketOpenAsArg),this.state=757,this._errHandler.sync(this),e=this._input.LA(1);!(e-91&-32)&&1<<e-91&7695;)this.state=754,this.docElement(),this.state=759,this._errHandler.sync(this),e=this._input.LA(1);this.state=760,95!==(e=this._input.LA(1))&&104!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume());break;case 98:this.enterOuterAlt(t,2),this.state=761,this.match(kI.ParenOpenAsArg),this.state=762,this.expression(),this.state=763,this.match(kI.ParenClose);break;case 99:this.enterOuterAlt(t,3),this.state=765,this.match(kI.BraceOpenAsArg),this.state=771,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,73,this._ctx);2!=n&&n!=pI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=766,this.recordArgField(),this.state=767,this.match(kI.Semicolon)),this.state=773,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,73,this._ctx);this.state=775,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=774,this.recordArgField()),this.state=777,this.match(kI.BraceClose);break;default:throw new pI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordArgField(){let t=new AN(this,this._ctx,this.state);this.enterRule(t,114,kI.RULE_recordArgField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=780,this.labelDecl(),this.state=784,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=781,this.termParam(),this.state=786,this._errHandler.sync(this),e=this._input.LA(1);this.state=787,this.match(kI.Assign),this.state=788,this.expression()}catch(e){if(!(e instanceof pI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}kI.EOF=pI.Token.EOF,kI.Whitespaces=1,kI.LineComment=2,kI.BlockComment=3,kI.IntLit=4,kI.StringLit=5,kI.Type=6,kI.Interface=7,kI.Extends=8,kI.ForAll=9,kI.Mu=10,kI.Int=11,kI.Double=12,kI.Bool=13,kI.String=14,kI.Top=15,kI.Bot=16,kI.TraitType=17,kI.Trait=18,kI.RefType=19,kI.Ref=20,kI.Implements=21,kI.Inherits=22,kI.New=23,kI.Fix=24,kI.If=25,kI.Then=26,kI.Else=27,kI.Let=28,kI.LetRec=29,kI.Open=30,kI.In=31,kI.With=32,kI.ToString=33,kI.Fold=34,kI.Unfold=35,kI.Override=36,kI.True_=37,kI.False_=38,kI.Undefined_=39,kI.Underscore=40,kI.LowerId=41,kI.UpperId=42,kI.Unit=43,kI.Backslash=44,kI.SlashBackslash=45,kI.BackslashMinus=46,kI.DoubleBackslashes=47,kI.Arrow=48,kI.FatArrow=49,kI.LeftArrow=50,kI.Intersect=51,kI.Plus=52,kI.Minus=53,kI.Asterisk=54,kI.Slash=55,kI.Modulo=56,kI.Sqrt=57,kI.Deref=58,kI.Walrus=59,kI.Seq=60,kI.And=61,kI.Or=62,kI.Less=63,kI.Greater=64,kI.LessEqual=65,kI.GreaterEqual=66,kI.Equal=67,kI.NotEqual=68,kI.Length=69,kI.Index=70,kI.Append=71,kI.Forward=72,kI.At=73,kI.Merge=74,kI.LeftistMerge=75,kI.RightistMerge=76,kI.Assign=77,kI.Semicolon=78,kI.Colon=79,kI.Dot=80,kI.DotDot=81,kI.Dollar=82,kI.Question=83,kI.BracketOpen=84,kI.BracketClose=85,kI.BraceOpen=86,kI.BraceClose=87,kI.ParenOpen=88,kI.ParenClose=89,kI.BacktickOpen=90,kI.Command=91,kI.Interpolation=92,kI.NewLine=93,kI.PlainText=94,kI.BracketCloseInDoc=95,kI.BacktickClose=96,kI.BracketOpenAsArg=97,kI.ParenOpenAsArg=98,kI.BraceOpenAsArg=99,kI.CommandAfterCmd=100,kI.InterpolationAfterCmd=101,kI.NewLineAfterCmd=102,kI.PlainTextAfterCmd=103,kI.BracketCloseAfterCmd=104,kI.BacktickCloseAfterCmd=105,kI.RULE_program=0,kI.RULE_definition=1,kI.RULE_interfaceDef=2,kI.RULE_typeDef=3,kI.RULE_termDef=4,kI.RULE_type=5,kI.RULE_btype=6,kI.RULE_atype=7,kI.RULE_recordType=8,kI.RULE_recordTypeField=9,kI.RULE_expression=10,kI.RULE_opexpr=11,kI.RULE_lexpr=12,kI.RULE_lambda=13,kI.RULE_bigLambda=14,kI.RULE_letIn=15,kI.RULE_letRec=16,kI.RULE_openIn=17,kI.RULE_ifElse=18,kI.RULE_trait=19,kI.RULE_newTrait=20,kI.RULE_fixpoint=21,kI.RULE_toStr=22,kI.RULE_fold=23,kI.RULE_unfold=24,kI.RULE_ref=25,kI.RULE_fexpr=26,kI.RULE_excludexpr=27,kI.RULE_renamexpr=28,kI.RULE_dotexpr=29,kI.RULE_aexpr=30,kI.RULE_array=31,kI.RULE_record=32,kI.RULE_recordField=33,kI.RULE_methodPattern=34,kI.RULE_defaultPattern=35,kI.RULE_recordUpdate=36,kI.RULE_typeArg=37,kI.RULE_typeParam=38,kI.RULE_termParam=39,kI.RULE_wildcard=40,kI.RULE_selfAnno=41,kI.RULE_sort=42,kI.RULE_typeNameDecl=43,kI.RULE_typeName=44,kI.RULE_termNameDecl=45,kI.RULE_ctorName=46,kI.RULE_termName=47,kI.RULE_labelDecl=48,kI.RULE_label=49,kI.RULE_document=50,kI.RULE_docElement=51,kI.RULE_command=52,kI.RULE_interpolation=53,kI.RULE_newline=54,kI.RULE_plaintext=55,kI.RULE_docArg=56,kI.RULE_recordArgField=57;class CI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_program}expression(){return this.getTypedRuleContext(II,0)}EOF(){return this.getToken(kI.EOF,0)}definition=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(TI):this.getTypedRuleContext(TI,t)};accept(t){return t instanceof wI?t.visitProgram(this):t.visitChildren(this)}}class TI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_definition}interfaceDef(){return this.getTypedRuleContext(SI,0)}typeDef(){return this.getTypedRuleContext(AI,0)}termDef(){return this.getTypedRuleContext(PI,0)}accept(t){return t instanceof wI?t.visitDefinition(this):t.visitChildren(this)}}class SI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_interfaceDef}Interface(){return this.getToken(kI.Interface,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(vN):this.getTypedRuleContext(vN,t)};recordType(){return this.getTypedRuleContext(DI,0)}Semicolon(){return this.getToken(kI.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Less):this.getToken(kI.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Greater):this.getToken(kI.Greater,t)};Extends(){return this.getToken(kI.Extends,0)}btype(){return this.getTypedRuleContext(_I,0)}accept(t){return t instanceof wI?t.visitInterfaceDef(this):t.visitChildren(this)}}class AI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_typeDef}Type(){return this.getToken(kI.Type,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(vN):this.getTypedRuleContext(vN,t)};Assign(){return this.getToken(kI.Assign,0)}type(){return this.getTypedRuleContext(EI,0)}Semicolon(){return this.getToken(kI.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Less):this.getToken(kI.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Greater):this.getToken(kI.Greater,t)};accept(t){return t instanceof wI?t.visitTypeDef(this):t.visitChildren(this)}}class PI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_termDef}termNameDecl(){return this.getTypedRuleContext(pN,0)}Assign(){return this.getToken(kI.Assign,0)}expression(){return this.getTypedRuleContext(II,0)}Semicolon(){return this.getToken(kI.Semicolon,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}accept(t){return t instanceof wI?t.visitTermDef(this):t.visitChildren(this)}}class EI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_type}ForAll(){return this.getToken(kI.ForAll,0)}Dot(){return this.getToken(kI.Dot,0)}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(EI):this.getTypedRuleContext(EI,t)};typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};Mu(){return this.getToken(kI.Mu,0)}typeNameDecl(){return this.getTypedRuleContext(vN,0)}TraitType(){return this.getToken(kI.TraitType,0)}Less(){return this.getToken(kI.Less,0)}Greater(){return this.getToken(kI.Greater,0)}FatArrow(){return this.getToken(kI.FatArrow,0)}RefType(){return this.getToken(kI.RefType,0)}btype=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(_I):this.getTypedRuleContext(_I,t)};Intersect(){return this.getToken(kI.Intersect,0)}Backslash(){return this.getToken(kI.Backslash,0)}Arrow(){return this.getToken(kI.Arrow,0)}accept(t){return t instanceof wI?t.visitType(this):t.visitChildren(this)}}class _I extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_btype}atype(){return this.getTypedRuleContext(LI,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Less):this.getToken(kI.Less,t)};sort=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(dN):this.getTypedRuleContext(dN,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Greater):this.getToken(kI.Greater,t)};accept(t){return t instanceof wI?t.visitBtype(this):t.visitChildren(this)}}class LI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_atype}Int(){return this.getToken(kI.Int,0)}Double(){return this.getToken(kI.Double,0)}Bool(){return this.getToken(kI.Bool,0)}String(){return this.getToken(kI.String,0)}Unit(){return this.getToken(kI.Unit,0)}Top(){return this.getToken(kI.Top,0)}Bot(){return this.getToken(kI.Bot,0)}typeName(){return this.getTypedRuleContext(gN,0)}recordType(){return this.getTypedRuleContext(DI,0)}BracketOpen(){return this.getToken(kI.BracketOpen,0)}type(){return this.getTypedRuleContext(EI,0)}BracketClose(){return this.getToken(kI.BracketClose,0)}ParenOpen(){return this.getToken(kI.ParenOpen,0)}ParenClose(){return this.getToken(kI.ParenClose,0)}accept(t){return t instanceof wI?t.visitAtype(this):t.visitChildren(this)}}class DI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_recordType}BraceOpen(){return this.getToken(kI.BraceOpen,0)}BraceClose(){return this.getToken(kI.BraceClose,0)}recordTypeField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(QI):this.getTypedRuleContext(QI,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Semicolon):this.getToken(kI.Semicolon,t)};accept(t){return t instanceof wI?t.visitRecordType(this):t.visitChildren(this)}}class QI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_recordTypeField}labelDecl(){return this.getTypedRuleContext(ON,0)}Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}Question(){return this.getToken(kI.Question,0)}accept(t){return t instanceof wI?t.visitRecordTypeField(this):t.visitChildren(this)}}class II extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_expression}opexpr(){return this.getTypedRuleContext(NI,0)}Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}accept(t){return t instanceof wI?t.visitExpression(this):t.visitChildren(this)}}class NI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_opexpr}lexpr(){return this.getTypedRuleContext(MI,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(NI):this.getTypedRuleContext(NI,t)};Minus(){return this.getToken(kI.Minus,0)}Length(){return this.getToken(kI.Length,0)}Sqrt(){return this.getToken(kI.Sqrt,0)}Deref(){return this.getToken(kI.Deref,0)}Index(){return this.getToken(kI.Index,0)}Asterisk(){return this.getToken(kI.Asterisk,0)}Slash(){return this.getToken(kI.Slash,0)}Modulo(){return this.getToken(kI.Modulo,0)}Plus(){return this.getToken(kI.Plus,0)}Append(){return this.getToken(kI.Append,0)}Less(){return this.getToken(kI.Less,0)}Greater(){return this.getToken(kI.Greater,0)}LessEqual(){return this.getToken(kI.LessEqual,0)}GreaterEqual(){return this.getToken(kI.GreaterEqual,0)}Equal(){return this.getToken(kI.Equal,0)}NotEqual(){return this.getToken(kI.NotEqual,0)}And(){return this.getToken(kI.And,0)}Or(){return this.getToken(kI.Or,0)}Forward(){return this.getToken(kI.Forward,0)}Merge(){return this.getToken(kI.Merge,0)}LeftistMerge(){return this.getToken(kI.LeftistMerge,0)}RightistMerge(){return this.getToken(kI.RightistMerge,0)}BackslashMinus(){return this.getToken(kI.BackslashMinus,0)}Walrus(){return this.getToken(kI.Walrus,0)}Seq(){return this.getToken(kI.Seq,0)}accept(t){return t instanceof wI?t.visitOpexpr(this):t.visitChildren(this)}}class MI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_lexpr}fexpr(){return this.getTypedRuleContext(ZI,0)}lambda(){return this.getTypedRuleContext($I,0)}bigLambda(){return this.getTypedRuleContext(FI,0)}letIn(){return this.getTypedRuleContext(BI,0)}letRec(){return this.getTypedRuleContext(UI,0)}openIn(){return this.getTypedRuleContext(HI,0)}ifElse(){return this.getTypedRuleContext(qI,0)}trait(){return this.getTypedRuleContext(VI,0)}newTrait(){return this.getTypedRuleContext(XI,0)}fixpoint(){return this.getTypedRuleContext(zI,0)}toStr(){return this.getTypedRuleContext(WI,0)}fold(){return this.getTypedRuleContext(jI,0)}unfold(){return this.getTypedRuleContext(GI,0)}ref(){return this.getTypedRuleContext(YI,0)}accept(t){return t instanceof wI?t.visitLexpr(this):t.visitChildren(this)}}class $I extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_lambda}Backslash(){return this.getToken(kI.Backslash,0)}Arrow(){return this.getToken(kI.Arrow,0)}expression(){return this.getTypedRuleContext(II,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitLambda(this):t.visitChildren(this)}}class FI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_bigLambda}SlashBackslash(){return this.getToken(kI.SlashBackslash,0)}Dot(){return this.getToken(kI.Dot,0)}expression(){return this.getTypedRuleContext(II,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};accept(t){return t instanceof wI?t.visitBigLambda(this):t.visitChildren(this)}}class BI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_letIn}Let(){return this.getToken(kI.Let,0)}termNameDecl(){return this.getTypedRuleContext(pN,0)}Assign(){return this.getToken(kI.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};In(){return this.getToken(kI.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitLetIn(this):t.visitChildren(this)}}class UI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_letRec}LetRec(){return this.getToken(kI.LetRec,0)}termNameDecl(){return this.getTypedRuleContext(pN,0)}Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}Assign(){return this.getToken(kI.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};In(){return this.getToken(kI.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitLetRec(this):t.visitChildren(this)}}class HI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_openIn}Open(){return this.getToken(kI.Open,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};In(){return this.getToken(kI.In,0)}accept(t){return t instanceof wI?t.visitOpenIn(this):t.visitChildren(this)}}class qI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_ifElse}If(){return this.getToken(kI.If,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};Then(){return this.getToken(kI.Then,0)}Else(){return this.getToken(kI.Else,0)}accept(t){return t instanceof wI?t.visitIfElse(this):t.visitChildren(this)}}class VI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_trait}Trait(){return this.getToken(kI.Trait,0)}FatArrow(){return this.getToken(kI.FatArrow,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(NI):this.getTypedRuleContext(NI,t)};selfAnno(){return this.getTypedRuleContext(fN,0)}Implements(){return this.getToken(kI.Implements,0)}type(){return this.getTypedRuleContext(EI,0)}Inherits(){return this.getToken(kI.Inherits,0)}accept(t){return t instanceof wI?t.visitTrait(this):t.visitChildren(this)}}class XI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_newTrait}New(){return this.getToken(kI.New,0)}opexpr(){return this.getTypedRuleContext(NI,0)}accept(t){return t instanceof wI?t.visitNewTrait(this):t.visitChildren(this)}}class zI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_fixpoint}Fix(){return this.getToken(kI.Fix,0)}termNameDecl(){return this.getTypedRuleContext(pN,0)}Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}Dot(){return this.getToken(kI.Dot,0)}opexpr(){return this.getTypedRuleContext(NI,0)}accept(t){return t instanceof wI?t.visitFixpoint(this):t.visitChildren(this)}}class WI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_toStr}ToString(){return this.getToken(kI.ToString,0)}dotexpr(){return this.getTypedRuleContext(tN,0)}accept(t){return t instanceof wI?t.visitToStr(this):t.visitChildren(this)}}class jI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_fold}Fold(){return this.getToken(kI.Fold,0)}typeArg(){return this.getTypedRuleContext(aN,0)}dotexpr(){return this.getTypedRuleContext(tN,0)}accept(t){return t instanceof wI?t.visitFold(this):t.visitChildren(this)}}class GI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_unfold}Unfold(){return this.getToken(kI.Unfold,0)}typeArg(){return this.getTypedRuleContext(aN,0)}dotexpr(){return this.getTypedRuleContext(tN,0)}accept(t){return t instanceof wI?t.visitUnfold(this):t.visitChildren(this)}}class YI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_ref}Ref(){return this.getToken(kI.Ref,0)}dotexpr(){return this.getTypedRuleContext(tN,0)}accept(t){return t instanceof wI?t.visitRef(this):t.visitChildren(this)}}class ZI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_fexpr}ctorName(){return this.getTypedRuleContext(mN,0)}excludexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(KI):this.getTypedRuleContext(KI,t)};typeArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aN):this.getTypedRuleContext(aN,t)};accept(t){return t instanceof wI?t.visitFexpr(this):t.visitChildren(this)}}class KI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_excludexpr}renamexpr(){return this.getTypedRuleContext(JI,0)}DoubleBackslashes(){return this.getToken(kI.DoubleBackslashes,0)}btype(){return this.getTypedRuleContext(_I,0)}Backslash(){return this.getToken(kI.Backslash,0)}label(){return this.getTypedRuleContext(wN,0)}accept(t){return t instanceof wI?t.visitExcludexpr(this):t.visitChildren(this)}}class JI extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_renamexpr}dotexpr(){return this.getTypedRuleContext(tN,0)}BracketOpen(){return this.getToken(kI.BracketOpen,0)}label(){return this.getTypedRuleContext(wN,0)}LeftArrow(){return this.getToken(kI.LeftArrow,0)}labelDecl(){return this.getTypedRuleContext(ON,0)}BracketClose(){return this.getToken(kI.BracketClose,0)}accept(t){return t instanceof wI?t.visitRenamexpr(this):t.visitChildren(this)}}class tN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_dotexpr}aexpr(){return this.getTypedRuleContext(eN,0)}Dot=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Dot):this.getToken(kI.Dot,t)};label=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(wN):this.getTypedRuleContext(wN,t)};accept(t){return t instanceof wI?t.visitDotexpr(this):t.visitChildren(this)}}class eN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_aexpr}termName(){return this.getTypedRuleContext(RN,0)}IntLit(){return this.getToken(kI.IntLit,0)}StringLit(){return this.getToken(kI.StringLit,0)}document(){return this.getTypedRuleContext(xN,0)}Unit(){return this.getToken(kI.Unit,0)}True_(){return this.getToken(kI.True_,0)}False_(){return this.getToken(kI.False_,0)}Undefined_(){return this.getToken(kI.Undefined_,0)}array(){return this.getTypedRuleContext(nN,0)}record(){return this.getTypedRuleContext(rN,0)}recordUpdate(){return this.getTypedRuleContext(lN,0)}Dollar(){return this.getToken(kI.Dollar,0)}ctorName(){return this.getTypedRuleContext(mN,0)}ParenOpen(){return this.getToken(kI.ParenOpen,0)}expression(){return this.getTypedRuleContext(II,0)}ParenClose(){return this.getToken(kI.ParenClose,0)}accept(t){return t instanceof wI?t.visitAexpr(this):t.visitChildren(this)}}class nN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_array}BracketOpen(){return this.getToken(kI.BracketOpen,0)}BracketClose(){return this.getToken(kI.BracketClose,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Semicolon):this.getToken(kI.Semicolon,t)};accept(t){return t instanceof wI?t.visitArray(this):t.visitChildren(this)}}class rN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_record}BraceOpen(){return this.getToken(kI.BraceOpen,0)}BraceClose(){return this.getToken(kI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Semicolon):this.getToken(kI.Semicolon,t)};recordField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iN):this.getTypedRuleContext(iN,t)};methodPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(sN):this.getTypedRuleContext(sN,t)};defaultPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(oN):this.getTypedRuleContext(oN,t)};accept(t){return t instanceof wI?t.visitRecord(this):t.visitChildren(this)}}class iN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_recordField}labelDecl(){return this.getTypedRuleContext(ON,0)}Assign(){return this.getToken(kI.Assign,0)}expression(){return this.getTypedRuleContext(II,0)}Override(){return this.getToken(kI.Override,0)}selfAnno(){return this.getTypedRuleContext(fN,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitRecordField(this):t.visitChildren(this)}}class sN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_methodPattern}ParenOpen(){return this.getToken(kI.ParenOpen,0)}labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(ON):this.getTypedRuleContext(ON,t)};ParenClose(){return this.getToken(kI.ParenClose,0)}Dot(){return this.getToken(kI.Dot,0)}Assign(){return this.getToken(kI.Assign,0)}expression(){return this.getTypedRuleContext(II,0)}Override(){return this.getToken(kI.Override,0)}selfAnno(){return this.getTypedRuleContext(fN,0)}At(){return this.getToken(kI.At,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitMethodPattern(this):t.visitChildren(this)}}class oN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_defaultPattern}Dot(){return this.getToken(kI.Dot,0)}labelDecl(){return this.getTypedRuleContext(ON,0)}Assign(){return this.getToken(kI.Assign,0)}expression(){return this.getTypedRuleContext(II,0)}Underscore(){return this.getToken(kI.Underscore,0)}selfAnno(){return this.getTypedRuleContext(fN,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitDefaultPattern(this):t.visitChildren(this)}}class lN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_recordUpdate}BraceOpen(){return this.getToken(kI.BraceOpen,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};With(){return this.getToken(kI.With,0)}BraceClose(){return this.getToken(kI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Semicolon):this.getToken(kI.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(ON):this.getTypedRuleContext(ON,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Assign):this.getToken(kI.Assign,t)};accept(t){return t instanceof wI?t.visitRecordUpdate(this):t.visitChildren(this)}}class aN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_typeArg}At(){return this.getToken(kI.At,0)}btype(){return this.getTypedRuleContext(_I,0)}accept(t){return t instanceof wI?t.visitTypeArg(this):t.visitChildren(this)}}class uN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_typeParam}typeNameDecl(){return this.getTypedRuleContext(vN,0)}ParenOpen(){return this.getToken(kI.ParenOpen,0)}Asterisk(){return this.getToken(kI.Asterisk,0)}type(){return this.getTypedRuleContext(EI,0)}ParenClose(){return this.getToken(kI.ParenClose,0)}accept(t){return t instanceof wI?t.visitTypeParam(this):t.visitChildren(this)}}class cN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_termParam}termNameDecl(){return this.getTypedRuleContext(pN,0)}Underscore(){return this.getToken(kI.Underscore,0)}ParenOpen(){return this.getToken(kI.ParenOpen,0)}Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}ParenClose(){return this.getToken(kI.ParenClose,0)}wildcard(){return this.getTypedRuleContext(hN,0)}accept(t){return t instanceof wI?t.visitTermParam(this):t.visitChildren(this)}}class hN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_wildcard}BraceOpen(){return this.getToken(kI.BraceOpen,0)}DotDot(){return this.getToken(kI.DotDot,0)}BraceClose(){return this.getToken(kI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Semicolon):this.getToken(kI.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(ON):this.getTypedRuleContext(ON,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Assign):this.getToken(kI.Assign,t)};expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(II):this.getTypedRuleContext(II,t)};accept(t){return t instanceof wI?t.visitWildcard(this):t.visitChildren(this)}}class fN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_selfAnno}BracketOpen(){return this.getToken(kI.BracketOpen,0)}termNameDecl(){return this.getTypedRuleContext(pN,0)}BracketClose(){return this.getToken(kI.BracketClose,0)}Colon(){return this.getToken(kI.Colon,0)}type(){return this.getTypedRuleContext(EI,0)}accept(t){return t instanceof wI?t.visitSelfAnno(this):t.visitChildren(this)}}class dN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_sort}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(EI):this.getTypedRuleContext(EI,t)};FatArrow(){return this.getToken(kI.FatArrow,0)}accept(t){return t instanceof wI?t.visitSort(this):t.visitChildren(this)}}class vN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_typeNameDecl}UpperId(){return this.getToken(kI.UpperId,0)}accept(t){return t instanceof wI?t.visitTypeNameDecl(this):t.visitChildren(this)}}class gN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_typeName}UpperId(){return this.getToken(kI.UpperId,0)}accept(t){return t instanceof wI?t.visitTypeName(this):t.visitChildren(this)}}class pN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_termNameDecl}LowerId(){return this.getToken(kI.LowerId,0)}accept(t){return t instanceof wI?t.visitTermNameDecl(this):t.visitChildren(this)}}class mN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_ctorName}UpperId(){return this.getToken(kI.UpperId,0)}accept(t){return t instanceof wI?t.visitCtorName(this):t.visitChildren(this)}}class RN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_termName}LowerId(){return this.getToken(kI.LowerId,0)}UpperId(){return this.getToken(kI.UpperId,0)}accept(t){return t instanceof wI?t.visitTermName(this):t.visitChildren(this)}}class ON extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_labelDecl}LowerId(){return this.getToken(kI.LowerId,0)}UpperId(){return this.getToken(kI.UpperId,0)}accept(t){return t instanceof wI?t.visitLabelDecl(this):t.visitChildren(this)}}class wN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_label}LowerId(){return this.getToken(kI.LowerId,0)}UpperId(){return this.getToken(kI.UpperId,0)}accept(t){return t instanceof wI?t.visitLabel(this):t.visitChildren(this)}}class xN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_document}BacktickOpen(){return this.getToken(kI.BacktickOpen,0)}BacktickClose(){return this.getToken(kI.BacktickClose,0)}BacktickCloseAfterCmd(){return this.getToken(kI.BacktickCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yN):this.getTypedRuleContext(yN,t)};accept(t){return t instanceof wI?t.visitDocument(this):t.visitChildren(this)}}class yN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_docElement}command(){return this.getTypedRuleContext(bN,0)}interpolation(){return this.getTypedRuleContext(kN,0)}newline(){return this.getTypedRuleContext(CN,0)}plaintext(){return this.getTypedRuleContext(TN,0)}accept(t){return t instanceof wI?t.visitDocElement(this):t.visitChildren(this)}}class bN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_command}Command(){return this.getToken(kI.Command,0)}CommandAfterCmd(){return this.getToken(kI.CommandAfterCmd,0)}docArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(SN):this.getTypedRuleContext(SN,t)};accept(t){return t instanceof wI?t.visitCommand(this):t.visitChildren(this)}}class kN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_interpolation}expression(){return this.getTypedRuleContext(II,0)}ParenClose(){return this.getToken(kI.ParenClose,0)}Interpolation(){return this.getToken(kI.Interpolation,0)}InterpolationAfterCmd(){return this.getToken(kI.InterpolationAfterCmd,0)}accept(t){return t instanceof wI?t.visitInterpolation(this):t.visitChildren(this)}}class CN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_newline}NewLine(){return this.getToken(kI.NewLine,0)}NewLineAfterCmd(){return this.getToken(kI.NewLineAfterCmd,0)}accept(t){return t instanceof wI?t.visitNewline(this):t.visitChildren(this)}}class TN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_plaintext}PlainText(){return this.getToken(kI.PlainText,0)}PlainTextAfterCmd(){return this.getToken(kI.PlainTextAfterCmd,0)}accept(t){return t instanceof wI?t.visitPlaintext(this):t.visitChildren(this)}}class SN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_docArg}BracketOpenAsArg(){return this.getToken(kI.BracketOpenAsArg,0)}BracketCloseInDoc(){return this.getToken(kI.BracketCloseInDoc,0)}BracketCloseAfterCmd(){return this.getToken(kI.BracketCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yN):this.getTypedRuleContext(yN,t)};ParenOpenAsArg(){return this.getToken(kI.ParenOpenAsArg,0)}expression(){return this.getTypedRuleContext(II,0)}ParenClose(){return this.getToken(kI.ParenClose,0)}BraceOpenAsArg(){return this.getToken(kI.BraceOpenAsArg,0)}BraceClose(){return this.getToken(kI.BraceClose,0)}recordArgField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(AN):this.getTypedRuleContext(AN,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(kI.Semicolon):this.getToken(kI.Semicolon,t)};accept(t){return t instanceof wI?t.visitDocArg(this):t.visitChildren(this)}}class AN extends pI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=kI.RULE_recordArgField}labelDecl(){return this.getTypedRuleContext(ON,0)}Assign(){return this.getToken(kI.Assign,0)}expression(){return this.getTypedRuleContext(II,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof wI?t.visitRecordArgField(this):t.visitChildren(this)}}kI.ProgramContext=CI,kI.DefinitionContext=TI,kI.InterfaceDefContext=SI,kI.TypeDefContext=AI,kI.TermDefContext=PI,kI.TypeContext=EI,kI.BtypeContext=_I,kI.AtypeContext=LI,kI.RecordTypeContext=DI,kI.RecordTypeFieldContext=QI,kI.ExpressionContext=II,kI.OpexprContext=NI,kI.LexprContext=MI,kI.LambdaContext=$I,kI.BigLambdaContext=FI,kI.LetInContext=BI,kI.LetRecContext=UI,kI.OpenInContext=HI,kI.IfElseContext=qI,kI.TraitContext=VI,kI.NewTraitContext=XI,kI.FixpointContext=zI,kI.ToStrContext=WI,kI.FoldContext=jI,kI.UnfoldContext=GI,kI.RefContext=YI,kI.FexprContext=ZI,kI.ExcludexprContext=KI,kI.RenamexprContext=JI,kI.DotexprContext=tN,kI.AexprContext=eN,kI.ArrayContext=nN,kI.RecordContext=rN,kI.RecordFieldContext=iN,kI.MethodPatternContext=sN,kI.DefaultPatternContext=oN,kI.RecordUpdateContext=lN,kI.TypeArgContext=aN,kI.TypeParamContext=uN,kI.TermParamContext=cN,kI.WildcardContext=hN,kI.SelfAnnoContext=fN,kI.SortContext=dN,kI.TypeNameDeclContext=vN,kI.TypeNameContext=gN,kI.TermNameDeclContext=pN,kI.CtorNameContext=mN,kI.TermNameContext=RN,kI.LabelDeclContext=ON,kI.LabelContext=wN,kI.DocumentContext=xN,kI.DocElementContext=yN,kI.CommandContext=bN,kI.InterpolationContext=kN,kI.NewlineContext=CN,kI.PlaintextContext=TN,kI.DocArgContext=SN,kI.RecordArgFieldContext=AN;class PN extends wI{listify(t){let e=pR.value;for(const n of t.reverse())e=new mR(n,e);return e}visitProgram(t){const e=this.listify(t.definition().map(this.visitDefinition,this)),n=this.visitExpression(t.expression());return new XA(e,n)}visitDefinition(t){const e=t.typeDef(),n=t.termDef(),r=t.interfaceDef();return e?this.visitTypeDef(e):n?this.visitTermDef(n):this.visitInterfaceDef(r)}visitInterfaceDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=t.Extends()?new WS(this.visitBtype(t.btype())):zS.value,l=this.visitRecordType(t.recordType());return new qA(o,n,i,s,l)}visitTypeDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=this.visitType(t.type());return new qA(XS.value,n,i,s,o)}visitTermDef(t){const e=this.visitTermNameDecl(t.termNameDecl()),n=this.listify(t.typeParam().map(this.visitTypeParam,this)),r=this.listify(t.termParam().map(this.visitTermParam,this)),i=t.type()?new bg(this.visitType(t.type())):yg.value,s=this.visitExpression(t.expression());return new VA(e,n,r,i,s)}visitType(t){if(t.Intersect())return new LS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Arrow())return new _S(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Backslash())return new VS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Mu())return new NS(this.visitTypeNameDecl(t.typeNameDecl()),this.visitType(t.type(0)));if(t.ForAll())return new IS(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitType(t.type(0)));if(t.TraitType()){let e,n;return t.FatArrow()?(e=new bg(this.visitType(t.type(0))),n=this.visitType(t.type(1))):(e=yg.value,n=this.visitType(t.type(0))),new BS(e,n)}if(t.RefType())return new MS(this.visitBtype(t.btype(0)));{let e=this.visitBtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++)e=new $S(e,this.visitBtype(t.getChild(n)));return e}}visitBtype(t){let e=this.visitAtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++){const r=t.getChild(n);r.ruleIndex===kI.RULE_sort&&(e=new $S(e,this.visitSort(r)))}return e}visitAtype(t){if(t.getChild(0).symbol)switch(t.getChild(0).symbol.type){case kI.Int:return kS.value;case kI.Double:return CS.value;case kI.Bool:return SS.value;case kI.String:return TS.value;case kI.Unit:return AS.value;case kI.Top:return PS.value;case kI.Bot:return ES.value;case kI.BracketOpen:return new qS(this.visitType(t.type()));case kI.ParenOpen:return this.visitType(t.type());default:console.error("Error at Atype")}else switch(t.getChild(0).ruleIndex){case kI.RULE_typeName:return this.visitTypeName(t.typeName());case kI.RULE_recordType:return this.visitRecordType(t.recordType());default:console.error("Error at Atype")}}visitRecordType(t){return new DS(this.listify(t.recordTypeField().map(this.visitRecordTypeField,this)))}visitRecordTypeField(t){return new bS(this.visitLabelDecl(t.labelDecl()),this.visitType(t.type()),null!==t.Question())}visitExpression(t){const e={line:t.start.line,column:t.start.column},n=this.visitOpexpr(t.opexpr());let r;return r=t.Colon()?new cA(n,this.visitType(t.type())):n,new MA(e,r)}visitOpexpr(t){let e;switch(t.getChildCount()){case 1:return this.visitLexpr(t.lexpr());case 2:switch(t.getChild(0).symbol.type){case kI.Minus:e=xO.value;break;case kI.Length:e=yO.value;break;case kI.Sqrt:e=bO.value;break;case kI.Deref:return new _A(this.visitOpexpr(t.opexpr(0)));default:console.error("Error at Unary Opexpr")}return new rA(e,this.visitOpexpr(t.opexpr(0)));default:const n=this.visitOpexpr(t.opexpr(0)),r=this.visitOpexpr(t.opexpr(1));switch(t.getChild(1).symbol.type){case kI.Index:e=UO.value;break;case kI.Asterisk:e=new MO(QO.value);break;case kI.Slash:e=new MO(IO.value);break;case kI.Modulo:e=new MO(NO.value);break;case kI.Plus:e=new MO(LO.value);break;case kI.Minus:e=new MO(DO.value);break;case kI.Append:e=BO.value;break;case kI.Less:e=new $O(AO.value);break;case kI.Greater:e=new $O(EO.value);break;case kI.LessEqual:e=new $O(PO.value);break;case kI.GreaterEqual:e=new $O(_O.value);break;case kI.Equal:e=new $O(TO.value);break;case kI.NotEqual:e=new $O(SO.value);break;case kI.And:e=new FO(kO.value);break;case kI.Or:e=new FO(CO.value);break;case kI.Forward:return new bA(n,r);case kI.Merge:return new hA(jS.value,n,r);case kI.LeftistMerge:return new hA(GS.value,n,r);case kI.RightistMerge:return new hA(YS.value,n,r);case kI.BackslashMinus:return new TA(n,r);case kI.Walrus:return new LA(n,r);case kI.Seq:return new DA(n,r);default:console.error("Error at Binary Opexpr")}return new iA(e,n,r)}}visitLexpr(t){switch(t.getChild(0).ruleIndex){case kI.RULE_fexpr:return this.visitFexpr(t.fexpr());case kI.RULE_lambda:return this.visitLambda(t.lambda());case kI.RULE_bigLambda:return this.visitBigLambda(t.bigLambda());case kI.RULE_letIn:return this.visitLetIn(t.letIn());case kI.RULE_letRec:return this.visitLetRec(t.letRec());case kI.RULE_openIn:return this.visitOpenIn(t.openIn());case kI.RULE_ifElse:return this.visitIfElse(t.ifElse());case kI.RULE_trait:return this.visitTrait(t.trait());case kI.RULE_newTrait:return this.visitNewTrait(t.newTrait());case kI.RULE_fixpoint:return this.visitFixpoint(t.fixpoint());case kI.RULE_toStr:return this.visitToStr(t.toStr());case kI.RULE_fold:return this.visitFold(t.fold());case kI.RULE_unfold:return this.visitUnfold(t.unfold());case kI.RULE_ref:return this.visitRef(t.ref());default:console.error("Error at Lexpr")}}visitLambda(t){return new aA(this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression()))}visitBigLambda(t){return new pA(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitExpression(t.expression()))}visitLetIn(t){return new mA(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitLetRec(t){return new RA(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitType(t.type()),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitOpenIn(t){return new OA(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitIfElse(t){return new sA(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)),this.visitExpression(t.expression(2)))}visitTrait(t){return new xA(t.selfAnno()?new bg(this.visitSelfAnno(t.selfAnno())):yg.value,t.type()?new bg(this.visitType(t.type())):yg.value,2===t.opexpr().length?new bg(this.visitOpexpr(t.opexpr(0))):yg.value,2===t.opexpr().length?this.visitOpexpr(t.opexpr(1)):this.visitOpexpr(t.opexpr(0)))}visitNewTrait(t){return new yA(this.visitOpexpr(t.opexpr()))}visitFixpoint(t){return new uA(this.visitTermNameDecl(t.termNameDecl()),this.visitOpexpr(t.opexpr()),this.visitType(t.type()))}visitToStr(t){return new QA(this.visitDotexpr(t.dotexpr()))}visitFold(t){return new AA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitUnfold(t){return new PA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitRef(t){return new EA(this.visitDotexpr(t.dotexpr()))}visitFexpr(t){const e=t.getChild(0);let n,r;switch(e.ruleIndex){case kI.RULE_ctorName:n=new oA(this.visitCtorName(e)),r=!0;break;case kI.RULE_excludexpr:n=this.visitExcludexpr(e),r=!1;break;default:console.error("Error at Fexpr")}for(let e=1;e<t.getChildCount();e++){const r=t.getChild(e);n=r.ruleIndex===kI.RULE_excludexpr?new lA(n,this.visitExcludexpr(r)):new gA(n,this.visitTypeArg(r))}return r?new yA(n):n}visitExcludexpr(t){const e=this.visitRenamexpr(t.renamexpr());return t.DoubleBackslashes()?new kA(e,this.visitBtype(t.btype())):t.Backslash()?new CA(e,this.visitLabel(t.label())):e}visitRenamexpr(t){const e=this.visitDotexpr(t.dotexpr());return t.label()?new SA(e,this.visitLabel(t.label()),this.visitLabelDecl(t.labelDecl())):e}visitDotexpr(t){let e=this.visitAexpr(t.aexpr());for(let n=0;n<t.label().length;n++)e=new dA(e,this.visitLabel(t.label(n)));return e}visitAexpr(t){let e=t.getChild(0);switch(e.ruleIndex){case kI.RULE_termName:return this.visitTermName(t.termName());case kI.RULE_document:return this.visitDocument(t.document());case kI.RULE_array:return this.visitArray(t.array());case kI.RULE_record:return this.visitRecord(t.record());case kI.RULE_recordUpdate:return this.visitRecordUpdate(t.recordUpdate());default:switch(e.symbol.type){case kI.IntLit:let n=e.getText();return n.includes(".")||n.includes("e")||n.includes("E")?new KS(parseFloat(n)):"Xx".includes(n[1])?new ZS(parseInt(n.slice(2),16)):"Oo".includes(n[1])?new ZS(parseInt(n.slice(2),8)):new ZS(parseInt(n));case kI.StringLit:const r="'\"\\bfnrtv",i="'\"\\\b\f\n\r\t\v",s=e.getText().slice(1,-1);let o="";for(let t=0;t<s.length;t++)if("\\"==s[t]){t++;for(let e=0;e<r.length;e++)s[t]===r[e]&&(o+=i[e])}else o+=s[t];return new JS(o);case kI.Unit:return eA.value;case kI.True_:return new tA(!0);case kI.False_:return new tA(!1);case kI.Undefined_:return nA.value;case kI.Dollar:return new oA(this.visitCtorName(t.ctorName()));case kI.ParenOpen:return this.visitExpression(t.expression());default:console.error("error at Aexpr")}}}visitArray(t){return new IA(t.expression().map(this.visitExpression,this))}visitRecord(t){const e=[];for(let n=0;n<t.getChildCount();n++){let r=t.getChild(n);switch(r.ruleIndex){case kI.RULE_recordField:e.push(this.visitRecordField(r));break;case kI.RULE_methodPattern:e.push(this.visitMethodPattern(r));break;case kI.RULE_defaultPattern:e.push(this.visitDefaultPattern(r));break;default:continue}}return new fA(this.listify(e))}visitRecordField(t){return new BA(null!==t.Override(),this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),new Ig(this.visitExpression(t.expression())))}visitRecordUpdate(t){const e=[];for(let n=0;n<t.labelDecl().length;n++)e.push(new dp(this.visitLabelDecl(t.labelDecl(n)),this.visitExpression(t.expression(n+1))));return new wA(this.visitExpression(t.expression(0)),this.listify(e))}visitMethodPattern(t){let e=[],n=[],r=!1;for(let i=0;i<t.getChildCount();i++)t.getChild(i).symbol&&t.getChild(i).symbol.type===kI.Dot&&(r=!0),t.getChild(i).ruleIndex===kI.RULE_termParam&&(r?n.push(this.visitTermParam(t.getChild(i))):e.push(this.visitTermParam(t.getChild(i))));return new BA(null!==t.Override(),this.visitLabelDecl(t.labelDecl(0)),this.listify(e),new Ng(new HA(t.selfAnno()?new bg(this.visitSelfAnno(t.selfAnno())):yg.value,this.visitLabelDecl(t.labelDecl(1)),this.listify(n),this.visitExpression(t.expression()))))}visitDefaultPattern(t){return new UA(new HA(t.selfAnno()?new bg(this.visitSelfAnno(t.selfAnno())):yg.value,this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression())))}visitTypeArg(t){return this.visitBtype(t.btype())}visitTypeParam(t){return new dp(this.visitTypeNameDecl(t.typeNameDecl()),t.type()?new bg(this.visitType(t.type())):yg.value)}visitTermParam(t){switch(t.getChildCount()){case 1:switch(t.getChild(0).ruleIndex){case kI.RULE_termNameDecl:return new $A(this.visitTermNameDecl(t.termNameDecl()),yg.value);case kI.RULE_Underscore:return new $A("_",yg.value);case kI.RULE_wildcard:return this.visitWildcard(t.wildcard());default:console.error("Error at TermParam")}case 5:return new $A(null===t.termNameDecl()?"_":this.visitTermNameDecl(t.termNameDecl()),new bg(this.visitType(t.type())));default:console.error("Error at TermParam")}}visitWildcard(t){const e=t.labelDecl().map(this.visitLabelDecl,this),n=t.expression().map(this.visitExpression,this),r=[];for(let t=0;t<e.length;t++)r.push(new dp(e[t],n[t]));return new FA(this.listify(r))}visitSelfAnno(t){return new dp(this.visitTermNameDecl(t.termNameDecl()),t.type()?new bg(this.visitType(t.type())):yg.value)}visitSort(t){let e,n;return t.FatArrow()?(e=this.visitType(t.type(0)),n=new bg(this.visitType(t.type(1)))):(e=this.visitType(t.type(0)),n=yg.value),new US(e,n)}visitTypeNameDecl(t){return t.getText()}visitTypeName(t){return new QS(t.getText())}visitTermNameDecl(t){return t.getText()}visitCtorName(t){return t.getText()}visitTermName(t){switch(t.getChild(0).symbol.type){case kI.LowerId:return new oA(t.getText());case kI.UpperId:return new yA(new oA(t.getText()));default:console.error("Error at TermName")}}visitLabelDecl(t){return t.getText()}visitLabel(t){return t.getText()}visitDocument(t){const e={line:t.start.line,column:t.start.column},n=t.docElement();let r;if(0===n.length)r=new yA(new lA(new oA("Str"),new JS("")));else{r=this.visitDocElement(n[0]);for(let t of n.slice(1))r=new yA(new lA(new lA(new oA("Comp"),r),this.visitDocElement(t)))}return new MA(e,new NA(r))}visitDocElement(t){const e=t.getChild(0);switch(e.ruleIndex){case kI.RULE_command:return this.visitCommand(e);case kI.RULE_interpolation:return this.visitInterpolation(e);case kI.RULE_newline:return this.visitNewline(e);case kI.RULE_plaintext:return this.visitPlaintext(e);default:console.error("Error at DocElement")}}visitCommand(t){const e={line:t.start.line,column:t.start.column},n=t.getChild(0).getText().slice(1),r=t.docArg().map(this.visitDocArg,this);let i=new oA(n);for(const t of r)i=new lA(i,t);return n[0].toUpperCase()===n[0]?new MA(e,new yA(i)):new MA(e,i)}visitInterpolation(t){return new yA(new lA(new oA("Str"),new QA(this.visitExpression(t.expression()))))}visitNewline(t){return new yA(new oA("Endl"))}visitPlaintext(t){return new yA(new lA(new oA("Str"),new JS(t.getText())))}visitDocArg(t){switch(t.getChild(0).symbol.type){case kI.BracketOpenAsArg:return this.visitDocument(t);case kI.ParenOpenAsArg:return this.visitExpression(t.expression());case kI.BraceOpenAsArg:return new fA(this.listify(t.recordArgField().map(this.visitRecordArgField,this)));default:console.error("Error at DocArg")}}visitRecordArgField(t){const e=this.listify(t.termParam().map(this.visitTermParam,this));return new BA(!1,this.visitLabelDecl(t.labelDecl()),e,new Ig(this.visitExpression(t.expression())))}}class EN extends OI{constructor(t){super(t)}popMode(){return 0===this._modeStack.length?(this._interp.debug&&console.log("Mode stack is empty. Mode remains unchanged."),this._mode):(this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode)}}class _N extends pI.error.ErrorListener{constructor(){super()}syntaxError(t,e,n,r,i,s){throw"SyntaxError at line "+n+":"+r+"\n"+i.charAt(0).toUpperCase()+i.slice(1)}}const LN=new class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}(Kl.define({parser:av.configure({props:[ga.add({RecordType:ya(),Record:ya()}),ka.add({RecordType:t=>({from:t.from+1,to:t.to-1}),Record:t=>({from:t.from+1,to:t.to-1}),Document:t=>({from:t.from+1,to:t.to-1})}),kl({"type interface extends let letrec trait implements inherits":Xl.definitionKeyword,"if then else new fix open in with toString fold unfold ref forall mu Int Double Bool String Top Bot Trait Ref":Xl.keyword,override:Xl.modifier,"true false undefined":Xl.atom,Unit:Xl.unit,TermName:Xl.variableName,TermNameDecl:Xl.definition(Xl.variableName),Label:Xl.propertyName,LabelDecl:Xl.definition(Xl.propertyName),LineComment:Xl.lineComment,BlockComment:Xl.blockComment,Number:Xl.number,String:Xl.string,Document:Xl.docString,TypeOp:Xl.typeOperator,ArithOp:Xl.arithmeticOperator,LogicOp:Xl.logicOperator,CompareOp:Xl.compareOperator,MergeOp:Xl.operator,TraitArrow:Xl.definition(Xl.punctuation),"( )":Xl.paren,"{ }":Xl.brace,"[ ]":Xl.squareBracket,"< >":Xl.angleBracket,".":Xl.derefOperator,";":Xl.separator})]}),languageData:{closeBrackets:{brackets:["{","(","[",'"',"`"]},commentTokens:{line:"--",block:{open:"{-",close:"-}"}}}})),DN=new J;function QN(t,e){const n={key:"Mod-Enter",run:()=>(e(),!0)};return Tt.create({doc:t,extensions:[Zi.lineWrapping,Tt.tabSize.of(2),ss.of([th,n]),DN.of([]),Nd]})}function IN(t,e){return new Zi({state:t,parent:e})}function NN(t){return hI(function(t){const e=new pI.InputStream(t),n=new EN(e);n.removeErrorListeners(),n.addErrorListener(new _N);const r=new pI.CommonTokenStream(n),i=new kI(r);return i.buildParseTrees=!0,i.removeErrorListeners(),i.addErrorListener(new _N),i.program().accept(new PN)}(t))()}bundle=e})();