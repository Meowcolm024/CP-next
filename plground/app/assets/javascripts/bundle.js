var bundle;(()=>{var t={654:()=>{}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{cp:()=>mM,editorState:()=>OM,editorView:()=>wM,interpret:()=>xM,language:()=>RM});class t{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),i.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),i.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new l(this),i=new l(t);for(let t=e,s=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(t=1){return new l(this,t)}iterRange(t,e=this.length){return new a(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(n){if(0==n.length)throw new RangeError("A document must have at least one line");return 1!=n.length||n[0]?n.length<=32?new e(n):i.from(e.split(n,[])):t.empty}}class e extends t{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.text[i],o=r+s.length;if((e?n:o)>=t)return new c(r,o,n,s);r=o+1,n++}}decompose(t,n,r,i){let l=t<=0&&n>=this.length?this:new e(o(this.text,t,n),Math.min(n,this.length)-Math.max(0,t));if(1&i){let t=r.pop(),n=s(l.text,t.text.slice(),0,l.length);if(n.length<=32)r.push(new e(n,t.length+l.length));else{let t=n.length>>1;r.push(new e(n.slice(0,t)),new e(n.slice(t)))}}else r.push(l)}replace(t,n,r){if(!(r instanceof e))return super.replace(t,n,r);let l=s(this.text,s(r.text,o(this.text,0,t)),n),a=this.length+r.length-(n-t);return l.length<=32?new e(l,a):i.from(e.split(l,[]),a)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,s=0;i<=e&&s<this.text.length;s++){let o=this.text[s],l=i+o.length;i>t&&s&&(r+=n),t<l&&e>i&&(r+=o.slice(Math.max(0,t-i),e-i)),i=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,n){let r=[],i=-1;for(let s of t)r.push(s),i+=s.length+1,32==r.length&&(n.push(new e(r,i)),r=[],i=-1);return i>-1&&n.push(new e(r,i)),n}}class i extends t{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.children[i],o=r+s.length,l=n+s.lines-1;if((e?l:o)>=t)return s.lineInner(t,e,n,r);r=o+1,n=l+1}}decompose(t,e,n,r){for(let i=0,s=0;s<=e&&i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(t<=l&&e>=s){let i=r&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!i?n.push(o):o.decompose(t-s,e-s,n,i)}s=l+1}}replace(t,e,n){if(n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(t>=s&&e<=l){let a=o.replace(t-s,e-s,n),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let s=this.children.slice();return s[r]=a,new i(s,this.length-(e-t)+n.length)}return super.replace(s,l,a)}s=l+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let r="";for(let i=0,s=0;i<this.children.length&&s<=e;i++){let o=this.children[i],l=s+o.length;s>t&&i&&(r+=n),t<l&&e>s&&(r+=o.sliceString(t-s,e-s,n)),s=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof i))return 0;let n=0,[r,s,o,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,s+=e){if(r==o||s==l)return n;let i=this.children[r],a=t.children[s];if(i!=a)return n+i.scanIdentical(a,e);n+=i.length+1}}static from(t,n=t.reduce(((t,e)=>t+e.length+1),-1)){let r=0;for(let e of t)r+=e.lines;if(r<32){let r=[];for(let e of t)e.flatten(r);return new e(r,n)}let s=Math.max(32,r>>5),o=s<<1,l=s>>1,a=[],u=0,c=-1,h=[];function f(t){let n;if(t.lines>o&&t instanceof i)for(let e of t.children)f(e);else t.lines>l&&(u>l||!u)?(v(),a.push(t)):t instanceof e&&u&&(n=h[h.length-1])instanceof e&&t.lines+n.lines<=32?(u+=t.lines,c+=t.length+1,h[h.length-1]=new e(n.text.concat(t.text),n.length+1+t.length)):(u+t.lines>s&&v(),u+=t.lines,c+=t.length+1,h.push(t))}function v(){0!=u&&(a.push(1==h.length?h[0]:i.from(h,c)),c=-1,u=h.length=0)}for(let e of t)f(e);return v(),1==a.length?a[0]:new i(a,n)}}function s(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let l=t[s],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function o(t,e,n){return s(t,[""],e,n)}t.empty=new e([""],0);class l{constructor(t,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof e?t.text.length:t.children.length)<<1]}nextInner(t,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,l=i instanceof e?i.text.length:i.children.length;if(o==(n>0?l:0)){if(0==r)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(n>0?0:1)){if(this.offsets[r]+=n,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof e){let e=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,e.length>Math.max(0,t))return this.value=0==t?e:n>0?e.slice(t):e.slice(0,e.length-t),this;t-=e.length}else{let s=i.children[o+(n<0?-1:0)];t>s.length?(t-=s.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(s),this.offsets.push(n>0?1:(s instanceof e?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class a{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new l(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=a.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class c{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}let h="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<h.length;t++)h[t]+=h[t-1];function f(t){for(let e=1;e<h.length;e+=2)if(h[e]>t)return h[e-1]<=t;return!1}function v(t){return t>=127462&&t<=127487}function d(t,e,n=!0,r=!0){return(n?g:p)(t,e,r)}function g(t,e,n){if(e==t.length)return e;e&&m(t.charCodeAt(e))&&R(t.charCodeAt(e-1))&&e--;let r=O(t,e);for(e+=x(r);e<t.length;){let i=O(t,e);if(8205==r||8205==i||n&&f(i))e+=x(i),r=i;else{if(!v(i))break;{let n=0,r=e-2;for(;r>=0&&v(O(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function p(t,e,n){for(;e>0;){let r=g(t,e-2,n);if(r<e)return r;e--}return 0}function m(t){return t>=56320&&t<57344}function R(t){return t>=55296&&t<56320}function O(t,e){let n=t.charCodeAt(e);if(!R(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return m(r)?r-56320+(n-55296<<10)+65536:n}function w(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function x(t){return t<65536?1:2}const y=/\r\n?|\n/;var b=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(b||(b={}));class C{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];s<0?(t(n,r,i),r+=i):r+=s,n+=i}}iterChangedRanges(t,e=!1){A(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new C(t)}composeDesc(t){return this.empty?t:t.empty?this:E(this,t)}mapDesc(t,e=!1){return t.empty?this:P(this,t,e)}mapPos(t,e=-1,n=b.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],a=r+o;if(l<0){if(a>t)return i+(t-r);i+=o}else{if(n!=b.Simple&&a>=t&&(n==b.TrackDel&&r<t&&a>t||n==b.TrackBefore&&r<t||n==b.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!o)return t==r||e<0?i:i+l;i+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new C(t)}static create(t){return new C(t)}}class S extends C{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return A(this,((e,n,r,i,s)=>t=t.replace(r,r+(n-e),s)),!1),t}mapDesc(t,e=!1){return P(this,t,e,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(t.empty);r.push(o?e.slice(s,s+o):t.empty)}s+=o}return new S(n,r)}compose(t){return this.empty?t:t.empty?this:E(this,t,!0)}map(t,e=!1){return t.empty?this:P(this,t,e,!0)}iterChanges(t,e=!1){A(this,t,e)}get desc(){return C.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new _(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,l-o);T(r,t,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;T(e,t,s),s>0&&k(n,e,i.text),i.forward(t),o+=t}let a=t[s++];for(;o<a;){if(i.done)break t;let t=Math.min(i.len,a-o);T(e,t,-1),T(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),o+=t}}return{changes:new S(e,n),filtered:C.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(e,n,r){let i=[],s=[],o=0,l=null;function a(t=!1){if(!t&&!i.length)return;o<n&&T(i,n-o,-1);let e=new S(i,s);l=l?l.compose(e.map(l)):e,i=[],s=[],o=0}return function e(u){if(Array.isArray(u))for(let t of u)e(t);else if(u instanceof S){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:e,to:l=e,insert:c}=u;if(e>l||e<0||l>n)throw new RangeError(`Invalid change range ${e} to ${l} (in doc of length ${n})`);let h=c?"string"==typeof c?t.of(c.split(r||y)):c:t.empty,f=h.length;if(e==l&&0==f)return;e<o&&a(),e>o&&T(i,e-o,-1),T(i,l-e,f),k(s,i,h),o=l}}(e),a(!l),l}static empty(t){return new S(t?[t,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if("number"==typeof s)n.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)n.push(s[0],0);else{for(;r.length<i;)r.push(t.empty);r[i]=t.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new S(n,r)}static createSet(t,e){return new S(t,e)}}function T(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function k(e,n,r){if(0==r.length)return;let i=n.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(r);else{for(;e.length<i;)e.push(t.empty);e.push(r)}}function A(e,n,r){let i=e.inserted;for(let s=0,o=0,l=0;l<e.sections.length;){let a=e.sections[l++],u=e.sections[l++];if(u<0)s+=a,o+=a;else{let c=s,h=o,f=t.empty;for(;c+=a,h+=u,u&&i&&(f=f.append(i[l-2>>1])),!(r||l==e.sections.length||e.sections[l+1]<0);)a=e.sections[l++],u=e.sections[l++];n(s,c,o,h,f),s=c,o=h}}}function P(t,e,n,r=!1){let i=[],s=r?[]:null,o=new _(t),l=new _(e);for(let t=-1;;)if(-1==o.ins&&-1==l.ins){let t=Math.min(o.len,l.len);T(i,t,-1),o.forward(t),l.forward(t)}else if(l.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(l.len<o.len||l.len==o.len&&!n))){let e=l.len;for(T(i,l.ins,-1);e;){let n=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=n&&(T(i,0,o.ins),s&&k(s,i,o.text),t=o.i),o.forward(n),e-=n}l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?S.createSet(i,s):C.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=o.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}T(i,e,t<o.i?o.ins:0),s&&t<o.i&&k(s,i,o.text),t=o.i,o.forward(o.len-n)}}}function E(t,e,n=!1){let r=[],i=n?[]:null,s=new _(t),o=new _(e);for(let t=!1;;){if(s.done&&o.done)return i?S.createSet(r,i):C.create(r);if(0==s.ins)T(r,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=r.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;T(r,e,n,t),i&&n&&k(i,r,o.text)}else-1==o.ins?(T(r,s.off?0:s.len,e,t),i&&k(i,r,s.textBit(e))):(T(r,s.off?0:s.len,o.off?0:o.ins,t),i&&!o.off&&k(i,r,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||r.length>n),s.forward2(e),o.forward(e)}}else T(r,0,o.ins,t),i&&k(i,r,o.text),o.next()}}class _{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?t.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?t.empty:n[r].slice(this.off,null==e?void 0:this.off+e)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class L{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new L(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return D.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return D.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return D.range(t.anchor,t.head)}static create(t,e,n){return new L(t,e,n)}}class D{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:D.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new D([this.main],0)}addRange(t,e=!0){return D.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,D.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new D(t.ranges.map((t=>L.fromJSON(t))),t.main)}static single(t,e=t){return new D([D.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return D.normalized(t.slice(),e);n=i.to}return new D(t,e)}static cursor(t,e=0,n,r){return L.create(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!=r?r:33554431)<<5)}static range(t,e,n){let r=(null!=n?n:33554431)<<5;return e<t?L.create(e,t,24|r):L.create(t,e,r|(e>t?4:0))}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?D.range(o,s):D.range(s,o))}}return new D(t,e)}}function I(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let N=0;class Q{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=N++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}static define(t={}){return new Q(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:M),!!t.static,t.enables)}of(t){return new B([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function M(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class B{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=N++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,s=t[i]>>1,o=2==this.type,l=!1,a=!1,u=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?a=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&u.push(t[n.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||q(t,u)){let e=n(t);if(o?!F(e,t.values[s],r):!r(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let l=n(t),a=e.config.address[i];if(null!=a){let n=et(e,a);if(this.dependencies.every((n=>n instanceof Q?e.facet(n)===t.facet(n):!(n instanceof X)||e.field(n,!1)==t.field(n,!1)))||(o?F(l,n,r):r(l,n)))return t.values[s]=n,0}return t.values[s]=l,1}}}}function F(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function q(t,e){let n=!1;for(let r of e)1&tt(t,r)&&(n=!0);return n}function $(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),s=r.filter((t=>!(1&t))),o=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<r.length;e++){let s=et(t,r[e]);if(2==i[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of r)tt(t,e);return t.values[o]=l(t),1},update(t,n){if(!q(t,s))return 0;let r=l(t);return e.compare(r,t.values[o])?0:(t.values[o]=r,1)},reconfigure(t,i){let s=q(t,r),a=i.config.facets[e.id],u=i.facet(e);if(a&&!s&&M(n,a))return t.values[o]=u,0;let c=l(t);return e.compare(c,u)?(t.values[o]=u,0):(t.values[o]=c,1)}}}const U=Q.define({static:!0});class X{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new X(N++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(U).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,U.of({field:this,create:t})]}get extension(){return this}}const H=4,V=3,W=2,z=1;function G(t){return e=>new Y(e,t)}const j={highest:G(0),high:G(z),default:G(W),low:G(V),lowest:G(H)};class Y{constructor(t,e){this.inner=t,this.prec=e}}class Z{of(t){return new K(this,t)}reconfigure(t){return Z.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class K{constructor(t,e){this.compartment=t,this.inner=e}}class J{constructor(t,e,n,r,i,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),s=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(t,o){let l=i.get(t);if(null!=l){if(l<=o)return;let e=r[l].indexOf(t);e>-1&&r[l].splice(e,1),t instanceof K&&n.delete(t.compartment)}if(i.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof K){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(t.compartment)||t.inner;n.set(t.compartment,r),s(r,o)}else if(t instanceof Y)s(t.inner,t.prec);else if(t instanceof X)r[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof B)r[o].push(t),t.facet.extensions&&s(t.facet.extensions,W);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,W),r.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof X?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let o=Object.create(null),l=[],a=[];for(let t of r)o[t.id]=a.length<<1,a.push((e=>t.slot(e)));let u=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,s=u&&u[t]||[];if(e.every((t=>0==t.type)))if(o[r.id]=l.length<<1|1,M(s,e))l.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));l.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(o[t.id]=l.length<<1|1,l.push(t.value)):(o[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));o[r.id]=a.length<<1,a.push((t=>$(t,r,e)))}}let c=a.map((t=>t(o)));return new J(t,s,c,o,l,i)}}function tt(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function et(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const nt=Q.define(),rt=Q.define({combine:t=>t.some((t=>t)),static:!0}),it=Q.define({combine:t=>t.length?t[0]:void 0,static:!0}),st=Q.define(),ot=Q.define(),lt=Q.define(),at=Q.define({combine:t=>!!t.length&&t[0]});class ut{constructor(t,e){this.type=t,this.value=e}static define(){return new ct}}class ct{of(t){return new ut(this,t)}}class ht{constructor(t){this.map=t}of(t){return new ft(this,t)}}class ft{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new ft(this.type,e)}is(t){return this.type==t}static define(t={}){return new ht(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}ft.reconfigure=ft.define(),ft.appendConfig=ft.define();class vt{constructor(t,e,n,r,i,s){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,n&&I(n,e.newLength),i.some((t=>t.type==vt.time))||(this.annotations=i.concat(vt.time.of(Date.now())))}static create(t,e,n,r,i,s){return new vt(t,e,n,r,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(vt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function dt(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else{if(!(i<e.length))return n;s=e[i++],o=e[i++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function gt(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=S.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:ft.mapEffects(t.effects,i).concat(ft.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function pt(t,e,n){let r=e.selection,i=Ot(e.annotations);return e.userEvent&&(i=i.concat(vt.userEvent.of(e.userEvent))),{changes:e.changes instanceof S?e.changes:S.of(e.changes||[],n,t.facet(it)),selection:r&&(r instanceof D?r:D.single(r.anchor,r.head)),effects:Ot(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function mt(t,e,n){let r=pt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let s=!!e[i].sequential;r=gt(r,pt(t,e[i],s?r.changes.newLength:t.doc.length),s)}let i=vt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(lt),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=gt(t,pt(e,s,t.changes.newLength),!0))}return r==t?t:vt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(st)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:dt(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=S.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=vt.create(e,r,t.selection&&t.selection.map(i),ft.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(ot);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof vt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof vt?i[0]:mt(e,Ot(i),!1)}return t}(i):i)}vt.time=ut.define(),vt.userEvent=ut.define(),vt.addToHistory=ut.define(),vt.remote=ut.define();const Rt=[];function Ot(t){return null==t?Rt:Array.isArray(t)?t:[t]}var wt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(wt||(wt={}));const xt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let yt;try{yt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}function bt(t){return e=>{if(!/\S/.test(e))return wt.Space;if(function(t){if(yt)return yt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||xt.test(n)))return!0}return!1}(e))return wt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return wt.Word;return wt.Other}}class Ct{constructor(t,e,n,r,i,s){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)tt(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return tt(this,n),et(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return mt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(Z.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(ft.reconfigure)?(n=null,r=e.value):e.is(ft.appendConfig)&&(n=null,r=Ot(r).concat(e.value));if(n)e=t.startState.values.slice();else{n=J.resolve(r,i,this);let t=new Ct(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}new Ct(n,t.newDoc,t.newSelection,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:D.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],s=Ot(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),l=this.changes(o.changes),a=l.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(a);let u=r.mapDesc(l,!0);i.push(o.range.map(u)),r=r.compose(a),s=ft.mapEffects(s,a).concat(ft.mapEffects(Ot(o.effects),u))}return{changes:r,selection:D.create(i,e.mainIndex),effects:s}}changes(t=[]){return t instanceof S?t:S.of(t,this.doc.length,this.facet(Ct.lineSeparator))}toText(e){return t.of(e.split(this.facet(Ct.lineSeparator)||y))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(tt(this,e),et(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof X&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],s=t[e];r.push(i.init((t=>i.spec.fromJSON(s,t))))}return Ct.create({doc:t.doc,selection:D.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(e={}){let n=J.resolve(e.extensions||[],new Map),r=e.doc instanceof t?e.doc:t.of((e.doc||"").split(n.staticFacet(Ct.lineSeparator)||y)),i=e.selection?e.selection instanceof D?e.selection:D.single(e.selection.anchor,e.selection.head):D.single(0);return I(i,r.length),n.staticFacet(rt)||(i=i.asSingle()),new Ct(n,r,i,n.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Ct.tabSize)}get lineBreak(){return this.facet(Ct.lineSeparator)||"\n"}get readOnly(){return this.facet(at)}phrase(t,...e){for(let e of this.facet(Ct.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(nt))for(let s of i(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&r.push(s[t]);return r}charCategorizer(t){return bt(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=d(e,s,!1);if(i(e.slice(t,s))!=wt.Word)break;s=t}for(;o<r;){let t=d(e,o);if(i(e.slice(o,t))!=wt.Word)break;o=t}return s==o?null:D.range(s+n,o+n)}}function St(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],s=r[t];if(void 0===s)r[t]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](s,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}Ct.allowMultipleSelections=rt,Ct.tabSize=Q.define({combine:t=>t.length?t[0]:4}),Ct.lineSeparator=it,Ct.readOnly=at,Ct.phrases=Q.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),Ct.languageData=nt,Ct.changeFilter=st,Ct.transactionFilter=ot,Ct.transactionExtender=lt,Z.reconfigure=ft.define();class Tt{eq(t){return this==t}range(t,e=t){return kt.create(t,e,this)}}Tt.prototype.startSide=Tt.prototype.endSide=0,Tt.prototype.point=!1,Tt.prototype.mapMode=b.TrackDel;class kt{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new kt(t,e,n)}}function At(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Pt{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let s=r,o=i.length;;){if(s==o)return s;let r=s+o>>1,l=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==s)return l>=0?s:o;l>=0?o=r:s=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,i);i<s;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,u,c=this.value[l],h=this.from[l]+t,f=this.to[l]+t;if(h==f){let t=e.mapPos(h,c.startSide,c.mapMode);if(null==t)continue;if(a=u=t,c.startSide!=c.endSide&&(u=e.mapPos(h,c.endSide),u<a))continue}else if(a=e.mapPos(h,c.startSide),u=e.mapPos(f,c.endSide),a>u||a==u&&c.startSide>0&&c.endSide<=0)continue;(u-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,u-a)),n.push(c),r.push(a-s),i.push(u-s))}return{mapped:n.length?new Pt(r,i,n,o):null,pos:s}}}class Et{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new Et(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(At)),this.isEmpty)return e.length?Et.of(e):this;let o=new Dt(this,null,-1).goto(0),l=0,a=[],u=new _t;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let t=e[l++];u.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||i<o.from||s(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||a.push(kt.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!a.length?Et.empty:this.nextLayer.update({add:a,filter:s,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i],l=t.touchesRange(s,s+o.length);if(!1===l)r=Math.max(r,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===l){let{mapped:i,pos:l}=o.map(s,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(l))}}let i=this.nextLayer.map(t);return 0==e.length?i:new Et(n,e,i||Et.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r];if(e>=i&&t<=i+s.length&&!1===s.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return It.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return It.from(t).goto(e)}static compare(t,e,n,r,i=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),l=Lt(s,o,n),a=new Qt(s,l,i),u=new Qt(o,l,i);n.iterGaps(((t,e,n)=>Mt(a,t,u,e,n,r))),n.empty&&0==n.length&&Mt(a,0,u,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=1e9);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=s.length)return!1;if(!i.length)return!0;let o=Lt(i,s),l=new Qt(i,o,0).goto(n),a=new Qt(s,o,0).goto(n);for(;;){if(l.to!=a.to||!Bt(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>r)return!0;l.next(),a.next()}}static spans(t,e,n,r,i=-1){let s=new Qt(t,null,i).goto(e),o=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point?(r.point(o,t,s.point,s.activeForPoint(s.to),l,s.pointRank),l=s.openEnd(t)+(s.to>t?1:0)):t>o&&(r.span(o,t,s.active,l),l=s.openEnd(t)),s.to>n)break;o=s.to,s.next()}return l}static of(t,e=!1){let n=new _t;for(let r of t instanceof kt?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(At(e,r)>0)return t.slice().sort(At);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}}Et.empty=new Et([],[],null,-1),Et.empty.nextLayer=Et.empty;class _t{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new Pt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new _t)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Et.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Et.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Lt(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=r.get(t.chunk[e]);null==s||(n?n.mapPos(s):s)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(s,s+t.chunk[e].length))||i.add(t.chunk[e])}return i}class Dt{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class It{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let s=t[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new Dt(s,e,n,i));return 1==r.length?r[0]:new It(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Nt(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Nt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Nt(this.heap,0)}}}function Nt(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Qt{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=It.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ft(this.active,t),Ft(this.activeTo,t),Ft(this.activeRank,t),this.minActive=$t(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=i;)e++;qt(this.active,e,n),qt(this.activeTo,e,r),qt(this.activeRank,e,i),t&&qt(t,e,this.cursor.from),this.minActive=$t(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null,r=0;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Ft(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let i=this.cursor.value;if(i.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.from<t&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.from<t&&this.cursor.to>t&&r++,this.cursor.next()}}}if(n){let e=0;for(;e<n.length&&n[e]<t;)e++;this.openStart=e+r}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Mt(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,l=r,a=r-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,r=e<0?t.to+a:n.to,i=Math.min(r,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Bt(t.activeForPoint(t.to+a),n.activeForPoint(n.to))||s.comparePoint(l,i,t.point,n.point):i>l&&!Bt(t.active,n.active)&&s.compareRange(l,i,t.active,n.active),r>o)break;l=r,e<=0&&t.next(),e>=0&&n.next()}}function Bt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ft(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function qt(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function $t(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Ut(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=d(t,i));return r}function Xt(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=d(t,r)}return!0===r?-1:t.length}const Ht="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Vt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class zt{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,s,o){let l=[],a=/^@(\w+)\b/.exec(t[0]),u=a&&"keyframes"==a[1];if(a&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),o,l,u)}else null!=o&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(l.length||u)&&s.push((!n||a||o?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=Wt[Ht]||1;return Wt[Ht]=t+1,"ͼ"+t.toString(36)}static mount(t,e){(t[Vt]||new jt(t)).mount(Array.isArray(e)?e:[e])}}let Gt=null;class jt{constructor(t){if(!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Gt)return t.adoptedStyleSheets=[Gt.sheet].concat(t.adoptedStyleSheets),t[Vt]=Gt;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),Gt=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[],t[Vt]=this}mount(t){let e=this.sheet,n=0,r=0;for(let i=0;i<t.length;i++){let s=t[i],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),e)for(let t=0;t<s.rules.length;t++)e.insertRule(s.rules[t],n++)}else{for(;r<o;)n+=this.modules[r++].rules.length;n+=s.rules.length,r++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}}for(var Yt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Kt="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Jt=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),te="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ee=Jt||Kt&&+Kt[1]<57,ne=0;ne<10;ne++)Yt[48+ne]=Yt[96+ne]=String(ne);for(ne=1;ne<=24;ne++)Yt[ne+111]="F"+ne;for(ne=65;ne<=90;ne++)Yt[ne]=String.fromCharCode(ne+32),Zt[ne]=String.fromCharCode(ne);for(var re in Yt)Zt.hasOwnProperty(re)||(Zt[re]=Yt[re]);function ie(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function se(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function oe(t,e){if(!e.anchorNode)return!1;try{return se(t,e.anchorNode)}catch(t){return!1}}function le(t){return 3==t.nodeType?Oe(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ae(t,e,n,r){return!!n&&(ce(t,e,n,r,-1)||ce(t,e,n,r,1))}function ue(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ce(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:he(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=ue(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?he(t):0}}}function he(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}const fe={left:0,right:0,top:0,bottom:0};function ve(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function de(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class ge{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let pe,me=null;function Re(t){if(t.setActive)return t.setActive();if(me)return t.focus(me);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==me?{get preventScroll(){return me={preventScroll:!0},!0}}:void 0),!me){me=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function Oe(t,e,n=e){let r=pe||(pe=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function we(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function xe(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}class ye{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new ye(t.parentNode,ue(t),e)}static after(t,e){return new ye(t.parentNode,ue(t)+1,e)}}const be=[];class Ce{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,e){return null}sync(t){if(2&this.dirty){let e,n=this.dom,r=null;for(let i of this.children){if(i.dirty){if(!i.dom&&(e=r?r.nextSibling:n.firstChild)){let t=Ce.get(e);t&&(t.parent||t.constructor!=i.constructor)||i.reuseDOM(e)}i.sync(t),i.dirty=0}if(e=r?r.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&e!=i.dom&&(t.written=!0),i.dom.parentNode==n)for(;e&&e!=i.dom;)e=Se(e);else n.insertBefore(i.dom,e);r=i.dom}for(e=r?r.nextSibling:n.firstChild,e&&t&&t.node==n&&(t.written=!0);e;)e=Se(e)}else if(1&this.dirty)for(let e of this.children)e.dirty&&(e.sync(t),e.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==he(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ce.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,s=-1,o=-1;for(let l=0,a=n,u=n;l<this.children.length;l++){let n=this.children[l],c=a+n.length;if(a<t&&c>e)return n.domBoundsAround(t,e,a);if(c>=t&&-1==r&&(r=l,i=a),a>e&&n.dom.parentNode==this.dom){s=l,o=u;break}u=c,a=c+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),1&e.dirty)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=be){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&t.destroy()}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Te(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}merge(t,e,n,r,i,s){return!1}become(t){return!1}getSide(){return 0}destroy(){this.parent=null}}function Se(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Ce.prototype.breakAfter=0;class Te{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function ke(t,e,n,r,i,s,o,l,a){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,0==n,l,a))){if(r<u.length){let t=u[r];t&&i<t.length?(e==r&&(t=t.split(i),i=0),!f&&h&&t.merge(0,i,h,!0,0,a)?s[s.length-1]=t:(i&&t.merge(0,i,null,!1,0,a),s.push(t))):(null==t?void 0:t.breakAfter)&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,l,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),a=s.length?0:l;else{if(!u[e].become(s[0]))break;e++,s.shift(),l=s.length?0:a}!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Ae(t,e,n,r,i,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h,ke(t,u,c,l,a,r,0,i,s)}let Pe="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Ee="undefined"!=typeof document?document:{documentElement:{style:{}}};const _e=/Edge\/(\d+)/.exec(Pe.userAgent),Le=/MSIE \d/.test(Pe.userAgent),De=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pe.userAgent),Ie=!!(Le||De||_e),Ne=!Ie&&/gecko\/(\d+)/i.test(Pe.userAgent),Qe=!Ie&&/Chrome\/(\d+)/.exec(Pe.userAgent),Me="webkitFontSmoothing"in Ee.documentElement.style,Be=!Ie&&/Apple Computer/.test(Pe.vendor),Fe=Be&&(/Mobile\/\w+/.test(Pe.userAgent)||Pe.maxTouchPoints>2);var qe={mac:Fe||/Mac/.test(Pe.platform),windows:/Win/.test(Pe.platform),linux:/Linux|X11/.test(Pe.platform),ie:Ie,ie_version:Le?Ee.documentMode||6:De?+De[1]:_e?+_e[1]:0,gecko:Ne,gecko_version:Ne?+(/Firefox\/(\d+)/.exec(Pe.userAgent)||[0,0])[1]:0,chrome:!!Qe,chrome_version:Qe?+Qe[1]:0,ios:Fe,android:/Android\b/.test(Pe.userAgent),webkit:Me,safari:Be,webkit_version:Me?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Ee.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class $e extends Ce{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return(!n||n instanceof $e&&!(this.length-(e-t)+n.length>256))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new $e(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new ye(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return Xe(this.dom,t,e)}}class Ue extends Ce{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(xe(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t)}merge(t,e,n,r,i,s){return(!n||!(!(n instanceof Ue&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&s<=0))&&(Ae(this,t,e,n?n.children:[],i-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,r=-1,i=0;for(let s of this.children){let o=n+s.length;o>t&&e.push(n<t?s.split(t-n):s),r<0&&n>=t&&(r=i),n=o,i++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new Ue(this.mark,e,s)}domAtPos(t){return je(this.dom,this.children,t)}coordsAt(t,e){return Ze(this,t,e)}}function Xe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;0==e&&n<0||e==r&&n>=0?qe.chrome||qe.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let l=Oe(t,i,s).getClientRects();if(!l.length)return fe;let a=l[(o?o<0:n>=0)?0:l.length-1];return qe.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,(t=>t.width))||a),o?ve(a,o<0):a||null}class He extends Ce{constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}static create(t,e,n){return new(t.customView||He)(t,e,n)}split(t){let e=He.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof He&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t.length==this.length&&t instanceof He&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return t.empty;let e=this;for(;e.parent;)e=e.parent;let n=e.editorView,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):t.empty}domAtPos(t){return 0==t?ye.before(this.dom):ye.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.dom.getClientRects(),r=null;if(!n.length)return fe;for(let e=t>0?n.length-1:0;r=n[e],!(t>0?0==e:e==n.length-1||r.top<r.bottom);e+=t>0?-1:1);return 0==t&&e>0||t==this.length&&e<=0?r:ve(r,0==t)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ve extends He{domAtPos(t){let{topView:e,text:n}=this.widget;return e?We(t,0,e,n,((t,e)=>t.domAtPos(e)),(t=>new ye(n,Math.min(t,n.nodeValue.length)))):new ye(n,Math.min(t,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:n,text:r}=this.widget;return n?ze(t,e,n,r):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:n,text:r}=this.widget;return n?We(t,e,n,r,((t,e,n)=>t.coordsAt(e,n)),((t,e)=>Xe(r,t,e))):Xe(r,t,e)}destroy(){var t;super.destroy(),null===(t=this.widget.topView)||void 0===t||t.destroy()}get isEditable(){return!0}}function We(t,e,n,r,i,s){if(n instanceof Ue){for(let o of n.children){let n=se(o.dom,r),l=n?r.nodeValue.length:o.length;if(t<l||t==l&&o.getSide()<=0)return n?We(t,e,o,r,i,s):i(o,t,e);t-=l}return i(n,n.length,-1)}return n.dom==r?s(t,e):i(n,t,e)}function ze(t,e,n,r){if(n instanceof Ue)for(let i of n.children){let n=0,s=se(i.dom,r);if(se(i.dom,t))return n+(s?ze(t,e,i,r):i.localPosFromDOM(t,e));n+=s?r.nodeValue.length:i.length}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}class Ge extends Ce{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Ge&&t.side==this.side}split(){return new Ge(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return ye.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){let e=this.dom.getBoundingClientRect(),n=function(t,e){let n=t.parent,r=n?n.children.indexOf(t):-1;for(;n&&r>=0;)if(e<0?r>0:r<n.children.length){let t=n.children[r+e];if(t instanceof $e){let n=t.coordsAt(e<0?t.length:0,e);if(n)return n}r+=e}else{if(!(n instanceof Ue&&n.parent)){let t=n.dom.lastChild;if(t&&"BR"==t.nodeName)return t.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<e.bottom&&n.bottom>e.top?{left:e.left,right:e.right,top:n.top,bottom:n.bottom}:e}get overrideDOMText(){return t.empty}}function je(t,e,n){let r=0;for(let i=0;r<e.length;r++){let s=e[r],o=i+s.length;if(!(o==i&&s.getSide()<=0)){if(n>i&&n<o&&s.dom.parentNode==t)return s.domAtPos(n-i);if(n<=i)break;i=o}}for(;r>0;r--){let n=e[r-1].dom;if(n.parentNode==t)return ye.after(n)}return new ye(t,0)}function Ye(t,e,n){let r,{children:i}=t;n>0&&e instanceof Ue&&i.length&&(r=i[i.length-1])instanceof Ue&&r.mark.eq(e.mark)?Ye(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ze(t,e,n){for(let r=0,i=0;i<t.children.length;i++){let s,o=t.children[i],l=r+o.length;if((n<=0||l==t.length||o.getSide()>0?l>=e:l>e)&&(e<l||i+1==t.children.length||(s=t.children[i+1]).length||s.getSide()>0)){let t=0;if(l==r){if(o.getSide()<=0)continue;t=n=-o.getSide()}let i=o.coordsAt(Math.max(0,e-r),n);return t&&i?ve(i,n<0):i}r=l}let r=t.dom.lastChild;if(!r)return t.dom.getBoundingClientRect();let i=le(r);return i[i.length-1]||null}function Ke(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function Je(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(-1==r.indexOf(i)||t[i]!==e[i])return!1;return!0}function tn(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}$e.prototype.children=He.prototype.children=Ge.prototype.children=be;class en{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}destroy(t){}}var nn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(nn||(nn={}));class rn extends Tt{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new sn(t)}static widget(t){let e=t.side||0,n=!!t.block;return e+=n?e>0?3e8:-4e8:e>0?1e8:-1e8,new ln(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,r=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:i,end:s}=an(t,r);e=(i?r?-3e8:-1:5e8)-1,n=1+(s?r?2e8:1:-6e8)}return new ln(t,e,n,r,t.widget||null,!0)}static line(t){return new on(t)}static set(t,e=!1){return Et.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}rn.none=Et.empty;class sn extends rn{constructor(t){let{start:e,end:n}=an(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof sn&&this.tagName==t.tagName&&this.class==t.class&&Je(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}sn.prototype.point=!1;class on extends rn{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof on&&Je(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}on.prototype.mapMode=b.TrackBefore,on.prototype.point=!0;class ln extends rn{constructor(t,e,n,r,i,s){super(e,n,i,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?b.TrackBefore:b.TrackAfter:b.TrackDel}get type(){return this.startSide<this.endSide?nn.WidgetRange:this.startSide<=0?nn.WidgetBefore:nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof ln&&(e=this.widget,n=t.widget,e==n||!!(e&&n&&e.compare(n)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,n}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function an(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function un(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}ln.prototype.point=!0;class cn extends Ce{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,s){if(n){if(!(n instanceof cn))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Ae(this,t,e,n?n.children:[],i,s),!0}split(t){let e=new cn;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Je(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Ye(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=Ke(e,this.attrs||{})),n&&(this.attrs=Ke({class:n},this.attrs||{}))}domAtPos(t){return je(this.dom,this.children,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.dirty|=6)}sync(t){var e;this.dom?4&this.dirty&&(xe(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(tn(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t);let n=this.dom.lastChild;for(;n&&Ce.get(n)instanceof Ue;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(e=Ce.get(n))||void 0===e?void 0:e.isEditable)||qe.ios&&this.children.some((t=>t instanceof $e))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let e of this.children){if(!(e instanceof $e)||/[^ -~]/.test(e.text))return null;let n=le(e.dom);if(1!=n.length)return null;t+=n[0].width}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}:null}coordsAt(t,e){return Ze(this,t,e)}become(t){return!1}get type(){return nn.Text}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let i=t.children[n],s=r+i.length;if(s>=e){if(i instanceof cn)return i;if(s>e)break}r=s+i.breakAfter}return null}}class hn extends Ce{constructor(t,e,n){super(),this.widget=t,this.length=e,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof hn&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?ye.before(this.dom):ye.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new hn(this.widget,e,this.type);return n.breakAfter=this.breakAfter,n}get children(){return be}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):t.empty}domBoundsAround(){return null}become(t){return t instanceof hn&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class fn{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof hn&&t.type==nn.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new cn),this.atCursorPos=!0),this.curLine}flushBuffer(t){this.pendingBuffer&&(this.curLine.append(vn(new Ge(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer([]),this.curLine=null,this.content.push(t)}finish(t){t?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(0,n)),this.getLine().append(vn(new $e(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i,s){if(this.disallowBlockEffectsFor[s]&&n instanceof ln){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof ln)if(n.block){let{type:t}=n;t!=nn.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new hn(n.widget||new dn("div"),o,t))}else{let s=He.create(n.widget||new dn("span"),o,n.startSide),l=this.atCursorPos&&!s.isEditable&&i<=r.length&&(t<e||n.startSide>0),a=!s.isEditable&&(t<e||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(vn(new Ge(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(vn(s,r),i),this.atCursorPos=a,this.pendingBuffer=a?t<e?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r,i){let s=new fn(t,e,n,i);return s.openEnd=Et.spans(r,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function vn(t,e){for(let n of e)t=new Ue(n,[t],t.length);return t}class dn extends en{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}const gn=Q.define(),pn=Q.define(),mn=Q.define(),Rn=Q.define(),On=Q.define(),wn=Q.define(),xn=Q.define({combine:t=>t.some((t=>t))});class yn{constructor(t,e="nearest",n="nearest",r=5,i=5){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=i}map(t){return t.empty?this:new yn(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}const bn=ft.define({map:(t,e)=>t.map(e)});function Cn(t,e,n){let r=t.facet(Rn);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Sn=Q.define({combine:t=>!t.length||t[0]});let Tn=0;const kn=Q.define();class An{constructor(t,e,n,r){this.id=t,this.create=e,this.domEventHandlers=n,this.extension=r(this)}static define(t,e){const{eventHandlers:n,provide:r,decorations:i}=e||{};return new An(Tn++,t,n,(t=>{let e=[kn.of(t)];return i&&e.push(Ln.of((e=>{let n=e.plugin(t);return n?i(n):rn.none}))),r&&e.push(r(t)),e}))}static fromClass(t,e){return An.define((e=>new t(e)),e)}}class Pn{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(Cn(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Cn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){Cn(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const En=Q.define(),_n=Q.define(),Ln=Q.define(),Dn=Q.define(),In=Q.define(),Nn=Q.define();class Qn{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new Qn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,s=0,o=0;;r++){let l=r==t.length?null:t[r],a=s-o,u=l?l.fromB:1e9;for(;i<e.length&&e[i]<u;){let t=e[i],r=e[i+1],s=Math.max(o,t),l=Math.min(u,r);if(s<=l&&new Qn(s+a,l+a,s,l).addToSet(n),r>u)break;i+=2}if(!l)return n;new Qn(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,o=l.toB}}}class Mn{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=S.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new Qn(t,e,n,i)))),this.changedRanges=r;let i=t.hasFocus;i!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=i,this.flags|=1)}static create(t,e,n){return new Mn(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Bn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Bn||(Bn={}));const Fn=Bn.LTR,qn=Bn.RTL;function $n(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Un=$n("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Xn=$n("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Hn=Object.create(null),Vn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Hn[e]=n,Hn[n]=-e}const Wn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class zn{constructor(t,e,n){this.from=t,this.to=e,this.level=n}get dir(){return this.level%2?qn:Fn}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,n,r){let i=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(i<0||(0!=r?r<0?o.from<e:o.to>e:t[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}const Gn=[];function jn(t,e){let n=t.length,r=e==Fn?1:2,i=e==Fn?2:1;if(!t||1==r&&!Wn.test(t))return Yn(n);for(let e=0,i=r,o=r;e<n;e++){let n=(s=t.charCodeAt(e))<=247?Un[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?Xn[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8203||8204==s?256:1;512==n?n=i:8==n&&4==o&&(n=16),Gn[e]=4==n?2:n,7&n&&(o=n),i=n}var s;for(let t=0,e=r,i=r;t<n;t++){let r=Gn[t];if(128==r)t<n-1&&e==Gn[t+1]&&24&e?r=Gn[t]=e:Gn[t]=256;else if(64==r){let r=t+1;for(;r<n&&64==Gn[r];)r++;let s=t&&8==e||r<n&&8==Gn[r]?1==i?1:8:256;for(let e=t;e<r;e++)Gn[e]=s;t=r-1}else 8==r&&1==i&&(Gn[t]=1);e=r,7&r&&(i=r)}for(let e,s,o,l=0,a=0,u=0;l<n;l++)if(s=Hn[e=t.charCodeAt(l)])if(s<0){for(let t=a-3;t>=0;t-=3)if(Vn[t+1]==-s){let e=Vn[t+2],n=2&e?r:4&e?1&e?i:r:0;n&&(Gn[l]=Gn[Vn[t]]=n),a=t;break}}else{if(189==Vn.length)break;Vn[a++]=l,Vn[a++]=e,Vn[a++]=u}else if(2==(o=Gn[l])||1==o){let t=o==r;u=t?0:1;for(let e=a-3;e>=0;e-=3){let n=Vn[e+2];if(2&n)break;if(t)Vn[e+2]|=2;else{if(4&n)break;Vn[e+2]|=4}}}for(let t=0;t<n;t++)if(256==Gn[t]){let e=t+1;for(;e<n&&256==Gn[e];)e++;let i=1==(t?Gn[t-1]:r),s=i==(1==(e<n?Gn[e]:r))?i?1:2:r;for(let n=t;n<e;n++)Gn[n]=s;t=e-1}let o=[];if(1==r)for(let t=0;t<n;){let e=t,r=1!=Gn[t++];for(;t<n&&r==(1!=Gn[t]);)t++;if(r)for(let n=t;n>e;){let t=n,r=2!=Gn[--n];for(;n>e&&r==(2!=Gn[n-1]);)n--;o.push(new zn(n,t,r?2:1))}else o.push(new zn(e,t,0))}else for(let t=0;t<n;){let e=t,r=2==Gn[t++];for(;t<n&&r==(2==Gn[t]);)t++;o.push(new zn(e,t,r?1:2))}return o}function Yn(t){return[new zn(0,t,0)]}let Zn="";function Kn(t,e,n,r,i){var s;let o=r.head-t.from,l=-1;if(0==o){if(!i||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),l=0)}else if(o==t.length){if(i)return null;let t=e[e.length-1];t.level!=n&&(o=t.side(!0,n),l=e.length-1)}l<0&&(l=zn.find(e,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let a=e[l];o==a.side(i,n)&&(a=e[l+=i?1:-1],o=a.side(!i,n));let u=i==(a.dir==n),c=d(t.text,o,u);if(Zn=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=a.side(i,n))return D.cursor(c+t.from,u?-1:1,a.level);let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h||a.level==n?h&&h.level<a.level?D.cursor(h.side(!i,n)+t.from,i?1:-1,h.level):D.cursor(c+t.from,i?-1:1,a.level):D.cursor(i?t.to:t.from,i?-1:1,n)}const Jn="￿";class tr{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Ct.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Jn}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r),this.readNode(r);let t=r.nextSibling;if(t==e)break;let i=Ce.get(r),s=Ce.get(t);(i&&s?i.breakAfter:(i?i.breakAfter:er(r))||er(t)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=t}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=r.exec(e))&&(s=i.index,o=i[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=Ce.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+Math.min(e,n.offset))}}function er(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class nr{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class rr extends Ce{constructor(t){super(),this.view=t,this.compositionDeco=rn.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new cn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Qn(0,0,0,t.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=rn.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=function(t,e){let n=sr(t);if(!n)return rn.none;let{from:r,to:i,node:s,text:o}=n,l=e.mapPos(r,1),a=Math.max(l,e.mapPos(i,-1)),{state:u}=t,c=3==s.nodeType?s.nodeValue:new tr([],u).readRange(s.firstChild,null).text;if(a-l<c.length)if(u.doc.sliceString(l,Math.min(u.doc.length,l+c.length),Jn)==c)a=l+c.length;else{if(u.doc.sliceString(Math.max(0,a-c.length),a,Jn)!=c)return rn.none;l=a-c.length}else if(u.doc.sliceString(l,a,Jn)!=c)return rn.none;let h=Ce.get(s);h instanceof Ve?h=h.widget.topView:h&&(h.parent=null);return rn.set(rn.replace({widget:new or(s,o,h),inclusive:!0}).range(l,a))}(this.view,t.changes)),(qe.ie||qe.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let n=function(t,e,n){let r=new ar;return Et.compare(t,e,n,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return e=Qn.extendWithRanges(e,n),(0!=this.dirty||0!=e.length)&&(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=qe.chrome||qe.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,t&&(t.written||n.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof hn&&t.widget instanceof ir&&r.push(t.dom);n.updateGaps(r)}updateChildren(t,e){let n=this.childCursor(e);for(let e=t.length-1;;e--){let r=e>=0?t[e]:null;if(!r)break;let{fromA:i,toA:s,fromB:o,toB:l}=r,{content:a,breakAtStart:u,openStart:c,openEnd:h}=fn.build(this.view.state.doc,o,l,this.decorations,this.dynamicDecorationMap),{i:f,off:v}=n.findPos(s,1),{i:d,off:g}=n.findPos(i,-1);ke(this,d,g,f,v,a,u,c,h)}}updateSelection(t=!1,e=!1){if(!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!e&&!this.mayControlSelection()||qe.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,i=this.domAtPos(r.anchor),s=r.empty?i:this.domAtPos(r.head);if(qe.gecko&&r.empty&&(1==(o=i).node.nodeType&&o.node.firstChild&&(0==o.offset||"false"==o.node.childNodes[o.offset-1].contentEditable)&&(o.offset==o.node.childNodes.length||"false"==o.node.childNodes[o.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>i.node.insertBefore(t,i.node.childNodes[i.offset]||null))),i=s=new ye(t,0),n=!0}var o;let l=this.view.observer.selectionRange;!n&&l.focusNode&&ae(i.node,i.offset,l.anchorNode,l.anchorOffset)&&ae(s.node,s.offset,l.focusNode,l.focusOffset)||(this.view.observer.ignore((()=>{qe.android&&qe.chrome&&this.dom.contains(l.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=ie(this.view.root);if(t)if(r.empty){if(qe.gecko){let t=(e=i.node,n=i.offset,1!=e.nodeType?0:(n&&"false"==e.childNodes[n-1].contentEditable?1:0)|(n<e.childNodes.length&&"false"==e.childNodes[n].contentEditable?2:0));if(t&&3!=t){let e=lr(i.node,i.offset,1==t?1:-1);e&&(i=new ye(e,1==t?0:e.nodeValue.length))}}t.collapse(i.node,i.offset),null!=r.bidiLevel&&null!=l.cursorBidiLevel&&(l.cursorBidiLevel=r.bidiLevel)}else if(t.extend)t.collapse(i.node,i.offset),t.extend(s.node,s.offset);else{let e=document.createRange();r.anchor>r.head&&([i,s]=[s,i]),e.setEnd(s.node,s.offset),e.setStart(i.node,i.offset),t.removeAllRanges(),t.addRange(e)}else;var e,n})),this.view.observer.setSelectionRange(i,s)),this.impreciseAnchor=i.precise?null:new ye(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new ye(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let t=this.view.state.selection.main,e=ie(this.view.root);if(!(e&&t.empty&&t.assoc&&e.modify))return;let n=cn.find(this,t.head);if(!n)return;let r=n.posAtStart;if(t.head==r||t.head==r+n.length)return;let i=this.coordsAt(t.head,-1),s=this.coordsAt(t.head,1);if(!i||!s||i.bottom>s.top)return;let o=this.domAtPos(t.head+t.assoc);e.collapse(o.node,o.offset),e.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let t=this.view.root.activeElement;return t==this.dom||oe(this.dom,this.view.observer.selectionRange)&&!(t&&this.dom.contains(t))}nearest(t){for(let e=t;e;){let t=Ce.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof cn)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){for(let n=this.length,r=this.children.length-1;;r--){let i=this.children[r],s=n-i.breakAfter-i.length;if(t>s||t==s&&i.type!=nn.WidgetBefore&&i.type!=nn.WidgetAfter&&(!r||2==e||this.children[r-1].breakAfter||this.children[r-1].type==nn.WidgetBefore&&e>-2))return i.coordsAt(t-s,e);n=s}}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Bn.LTR;for(let t=0,a=0;a<this.children.length;a++){let u=this.children[a],c=t+u.length;if(c>r)break;if(t>=n){let n=u.dom.getBoundingClientRect();if(e.push(n.height),s){let e=u.dom.lastChild,r=e?le(e):[];if(r.length){let e=r[r.length-1],s=l?e.right-n.left:n.right-e.left;s>o&&(o=s,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+u.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Bn.RTL:Bn.LTR}measureTextSize(){for(let t of this.children)if(t instanceof cn){let e=t.measureTextSize();if(e)return e}let t,e,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let r=le(n.firstChild)[0];t=n.getBoundingClientRect().height,e=r?r.width/27:7,n.remove()})),{lineHeight:t,charWidth:e}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Te(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],s=i?i.from-1:this.length;if(s>n){let r=e.lineBlockAt(s).bottom-e.lineBlockAt(n).top;t.push(rn.replace({widget:new ir(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!i)break;n=i.to+1}return rn.set(t)}updateDeco(){let t=this.view.state.facet(Ln).map(((t,e)=>(this.dynamicDecorationMap[e]="function"==typeof t)?t(this.view):t));for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let e,{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,e.left),top:Math.min(r.top,e.top),right:Math.max(r.right,e.right),bottom:Math.max(r.bottom,e.bottom)});let i=0,s=0,o=0,l=0;for(let t of this.view.state.facet(In).map((t=>t(this.view))))if(t){let{left:e,right:n,top:r,bottom:a}=t;null!=e&&(i=Math.max(i,e)),null!=n&&(s=Math.max(s,n)),null!=r&&(o=Math.max(o,r)),null!=a&&(l=Math.max(l,a))}let a={left:r.left-i,top:r.top-o,right:r.right+s,bottom:r.bottom+l};!function(t,e,n,r,i,s,o,l){let a=t.ownerDocument,u=a.defaultView;for(let c=t;c;)if(1==c.nodeType){let t,h=c==a.body;if(h)t=de(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let e=c.getBoundingClientRect();t={left:e.left,right:e.left+c.clientWidth,top:e.top,bottom:e.top+c.clientHeight}}let f=0,v=0;if("nearest"==i)e.top<t.top?(v=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+v&&(v=e.bottom-t.bottom+v+o)):e.bottom>t.bottom&&(v=e.bottom-t.bottom+o,n<0&&e.top-v<t.top&&(v=-(t.top+v-e.top+o)));else{let r=e.bottom-e.top,s=t.bottom-t.top;v=("center"==i&&r<=s?e.top+r/2-s/2:"start"==i||"center"==i&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==r?e.left<t.left?(f=-(t.left-e.left+s),n>0&&e.right>t.right+f&&(f=e.right-t.right+f+s)):e.right>t.right&&(f=e.right-t.right+s,n<0&&e.left<t.left+f&&(f=-(t.left+f-e.left+s))):f=("center"==r?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==r==l?e.left-s:e.right-(t.right-t.left)+s)-t.left,f||v)if(h)u.scrollBy(f,v);else{if(v){let t=c.scrollTop;c.scrollTop+=v,v=c.scrollTop-t}if(f){let t=c.scrollLeft;c.scrollLeft+=f,f=c.scrollLeft-t}e={left:e.left-f,top:e.top-v,right:e.right-f,bottom:e.bottom-v}}if(h)break;c=c.assignedSlot||c.parentNode,r=i="nearest"}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,a,n.head<n.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==Bn.LTR)}}class ir extends en{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function sr(t){let e=t.observer.selectionRange,n=e.focusNode&&lr(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof cn){let t=n;for(;t.parentNode!=r.dom;)t=t.parentNode;let e=t.previousSibling;for(;e&&!Ce.get(e);)e=e.previousSibling;let i=e?Ce.get(e).posAtEnd:r.posAtStart;return{from:i,to:i,node:t,text:n}}{for(;;){let{parent:t}=r;if(!t)return null;if(t instanceof cn)break;r=t}let t=r.posAtStart;return{from:t,to:t+r.length,node:r.dom,text:n}}}class or extends en{constructor(t,e,n){super(),this.top=t,this.text=e,this.topView=n}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Ve}}function lr(t,e,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0&&n<=0)e=he(t=t.childNodes[e-1]);else{if(!(1==t.nodeType&&e<t.childNodes.length&&n>=0))return null;t=t.childNodes[e],e=0}}}class ar{constructor(){this.changes=[]}compareRange(t,e){un(t,e,this.changes)}comparePoint(t,e){un(t,e,this.changes)}}function ur(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function cr(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function hr(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function fr(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function vr(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function dr(t,e,n){let r,i,s,o,l,a,u,c,h=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=le(f);for(let v=0;v<t.length;v++){let d=t[v];i&&hr(i,d)&&(d=fr(vr(d,i.bottom),i.top));let g=ur(e,d),p=cr(n,d);if(0==g&&0==p)return 3==f.nodeType?gr(f,e,n):dr(f,e,n);(!r||o>p||o==p&&s>g)&&(r=f,i=d,s=g,o=p,h=!g||(g>0?v<t.length-1:v>0)),0==g?n>d.bottom&&(!u||u.bottom<d.bottom)?(l=f,u=d):n<d.top&&(!c||c.top>d.top)&&(a=f,c=d):u&&hr(u,d)?u=vr(u,d.bottom):c&&hr(c,d)&&(c=fr(c,d.top))}}if(u&&u.bottom>=n?(r=l,i=u):c&&c.top<=n&&(r=a,i=c),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?gr(r,f,n):h&&"false"!=r.contentEditable?dr(r,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function gr(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<r;l++){let r=Oe(t,l,l+1).getClientRects();for(let a=0;a<r.length;a++){let u=r[a];if(u.top==u.bottom)continue;o||(o=e-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<s){let n=e>=(u.left+u.right)/2,r=n;if(qe.chrome||qe.gecko){Oe(t,l).getBoundingClientRect().left==u.right&&(r=!n)}if(c<=0)return{node:t,offset:l+(r?1:0)};i=l+(r?1:0),s=c}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function pr(t,{x:e,y:n},r,i=-1){var s;let o,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:u}=t.viewState,c=n-a;if(c<0)return 0;if(c>u)return t.state.doc.length;for(let e=t.defaultLineHeight/2,n=!1;o=t.elementAtHeight(c),o.type!=nn.Text;)for(;c=i>0?o.bottom+e:o.top-e,!(c>=0&&c<=u);){if(n)return r?null:0;n=!0,i=-i}n=a+c;let h=o.from;if(h<t.viewport.from)return 0==t.viewport.from?0:r?null:mr(t,l,o,e,n);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:mr(t,l,o,e,n);let f=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:f,d=v.elementFromPoint(e,n);d&&!t.contentDOM.contains(d)&&(d=null),d||(e=Math.max(l.left+1,Math.min(l.right-1,e)),d=v.elementFromPoint(e,n),d&&!t.contentDOM.contains(d)&&(d=null));let g,p=-1;if(d&&0!=(null===(s=t.docView.nearest(d))||void 0===s?void 0:s.isEditable))if(f.caretPositionFromPoint){let t=f.caretPositionFromPoint(e,n);t&&({offsetNode:g,offset:p}=t)}else if(f.caretRangeFromPoint){let r=f.caretRangeFromPoint(e,n);r&&(({startContainer:g,startOffset:p}=r),(!t.contentDOM.contains(g)||qe.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return Oe(t,r-1,r).getBoundingClientRect().left>n}(g,p,e)||qe.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}let r=1==t.nodeType?t.getBoundingClientRect():Oe(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(g,p,e))&&(g=void 0))}if(!g||!t.docView.dom.contains(g)){let r=cn.find(t.docView,h);if(!r)return c>o.top+o.height/2?o.to:o.from;({node:g,offset:p}=dr(r.dom,e,n))}return t.docView.posFromDOM(g,p)}function mr(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){s+=Math.floor((i-n.top)/t.defaultLineHeight)*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Xt(o,s,t.state.tabSize)}function Rr(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let l=e,a=null;;){let e=Kn(i,s,o,l,n),u=Zn;if(!e){if(i.number==(n?t.state.doc.lines:1))return l;u="\n",i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),e=D.cursor(n?i.from:i.to)}if(a){if(!a(u))return l}else{if(!r)return e;a=r(u)}l=e}}function Or(t,e,n){let r=t.state.facet(Dn).map((e=>e(t)));for(;;){let t=!1;for(let i of r)i.between(n.from-1,n.from+1,((r,i,s)=>{n.from>r&&n.from<i&&(n=e.from>n.from?D.cursor(r,1):D.cursor(i,-1),t=!0)}));if(!t)return n}}class wr{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let e in Sr){let n=Sr[e];t.contentDOM.addEventListener(e,(r=>{Cr(t,r)&&!this.ignoreDuringComposition(r)&&("keydown"==e&&this.keydown(t,r)||(this.mustFlushObserver(r)&&t.observer.forceFlush(),this.runCustomHandlers(e,t,r)?r.preventDefault():n(t,r)))}),Tr[e]),this.registeredEvents.push(e)}qe.chrome&&102==qe.chrome_version&&t.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=t.hasFocus,qe.safari&&t.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t,e){var n;let r;this.customHandlers=[];for(let i of e)if(r=null===(n=i.update(t).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:i.value,handlers:r});for(let e in r)this.registeredEvents.indexOf(e)<0&&"scroll"!=e&&(this.registeredEvents.push(e),t.contentDOM.addEventListener(e,(n=>{Cr(t,n)&&this.runCustomHandlers(e,t,n)&&n.preventDefault()})))}}runCustomHandlers(t,e,n){for(let r of this.customHandlers){let i=r.handlers[t];if(i)try{if(i.call(r.plugin,n,e)||n.defaultPrevented)return!0}catch(t){Cn(e.state,t)}}return!1}runScrollHandlers(t,e){this.lastScrollTop=t.scrollDOM.scrollTop,this.lastScrollLeft=t.scrollDOM.scrollLeft;for(let n of this.customHandlers){let r=n.handlers.scroll;if(r)try{r.call(n.plugin,e,t)}catch(e){Cn(t.state,e)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(qe.android&&qe.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return!(!qe.ios||!(n=xr.find((t=>t.keyCode==e.keyCode)))||e.ctrlKey||e.altKey||e.metaKey||e.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(t)),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,we(t.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(qe.safari&&!qe.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(t){return"keydown"==t.type&&229!=t.keyCode||"compositionend"==t.type&&!qe.ios}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const xr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],yr=[16,17,18,20,91,92,224,225];class br{constructor(t,e,n,r){this.view=t,this.style=n,this.mustSelect=r,this.lastEvent=e;let i=t.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Ct.allowMultipleSelections)&&function(t,e){let n=t.state.facet(gn);return n.length?n[0](e):qe.mac?e.metaKey:e.ctrlKey}(t,e),this.dragMove=function(t,e){let n=t.state.facet(pn);return n.length?n[0](e):qe.mac?!e.altKey:!e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=ie(t.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=Br(e))&&null,!1===this.dragging&&(e.preventDefault(),this.select(e))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=t)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(t){let e=this.style.get(t,this.extend,this.multiple);!this.mustSelect&&e.eq(this.view.state.selection)&&e.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:e,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Cr(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Ce.get(r))&&n.ignoreEvent(e))return!1;return!0}const Sr=Object.create(null),Tr=Object.create(null),kr=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function Ar(t,e){let n,{state:r}=t,i=1,s=r.toText(e),o=s.lines==r.selection.ranges.length;if(null!=qr&&r.selection.ranges.every((t=>t.empty))&&qr==s.toString()){let t=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==t)return{range:n};t=l.from;let a=r.toText((o?s.line(i++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:a},range:D.cursor(n.from+a.length)}}))}else n=o?r.changeByRange((t=>{let e=s.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:D.cursor(t.from+e.length)}})):r.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Pr(t,e,n,r){if(1==r)return D.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(0==i.length)return D.cursor(e);0==s?n=1:s==i.length&&(n=-1);let o=s,l=s;n<0?o=d(i.text,s,!1):l=d(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let t=d(i.text,o,!1);if(r(i.text.slice(t,o))!=a)break;o=t}for(;l<i.length;){let t=d(i.text,l);if(r(i.text.slice(l,t))!=a)break;l=t}return D.range(o+i.from,l+i.from)}(t.state,e,n);{let n=cn.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),i=n?n.posAtStart:r.from,s=n?n.posAtEnd:r.to;return s<t.state.doc.length&&s==r.to&&s++,D.range(i,s)}}Sr.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),27==e.keyCode?t.inputState.lastEscPress=Date.now():yr.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)},Sr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Sr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Tr.touchstart=Tr.touchmove={passive:!0},Sr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3&&1==Br(e))return;let n=null;for(let r of t.state.facet(mn))if(n=r(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=Dr(t,e),r=Br(e),i=t.state.selection,s=n,o=e;return{update(t){t.docChanged&&(n&&(n.pos=t.changes.mapPos(n.pos)),i=i.map(t.changes),o=null)},get(e,l,a){let u;if(o&&e.clientX==o.clientX&&e.clientY==o.clientY?u=s:(u=s=Dr(t,e),o=e),!u||!n)return i;let c=Pr(t,u.pos,u.bias,r);if(n.pos!=u.pos&&!l){let e=Pr(t,n.pos,n.bias,r),i=Math.min(e.from,c.from),s=Math.max(e.to,c.to);c=i<c.from?D.range(i,s):D.range(s,i)}return l?i.replaceRange(i.main.extend(c.from,c.to)):a&&i.ranges.length>1&&i.ranges.some((t=>t.eq(c)))?function(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return D.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}(i,c):a?i.addRange(c):D.create([c])}}}(t,e)),n){let r=t.root.activeElement!=t.contentDOM;r&&t.observer.ignore((()=>Re(t.contentDOM))),t.inputState.startMouseSelection(new br(t,e,n,r))}};let Er=(t,e)=>t>=e.top&&t<=e.bottom,_r=(t,e,n)=>Er(e,n)&&t>=n.left&&t<=n.right;function Lr(t,e,n,r){let i=cn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&_r(n,r,o))return-1;let l=i.coordsAt(s,1);return l&&_r(n,r,l)?1:o&&Er(r,o)?-1:1}function Dr(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Lr(t,n,e.clientX,e.clientY)}}const Ir=qe.ie&&qe.ie_version<=11;let Nr=null,Qr=0,Mr=0;function Br(t){if(!Ir)return t.detail;let e=Nr,n=Mr;return Nr=t,Mr=Date.now(),Qr=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Qr+1)%3:1}function Fr(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,o=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,l={from:i,insert:n},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}Sr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")},Sr.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,s=()=>{++i==n.length&&Fr(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),s()},e.readAsText(n[t])}}else Fr(t,e,e.dataTransfer.getData("Text"),!0)},Sr.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=kr?null:e.clipboardData;n?(Ar(t,n.getData("text/plain")),e.preventDefault()):function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),Ar(t,n.value)}),50)}(t)};let qr=null;function $r(t){setTimeout((()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])}),10)}function Ur(t,e){if(t.docView.compositionDeco.size){t.inputState.rapidCompositionStart=e;try{t.update([])}finally{t.inputState.rapidCompositionStart=!1}}}Sr.copy=Sr.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let s=t.doc.lineAt(r);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}(t.state);if(!n&&!i)return;qr=i?n:null;let s=kr?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})},Sr.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),$r(t)},Sr.blur=t=>{t.observer.clearSelectionRange(),$r(t)},Sr.compositionstart=Sr.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.compositionDeco.size&&(t.observer.flush(),Ur(t,!0)))},Sr.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,setTimeout((()=>{t.inputState.composing<0&&Ur(t,!1)}),50)},Sr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Sr.beforeinput=(t,e)=>{var n;let r;if(qe.chrome&&qe.android&&(r=xr.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}};const Xr=["pre-wrap","normal","pre-line","break-spaces"];class Hr{constructor(){this.doc=t.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Xr.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,i){let s=Xr.indexOf(t)>-1,o=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=n,this.lineLength=r,o){this.heightSamples={};for(let t=0;t<i.length;t++){let e=i[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return o}}class Vr{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Wr{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this.type=i}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new Wr(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var zr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(zr||(zr={}));const Gr=.001;class jr{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>Gr&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return jr.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this;for(let s=r.length-1;s>=0;s--){let{fromA:o,toA:l,fromB:a,toB:u}=r[s],c=i.lineAt(o,zr.ByPosNoHeight,e,0,0),h=c.to>=l?c:i.lineAt(l,zr.ByPosNoHeight,e,0,0);for(u+=h.to-l,l=h.to;s>0&&c.from<=r[s-1].toA;)o=r[s-1].fromA,a=r[s-1].fromB,s--,o<c.from&&(c=i.lineAt(o,zr.ByPosNoHeight,e,0,0));a+=c.from-o,o=c.from;let f=ei.build(n,t,a,u);i=i.replace(o,l,f)}return i.updateHeight(n,0)}static empty(){return new Zr(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new Jr(jr.of(t.slice(0,e)),s,jr.of(t.slice(n)))}}jr.prototype.size=1;class Yr extends jr{constructor(t,e,n){super(t,e),this.type=n}blockAt(t,e,n,r){return new Wr(r,this.length,n,this.height,this.type)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,s){t<=i+this.length&&e>=i&&s(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Zr extends Yr{constructor(t,e){super(t,e,nn.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof Zr||r instanceof Kr&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Kr?r=new Zr(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):jr.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Kr extends jr{constructor(t){super(t,0)}lines(t,e){let n=t.lineAt(e).number,r=t.lineAt(e+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}blockAt(t,e,n,r){let{firstLine:i,lastLine:s,lineHeight:o}=this.lines(e,r),l=Math.max(0,Math.min(s-i,Math.floor((t-n)/o))),{from:a,length:u}=e.line(i+l);return new Wr(a,u,n+o*l,o,nn.Text)}lineAt(t,e,n,r,i){if(e==zr.ByHeight)return this.blockAt(t,n,r,i);if(e==zr.ByPosNoHeight){let{from:e,to:r}=n.lineAt(t);return new Wr(e,r-e,0,0,nn.Text)}let{firstLine:s,lineHeight:o}=this.lines(n,i),{from:l,length:a,number:u}=n.lineAt(t);return new Wr(l,a,r+o*(u-s),o,nn.Text)}forEachLine(t,e,n,r,i,s){let{firstLine:o,lineHeight:l}=this.lines(n,i);for(let a=Math.max(t,i),u=Math.min(i+this.length,e);a<=u;){let e=n.lineAt(a);a==t&&(r+=l*(e.number-o)),s(new Wr(e.from,e.length,r,l,nn.Text)),r+=l,a=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof Kr?n[n.length-1]=new Kr(t.length+r):n.push(null,new Kr(r-1))}if(t>0){let e=n[0];e instanceof Kr?n[0]=new Kr(t+e.length):n.unshift(new Kr(t-1),null)}return jr.of(n)}decomposeLeft(t,e){e.push(new Kr(t-1),null)}decomposeRight(t,e){e.push(null,new Kr(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],s=Math.max(e,r.from),o=-1,l=t.heightChanged;for(r.from>e&&n.push(new Kr(r.from-e-1).updateHeight(t,e));s<=i&&r.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==o?o=i:Math.abs(i-o)>=Gr&&(o=-2);let l=new Zr(e,i);l.outdated=!1,n.push(l),s+=e+1}s<=i&&n.push(null,new Kr(i-s).updateHeight(t,s));let a=jr.of(n);return t.heightChanged=l||o<0||Math.abs(a.height-this.height)>=Gr||Math.abs(o-this.lines(t.doc,e).lineHeight)>=Gr,a}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Jr extends jr{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let s=r+this.left.height,o=i+this.left.length+this.break,l=e==zr.ByHeight?t<s:t<o,a=l?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,s,o);if(this.break||(l?a.to<o:a.from>o))return a;let u=e==zr.ByPosNoHeight?zr.ByPosNoHeight:zr.ByPos;return l?a.join(this.right.lineAt(o,u,n,s,o)):this.left.lineAt(o,u,n,r,i).join(a)}forEachLine(t,e,n,r,i,s){let o=r+this.left.height,l=i+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,i,s),e>=l&&this.right.forEachLine(t,e,n,o,l,s);else{let a=this.lineAt(l,zr.ByPos,n,r,i);t<a.from&&this.left.forEachLine(t,a.from-1,n,r,i,s),a.to>=t&&a.from<=e&&s(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,o,l,s)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let s=i.length;for(let t of n)i.push(t);if(t>0&&ti(i,s-1),e<this.length){let t=i.length;this.decomposeRight(e,i),ti(i,t)}return jr.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?jr.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:s}=this,o=e+i.length+this.break,l=null;return r&&r.from<=e+i.length&&r.more?l=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=o+s.length&&r.more?l=s=s.updateHeight(t,o,n,r):s.updateHeight(t,o,n),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ti(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof Kr&&(r=t[e+1])instanceof Kr&&t.splice(e-1,3,new Kr(n.length+1+r.length))}class ei{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Zr?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Zr(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let i=e-t;n.block?this.addBlock(new Yr(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Zr(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Kr(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Zr)return t;let e=new Zr(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type!=nn.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=nn.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let n=this.ensureLine();n.length+=e,n.collapsed+=e,n.widgetHeight=Math.max(n.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Zr||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Zr(0,-1));let n=t;for(let t of this.nodes)t instanceof Zr&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let i=new ei(n,t);return Et.spans(e,n,r,i,0),i.finish(n)}}class ni{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&un(t,e,this.changes,5)}}function ri(t,e){let n=t.getBoundingClientRect(),r=Math.max(0,n.left),i=Math.min(innerWidth,n.right),s=Math.max(0,n.top),o=Math.min(innerHeight,n.bottom),l=t.ownerDocument.body;for(let e=t.parentNode;e&&e!=l;)if(1==e.nodeType){let n=e,l=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=l.overflow){let l=n.getBoundingClientRect();r=Math.max(r,l.left),i=Math.min(i,l.right),s=Math.max(s,l.top),o=e==t.parentNode?l.bottom:Math.min(o,l.bottom)}e="absolute"==l.position||"fixed"==l.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:r-n.left,right:Math.max(r,i)-n.left,top:s-(n.top+e),bottom:Math.max(s,o)-(n.top+e)}}function ii(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class si{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t){return rn.replace({widget:new oi(this.size,t)}).range(this.from,this.to)}}class oi extends en{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class li{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new Hr,this.scaler=di,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Bn.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Ln).filter((t=>"function"!=typeof t)),this.heightMap=jr.empty().applyChanges(this.stateDeco,t.empty,this.heightOracle.setDoc(e.doc),[new Qn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=rn.set(this.lineGaps.map((t=>t.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineBlockAt(r);t.push(new ai(e,n))}}this.viewports=t.sort(((t,e)=>t.from-e.from)),this.scaler=this.heightMap.height<=7e6?di:new gi(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(t=>{this.viewportLines.push(1==this.scaler.scale?t:pi(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Ln).filter((t=>"function"!=typeof t));let r=t.changedRanges,i=Qn.extendWithRanges(r,function(t,e,n){let r=new ni;return Et.compare(t,e,n,r,0),r.changes}(n,this.stateDeco,t?t.changes:S.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=s&&(t.flags|=2);let o=i.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<o.from||e.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,e));let l=!t.changes.empty||2&t.flags||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Bn.RTL:Bn.LTR;let s=this.heightOracle.mustRefreshForWrapping(i),o=s||this.mustMeasureContent||this.contentDOMHeight!=e.clientHeight;this.contentDOMHeight=e.clientHeight,this.mustMeasureContent=!1;let l=0,a=0,u=parseInt(n.paddingTop)||0,c=parseInt(n.paddingBottom)||0;this.paddingTop==u&&this.paddingBottom==c||(this.paddingTop=u,this.paddingBottom=c,l|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(o=!0),this.editorWidth=t.scrollDOM.clientWidth,l|=8);let h=(this.printing?ii:ri)(e,this.paddingTop),f=h.top-this.pixelViewport.top,v=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let d=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(d!=this.inView&&(this.inView=d,d&&(o=!0)),!this.inView)return 0;let g=e.clientWidth;if(this.contentDOMWidth==g&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=g,this.editorHeight=t.scrollDOM.clientHeight,l|=8),o){let e=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(e)&&(s=!0),s||r.lineWrapping&&Math.abs(g-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:o}=t.docView.measureTextSize();s=r.refresh(i,n,o,g/o,e),s&&(t.docView.minWidth=0,l|=8)}f>0&&v>0?a=Math.max(f,v):f<0&&v<0&&(a=Math.min(f,v)),r.heightChanged=!1;for(let n of this.viewports){let i=n.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(n);this.heightMap=this.heightMap.updateHeight(r,0,s,new Vr(n.from,i))}r.heightChanged&&(l|=2)}let p=!this.viewportIsAppropriate(this.viewport,a)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return p&&(this.viewport=this.getViewport(a,this.scrollTarget)),this.updateForViewport(),(2&l||p)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.state.doc,{visibleTop:s,visibleBottom:o}=this,l=new ai(r.lineAt(s-1e3*n,zr.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),zr.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(t,zr.ByPos,i,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-s,l=new ai(r.lineAt(n-500,zr.ByHeight,i,0,0).from,r.lineAt(n+s+500,zr.ByHeight,i,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new ai(this.heightMap.lineAt(n,zr.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,zr.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,zr.ByPos,this.state.doc,0,0),{bottom:i}=this.heightMap.lineAt(e,zr.ByPos,this.state.doc,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||r<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>s-2e3&&i<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new si(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t){let e=[];if(this.defaultTextDirection!=Bn.LTR)return e;for(let n of this.viewportLines){if(n.length<4e3)continue;let r,i,s=ui(n.from,n.to,this.stateDeco);if(s.total<4e3)continue;if(this.heightOracle.lineWrapping){let t=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;r=ci(s,(this.visibleTop-n.top-t)/n.height),i=ci(s,(this.visibleBottom-n.top+t)/n.height)}else{let t=s.total*this.heightOracle.charWidth,e=2e3*this.heightOracle.charWidth;r=ci(s,(this.pixelViewport.left-e)/t),i=ci(s,(this.pixelViewport.right+e)/t)}let o=[];r>n.from&&o.push({from:n.from,to:r}),i<n.to&&o.push({from:i,to:n.to});let l=this.state.selection.main;l.from>=n.from&&l.from<=n.to&&fi(o,l.from-10,l.from+10),!l.empty&&l.to>=n.from&&l.to<=n.to&&fi(o,l.to-10,l.to+10);for(let{from:r,to:i}of o)i-r>1e3&&e.push(vi(t,(t=>t.from>=n.from&&t.to<=n.to&&Math.abs(t.from-r)<1e3&&Math.abs(t.to-i)<1e3))||new si(r,i,this.gapSize(n,r,i,s)))}return e}gapSize(t,e,n,r){let i=hi(r,n)-hi(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){si.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=rn.set(t.map((t=>t.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Et.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||pi(this.heightMap.lineAt(t,zr.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(t){return pi(this.heightMap.lineAt(this.scaler.fromDOM(t),zr.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(t){return pi(this.heightMap.blockAt(this.scaler.fromDOM(t),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ai{constructor(t,e){this.from=t,this.to=e}}function ui(t,e,n){let r=[],i=t,s=0;return Et.spans(n,t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),s+=t-i),i=e}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function ci({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],s=i-n;if(r<=s)return n+r;r-=s}}function hi(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function fi(t,e,n){for(let r=0;r<t.length;r++){let i=t[r];if(i.from<n&&i.to>e){let s=[];i.from<e&&s.push({from:i.from,to:e}),i.to>n&&s.push({from:n,to:i.to}),t.splice(r,1,...s),r+=s.length-1}}}function vi(t,e){for(let n of t)if(e(n))return n}const di={toDOM:t=>t,fromDOM:t=>t,scale:1};class gi{constructor(t,e,n){let r=0,i=0,s=0;this.viewports=n.map((({from:n,to:i})=>{let s=e.lineAt(n,zr.ByPos,t,0,0).top,o=e.lineAt(i,zr.ByPos,t,0,0).bottom;return r+=o-s,{from:n,to:i,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=s+(t.top-i)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return r+(t-n)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);n=i.bottom,r=i.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return n+(t-r)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);n=i.bottom,r=i.domBottom}}}function pi(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Wr(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map((t=>pi(t,e))):t.type)}const mi=Q.define({combine:t=>t.join(" ")}),Ri=Q.define({combine:t=>t.indexOf(!0)>-1}),Oi=zt.newName(),wi=zt.newName(),xi=zt.newName(),yi={"&light":"."+wi,"&dark":"."+xi};function bi(t,e,n){return new zt(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const Ci=bi("."+Oi,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},yi),Si={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ti=qe.ie&&qe.ie_version<=11;class ki{constructor(t,e,n){this.view=t,this.onChange=e,this.onScrollChanged=n,this.active=!1,this.selectionRange=new ge,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(qe.ie&&qe.ie_version<=11||qe.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Ti&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(t.scrollDOM)),this.win=t.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,n=this.selectionRange;if(e.state.facet(Sn)?e.root.activeElement!=this.dom:!oe(e.dom,n))return;let r=n.anchorNode&&e.docView.nearest(n.anchorNode);r&&r.ignoreEvent(t)||((qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!e.state.selection.main.empty&&n.focusNode&&ae(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:t}=this,e=qe.safari&&11==t.root.nodeType&&function(){let t=document.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}()==this.dom&&function(t){let e=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);ae(l.node,l.offset,s,o)&&([r,i,s,o]=[s,o,r,i]);return{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}(this.view)||ie(t.root);if(!e||this.selectionRange.eq(e))return!1;let n=oe(this.dom,e);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(;;)if(r){if(1!=n.nodeType)return!1;let t=n.childNodes[r-1];"false"==t.contentEditable?r--:(n=t,r=he(n))}else{if(n==t)return!0;r=ue(n),n=n.parentNode}}(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Si),Ti&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ti&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){this.delayedAndroidKey||requestAnimationFrame((()=>{let t=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||we(this.dom,t.key,t.keyCode)})),this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let t=this.queue;for(let e of this.observer.takeRecords())t.push(e);t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;t&&this.readSelectionRange();let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&oe(this.dom,this.selectionRange);if(e<0&&!i)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=this.view.state,o=this.onChange(e,n,r);return this.view.state==s&&this.view.update([]),o}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.dirty|=4),"childList"==t.type){let n=Ai(e,t.previousSibling||t.target.previousSibling,-1),r=Ai(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Ai(t,e,n){for(;e;){let r=Ce.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Pi(e,n,r,i){let s,o,l=e.state.selection.main;if(n>-1){let i=e.docView.domBoundsAround(n,r,0);if(!i||e.state.readOnly)return!1;let{from:a,to:u}=i,c=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;n&&(e.push(new nr(n,r)),i==n&&s==r||e.push(new nr(i,s)));return e}(e),h=new tr(c,e.state);h.readRange(i.startDOM,i.endDOM);let f=l.from,v=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||qe.android&&h.text.length<u-a)&&(f=l.to,v="end");let d=function(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if("end"==r){n-=o+Math.max(0,s-Math.min(o,l))-s}if(o<s&&t.length<e.length){s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s}else if(l<s){s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}(e.state.doc.sliceString(a,u,Jn),h.text,f-a,v);d&&(qe.chrome&&13==e.inputState.lastKeyCode&&d.toB==d.from+2&&"￿￿"==h.text.slice(d.from,d.toB)&&d.toB--,s={from:a+d.from,to:a+d.toA,insert:t.of(h.text.slice(d.from,d.toB).split(Jn))}),o=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?D.single(n+e,r+e):null}(c,a)}else if(e.hasFocus||!e.state.facet(Sn)){let t=e.observer.selectionRange,{impreciseHead:n,impreciseAnchor:r}=e.docView,i=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!se(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),s=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!se(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);i==l.head&&s==l.anchor||(o=D.single(s,i))}if(!s&&!o)return!1;if(!s&&i&&!l.empty&&o&&o.main.empty?s={from:l.from,to:l.to,insert:e.state.doc.slice(l.from,l.to)}:s&&s.from>=l.from&&s.to<=l.to&&(s.from!=l.from||s.to!=l.to)&&l.to-l.from-(s.to-s.from)<=4?s={from:l.from,to:l.to,insert:e.state.doc.slice(l.from,s.from).append(s.insert).append(e.state.doc.slice(s.to,l.to))}:(qe.mac||qe.android)&&s&&s.from==s.to&&s.from==l.head-1&&"."==s.insert.toString()&&(s={from:l.from,to:l.to,insert:t.of([" "])}),s){let t=e.state;if(qe.ios&&e.inputState.flushIOSKey(e))return!0;if(qe.android&&(s.from==l.from&&s.to==l.to&&1==s.insert.length&&2==s.insert.lines&&we(e.contentDOM,"Enter",13)||s.from==l.from-1&&s.to==l.to&&0==s.insert.length&&we(e.contentDOM,"Backspace",8)||s.from==l.from&&s.to==l.to+1&&0==s.insert.length&&we(e.contentDOM,"Delete",46)))return!0;let n,r=s.insert.toString();if(e.state.facet(wn).some((t=>t(e,s.from,s.to,r))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,s.from>=l.from&&s.to<=l.to&&s.to-s.from>=(l.to-l.from)/3&&(!o||o.main.empty&&o.main.from==s.from+s.insert.length)&&e.inputState.composing<0){let r=l.from<s.from?t.sliceDoc(l.from,s.from):"",i=l.to>s.to?t.sliceDoc(s.to,l.to):"";n=t.replaceSelection(e.state.toText(r+s.insert.sliceString(0,void 0,e.state.lineBreak)+i))}else{let r=t.changes(s),i=o&&!t.selection.main.eq(o.main)&&o.main.to<=r.newLength?o.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&s.to<=l.to&&s.to>=l.to-10){let o=e.state.sliceDoc(s.from,s.to),a=sr(e)||e.state.doc.lineAt(l.head),u=l.to-s.to,c=l.to-l.from;n=t.changeByRange((n=>{if(n.from==l.from&&n.to==l.to)return{changes:r,range:i||n.map(r)};let h=n.to-u,f=h-o.length;if(n.to-n.from!=c||e.state.sliceDoc(f,h)!=o||a&&n.to>=a.from&&n.from<=a.to)return{range:n};let v=t.changes({from:f,to:h,insert:s.insert}),d=n.to-l.to;return{changes:v,range:i?D.range(Math.max(0,i.anchor+d),Math.max(0,i.head+d)):n.map(v)}}))}else n={changes:r,selection:i&&t.selection.replaceRange(i)}}let i="input.type";return e.composing&&(i+=".compose",e.inputState.compositionFirstChange&&(i+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(n,{scrollIntoView:!0,userEvent:i}),!0}if(o&&!o.main.eq(l)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:o,scrollIntoView:t,userEvent:n}),!0}return!1}class Ei{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new li(t.state||Ct.create(t)),this.plugins=this.state.facet(kn).map((t=>new Pn(t)));for(let t of this.plugins)t.update(this);this.observer=new ki(this,((t,e,n)=>Pi(this,t,e,n)),(t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()})),this.inputState=new wr(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new rr(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof vt?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,i=this.state;for(let e of t){if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}if(this.destroyed)return void(this.viewState.state=i);if(this.observer.clear(),i.facet(Ct.phrases)!=this.state.facet(Ct.phrases))return this.setState(i);e=Mn.create(this,i,t);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(s&&(s=s.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;s=new yn(t.empty?t:D.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(bn)&&(s=t.value)}this.viewState.update(e,s),this.bidiCache=Di.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(Nn)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(mi)!=e.state.facet(mi)&&(this.viewState.mustMeasureContent=!0),(n||r||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!e.empty)for(let t of this.state.facet(On))t(e)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new li(t),this.plugins=t.facet(kn).map((t=>new Pn(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView=new rr(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(kn),n=t.state.facet(kn);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new Pn(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,{scrollHeight:n,scrollTop:r,clientHeight:i}=this.scrollDOM,s=r>n-i-4?n:r;try{for(let t=0;;t++){this.updateState=1;let n=this.viewport,r=this.viewState.lineBlockAtHeight(s),i=this.viewState.measure(this);if(!i&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let o=[];4&i||([this.measureRequests,o]=[o,this.measureRequests]);let l=o.map((t=>{try{return t.read(this)}catch(t){return Cn(this.state,t),Li}})),a=Mn.create(this,this.state,[]),u=!1,c=!1;a.flags|=i,e?e.flags|=i:e=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),u=this.docView.update(a));for(let t=0;t<o.length;t++)if(l[t]!=Li)try{let e=o[t];e.write&&e.write(l[t],this)}catch(t){Cn(this.state,t)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0;else{let t=this.viewState.lineBlockAt(r.from).top-r.top;(t>1||t<-1)&&(this.scrollDOM.scrollTop+=t,c=!0)}if(u&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!c&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(On))t(e)}get themeClasses(){return Oi+" "+(this.state.facet(Ri)?xi:wi)+" "+this.state.facet(mi)}updateAttrs(){let t=Ii(this,En,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Sn)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),Ii(this,_n,e);let n=this.observer.ignore((()=>{let n=tn(this.contentDOM,this.contentAttrs,e),r=tn(this.dom,this.editorAttrs,t);return n||r}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(Ei.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(Nn),zt.mount(this.root,this.styleModules.concat(Ci).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),t){if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Or(this,t,Rr(this,t,e,n))}moveByGroup(t,e){return Or(this,t,Rr(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return t=>{let e=r(t);return i==wt.Space&&(i=e),i==e}}(this,t.head,e))))}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=r&&t.lineWrapping?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(i.from),o=t.posAtCoords({x:n==(r==Bn.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=o)return D.cursor(o,n?-1:1)}let o=cn.find(t.docView,e.head),l=o?n?o.posAtEnd:o.posAtStart:n?i.to:i.from;return D.cursor(l,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return Or(this,t,function(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return D.cursor(i,e.assoc);let o,l=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i),c=t.documentTop;if(u)null==l&&(l=u.left-a.left),o=s<0?u.top:u.bottom;else{let e=t.viewState.lineBlockAt(i);null==l&&(l=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-e.from))),o=(s<0?e.top:e.bottom)+c}let h=a.left+l,f=null!=r?r:t.defaultLineHeight>>1;for(let n=0;;n+=10){let r=o+(f+n)*s,u=pr(t,{x:h,y:r},!1,s);if(r<a.top||r>a.bottom||(s<0?u<i:u>i))return D.cursor(u,e.assoc,void 0,l)}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),pr(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return ve(n,i[zn.find(i,t-r.from,-1,e)].dir==Bn.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(xn)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>_i)return Yn(t.length);let e=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e)return n.order;let n=jn(t.text,e);return this.bidiCache.push(new Di(t.from,t.to,e,n)),n}get hasFocus(){var t;return(document.hasFocus()||qe.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Re(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return bn.of(new yn("number"==typeof t?D.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return An.define((()=>({})),{eventHandlers:t})}static theme(t,e){let n=zt.newName(),r=[mi.of(n),Nn.of(bi(`.${n}`,t))];return e&&e.dark&&r.push(Ri.of(!0)),r}static baseTheme(t){return j.lowest(Nn.of(bi("."+Oi,t,yi)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&Ce.get(n)||Ce.get(t);return(null===(e=null==r?void 0:r.rootView)||void 0===e?void 0:e.view)||null}}Ei.styleModule=Nn,Ei.inputHandler=wn,Ei.perLineTextDirection=xn,Ei.exceptionSink=Rn,Ei.updateListener=On,Ei.editable=Sn,Ei.mouseSelectionStyle=mn,Ei.dragMovesSelection=pn,Ei.clickAddsSelectionRange=gn,Ei.decorations=Ln,Ei.atomicRanges=Dn,Ei.scrollMargins=In,Ei.darkTheme=Ri,Ei.contentAttributes=_n,Ei.editorAttributes=En,Ei.lineWrapping=Ei.contentAttributes.of({class:"cm-lineWrapping"}),Ei.announce=ft.define();const _i=4096,Li={};class Di{constructor(t,e,n,r){this.from=t,this.to=e,this.dir=n,this.order=r}static update(t,e){if(e.empty)return t;let n=[],r=t.length?t[t.length-1].dir:Bn.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let s=t[i];s.dir!=r||e.touchesRange(s.from,s.to)||n.push(new Di(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.order))}return n}}function Ii(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let e=r[i],s="function"==typeof e?e(t):e;s&&Ke(s,n)}return n}const Ni=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function Qi(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const Mi=j.default(Ei.domEventHandlers({keydown:(t,e)=>Ui(qi(e.state),t,e,"editor")})),Bi=Q.define({enables:Mi}),Fi=new WeakMap;function qi(t){let e=t.facet(Bi),n=Fi.get(e);return n||Fi.set(e,n=function(t,e=Ni){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,r,s,o)=>{let l=n[t]||(n[t]=Object.create(null)),a=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,s,o,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?o=!0:i=!0}}return r&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<a.length;e++){let n=a.slice(0,e).join(" ");i(n,!0),l[n]||(l[n]={preventDefault:!0,commands:[e=>{let r=$i={view:e,prefix:n,scope:t};return setTimeout((()=>{$i==r&&($i=null)}),4e3),!0}]})}let u=a.join(" ");i(u,!1);let c=l[u]||(l[u]={preventDefault:!1,commands:[]});c.commands.push(s),o&&(c.preventDefault=!0)};for(let n of t){let t=n[e]||n.key;if(t)for(let e of n.scope?n.scope.split(" "):["editor"])s(e,t,n.run,n.preventDefault),n.shift&&s(e,"Shift-"+t,n.shift,n.preventDefault)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let $i=null;function Ui(t,e,n,r){let i=function(t){var e=!(ee&&(t.ctrlKey||t.altKey||t.metaKey)||te&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Zt:Yt)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=O(i,0),o=x(s)==i.length&&" "!=i,l="",a=!1;$i&&$i.view==n&&$i.scope==r&&(l=$i.prefix+" ",(a=yr.indexOf(e.keyCode)<0)&&($i=null));let u,c=t=>{if(t){for(let e of t.commands)if(e(n))return!0;t.preventDefault&&(a=!0)}return!1},h=t[r];if(h){if(c(h[l+Qi(i,e,!o)]))return!0;if(o&&(e.shiftKey||e.altKey||e.metaKey||s>127)&&(u=Yt[e.keyCode])&&u!=i){if(c(h[l+Qi(u,e,!0)]))return!0;if(e.shiftKey&&Zt[e.keyCode]!=u&&c(h[l+Qi(Zt[e.keyCode],e,!1)]))return!0}else if(o&&e.shiftKey&&c(h[l+Qi(i,e,!0)]))return!0}return a}const Xi=!qe.ios,Hi=Q.define({combine:t=>St(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function Vi(t={}){return[Hi.of(t),zi,ji]}class Wi{constructor(t,e,n,r,i){this.left=t,this.top=e,this.width=n,this.height=r,this.className=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width>=0&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}}const zi=An.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Hi).cursorBlinkRate+"ms"}update(t){let e=t.startState.facet(Hi)!=t.state.facet(Hi);(e||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some((t=>t.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:t}=this.view,e=t.facet(Hi),n=t.selection.ranges.map((t=>t.empty?[]:function(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];let n=Math.max(e.from,t.viewport.from),r=Math.min(e.to,t.viewport.to),i=t.textDirection==Bn.LTR,s=t.contentDOM,o=s.getBoundingClientRect(),l=Yi(t),a=window.getComputedStyle(s.firstChild),u=o.left+parseInt(a.paddingLeft)+Math.min(0,parseInt(a.textIndent)),c=o.right-parseInt(a.paddingRight),h=Ki(t,n),f=Ki(t,r),v=h.type==nn.Text?h:null,d=f.type==nn.Text?f:null;t.lineWrapping&&(v&&(v=Zi(t,n,v)),d&&(d=Zi(t,r,d)));if(v&&d&&v.from==d.from)return p(m(e.from,e.to,v));{let n=v?m(e.from,null,v):R(h,!1),r=d?m(null,e.to,d):R(f,!0),i=[];return(v||h).to<(d||f).from-1?i.push(g(u,n.bottom,c,r.top)):n.bottom<r.top&&t.elementAtHeight((n.bottom+r.top)/2).type==nn.Text&&(n.bottom=r.top=(n.bottom+r.top)/2),p(n).concat(i).concat(p(r))}function g(t,e,n,r){return new Wi(t-l.left,e-l.top-.01,n-t,r-e+.01,"cm-selectionBackground")}function p({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(g(n[i],t,n[i+1],e));return r}function m(e,n,r){let s=1e9,o=-1e9,l=[];function a(e,n,a,h,f){let v=t.coordsAtPos(e,e==r.to?-2:2),d=t.coordsAtPos(a,a==r.from?2:-2);s=Math.min(v.top,d.top,s),o=Math.max(v.bottom,d.bottom,o),f==Bn.LTR?l.push(i&&n?u:v.left,i&&h?c:d.right):l.push(!i&&h?u:d.left,!i&&n?c:v.right)}let h=null!=e?e:r.from,f=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>h&&r.from<f)for(let i=Math.max(r.from,h),s=Math.min(r.to,f);;){let r=t.state.doc.lineAt(i);for(let o of t.bidiSpans(r)){let t=o.from+r.from,l=o.to+r.from;if(t>=s)break;l>i&&a(Math.max(t,i),null==e&&t<=h,Math.min(l,s),null==n&&l>=f,o.dir)}if(i=r.to+1,i>=s)break}return 0==l.length&&a(h,null==e,f,null==n,t.textDirection),{top:s,bottom:o,horizontal:l}}function R(t,e){let n=o.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(this.view,t))).reduce(((t,e)=>t.concat(e))),r=[];for(let n of t.selection.ranges){let i=n==t.selection.main;if(n.empty?!i||Xi:e.drawRangeCursor){let t=Ji(this.view,n,i);t&&r.push(t)}}return{rangePieces:n,cursors:r}}drawSel({rangePieces:t,cursors:e}){if(t.length!=this.rangePieces.length||t.some(((t,e)=>!t.eq(this.rangePieces[e])))){this.selectionLayer.textContent="";for(let e of t)this.selectionLayer.appendChild(e.draw());this.rangePieces=t}if(e.length!=this.cursors.length||e.some(((t,e)=>!t.eq(this.cursors[e])))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const t of e)this.cursorLayer.appendChild(t.draw())}else e.forEach(((e,n)=>e.adjust(t[n])));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Gi={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Xi&&(Gi[".cm-line"].caretColor="transparent !important");const ji=j.highest(Ei.theme(Gi));function Yi(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Bn.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function Zi(t,e,n){let r=D.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:nn.Text}}function Ki(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==nn.Text))return t;return n}function Ji(t,e,n){let r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return null;let i=Yi(t);return new Wi(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const ts=ft.define({map:(t,e)=>null==t?null:e.mapPos(t)}),es=X.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(ts)?e.value:t),t))}),ns=An.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(es);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(es)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(es),e=null!=t&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(es)!=t&&this.view.dispatch({effects:ts.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function rs(t,e,n,r,i){e.lastIndex=0;for(let s,o=t.iterRange(n,r),l=n;!o.next().done;l+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(l+s.index,s)}class is{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:i,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(t,e,n,i)=>r(i,n,n+t[0].length,t,e);else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");{let t="function"==typeof n?n:()=>n;this.addMatch=(e,n,r,i)=>i(r,r+e[0].length,t(e,n,r))}}this.boundary=i,this.maxLength=s}createDeco(t){let e=new _t,n=e.add.bind(e);for(let{from:e,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(t,this.maxLength))rs(t.state.doc,this.regexp,e,r,((e,r)=>this.addMatch(r,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),r=Math.max(o,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let s=Math.max(i.from,n),o=Math.min(i.to,r);if(o>s){let n=t.state.doc.lineAt(s),r=n.to<o?t.state.doc.lineAt(o):n,l=Math.max(i.from,n.from),a=Math.min(i.to,r.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){l=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){a=o;break}}let u,c=[],h=(t,e,n)=>c.push(n.range(t,e));if(n==r)for(this.regexp.lastIndex=l-n.from;(u=this.regexp.exec(n.text))&&u.index<a-n.from;)this.addMatch(u,t,u.index+n.from,h);else rs(t.state.doc,this.regexp,l,a,((e,n)=>this.addMatch(n,t,e,h)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:c})}}return e}}const ss=null!=/x/.unicode?"gu":"g",os=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",ss),ls={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let as=null;const us=Q.define({combine(t){let e=St(t,{render:null,specialChars:os,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==as&&"undefined"!=typeof document&&document.body){let e=document.body.style;as=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return as||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,ss)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ss)),e}});function cs(t={}){return[us.of(t),hs||(hs=An.fromClass(class{constructor(t){this.view=t,this.decorations=rn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(us)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new is({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=O(e[0],0);if(9==s){let t=i.lineAt(r),e=n.state.tabSize,s=Ut(t.text,e,r-t.from);return rn.replace({widget:new vs((e-s%e)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=rn.replace({widget:new fs(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(us);t.startState.facet(us)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let hs=null;class fs extends en{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(ls[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class vs extends en{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const ds=rn.line({class:"cm-activeLine"}),gs=An.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){if(!r.empty)return rn.none;let i=t.lineBlockAt(r.head);i.from>e&&(n.push(ds.range(i.from)),e=i.from)}return rn.set(n)}},{decorations:t=>t.decorations});const ps=2e3;function ms(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>ps?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):Ut(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function Rs(t,e){let n=ms(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,s){let o=ms(t,e);if(!o)return r;let l=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>ps||n.off>ps||e.col<0||n.col<0){let o=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=l&&s.push(D.range(n.from+o,n.to+l))}}else{let o=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=Xt(n.text,o,t.tabSize,!0);if(r>-1){let e=Xt(n.text,l,t.tabSize);s.push(D.range(n.from+r,n.from+e))}}}return s}(t.state,n,o);return l.length?s?D.create(l.concat(r.ranges)):D.create(l):r}}:null}function Os(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return Ei.mouseSelectionStyle.of(((t,n)=>e(n)?Rs(t,n):null))}const ws={Alt:[18,t=>t.altKey],Control:[17,t=>t.ctrlKey],Shift:[16,t=>t.shiftKey],Meta:[91,t=>t.metaKey]},xs={style:"cursor: crosshair"};function ys(t={}){let[e,n]=ws[t.key||"Alt"],r=An.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventHandlers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)}}});return[r,Ei.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.isDown)?xs:null}))]}const bs="-10000px";class Cs{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t)),this.tooltipViews=this.tooltips.map(n)}update(t){let e=t.state.facet(this.facet),n=e.filter((t=>t));if(e===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let r=[];for(let e=0;e<n.length;e++){let i=n[e],s=-1;if(i){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==i.create&&(s=t)}if(s<0)r[e]=this.createTooltipView(i);else{let n=r[e]=this.tooltipViews[s];n.update&&n.update(t)}}}for(let t of this.tooltipViews)r.indexOf(t)<0&&t.dom.remove();return this.input=e,this.tooltips=n,this.tooltipViews=r,!0}}function Ss(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Ts=Q.define({combine:t=>{var e,n,r;return{position:qe.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Ss}}}),ks=An.fromClass(class{constructor(t){var e;this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=t.state.facet(Ts);this.position=n.position,this.parent=n.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Cs(t,Es,(t=>this.createTooltip(t))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(e=t.dom.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Ts);if(r.position!=this.position){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=bs,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;null===(t=this.view.dom.ownerDocument.defaultView)||void 0===t||t.removeEventListener("resize",this.measureSoon);for(let{dom:t}of this.manager.tooltipViews)t.remove();null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(Ts).tooltipSpace(this.view)}}writeMeasure(t){let{editor:e,space:n}=t,r=[];for(let i=0;i<this.manager.tooltips.length;i++){let s=this.manager.tooltips[i],o=this.manager.tooltipViews[i],{dom:l}=o,a=t.pos[i],u=t.size[i];if(!a||a.bottom<=Math.max(e.top,n.top)||a.top>=Math.min(e.bottom,n.bottom)||a.right<Math.max(e.left,n.left)-.1||a.left>Math.min(e.right,n.right)+.1){l.style.top=bs;continue}let c=s.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,h=c?7:0,f=u.right-u.left,v=u.bottom-u.top,d=o.offset||Ps,g=this.view.textDirection==Bn.LTR,p=u.width>n.right-n.left?g?n.left:n.right-u.width:g?Math.min(a.left-(c?14:0)+d.x,n.right-f):Math.max(n.left,a.left-f+(c?14:0)-d.x),m=!!s.above;!s.strictSide&&(m?a.top-(u.bottom-u.top)-d.y<n.top:a.bottom+(u.bottom-u.top)+d.y>n.bottom)&&m==n.bottom-a.bottom>a.top-n.top&&(m=!m);let R=m?a.top-v-h-d.y:a.bottom+h+d.y,O=p+f;if(!0!==o.overlap)for(let t of r)t.left<O&&t.right>p&&t.top<R+v&&t.bottom>R&&(R=m?t.top-v-2-h:t.bottom+h+2);"absolute"==this.position?(l.style.top=R-t.parent.top+"px",l.style.left=p-t.parent.left+"px"):(l.style.top=R+"px",l.style.left=p+"px"),c&&(c.style.left=a.left+(g?d.x:-d.x)-(p+14-7)+"px"),!0!==o.overlap&&r.push({left:p,top:R,right:O,bottom:R+v}),l.classList.toggle("cm-tooltip-above",m),l.classList.toggle("cm-tooltip-below",!m),o.positioned&&o.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=bs}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),As=Ei.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ps={x:0,y:0},Es=Q.define({enables:[ks,As]}),_s=Q.define();class Ls{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Cs(t,_s,(t=>this.createHostedView(t)))}static create(t){return new Ls(t)}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned()}update(t){this.manager.update(t)}}const Ds=Es.compute([_s],(t=>{let e=t.facet(_s).filter((t=>t));return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.filter((t=>null!=t.end)).map((t=>t.end))),create:Ls.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class Is{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:t}=this,e=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null==e)return;let n=this.view.coordsAtPos(e);if(null==n||t.y<n.top||t.y>n.bottom||t.x<n.left-this.view.defaultCharacterWidth||t.x>n.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(e)).find((t=>t.from<=e&&t.to>=e)),i=r&&r.dir==Bn.RTL?-1:1,s=this.source(this.view,e,t.x<n.left?-i:i);if(null==s?void 0:s.then){let t=this.pending={pos:e};s.then((e=>{this.pending==t&&(this.pending=null,e&&this.view.dispatch({effects:this.setHover.of(e)}))}),(t=>Cn(this.view.state,t,"hover tooltip")))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!function(t){for(let e=t;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,i=null!==(e=null==n?void 0:n.end)&&void 0!==e?e:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(t,e,n,r,i,s){let o=document.createRange(),l=t.domAtPos(e),a=t.domAtPos(n);o.setEnd(a.node,a.offset),o.setStart(l.node,l.offset);let u=o.getClientRects();o.detach();for(let t=0;t<u.length;t++){let e=u[t];if(Math.max(e.top-i,i-e.bottom,e.left-r,r-e.right)<=s)return!0}return!1}(this.view,r,i,t.clientX,t.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Ns(t,e={}){let n=ft.define(),r=X.define({create:()=>null,update(t,r){if(t&&(e.hideOnChange&&(r.docChanged||r.selection)||e.hideOn&&e.hideOn(r,t)))return null;if(t&&r.docChanged){let e=r.changes.mapPos(t.pos,-1,b.TrackDel);if(null==e)return null;let n=Object.assign(Object.create(null),t);n.pos=e,null!=t.end&&(n.end=r.changes.mapPos(t.end)),t=n}for(let e of r.effects)e.is(n)&&(t=e.value),e.is(Qs)&&(t=null);return t},provide:t=>_s.from(t)});return[r,An.define((i=>new Is(i,t,r,n,e.hoverTime||300))),Ds]}const Qs=ft.define();const Ms=Q.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Bs(t,e){let n=t.plugin(Fs),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const Fs=An.fromClass(class{constructor(t){this.input=t.state.facet(Us),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(Ms);this.top=new qs(t,!0,e.topContainer),this.bottom=new qs(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(Ms);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new qs(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new qs(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Us);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],s=[],o=[];for(let n of e){let e,l=this.specs.indexOf(n);l<0?(e=n(t.view),o.push(e)):(e=this.panels[l],e.update&&e.update(t)),r.push(e),(e.top?i:s).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Ei.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class qs{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=$s(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=$s(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function $s(t){let e=t.nextSibling;return t.remove(),e}const Us=Q.define({enables:Fs});class Xs extends Tt{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Xs.prototype.elementClass="",Xs.prototype.toDOM=void 0,Xs.prototype.mapMode=b.TrackBefore,Xs.prototype.startSide=Xs.prototype.endSide=-1,Xs.prototype.point=!0;const Hs=Q.define(),Vs={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Et.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ws=Q.define();function zs(t){return[js(),Ws.of(Object.assign(Object.assign({},Vs),t))]}const Gs=Q.define({combine:t=>t.some((t=>t))});function js(t){let e=[Ys];return t&&!1===t.fixed&&e.push(Gs.of(!0)),e}const Ys=An.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Ws).map((e=>new to(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Gs),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Gs)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Et.iter(this.view.state.facet(Hs),this.view.viewport.from),r=[],i=this.gutters.map((t=>new Js(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks){let e;if(Array.isArray(t.type)){for(let n of t.type)if(n.type==nn.Text){e=n;break}}else e=t.type==nn.Text?t:void 0;if(e){r.length&&(r=[]),Ks(n,r,t.from);for(let t of i)t.line(this.view,e,r)}}for(let t of i)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ws),n=t.state.facet(Ws),r=t.docChanged||t.heightChanged||t.viewportChanged||!Et.eq(t.startState.facet(Hs),t.state.facet(Hs),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new to(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Ei.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==Bn.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))});function Zs(t){return Array.isArray(t)?t:[t]}function Ks(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Js{constructor(t,e,n){this.gutter=t,this.height=n,this.localMarkers=[],this.i=0,this.cursor=Et.iter(t.markers,e.from)}line(t,e,n){this.localMarkers.length&&(this.localMarkers=[]),Ks(this.cursor,this.localMarkers,e.from);let r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let s=this.gutter;if(0==r.length&&!s.config.renderEmptyElements)return;let o=e.top-this.height;if(this.i==s.elements.length){let n=new eo(t,e.height,o,r);s.elements.push(n),s.dom.appendChild(n.dom)}else s.elements[this.i].update(t,e.height,o,r);this.height=e.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class to{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i=t.lineBlockAtHeight(r.clientY-t.documentTop);e.domEventHandlers[n](t,i,r)&&r.preventDefault()}));this.markers=Zs(e.markers(t)),e.initialSpacer&&(this.spacer=new eo(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Zs(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Et.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class eo{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,s=0;;){let o=s,l=i<e.length?e[i++]:null,a=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(l)){o=t,a=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!l)break;l.toDOM&&(a?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),a&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const no=Q.define(),ro=Q.define({combine:t=>St(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class io extends Xs{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function so(t,e){return t.state.facet(ro).formatNumber(e,t.state)}const oo=Ws.compute([ro],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(no),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new io(so(t,t.state.doc.lineAt(e.from).number)),lineMarkerChange:t=>t.startState.facet(ro)!=t.state.facet(ro),initialSpacer:t=>new io(so(t,ao(t.state.doc.lines))),updateSpacer(t,e){let n=so(e.view,ao(e.view.state.doc.lines));return n==t.number?t:new io(n)},domEventHandlers:t.facet(ro).domEventHandlers})));function lo(t={}){return[ro.of(t),js(),oo]}function ao(t){let e=9;for(;e<t;)e=10*e+9;return e}const uo=new class extends Xs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},co=Hs.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges)if(r.empty){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(uo.range(i)))}return Et.of(e)}));const ho=1024;let fo=0;class vo{constructor(t,e){this.from=t,this.to=e}}class go{constructor(t={}){this.id=fo++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=mo.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}go.closedBy=new go({deserialize:t=>t.split(" ")}),go.openedBy=new go({deserialize:t=>t.split(" ")}),go.group=new go({deserialize:t=>t.split(" ")}),go.contextHash=new go({perNode:!0}),go.lookAhead=new go({perNode:!0}),go.mounted=new go({perNode:!0});const po=Object.create(null);class mo{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):po,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new mo(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(go.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(go.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}mo.none=new mo("",Object.create(null),0,8);class Ro{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let e of t){let t=e(n);t&&(r||(r=Object.assign({},n.props)),r[t[0].id]=t[1])}e.push(r?new mo(n.name,r,n.id,n.flags):n)}return new Ro(e)}}const Oo=new WeakMap,wo=new WeakMap;var xo;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(xo||(xo={}));class yo{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=this.prop(go.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Do(this.topNode,t)}cursorAt(t,e=0,n=0){let r=Oo.get(this)||this.topNode,i=new Do(r);return i.moveTo(t,e),Oo.set(this,i._tree),i}get topNode(){return new Ao(this,0,0,null)}resolve(t,e=0){let n=ko(Oo.get(this)||this.topNode,t,e,!1);return Oo.set(this,n),n}resolveInner(t,e=0){let n=ko(wo.get(this)||this.topNode,t,e,!0);return wo.set(this,n),n}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t;for(let s=this.cursor((t.mode||0)|xo.IncludeAnonymous);;){let t=!1;if(s.from<=i&&s.to>=r&&(s.type.isAnonymous||!1!==e(s))){if(s.firstChild())continue;t=!0}for(;t&&n&&!s.type.isAnonymous&&n(s),!s.nextSibling();){if(!s.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Mo(mo.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new yo(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new yo(mo.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=ho,reused:s=[],minRepeatType:o=r.types.length}=t,l=Array.isArray(n)?new bo(n,n.length):n,a=r.types,u=0,c=0;function h(t,e,n,m,R){let{id:O,start:w,end:x,size:y}=l,b=c;for(;y<0;){if(l.next(),-1==y){let e=s[O];return n.push(e),void m.push(w-t)}if(-3==y)return void(u=O);if(-4==y)return void(c=O);throw new RangeError(`Unrecognized record size: ${y}`)}let C,S,T=a[O],k=w-t;if(x-w<=i&&(S=g(l.pos-e,R))){let e=new Uint16Array(S.size-S.skip),n=l.pos-S.size,i=e.length;for(;l.pos>n;)i=p(S.start,e,i);C=new Co(e,x-S.start,r),k=S.start-t}else{let t=l.pos-y;l.next();let e=[],n=[],r=O>=o?O:-1,s=0,a=x;for(;l.pos>t;)r>=0&&l.id==r&&l.size>=0?(l.end<=a-i&&(v(e,n,w,s,l.end,a,r,b),s=e.length,a=l.end),l.next()):h(w,t,e,n,r);if(r>=0&&s>0&&s<e.length&&v(e,n,w,s,w,a,r,b),e.reverse(),n.reverse(),r>-1&&s>0){let t=f(T);C=Mo(T,e,n,0,e.length,0,x-w,t,t)}else C=d(T,e,n,x-w,b-x)}n.push(C),m.push(k)}function f(t){return(e,n,r)=>{let i,s,o=0,l=e.length-1;if(l>=0&&(i=e[l])instanceof yo){if(!l&&i.type==t&&i.length==r)return i;(s=i.prop(go.lookAhead))&&(o=n[l]+i.length+s)}return d(t,e,n,r,o)}}function v(t,e,n,i,s,o,l,a){let u=[],c=[];for(;t.length>i;)u.push(t.pop()),c.push(e.pop()+n-s);t.push(d(r.types[l],u,c,o-s,a-o)),e.push(s-n)}function d(t,e,n,r,i=0,s){if(u){let t=[go.contextHash,u];s=s?[t].concat(s):[t]}if(i>25){let t=[go.lookAhead,i];s=s?[t].concat(s):[t]}return new yo(t,e,n,r,s)}function g(t,e){let n=l.fork(),r=0,s=0,a=0,u=n.end-i,c={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){c.size=r,c.start=s,c.skip=a,a+=4,r+=4,n.next();continue}let l=n.pos-t;if(t<0||l<i||n.start<u)break;let h=n.id>=o?4:0,f=n.start;for(n.next();n.pos>l;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=o&&(h+=4);n.next()}s=f,r+=t,a+=h}return(e<0||r==t)&&(c.size=r,c.start=s,c.skip=a),c.size>4?c:void 0}function p(t,e,n){let{id:r,start:i,end:s,size:a}=l;if(l.next(),a>=0&&r<o){let o=n;if(a>4){let r=l.pos-(a-4);for(;l.pos>r;)n=p(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=i-t,e[--n]=r}else-3==a?u=r:-4==a&&(c=r);return n}let m=[],R=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,m,R,-1);let O=null!==(e=t.length)&&void 0!==e?e:m.length?R[0]+m[0].length:0;return new yo(a[t.topID],m.reverse(),R.reverse(),O)}(t)}}yo.empty=new yo(mo.none,[],[],0);class bo{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new bo(this.buffer,this.index)}}class Co{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return mo.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return i+"("+s.join(",")+")"}findChild(t,e,n,r,i){let{buffer:s}=this,o=-1;for(let l=t;l!=e&&!(So(i,r,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,e,n,r){let i=this.buffer,s=new Uint16Array(e-t);for(let r=t,o=0;r<e;)s[o++]=i[r++],s[o++]=i[r++]-n,s[o++]=i[r++]-n,s[o++]=i[r++]-t;return new Co(s,r-n,this.set)}}function So(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function To(t,e){let n=t.childBefore(e);for(;n;){let e=n.lastChild;if(!e||e.to!=n.to)break;e.type.isError&&e.from==e.to?(t=n,n=e.prevSibling):n=e}return t}function ko(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof Ao&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=r?0:xo.IgnoreOverlays;if(r)for(let r=t,o=r.parent;o;r=o,o=r.parent)r instanceof Ao&&r.index<0&&(null===(i=o.enter(e,n,s))||void 0===i?void 0:i.from)!=r.from&&(t=o);for(;;){let r=t.enter(e,n,s);if(!r)return t;t=r}}class Ao{constructor(t,e,n,r){this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],u=l[t]+s.from;if(So(r,n,u,u+a.length))if(a instanceof Co){if(i&xo.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,e,n-u,r);if(o>-1)return new Lo(new _o(s,a,t,u),null,o)}else if(i&xo.IncludeAnonymous||!a.type.isAnonymous||Io(a)){let o;if(!(i&xo.IgnoreMounts)&&a.props&&(o=a.prop(go.mounted))&&!o.overlay)return new Ao(o.tree,u,t,s);let l=new Ao(a,u,t,s);return i&xo.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,r)}}if(i&xo.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&xo.IgnoreOverlays)&&(r=this._tree.prop(go.mounted))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new Ao(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(t=0){return new Do(this,t)}get tree(){return this._tree}toTree(){return this._tree}resolve(t,e=0){return ko(this,t,e,!1)}resolveInner(t,e=0){return ko(this,t,e,!0)}enterUnfinishedNodesBefore(t){return To(this,t)}getChild(t,e=null,n=null){let r=Po(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return Po(this,t,e,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(t){return Eo(this,t)}}function Po(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function Eo(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class _o{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class Lo{constructor(t,e,n){this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new Lo(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&xo.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Lo(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Lo(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Lo(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}cursor(t=0){return new Do(this,t)}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let s=n.buffer[this.index+1],o=n.buffer[this.index+2];t.push(n.slice(r,i,s,o)),e.push(0)}return new yo(this.type,t,e,this.to-this.from)}resolve(t,e=0){return ko(this,t,e,!1)}resolveInner(t,e=0){return ko(this,t,e,!0)}enterUnfinishedNodesBefore(t){return To(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,n=null){let r=Po(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return Po(this,t,e,n)}get node(){return this}matchContext(t){return Eo(this,t)}}class Do{constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Ao)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Ao?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&xo.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&xo.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&xo.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n._tree.children.length;r!=i;r+=t){let t=n._tree.children[r];if(this.mode&xo.IncludeAnonymous||t instanceof Co||!t.type.isAnonymous||Io(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new Lo(this.buffer,e,this.stack[t]);return this.bufferNode=new Lo(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return Eo(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Eo(this.node,t,r);let s=n[e.buffer[this.stack[i]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function Io(t){return t.children.some((t=>t instanceof Co||!t.type.isAnonymous||Io(t)))}const No=new WeakMap;function Qo(t,e){if(!t.isAnonymous||e instanceof Co||e.type!=t)return 1;let n=No.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof yo)){n=1;break}n+=Qo(t,r)}No.set(e,n)}return n}function Mo(t,e,n,r,i,s,o,l,a){let u=0;for(let n=r;n<i;n++)u+=Qo(t,e[n]);let c=Math.ceil(1.5*u/8),h=[],f=[];return function e(n,r,i,o,l){for(let u=i;u<o;){let i=u,v=r[u],d=Qo(t,n[u]);for(u++;u<o;u++){let e=Qo(t,n[u]);if(d+e>=c)break;d+=e}if(u==i+1){if(d>c){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+l);continue}h.push(n[i])}else{let e=r[u-1]+n[u-1].length-v;h.push(Mo(t,n,r,i,u,v,e,null,a))}f.push(v+l-s)}}(e,n,r,i,0),(l||a)(h,f,o)}class Bo{constructor(t,e,n,r,i=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new Bo(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,s=t.length?t[0]:null;for(let o=0,l=0,a=0;;o++){let u=o<e.length?e[o]:null,c=u?u.fromA:1e9;if(c-l>=n)for(;s&&s.from<c;){let e=s;if(l>=e.from||c<=e.to||a){let t=Math.max(e.from,l)-a,n=Math.min(e.to,c)-a;e=t>=n?null:new Bo(t,n,e.tree,e.offset+a,o>0,!!u)}if(e&&r.push(e),s.to>c)break;s=i<t.length?t[i++]:null}if(!u)break;l=u.toA,a=u.toA-u.toB}return r}}class Fo{startParse(t,e,n){return"string"==typeof t&&(t=new qo(t)),n=n?n.length?n.map((t=>new vo(t.from,t.to))):[new vo(0,0)]:[new vo(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}class qo{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new go({perNode:!0});let $o=0;class Uo{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=$o++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new Uo([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new Ho;return e=>e.modified.indexOf(t)>-1?e:Ho.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let Xo=0;class Ho{constructor(){this.instances=[],this.id=Xo++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>{return n.base==t&&(r=e,i=n.modified,r.length==i.length&&r.every(((t,e)=>t==i[e])));var r,i}));if(n)return n;let r=[],i=new Uo(r,t,e);for(let t of e)t.instances.push(i);let s=Vo(e);for(let e of t.set)for(let t of s)r.push(Ho.get(e,t));return i}}function Vo(t){let e=[t];for(let n=0;n<t.length;n++)for(let r of Vo(t.slice(0,n).concat(t.slice(n+1))))e.push(r);return e}function Wo(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,l=n[o];if(!l)throw new RangeError("Invalid path: "+t);let a=new Go(r,i,o>0?n.slice(0,o):null);e[l]=a.sort(e[l])}}return zo.add(e)}const zo=new go;class Go{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function jo(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:r,all:i=null}=e||{};return{style:t=>{let e=i;for(let r of t)for(let t of r.set){let r=n[t.id];if(r){e=e?e+" "+r:r;break}}return e},scope:r}}function Yo(t,e){let n=null;for(let r of t){let t=r.style(e);t&&(n=n?n+" "+t:t)}return n}function Zo(t,e,n,r=0,i=t.length){let s=new Ko(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class Ko{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i){let{type:s,from:o,to:l}=t;if(o>=n||l<=e)return;s.isTop&&(i=this.highlighters.filter((t=>!t.scope||t.scope(s))));let a=r,u=s.prop(zo),c=!1;for(;u;){if(!u.context||t.matchContext(u.context)){let t=Yo(i,u.tags);t&&(a&&(a+=" "),a+=t,1==u.mode?r+=(r?" ":"")+t:0==u.mode&&(c=!0));break}u=u.next}if(this.startSpan(t.from,a),c)return;let h=t.tree&&t.tree.prop(go.mounted);if(h&&h.overlay){let s=t.node.enter(h.overlay[0].from+o,1),u=this.highlighters.filter((t=>!t.scope||t.scope(h.tree.type))),c=t.firstChild();for(let f=0,v=o;;f++){let d=f<h.overlay.length?h.overlay[f]:null,g=d?d.from+o:l,p=Math.max(e,v),m=Math.min(n,g);if(p<m&&c)for(;t.from<m&&(this.highlightRange(t,p,m,r,i),this.startSpan(Math.min(n,t.to),a),!(t.to>=g)&&t.nextSibling()););if(!d||g>n)break;v=d.to+o,v>e&&(this.highlightRange(s.cursor(),Math.max(e,d.from+o),Math.min(n,v),r,u),this.startSpan(v,a))}c&&t.parent()}else if(t.firstChild()){do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i),this.startSpan(Math.min(n,t.to),a)}}while(t.nextSibling());t.parent()}}}const Jo=Uo.define,tl=Jo(),el=Jo(),nl=Jo(el),rl=Jo(el),il=Jo(),sl=Jo(il),ol=Jo(il),ll=Jo(),al=Jo(ll),ul=Jo(),cl=Jo(),hl=Jo(),fl=Jo(hl),vl=Jo(),dl={comment:tl,lineComment:Jo(tl),blockComment:Jo(tl),docComment:Jo(tl),name:el,variableName:Jo(el),typeName:nl,tagName:Jo(nl),propertyName:rl,attributeName:Jo(rl),className:Jo(el),labelName:Jo(el),namespace:Jo(el),macroName:Jo(el),literal:il,string:sl,docString:Jo(sl),character:Jo(sl),attributeValue:Jo(sl),number:ol,integer:Jo(ol),float:Jo(ol),bool:Jo(il),regexp:Jo(il),escape:Jo(il),color:Jo(il),url:Jo(il),keyword:ul,self:Jo(ul),null:Jo(ul),atom:Jo(ul),unit:Jo(ul),modifier:Jo(ul),operatorKeyword:Jo(ul),controlKeyword:Jo(ul),definitionKeyword:Jo(ul),moduleKeyword:Jo(ul),operator:cl,derefOperator:Jo(cl),arithmeticOperator:Jo(cl),logicOperator:Jo(cl),bitwiseOperator:Jo(cl),compareOperator:Jo(cl),updateOperator:Jo(cl),definitionOperator:Jo(cl),typeOperator:Jo(cl),controlOperator:Jo(cl),punctuation:hl,separator:Jo(hl),bracket:fl,angleBracket:Jo(fl),squareBracket:Jo(fl),paren:Jo(fl),brace:Jo(fl),content:ll,heading:al,heading1:Jo(al),heading2:Jo(al),heading3:Jo(al),heading4:Jo(al),heading5:Jo(al),heading6:Jo(al),contentSeparator:Jo(ll),list:Jo(ll),quote:Jo(ll),emphasis:Jo(ll),strong:Jo(ll),link:Jo(ll),monospace:Jo(ll),strikethrough:Jo(ll),inserted:Jo(),deleted:Jo(),changed:Jo(),invalid:Jo(),meta:vl,documentMeta:Jo(vl),annotation:Jo(vl),processingInstruction:Jo(vl),definition:Uo.defineModifier(),constant:Uo.defineModifier(),function:Uo.defineModifier(),standard:Uo.defineModifier(),local:Uo.defineModifier(),special:Uo.defineModifier()};jo([{tag:dl.link,class:"tok-link"},{tag:dl.heading,class:"tok-heading"},{tag:dl.emphasis,class:"tok-emphasis"},{tag:dl.strong,class:"tok-strong"},{tag:dl.keyword,class:"tok-keyword"},{tag:dl.atom,class:"tok-atom"},{tag:dl.bool,class:"tok-bool"},{tag:dl.url,class:"tok-url"},{tag:dl.labelName,class:"tok-labelName"},{tag:dl.inserted,class:"tok-inserted"},{tag:dl.deleted,class:"tok-deleted"},{tag:dl.literal,class:"tok-literal"},{tag:dl.string,class:"tok-string"},{tag:dl.number,class:"tok-number"},{tag:[dl.regexp,dl.escape,dl.special(dl.string)],class:"tok-string2"},{tag:dl.variableName,class:"tok-variableName"},{tag:dl.local(dl.variableName),class:"tok-variableName tok-local"},{tag:dl.definition(dl.variableName),class:"tok-variableName tok-definition"},{tag:dl.special(dl.variableName),class:"tok-variableName2"},{tag:dl.definition(dl.propertyName),class:"tok-propertyName tok-definition"},{tag:dl.typeName,class:"tok-typeName"},{tag:dl.namespace,class:"tok-namespace"},{tag:dl.className,class:"tok-className"},{tag:dl.macroName,class:"tok-macroName"},{tag:dl.propertyName,class:"tok-propertyName"},{tag:dl.operator,class:"tok-operator"},{tag:dl.comment,class:"tok-comment"},{tag:dl.meta,class:"tok-meta"},{tag:dl.invalid,class:"tok-invalid"},{tag:dl.punctuation,class:"tok-punctuation"}]);var gl;const pl=new go;function ml(t){return Q.define({combine:t?e=>e.concat(t):void 0})}class Rl{constructor(t,e,n=[]){this.data=t,Ct.prototype.hasOwnProperty("tree")||Object.defineProperty(Ct.prototype,"tree",{get(){return xl(this)}}),this.parser=e,this.extension=[El.of(this),Ct.languageData.of(((t,e,n)=>t.facet(Ol(t,e,n))))].concat(n)}isActiveAt(t,e,n=-1){return Ol(t,e,n)==this.data}findRegions(t){let e=t.facet(El);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(pl)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(go.mounted);if(i){if(i.tree.prop(pl)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof yo&&r(i,t.positions[n]+e)}};return r(xl(t),0),n}get allowsNesting(){return!0}}function Ol(t,e,n){let r=t.facet(El);if(!r)return null;let i=r.data;if(r.allowsNesting)for(let r=xl(t).topNode;r;r=r.enter(e,n,xo.ExcludeBuffers))i=r.type.prop(pl)||i;return i}Rl.setState=ft.define();class wl extends Rl{constructor(t,e){super(t,e),this.parser=e}static define(t){let e=ml(t.languageData);return new wl(e,t.parser.configure({props:[pl.add((t=>t.isTop?e:void 0))]}))}configure(t){return new wl(this.data,this.parser.configure(t))}get allowsNesting(){return this.parser.hasWrappers()}}function xl(t){let e=t.field(Rl.state,!1);return e?e.tree:yo.empty}class yl{constructor(t,e=t.length){this.doc=t,this.length=e,this.cursorPos=0,this.string="",this.cursor=t.iter()}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let bl=null;class Cl{constructor(t,e,n=[],r,i,s,o,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Cl(t,e,[],yo.empty,0,n,[],null)}startParse(){return this.parser.startParse(new yl(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=yo.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(Bo.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(Bo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=bl;bl=this;try{return t()}finally{bl=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Sl(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=Bo.applyChanges(n,e),r=yo.empty,i=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&o.push({from:n,to:r})}}}return new Cl(this.parser,e,n,r,i,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=Sl(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Fo{createParse(e,n,r){let i=r[0].from,s=r[r.length-1].to;return{parsedPos:i,advance(){let e=bl;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new yo(mo.none,[],[],s-i)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return bl}}function Sl(t,e,n){return Bo.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Tl{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new Tl(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Cl.create(t.facet(El).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new Tl(n)}}Rl.state=X.define({create:Tl.init,update(t,e){for(let t of e.effects)if(t.is(Rl.setState))return t.value;return e.startState.facet(El)!=e.state.facet(El)?Tl.init(e.state):t.apply(e)}});let kl=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(kl=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Al="undefined"!=typeof navigator&&(null===(gl=navigator.scheduling)||void 0===gl?void 0:gl.isInputPending)?()=>navigator.scheduling.isInputPending():null,Pl=An.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Rl.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Rl.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=kl(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(Rl.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!Al?Math.max(25,t.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work((()=>Al&&Al()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Rl.setState.of(new Tl(i.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>Cn(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),El=Q.define({combine:t=>t.length?t[0]:null,enables:[Rl.state,Pl]});const _l=Q.define(),Ll=Q.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});function Dl(t){let e=t.facet(Ll);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function Il(t,e){let n="",r=t.tabSize;if(9==t.facet(Ll).charCodeAt(0))for(;e>=r;)n+="\t",e-=r;for(let t=0;t<e;t++)n+=" ";return n}function Nl(t,e){t instanceof Ct&&(t=new Ql(t));for(let n of t.state.facet(_l)){let r=n(t,e);if(null!=r)return r}let n=xl(t.state);return n?function(t,e,n){return Fl(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}(t,n,e):null}class Ql{constructor(t,e={}){this.state=t,this.options=e,this.unit=Dl(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(i+=s-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return Ut(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ml=new go;function Bl(t){let e=t.type.prop(Ml);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(go.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>Xl(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?ql:null}function Fl(t,e,n){for(;t;t=t.parent){let r=Bl(t);if(r)return r($l.create(n,e,t))}return null}function ql(){return 0}class $l extends Ql{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.node=n}static create(t,e,n){return new $l(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(Ul(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?Fl(t,this.pos,this.base):0}}function Ul(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Xl(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==t.pos+o,a=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<o?n:null;t=i.to}}(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}function Hl({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const Vl=Q.define(),Wl=new go;function zl(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Gl(t,e,n){for(let r of t.facet(Vl)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=xl(t);if(r.length<n)return null;let i=null;for(let s=r.resolveInner(n);s;s=s.parent){if(s.to<=n||s.from>n)continue;if(i&&s.from<e)break;let o=s.type.prop(Wl);if(o&&(s.to<r.length-50||r.length==t.doc.length||!zl(s))){let r=o(s,t);r&&r.from<=n&&r.from>=e&&r.to>n&&(i=r)}}return i}(t,e,n)}function jl(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Yl=ft.define({map:jl}),Zl=ft.define({map:jl});function Kl(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const Jl=X.define({create:()=>rn.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(Yl)&&!ea(t,n.value.from,n.value.to)?t=t.update({add:[aa.range(n.value.from,n.value.to)]}):n.is(Zl)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>Ei.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(aa.range(r,i))}return rn.set(e,!0)}});function ta(t,e,n){var r;let i=null;return null===(r=t.field(Jl,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function ea(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function na(t,e){return t.field(Jl,!1)?e:e.concat(ft.appendConfig.of(la()))}function ra(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Ei.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const ia=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of Kl(t)){let n=Gl(t.state,e.from,e.to);if(n)return t.dispatch({effects:na(t.state,[Yl.of(n),ra(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(Jl,!1))return!1;let e=[];for(let n of Kl(t)){let r=ta(t.state,n.from,n.to);r&&e.push(Zl.of(r),ra(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=Gl(e,i.from,i.to);s&&n.push(Yl.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:na(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(Jl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(Zl.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],sa={placeholderDOM:null,placeholderText:"…"},oa=Q.define({combine:t=>St(t,sa)});function la(t){let e=[Jl,fa];return t&&e.push(oa.of(t)),e}const aa=rn.replace({widget:new class extends en{toDOM(t){let{state:e}=t,n=e.facet(oa),r=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=ta(t.state,n.from,n.to);r&&t.dispatch({effects:Zl.of(r)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),ua={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ca extends Xs{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function ha(t={}){let e=Object.assign(Object.assign({},ua),t),n=new ca(e,!0),r=new ca(e,!1),i=An.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(El)!=t.state.facet(El)||t.startState.field(Jl,!1)!=t.state.field(Jl,!1)||xl(t.startState)!=xl(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new _t;for(let i of t.viewportLineBlocks){let s=ta(t.state,i.from,i.to)?r:Gl(t.state,i.from,i.to)?n:null;s&&e.add(i.from,i.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[i,zs({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Et.empty},initialSpacer:()=>new ca(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let r=ta(t.state,e.from,e.to);if(r)return t.dispatch({effects:Zl.of(r)}),!0;let i=Gl(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:Yl.of(i)}),!0)}})}),la()]}const fa=Ei.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class va{constructor(t,e){let n;function r(t){let e=zt.newName();return(n||(n=Object.create(null)))["."+e]=t,e}const i="string"==typeof e.all?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof Rl?t=>t.prop(pl)==s.data:s?t=>t==s:void 0,this.style=jo(t.map((t=>({tag:t.tag,class:t.class||r(Object.assign({},t,{tag:null}))}))),{all:i}).style,this.module=n?new zt(n):null,this.themeType=e.themeType}static define(t,e){return new va(t,e||{})}}const da=Q.define(),ga=Q.define({combine:t=>t.length?[t[0]]:null});function pa(t){let e=t.facet(da);return e.length?e:t.facet(ga)}function ma(t,e){let n,r=[Oa];return t instanceof va&&(t.module&&r.push(Ei.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?r.push(ga.of(t)):n?r.push(da.computeN([Ei.darkTheme],(e=>e.facet(Ei.darkTheme)==("dark"==n)?[t]:[]))):r.push(da.of(t)),r}class Ra{constructor(t){this.markCache=Object.create(null),this.tree=xl(t.state),this.decorations=this.buildDeco(t,pa(t.state))}update(t){let e=xl(t.state),n=pa(t.state),r=n!=pa(t.startState);e.length<t.view.viewport.to&&!r&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return rn.none;let n=new _t;for(let{from:r,to:i}of t.visibleRanges)Zo(this.tree,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=rn.mark({class:r})))}),r,i);return n.finish()}}const Oa=j.high(An.fromClass(Ra,{decorations:t=>t.decorations})),wa=va.define([{tag:dl.meta,color:"#7a757a"},{tag:dl.link,textDecoration:"underline"},{tag:dl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:dl.emphasis,fontStyle:"italic"},{tag:dl.strong,fontWeight:"bold"},{tag:dl.strikethrough,textDecoration:"line-through"},{tag:dl.keyword,color:"#708"},{tag:[dl.atom,dl.bool,dl.url,dl.contentSeparator,dl.labelName],color:"#219"},{tag:[dl.literal,dl.inserted],color:"#164"},{tag:[dl.string,dl.deleted],color:"#a11"},{tag:[dl.regexp,dl.escape,dl.special(dl.string)],color:"#e40"},{tag:dl.definition(dl.variableName),color:"#00f"},{tag:dl.local(dl.variableName),color:"#30a"},{tag:[dl.typeName,dl.namespace],color:"#085"},{tag:dl.className,color:"#167"},{tag:[dl.special(dl.variableName),dl.macroName],color:"#256"},{tag:dl.definition(dl.propertyName),color:"#00c"},{tag:dl.comment,color:"#940"},{tag:dl.invalid,color:"#f00"}]),xa=Ei.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ya="()[]{}",ba=Q.define({combine:t=>St(t,{afterCursor:!0,brackets:ya,maxScanDistance:1e4,renderMatch:Ta})}),Ca=rn.mark({class:"cm-matchingBracket"}),Sa=rn.mark({class:"cm-nonmatchingBracket"});function Ta(t){let e=[],n=t.matched?Ca:Sa;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const ka=X.define({create:()=>rn.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(ba);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=_a(e.state,t.head,-1,r)||t.head>0&&_a(e.state,t.head-1,1,r)||r.afterCursor&&(_a(e.state,t.head,1,r)||t.head<e.state.doc.length&&_a(e.state,t.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return rn.set(n,!0)},provide:t=>Ei.decorations.from(t)}),Aa=[ka,xa];function Pa(t={}){return[ba.of(t),Aa]}function Ea(t,e,n){let r=t.prop(e<0?go.openedBy:go.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function _a(t,e,n,r={}){let i=r.maxScanDistance||1e4,s=r.brackets||ya,o=xl(t),l=o.resolveInner(e,n);for(let r=l;r;r=r.parent){let i=Ea(r.type,n,s);if(i&&r.from<r.to)return La(t,e,n,r,i,s)}return function(t,e,n,r,i,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let l=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||r.resolveInner(l+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:u,end:{from:l+t,to:l+t+1},matched:e>>1==a>>1};h--}}n>0&&(t+=s.length)}return c.done?{start:u,matched:!1}:null}(t,e,n,o,l.type,i,s)}function La(t,e,n,r,i,s){let o=r.parent,l={from:r.from,to:r.to},a=0,u=null==o?void 0:o.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==a&&i.indexOf(u.type.name)>-1&&u.from<u.to)return{start:l,end:{from:u.from,to:u.to},matched:!0};if(Ea(u.type,n,s))a++;else if(Ea(u.type,-n,s)){if(0==a)return{start:l,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1};a--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const Da=Object.create(null),Ia=[mo.none],Na=[],Qa=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Qa[t]=Ba(Da,e);function Ma(t,e){Na.indexOf(t)>-1||(Na.push(t),console.warn(e))}function Ba(t,e){let n=null;for(let r of e.split(".")){let e=t[r]||dl[r];e?"function"==typeof e?n?n=e(n):Ma(r,`Modifier ${r} used at start of tag`):n?Ma(r,`Tag ${r} used as modifier`):n=e:Ma(r,`Unknown highlighting tag ${r}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=mo.define({id:Ia.length,name:r,props:[Wo({[r]:n})]});return Ia.push(i),i.id}function Fa(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}const qa=Fa(Va,0),$a=Fa(Ha,0),Ua=Fa(((t,e)=>Ha(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from,to:i.to})}return e}(e))),0);function Xa(t,e=t.selection.main.head){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}function Ha(t,e,n=e.selection.ranges){let r=n.map((t=>Xa(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let s,o,l=t.sliceDoc(r-50,r),a=t.sliceDoc(i,i+50),u=/\s*$/.exec(l)[0].length,c=/^\s*/.exec(a)[0].length,h=l.length-u;if(l.slice(h-e.length,h)==e&&a.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};i-r<=100?s=o=t.sliceDoc(r,i):(s=t.sliceDoc(r,r+50),o=t.sliceDoc(i-50,i));let f=/^\s*/.exec(s)[0].length,v=/\s*$/.exec(o)[0].length,d=o.length-v-n.length;return s.slice(f,f+e.length)==e&&o.slice(d,d+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:i-v-n.length,margin:/\s/.test(o.charAt(d-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:s,close:o}=e;t.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:t}}return null}function Va(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:t,to:s}of n){let n=r.length,o=1e9;for(let n=t;n<=s;){let l=e.doc.lineAt(n);if(l.from>i&&(t==s||s>l.from)){i=l.from;let t=Xa(e,n).line;if(!t)continue;let s=/^\s*/.exec(l.text)[0].length,a=s==l.length,u=l.text.slice(s,s+t.length)==t?s:-1;s<l.text.length&&s<o&&(o=s),r.push({line:l,comment:u,token:t,indent:s,empty:a,single:!1})}n=l.to+1}if(o<1e9)for(let t=n;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=o);r.length==n+1&&(r[n].single=!0)}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:s,single:o}of r)!o&&s||t.push({from:e.from+i,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,s=r+i.length;" "==e.text[s-e.from]&&s++,t.push({from:r,to:s})}return{changes:t}}return null}const Wa=ut.define(),za=ut.define(),Ga=Q.define(),ja=Q.define({combine:t=>St(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const Ya=X.define({create:()=>fu.empty,update(t,e){let n=e.state.facet(ja),r=e.annotation(Wa);if(r){let i=e.docChanged?D.single(function(t){let e=0;return t.iterChangedRanges(((t,n)=>e=n)),e}(e.changes)):void 0,s=ru.fromTransaction(e,i),o=r.side,l=0==o?t.undone:t.done;return l=s?iu(l,l.length,n.minDepth,s):lu(l,e.startState.selection),new fu(0==o?r.rest:l,0==o?l:r.rest)}let i=e.annotation(za);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(vt.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=ru.fromTransaction(e),o=e.annotation(vt.time),l=e.annotation(vt.userEvent);return s?t=t.addChanges(s,o,l,n.newGroupDelay,n.minDepth):e.selection&&(t=t.addSelection(e.startState.selection,o,l,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new fu(t.done.map(ru.fromJSON),t.undone.map(ru.fromJSON))});function Za(t={}){return[Ya,ja.of(t),Ei.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?Ja:"historyRedo"==t.inputType?tu:null;return!!n&&(t.preventDefault(),n(e))}})]}function Ka(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Ya,!1);if(!i)return!1;let s=i.pop(t,n,e);return!!s&&(r(s),!0)}}const Ja=Ka(0,!1),tu=Ka(1,!1),eu=Ka(0,!0),nu=Ka(1,!0);class ru{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new ru(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new ru(t.changes&&S.fromJSON(t.changes),[],t.mapped&&C.fromJSON(t.mapped),t.startSelection&&D.fromJSON(t.startSelection),t.selectionsAfter.map(D.fromJSON))}static fromTransaction(t,e){let n=ou;for(let e of t.startState.facet(Ga)){let r=e(t);r.length&&(n=n.concat(r))}return!n.length&&t.changes.empty?null:new ru(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,ou)}static selection(t){return new ru(void 0,ou,void 0,void 0,t)}}function iu(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function su(t,e){return t.length?e.length?t.concat(e):t:e}const ou=[];function lu(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),iu(t,t.length-1,1e9,n.setSelAfter(r)))}return[ru.selection([e])]}function au(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function uu(t,e){if(!t.length)return t;let n=t.length,r=ou;for(;n;){let i=cu(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[ru.selection(r)]:ou}function cu(t,e,n){let r=su(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):ou,n);if(!t.changes)return ru.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new ru(i,ft.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const hu=/^(input\.type|delete)($|\.)/;class fu{constructor(t,e,n=0,r){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new fu(this.done,this.undone):this}addChanges(t,e,n,r,i){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||hu.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<r&&function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&i<=o&&(r=!0)}})),r}(o.changes,t.changes)||"input.type.compose"==n)?iu(s,s.length-1,i,new ru(t.changes.compose(o.changes),su(t.effects,o.effects),o.mapped,o.startSelection,ou)):iu(s,s.length,i,t),new fu(s,ou,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:ou;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(s=i[i.length-1],o=t,s.ranges.length==o.ranges.length&&0===s.ranges.filter(((t,e)=>t.empty!=o.ranges[e].empty)).length)?this:new fu(lu(this.done,t),this.undone,e,n);var s,o}addMapping(t){return new fu(uu(this.done,t),uu(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1];if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Wa.of({side:t,rest:au(r)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?ou:r.slice(0,r.length-1);return i.mapped&&(n=uu(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Wa.of({side:t,rest:n}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}fu.empty=new fu(ou,ou);const vu=[{key:"Mod-z",run:Ja,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:tu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:tu,preventDefault:!0},{key:"Mod-u",run:eu,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:nu,preventDefault:!0}];function du(t,e){return D.create(t.ranges.map(e),t.mainIndex)}function gu(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function pu({state:t,dispatch:e},n){let r=du(t.selection,n);return!r.eq(t.selection)&&(e(gu(t,r)),!0)}function mu(t,e){return D.cursor(e?t.to:t.from)}function Ru(t,e){return pu(t,(n=>n.empty?t.moveByChar(n,e):mu(n,e)))}function Ou(t){return t.textDirectionAt(t.state.selection.main.head)==Bn.LTR}const wu=t=>Ru(t,!Ou(t)),xu=t=>Ru(t,Ou(t));function yu(t,e){return pu(t,(n=>n.empty?t.moveByGroup(n,e):mu(n,e)))}function bu(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Cu(t,e,n){let r,i,s=xl(t).resolveInner(e.head),o=n?go.closedBy:go.openedBy;for(let r=e.head;;){let e=n?s.childAfter(r):s.childBefore(r);if(!e)break;bu(t,e,o)?s=e:r=n?e.to:e.from}return i=s.type.prop(o)&&(r=n?_a(t,s.from,1):_a(t,s.to,-1))&&r.matched?n?r.end.to:r.end.from:n?s.to:s.from,D.cursor(i,n?-1:1)}function Su(t,e){return pu(t,(n=>{if(!n.empty)return mu(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const Tu=t=>Su(t,!1),ku=t=>Su(t,!0);function Au(t){return Math.max(t.defaultLineHeight,Math.min(t.dom.clientHeight,innerHeight)-5)}function Pu(t,e){let{state:n}=t,r=du(n.selection,(n=>n.empty?t.moveVertically(n,e,Au(t)):mu(n,e)));if(r.eq(n.selection))return!1;let i,s=t.coordsAtPos(n.selection.main.head),o=t.scrollDOM.getBoundingClientRect();return s&&s.top>o.top&&s.bottom<o.bottom&&s.top-o.top<=t.scrollDOM.scrollHeight-t.scrollDOM.scrollTop-t.scrollDOM.clientHeight&&(i=Ei.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-o.top})),t.dispatch(gu(n,r),{effects:i}),!0}const Eu=t=>Pu(t,!1),_u=t=>Pu(t,!0);function Lu(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=D.cursor(r.from+n))}return i}const Du=t=>pu(t,(e=>Lu(t,e,!0))),Iu=t=>pu(t,(e=>Lu(t,e,!1)));function Nu(t,e,n){let r=!1,i=du(t.selection,(e=>{let i=_a(t,e.head,-1)||_a(t,e.head,1)||e.head>0&&_a(t,e.head-1,1)||e.head<t.doc.length&&_a(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let s=i.start.from==e.head?i.end.to:i.end.from;return n?D.range(e.anchor,s):D.cursor(s)}));return!!r&&(e(gu(t,i)),!0)}function Qu(t,e){let n=du(t.state.selection,(t=>{let n=e(t);return D.range(t.anchor,n.head,n.goalColumn)}));return!n.eq(t.state.selection)&&(t.dispatch(gu(t.state,n)),!0)}function Mu(t,e){return Qu(t,(n=>t.moveByChar(n,e)))}const Bu=t=>Mu(t,!Ou(t)),Fu=t=>Mu(t,Ou(t));function qu(t,e){return Qu(t,(n=>t.moveByGroup(n,e)))}function $u(t,e){return Qu(t,(n=>t.moveVertically(n,e)))}const Uu=t=>$u(t,!1),Xu=t=>$u(t,!0);function Hu(t,e){return Qu(t,(n=>t.moveVertically(n,e,Au(t))))}const Vu=t=>Hu(t,!1),Wu=t=>Hu(t,!0),zu=t=>Qu(t,(e=>Lu(t,e,!0))),Gu=t=>Qu(t,(e=>Lu(t,e,!1))),ju=({state:t,dispatch:e})=>(e(gu(t,{anchor:0})),!0),Yu=({state:t,dispatch:e})=>(e(gu(t,{anchor:t.doc.length})),!0),Zu=({state:t,dispatch:e})=>(e(gu(t,{anchor:t.selection.main.anchor,head:0})),!0),Ku=({state:t,dispatch:e})=>(e(gu(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function Ju({state:t,dispatch:e},n){if(t.readOnly)return!1;let r="delete.selection",i=t.changeByRange((t=>{let{from:e,to:i}=t;if(e==i){let t=n(e);t<e?r="delete.backward":t>e&&(r="delete.forward"),e=Math.min(e,t),i=Math.max(i,t)}return e==i?{range:t}:{changes:{from:e,to:i},range:D.cursor(e)}}));return!i.changes.empty&&(e(t.update(i,{scrollIntoView:!0,userEvent:r,effects:"delete.selection"==r?Ei.announce.of(t.phrase("Selection deleted")):void 0})),!0)}function tc(t,e,n){if(t instanceof Ei)for(let r of t.state.facet(Ei.atomicRanges).map((e=>e(t))))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const ec=(t,e)=>Ju(t,(n=>{let r,i,{state:s}=t,o=s.doc.lineAt(n);if(!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(r=o.text.slice(0,n-o.from))){if("\t"==r[r.length-1])return n-1;let t=Ut(r,s.tabSize)%Dl(s)||Dl(s);for(let e=0;e<t&&" "==r[r.length-1-e];e++)n--;i=n}else i=d(o.text,n-o.from,e,e)+o.from,i==n&&o.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);return tc(t,i,e)})),nc=t=>ec(t,!1),rc=t=>ec(t,!0),ic=(t,e)=>Ju(t,(n=>{let r=n,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let t=null;;){if(r==(e?s.to:s.from)){r==n&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=d(s.text,r-s.from,e)+s.from,a=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(a);if(null!=t&&u!=t)break;" "==a&&r==n||(t=u),r=l}return tc(t,r,e)})),sc=t=>ic(t,!1),oc=t=>Ju(t,(e=>{let n=t.lineBlockAt(e).to;return tc(t,e<n?n:Math.min(t.state.doc.length,e+1),!0)}));function lc(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function ac(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let e of lc(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),o=s.length+1;if(n){r.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)i.push(D.range(Math.min(t.doc.length,n.anchor+o),Math.min(t.doc.length,n.head+o)))}else{r.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)i.push(D.range(t.anchor-o,t.head-o))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:D.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function uc(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of lc(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const cc=fc(!1),hc=fc(!0);function fc(e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=n.changeByRange((r=>{let{from:i,to:s}=r,o=n.doc.lineAt(i),l=!e&&i==s&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=xl(t).resolveInner(e),i=r.childBefore(e),s=r.childAfter(e);return i&&s&&i.to<=e&&s.from>=e&&(n=i.type.prop(go.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(s.from).from?{from:i.to,to:s.from}:null}(n,i);e&&(i=s=(s<=o.to?o:n.doc.lineAt(s)).to);let a=new Ql(n,{simulateBreak:i,simulateDoubleBreak:!!l}),u=Nl(a,i);for(null==u&&(u=/^\s*/.exec(n.doc.lineAt(i).text)[0].length);s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?({from:i,to:s}=l):i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let c=["",Il(n,u)];return l&&c.push(Il(n,a.lineIndent(o.from,-1))),{changes:{from:i,to:s,insert:t.of(c)},range:D.cursor(i+1+c[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function vc(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let s=t.changes(i);return{changes:i,range:D.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const dc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(vc(t,((e,n)=>{n.push({from:e.from,insert:t.facet(Ll)})})),{userEvent:"input.indent"})),!0),gc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(vc(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=Ut(r,t.tabSize),s=0,o=Il(t,Math.max(0,i-Dl(t)));for(;s<r.length&&s<o.length&&r.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0),pc=[{key:"Ctrl-b",run:wu,shift:Bu,preventDefault:!0},{key:"Ctrl-f",run:xu,shift:Fu},{key:"Ctrl-p",run:Tu,shift:Uu},{key:"Ctrl-n",run:ku,shift:Xu},{key:"Ctrl-a",run:t=>pu(t,(e=>D.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>Qu(t,(e=>D.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>pu(t,(e=>D.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>Qu(t,(e=>D.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:rc},{key:"Ctrl-h",run:nc},{key:"Ctrl-k",run:oc},{key:"Ctrl-Alt-h",run:sc},{key:"Ctrl-o",run:({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t.of(["",""])},range:D.cursor(e.from)})));return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:d(r.text,n-r.from,!1)+r.from,s=n==r.to?n+1:d(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(i,n))},range:D.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:_u}],mc=[{key:"ArrowLeft",run:wu,shift:Bu,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>yu(t,!Ou(t)),shift:t=>qu(t,!Ou(t))},{mac:"Cmd-ArrowLeft",run:Iu,shift:Gu},{key:"ArrowRight",run:xu,shift:Fu,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>yu(t,Ou(t)),shift:t=>qu(t,Ou(t))},{mac:"Cmd-ArrowRight",run:Du,shift:zu},{key:"ArrowUp",run:Tu,shift:Uu,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ju,shift:Zu},{mac:"Ctrl-ArrowUp",run:Eu,shift:Vu},{key:"ArrowDown",run:ku,shift:Xu,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Yu,shift:Ku},{mac:"Ctrl-ArrowDown",run:_u,shift:Wu},{key:"PageUp",run:Eu,shift:Vu},{key:"PageDown",run:_u,shift:Wu},{key:"Home",run:Iu,shift:Gu,preventDefault:!0},{key:"Mod-Home",run:ju,shift:Zu},{key:"End",run:Du,shift:zu,preventDefault:!0},{key:"Mod-End",run:Yu,shift:Ku},{key:"Enter",run:cc},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:nc,shift:nc},{key:"Delete",run:rc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:sc},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>ic(t,!0)},{mac:"Mod-Backspace",run:t=>Ju(t,(e=>{let n=t.lineBlockAt(e).from;return tc(t,e>n?n:Math.max(0,e-1),!1)}))},{mac:"Mod-Delete",run:oc}].concat(pc.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),Rc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>pu(t,(e=>Cu(t.state,e,!Ou(t)))),shift:t=>Qu(t,(e=>Cu(t.state,e,!Ou(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>pu(t,(e=>Cu(t.state,e,Ou(t)))),shift:t=>Qu(t,(e=>Cu(t.state,e,Ou(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>ac(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>uc(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>ac(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>uc(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=D.create([n.main]):n.main.empty||(r=D.create([D.cursor(n.main.head)])),!!r&&(e(gu(t,r)),!0)}},{key:"Mod-Enter",run:hc},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=lc(t).map((({from:e,to:n})=>D.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:D.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=du(t.selection,(e=>{var n;let r=xl(t).resolveInner(e.head,1);for(;!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return D.range(r.to,r.from)}));return e(gu(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:gc},{key:"Mod-]",run:dc},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Ql(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=vc(t,((e,i,s)=>{let o=Nl(r,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],a=Il(t,o);(l!=a||s.from<e.from+l.length)&&(n[e.from]=o,i.push({from:e.from,to:e.from+l.length,insert:a}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(lc(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=du(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>Nu(t,e,!1)},{key:"Mod-/",run:t=>{let e=Xa(t.state);return e.line?qa(t):!!e.block&&Ua(t)}},{key:"Alt-A",run:$a}].concat(mc),Oc={key:"Tab",run:dc,shift:gc};function wc(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)xc(t,arguments[e]);return t}function xc(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)xc(t,e[n])}}const yc="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class bc{constructor(t,e,n=0,r=t.length,i){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(yc(t)):yc,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return O(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=w(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=x(t);let r=this.normalize(e);for(let t=0,i=n;;t++){let s=r.charCodeAt(t),o=this.match(s,i);if(o)return this.value=o,this;if(t==r.length-1)break;i==n&&t<e.length&&e.charCodeAt(t)==s&&i++}}}match(t,e){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],s=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?n={from:this.matches[r+1],to:e+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n}}"undefined"!=typeof Symbol&&(bc.prototype[Symbol.iterator]=function(){return this});const Cc={from:-1,to:-1,match:/.*/.exec("")},Sc="gm"+(null==/x/.unicode?"":"u");class Tc{constructor(t,e,n,r=0,i=t.length){if(this.to=i,this.curLine="",this.done=!1,this.value=Cc,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new Pc(t,e,n,r,i);this.re=new RegExp(e,Sc+((null==n?void 0:n.ignoreCase)?"i":"")),this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=r+(n==r?1:0),n==this.curLine.length&&this.nextLine(),n<r||n>this.value.to)return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const kc=new WeakMap;class Ac{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=kc.get(t);if(!r||r.from>=n||r.to<=e){let r=new Ac(e,t.sliceString(e,n));return kc.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:s}=r;return s>e&&(i=t.sliceString(e,s)+i,s=e),r.to<n&&(i+=t.sliceString(r.to,n)),kc.set(t,new Ac(s,i)),new Ac(e,i.slice(e-s,n-s))}}class Pc{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=Cc,this.matchPos=r,this.re=new RegExp(e,Sc+((null==n?void 0:n.ignoreCase)?"i":"")),this.flat=Ac.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e&&this.flat.to<this.to&&e.index+e[0].length>this.flat.text.length-10&&(e=null),e){let t=this.flat.from+e.index,n=t+e[0].length;return this.value={from:t,to:n,match:e},this.matchPos=n+(t==n?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ac.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Ec(t){let e=wc("input",{class:"cm-textfield",name:"line"});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,s,o,l,a]=n,u=l?+l.slice(1):0,c=o?+o:i.number;if(o&&a){let t=c/100;s&&(t=t*("-"==s?-1:1)+i.number/r.doc.lines),c=Math.round(r.doc.lines*t)}else o&&s&&(c=c*("-"==s?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,c)));t.dispatch({effects:_c.of(!1),selection:D.cursor(h.from+Math.max(0,Math.min(u,h.length))),scrollIntoView:!0}),t.focus()}return{dom:wc("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:_c.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},wc("label",t.state.phrase("Go to line"),": ",e)," ",wc("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Tc.prototype[Symbol.iterator]=Pc.prototype[Symbol.iterator]=function(){return this});const _c=ft.define(),Lc=X.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(_c)&&(t=n.value);return t},provide:t=>Us.from(t,(t=>t?Ec:null))}),Dc=Ei.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Ic={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Nc=Q.define({combine:t=>St(t,Ic,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function Qc(t){let e=[$c,qc];return t&&e.push(Nc.of(t)),e}const Mc=rn.mark({class:"cm-selectionMatch"}),Bc=rn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Fc(t,e,n,r){return!(0!=n&&t(e.sliceDoc(n-1,n))==wt.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==wt.Word)}const qc=An.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Nc),{state:n}=t,r=n.selection;if(r.ranges.length>1)return rn.none;let i,s=r.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return rn.none;let t=n.wordAt(s.head);if(!t)return rn.none;o=n.charCategorizer(s.head),i=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return rn.none;if(e.wholeWords){if(i=n.sliceDoc(s.from,s.to),o=n.charCategorizer(s.head),!Fc(o,n,s.from,s.to)||!function(t,e,n,r){return t(e.sliceDoc(n,n+1))==wt.Word&&t(e.sliceDoc(r-1,r))==wt.Word}(o,n,s.from,s.to))return rn.none}else if(i=n.sliceDoc(s.from,s.to).trim(),!i)return rn.none}let l=[];for(let r of t.visibleRanges){let t=new bc(n.doc,i,r.from,r.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!o||Fc(o,n,r,i))&&(s.empty&&r<=s.from&&i>=s.to?l.push(Bc.range(r,i)):(r>=s.to||i<=s.from)&&l.push(Mc.range(r,i)),l.length>e.maxMatches))return rn.none}}return rn.set(l)}},{decorations:t=>t.decorations}),$c=Ei.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const Uc=Q.define({combine(t){var e;return{top:t.reduce(((t,e)=>null!=t?t:e.top),void 0)||!1,caseSensitive:t.reduce(((t,e)=>null!=t?t:e.caseSensitive),void 0)||!1,createPanel:(null===(e=t.find((t=>t.createPanel)))||void 0===e?void 0:e.createPanel)||(t=>new vh(t))}}});class Xc{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,Sc),!0}catch(t){return!1}}(this.search)),this.unquoted=t.literal?this.search:this.search.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp}create(){return this.regexp?new Gc(this):new Wc(this)}getCursor(t,e=0,n=t.length){return this.regexp?zc(this,t,e,n):Vc(this,t,e,n)}}class Hc{constructor(t){this.spec=t}}function Vc(t,e,n,r){return new bc(e,t.unquoted,n,r,t.caseSensitive?void 0:t=>t.toLowerCase())}class Wc extends Hc{constructor(t){super(t)}nextMatch(t,e,n){let r=Vc(this.spec,t,n,t.length).nextOverlapping();return r.done&&(r=Vc(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.spec.unquoted.length),i=Vc(this.spec,t,n,r),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.spec.replace}matchAll(t,e){let n=Vc(this.spec,t,0,t.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Vc(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function zc(t,e,n,r){return new Tc(e,t.search,t.caseSensitive?void 0:{ignoreCase:!0},n,r)}class Gc extends Hc{nextMatch(t,e,n){let r=zc(this.spec,t,n,t.length).next();return r.done&&(r=zc(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),s=zc(this.spec,t,i,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==e||o.from>i+10))return o;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.length)}getReplacement(t){return this.spec.replace.replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=zc(this.spec,t,0,t.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=zc(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const jc=ft.define(),Yc=ft.define(),Zc=X.define({create:t=>new Kc(uh(t).create(),null),update(t,e){for(let n of e.effects)n.is(jc)?t=new Kc(n.value.create(),t.panel):n.is(Yc)&&(t=new Kc(t.query,n.value?ah:null));return t},provide:t=>Us.from(t,(t=>t.panel))});class Kc{constructor(t,e){this.query=t,this.panel=e}}const Jc=rn.mark({class:"cm-searchMatch"}),th=rn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),eh=An.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Zc))}update(t){let e=t.state.field(Zc);(e!=t.startState.field(Zc)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return rn.none;let{view:n}=this,r=new _t;for(let e=0,i=n.visibleRanges,s=i.length;e<s;e++){let{from:o,to:l}=i[e];for(;e<s-1&&l>i[e+1].from-500;)l=i[++e].to;t.highlight(n.state.doc,o,l,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?th:Jc)}))}return r.finish()}},{decorations:t=>t.decorations});function nh(t){return e=>{let n=e.state.field(Zc,!1);return n&&n.query.spec.valid?t(e,n):ch(e)}}const rh=nh(((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state.doc,n,n);return!!r&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:ph(t,r),userEvent:"select.search"}),!0)})),ih=nh(((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n.doc,r,r);return!!i&&(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:ph(t,i),userEvent:"select.search"}),!0)})),sh=nh(((t,{query:e})=>{let n=e.matchAll(t.state.doc,1e3);return!(!n||!n.length)&&(t.dispatch({selection:D.create(n.map((t=>D.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),oh=nh(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n.doc,r,r);if(!s)return!1;let o,l,a=[],u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n.doc,s.from,s.to),u.push(Ei.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let e=0==a.length||a[0].from>=s.to?0:s.to-s.from-l.length;o={anchor:s.from-e,head:s.to-e},u.push(ph(t,s))}return t.dispatch({changes:a,selection:o,scrollIntoView:!!o,effects:u,userEvent:"input.replace"}),!0})),lh=nh(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state.doc,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Ei.announce.of(r),userEvent:"input.replace.all"}),!0}));function ah(t){return t.state.facet(Uc).createPanel(t)}function uh(t,e){var n;let r=t.selection.main,i=r.empty||r.to>r.from+100?"":t.sliceDoc(r.from,r.to),s=null!==(n=null==e?void 0:e.caseSensitive)&&void 0!==n?n:t.facet(Uc).caseSensitive;return e&&!i?e:new Xc({search:i.replace(/\n/g,"\\n"),caseSensitive:s})}const ch=t=>{let e=t.state.field(Zc,!1);if(e&&e.panel){let n=Bs(t,ah);if(!n)return!1;let r=n.dom.querySelector("[main-field]");if(r&&r!=t.root.activeElement){let n=uh(t.state,e.query.spec);n.valid&&t.dispatch({effects:jc.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[Yc.of(!0),e?jc.of(uh(t.state,e.query.spec)):ft.appendConfig.of(Rh)]});return!0},hh=t=>{let e=t.state.field(Zc,!1);if(!e||!e.panel)return!1;let n=Bs(t,ah);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Yc.of(!1)}),!0},fh=[{key:"Mod-f",run:ch,scope:"editor search-panel"},{key:"F3",run:rh,shift:ih,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:rh,shift:ih,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:hh,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let e=new bc(t.doc,t.sliceDoc(r,i));!e.next().done;){if(s.length>1e3)return!1;e.value.from==r&&(o=s.length),s.push(D.range(e.value.from,e.value.to))}return e(t.update({selection:D.create(s,o),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:t=>{let e=Bs(t,Ec);if(!e){let n=[_c.of(!0)];null==t.state.field(Lc,!1)&&n.push(ft.appendConfig.of([Lc,Dc])),t.dispatch({effects:n}),e=Bs(t,Ec)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=D.create(n.ranges.map((e=>t.wordAt(e.head)||D.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new bc(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(s){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new bc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange(D.range(i.from,i.to),!1),effects:Ei.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class vh{constructor(t){this.view=t;let e=this.query=t.state.field(Zc).query.spec;function n(t,e,n){return wc("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=wc("input",{value:e.search,placeholder:dh(t,"Find"),"aria-label":dh(t,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=wc("input",{value:e.replace,placeholder:dh(t,"Replace"),"aria-label":dh(t,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=wc("input",{type:"checkbox",name:"case",checked:e.caseSensitive,onchange:this.commit}),this.reField=wc("input",{type:"checkbox",name:"re",checked:e.regexp,onchange:this.commit}),this.dom=wc("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>rh(t)),[dh(t,"next")]),n("prev",(()=>ih(t)),[dh(t,"previous")]),n("select",(()=>sh(t)),[dh(t,"all")]),wc("label",null,[this.caseField,dh(t,"match case")]),wc("label",null,[this.reField,dh(t,"regexp")]),...t.state.readOnly?[]:[wc("br"),this.replaceField,n("replace",(()=>oh(t)),[dh(t,"replace")]),n("replaceAll",(()=>lh(t)),[dh(t,"replace all")]),wc("button",{name:"close",onclick:()=>hh(t),"aria-label":dh(t,"close"),type:"button"},["×"])]])}commit(){let t=new Xc({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:jc.of(t)}))}keydown(t){var e,n,r;e=this.view,n=t,r="search-panel",Ui(qi(e.state),n,e,r)?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?ih:rh)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),oh(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(jc)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Uc).top}}function dh(t,e){return t.state.phrase(e)}const gh=/[\s\.,:;?!]/;function ph(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-30),o=Math.min(i,n+30),l=t.state.sliceDoc(s,o);if(s!=r.from)for(let t=0;t<30;t++)if(!gh.test(l[t+1])&&gh.test(l[t])){l=l.slice(t);break}if(o!=i)for(let t=l.length-1;t>l.length-30;t--)if(!gh.test(l[t-1])&&gh.test(l[t])){l=l.slice(0,t);break}return Ei.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const mh=Ei.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Rh=[Zc,j.lowest(eh),mh];class Oh{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=xl(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(Ch(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function wh(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function xh(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=wh(e)+wh(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:n}:null}}class yh{constructor(t,e,n){this.completion=t,this.source=e,this.match=n}}function bh(t){return t.selection.main.head}function Ch(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}function Sh(t,e){const n=e.completion.apply||e.completion.label;let r=e.source;"string"==typeof n?t.dispatch(function(t,e,n,r){return Object.assign(Object.assign({},t.changeByRange((i=>{if(i==t.selection.main)return{changes:{from:n,to:r,insert:e},range:D.cursor(n+e.length)};let s=r-n;return!i.empty||s&&t.sliceDoc(i.from-s,i.from)!=t.sliceDoc(n,r)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:e},range:D.cursor(i.from-s+e.length)}}))),{userEvent:"input.complete"})}(t.state,n,r.from,r.to)):n(t,e.completion,r.from,r.to)}const Th=new WeakMap;function kh(t){if(!Array.isArray(t))return t;let e=Th.get(t);return e||Th.set(t,e=xh(t)),e}class Ah{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let n=O(t,e),r=x(n);this.chars.push(n);let i=t.slice(e,e+r),s=i.toUpperCase();this.folded.push(O(s==i?i.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:i,byWord:s}=this;if(1==e.length){let r=O(t,0);return r==e[0]?[0,0,x(r)]:r==n[0]?[-200,0,x(r)]:null}let o=t.indexOf(this.pattern);if(0==o)return[0,0,this.pattern.length];let l=e.length,a=0;if(o<0){for(let i=0,s=Math.min(t.length,200);i<s&&a<l;){let s=O(t,i);s!=e[a]&&s!=n[a]||(r[a++]=i),i+=x(s)}if(a<l)return null}let u=0,c=0,h=!1,f=0,v=-1,d=-1,g=/[a-z]/.test(t),p=!0;for(let r=0,a=Math.min(t.length,200),m=0;r<a&&c<l;){let a=O(t,r);o<0&&(u<l&&a==e[u]&&(i[u++]=r),f<l&&(a==e[f]||a==n[f]?(0==f&&(v=r),d=r+1,f++):f=0));let R,y=a<255?a>=48&&a<=57||a>=97&&a<=122?2:a>=65&&a<=90?1:0:(R=w(a))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!r||1==y&&g||0==m&&0!=y)&&(e[c]==a||n[c]==a&&(h=!0)?s[c++]=r:s.length&&(p=!1)),m=y,r+=x(a)}return c==l&&0==s[0]&&p?this.result((h?-200:0)-100,s,t):f==l&&0==v?[-200-t.length,0,d]:o>-1?[-700-t.length,o,o+this.pattern.length]:f==l?[-900-t.length,v,d]:c==l?this.result((h?-200:0)-100-700+(p?0:-1100),s,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[t-n.length],i=1;for(let t of e){let e=t+(this.astral?x(O(n,t)):1);i>1&&r[i-1]==t?r[i-1]=e:(r[i++]=t,r[i++]=e)}return r}}const Ph=Q.define({combine:t=>St(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(t,e)=>t.label.localeCompare(e.label)},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,optionClass:(t,e)=>n=>function(t,e){return t?e?t+" "+e:t:e}(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})});function Eh(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class _h{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let n=t.state.field(e),{options:r,selected:i}=n.open,s=t.state.facet(Ph);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n){let r=document.createElement("span");r.className="cm-completionLabel";let{label:i}=t,s=0;for(let t=1;t<n.length;){let e=n[t++],o=n[t++];e>s&&r.appendChild(document.createTextNode(i.slice(s,e)));let l=r.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(i.slice(e,o))),l.className="cm-completionMatchedText",s=o}return s<i.length&&r.appendChild(document.createTextNode(i.slice(s))),r},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(s),this.optionClass=s.optionClass,this.range=Eh(r.length,i,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(e=>{for(let n,i=e.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<r.length)return Sh(t,r[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(r,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Eh(e.options.length,e.selected,this.view.state.facet(Ph).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e)})).catch((t=>Cn(this.view.state,t,"completion info"))):this.addInfoPane(i)}}addInfoPane(t){let e=this.info=document.createElement("div");e.className="cm-tooltip cm-completionInfo",e.appendChild(t),this.dom.appendChild(e),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect();if(r.top>Math.min(innerHeight,e.bottom)-10||r.bottom<Math.max(0,e.top)+10)return null;let i=Math.max(0,Math.min(r.top,innerHeight-n.height))-e.top,s=this.view.textDirection==Bn.RTL,o=e.left,l=innerWidth-e.right;return s&&o<Math.min(n.width,l)?s=!1:!s&&l<Math.min(n.width,o)&&(s=!0),{top:i,left:s}}positionInfo(t){this.info&&(this.info.style.top=(t?t.top:-1e6)+"px",t&&(this.info.classList.toggle("cm-completionInfo-left",t.left),this.info.classList.toggle("cm-completionInfo-right",!t.left)))}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let i=n.from;i<n.to;i++){let{completion:n,match:s}=t[i];const o=r.appendChild(document.createElement("li"));o.id=e+"-"+i,o.setAttribute("role","option");let l=this.optionClass(n);l&&(o.className=l);for(let t of this.optionContent){let e=t(n,this.view.state,s);e&&o.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Lh(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Dh{constructor(t,e,n,r,i){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Dh(this.options,Qh(e,t),this.tooltip,this.timestamp,t)}static build(t,e,n,r,i){let s=function(t,e){let n=[],r=0;for(let i of t)if(i.hasResult())if(!1===i.result.filter){let t=i.result.getMatch;for(let e of i.result.options){let s=[1e9-r++];if(t)for(let n of t(e))s.push(n);n.push(new yh(e,i,s))}}else{let t,r=new Ah(e.sliceDoc(i.from,i.to));for(let e of i.result.options)(t=r.match(e.label))&&(null!=e.boost&&(t[0]+=e.boost),n.push(new yh(e,i,t)))}let i=[],s=null,o=e.facet(Ph).compareCompletions;for(let t of n.sort(((t,e)=>e.match[0]-t.match[0]||o(t.completion,e.completion))))!s||s.label!=t.completion.label||s.detail!=t.completion.detail||null!=s.type&&null!=t.completion.type&&s.type!=t.completion.type||s.apply!=t.completion.apply?i.push(t):Lh(t.completion)>Lh(s)&&(i[i.length-1]=t),s=t.completion;return i}(t,e);if(!s.length)return null;let o=e.facet(Ph).selectOnOpen?0:-1;if(r&&r.selected!=o&&-1!=r.selected){let t=r.options[r.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new Dh(s,Qh(n,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:(l=Vh,t=>new _h(t,l)),above:i.aboveCursor},r?r.timestamp:Date.now(),o);var l}map(t){return new Dh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class Ih{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new Ih(Mh,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(Ph),r=(n.override||e.languageDataAt("autocomplete",bh(e)).map(kh)).map((e=>(this.active.find((t=>t.source==e))||new Fh(e,this.active.some((t=>0!=t.state))?1:0)).update(t,n)));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?Dh.build(r,e,this.id,this.open,n):this.open&&t.docChanged?this.open.map(t.changes):this.open;!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new Fh(t.source,0):t)));for(let e of t.effects)e.is(Hh)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new Ih(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Nh}}const Nh={"aria-autocomplete":"list"};function Qh(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Mh=[];function Bh(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Fh{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Bh(t),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Fh(r.source,0));for(let e of t.effects)if(e.is($h))r=new Fh(r.source,1,e.value?bh(t.state):-1);else if(e.is(Uh))r=new Fh(r.source,0);else if(e.is(Xh))for(let t of e.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new Fh(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(bh(t.startState))?new Fh(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Fh(this.source,this.state,t.mapPos(this.explicitPos))}}class qh extends Fh{constructor(t,e,n,r,i){super(t,2,e),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(t,e,n){var r;let i=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),o=bh(t.state);if((this.explicitPos<0?o<=i:o<this.from)||o>s||"delete"==e&&bh(t.startState)==this.from)return new Fh(this.source,"input"==e&&n.activateOnTyping?1:0);let l,a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return"function"==typeof t?t(i,n,r,e):Ch(t,!0).test(i)}(this.result.validFor,t.state,i,s)?new qh(this.source,a,this.result,i,s):this.result.update&&(l=this.result.update(this.result,i,s,new Oh(t.state,o,a>=0)))?new qh(this.source,a,l,l.from,null!==(r=l.to)&&void 0!==r?r:bh(t.state)):new Fh(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Fh(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new qh(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}const $h=ft.define(),Uh=ft.define(),Xh=ft.define({map:(t,e)=>t.map((t=>t.map(e)))}),Hh=ft.define(),Vh=X.define({create:()=>Ih.start(),update:(t,e)=>t.update(e),provide:t=>[Es.from(t,(t=>t.tooltip)),Ei.contentAttributes.from(t,(t=>t.attrs))]});function Wh(t,e="option"){return n=>{let r=n.state.field(Vh,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;let i,s=1;"page"==e&&(i=function(t,e){let n=t.plugin(ks);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:o-1;return l<0?l="page"==e?0:o-1:l>=o&&(l="page"==e?o-1:0),n.dispatch({effects:Hh.of(l)}),!0}}class zh{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Gh=An.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Vh).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(Vh);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Vh)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!Bh(t)));for(let e=0;e<this.running.length;e++){let r=this.running[e];if(n||r.updates.length+t.transactions.length>50&&Date.now()-r.time>1e3){for(let t of r.context.abortListeners)try{t()}catch(t){Cn(this.view.state,t)}r.context.abortListeners=null,this.running.splice(e--,1)}else r.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let e of t.transactions)"input"==Bh(e)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Vh);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=bh(e),r=new Oh(e,n,t.explicitPos==n),i=new zh(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:Uh.of(null)}),Cn(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Ph);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new qh(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:bh(i.updates.length?i.updates[0].startState:this.view.state));for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let s=this.view.state.field(Vh).active.find((t=>t.source==i.active.source));if(s&&1==s.state)if(null==i.done){let t=new Fh(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Xh.of(e)})}},{eventHandlers:{blur(){let t=this.view.state.field(Vh,!1);t&&t.tooltip&&this.view.state.facet(Ph).closeOnBlur&&this.view.dispatch({effects:Uh.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:$h.of(!1)})),20),this.composing=0}}}),jh=Ei.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const Yh={brackets:["(","[","{","'",'"'],before:")]}:;>"},Zh=ft.define({map(t,e){let n=e.mapPos(t,-1,b.TrackAfter);return null==n?void 0:n}}),Kh=ft.define({map:(t,e)=>e.mapPos(t)}),Jh=new class extends Tt{};Jh.startSide=1,Jh.endSide=-1;const tf=X.define({create:()=>Et.empty,update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=Et.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Zh)?t=t.update({add:[Jh.range(n.value,n.value+1)]}):n.is(Kh)&&(t=t.update({filter:t=>t!=n.value}));return t}});const ef="()[]{}<>";function nf(t){for(let e=0;e<ef.length;e+=2)if(ef.charCodeAt(e)==t)return ef.charAt(e+1);return w(t<128?t:t+1)}function rf(t,e){return t.languageDataAt("closeBrackets",e)[0]||Yh}const sf="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),of=Ei.inputHandler.of(((t,e,n,r)=>{if((sf?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==x(O(r,0))||e!=i.from||n!=i.to)return!1;let s=function(t,e){let n=rf(t,t.selection.main.head),r=n.brackets||Yh.brackets;for(let i of r){let s=nf(O(i,0));if(e==i)return s==i?ff(t,i,r.indexOf(i+i+i)>-1):cf(t,i,s,n.before||Yh.before);if(e==s&&af(t,t.selection.main.from))return hf(t,i,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)})),lf=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=rf(t,t.selection.main.head).brackets||Yh.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return x(O(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&uf(t.doc,e.head)==nf(O(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:D.cursor(e.head-i.length),userEvent:"delete.backward"}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0})),!r}}];function af(t,e){let n=!1;return t.field(tf).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function uf(t,e){let n=t.sliceString(e,e+2);return n.slice(0,x(O(n,0)))}function cf(t,e,n,r){let i=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Zh.of(s.to+e.length),range:D.range(s.anchor+e.length,s.head+e.length)};let o=uf(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:Zh.of(s.head+e.length),range:D.cursor(s.head+e.length)}:{range:i=s}}));return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function hf(t,e,n){let r=null,i=t.selection.ranges.map((e=>e.empty&&uf(t.doc,e.head)==n?D.cursor(e.head+n.length):r=e));return r?null:t.update({selection:D.create(i,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map((({from:t})=>Kh.of(t)))})}function ff(t,e,n){let r=null,i=t.changeByRange((i=>{if(!i.empty)return{changes:[{insert:e,from:i.from},{insert:e,from:i.to}],effects:Zh.of(i.to+e.length),range:D.range(i.anchor+e.length,i.head+e.length)};let s=i.head,o=uf(t.doc,s);if(o==e){if(vf(t,s))return{changes:{insert:e+e,from:s},effects:Zh.of(s+e.length),range:D.cursor(s+e.length)};if(af(t,s)){let r=n&&t.sliceDoc(s,s+3*e.length)==e+e+e;return{range:D.cursor(s+e.length*(r?3:1)),effects:Kh.of(s)}}}else{if(n&&t.sliceDoc(s-2*e.length,s)==e+e&&vf(t,s-2*e.length))return{changes:{insert:e+e+e+e,from:s},effects:Zh.of(s+e.length),range:D.cursor(s+e.length)};if(t.charCategorizer(s)(o)!=wt.Word){let n=t.sliceDoc(s-1,s);if(n!=e&&t.charCategorizer(s)(n)!=wt.Word&&!function(t,e,n){let r=xl(t).resolveInner(e,-1);for(let i=0;i<5;i++){if(t.sliceDoc(r.from,r.from+n.length)==n){let e=r.firstChild;for(;e&&e.from==r.from&&e.to-e.from>n.length;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let i=r.to==e&&r.parent;if(!i)break;r=i}return!1}(t,s,e))return{changes:{insert:e+e,from:s},effects:Zh.of(s+e.length),range:D.cursor(s+e.length)}}}return{range:r=i}}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function vf(t,e){let n=xl(t).resolveInner(e+1);return n.parent&&n.from==e}function df(t={}){return[Vh,Ph.of(t),Gh,pf,jh]}const gf=[{key:"Ctrl-Space",run:t=>!!t.state.field(Vh,!1)&&(t.dispatch({effects:$h.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(Vh,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:Uh.of(null)}),!0)}},{key:"ArrowDown",run:Wh(!0)},{key:"ArrowUp",run:Wh(!1)},{key:"PageDown",run:Wh(!0,"page")},{key:"PageUp",run:Wh(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(Vh,!1);return!(t.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75||e.open.selected<0)&&(Sh(t,e.open.options[e.open.selected]),!0)}}],pf=j.highest(Bi.computeN([Ph],(t=>t.facet(Ph).defaultKeymap?[gf]:[])));class mf{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class Rf{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,i=n.facet(Lf).markerFilter;i&&(r=i(r));let s=rn.set(r.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?rn.widget({widget:new Nf(t),diagnostic:t}).range(t.from):rn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to))),!0);return new Rf(s,e,Of(s))}}function Of(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new mf(t,n,i.diagnostic),!1})),r}function wf(t,e){return!(!t.effects.some((t=>t.is(yf)))&&!t.changes.touchesRange(e.pos))}function xf(t,e){return t.field(Sf,!1)?e:e.concat(ft.appendConfig.of([Sf,Ei.decorations.compute([Sf],(t=>{let{selected:e,panel:n}=t.field(Sf);return e&&n&&e.from!=e.to?rn.set([Tf.range(e.from,e.to)]):rn.none})),Ns(kf,{hideOn:wf}),qf]))}const yf=ft.define(),bf=ft.define(),Cf=ft.define(),Sf=X.define({create:()=>new Rf(rn.none,null,null),update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=Of(n,t.selected.diagnostic,i)||Of(n,null,i)}t=new Rf(n,t.panel,r)}for(let n of e.effects)n.is(yf)?t=Rf.init(n.value,t.panel,e.state):n.is(bf)?t=new Rf(t.diagnostics,n.value?Mf.open:null,t.selected):n.is(Cf)&&(t=new Rf(t.diagnostics,t.panel,n.value));return t},provide:t=>[Us.from(t,(t=>t.panel)),Ei.decorations.from(t,(t=>t.diagnostics))]});const Tf=rn.mark({class:"cm-lintRange cm-lintRange-active"});function kf(t,e,n){let{diagnostics:r}=t.state.field(Sf),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:l})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(l.diagnostic),s=Math.min(t,s),o=Math.max(r,o))}));let l=t.state.facet(Lf).tooltipFilter;return l&&(i=l(i)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create:()=>({dom:Af(t,i)})}:null}function Af(t,e){return wc("ul",{class:"cm-tooltip-lint"},e.map((e=>If(t,e,!1))))}const Pf=t=>{let e=t.state.field(Sf,!1);return!(!e||!e.panel)&&(t.dispatch({effects:bf.of(!1)}),!0)},Ef=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(Sf,!1);e&&e.panel||t.dispatch({effects:xf(t.state,[bf.of(!0)])});let n=Bs(t,Mf.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:t=>{let e=t.state.field(Sf,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],_f=An.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Lf);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:e}=t.facet(Lf);Promise.all(e.map((t=>Promise.resolve(t(this.view))))).then((e=>{let n=e.reduce(((t,e)=>t.concat(e)));this.view.state.doc==t.doc&&this.view.dispatch(function(t,e){return{effects:xf(t,[yf.of(e)])}}(this.view.state,n))}),(t=>{Cn(this.view.state,t)}))}}update(t){let e=t.state.facet(Lf);(t.docChanged||e!=t.startState.facet(Lf))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Lf=Q.define({combine:t=>Object.assign({sources:t.map((t=>t.source))},St(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null})),enables:_f});function Df(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function If(t,e,n){var r;let i=n?Df(e.actions):[];return wc("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},wc("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let s=r=>{r.preventDefault();let i=Of(t.state.field(Sf).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:o}=n,l=i[r]?o.indexOf(i[r]):-1,a=l<0?o:[o.slice(0,l),wc("u",o.slice(l,l+1)),o.slice(l+1)];return wc("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${o}${l<0?"":` (access key "${i[r]})"`}.`},a)})),e.source&&wc("div",{class:"cm-diagnosticSource"},e.source))}class Nf extends en{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return wc("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Qf{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=If(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Mf{constructor(t){this.view=t,this.items=[];this.list=wc("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)Pf(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=Df(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=Of(this.view.state.field(Sf).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=wc("div",{class:"cm-panel-lint"},this.list,wc("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Pf(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(Sf).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Sf),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let l,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){a=t;break}a<0?(l=new Qf(this.view,o.diagnostic),this.items.splice(n,0,l),r=!0):(l=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),i=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new Qf(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=Of(this.view.state.field(Sf).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:Cf.of(e)})}static open(t){return new Mf(t)}}function Bf(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Ff(t){return Bf(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const qf=Ei.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ff("#d11")},".cm-lintRange-warning":{backgroundImage:Ff("orange")},".cm-lintRange-info":{backgroundImage:Ff("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const $f=(()=>[lo(),co,cs(),Za(),ha(),Vi(),[es,ns],Ct.allowMultipleSelections.of(!0),Ct.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let s=n.sliceString(i.from,r);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,l=-1,a=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==l)continue;l=e.from;let n=Nl(o,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=Il(o,n);r!=i&&a.push({from:e.from,to:e.from+r.length,insert:i})}return a.length?[t,{changes:a,sequential:!0}]:t})),ma(wa,{fallback:!0}),Pa(),[of,tf],df(),Os(),ys(),gs,Qc(),Bi.of([...lf,...Rc,...fh,...vu,...ia,...gf,...Ef])])();class Uf{constructor(t,e,n,r,i,s,o,l,a,u=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=a,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new Uf(t,[],e,n,n,0,[],0,r?new Xf(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){let e=t>>19,n=65535&t,{parser:r}=this.p,i=r.dynamicPrecedence(n);if(i&&(this.score+=i),0==e)return this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);let s=this.stack.length-3*(e-1)-(262144&t?6:0),o=this.stack[s-2],l=this.stack[s-1],a=this.bufferBase+this.buffer.length-l;if(n<r.minRepeatTerm||131072&t){let t=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,o,t,a+4,!0)}if(262144&t)this.state=this.stack[s];else{let t=this.stack[s-3];this.state=r.getGoto(t,n,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(n,o)}storeNode(t,e,n,r=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,r=this.buffer.length;if(0==r&&t.parent&&(r=t.bufferBase-t.parent.bufferBase,t=t.parent),r>0&&0==t.buffer[r-4]&&t.buffer[r-1]>-1){if(e==n)return;if(t.buffer[r-2]>=e)return void(t.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n){let r=this.pos;if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let i=t,{parser:s}=this.p;(n>this.pos||e<=s.maxNode)&&(this.pos=n,s.stateFlag(i,1)||(this.reducePos=n)),this.pushState(i,r),this.shiftContext(e,r),e<=s.maxNode&&this.buffer.push(e,r,n,4)}else this.pos=n,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,n,4)}apply(t,e,n){65536&t?this.reduce(t):this.shift(t,e,n)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new Uf(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Vf(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==(65536&n))return!0;if(0==n)return!1;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<e.length;i+=2)(r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t)&&n.push(e[i],r);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let r=e[t+1];n.some(((t,e)=>1&e&&t==r))||n.push(e[t],r)}e=n}let n=[];for(let t=0;t<e.length&&n.length<4;t+=2){let r=e[t+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.score-=200,n.push(i)}return n}forceReduce(){let t=this.p.parser.stateSlot(this.state,5);if(0==(65536&t))return!1;let{parser:e}=this.p;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Xf(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Xf{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}var Hf;!function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Hf||(Hf={}));class Vf{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Wf{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Wf(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Wf(this.stack,this.pos,this.index)}}class zf{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Gf=new zf;class jf{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Gf,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolvePos(t,e){let n=this.range,r=this.rangeIndex;for(;t<n.from;){if(!r)return null;let e=this.ranges[--r];t-=n.from-e.to,n=e}for(;e<0?t>n.to:t>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];t+=e.from-n.to,n=e}return t}peek(t){let e,n,r=this.chunkOff+t;if(r>=0&&r<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(r);else{let r=this.resolvePos(this.pos+t,1);if(null==r)return-1;if(e=r,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,r=this.range;for(;r.to<=e;)r=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t,e=0){let n=e?this.resolvePos(this.pos+e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Gf,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class Yf{constructor(t,e){this.data=t,this.id=e}token(t,e){!function(t,e,n,r){let i=0,s=1<<r,{parser:o}=n.p,{dialect:l}=o;t:for(;0!=(s&t[i]);){let n=t[i+1];for(let r=i+3;r<n;r+=2)if((t[r+1]&s)>0){let n=t[r];if(l.allows(n)&&(-1==e.token.value||e.token.value==n||o.overrides(n,e.token.value))){e.acceptToken(n);break}}let r=e.next,a=0,u=t[i+2];if(!(e.next<0&&u>a&&65535==t[n+3*u-3])){for(;a<u;){let s=a+u>>1,o=n+s+(s<<1),l=t[o],c=t[o+1];if(r<l)u=s;else{if(!(r>=c)){i=t[o+2],e.advance();continue t}a=s+1}}break}i=t[n+3*u-1]}}(this.data,t,e,this.id)}}Yf.prototype.contextual=Yf.prototype.fallback=Yf.prototype.extend=!1;function Zf(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let e=t.charCodeAt(r++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,n=!0),s+=i,n)break;s*=46}n?n[i++]=s:n=new e(s)}return n}const Kf="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Jf=null;var tv,ev;function nv(t,e,n){let r=t.cursor(xo.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}!function(t){t[t.Margin=25]="Margin"}(tv||(tv={}));class rv{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?nv(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?nv(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],s=this.start[e]+n.positions[r];if(s>t)return this.nextStart=s,null;if(i instanceof yo){if(s==t){if(s<this.safeFrom)return null;let t=s+i.length;if(t<=this.safeTo){let e=i.prop(go.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,s+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+i.length}}}class iv{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new zf))}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:i}=r,s=r.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let r=0;r<i.length;r++){if(0==(1<<r&s))continue;let a=i[r],u=this.tokens[r];if((!n||a.fallback)&&((a.contextual||u.start!=t.pos||u.mask!=s||u.context!=o)&&(this.updateCachedToken(u,a,t),u.mask=s,u.context=o),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),0!=u.value)){let r=e;if(u.extended>-1&&(e=this.addActions(t,u.extended,u.end,e)),e=this.addActions(t,u.value,u.end,e),!a.extend&&(n=u,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),n||t.pos!=this.stream.end||(n=new zf,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new zf,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){var r,i;let s=null!==(r=this.stream.resolvePos(n.pos,1))&&void 0!==r?r:n.pos;if(e.token(this.stream.reset(s,t),n),t.value>-1){let{parser:e}=n.p;for(let r=0;r<e.specialized.length;r++)if(e.specialized[r]==t.value){let i=e.specializers[r](this.stream.read(t.start,t.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=null!==(i=this.stream.resolvePos(s+1,-1))&&void 0!==i?i:this.stream.end}putAction(t,e,n,r){for(let e=0;e<r;e+=3)if(this.actions[e]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:i}=t,{parser:s}=t.p,{data:o}=s;for(let t=0;t<2;t++)for(let l=s.stateSlot(i,t?2:1);;l+=3){if(65535==o[l]){if(1!=o[l+1]){0==r&&2==o[l+1]&&(r=this.putAction(uv(o,l+2),e,n,r));break}l=uv(o,l+2)}o[l]==e&&(r=this.putAction(uv(o,l+1),e,n,r))}return r}}!function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo"}(ev||(ev={}));class sv{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new jf(e,r),this.tokens=new iv(t,this.stream),this.topTerm=t.top[1];let{from:i}=r[0];this.stacks=[Uf.start(this,t.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*t.bufferLength?new rv(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,r=this.minStackPos,i=this.stacks=[];for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!i.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return this.stackToTree(e);if(this.parser.strict)throw Kf&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort(((t,e)=>e.score-t.score));i.length>t;)i.pop();i.some((t=>t.reducePos>r))&&this.recovering--}else if(i.length>1)t:for(let t=0;t<i.length-1;t++){let e=i[t];for(let n=t+1;n<i.length;n++){let r=i[n];if(e.sameState(r)||e.buffer.length>500&&r.buffer.length>500){if(!((e.score-r.score||e.buffer.length-r.buffer.length)>0)){i.splice(t--,1);continue t}i.splice(n--,1)}}}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:i}=this,s=Kf?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?i.getGoto(t.state,o.type.id):-1;if(r>-1&&o.length&&(!e||(o.prop(go.contextHash)||0)==n))return t.useNode(o,r),Kf&&console.log(s+this.stackID(t)+` (via reuse of ${i.getName(o.type.id)})`),!0;if(!(o instanceof yo)||0==o.children.length||o.positions[0]>0)break;let l=o.children[0];if(!(l instanceof yo&&0==o.positions[0]))break;o=l}}let o=i.stateSlot(t.state,4);if(o>0)return t.reduce(o),Kf&&console.log(s+this.stackID(t)+` (via always-reduce ${i.getName(65535&o)})`),!0;if(t.stack.length>=15e3)for(;t.stack.length>9e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let o=0;o<l.length;){let a=l[o++],u=l[o++],c=l[o++],h=o==l.length||!n,f=h?t:t.split();if(f.apply(a,u,c),Kf&&console.log(s+this.stackID(f)+` (via ${0==(65536&a)?"shift":`reduce of ${i.getName(65535&a)}`} for ${i.getName(u)} @ ${r}${f==t?"":", split"})`),h)return!0;f.pos>r?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return ov(t,e),!0}}runRecovery(t,e,n){let r=null,i=!1;for(let s=0;s<t.length;s++){let o=t[s],l=e[s<<1],a=e[1+(s<<1)],u=Kf?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),Kf&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),h=u;for(let t=0;c.forceReduce()&&t<10;t++){if(Kf&&console.log(h+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;Kf&&(h=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(l))Kf&&console.log(u+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(a==o.pos&&(a++,l=0),o.recoverByDelete(l,a),Kf&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),ov(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(t){return t.close(),yo.build({buffer:Wf.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Jf||(Jf=new WeakMap)).get(t);return e||Jf.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function ov(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class lv{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class av extends Fo{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let n=0;n<t.repeatNodeCount;n++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function i(t,e,n){r[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=go[t]);for(let n=1;n<e.length;){let r=e[n++];if(r>=0)i(r,t,e[n++]);else{let s=e[n+-r];for(let o=-r;o>0;o--)i(e[n++],t,s);n++}}}this.nodeSet=new Ro(e.map(((e,i)=>mo.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=ho;let s=Zf(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(hv),this.states=Zf(t.states,Uint32Array),this.data=Zf(t.stateData),this.goto=Zf(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new Yf(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new sv(this,t,e,n);for(let i of this.wrappers)r=i(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let i=r[e+1];;){let e=r[i++],s=1&e,o=r[i++];if(s&&n)return o;for(let n=i+(e>>1);i<n;i++)if(r[i]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let i,s=this.stateSlot(t,r?2:1);;s+=3){if(65535==(i=n[s])){if(1!=n[s+1]){if(2==n[s+1])return uv(n,s+2);break}i=n[s=uv(n,s+2)]}if(i==e||0==i)return uv(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){if(e==this.stateSlot(t,4))return!0;for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=uv(this.data,n+2)}if(e==uv(this.data,n+1))return!0}}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=uv(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}overrides(t,e){let n=cv(this.data,this.tokenPrecTable,e);return n<0||cv(this.data,this.tokenPrecTable,t)<n}configure(t){let e=Object.assign(Object.create(av.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=t.specializers.find((t=>t.from==n.external));if(!i)return n;let s=Object.assign(Object.assign({},n),{external:i.to});return e.specializers[r]=hv(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let r=null;for(let t=0;t<e.length;t++)if(!n[t])for(let n,i=this.dialects[e[t]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new lv(t,n,r)}static deserialize(t){return new av(t)}}function uv(t,e){return t[e]|t[e+1]<<16}function cv(t,e,n){for(let r,i=e;65535!=(r=t[i]);i++)if(r==n)return i-e;return-1}function hv(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const fv={__proto__:null,open:8,interface:14,extends:22,forall:54,type:76,true:94,false:96,undefined:98,override:104,with:116,let:140,in:142,letrec:146,if:152,then:154,else:156,trait:160,implements:162,inherits:164,new:168,toString:172,fold:174,unfold:176},vv={__proto__:null,Int:24,Double:26,String:28,Bool:30,Top:32,Bot:34,Trait:64},dv=av.deserialize({version:14,states:"!JnO]QPOOOOQO'#Ef'#EfO]QPOOO%SQQO'#DVOOQO'#DW'#DWO'gQPO'#FgOOQO'#D`'#D`O'nQPO'#FiOOQO'#Da'#DaOOQO'#Dg'#DgO%pQPO'#FoOOQO'#Ff'#FfO(VQPO'#FfO*UQQO'#FeO,lQQO'#FdO.|QQO'#FcO1ZQQO'#FbO1zQPO'#DoO2YQPO'#DqOOQO'#Fa'#FaOOQO'#F`'#F`O%pQPO'#F`O3lQQO'#F_O4UQPO'#DUOOQO'#E{'#E{OOQO'#Eg'#EgO6SQPOOQOQPOOO8QQPO'#ExO2]QPO'#CbO2]QPO'#DRO8[QPO'#DsO8[QPO'#DvO%pQPO'#DyO8aQSO'#D}O%pQPO'#ERO8oQPO'#ETO9jQPO'#FaOOQO-E8d-E8dO9oQPO'#FhO9wQPO'#FhO:OQPO,5<RO%pQPO'#DxO:TQPO'#CqO:iQPO'#DcO8[QPO'#FkOOQO'#De'#DeO:zQPO'#FlO;SQPO'#DdO;XQPO'#FjO;aQPO'#FjO;iQPO'#FjO;nQPO'#FjO<VQPO,5<TO<[QPO'#FjO<jQPO,5<XO<oQPO,5<ZOOQO'#Dj'#DjOOQO,5<Q,5<QO<tQPO'#EsO>vQQO,5<PO<tQPO,5<OO?dQPO,5;}O<tQPO,5;}OOQO'#Et'#EtO@UQQO,5;|O?dQPO'#EtOOQO'#DV'#DVOOQO'#FZ'#FZO2QQPO'#F]OAhQSO,5:ZOAyQSO'#F^OOQO'#FY'#FYOOQO'#En'#EnOOQO'#Cd'#CdO2]QPO'#FTOOQO'#FS'#FSOOQO'#Ek'#EkOBUQPO,5:]OCRQQO,5;zO%pQPO,5;zO%pQPO,5;zO%pQPO,5;zO%pQPO,5;zO%pQPO,5;zO%pQPO,5;zO%pQPO,5;zO%pQPO,5;zOCrQPO,5;yO3yQPO'#FTOC|QPO,59pODWQPO,59pO%pQPO,59pOCrQPO,59pOOQO-E8e-E8eODlQQO,5;dODvQPO,5:dOD{QPO,58|OEZQPO,59mOEfQPO,5:_OEmQPO,5:bOEtQPO,5:eO%pQPO,5:iOEyQPO,5:iOFTQPO,5:iOGTQSO,5:iOG`QQO,5:mOOQO,5:o,5:oO?dQPO,5;{PHPQPO'#ExOOQO,5;[,5;[OHXQPO,5<SOOQO-E8n-E8nOOQO1G1m1G1mO%pQPO,59}OHaQPO,59}OHrQPO,5<VOOQO'#Cq'#CqOHzQPO,5<WO:zQPO,5:OOI]QPO,5:OO:zQPO,5<UOOQO,5;],5;]OIbQPO,5<UOIjQPO,5<UOIrQPO,5<UOOQO-E8o-E8oO<[QPO,5<UOOQO1G1o1G1oO;[QPO'#DdOIwQPO,5<UOJPQPO1G1sOOQO1G1u1G1uOOQO'#Dk'#DkOOQO,5;_,5;_OOQO-E8q-E8qOJ[QSO1G1jOOQO'#Cn'#CnOJaQPO'#FPOOQO'#Co'#CoOCrQPO'#FWOCrQPO'#FXOOQO'#FO'#FOOJlQQO'#E}OOQO1G1i1G1iOOQO-E8r-E8rOOQO,5;`,5;`OLxQPO,5;wO%pQPO1G/uOOQO-E8l-E8lOL}QPO'#EoOMSQSO,5;xOM_QPO,5;xOMdQPO,5;oOOQO-E8i-E8iO%pQPO1G/wOOQO1G1f1G1fONsQQO1G1fONzQQO1G1fO!!]QQO1G1fO!!dQQO1G1fO!#uQQO1G1fO!#|QQO1G1fO!$rQQO1G1fO!&QQPO1G1eO!&_QPO'#FRO!)_QPO'#E}O2YQPO'#FRO!)iQPO'#FRO!)nQPO1G/[O%pQPO1G/[OCrQPO1G/[O!*SQPO1G/[O!*XQPO1G/[OOQO1G1O1G1OO%pQPO1G0OO2]QPO'#E|OOQO'#Eh'#EhO!*gQPO1G.hOOQO'#Ei'#EiO!*jQPO1G.hO!*uQPO1G.hO?dQPO1G.hO!*zQPO1G/XO!*}QPO1G/XOCrQPO1G/XO!+VQPO1G/yO!+^QPO1G/yO%pQPO1G/yO!+oQPO1G/|O!+vQPO1G/|OCrQPO1G/|O%pQPO1G0PO!,XQQO1G0TO!,xQWO1G0TO!-^QWO'#FRO!/PQWO'#E}O!/yQ`O'#FeO!0TQ`O'#FdO!0_Q`O'#FcO!0lQWO'#FbO!1kQWO1G0TO%pQPO1G0TOEyQPO1G0TOFTQPO1G0TO8oQPO1G1gP!1uQPO,5;dP!1zQPO'#EpOOQO1G/i1G/iO%pQPO1G/iOOQO1G1q1G1qOCrQPO1G1qOOQO1G1r1G1rO!2PQPO1G1rOOQO1G/j1G/jO!2bQPO1G/jO!2gQPO1G1pO:zQPO1G1pP!2oQPO'#EqP!2wQPO'#EqP!2|QPO'#EqP<[QPO'#EqO!3RQPO1G1pOOQO1G0w1G0wO!3ZQPO'#FnO!3`QPO'#FnO!3kQPO7+'_O:zQPO7+'UO!3pQPO'#FQO!3xQPO'#FQO!4TQPO,5;kO!4YQPO,5;rO!4hQPO,5;sO!4vQPO'#FUOOQO'#Em'#EmO!5QQQO,5;iOCrQPO1G1cOOQO7+%a7+%aO%pQPO,5;ZOOQO-E8m-E8mO!7^QPO1G1dOOQO1G1d1G1dOCrQPO1G1ZOOQO7+%c7+%cOCrQPO,5;mOCrQPO,5;mOCrQPO,5;mOOQO'#El'#ElO!7cQPO,5;mO!:cQPO,5;iO!:mQPO,5;mOOQO,5;m,5;mO%pQPO7+$vOCrQPO7+$vO!:xQPO7+$vO!:}QPO7+$vOOQO7+$v7+$vOOQO7+%j7+%jO!;]QPO,5;hOOQO-E8f-E8fO!;bQPO7+$SO!;mQPO7+$SO?dQPO7+$SOOQO-E8g-E8gOOQO7+$S7+$SO!;rQPO7+$SO!;wQPO7+$sOCrQPO7+$sO!<PQPO7+$sO!<_QPO7+%eO%pQPO7+%eO!<pQPO7+%eO!<uQPO7+%hOCrQPO7+%hO!=WQPO7+%hO!=fQPO7+%kO%pQPO7+%oOEyQPO7+%oOFTQPO7+%oO!=kQWO,5;mO!?^QWO,5;iO!@WQ`O,5<PO!@bQWO,5;|O!AbQWO,5;zO!AlQWO,5:mO!AvQWO'#FeO!BtQQO7+%oO!CeQWO7+%oO!CyQWO7+%oOOQO7+'R7+'ROOQO7+%T7+%TO!DTQPO7+']OOQO7+'^7+'^O:zQPO7+%UOOQO7+&c7+&cO!DcQPO7+'[P:zQPO,5;]P!DkQPO,5;]O%pQPO,5<YO!DpQPO,5<YOOQO-E8p-E8pOOQO<<Jy<<JyO!DuQPO<<JpOCrQPO,5;lO!DzQPO,5;lO!EPQPO,5;lOOQO-E8h-E8hOOQO1G1V1G1VOOQO1G1^1G1^OOQO1G1_1G1_O!EXQpO'#FVO!EjQPO,5;pO!EoQpO'#FRO!FSQpO'#E}OOQO-E8k-E8kO!GWQPO7+&}O!GfQPO1G0uOOQO7+'O7+'OO!GkQPO7+&uO!HnQPO1G1XO!HxQPO1G1XOOQO1G1X1G1XOOQO-E8j-E8jOCrQPO1G1XO!ISQPO<<HbO!IXQPO<<HbOOQO<<Hb<<HbO%pQPO<<HbOOQO1G1S1G1SO!IgQPO<<GnO?dQPO<<GnOOQO<<Gn<<GnO!;rQPO<<GnOCrQPO<<H_O!IlQPO<<H_OOQO<<H_<<H_O%pQPO<<IPO!IzQPO<<IPO%pQPO<<IPOCrQPO<<ISO!JPQPO<<ISO%pQPO<<ISO%pQPO<<IVO!KxQWO1G1XO!LSQWO1G1XO!L^QQO<<IZO!L}QWO<<IZO!M]QWO<<IZO!N[QWO1G1fO!NcQWO1G1fO# _QWO1G1fO# fQWO1G1fO#!bQWO1G1fO#!iQWO1G1fO##_QWO1G1fO##lQWO1G0TO##vQWO,5<PO%pQPO<<IZOEyQPO<<IZOFTQPO<<IZOOQO<<Jw<<JwOOQO<<Hp<<HpP#$tQPO1G0wO#$yQPO1G1tO%pQPO1G1tP#%RQPO'#ErOOQOAN@[AN@[O#%WQPO1G1WOCrQPO1G1WOCrQPO1G1WO#%iQPO1G1WP#%nQPO'#EjOCrQPO,5;qOOQO1G1[1G1[O#%vQpO,5;mO#&ZQpO,5;iOOQO<<Ji<<JiO#'_QWO1G1eOOQO7+&a7+&aOOQO<<Ja<<JaO#)PQPO7+&sOOQOAN=|AN=|O%pQPOAN=|O#)dQPOAN=|OOQOAN=YAN=YO!;rQPOAN=YO#)iQPOAN=YO#)nQPOAN=yOOQOAN=yAN=yO#)|QPOAN>kO%pQPOAN>kOOQOAN>kAN>kO#*RQPOAN>nO%pQPOAN>nO#*aQPOAN>nOOQOAN>qAN>qO%pQPOAN>uOEyQPOAN>uO#*fQWO7+&sO#+oQWO'#F_O#,jQWO7+%oO#,tQQOAN>uO#-eQWOAN>uO#-sQWOAN>uOOQO7+&d7+&dO#-}QPO7+'`P%pQPO,5;^OOQO7+&[7+&[O#.VQPO7+&rO#.hQPO7+&rOCrQPO7+&rPCrQPO,5;UP#.yQPO,5;UO#/OQPO1G1]O#/^QpO1G1XO#/oQpO1G1XO#0QQPOG23hOOQOG23hG23hO#0VQPOG22tOOQOG22tG22tOOQOG23eG23eO%pQPOG24VOOQOG24VG24VO%pQPOG24YO#0[QPOG24YO%pQPOG24YO#0aQQOG24aO#1QQWOG24aO#1`QWO<<IZO%pQPOG24aOEyQPOG24aP#1jQPO1G0xOOQO<<Iv<<IvO#1oQPO<<J^P#2QQPO1G0pPCrQPO1G0pO#2`QpO7+&sOOQOLD)SLD)SOOQOLD(`LD(`OOQOLD)qLD)qO#2qQPOLD)tO%pQPOLD)tOOQOLD)tLD)tO%pQPOLD){O#2vQWOAN>uO#3QQQOLD){O#3qQWOLD){P#4PQPO7+&[O%pQPO!$'M`OOQO!$'M`!$'M`O#4_QQO!$'MgO#5OQWOG24aO%pQPO!$'MgOOQO!)9Bz!)9BzO#5YQWOLD){O#5dQQO!)9CRO#6TQWO!$'MgO#6_QWO!)9CROFTQPO'#F`O#6iQQO'#F_OFTQPO'#ERO8oQPO'#ETO?dQPO,5;}O?dQPO'#EtOFTQPO,5;zOFTQPO,5;zOFTQPO,5;zOFTQPO,5;zOFTQPO,5;zOFTQPO,5;zOFTQPO,5;zOFTQPO,5;zOEyQPO,5;yOFTQPO,5:iO#6sQPO1G/uO#6sQPO1G/wO#6sQPO1G0OOFTQPO1G0TO8oQPO1G1gOEyQPO,5;mO!4vQPO,5;mOEyQPO,5;mO!4vQPO,5;mOEyQPO,5;mO!4vQPO,5;mOFTQPO7+%oOEyQPO1G1XO!4vQPO1G1XO#6sQPO<<IPO#6sQPO<<IVOFTQPO<<IZO#6sQPOAN>kOFTQPOAN>uO#7sQWO'#F_O#6sQPOG24VO#6sQPOG24VO#6sQPOG24YO#6sQPOG24YOFTQPOG24aO#6sQPOLD)tO#6sQPOLD)tOFTQPOLD){O#6sQPO!$'M`O#6sQPO!$'M`OFTQPO!$'MgO#7zQSO'#D}O#8YQSO,5:ZO#8kQPO,5:]O#8vQPO,5:dO#8{QSO,5:iO?dQPO,5;{O#9WQWO1G0TO#9lQWO1G0TO#9vQPO,5;mO#:RQPO,5;mO#:^QPO7+%eO#:cQPO7+%kO#:hQWO7+%oO#:|QWO7+%oO#;WQPO<<IPO#;]QWO<<IZO#;kQWO<<IZO#;uQPOAN>kO#;zQPOAN>kO#<PQPOAN>nO#<UQPOAN>nO#<ZQWOAN>uO#<iQWOAN>uO#<sQPOG24YO#<xQPOG24YO#<}QWOG24aO#=]QPOLD)tO#=bQPOLD)tO#=gQWOLD){O#6sQPO1G/uO#6sQPO1G/wO#6sQPO1G0OO#6sQPO<<IPO#6sQPO<<IVO#6sQPOAN>kO1zQPO'#DoO2YQPO'#DqO#=uQPO'#FaO%pQPO'#DxOEyQPO,5:iOFTQPO,5:iO2YQPO'#FRO2YQPO'#FRO%pQPO1G/yO%pQPO1G0POEyQPO1G0TOFTQPO1G0TO%pQPO7+%eOEyQPO7+%oOFTQPO7+%oO%pQPO<<IPO%pQPO<<IPO%pQPO<<ISO%pQPO<<ISOEyQPO<<IZOFTQPO<<IZO%pQPOAN>nO%pQPOAN>nOEyQPOAN>uO%pQPOG24YO%pQPOG24YOEyQPOG24aO#=zQSO,5:ZO#>]QPO,5:]O#>hQPO,5:dO#>mQPO7+%eO#>rQPO7+%kO#>wQPO<<IPO#>|QPO,5:_O#?TQPO,5:eO#?YQPO1G/yO#?aQPO1G/yO#?rQPO7+%eO#@TQPO7+%eO#@fQPO7+%hO#@tQPO7+%hO#ASQPO<<ISO#AbQPO<<ISO#ApQPOAN>nO#BOQPOAN>nO1zQPO'#DoO2YQPO'#DqO%pQPO'#DxO%pQPO1G/yO%pQPO1G0PO%pQPO7+%eO8[QPO'#DsO%pQPO'#DyOCrQPO1G/|OCrQPO1G/|OCrQPO7+%hOCrQPO7+%hOCrQPO<<ISOCrQPO<<ISO#6sQPO'#F`O#6sQPO'#ERO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5;zO#6sQPO,5:iO#6sQPO1G0TO#6sQPO7+%oO#6sQPO<<IZO#6sQPOAN>uO#6sQPOG24aO#6sQPOLD){O#6sQPO!$'MgO#B^QSO'#D}O#BlQSO,5:iO#BwQWO1G0TO#C]QWO1G0TO#CgQWO7+%oO#C{QWO7+%oO#DVQWO<<IZO#DeQWO<<IZO#DoQWOAN>uO#D}QWOAN>uO#EXQWOG24aO#EgQWOLD){OEyQPO,5:iOFTQPO,5:iOEyQPO1G0TOFTQPO1G0TOEyQPO7+%oOFTQPO7+%oOEyQPO<<IZOFTQPO<<IZOEyQPOAN>uOEyQPOG24aO#EuQPO,5:_O#E|QPO,5:eO#FRQPO1G/yO#FYQPO1G/yO#FkQPO,5:bO#FrQPO,5:bO#FyQPO1G/|O#GQQPO1G/|O#GXQPO1G/|O#GjQPO1G/|O#G{QPO7+%hO#H^QPO7+%hO#IaQWO,5;zO#InQWO,5:mO#JsQWO1G1fO#JzQWO1G1fO#KyQWO1G1fO#LQQWO1G1fO#MPQWO1G1fO#MWQWO1G1fO#M|QWO1G1fO#N^QWO1G0TO#NkQWO7+%oO#NxQWO<<IZO$ VQWOAN>uO$ dQWOG24aO$ qQWOLD){O$!OQWO!$'MgO$!]QWO!)9CRO8[QPO'#DsO%pQPO'#DyO8[QPO'#DvO8[QPO'#Dv",stateData:"$!o~O#kOSPOSQOS~OSlOVmOdVOlYOsTOvnO{ZO|ZO}ZO!OZO!PZO!QZO!RZO!][O!baO!fbO!hoO!kpO!nqO!rrO!vsO!xtO!yuO!zuO!{eO!|eO!}eO#mRO#nSO~OdzXgzXlzXozXszX{zX|zX}zX!OzX!PzX!QzX!RzX!YzX!]zX!azX!bzX!{zX#OzX#PzX#QzX#RzX#SzX#TzX#UzX#VzX#WzX#mzX#nzX~OdyXgyXlyXwyX#izX#myX#nyX$OyX~P#YOSzOdVOlYOsTO{ZO|ZO}ZO!OZO!PZO!QZO!RZO!][O!baO!fbO!hoO!kpO!nqO!rrO!vsO!xtO!yuO!zuO!{eO!|eO!}eO#mSO#nSO~Ot$[P~P%pOl!POs}O!U!WO#m{O#n{O$O!TOr$^P~O#n!ZO~Oo!]Od$XXg$XXl$XXs$XX{$XX|$XX}$XX!O$XX!P$XX!Q$XX!R$XX!Y$XX!]$XX!a$XX!b$XX!{$XX#O$XX#P$XX#Q$XX#R$XX#S$XX#T$XX#U$XX#V$XX#W$XX#m$XX#n$XX~O#i$XXT$XXt$XXn$XX!i$XX!o$XXr$XX!p$XX~P([Os!_Od$WXg$WXl$WXs$WX{$WX|$WX}$WX!O$WX!P$WX!Q$WX!R$WX!Y$WX!]$WX!a$WX!b$WX!{$WX#O$WX#P$WX#Q$WX#R$WX#S$WX#T$WX#U$WX#V$WX#W$WX#m$WX#n$WX~O#i$WXT$WXt$WXn$WX!i$WX!o$WXr$WX!p$WX~P*rO!b!aOd$VXg$VXl$VXs$VX{$VX|$VX}$VX!O$VX!P$VX!Q$VX!R$VX!Y$VX!]$VX!{$VX#O$VX#P$VX#Q$VX#R$VX#S$VX#T$VX#U$VX#V$VX#W$VX#m$VX#n$VX~O!a!`O#i$VXT$VXt$VXn$VX!i$VX!o$VXr$VX!p$VX~P-YOdVOlYOsTO{ZO|ZO}ZO!OZO!PZO!QZO!RZO!][O#mSO#nSOg$UX!{$UX#O$UX#P$UX#Q$UX#R$UX#S$UX#T$UX#U$UX#V$UX#W$UX~O!Y!dO#i$UXT$UXt$UXn$UX!i$UX!o$UXr$UX!p$UX~P/mOd!iOl!gO#m!eO$O!fO~Ol!mO#n!lO~O!{!tO#O!rO#P!sO#Q!tO#R!uO#S!vO#T!wO#U!xO#V!xO#W!yO#i$RXT$RXt$RXn$RX!i$RX!o$RXr$RX!p$RX~Og!zO~P2bOd!iOl!{O#m!eO#n!lO$O!fO~Og#POw#OO~P3sOSzOdVOlYOsTO{ZO|ZO}ZO!OZO!PZO!QZO!RZO!][O!baO!fbO!hoO!kpO!nqO!rrO!vsO!xtO!yuO!zuO!{eO!|eO!}eO#nSO~OVmOvnO#mRO~P4`OSzOdVOlYOsTO{ZO|ZO}ZO!OZO!PZO!QZO!RZO!][O!baO!fbO!hoO!kpO!nqO!rrO!vsO!xtO!yuO!zuO!{eO!|eO!}eO~O#m#RO#n#RO~P6aO#m!eO~Oq#YOs}O!s#ZO!t#[O~OdVOlYOsTO{ZO|ZO}ZO!OZO!PZO!QZO!RZO!][O#mSO#nSO~O!Y#`O~OT#bOt$[X~Ot$[X~P%pOt#eO~OdeXleXweX![zX#meX$OeX~Od!iOl!gOw#fO#m!eO$O!fO~O#m#iO#n#iO~Oo#kO~Oo#mO!Y#lO~OT#nOr$^X~Oo#mO~Ol!POs}O!U#sO#m#iO#n#iO$O#qOr$^X~Or#tO~Ol!POs}O#m#iO#n#iO~O![#wO~On#xO~O#m#yO#n#yO~Oo!]Od$Xag$Xal$Xas$Xa{$Xa|$Xa}$Xa!O$Xa!P$Xa!Q$Xa!R$Xa!Y$Xa!]$Xa!a$Xa!b$Xa!{$Xa#O$Xa#P$Xa#Q$Xa#R$Xa#S$Xa#T$Xa#U$Xa#V$Xa#W$Xa#m$Xa#n$Xa~O#i$XaT$Xat$Xan$Xa!i$Xa!o$Xar$Xa!p$Xa~P<|O[$SO]$SO^$SO_$SO`$SOa$SOd$OOl$ROs$QO#n#}O~O!Y!dOg$Ua!{$Ua#O$Ua#P$Ua#Q$Ua#R$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#i$UaT$Uat$Uan$Ua!i$Ua!o$Uar$Ua!p$Ua~P8oOd!iOl!gO!d$YO#m!eO$O!fO~O#X$^O#m#iO#n#iO~Ol!mOo$aO#n!lO~O!{!tO#O!rO#P!sO#Q!tO#R!uO#S!vO#T!wO#U!xO#V!xO#W!yO~Og$Sa#i$SaT$Sat$San$Sa!i$Sa!o$Sar$Sa!p$Sa~PBaOk$mOp$nO~P?dOg$qOw$pO~P3sOd!iOg$qOl!gOw$pO#m!eO$O!fO~OT$tO!izX~P#YO!i$uO~OX$vOZ$|Od$OO#n!lO~OX$vOw%PO#n!lO~Ow%SO~P3sOg%VO~P3sO!o%WO~Ok,xOp$nO~P?dOS,uO!b,rO!f,sO!h-wO!k/jO!n-xO!r+}O!v+OO!x+PO!y,tO!z,tO!{*|O!|*|O!}*|O~P8oOq%bO!s%cO!t%dO~Og!ua#i!uaT!uat!uan!ua!i!ua!o!uar!ua!p!ua~PBaO#m%fO#n%fO~OT#bOt$[a~Od!iOl!gOw%iO#m!eO$O!fO~Og%kOt%jO~Od!iOl!gOn%lO#m!eO$O!fO~Ol!PO~Oo%qO!Y#lO~OT#nOr$^a~Oo%qO~OT%wOr$^a~O#m#iO#n#iOr$bP~O!`%{O~O#m#iO#n#iOr#tP~OX&ROd#qXg#qXl#qXs#qX{#qX|#qX}#qX!O#qX!P#qX!Q#qX!R#qX!Y#qX!]#qX!{#qX#O#qX#P#qX#Q#qX#R#qX#S#qX#T#qX#U#qX#V#qX#W#qX#i#qX#m#qX#n#qXT#qXt#qXn#qX!i#qX!o#qXr#qX!p#qX~Og&UO~Ow&WO~O#X&YO#m#iO#n#iO~Or&ZO~Om&[O~O#O!rOg$Si!{$Si#Q$Si#R$Si#S$Si#T$Si#U$Si#V$Si#W$Si#i$SiT$Sit$Sin$Si!i$Si!o$Sir$Si!p$Si~O#P$Si~PMiO#P!sO~PMiO!{!tO#O!rO#P!sO#Q!tOg$Si#S$Si#T$Si#U$Si#V$Si#W$Si#i$SiT$Sit$Sin$Si!i$Si!o$Sir$Si!p$Si~O#R$Si~P! RO#R!uO~P! RO!{!tO#O!rO#P!sO#Q!tO#R!uO#S!vO#T!wOg$Si#V$Si#W$Si#i$SiT$Sit$Sin$Si!i$Si!o$Sir$Si!p$Si~O#U$Si~P!!kO#U!xO~P!!kO!{!tO#O!rO#P!sO#Q!tO#R!uO#S!vO#T!wO#U!xO#V!xO~Og$Si#W$Si#i$SiT$Sit$Sin$Si!i$Si!o$Sir$Si!p$Si~P!$TO#i$RiT$Rit$Rin$Ri!i$Ri!o$Rir$Ri!p$Ri~Oh&^Oi&_Oj&`O~P!%fOh#uXi#uXj#uX#i#uXw#uXT#uXt#uXn#uX!i#uX!o#uXr#uX!p#uXY#uX~P?dOX&RO[#qX]#qX^#qX_#qX`#qXa#qXd#qXh#qXi#qXj#qXl#qXs#qX#i#qX#n#qX{#qX|#qX}#qX!O#qX!P#qX!Q#qX!R#qX!]#qX#m#qXT#qXt#qXn#qX!i#qX!o#qXr#qX!p#qX~Ow#qXY#qX~P!'[OX&RO~Od!iOg&gOl!gOw&fO#m!eO$O!fO~OT&jO~Oh&^Oi&_Oj&`Ow&fO~OX$vOZ&pOd$OO#n!lO~OT&rO~OX$vOw&uO#n!lO~Ow&xO~P3sOd!iOl!gOw&xO#m!eO$O!fO~Og&{O~P3sOd!iOg&{Ol!gO#m!eO$O!fO~Og!qi#i!qiT!qit!qin!qi!i!qi!o!qir!qi!p!qi~PBaOh+cOi+eOj+gOq'OO!s'PO!t'QO~Oh#uXi#uXj#uXq#uX!s#uX!t#uXg#uX!{#uX#O#uX#P#uX#Q#uX#R#uX#S#uX#T#uX#U#uX#V#uX#W#uX#i#uXT#uXt#uXn#uX!i#uX!o#uXr#uX!p#uX~P?dO[#qX]#qX^#qX_#qX`#qXa#qXh#qXi#qXj#qXq#qX!s#qX!t#qX~PJlOq$XX!s$XX~P([Oq$WX!s$WX~P*rO!a+QOq$VX!s$VX~P-YO!Y+ROq$UX!s$UX~P/mO!{+UO#O+SO#P+TO#Q+UO#R+VO#S+WO#T+XO#U+YO#V+YO#W+ZO~Oq'OO!s'PO~P!0yOT$tO~OT#bO~Od!iOl!gOn'`O#m!eO$O!fO~Oo'aO~OT'bOr$^i~Oo'dO!Y#lO~OT#nO~Oo'dO~OT%wOr$^i~Ow'fO~O#m#iO#n#iOr$bX~Or'iO~Of'lOg'kO~O#m#iO#n#iOr#tX~Or'oO~Oh&^Oi&_Oj&`Ot'pO~Oh&^Oi&_Oj&`On'qO~Ok,yOp$nO~P?dOX&ROd#qag#qal#qas#qa{#qa|#qa}#qa!O#qa!P#qa!Q#qa!R#qa!Y#qa!]#qa!{#qa#O#qa#P#qa#Q#qa#R#qa#S#qa#T#qa#U#qa#V#qa#W#qa#i#qa#m#qa#n#qaT#qat#qan#qa!i#qa!o#qar#qa!p#qa~Or'yO~Oh#uai#uaj#ua#i#uaw#uaT#uat#uan#ua!i#ua!o#uar#ua!p#uaY#ua~P?dOX&RO[#qa]#qa^#qa_#qa`#qaa#qad#qah#qai#qaj#qal#qas#qa#i#qa#n#qa{#qa|#qa}#qa!O#qa!P#qa!Q#qa!R#qa!]#qa#m#qaT#qat#qan#qa!i#qa!o#qar#qa!p#qa~Ow#qaY#qa~P!8`Ol!mOo(PO#n!lO~OT(SO~Oh&^Oi&_Oj&`Ow(TO~OY(UO~OZ(WOd$OO#n!lO~OT(XO~Od$OO~Ow(ZO#n!lO~OT(]Oh&^Oi&_Oj&`O~Od!iOl!gOw(^O#m!eO$O!fO~O!i(`O~Od!iOg(aOl!gO#m!eO$O!fO~Oh&^Oi&_Oj&`Ow(cO~O!p(dO~Oh#uai#uaj#uaq#ua!s#ua!t#uag#ua!{#ua#O#ua#P#ua#Q#ua#R#ua#S#ua#T#ua#U#ua#V#ua#W#ua#i#uaT#uat#uan#ua!i#ua!o#uar#ua!p#ua~P?dO[#qa]#qa^#qa_#qa`#qaa#qah#qai#qaj#qaq#qa!s#qa!t#qa~P!5QOq$Xa!s$Xa~P<|O!Y+ROq$Ua!s$Ua!{$Ua#O$Ua#P$Ua#Q$Ua#R$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Uag$Ua~P8oOq$Sa!s$Sa~P!0yOq!ua!s!ua~P!0yOo!]Oq$XX!s$XX!{$XX#O$XX#P$XX#Q$XX#R$XX#S$XX#T$XX#U$XX#V$XX#W$XXg$XX~Og!qq#i!qqT!qqt!qqn!qq!i!qq!o!qqr!qq!p!qq~PBaOh+cOi+eOj+gOq(sO!s(tO!t(uO~Oq(sO!s(tO~P!0yOh&^Oi&_Oj&`Ot(vO~OT'bOr$^q~OT%wO~Ow(zO~Ot(|O~Og)OO~Of)QOg)PO~Oh+dOi+fOj+hOq)SOY#yX~OY)TO~OY#uXh#uXi#uXj#uXq#uX~P?dOX&ROY#qX[#qX]#qX^#qX_#qX`#qXa#qXd#qXh#qXi#qXj#qXl#qXq#qXs#qX#n#qX~Oh&^Oi&_Oj&`On)WO~OT)YO~Oh&^Oi&_Oj&`On)ZO~Oj&`O#i#uiw#uiT#uit#uin#ui!i#ui!o#uir#ui!p#uiY#ui~Oh&^Oi&_O~P!GyOh#uii#ui~P!GyOT)]O~Oh&^Oi&_Oj&`Ow)^O~OT)`O~OT)dOh&^Oi&_Oj&`O~O!i)fO~Oh&^Oi&_Oj&`Ow)iO~Oj+gOq#ui!s#ui!t#uig#ui!{#ui#O#ui#P#ui#Q#ui#R#ui#S#ui#T#ui#U#ui#V#ui#W#ui#i#uiT#uit#uin#ui!i#ui!o#uir#ui!p#ui~Oh+cOi+eO~P!J_Oh#uii#ui~P!J_Og!qy#i!qyT!qyt!qyn!qy!i!qy!o!qyr!qy!p!qy~PBaOh+cOi+eOj+gOq)lO~Oq)lO!s)mO~P!0yO#O+SOq$Si!s$Si!{$Si#Q$Si#R$Si#S$Si#T$Si#U$Si#V$Si#W$Si~O#P$Si~P!MgO#P+TO~P!MgO!{+UO#O+SO#P+TO#Q+UOq$Si!s$Si#S$Si#T$Si#U$Si#V$Si#W$Si~O#R$Si~P!NjO#R+VO~P!NjO!{+UO#O+SO#P+TO#Q+UO#R+VO#S+WO#T+XOq$Si!s$Si#V$Si#W$Si~O#U$Si~P# mO#U+YO~P# mO!{+UO#O+SO#P+TO#Q+UO#R+VO#S+WO#T+XO#U+YO#V+YO~Oq$Si!s$Si#W$Si~P#!pOq!qi!s!qi~P!0yOo!]Oq$Xa!s$Xa!{$Xa#O$Xa#P$Xa#Q$Xa#R$Xa#S$Xa#T$Xa#U$Xa#V$Xa#W$Xag$Xa~OT'bO~OT)tOr$bi~Ow)vO~OT)wOh&^Oi&_Oj&`Or#ti~Og)zO~Of)|Og){O~OY#uah#uai#uaj#uaq#ua~P?dOX&ROY#qa[#qa]#qa^#qa_#qa`#qaa#qad#qah#qai#qaj#qal#qaq#qas#qa#n#qa~Oh+cOi+eOj+gOg$Ri!{$Ri#O$Ri#P$Ri#Q$Ri#R$Ri#S$Ri#T$Ri#U$Ri#V$Ri#W$Riq$Ri!s$Ri~P!%fO#i#uqT#uqt#uqn#uq!i#uq!o#uqr#uq!p#uq~Oh&^Oi&_Oj&`Ow#uqY#uq~P#(eOT*RO~OT*TO~OT*UOh&^Oi&_Oj&`O~O!i*VO~Oh&^Oi&_Oj&`Ow*XO~O!i*ZO~Oh+cOi+eOj+gOq#uq!s#uq!t#uqg#uq!{#uq#O#uq#P#uq#Q#uq#R#uq#S#uq#T#uq#U#uq#V#uq#W#uq~P#(eOg+[O!{.TO#O.RO#P.SO#Q.TO#R.UO#S.VO#T.WO#U.XO#V.XO#W.YOq$RX!s$RX~Oq!qq!s!qq~P!0yOg!q!R#i!q!RT!q!Rt!q!Rn!q!R!i!q!R!o!q!Rr!q!R!p!q!R~PBaOh+cOi+eOj+gOq*_O~Oq*_O!s*`O~P!0yOT)tOr$bq~OT*bOh&^Oi&_Oj&`Or#tq~OT)wOh&^Oi&_Oj&`Or#tq~Og*eO~Oh&^Oi&_Oj&`OY#yi~Oh+dOi+fOj+hOY#uiq#ui~Oj+hOY#uih#uii#uiq#ui~OT*gO~OT*hO~O!i*kO~Og!q!Z#i!q!ZT!q!Zt!q!Zn!q!Z!i!q!Z!o!q!Zr!q!Z!p!q!Z~PBaOh+cOi+eOj+gOq*mO~Oq!qy!s!qy~P!0yOT)tO~OT*bOh&^Oi&_Oj&`Or#ty~OT)wOh&^Oi&_Oj&`O~Oh+dOi+fOj+hOY#uqq#uq~O!i*rO~Oq!q!R!s!q!R~P!0yOg!q!c#i!q!cT!q!ct!q!cn!q!c!i!q!c!o!q!cr!q!c!p!q!c~PBaOh+cOi+eOj+gOq*vO~OT*bOh&^Oi&_Oj&`O~Og!q!k#i!q!kT!q!kt!q!kn!q!k!i!q!k!o!q!kr!q!k!p!q!k~PBaOq!q!Z!s!q!Z~P!0yOq!q!c!s!q!c~P!0yOg!q!s#i!q!sT!q!st!q!sn!q!s!i!q!s!o!q!sr!q!s!p!q!s~PBaOq!q!k!s!q!k~P!0yOq!q!s!s!q!s~P!0yOg+[Og$RX~P2bOS-sO!b-qO!f-rO!h/hO!k/kO!n/iO!r.cO!v.QO!x+PO!y,tO!z,tO!{.PO!|.PO!}.PO~P8oOg$RX~P#+oOq+]Os}O!s,vO!t,wO~Od!iOl!gO!d+^O#m!eO$O!fO~Ol!mOo+_O#n!lO~O!i+`O~Oq+aO!s,|O!t,}O~Oh+cOi+eOj+gOq+iO!s-PO!t-QO~Oq+iO!s-PO~P!0yOl!mOo+jO#n!lO~Ol!mOo+kO#n!lO~O!i+lO~O!p+mO~Oh+cOi+eOj+gOq+nO!s-VO!t-WO~Oq+nO!s-VO~P!0yO!i+oO~Oh+cOi+eOj+gOq+pO~Oq+pO!s-ZO~P!0yO!i+rO~O!i+sO~O!i+tO~O!i+uO~Oh+cOi+eOj+gOq+vO~Oq+vO!s-^O~P!0yO!i+wO~O!i+xO~Oh+cOi+eOj+gOq+yO~O!i+zO~O!i+{O~Oh+cOi+eOj+gOq+|O~O!Y,SO~Od!iOl!gO!d,lO#m!eO$O!fO~Ol!mOo,mO#n!lO~O!i,nO~O!i,oO~O!p,pO~O!i,qO~Ow,zO~P3sO!o,{O~Ow-OO~P3sOd!iOl!gOw-OO#m!eO$O!fO~Od!iOl!gOw-RO#m!eO$O!fO~Od!iOl!gOw-SO#m!eO$O!fO~Oh&^Oi&_Oj&`Ow-TO~Oh&^Oi&_Oj&`Ow-UO~Oh&^Oi&_Oj&`Ow-XO~Oh&^Oi&_Oj&`Ow-YO~Oh&^Oi&_Oj&`Ow-[O~Oh&^Oi&_Oj&`Ow-]O~Oq.ZOs}O!s.oO!t.pO~Oq.[O!s.qO!t.rO~Oh+cOi+eOj+gOq.]O!s.sO!t.tO~Oq.]O!s.sO~P!0yOh+cOi+eOj+gOq.^O!s.uO!t.vO~Oq.^O!s.uO~P!0yOh+cOi+eOj+gOq._O~Oq._O!s.wO~P!0yOh+cOi+eOj+gOq.`O~Oq.`O!s.xO~P!0yOh+cOi+eOj+gOq.aO~Oh+cOi+eOj+gOq.bO~Ow-tO~P3sO!o-uO~Ow-vO~P3sOd!iOl!gOw-vO#m!eO$O!fO~Og-yO~P3sOg-zO~P3sOg-{O~P3sOg-|O~P3sOd!iOg-{Ol!gO#m!eO$O!fO~Od!iOg-|Ol!gO#m!eO$O!fO~Od!iOg-}Ol!gO#m!eO$O!fO~Od!iOg.OOl!gO#m!eO$O!fO~O!{.TO#O.RO#P.SO#Q.TO#R.UO#S.VO#T.WO#U.XO#V.XO#W.YO~Og$Saq$Sa!s$Sa~P#HoOg!uaq!ua!s!ua~P#HoO#O.ROg$Siq$Si!s$Si!{$Si#Q$Si#R$Si#S$Si#T$Si#U$Si#V$Si#W$Si~O#P$Si~P#I{O#P.SO~P#I{O!{.TO#O.RO#P.SO#Q.TOg$Siq$Si!s$Si#S$Si#T$Si#U$Si#V$Si#W$Si~O#R$Si~P#KRO#R.UO~P#KRO!{.TO#O.RO#P.SO#Q.TO#R.UO#S.VO#T.WOg$Siq$Si!s$Si#V$Si#W$Si~O#U$Si~P#LXO#U.XO~P#LXO!{.TO#O.RO#P.SO#Q.TO#R.UO#S.VO#T.WO#U.XO#V.XO~Og$Siq$Si!s$Si#W$Si~P#M_Og!qiq!qi!s!qi~P#HoOg!qqq!qq!s!qq~P#HoOg!qyq!qy!s!qy~P#HoOg!q!Rq!q!R!s!q!R~P#HoOg!q!Zq!q!Z!s!q!Z~P#HoOg!q!cq!q!c!s!q!c~P#HoOg!q!kq!q!k!s!q!k~P#HoOg!q!sq!q!s!s!q!s~P#HoO!{i#SX~",goto:"!Ao$dPPPPPP$eP$jPPPPPPPPP%o'`P)bPPPPPPPPPPPPPPP$ePP$e*U+lPPPPPPP.|.|P2Z2y3YP.|PP3n3qPPP3zP3zP3zPP3zP3z3zPPP3zPPP3zP3zPPPPPPPPPPPPPPPP7P7V7^7h7z8Q9Y9h9z;l;r;x<O<U<dPPP<nPP<r<w<}?S@yBqBtFlGYGvHT%o%oHWIQPJOJOJxNs!&t3z!)y!-W!0c!3v!7X!:f!:i!=v!=y!>T!>_!Al.|VhOQj!U!nbg!p!|#V#W$m%Q%T&d,P,V,W,s,x,y-`-e-g-r.y.{.}/O/P/QQ#TmQ#UnS$_!m!{`$y#T#U$x$z$}%O&n&tR&l$v$]$S!`!d!z#P#Z#`$Q$R$k$q$|%P%V%Z%c%k&R&U&[&^&_&`&b&g&p&u&{'P'R'k't(P(W(Z(a(t)O)P)S)U)m)z){*`*e+Q+R+[+c+d+e+f+g+h+j+k,S,v,|-P-V-Z-^-y-z-{-|-}.O.o.q.s.u.w.x$[$S!`!d!z#P#Z#`$Q$R$k$q$|%P%V%Z%c%k&R&U&[&^&_&`&b&g&p&u&{'P'R'k't(P(W(Z(a(t)O)P)S)U)m)z){*`*e+Q+R+[+c+d+e+f+g+h+j+k,S,v,|-P-V-Z-^-y-z-{-|-}.O.o.q.s.u.w.xQ${#TS&o$x$zS(V&n&sQ)b(YR*S)ad|V!U!W#k#m#s%q%u'a'dQ#j!PS$[!i$]Q%x#wQ%|$OQ'g%yQ'j%{R'm%}UgOQj!r!fag|!g!h!{!|!}#V#W#g#j$o%Q%R%T%U%m&w&z,O,r-_-e-g-h-i-j-q.y.{.|.}/O/P/Q/R/S/T/UQ#VoQ#WpQ#h}Q-e-wQ.y/hQ.}/jR/O/k'fZOQTY`ejlqstxz!c!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%`%b%d%e%i&W&f&x'O'Q'U'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+P+S+T+U+V+W+X+Y+Z+]+^+_+`+a+b+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/iR!XV'gZOQTY`ejlqstxz!c!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%`%b%d%e%i&W&f&x'O'Q'U'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+P+S+T+U+V+W+X+Y+Z+]+^+_+`+a+b+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/iQ!SVQ#p!UQ#v!WQ%n#kQ%p#mQ%v#sQ'c%qQ'e%uQ(w'aR(x'dQ!SVQ#p!UQ#v!WQ%v#sR'e%uQ!RVQ#]rQ#o!UU#u!W#s%uQ,R+}R.d.cR![[Q#z!]Q#|!_R$U!a'VcOQTYejlqsxz!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%b%d%i&W&f&x'O'Q'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+S+T+U+V+W+X+Y+Z+]+^+_+`+a+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/iQQORvQSjOQR#QjQ$x#TQ$}#UT&m$x$}Q$z#TQ%O#UQ&n$xW&q$z%O&n&tR&t$}Q%}$OR'n%}Q!pbQ!|gj$`!p!|%Q%T&d,P,V,W-`-g.{/P/QQ%Q#VQ%T#WQ&d$mQ,P,sQ,V,xQ,W,yQ-`-rQ-g-eQ.{.yQ/P.}R/Q/OQ&b$kQ'R%ZU(O&b'R)UR)U'tQ&T$TQ&c$lQ'S%[W'v&T&c'S)VR)V'uQ!haQ!}gQ#g|v$Z!h!}#g$o%R%U%m&w&z,O-_-h-i-j.|/R/S/T/UQ$o!|Q%R#VQ%U#WQ%m#jQ&w%QQ&z%TQ,O,rQ-_-qQ-h-eQ-i-gQ-j.{Q.|.yQ/R.}Q/S/OQ/T/PR/U/QQ$]!iR&X$]QxTR#dxQ!UVR#r!UQ%y#wR'h%yQ!^]U#{!^'T(rQ'T%]R(r'XQ!c`S$V!c'UR'U%`TPOQViOQjX$w#T#U$x$}S$U!`+QS$W!d+R!b$k!z#P$Q$R$q%P%V%k&U&[&^&_&`&g&u&{'k(P(Z(a)O)P)S)z){*e-y-z-{-|-}.O!O%Z#Z%c'P(t)m*`+[+c+e+g+j,v,|-P-V-Z-^.o.q.s.u.w.xQ%e#`[&a$k%Z&b'R't)UQ&s$|Y't&R+d+f+h+kQ(Y&pQ)a(WR+b,SS$T!`!d!p$l!z#P#`$Q$R$k$q$|%P%V%k&U&[&^&_&`&b&g&p&u&{'k(P(W(Z(a)O)P)S)z){*e,S-y-z-{-|-}.O!W%[#Z%Z%c'P'R(t)m*`+Q+R+[+c+e+g+j,v,|-P-V-Z-^.o.q.s.u.w.x_'u&R't)U+d+f+h+k$k$P!`!d!z#P#T#Z#`$Q$R$k$q$x$z$|%P%V%Z%c%k&R&U&[&^&_&`&b&g&n&p&s&u&{'P'R'k't(P(W(Y(Z(a(t)O)P)S)U)a)m)z){*`*e+Q+R+[+c+d+e+f+g+h+j+k,S,v,|-P-V-Z-^-y-z-{-|-}.O.o.q.s.u.w.xR&O$OQ$j!zQ$s#PQ%Y#ZQ&P$QQ&Q$RQ&i$qQ&v%PQ&|%VQ'Z%cQ'_%kQ'r&RQ'w&UQ'z&[Q'{&^Q'|&_U'}&`+g+hQ(R&gQ([&uQ(b&{Q(e+cQ(f+eQ(h'PQ(}'kQ)X+[Q)[(PQ)c(ZQ)h(aQ)n+jQ)r(tQ)x)OQ)y)PQ)})SQ*O+dQ*P+fQ*])mQ*c)zQ*d){Q*f+kQ*p*`Q*q*eQ,T,vQ,Z,|Q,^-PQ,d-VQ,h-ZQ,k-^Q-k-yQ-l-zQ-m-{Q-n-|Q-o-}Q-p.OQ.e.oQ.g.qQ.i.sQ.k.uQ.m.wR.n.x!V!obg!p!|#V#W$m%Q%T&d,P,V,W,s,x,y-`-e-g-r.y.{.}/O/P/Q!V!nbg!p!|#V#W$m%Q%T&d,P,V,W,s,x,y-`-e-g-r.y.{.}/O/P/Q`&S$T$l%[&T&c'S'u)VR&e$nR's&R!o!kag|!h!|!}#V#W#g#j$o%Q%R%T%U%m&w&z,O,r-_-e-g-h-i-j-q.y.{.|.}/O/P/Q/R/S/T/U!n!jag|!h!|!}#V#W#g#j$o%Q%R%T%U%m&w&z,O,r-_-e-g-h-i-j-q.y.{.|.}/O/P/Q/R/S/T/UT$X!g!{!o!jag|!h!|!}#V#W#g#j$o%Q%R%T%U%m&w&z,O,r-_-e-g-h-i-j-q.y.{.|.}/O/P/Q/R/S/T/UUkOQjQwTQ!YYS#SlzQ#XqQ#cxQ$r#OQ%h#fU&V$Y+^,lU&]$a+_,mQ&h$pU&k$u+`,nQ&y%SQ&}%WQ'^%iQ'x&WQ(Q&fQ(_&xQ(y'fQ)_(TQ)e(^U)g(`+l,oQ)j(cU)k(d+m,pQ)u(zQ*Q)^U*W)f+o,qQ*Y)iQ*a)vU*i*V+r+sQ*j*XU*l*Z+t+uU*s*k+w+xU*w*r+z+{Q,Q,uQ,X,zQ,Y,{Q,]-OQ,`-RQ,a-SQ,b-TQ,c-UQ,f-XQ,g-YQ,i-[Q,j-]Q-a-sQ-b-tQ-c-uQ-d-vQ-f-xR.z/i!|fOQTYjlqxz#O#f$p%S%W%i&W&f&x'f(T(^(c(z)^)i)v*X,u,z,{-O-R-S-T-U-X-Y-[-]-s-t-u-v-x/iQ!qeQ#^sU$b!r+S.RQ$c!sQ$d!tQ$e!uQ$f!vQ$g!wQ$h!xQ$i!yQ%X#YQ%a#[Q'V*|Q'W+OQ'Y%bQ'[%dQ(g'OQ(i'QQ(j+TQ(k+UQ(l+VQ(m+WQ(n+XQ(o+YQ(p+ZQ(q+]d)o+^+_+`+l+m+o+r+t+w+zQ)p+aQ)q(sQ)s(uQ*[)lQ*^+iQ*n+nQ*o*_Q*t*mQ*u+pQ*x+vQ*y*vQ*z+yQ*{+|d*}$Y$a$u(`(d)f*V*Z*k*rd+q+s+u+x+{,l,m,n,o,p,qQ,U,wQ,[,}Q,_-QQ,e-WQ.f.pQ.h.rQ.j.tQ.l.vQ/V.PQ/W.QQ/X.SQ/Y.TQ/Z.UQ/[.VQ/].WQ/^.XQ/_.YQ/`.ZQ/a.[Q/b.]Q/c.^Q/d._Q/e.`Q/f.aR/g.b'VdOQTYejlqsxz!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%b%d%i&W&f&x'O'Q'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+S+T+U+V+W+X+Y+Z+]+^+_+`+a+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/i$W`OQTYejlqsxz!r!s!t!u!v!w!x!y#O#Y#f$Y$a$p$u%S%W%b%i&W&f&x'O'f(T(^(`(c(d(s(z)^)f)i)l)v*V*X*Z*_*k*m*r*v,u,z,{-O-R-S-T-U-X-Y-[-]-s-t-u-v-x/iW!b`!c%`'U#}%`#[%d'Q(u*|+O+S+T+U+V+W+X+Y+Z+]+^+_+`+a+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,w,}-Q-W.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v$[_OQTY`ejlqsxz!c!r!s!t!u!v!w!x!y#O#Y#f$Y$a$p$u%S%W%b%i&W&f&x'O'f(T(^(`(c(d(s(z)^)f)i)l)v*V*X*Z*_*k*m*r*v,u,z,{-O-R-S-T-U-X-Y-[-]-s-t-u-v-x/i$R%_#[%`%d'Q'U(u*|+O+S+T+U+V+W+X+Y+Z+]+^+_+`+a+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,w,}-Q-W.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v$[^OQTY`ejlqsxz!c!r!s!t!u!v!w!x!y#O#Y#f$Y$a$p$u%S%W%b%i&W&f&x'O'f(T(^(`(c(d(s(z)^)f)i)l)v*V*X*Z*_*k*m*r*v,u,z,{-O-R-S-T-U-X-Y-[-]-s-t-u-v-x/iS#_t+P$Q%^#[%`%d'Q'U(u*|+O+S+T+U+V+W+X+Y+Z+]+^+_+`+a+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,w,}-Q-W.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.vT']%e+b$`]OQTY`ejlqstxz!c!r!s!t!u!v!w!x!y#O#Y#f$Y$a$p$u%S%W%b%e%i&W&f&x'O'f(T(^(`(c(d(s(z)^)f)i)l)v*V*X*Z*_*k*m*r*v,u,z,{-O-R-S-T-U-X-Y-[-]-s-t-u-v-x/i$Q%]#[%`%d'Q'U(u*|+O+S+T+U+V+W+X+Y+Z+]+^+_+`+a+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,w,}-Q-W.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.vT'X+P+b'gUOQTY`ejlqstxz!c!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%`%b%d%e%i&W&f&x'O'Q'U'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+P+S+T+U+V+W+X+Y+Z+]+^+_+`+a+b+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/iRyT'gWOQTY`ejlqstxz!c!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%`%b%d%e%i&W&f&x'O'Q'U'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+P+S+T+U+V+W+X+Y+Z+]+^+_+`+a+b+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/iR!VVa!OVr!U!W#s%u+}.cY!QV!U!W#s%uR%o#l'gXOQTY`ejlqstxz!c!r!s!t!u!v!w!x!y#O#Y#[#f$Y$a$p$u%S%W%`%b%d%e%i&W&f&x'O'Q'U'f(T(^(`(c(d(s(u(z)^)f)i)l)v*V*X*Z*_*k*m*r*v*|+O+P+S+T+U+V+W+X+Y+Z+]+^+_+`+a+b+i+l+m+n+o+p+r+s+t+u+v+w+x+y+z+{+|,l,m,n,o,p,q,u,w,z,{,}-O-Q-R-S-T-U-W-X-Y-[-]-s-t-u-v-x.P.Q.R.S.T.U.V.W.X.Y.Z.[.].^._.`.a.b.p.r.t.v/iR%z#w",nodeNames:"⚠ LineComment BlockComment Program open ; Interface interface TypeNameDecl < > extends Int Double String Bool Top Bot TypeName RecordType { LabelDecl ? : TypeOp TypeOp TypeOp forall ( * ) . Trait TraitArrow } [ ] TypeDef type = TermDef TermNameDecl TermName Number String Document Unit true false undefined Array Record override RecordField MethodPattern SelfAnno @ RecordUpdate with $ CtorName Label <- \\\\ \\ Lambda -> BigLambda /\\ Let let in LetRec letrec Open IfElse if then else Trait trait implements inherits New new ToString toString fold unfold ArithOp LogicOp LengthOp IndexOp ArithOp ArithOp AppendOp CompareOp LogicOp LogicOp ForwardOp MergeOp ..",maxTerm:157,skippedNodes:[0,1,2],repeatNodeCount:15,tokenData:"0c~R|X^#{pq#{qr$prs%Vst%ytu&Ouv&Tvw&Yxy&gyz&tz{&y{|'Q|}'g}!O'r!O!P(a!P!Q(n!Q!R({!R![*j![!]+u!]!^+z!^!_,P!_!`,c!`!a,s!a!b,}!b!c-S!c!}-X!}#O-m#O#P-r#P#Q.U#Q#R.Z#R#S.`#S#T.e#T#o.v#o#p/[#p#q0R#q#r0^#y#z#{$f$g#{#BY#BZ#{$IS$I_#{$I|$JO#{$JT$JU#{$KV$KW#{&FU&FV#{~$QY#k~X^#{pq#{#y#z#{$f$g#{#BY#BZ#{$IS$I_#{$I|$JO#{$JT$JU#{$KV$KW#{&FU&FV#{k$uQ!|Pqr${!_!`%Qj%QO#Ojj%VO#Sj~%[U|~OY%VZr%Vrs%ns#O%V#O#P%s#P~%V~%sO|~~%vPO~%V~&OO!}~~&TO!]~j&YO#Pj~&_Pj~vw&b~&gO#T~~&lPl~yz&o~&tO!O~~&yOn~k'QOmP#Pj~'VQ#Q~{|']|}'b~'bO#R~~'gO#W~~'lQ#W~{|'b|}'b~'wQ!{k}!O'}!`!a(Y~(SQP~OY'}Z~'}}(aO!dShyo(fPok!O!P(iS(nO#XSk(sP#Pj#O#P(vP({O!fP~)QW{~!O!P)j!Q![*j!g!h*O!q!r*{!z!{+Z#X#Y*O#c#d*{#l#m+Z~)mP!Q![)p~)uR{~!Q![)p!g!h*O#X#Y*O~*RR{|*[}!O*[!Q![*b~*_P!Q![*b~*gP{~!Q![*b~*oS{~!O!P)j!Q![*j!g!h*O#X#Y*O~+OP!Q!Y+R~+WP{~!Q!Y+R~+^R!Q![+g!c!i+g#T#Z+g~+lR{~!Q![+g!c!i+g#T#Z+g~+zOg~~,POT~!a,WQ#SjX{}!O,^!_!`%QS,cO!`S!a,hQwR!_!`%Q!`!a,n!^,sOq!^!],zPYq#Sj!_!`%Q~-SOf~~-XO!Y~~-^T#n~wx-X!Q![-X!c!}-X#R#S-X#T#o-X~-rOs~~-yQiy!b~}!O'b#O#P.Pb.UO!ab~.ZOt~~.`O#V~~.eO$O~~.hRO#S.e#S#T.q#T~.e~.vO}~~.{T#m~wx.v!Q![.v!c!}.v#R#S.v#T#o.v~/aPd~}!O/d~/gRO}/d}!O/p!O~/d~/sRO#q/d#q#r/|#r~/d~0ROQ~~0UP#p#q0X~0^O#U~~0cOr~",tokenizers:[0,1,2,3,4,5],topRules:{Program:[0,3]},specialized:[{term:121,get:t=>fv[t]||-1},{term:122,get:t=>vv[t]||-1}],tokenPrec:6420});var gv={compose:function(t){return function(e){return function(n){return t(e(n))}}}},pv=function(t){return t.compose},mv=function(t){return t.identity},Rv={identity:function(t){return t},Semigroupoid0:function(){return gv}},Ov=function(t){return function(e){return function(n){return t(n)(e)}}},wv=function(t){return function(e){return t}};const xv=void 0;var yv=function(t){return t.map},bv=function(t){var e=yv(t);return function(t){return function(n){return e(n)(t)}}},Cv=function(t){return yv(t)(wv(xv))},Sv=function(t){var e=yv(t);return function(t){return function(n){return e(wv(n))(t)}}},Tv={map:pv(gv)},kv={map:function(t){return function(e){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t(e[i]);return r}}},Av=function(t){var e=yv(t);return function(t){return function(n){return e((function(t){return t(n)}))(t)}}},Pv=mv(Rv),Ev=function(t){return t.apply},_v=function(t){var e=Ev(t),n=yv(t.Functor0());return function(t){return function(r){return e(n(wv(Pv))(t))(r)}}},Lv=function(t){var e=Ev(t),n=yv(t.Functor0());return function(t){return function(r){return function(i){return e(n(t)(r))(i)}}}},Dv=function(t){return t.pure},Iv=function(t){var e=Ev(t.Apply0()),n=Dv(t);return function(t){return function(r){return e(n(t))(r)}}};var Nv=function(t){return t.discard},Qv=function(t){return t.bind},Mv=function(t){return Ov(Qv(t))},Bv=function(t){var e=Mv(t);return function(t){return function(n){return function(r){return e(t)(n(r))}}}},Fv=function(t){var e=Qv(t);return function(t){return function(n){return function(r){return e(t(r))(n)}}}},qv={discard:function(t){return Qv(t)}},$v=function(t){var e=Qv(t.Bind1()),n=Dv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return e(r)((function(e){return n(t(e))}))}))}}};var Uv={append:function(t){return function(e){return t+e}}},Xv={append:function(t){return function(e){return 0===t.length?e:0===e.length?t:t.concat(e)}}},Hv=function(t){return t.append},Vv=function(t){return t.alt};const Wv=String.fromCharCode(65535),zv=String.fromCharCode(0);Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;var Gv=function(t){return function(e){return function(n){return function(r){return function(i){return r<i?t:r===i?e:n}}}}};const jv=Gv,Yv=Gv,Zv=Gv;var Kv=function(t){return function(e){return t===e}};var Jv={eq:Kv},td={eq:Kv},ed={eq:Kv},nd={eq:Kv},rd=function(t){return t.eq1},id=function(t){return t.eq},sd=id(nd),od=function(t){var e=id(t);return function(t){return function(n){return sd(e(t)(n))(!1)}}},ld=function(){function t(){}return t.value=new t,t}(),ad=function(){function t(){}return t.value=new t,t}(),ud=function(){function t(){}return t.value=new t,t}(),cd={eq:function(t){return function(e){return t instanceof ld&&e instanceof ld||(t instanceof ad&&e instanceof ad||t instanceof ud&&e instanceof ud)}}};var hd={add:function(t){return function(e){return t+e|0}},zero:0,mul:function(t){return function(e){return t*e|0}},one:1},fd={sub:function(t){return function(e){return t-e|0}},Semiring0:function(){return hd}},vd=function(){return{compare:Yv(ld.value)(ud.value)(ad.value),Eq0:function(){return Jv}}}(),dd=function(){return{compare:jv(ld.value)(ud.value)(ad.value),Eq0:function(){return td}}}(),gd=function(){return{compare:Zv(ld.value)(ud.value)(ad.value),Eq0:function(){return ed}}}(),pd=function(t){return t.compare},md=function(t){return t.top},Rd={top:2147483647,bottom:-2147483648,Ord0:function(){return dd}},Od={top:Wv,bottom:zv,Ord0:function(){return gd}},wd=function(t){return t.bottom};var xd={show:function(t){var e=t.length;return'"'+t.replace(/[\0-\x1F\x7F"\\]/g,(function(n,r){switch(n){case'"':case"\\":return"\\"+n;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=r+1,s=i<e&&t[i]>="0"&&t[i]<="9"?"\\&":"";return"\\"+n.charCodeAt(0).toString(10)+s}))+'"'}},yd={show:function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"}},bd={show:function(t){return t.toString()}},Cd={show:function(t){if(t)return"true";if(!t)return"false";throw new Error("Failed pattern match at Data.Show (line 23, column 1 - line 25, column 23): "+[t.constructor.name])}},Sd=function(t){return t.show},Td=mv(Rv),kd=function(){function t(){}return t.value=new t,t}(),Ad=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Pd=function(t){var e=Sd(t);return{show:function(t){if(t instanceof Ad)return"(Just "+e(t.value0)+")";if(t instanceof kd)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}},Ed=function(t){return function(e){return function(n){if(n instanceof kd)return t;if(n instanceof Ad)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},_d=Ed(!0)(wv(!1)),Ld=Ed(!1)(wv(!0)),Dd={map:function(t){return function(e){return e instanceof Ad?new Ad(t(e.value0)):kd.value}}},Id=yv(Dd),Nd=function(t){return Ed(t)(Td)},Qd=function(t){var e=id(t);return{eq:function(t){return function(n){return t instanceof kd&&n instanceof kd||t instanceof Ad&&n instanceof Ad&&e(t.value0)(n.value0)}}}},Md={apply:function(t){return function(e){if(t instanceof Ad)return Id(t.value0)(e);if(t instanceof kd)return kd.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,e.constructor.name])}},Functor0:function(){return Dd}},Bd={bind:function(t){return function(e){if(t instanceof Ad)return e(t.value0);if(t instanceof kd)return kd.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,e.constructor.name])}},Apply0:function(){return Md}},Fd={alt:function(t){return function(e){return t instanceof kd?e:t}},Functor0:function(){return Dd}},qd=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),$d=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Ud={map:function(t){return function(e){if(e instanceof qd)return new qd(e.value0);if(e instanceof $d)return new $d(t(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},Xd=function(t){return function(e){return function(n){if(n instanceof qd)return t(n.value0);if(n instanceof $d)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var Hd={Ring0:function(){return fd}},Vd=function(t){return t.mod},Wd={degree:function(t){return Math.min(Math.abs(t),2147483647)},div:function(t){return function(e){return 0===e?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},mod:function(t){return function(e){if(0===e)return 0;var n=Math.abs(e);return(t%n+n)%n}},CommutativeRing0:function(){return Hd}},zd=function(t){return t.div},Gd={mempty:"",Semigroup0:function(){return Uv}},jd=function(t){return t.mempty},Yd=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},Zd={Applicative0:function(){return Jd},Bind1:function(){return Kd}},Kd={bind:function(t){return function(e){return function(){return e(t())()}}},Apply0:function(){return eg(0)}},Jd={pure:function(t){return function(){return t}},Apply0:function(){return eg(0)}},tg=Yd("functorEffect","Effect",(function(){return{map:Iv(Jd)}})),eg=Yd("applyEffect","Effect",(function(){return{apply:$v(Zd),Functor0:function(){return tg(0)}}}));function ng(t){return function(){throw t}}var rg=function(t){return ng(new Error(t))},ig=function(t){return t.throwError},sg=function(t){return t.local},og=function(t){return t.ask},lg=function(t){var e=yv(t.Monad0().Bind1().Apply0().Functor0()),n=og(t);return function(t){return e(t)(n)}},ag=function(t){return t},ug={map:function(t){return function(e){return t(e)}}},cg={apply:function(t){return function(e){return t(e)}},Functor0:function(){return ug}},hg={bind:function(t){return function(e){return e(t)}},Apply0:function(){return cg}},fg={pure:ag,Apply0:function(){return cg}},vg={Applicative0:function(){return fg},Bind1:function(){return hg}};var dg=function(t){return t.not},gg=function(t){return t.ff},pg=function(t){return t.disj},mg={ff:!1,tt:!0,implies:function(t){return function(e){return pg(mg)(dg(mg)(t))(e)}},conj:function(t){return function(e){return t&&e}},disj:function(t){return function(e){return t||e}},not:function(t){return!t}},Rg=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Og=function(t){return function(e){return t(e.value0)(e.value1)}},wg=function(t){return t.value1},xg=function(t){return t.value0},yg=function(t){var e=id(t);return function(t){var n=id(t);return{eq:function(t){return function(r){return e(t.value0)(r.value0)&&n(t.value1)(r.value1)}}}}},bg=function(t){return t.state},Cg=function(t){var e=bg(t);return function(t){return e((function(e){return new Rg(xv,t(e))}))}},Sg=function(t){var e=bg(t);return function(t){return e((function(e){return new Rg(t(e),e)}))}},Tg=function(t){return t.tell},kg=yv(Ud),Ag=function(t){return function(e){return t(e)}},Pg=function(t){var e=yv(t);return{map:function(t){return Ag(e(kg(t)))}}},Eg=function(t){return{Applicative0:function(){return Dg(t)},Bind1:function(){return _g(t)}}},_g=function(t){var e=Qv(t.Bind1()),n=Dv(t.Applicative0());return{bind:function(t){return function(r){return e(t)(Xd((function(t){return n(qd.create(t))}))((function(t){return r(t)})))}},Apply0:function(){return Lg(t)}}},Lg=function(t){var e=Pg(t.Bind1().Apply0().Functor0());return{apply:$v(Eg(t)),Functor0:function(){return e}}},Dg=function(t){return{pure:(e=Dv(t.Applicative0()),function(t){return e($d.create(t))}),Apply0:function(){return Lg(t)}};var e},Ig=function(t){var e,n=Eg(t);return{throwError:(e=Dv(t.Applicative0()),function(t){return e(qd.create(t))}),Monad0:function(){return n}}},Ng=function(t){var e=Hv(t);return function(t){var n=t.Bind1(),r=Qv(n),i=Dv(t.Applicative0()),s=Pg(n.Apply0().Functor0());return{alt:function(t){return function(n){return r(t)((function(t){if(t instanceof $d)return i(new $d(t.value0));if(t instanceof qd)return r(n)((function(n){if(n instanceof $d)return i(new $d(n.value0));if(n instanceof qd)return i(new qd(e(t.value0)(n.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[n.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[t.constructor.name])}))}},Functor0:function(){return s}}}},Qg=function(t){return t.lift},Mg=function(t){return t.empty};const Bg=function(t){return t};var Fg=function(){return Bg}(),qg=function(){return Fg},$g=function(){return function(){return function(){return function(){return function(t){return Fg}}}}},Ug=function(t){return function(e){return function(n){return e(t(n))}}},Xg=Qg({lift:function(t){return function(t){return wv(t)}}}),Hg=function(t){return function(e){return function(n){return t(e(n))}}},Vg=function(t){return{map:(e=yv(t),function(t){return Hg(e(t))})};var e},Wg=function(t){var e=Ev(t),n=Vg(t.Functor0());return{apply:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},zg=function(t){var e=Qv(t),n=Wg(t.Apply0());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t)(r)}))}}},Apply0:function(){return n}}},Gg=function(t){var e,n=Wg(t.Apply0());return{pure:(e=Dv(t),function(t){return wv(e(t))}),Apply0:function(){return n}}},jg=function(t){var e=Gg(t.Applicative0()),n=zg(t.Bind1());return{Applicative0:function(){return e},Bind1:function(){return n}}},Yg=function(t){var e=jg(t);return{ask:Dv(t.Applicative0()),Monad0:function(){return e}}},Zg=function(t){var e=Yg(t);return{local:Ug,MonadAsk0:function(){return e}}},Kg=function(t){var e,n,r=t.Monad0(),i=jg(r);return{throwError:(e=Xg(r),n=ig(t),function(t){return e(n(t))}),Monad0:function(){return i}}},Jg=function(t){var e=Vv(t),n=Vg(t.Functor0());return{alt:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},tp={lift:function(t){var e=Qv(t.Bind1()),n=Dv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return n(new Rg(t,r))}))}}}},ep=Qg(tp),np=function(t){var e=yv(t);return{map:function(t){return function(n){return function(r){return e((function(e){return new Rg(t(e.value0),e.value1)}))(n(r))}}}}},rp=function(t){return{Applicative0:function(){return op(t)},Bind1:function(){return ip(t)}}},ip=function(t){var e=Qv(t.Bind1());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t.value0)(t.value1)}))}}},Apply0:function(){return sp(t)}}},sp=function(t){var e=np(t.Bind1().Apply0().Functor0());return{apply:$v(rp(t)),Functor0:function(){return e}}},op=function(t){var e=Dv(t.Applicative0());return{pure:function(t){return function(n){return e(new Rg(t,n))}},Apply0:function(){return sp(t)}}},lp=function(t){var e=Dv(t.Applicative0()),n=rp(t);return{state:function(t){return function(n){return e(t(n))}},Monad0:function(){return n}}},ap=function(t){var e=t.Monad0(),n=ep(e),r=ig(t),i=rp(e);return{throwError:function(t){return n(r(t))},Monad0:function(){return i}}};Array.prototype.fill,function(){function t(t,e){this.head=t,this.tail=e}var e={};function n(e){return function(n){return new t(e,n)}}}();const up=function(t){return t.length},cp=(function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for(s+(o-s>>1)-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),s,l,s;a<l&&u<o;)i[a],i[u],n(e(h)(f))>0?(r[c++]=f):(r[c++]=h);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}(),function(t){return function(e){return t[e]}});function hp(t){return function(){return{value:t}}}const fp=function(t){return function(){return t.value}},vp=function(t){return function(e){return function(){return e.value=t}}};var dp=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},gp={map:function(t){return function(e){return function(){return t(e())}}}};const pp=function(t){return function(){return t}};!function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for(s+(o-s>>1)-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),s,l,s;a<l&&u<o;)i[a],i[u],n(e(h)(f))>0?(r[c++]=f):(r[c++]=h);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}();var mp=function(t){return e=[t],function(t){return function(){return t.push.apply(t,e)}};var e},Rp=yv(gp),Op=dg(mg),wp=Cv(gp),xp=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),yp=function(t){return function(){var e,n=fp(t.value1)();return(e=function(t){return t+1|0},dp((function(t){var n=e(t);return{state:n,value:n}})))(t.value1)(),t.value0(n)}};var bp=mv(Rv),Cp=function(t){return t.bimap},Sp=function(t){return Cp(t)(bp)},Tp={bimap:function(t){return function(e){return function(n){return new Rg(t(n.value0),e(n.value1))}}}},kp=function(t){return t},Ap=function(t){var e=function(t){var e=pg(t);return{append:function(t){return function(n){return e(t)(n)}}}}(t);return{mempty:gg(t),Semigroup0:function(){return e}}},Pp=function(t){var e=pv(t);return{append:function(t){return function(n){return e(t)(n)}}}},Ep=function(t){var e=Pp(t.Semigroupoid0());return{mempty:mv(t),Semigroup0:function(){return e}}},_p=$g()()()(),Lp=function(t){return t.foldr},Dp=function(t){var e=_v(t.Apply0()),n=Dv(t);return function(t){var r=Lp(t);return function(t){return r((function(n){return e(t(n))}))(n(xv))}}},Ip=function(t){return t.foldl},Np=function(t){var e=Ip(t);return function(t){var n=Hv(t.Semigroup0()),r=jd(t);return function(t){return function(i){return e((function(e){return function(r){return e.init?{init:!1,acc:r}:{init:!1,acc:n(e.acc)(n(t)(r))}}}))({init:!0,acc:r})(i).acc}}}},Qp={foldr:function(t){return function(e){return function(n){if(n instanceof kd)return e;if(n instanceof Ad)return t(n.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldl:function(t){return function(e){return function(n){if(n instanceof kd)return e;if(n instanceof Ad)return t(e)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldMap:function(t){var e=jd(t);return function(t){return function(n){if(n instanceof kd)return e;if(n instanceof Ad)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,n.constructor.name])}}}},Mp={foldr:function(t){return function(e){return function(n){for(var r=e,i=n.length-1;i>=0;i--)r=t(n[i])(r);return r}}},foldl:function(t){return function(e){return function(n){for(var r=e,i=n.length,s=0;s<i;s++)r=t(r)(n[s]);return r}}},foldMap:function(t){return function(t){var e=Lp(t);return function(t){var n=Hv(t.Semigroup0()),r=jd(t);return function(t){return e((function(e){return function(r){return n(t(e))(r)}}))(r)}}}(Mp)(t)}},Bp=function(t){return t.foldMap},Fp=function(t){var e=Bp(t);return function(t){return _p(kp)(e(Ap(t)))}};const qp=function(){function t(t){return[t]}function e(t){return function(e){return[t,e]}}function n(t){return function(e){return function(n){return[t,e,n]}}}function r(t){return function(e){return t.concat(e)}}return function(i){return function(s){return function(o){return function(l){return function(a){return function u(c,h){switch(h-c){case 0:return o([]);case 1:return s(t)(l(a[c]));case 2:return i(s(e)(l(a[c])))(l(a[c+1]));case 3:return i(i(s(n)(l(a[c])))(l(a[c+1])))(l(a[c+2]));default:var f=c+2*Math.floor((h-c)/4);return i(s(r)(u(c,f)))(u(f,h))}}(0,a.length)}}}}}}();var $p=mv(Rv),Up=function(t){return t.traverse},Xp={traverse:function(t){var e=Dv(t),n=yv(t.Apply0().Functor0());return function(t){return function(r){if(r instanceof kd)return e(kd.value);if(r instanceof Ad)return n(Ad.create)(t(r.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,r.constructor.name])}}},sequence:function(t){var e=Dv(t),n=yv(t.Apply0().Functor0());return function(t){if(t instanceof kd)return e(kd.value);if(t instanceof Ad)return n(Ad.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}},Functor0:function(){return Dd},Foldable1:function(){return Qp}},Hp=function(t){var e=Up(t);return function(t){return e(t)($p)}},Vp={traverse:function(t){var e=t.Apply0();return qp(Ev(e))(yv(e.Functor0()))(Dv(t))},sequence:function(t){return Hp(Vp)(t)},Functor0:function(){return kv},Foldable1:function(){return Mp}},Wp=function(t){return function(e){var n=Up(e)(t);return function(t){return function(e){return n(e)(t)}}}};var zp=Cv(gp),Gp=function(){return cp},jp=function(t){return 0===up(t)},Yp=function(){return(t=Ad.create,function(e){return function(n){return function(r){return r<0||r>=n.length?e:t(n[r])}}})(kd.value);var t}(),Zp=function(t){return function(){var e,n=[],r=[];!function(t){return function(e){return function(){for(var n=hp(!1)();Rp(Op)(fp(n))();)!function(){var r=yp(t)();if(r instanceof Ad)return e(r.value0)();if(r instanceof kd)return wp(vp(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[r.constructor.name])}();return{}}}}((e=function(e){return Yp(t)(e)},Rp(xp.create(e))(hp(0)))())((function(t){return function(){return zp(mp(t.value0)(n))(),zp(mp(t.value1)(r))()}}))();var i=pp(n)(),s=pp(r)();return new Rg(i,s)}()},Kp=function(t){return Yp(t)(0)},Jp=function(){return(t=Ad.create,function(e){return function(n){return function(r){for(var i=0,s=r.length;i<s;i++)if(n(r[i]))return t(i);return e}}})(kd.value);var t}(),tm=function(t){var e=id(t);return function(t){return Jp((function(n){return e(n)(t)}))}},em=function(t){var e=tm(t);return function(t){return function(n){return _d(e(t)(n))}}},nm=function(t){var e=tm(t);return function(t){return function(n){return Ld(e(t)(n))}}};var rm=function(t){return t.foldrWithIndex},im=function(t){return t.foldlWithIndex},sm=function(t){return t.foldMapWithIndex},om=mv(Rv),lm=function(){function t(){}return t.value=new t,t}(),am=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),um={map:function(t){var e;return e=lm.value,function(n){var r,i=e,s=!1;function o(e,r){return r instanceof am&&r.value1 instanceof am&&r.value1.value1 instanceof am?(i=new am(r,e),void(n=r.value1.value1.value1)):(s=!0,(l=e,function(e){for(var n,r,i,s=l,o=!1;!o;)i=e,n=(r=s)instanceof am&&r.value0 instanceof am&&r.value0.value1 instanceof am&&r.value0.value1.value1 instanceof am?(s=r.value1,void(e=new am(t(r.value0.value0),new am(t(r.value0.value1.value0),new am(t(r.value0.value1.value1.value0),i))))):(o=!0,i);return n})((o=r)instanceof am&&o.value1 instanceof am&&o.value1.value1 instanceof lm?new am(t(o.value0),new am(t(o.value1.value0),lm.value)):o instanceof am&&o.value1 instanceof lm?new am(t(o.value0),lm.value):lm.value));var o,l}for(;!s;)r=o(i,n);return r}}},cm={foldr:function(t){return function(e){var n,r=(n=lm.value,function(t){var e,r=n,i=!1;function s(e,n){if(n instanceof lm)return i=!0,e;if(n instanceof am)return r=new am(n.value0,e),void(t=n.value1);throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[e.constructor.name,n.constructor.name])}for(;!i;)e=s(r,t);return e}),i=Ip(cm)(Ov(t))(e);return function(t){return i(r(t))}}},foldl:function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof lm)return s=!0,e;if(r instanceof am)return i=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[r.constructor.name])}for(;!s;)r=o(i,n);return r}}},foldMap:function(t){var e=Hv(t.Semigroup0()),n=jd(t);return function(t){return Ip(cm)((function(n){var r=e(n);return function(e){return r(t(e))}}))(n)}}},hm=Ip(cm),fm=Lp(cm),vm={append:function(t){return function(e){return fm(am.create)(e)(t)}}},dm={traverse:function(t){var e=t.Apply0(),n=yv(e.Functor0()),r=Lv(e),i=Dv(t);return function(t){var e=n(hm(Ov(am.create))(lm.value)),s=hm((function(e){var n=r(Ov(am.create))(e);return function(e){return n(t(e))}}))(i(lm.value));return function(t){return e(s(t))}}},sequence:function(t){return Up(dm)(t)(om)},Functor0:function(){return um},Foldable1:function(){return cm}},gm={eq1:function(t){var e=id(t);return function(t){return function(n){var r;return(r=t,function(t){return function(n){for(var i,s,o,l,a=r,u=t,c=!1;!c;)s=a,o=u,i=(l=n)?s instanceof lm&&o instanceof lm?(c=!0,l):s instanceof am&&o instanceof am?(a=s.value1,u=o.value1,void(n=l&&e(o.value0)(s.value0))):(c=!0,!1):(c=!0,!1);return i}})(n)(!0)}}}},pm=rd(gm),mm=function(t){return{eq:pm(t)}};var Rm=qg(),Om=function(t){return Rm(t)},wm=id(cd),xm=od(cd),ym=function(t){return new am(t,lm.value)},bm=function(t){var e=function(n){return function(r){if(n instanceof am&&r instanceof am)return wm(t(n.value0)(r.value0))(ad.value)?new am(r.value0,e(n)(r.value1)):new am(n.value0,e(n.value1)(r));if(n instanceof lm)return r;if(r instanceof lm)return n;throw new Error("Failed pattern match at Data.List (line 466, column 3 - line 466, column 38): "+[n.constructor.name,r.constructor.name])}},n=function(t){return t instanceof am&&t.value1 instanceof am?new am(e(t.value0)(t.value1.value0),n(t.value1.value1)):t},r=function(e){return e instanceof am&&e.value1 instanceof am?wm(t(e.value0)(e.value1.value0))(ad.value)?i(e.value1.value0)(ym(e.value0))(e.value1.value1):s(e.value1.value0)((function(t){return new am(e.value0,t)}))(e.value1.value1):ym(e)},i=function(e){return function(n){return function(i){var s,o,l,a,u=e,c=n,h=!1;for(;!h;)o=u,l=c,s=(a=i)instanceof am&&wm(t(o)(a.value0))(ad.value)?(u=a.value0,c=new am(o,l),void(i=a.value1)):(h=!0,new am(new am(o,l),r(a)));return s}}},s=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof am&&xm(t(e)(s.value0))(ad.value)?(o=s.value0,l=function(t){return n(new am(e,t))},void(i=s.value1)):(a=!0,new am(n(ym(e)),r(s)))}for(;!a;)s=u(o,l,i);return s}}};return function(t){return function(t){var e,r=!1;function i(e){if(e instanceof am&&e.value1 instanceof lm)return r=!0,e.value0;t=n(e)}for(;!r;)e=i(t);return e}(r(t))}},Cm=function(t){var e=pd(t);return function(t){return bm(e)(t)}},Sm=function(){var t;return t=lm.value,function(e){var n,r=t,i=!1;function s(t,n){if(n instanceof lm)return i=!0,t;if(n instanceof am)return r=new am(n.value0,t),void(e=n.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=s(r,e);return n}}(),Tm=function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof lm)return s=!0,Sm(e);if(r instanceof am)return t(r.value0)?(i=new am(r.value0,e),void(n=r.value1)):(i=e,void(n=r.value1));throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[e.constructor.name,r.constructor.name])}for(;!s;)r=o(i,n);return r}}(lm.value)};const km=function(t){throw new Error(t)};var Am=function(){return km},Pm=Am(),Em=function(t){return t()},_m=function(t){return Em((function(){return Pm(t)}))},Lm=function(){function t(){}return t.value=new t,t}(),Dm=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),Im=function(){function t(t,e,n,r,i,s,o){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s,this.value6=o}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return function(l){return new t(e,n,r,i,s,o,l)}}}}}}},t}(),Nm=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Qm=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Mm=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),Bm=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),Fm=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),qm=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),$m=function(t){return function(e){return new Dm(Lm.value,t,e,Lm.value)}},Um=function(t){var e=pd(t);return function(t){return function(n){var r,i=!1;function s(r){if(r instanceof Lm)return i=!0,kd.value;if(r instanceof Dm){var s=e(t)(r.value1);return s instanceof ud?(i=!0,new Ad(r.value2)):s instanceof ld?void(n=r.value0):void(n=r.value3)}if(r instanceof Im){var o=e(t)(r.value1);if(o instanceof ud)return i=!0,new Ad(r.value2);var l=e(t)(r.value4);return l instanceof ud?(i=!0,new Ad(r.value5)):o instanceof ld?void(n=r.value0):l instanceof ad?void(n=r.value6):void(n=r.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 241, column 5 - line 241, column 22): "+[r.constructor.name])}for(;!i;)r=s(n);return r}}},Xm=function(t){return function(e){return function(n){var r,i=t,s=e,o=!1;function l(t,e,r){if(e instanceof lm)return o=!0,r;if(e instanceof am){if(e.value0 instanceof Nm)return i=t,s=e.value1,void(n=new Dm(r,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof Qm)return i=t,s=e.value1,void(n=new Dm(e.value0.value0,e.value0.value1,e.value0.value2,r));if(e.value0 instanceof Mm)return i=t,s=e.value1,void(n=new Im(r,e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof Bm)return i=t,s=e.value1,void(n=new Im(e.value0.value0,e.value0.value1,e.value0.value2,r,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof Fm)return i=t,s=e.value1,void(n=new Im(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5,r));throw new Error("Failed pattern match at Data.Map.Internal (line 462, column 3 - line 467, column 88): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 1 - line 459, column 80): "+[e.constructor.name,r.constructor.name])}for(;!o;)r=l(i,s,n);return r}}},Hm=function(t){var e=Xm(t),n=pd(t);return function(t){return function(r){var i;return i=lm.value,function(s){var o,l=i,a=!1;function u(i,o){if(o instanceof Lm)return a=!0,function(t){return function(n){var r,i=t,s=!1;function o(t,r){if(t instanceof lm)return s=!0,new Dm(r.value0,r.value1,r.value2,r.value3);if(t instanceof am){if(t.value0 instanceof Nm)return s=!0,e(t.value1)(new Im(r.value0,r.value1,r.value2,r.value3,t.value0.value0,t.value0.value1,t.value0.value2));if(t.value0 instanceof Qm)return s=!0,e(t.value1)(new Im(t.value0.value0,t.value0.value1,t.value0.value2,r.value0,r.value1,r.value2,r.value3));if(t.value0 instanceof Mm)return i=t.value1,void(n=new qm(new Dm(r.value0,r.value1,r.value2,r.value3),t.value0.value0,t.value0.value1,new Dm(t.value0.value2,t.value0.value3,t.value0.value4,t.value0.value5)));if(t.value0 instanceof Bm)return i=t.value1,void(n=new qm(new Dm(t.value0.value0,t.value0.value1,t.value0.value2,r.value0),r.value1,r.value2,new Dm(r.value3,t.value0.value3,t.value0.value4,t.value0.value5)));if(t.value0 instanceof Fm)return i=t.value1,void(n=new qm(new Dm(t.value0.value0,t.value0.value1,t.value0.value2,t.value0.value3),t.value0.value4,t.value0.value5,new Dm(r.value0,r.value1,r.value2,r.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 5 - line 503, column 108): "+[t.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 3 - line 495, column 56): "+[t.constructor.name,r.constructor.name])}for(;!s;)r=o(i,n);return r}}(i)(new qm(Lm.value,t,r,Lm.value));if(o instanceof Dm){var u=n(t)(o.value1);return u instanceof ud?(a=!0,e(i)(new Dm(o.value0,t,r,o.value3))):u instanceof ld?(l=new am(new Nm(o.value1,o.value2,o.value3),i),void(s=o.value0)):(l=new am(new Qm(o.value0,o.value1,o.value2),i),void(s=o.value3))}if(o instanceof Im){var c=n(t)(o.value1);if(c instanceof ud)return a=!0,e(i)(new Im(o.value0,t,r,o.value3,o.value4,o.value5,o.value6));var h=n(t)(o.value4);return h instanceof ud?(a=!0,e(i)(new Im(o.value0,o.value1,o.value2,o.value3,t,r,o.value6))):c instanceof ld?(l=new am(new Mm(o.value1,o.value2,o.value3,o.value4,o.value5,o.value6),i),void(s=o.value0)):c instanceof ad&&h instanceof ld?(l=new am(new Bm(o.value0,o.value1,o.value2,o.value4,o.value5,o.value6),i),void(s=o.value3)):(l=new am(new Fm(o.value0,o.value1,o.value2,o.value3,o.value4,o.value5),i),void(s=o.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 478, column 3 - line 478, column 55): "+[i.constructor.name,o.constructor.name])}for(;!a;)o=u(l,s);return o}}}},Vm={foldr:function(t){return function(e){return function(n){if(n instanceof Lm)return e;if(n instanceof Dm)return Lp(Vm)(t)(t(n.value2)(Lp(Vm)(t)(e)(n.value3)))(n.value0);if(n instanceof Im)return Lp(Vm)(t)(t(n.value2)(Lp(Vm)(t)(t(n.value5)(Lp(Vm)(t)(e)(n.value6)))(n.value3)))(n.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 133, column 17 - line 136, column 85): "+[n.constructor.name])}}},foldl:function(t){return function(e){return function(n){if(n instanceof Lm)return e;if(n instanceof Dm)return Ip(Vm)(t)(t(Ip(Vm)(t)(e)(n.value0))(n.value2))(n.value3);if(n instanceof Im)return Ip(Vm)(t)(t(Ip(Vm)(t)(t(Ip(Vm)(t)(e)(n.value0))(n.value2))(n.value3))(n.value5))(n.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 137, column 17 - line 140, column 85): "+[n.constructor.name])}}},foldMap:function(t){var e=jd(t),n=Hv(t.Semigroup0());return function(r){return function(i){if(i instanceof Lm)return e;if(i instanceof Dm)return n(Bp(Vm)(t)(r)(i.value0))(n(r(i.value2))(Bp(Vm)(t)(r)(i.value3)));if(i instanceof Im)return n(Bp(Vm)(t)(r)(i.value0))(n(r(i.value2))(n(Bp(Vm)(t)(r)(i.value3))(n(r(i.value5))(Bp(Vm)(t)(r)(i.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 141, column 17 - line 144, column 93): "+[i.constructor.name])}}}},Wm={foldrWithIndex:function(t){return function(e){return function(n){if(n instanceof Lm)return e;if(n instanceof Dm)return rm(Wm)(t)(t(n.value1)(n.value2)(rm(Wm)(t)(e)(n.value3)))(n.value0);if(n instanceof Im)return rm(Wm)(t)(t(n.value1)(n.value2)(rm(Wm)(t)(t(n.value4)(n.value5)(rm(Wm)(t)(e)(n.value6)))(n.value3)))(n.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 26 - line 150, column 120): "+[n.constructor.name])}}},foldlWithIndex:function(t){return function(e){return function(n){if(n instanceof Lm)return e;if(n instanceof Dm)return im(Wm)(t)(t(n.value1)(im(Wm)(t)(e)(n.value0))(n.value2))(n.value3);if(n instanceof Im)return im(Wm)(t)(t(n.value4)(im(Wm)(t)(t(n.value1)(im(Wm)(t)(e)(n.value0))(n.value2))(n.value3))(n.value5))(n.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 151, column 26 - line 154, column 120): "+[n.constructor.name])}}},foldMapWithIndex:function(t){var e=jd(t),n=Hv(t.Semigroup0());return function(r){return function(i){if(i instanceof Lm)return e;if(i instanceof Dm)return n(sm(Wm)(t)(r)(i.value0))(n(r(i.value1)(i.value2))(sm(Wm)(t)(r)(i.value3)));if(i instanceof Im)return n(sm(Wm)(t)(r)(i.value0))(n(r(i.value1)(i.value2))(n(sm(Wm)(t)(r)(i.value3))(n(r(i.value4)(i.value5))(sm(Wm)(t)(r)(i.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 155, column 26 - line 158, column 128): "+[i.constructor.name])}}},Foldable0:function(){return Vm}},zm=rm(Wm),Gm=im(Wm),jm=function(){return zm((function(t){return function(e){return function(e){return new am(t,e)}}}))(lm.value)}(),Ym=function(){return Lm.value}(),Zm=function(t){var e=Hm(t);return function(t){return Ip(t)((function(t){return function(n){return e(n.value0)(n.value1)(t)}}))(Ym)}},Km=function(t){var e=function(t){var e=Xm(t),n=pd(t);return function(t){var r,i=function(t){return function(n){var r,i=t,s=!1;function o(t,r){if(t instanceof lm)return s=!0,r;if(t instanceof am)return t.value0 instanceof Nm&&t.value0.value2 instanceof Lm&&r instanceof Lm?(s=!0,e(t.value1)(new Dm(Lm.value,t.value0.value0,t.value0.value1,Lm.value))):t.value0 instanceof Qm&&t.value0.value0 instanceof Lm&&r instanceof Lm?(s=!0,e(t.value1)(new Dm(Lm.value,t.value0.value1,t.value0.value2,Lm.value))):t.value0 instanceof Nm&&t.value0.value2 instanceof Dm?(i=t.value1,void(n=new Im(r,t.value0.value0,t.value0.value1,t.value0.value2.value0,t.value0.value2.value1,t.value0.value2.value2,t.value0.value2.value3))):t.value0 instanceof Qm&&t.value0.value0 instanceof Dm?(i=t.value1,void(n=new Im(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3,t.value0.value1,t.value0.value2,r))):t.value0 instanceof Nm&&t.value0.value2 instanceof Im?(s=!0,e(t.value1)(new Dm(new Dm(r,t.value0.value0,t.value0.value1,t.value0.value2.value0),t.value0.value2.value1,t.value0.value2.value2,new Dm(t.value0.value2.value3,t.value0.value2.value4,t.value0.value2.value5,t.value0.value2.value6)))):t.value0 instanceof Qm&&t.value0.value0 instanceof Im?(s=!0,e(t.value1)(new Dm(new Dm(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3),t.value0.value0.value4,t.value0.value0.value5,new Dm(t.value0.value0.value6,t.value0.value1,t.value0.value2,r)))):t.value0 instanceof Mm&&t.value0.value2 instanceof Lm&&t.value0.value5 instanceof Lm&&r instanceof Lm?(s=!0,e(t.value1)(new Im(Lm.value,t.value0.value0,t.value0.value1,Lm.value,t.value0.value3,t.value0.value4,Lm.value))):t.value0 instanceof Bm&&t.value0.value0 instanceof Lm&&t.value0.value5 instanceof Lm&&r instanceof Lm?(s=!0,e(t.value1)(new Im(Lm.value,t.value0.value1,t.value0.value2,Lm.value,t.value0.value3,t.value0.value4,Lm.value))):t.value0 instanceof Fm&&t.value0.value0 instanceof Lm&&t.value0.value3 instanceof Lm&&r instanceof Lm?(s=!0,e(t.value1)(new Im(Lm.value,t.value0.value1,t.value0.value2,Lm.value,t.value0.value4,t.value0.value5,Lm.value))):t.value0 instanceof Mm&&t.value0.value2 instanceof Dm?(s=!0,e(t.value1)(new Dm(new Im(r,t.value0.value0,t.value0.value1,t.value0.value2.value0,t.value0.value2.value1,t.value0.value2.value2,t.value0.value2.value3),t.value0.value3,t.value0.value4,t.value0.value5))):t.value0 instanceof Bm&&t.value0.value0 instanceof Dm?(s=!0,e(t.value1)(new Dm(new Im(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3,t.value0.value1,t.value0.value2,r),t.value0.value3,t.value0.value4,t.value0.value5))):t.value0 instanceof Bm&&t.value0.value5 instanceof Dm?(s=!0,e(t.value1)(new Dm(t.value0.value0,t.value0.value1,t.value0.value2,new Im(r,t.value0.value3,t.value0.value4,t.value0.value5.value0,t.value0.value5.value1,t.value0.value5.value2,t.value0.value5.value3)))):t.value0 instanceof Fm&&t.value0.value3 instanceof Dm?(s=!0,e(t.value1)(new Dm(t.value0.value0,t.value0.value1,t.value0.value2,new Im(t.value0.value3.value0,t.value0.value3.value1,t.value0.value3.value2,t.value0.value3.value3,t.value0.value4,t.value0.value5,r)))):t.value0 instanceof Mm&&t.value0.value2 instanceof Im?(s=!0,e(t.value1)(new Im(new Dm(r,t.value0.value0,t.value0.value1,t.value0.value2.value0),t.value0.value2.value1,t.value0.value2.value2,new Dm(t.value0.value2.value3,t.value0.value2.value4,t.value0.value2.value5,t.value0.value2.value6),t.value0.value3,t.value0.value4,t.value0.value5))):t.value0 instanceof Bm&&t.value0.value0 instanceof Im?(s=!0,e(t.value1)(new Im(new Dm(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3),t.value0.value0.value4,t.value0.value0.value5,new Dm(t.value0.value0.value6,t.value0.value1,t.value0.value2,r),t.value0.value3,t.value0.value4,t.value0.value5))):t.value0 instanceof Bm&&t.value0.value5 instanceof Im?(s=!0,e(t.value1)(new Im(t.value0.value0,t.value0.value1,t.value0.value2,new Dm(r,t.value0.value3,t.value0.value4,t.value0.value5.value0),t.value0.value5.value1,t.value0.value5.value2,new Dm(t.value0.value5.value3,t.value0.value5.value4,t.value0.value5.value5,t.value0.value5.value6)))):t.value0 instanceof Fm&&t.value0.value3 instanceof Im?(s=!0,e(t.value1)(new Im(t.value0.value0,t.value0.value1,t.value0.value2,new Dm(t.value0.value3.value0,t.value0.value3.value1,t.value0.value3.value2,t.value0.value3.value3),t.value0.value3.value4,t.value0.value3.value5,new Dm(t.value0.value3.value6,t.value0.value4,t.value0.value5,r)))):(s=!0,_m("The impossible happened in partial function `up`."));throw new Error("Failed pattern match at Data.Map.Internal (line 552, column 5 - line 573, column 86): "+[t.constructor.name])}for(;!s;)r=o(i,n);return r}},s=function(t){return function(e){for(var n,r,s,o=t,l=!1;!l;)r=o,n=(s=e)instanceof Dm&&s.value0 instanceof Lm&&s.value3 instanceof Lm?(l=!0,i(r)(Lm.value)):s instanceof Dm?(o=new am(new Qm(s.value0,s.value1,s.value2),r),void(e=s.value3)):s instanceof Im&&s.value0 instanceof Lm&&s.value3 instanceof Lm&&s.value6 instanceof Lm?(l=!0,i(new am(new Qm(Lm.value,s.value1,s.value2),r))(Lm.value)):s instanceof Im?(o=new am(new Fm(s.value0,s.value1,s.value2,s.value3,s.value4,s.value5),r),void(e=s.value6)):(l=!0,_m("The impossible happened in partial function `removeMaxNode`."));return n}},o=function(t){var e,n=!1;function r(e){if(e instanceof Dm&&e.value3 instanceof Lm)return n=!0,{key:e.value1,value:e.value2};if(e instanceof Dm)t=e.value3;else{if(e instanceof Im&&e.value6 instanceof Lm)return n=!0,{key:e.value4,value:e.value5};if(!(e instanceof Im))return n=!0,_m("The impossible happened in partial function `maxNode`.");t=e.value6}}for(;!n;)e=r(t);return e};return r=lm.value,function(l){var a,u=r,c=!1;function h(r,a){if(a instanceof Lm)return c=!0,kd.value;if(a instanceof Dm){var h=n(t)(a.value1);if(a.value3 instanceof Lm&&h instanceof ud)return c=!0,new Ad(new Rg(a.value2,i(r)(Lm.value)));if(h instanceof ud){var f=o(a.value0);return c=!0,new Ad(new Rg(a.value2,s(new am(new Nm(f.key,f.value,a.value3),r))(a.value0)))}return h instanceof ld?(u=new am(new Nm(a.value1,a.value2,a.value3),r),void(l=a.value0)):(u=new am(new Qm(a.value0,a.value1,a.value2),r),void(l=a.value3))}if(a instanceof Im){var v=a.value0 instanceof Lm&&a.value3 instanceof Lm&&a.value6 instanceof Lm,d=(h=n(t)(a.value4),n(t)(a.value1));return v&&d instanceof ud?(c=!0,new Ad(new Rg(a.value2,e(r)(new Dm(Lm.value,a.value4,a.value5,Lm.value))))):v&&h instanceof ud?(c=!0,new Ad(new Rg(a.value5,e(r)(new Dm(Lm.value,a.value1,a.value2,Lm.value))))):d instanceof ud?(f=o(a.value0),c=!0,new Ad(new Rg(a.value2,s(new am(new Mm(f.key,f.value,a.value3,a.value4,a.value5,a.value6),r))(a.value0)))):h instanceof ud?(f=o(a.value3),c=!0,new Ad(new Rg(a.value5,s(new am(new Bm(a.value0,a.value1,a.value2,f.key,f.value,a.value6),r))(a.value3)))):d instanceof ld?(u=new am(new Mm(a.value1,a.value2,a.value3,a.value4,a.value5,a.value6),r),void(l=a.value0)):d instanceof ad&&h instanceof ld?(u=new am(new Bm(a.value0,a.value1,a.value2,a.value4,a.value5,a.value6),r),void(l=a.value3)):(u=new am(new Fm(a.value0,a.value1,a.value2,a.value3,a.value4,a.value5),r),void(l=a.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 16 - line 548, column 80): "+[a.constructor.name])}for(;!c;)a=h(u,l);return a}}}(t);return function(t){return function(n){return Ed(n)(wg)(e(t)(n))}}},Jm=function(t){var e=Um(t),n=Km(t),r=Hm(t);return function(t){return function(i){return function(s){var o=t(e(i)(s));if(o instanceof kd)return n(i)(s);if(o instanceof Ad)return r(i)(o.value0)(s);throw new Error("Failed pattern match at Data.Map.Internal (line 596, column 15 - line 598, column 25): "+[o.constructor.name])}}}},tR=function(t){var e=Jm(t);return function(t){return function(n){return function(r){return Gm((function(n){return function(r){return function(i){return e((s=Ed(i)(t(i)),function(t){return Ad.create(s(t))}))(n)(r);var s}}}))(r)(n)}}}},eR=function(t){return tR(t)(wv)};var nR=function(){function t(){}return t.value=new t,t}(),rR=function(){function t(){}return t.value=new t,t}(),iR=function(){function t(){}return t.value=new t,t}(),sR=function(){function t(){}return t.value=new t,t}(),oR=function(){function t(){}return t.value=new t,t}(),lR=function(){function t(){}return t.value=new t,t}(),aR=function(){function t(){}return t.value=new t,t}(),uR=function(){function t(){}return t.value=new t,t}(),cR=function(){function t(){}return t.value=new t,t}(),hR=function(){function t(){}return t.value=new t,t}(),fR=function(){function t(){}return t.value=new t,t}(),vR=function(){function t(){}return t.value=new t,t}(),dR=function(){function t(){}return t.value=new t,t}(),gR=function(){function t(){}return t.value=new t,t}(),pR=function(){function t(){}return t.value=new t,t}(),mR=function(){function t(){}return t.value=new t,t}(),RR=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),OR=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),wR=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),xR=function(){function t(){}return t.value=new t,t}(),yR=function(){function t(){}return t.value=new t,t}(),bR=function(){function t(){}return t.value=new t,t}(),CR={show:function(t){if(t instanceof nR)return"-";if(t instanceof rR)return"!";if(t instanceof iR)return"#";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 23, column 1 - line 26, column 17): "+[t.constructor.name])}},SR={show:function(t){if(t instanceof sR)return"&&";if(t instanceof oR)return"||";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 62, column 1 - line 64, column 18): "+[t.constructor.name])}},TR=Sd(SR),kR={show:function(t){if(t instanceof lR)return"==";if(t instanceof aR)return"!=";if(t instanceof uR)return"<";if(t instanceof cR)return"<=";if(t instanceof hR)return">";if(t instanceof fR)return">=";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 54, column 1 - line 60, column 18): "+[t.constructor.name])}},AR=Sd(kR),PR={show:function(t){if(t instanceof vR)return"+";if(t instanceof dR)return"-";if(t instanceof gR)return"*";if(t instanceof pR)return"/";if(t instanceof mR)return"%";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 47, column 1 - line 52, column 17): "+[t.constructor.name])}},ER=Sd(PR),_R={show:function(t){if(t instanceof RR)return ER(t.value0);if(t instanceof OR)return AR(t.value0);if(t instanceof wR)return TR(t.value0);if(t instanceof xR)return"++";if(t instanceof yR)return"!!";if(t instanceof bR)return"??";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 39, column 1 - line 45, column 23): "+[t.constructor.name])}},LR=function(t){return"("+t+")"},DR=function(t){return"["+t+"]"},IR=function(t){return"{ "+t+" }"},NR=function(t){return"<"+t+">"};function QR(t){return t.charCodeAt(0)}var MR=md(Rd),BR=wd(Rd),FR=function(t){return t.toEnum},qR=function(t){return t.fromEnum},$R=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},UR=function(t){return function(e){return function(n){return t(e(n)-1|0)}}},XR=function(t){return t>=BR&&t<=MR?new Ad((e=t,String.fromCharCode(e))):kd.value;var e},HR={succ:$R(XR)(QR),pred:UR(XR)(QR),Ord0:function(){return gd}},VR=function(){return{cardinality:QR(md(Od))-QR(wd(Od))|0,toEnum:XR,fromEnum:QR,Bounded0:function(){return Od},Enum1:function(){return HR}}}();isNaN;const WR=isFinite;Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,Math.cos,Math.exp;const zR=Math.floor;Math.log,Math.round,Math.sign&&Math.sign,Math.sin,Math.sqrt,Math.tan,Math.trunc&&Math.trunc;var GR=md(Rd),jR=wd(Rd),YR=function(){return(t=Ad.create,function(e){return function(n){return(0|n)===n?t(n):e}})(kd.value);var t}(),ZR=function(t){return WR(t)?t>=GR?GR:t<=jR?jR:Nd(0)(YR(t)):0},KR=Gp(),JR=tm(td),tO=function(){function t(){}return t.value=new t,t}(),eO=function(){function t(){}return t.value=new t,t}(),nO=function(){function t(){}return t.value=new t,t}(),rO=function(){function t(){}return t.value=new t,t}(),iO=function(){function t(){}return t.value=new t,t}(),sO=function(){function t(){}return t.value=new t,t}(),oO=function(){function t(){}return t.value=new t,t}(),lO=function(){function t(){}return t.value=new t,t}(),aO=function(){function t(){}return t.value=new t,t}(),uO=function(){function t(){}return t.value=new t,t}(),cO=function(){function t(){}return t.value=new t,t}(),hO=function(){function t(){}return t.value=new t,t}(),fO=function(){function t(){}return t.value=new t,t}(),vO=function(){function t(){}return t.value=new t,t}(),dO=function(){function t(){}return t.value=new t,t}(),gO=function(){function t(){}return t.value=new t,t}(),pO=function(){function t(){}return t.value=new t,t}(),mO=function(){function t(){}return t.value=new t,t}(),RO=function(){function t(){}return t.value=new t,t}(),OO=function(){function t(){}return t.value=new t,t}(),wO=function(){function t(){}return t.value=new t,t}(),xO=function(){function t(){}return t.value=new t,t}(),yO=function(){function t(){}return t.value=new t,t}(),bO=function(){function t(){}return t.value=new t,t}(),CO=function(){function t(){}return t.value=new t,t}(),SO=function(){function t(){}return t.value=new t,t}(),TO=function(){function t(){}return t.value=new t,t}(),kO=function(){function t(){}return t.value=new t,t}(),AO=function(){function t(){}return t.value=new t,t}(),PO=function(){function t(){}return t.value=new t,t}(),EO=function(){return{category:2,unicodeCat:yO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),_O=function(){return{category:67108864,unicodeCat:CO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),LO=function(){return{category:33554432,unicodeCat:bO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),DO=8192,IO=function(){return{category:DO,unicodeCat:xO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),NO=function(){return{category:DO,unicodeCat:xO.value,possible:1,updist:0,lowdist:26,titledist:0}}(),QO=function(){return{category:DO,unicodeCat:xO.value,possible:1,updist:-26,lowdist:0,titledist:-26}}(),MO=function(){return{category:64,unicodeCat:RO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),BO=function(){return{category:1024,unicodeCat:wO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),FO=function(){return{category:8,unicodeCat:OO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),qO=function(){return{category:16,unicodeCat:vO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),$O=function(){return{category:4,unicodeCat:mO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),UO=function(){return{category:32768,unicodeCat:gO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),XO=262144,HO=function(){return{category:XO,unicodeCat:pO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),VO=function(){return{category:32,unicodeCat:dO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),WO=function(){return{category:128,unicodeCat:fO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),zO=function(){return{category:2048,unicodeCat:hO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),GO=131072,jO=function(){return{category:GO,unicodeCat:cO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),YO=16777216,ZO=function(){return{category:YO,unicodeCat:uO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),KO=function(){return{category:YO,unicodeCat:uO.value,possible:1,updist:0,lowdist:16,titledist:0}}(),JO=function(){return{category:YO,unicodeCat:uO.value,possible:1,updist:-16,lowdist:0,titledist:-16}}(),tw=256,ew=function(){return{category:tw,unicodeCat:aO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),nw=2097152,rw=function(){return{category:nw,unicodeCat:sO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),iw=function(){return{category:nw,unicodeCat:sO.value,possible:1,updist:84,lowdist:0,titledist:84}}(),sw=4194304,ow=function(){return{category:sw,unicodeCat:lO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),lw=8388608,aw=function(){return{category:lw,unicodeCat:oO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),uw=512,cw=function(){return{category:uw,unicodeCat:PO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),hw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:8,titledist:0}}(),fw=function(){return{category:uw,unicodeCat:tO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),vw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-60,titledist:0}}(),dw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-7,titledist:0}}(),gw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:80,titledist:0}}(),pw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:15,titledist:0}}(),mw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:48,titledist:0}}(),Rw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:7264,titledist:0}}(),Ow=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:38864,titledist:0}}(),ww=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-3008,titledist:0}}(),xw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-7615,titledist:0}}(),yw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),bw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-74,titledist:0}}(),Cw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-86,titledist:0}}(),Sw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-100,titledist:0}}(),Tw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-112,titledist:0}}(),kw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-128,titledist:0}}(),Aw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-126,titledist:0}}(),Pw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-7517,titledist:0}}(),Ew=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-8383,titledist:0}}(),_w=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-8262,titledist:0}}(),Lw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:28,titledist:0}}(),Dw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10743,titledist:0}}(),Iw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-3814,titledist:0}}(),Nw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10727,titledist:0}}(),Qw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10780,titledist:0}}(),Mw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10749,titledist:0}}(),Bw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10783,titledist:0}}(),Fw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10782,titledist:0}}(),qw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-10815,titledist:0}}(),$w=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-35332,titledist:0}}(),Uw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42280,titledist:0}}(),Xw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42308,titledist:0}}(),Hw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42319,titledist:0}}(),Vw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42315,titledist:0}}(),Ww=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42305,titledist:0}}(),zw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42258,titledist:0}}(),Gw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42282,titledist:0}}(),jw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42261,titledist:0}}(),Yw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:928,titledist:0}}(),Zw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-48,titledist:0}}(),Kw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-42307,titledist:0}}(),Jw=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-35384,titledist:0}}(),tx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:40,titledist:0}}(),ex=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:34,titledist:0}}(),nx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:1,titledist:0}}(),rx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-199,titledist:0}}(),ix=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-121,titledist:0}}(),sx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:210,titledist:0}}(),ox=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:206,titledist:0}}(),lx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:205,titledist:0}}(),ax=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:79,titledist:0}}(),ux=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:202,titledist:0}}(),cx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:203,titledist:0}}(),hx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:207,titledist:0}}(),fx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:211,titledist:0}}(),vx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:209,titledist:0}}(),dx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:213,titledist:0}}(),gx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:214,titledist:0}}(),px=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:218,titledist:0}}(),mx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:217,titledist:0}}(),Rx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:219,titledist:0}}(),Ox=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:2,titledist:1}}(),wx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-97,titledist:0}}(),xx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-56,titledist:0}}(),yx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-130,titledist:0}}(),bx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:10795,titledist:0}}(),Cx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-163,titledist:0}}(),Sx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:10792,titledist:0}}(),Tx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:-195,titledist:0}}(),kx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:69,titledist:0}}(),Ax=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:71,titledist:0}}(),Px=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:32,titledist:0}}(),Ex=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:116,titledist:0}}(),_x=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:38,titledist:0}}(),Lx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:37,titledist:0}}(),Dx=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:64,titledist:0}}(),Ix=function(){return{category:uw,unicodeCat:tO.value,possible:1,updist:0,lowdist:63,titledist:0}}(),Nx=524288,Qx=function(){return{category:Nx,unicodeCat:nO.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),Mx=function(){return{category:Nx,unicodeCat:nO.value,possible:1,updist:0,lowdist:-9,titledist:0}}(),Bx=function(){return{category:Nx,unicodeCat:nO.value,possible:1,updist:-1,lowdist:1,titledist:0}}(),Fx=16384,qx=function(){return{category:Fx,unicodeCat:iO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),$x=1048576,Ux=function(){return{category:$x,unicodeCat:rO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Xx=4096,Hx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-37,lowdist:0,titledist:-37}}(),Vx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-31,lowdist:0,titledist:-31}}(),Wx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-64,lowdist:0,titledist:-64}}(),zx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-63,lowdist:0,titledist:-63}}(),Gx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-62,lowdist:0,titledist:-62}}(),jx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-57,lowdist:0,titledist:-57}}(),Yx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-47,lowdist:0,titledist:-47}}(),Zx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-54,lowdist:0,titledist:-54}}(),Kx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-8,lowdist:0,titledist:-8}}(),Jx=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-86,lowdist:0,titledist:-86}}(),ty=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-80,lowdist:0,titledist:-80}}(),ey=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:7,lowdist:0,titledist:7}}(),ny=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-116,lowdist:0,titledist:-116}}(),ry=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-96,lowdist:0,titledist:-96}}(),iy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-32,lowdist:0,titledist:-32}}(),sy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-15,lowdist:0,titledist:-15}}(),oy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-48,lowdist:0,titledist:-48}}(),ly=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:3008,lowdist:0,titledist:0}}(),ay=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6254,lowdist:0,titledist:-6254}}(),uy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6253,lowdist:0,titledist:-6253}}(),cy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6244,lowdist:0,titledist:-6244}}(),hy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6242,lowdist:0,titledist:-6242}}(),fy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6243,lowdist:0,titledist:-6243}}(),vy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6236,lowdist:0,titledist:-6236}}(),dy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-6181,lowdist:0,titledist:-6181}}(),gy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:35266,lowdist:0,titledist:35266}}(),py=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:35332,lowdist:0,titledist:35332}}(),my=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:3814,lowdist:0,titledist:3814}}(),Ry=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:35384,lowdist:0,titledist:35384}}(),Oy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-59,lowdist:0,titledist:-59}}(),wy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:8,lowdist:0,titledist:8}}(),xy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:74,lowdist:0,titledist:74}}(),yy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:86,lowdist:0,titledist:86}}(),by=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:100,lowdist:0,titledist:100}}(),Cy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:128,lowdist:0,titledist:128}}(),Sy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:112,lowdist:0,titledist:112}}(),Ty=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:126,lowdist:0,titledist:126}}(),ky=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:9,lowdist:0,titledist:9}}(),Ay=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-7205,lowdist:0,titledist:-7205}}(),Py=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-28,lowdist:0,titledist:-28}}(),Ey=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-10795,lowdist:0,titledist:-10795}}(),_y=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-10792,lowdist:0,titledist:-10792}}(),Ly=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:743,lowdist:0,titledist:743}}(),Dy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-7264,lowdist:0,titledist:-7264}}(),Iy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:48,lowdist:0,titledist:48}}(),Ny=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-928,lowdist:0,titledist:-928}}(),Qy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-38864,lowdist:0,titledist:-38864}}(),My=function(){return{category:Xx,unicodeCat:eO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),By=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-40,lowdist:0,titledist:-40}}(),Fy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-34,lowdist:0,titledist:-34}}(),qy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:121,lowdist:0,titledist:121}}(),$y=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-1,lowdist:0,titledist:-1}}(),Uy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-232,lowdist:0,titledist:-232}}(),Xy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-300,lowdist:0,titledist:-300}}(),Hy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:195,lowdist:0,titledist:195}}(),Vy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:97,lowdist:0,titledist:97}}(),Wy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:163,lowdist:0,titledist:163}}(),zy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:130,lowdist:0,titledist:130}}(),Gy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:56,lowdist:0,titledist:56}}(),jy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-2,lowdist:0,titledist:-1}}(),Yy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-79,lowdist:0,titledist:-79}}(),Zy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10815,lowdist:0,titledist:10815}}(),Ky=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10783,lowdist:0,titledist:10783}}(),Jy=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10780,lowdist:0,titledist:10780}}(),tb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10782,lowdist:0,titledist:10782}}(),eb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-210,lowdist:0,titledist:-210}}(),nb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-206,lowdist:0,titledist:-206}}(),rb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-205,lowdist:0,titledist:-205}}(),ib=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-202,lowdist:0,titledist:-202}}(),sb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-203,lowdist:0,titledist:-203}}(),ob=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42319,lowdist:0,titledist:42319}}(),lb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42315,lowdist:0,titledist:42315}}(),ab=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-207,lowdist:0,titledist:-207}}(),ub=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42280,lowdist:0,titledist:42280}}(),cb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42308,lowdist:0,titledist:42308}}(),hb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-209,lowdist:0,titledist:-209}}(),fb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-211,lowdist:0,titledist:-211}}(),vb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10743,lowdist:0,titledist:10743}}(),db=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42305,lowdist:0,titledist:42305}}(),gb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10749,lowdist:0,titledist:10749}}(),pb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-213,lowdist:0,titledist:-213}}(),mb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-214,lowdist:0,titledist:-214}}(),Rb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:10727,lowdist:0,titledist:10727}}(),Ob=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-218,lowdist:0,titledist:-218}}(),wb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42307,lowdist:0,titledist:42307}}(),xb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42282,lowdist:0,titledist:42282}}(),yb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-69,lowdist:0,titledist:-69}}(),bb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-217,lowdist:0,titledist:-217}}(),Cb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-71,lowdist:0,titledist:-71}}(),Sb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-219,lowdist:0,titledist:-219}}(),Tb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42261,lowdist:0,titledist:42261}}(),kb=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:42258,lowdist:0,titledist:42258}}(),Ab=function(){return{category:Xx,unicodeCat:eO.value,possible:1,updist:-38,lowdist:0,titledist:-38}}(),Pb=function(){return{category:134217728,unicodeCat:kO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Eb=function(){return{category:268435456,unicodeCat:AO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),_b=function(){return{category:65536,unicodeCat:TO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Lb=function(){return{category:1,unicodeCat:SO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Db=function(t){return function(e){return function(n){return function(r){var i;return(i=0,function(n){var s,o=i,l=!1;function a(i,s){if(i>s||i>=up(e))return l=!0,kd.value;var a=ZR(zR((i+s|0)/2)),u=KR(e)(a),c=r(t)(u);return c instanceof ud?(l=!0,new Ad(u)):c instanceof ad?(o=a+1|0,void(n=s)):(o=i,void(n=a-1|0))}for(;!l;)s=a(o,n);return s})(n)}}}},Ib=function(t){return function(e){return t.start>=e.start&&t.start<(e.start+e.length|0)?ud.value:t.start>e.start?ad.value:ld.value}},Nb=function(t){return function(e){return function(n){var r=Db({start:e,length:1,convRule:cw})(t)(n)(Ib);if(r instanceof kd)return kd.value;if(r instanceof Ad)return new Ad(r.value0.convRule);throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5612, column 5 - line 5614, column 60): "+[r.constructor.name])}}},Qb=[{start:0,length:32,convRule:Lb},{start:32,length:1,convRule:EO},{start:33,length:3,convRule:$O},{start:36,length:1,convRule:FO},{start:37,length:3,convRule:$O},{start:40,length:1,convRule:qO},{start:41,length:1,convRule:VO},{start:42,length:1,convRule:$O},{start:43,length:1,convRule:MO},{start:44,length:1,convRule:$O},{start:45,length:1,convRule:WO},{start:46,length:2,convRule:$O},{start:48,length:10,convRule:ew},{start:58,length:2,convRule:$O},{start:60,length:3,convRule:MO},{start:63,length:2,convRule:$O},{start:65,length:26,convRule:Px},{start:91,length:1,convRule:qO},{start:92,length:1,convRule:$O},{start:93,length:1,convRule:VO},{start:94,length:1,convRule:BO},{start:95,length:1,convRule:zO},{start:96,length:1,convRule:BO},{start:97,length:26,convRule:iy},{start:123,length:1,convRule:qO},{start:124,length:1,convRule:MO},{start:125,length:1,convRule:VO},{start:126,length:1,convRule:MO},{start:127,length:33,convRule:Lb},{start:160,length:1,convRule:EO},{start:161,length:1,convRule:$O},{start:162,length:4,convRule:FO},{start:166,length:1,convRule:IO},{start:167,length:1,convRule:$O},{start:168,length:1,convRule:BO},{start:169,length:1,convRule:IO},{start:170,length:1,convRule:qx},{start:171,length:1,convRule:UO},{start:172,length:1,convRule:MO},{start:173,length:1,convRule:_b},{start:174,length:1,convRule:IO},{start:175,length:1,convRule:BO},{start:176,length:1,convRule:IO},{start:177,length:1,convRule:MO},{start:178,length:2,convRule:jO},{start:180,length:1,convRule:BO},{start:181,length:1,convRule:Ly},{start:182,length:2,convRule:$O},{start:184,length:1,convRule:BO},{start:185,length:1,convRule:jO},{start:186,length:1,convRule:qx},{start:187,length:1,convRule:HO},{start:188,length:3,convRule:jO},{start:191,length:1,convRule:$O},{start:192,length:23,convRule:Px},{start:215,length:1,convRule:MO},{start:216,length:7,convRule:Px},{start:223,length:1,convRule:My},{start:224,length:23,convRule:iy},{start:247,length:1,convRule:MO},{start:248,length:7,convRule:iy},{start:255,length:1,convRule:qy},{start:256,length:1,convRule:nx},{start:257,length:1,convRule:$y},{start:258,length:1,convRule:nx},{start:259,length:1,convRule:$y},{start:260,length:1,convRule:nx},{start:261,length:1,convRule:$y},{start:262,length:1,convRule:nx},{start:263,length:1,convRule:$y},{start:264,length:1,convRule:nx},{start:265,length:1,convRule:$y},{start:266,length:1,convRule:nx},{start:267,length:1,convRule:$y},{start:268,length:1,convRule:nx},{start:269,length:1,convRule:$y},{start:270,length:1,convRule:nx},{start:271,length:1,convRule:$y},{start:272,length:1,convRule:nx},{start:273,length:1,convRule:$y},{start:274,length:1,convRule:nx},{start:275,length:1,convRule:$y},{start:276,length:1,convRule:nx},{start:277,length:1,convRule:$y},{start:278,length:1,convRule:nx},{start:279,length:1,convRule:$y},{start:280,length:1,convRule:nx},{start:281,length:1,convRule:$y},{start:282,length:1,convRule:nx},{start:283,length:1,convRule:$y},{start:284,length:1,convRule:nx},{start:285,length:1,convRule:$y},{start:286,length:1,convRule:nx},{start:287,length:1,convRule:$y},{start:288,length:1,convRule:nx},{start:289,length:1,convRule:$y},{start:290,length:1,convRule:nx},{start:291,length:1,convRule:$y},{start:292,length:1,convRule:nx},{start:293,length:1,convRule:$y},{start:294,length:1,convRule:nx},{start:295,length:1,convRule:$y},{start:296,length:1,convRule:nx},{start:297,length:1,convRule:$y},{start:298,length:1,convRule:nx},{start:299,length:1,convRule:$y},{start:300,length:1,convRule:nx},{start:301,length:1,convRule:$y},{start:302,length:1,convRule:nx},{start:303,length:1,convRule:$y},{start:304,length:1,convRule:rx},{start:305,length:1,convRule:Uy},{start:306,length:1,convRule:nx},{start:307,length:1,convRule:$y},{start:308,length:1,convRule:nx},{start:309,length:1,convRule:$y},{start:310,length:1,convRule:nx},{start:311,length:1,convRule:$y},{start:312,length:1,convRule:My},{start:313,length:1,convRule:nx},{start:314,length:1,convRule:$y},{start:315,length:1,convRule:nx},{start:316,length:1,convRule:$y},{start:317,length:1,convRule:nx},{start:318,length:1,convRule:$y},{start:319,length:1,convRule:nx},{start:320,length:1,convRule:$y},{start:321,length:1,convRule:nx},{start:322,length:1,convRule:$y},{start:323,length:1,convRule:nx},{start:324,length:1,convRule:$y},{start:325,length:1,convRule:nx},{start:326,length:1,convRule:$y},{start:327,length:1,convRule:nx},{start:328,length:1,convRule:$y},{start:329,length:1,convRule:My},{start:330,length:1,convRule:nx},{start:331,length:1,convRule:$y},{start:332,length:1,convRule:nx},{start:333,length:1,convRule:$y},{start:334,length:1,convRule:nx},{start:335,length:1,convRule:$y},{start:336,length:1,convRule:nx},{start:337,length:1,convRule:$y},{start:338,length:1,convRule:nx},{start:339,length:1,convRule:$y},{start:340,length:1,convRule:nx},{start:341,length:1,convRule:$y},{start:342,length:1,convRule:nx},{start:343,length:1,convRule:$y},{start:344,length:1,convRule:nx},{start:345,length:1,convRule:$y},{start:346,length:1,convRule:nx},{start:347,length:1,convRule:$y},{start:348,length:1,convRule:nx},{start:349,length:1,convRule:$y},{start:350,length:1,convRule:nx},{start:351,length:1,convRule:$y},{start:352,length:1,convRule:nx},{start:353,length:1,convRule:$y},{start:354,length:1,convRule:nx},{start:355,length:1,convRule:$y},{start:356,length:1,convRule:nx},{start:357,length:1,convRule:$y},{start:358,length:1,convRule:nx},{start:359,length:1,convRule:$y},{start:360,length:1,convRule:nx},{start:361,length:1,convRule:$y},{start:362,length:1,convRule:nx},{start:363,length:1,convRule:$y},{start:364,length:1,convRule:nx},{start:365,length:1,convRule:$y},{start:366,length:1,convRule:nx},{start:367,length:1,convRule:$y},{start:368,length:1,convRule:nx},{start:369,length:1,convRule:$y},{start:370,length:1,convRule:nx},{start:371,length:1,convRule:$y},{start:372,length:1,convRule:nx},{start:373,length:1,convRule:$y},{start:374,length:1,convRule:nx},{start:375,length:1,convRule:$y},{start:376,length:1,convRule:ix},{start:377,length:1,convRule:nx},{start:378,length:1,convRule:$y},{start:379,length:1,convRule:nx},{start:380,length:1,convRule:$y},{start:381,length:1,convRule:nx},{start:382,length:1,convRule:$y},{start:383,length:1,convRule:Xy},{start:384,length:1,convRule:Hy},{start:385,length:1,convRule:sx},{start:386,length:1,convRule:nx},{start:387,length:1,convRule:$y},{start:388,length:1,convRule:nx},{start:389,length:1,convRule:$y},{start:390,length:1,convRule:ox},{start:391,length:1,convRule:nx},{start:392,length:1,convRule:$y},{start:393,length:2,convRule:lx},{start:395,length:1,convRule:nx},{start:396,length:1,convRule:$y},{start:397,length:1,convRule:My},{start:398,length:1,convRule:ax},{start:399,length:1,convRule:ux},{start:400,length:1,convRule:cx},{start:401,length:1,convRule:nx},{start:402,length:1,convRule:$y},{start:403,length:1,convRule:lx},{start:404,length:1,convRule:hx},{start:405,length:1,convRule:Vy},{start:406,length:1,convRule:fx},{start:407,length:1,convRule:vx},{start:408,length:1,convRule:nx},{start:409,length:1,convRule:$y},{start:410,length:1,convRule:Wy},{start:411,length:1,convRule:My},{start:412,length:1,convRule:fx},{start:413,length:1,convRule:dx},{start:414,length:1,convRule:zy},{start:415,length:1,convRule:gx},{start:416,length:1,convRule:nx},{start:417,length:1,convRule:$y},{start:418,length:1,convRule:nx},{start:419,length:1,convRule:$y},{start:420,length:1,convRule:nx},{start:421,length:1,convRule:$y},{start:422,length:1,convRule:px},{start:423,length:1,convRule:nx},{start:424,length:1,convRule:$y},{start:425,length:1,convRule:px},{start:426,length:2,convRule:My},{start:428,length:1,convRule:nx},{start:429,length:1,convRule:$y},{start:430,length:1,convRule:px},{start:431,length:1,convRule:nx},{start:432,length:1,convRule:$y},{start:433,length:2,convRule:mx},{start:435,length:1,convRule:nx},{start:436,length:1,convRule:$y},{start:437,length:1,convRule:nx},{start:438,length:1,convRule:$y},{start:439,length:1,convRule:Rx},{start:440,length:1,convRule:nx},{start:441,length:1,convRule:$y},{start:442,length:1,convRule:My},{start:443,length:1,convRule:qx},{start:444,length:1,convRule:nx},{start:445,length:1,convRule:$y},{start:446,length:1,convRule:My},{start:447,length:1,convRule:Gy},{start:448,length:4,convRule:qx},{start:452,length:1,convRule:Ox},{start:453,length:1,convRule:Bx},{start:454,length:1,convRule:jy},{start:455,length:1,convRule:Ox},{start:456,length:1,convRule:Bx},{start:457,length:1,convRule:jy},{start:458,length:1,convRule:Ox},{start:459,length:1,convRule:Bx},{start:460,length:1,convRule:jy},{start:461,length:1,convRule:nx},{start:462,length:1,convRule:$y},{start:463,length:1,convRule:nx},{start:464,length:1,convRule:$y},{start:465,length:1,convRule:nx},{start:466,length:1,convRule:$y},{start:467,length:1,convRule:nx},{start:468,length:1,convRule:$y},{start:469,length:1,convRule:nx},{start:470,length:1,convRule:$y},{start:471,length:1,convRule:nx},{start:472,length:1,convRule:$y},{start:473,length:1,convRule:nx},{start:474,length:1,convRule:$y},{start:475,length:1,convRule:nx},{start:476,length:1,convRule:$y},{start:477,length:1,convRule:Yy},{start:478,length:1,convRule:nx},{start:479,length:1,convRule:$y},{start:480,length:1,convRule:nx},{start:481,length:1,convRule:$y},{start:482,length:1,convRule:nx},{start:483,length:1,convRule:$y},{start:484,length:1,convRule:nx},{start:485,length:1,convRule:$y},{start:486,length:1,convRule:nx},{start:487,length:1,convRule:$y},{start:488,length:1,convRule:nx},{start:489,length:1,convRule:$y},{start:490,length:1,convRule:nx},{start:491,length:1,convRule:$y},{start:492,length:1,convRule:nx},{start:493,length:1,convRule:$y},{start:494,length:1,convRule:nx},{start:495,length:1,convRule:$y},{start:496,length:1,convRule:My},{start:497,length:1,convRule:Ox},{start:498,length:1,convRule:Bx},{start:499,length:1,convRule:jy},{start:500,length:1,convRule:nx},{start:501,length:1,convRule:$y},{start:502,length:1,convRule:wx},{start:503,length:1,convRule:xx},{start:504,length:1,convRule:nx},{start:505,length:1,convRule:$y},{start:506,length:1,convRule:nx},{start:507,length:1,convRule:$y},{start:508,length:1,convRule:nx},{start:509,length:1,convRule:$y},{start:510,length:1,convRule:nx},{start:511,length:1,convRule:$y},{start:512,length:1,convRule:nx},{start:513,length:1,convRule:$y},{start:514,length:1,convRule:nx},{start:515,length:1,convRule:$y},{start:516,length:1,convRule:nx},{start:517,length:1,convRule:$y},{start:518,length:1,convRule:nx},{start:519,length:1,convRule:$y},{start:520,length:1,convRule:nx},{start:521,length:1,convRule:$y},{start:522,length:1,convRule:nx},{start:523,length:1,convRule:$y},{start:524,length:1,convRule:nx},{start:525,length:1,convRule:$y},{start:526,length:1,convRule:nx},{start:527,length:1,convRule:$y},{start:528,length:1,convRule:nx},{start:529,length:1,convRule:$y},{start:530,length:1,convRule:nx},{start:531,length:1,convRule:$y},{start:532,length:1,convRule:nx},{start:533,length:1,convRule:$y},{start:534,length:1,convRule:nx},{start:535,length:1,convRule:$y},{start:536,length:1,convRule:nx},{start:537,length:1,convRule:$y},{start:538,length:1,convRule:nx},{start:539,length:1,convRule:$y},{start:540,length:1,convRule:nx},{start:541,length:1,convRule:$y},{start:542,length:1,convRule:nx},{start:543,length:1,convRule:$y},{start:544,length:1,convRule:yx},{start:545,length:1,convRule:My},{start:546,length:1,convRule:nx},{start:547,length:1,convRule:$y},{start:548,length:1,convRule:nx},{start:549,length:1,convRule:$y},{start:550,length:1,convRule:nx},{start:551,length:1,convRule:$y},{start:552,length:1,convRule:nx},{start:553,length:1,convRule:$y},{start:554,length:1,convRule:nx},{start:555,length:1,convRule:$y},{start:556,length:1,convRule:nx},{start:557,length:1,convRule:$y},{start:558,length:1,convRule:nx},{start:559,length:1,convRule:$y},{start:560,length:1,convRule:nx},{start:561,length:1,convRule:$y},{start:562,length:1,convRule:nx},{start:563,length:1,convRule:$y},{start:564,length:6,convRule:My},{start:570,length:1,convRule:bx},{start:571,length:1,convRule:nx},{start:572,length:1,convRule:$y},{start:573,length:1,convRule:Cx},{start:574,length:1,convRule:Sx},{start:575,length:2,convRule:Zy},{start:577,length:1,convRule:nx},{start:578,length:1,convRule:$y},{start:579,length:1,convRule:Tx},{start:580,length:1,convRule:kx},{start:581,length:1,convRule:Ax},{start:582,length:1,convRule:nx},{start:583,length:1,convRule:$y},{start:584,length:1,convRule:nx},{start:585,length:1,convRule:$y},{start:586,length:1,convRule:nx},{start:587,length:1,convRule:$y},{start:588,length:1,convRule:nx},{start:589,length:1,convRule:$y},{start:590,length:1,convRule:nx},{start:591,length:1,convRule:$y},{start:592,length:1,convRule:Ky},{start:593,length:1,convRule:Jy},{start:594,length:1,convRule:tb},{start:595,length:1,convRule:eb},{start:596,length:1,convRule:nb},{start:597,length:1,convRule:My},{start:598,length:2,convRule:rb},{start:600,length:1,convRule:My},{start:601,length:1,convRule:ib},{start:602,length:1,convRule:My},{start:603,length:1,convRule:sb},{start:604,length:1,convRule:ob},{start:605,length:3,convRule:My},{start:608,length:1,convRule:rb},{start:609,length:1,convRule:lb},{start:610,length:1,convRule:My},{start:611,length:1,convRule:ab},{start:612,length:1,convRule:My},{start:613,length:1,convRule:ub},{start:614,length:1,convRule:cb},{start:615,length:1,convRule:My},{start:616,length:1,convRule:hb},{start:617,length:1,convRule:fb},{start:618,length:1,convRule:cb},{start:619,length:1,convRule:vb},{start:620,length:1,convRule:db},{start:621,length:2,convRule:My},{start:623,length:1,convRule:fb},{start:624,length:1,convRule:My},{start:625,length:1,convRule:gb},{start:626,length:1,convRule:pb},{start:627,length:2,convRule:My},{start:629,length:1,convRule:mb},{start:630,length:7,convRule:My},{start:637,length:1,convRule:Rb},{start:638,length:2,convRule:My},{start:640,length:1,convRule:Ob},{start:641,length:1,convRule:My},{start:642,length:1,convRule:wb},{start:643,length:1,convRule:Ob},{start:644,length:3,convRule:My},{start:647,length:1,convRule:xb},{start:648,length:1,convRule:Ob},{start:649,length:1,convRule:yb},{start:650,length:2,convRule:bb},{start:652,length:1,convRule:Cb},{start:653,length:5,convRule:My},{start:658,length:1,convRule:Sb},{start:659,length:1,convRule:My},{start:660,length:1,convRule:qx},{start:661,length:8,convRule:My},{start:669,length:1,convRule:Tb},{start:670,length:1,convRule:kb},{start:671,length:17,convRule:My},{start:688,length:18,convRule:Ux},{start:706,length:4,convRule:BO},{start:710,length:12,convRule:Ux},{start:722,length:14,convRule:BO},{start:736,length:5,convRule:Ux},{start:741,length:7,convRule:BO},{start:748,length:1,convRule:Ux},{start:749,length:1,convRule:BO},{start:750,length:1,convRule:Ux},{start:751,length:17,convRule:BO},{start:768,length:69,convRule:rw},{start:837,length:1,convRule:iw},{start:838,length:42,convRule:rw},{start:880,length:1,convRule:nx},{start:881,length:1,convRule:$y},{start:882,length:1,convRule:nx},{start:883,length:1,convRule:$y},{start:884,length:1,convRule:Ux},{start:885,length:1,convRule:BO},{start:886,length:1,convRule:nx},{start:887,length:1,convRule:$y},{start:890,length:1,convRule:Ux},{start:891,length:3,convRule:zy},{start:894,length:1,convRule:$O},{start:895,length:1,convRule:Ex},{start:900,length:2,convRule:BO},{start:902,length:1,convRule:_x},{start:903,length:1,convRule:$O},{start:904,length:3,convRule:Lx},{start:908,length:1,convRule:Dx},{start:910,length:2,convRule:Ix},{start:912,length:1,convRule:My},{start:913,length:17,convRule:Px},{start:931,length:9,convRule:Px},{start:940,length:1,convRule:Ab},{start:941,length:3,convRule:Hx},{start:944,length:1,convRule:My},{start:945,length:17,convRule:iy},{start:962,length:1,convRule:Vx},{start:963,length:9,convRule:iy},{start:972,length:1,convRule:Wx},{start:973,length:2,convRule:zx},{start:975,length:1,convRule:hw},{start:976,length:1,convRule:Gx},{start:977,length:1,convRule:jx},{start:978,length:3,convRule:fw},{start:981,length:1,convRule:Yx},{start:982,length:1,convRule:Zx},{start:983,length:1,convRule:Kx},{start:984,length:1,convRule:nx},{start:985,length:1,convRule:$y},{start:986,length:1,convRule:nx},{start:987,length:1,convRule:$y},{start:988,length:1,convRule:nx},{start:989,length:1,convRule:$y},{start:990,length:1,convRule:nx},{start:991,length:1,convRule:$y},{start:992,length:1,convRule:nx},{start:993,length:1,convRule:$y},{start:994,length:1,convRule:nx},{start:995,length:1,convRule:$y},{start:996,length:1,convRule:nx},{start:997,length:1,convRule:$y},{start:998,length:1,convRule:nx},{start:999,length:1,convRule:$y},{start:1e3,length:1,convRule:nx},{start:1001,length:1,convRule:$y},{start:1002,length:1,convRule:nx},{start:1003,length:1,convRule:$y},{start:1004,length:1,convRule:nx},{start:1005,length:1,convRule:$y},{start:1006,length:1,convRule:nx},{start:1007,length:1,convRule:$y},{start:1008,length:1,convRule:Jx},{start:1009,length:1,convRule:ty},{start:1010,length:1,convRule:ey},{start:1011,length:1,convRule:ny},{start:1012,length:1,convRule:vw},{start:1013,length:1,convRule:ry},{start:1014,length:1,convRule:MO},{start:1015,length:1,convRule:nx},{start:1016,length:1,convRule:$y},{start:1017,length:1,convRule:dw},{start:1018,length:1,convRule:nx},{start:1019,length:1,convRule:$y},{start:1020,length:1,convRule:My},{start:1021,length:3,convRule:yx},{start:1024,length:16,convRule:gw},{start:1040,length:32,convRule:Px},{start:1072,length:32,convRule:iy},{start:1104,length:16,convRule:ty},{start:1120,length:1,convRule:nx},{start:1121,length:1,convRule:$y},{start:1122,length:1,convRule:nx},{start:1123,length:1,convRule:$y},{start:1124,length:1,convRule:nx},{start:1125,length:1,convRule:$y},{start:1126,length:1,convRule:nx},{start:1127,length:1,convRule:$y},{start:1128,length:1,convRule:nx},{start:1129,length:1,convRule:$y},{start:1130,length:1,convRule:nx},{start:1131,length:1,convRule:$y},{start:1132,length:1,convRule:nx},{start:1133,length:1,convRule:$y},{start:1134,length:1,convRule:nx},{start:1135,length:1,convRule:$y},{start:1136,length:1,convRule:nx},{start:1137,length:1,convRule:$y},{start:1138,length:1,convRule:nx},{start:1139,length:1,convRule:$y},{start:1140,length:1,convRule:nx},{start:1141,length:1,convRule:$y},{start:1142,length:1,convRule:nx},{start:1143,length:1,convRule:$y},{start:1144,length:1,convRule:nx},{start:1145,length:1,convRule:$y},{start:1146,length:1,convRule:nx},{start:1147,length:1,convRule:$y},{start:1148,length:1,convRule:nx},{start:1149,length:1,convRule:$y},{start:1150,length:1,convRule:nx},{start:1151,length:1,convRule:$y},{start:1152,length:1,convRule:nx},{start:1153,length:1,convRule:$y},{start:1154,length:1,convRule:IO},{start:1155,length:5,convRule:rw},{start:1160,length:2,convRule:ow},{start:1162,length:1,convRule:nx},{start:1163,length:1,convRule:$y},{start:1164,length:1,convRule:nx},{start:1165,length:1,convRule:$y},{start:1166,length:1,convRule:nx},{start:1167,length:1,convRule:$y},{start:1168,length:1,convRule:nx},{start:1169,length:1,convRule:$y},{start:1170,length:1,convRule:nx},{start:1171,length:1,convRule:$y},{start:1172,length:1,convRule:nx},{start:1173,length:1,convRule:$y},{start:1174,length:1,convRule:nx},{start:1175,length:1,convRule:$y},{start:1176,length:1,convRule:nx},{start:1177,length:1,convRule:$y},{start:1178,length:1,convRule:nx},{start:1179,length:1,convRule:$y},{start:1180,length:1,convRule:nx},{start:1181,length:1,convRule:$y},{start:1182,length:1,convRule:nx},{start:1183,length:1,convRule:$y},{start:1184,length:1,convRule:nx},{start:1185,length:1,convRule:$y},{start:1186,length:1,convRule:nx},{start:1187,length:1,convRule:$y},{start:1188,length:1,convRule:nx},{start:1189,length:1,convRule:$y},{start:1190,length:1,convRule:nx},{start:1191,length:1,convRule:$y},{start:1192,length:1,convRule:nx},{start:1193,length:1,convRule:$y},{start:1194,length:1,convRule:nx},{start:1195,length:1,convRule:$y},{start:1196,length:1,convRule:nx},{start:1197,length:1,convRule:$y},{start:1198,length:1,convRule:nx},{start:1199,length:1,convRule:$y},{start:1200,length:1,convRule:nx},{start:1201,length:1,convRule:$y},{start:1202,length:1,convRule:nx},{start:1203,length:1,convRule:$y},{start:1204,length:1,convRule:nx},{start:1205,length:1,convRule:$y},{start:1206,length:1,convRule:nx},{start:1207,length:1,convRule:$y},{start:1208,length:1,convRule:nx},{start:1209,length:1,convRule:$y},{start:1210,length:1,convRule:nx},{start:1211,length:1,convRule:$y},{start:1212,length:1,convRule:nx},{start:1213,length:1,convRule:$y},{start:1214,length:1,convRule:nx},{start:1215,length:1,convRule:$y},{start:1216,length:1,convRule:pw},{start:1217,length:1,convRule:nx},{start:1218,length:1,convRule:$y},{start:1219,length:1,convRule:nx},{start:1220,length:1,convRule:$y},{start:1221,length:1,convRule:nx},{start:1222,length:1,convRule:$y},{start:1223,length:1,convRule:nx},{start:1224,length:1,convRule:$y},{start:1225,length:1,convRule:nx},{start:1226,length:1,convRule:$y},{start:1227,length:1,convRule:nx},{start:1228,length:1,convRule:$y},{start:1229,length:1,convRule:nx},{start:1230,length:1,convRule:$y},{start:1231,length:1,convRule:sy},{start:1232,length:1,convRule:nx},{start:1233,length:1,convRule:$y},{start:1234,length:1,convRule:nx},{start:1235,length:1,convRule:$y},{start:1236,length:1,convRule:nx},{start:1237,length:1,convRule:$y},{start:1238,length:1,convRule:nx},{start:1239,length:1,convRule:$y},{start:1240,length:1,convRule:nx},{start:1241,length:1,convRule:$y},{start:1242,length:1,convRule:nx},{start:1243,length:1,convRule:$y},{start:1244,length:1,convRule:nx},{start:1245,length:1,convRule:$y},{start:1246,length:1,convRule:nx},{start:1247,length:1,convRule:$y},{start:1248,length:1,convRule:nx},{start:1249,length:1,convRule:$y},{start:1250,length:1,convRule:nx},{start:1251,length:1,convRule:$y},{start:1252,length:1,convRule:nx},{start:1253,length:1,convRule:$y},{start:1254,length:1,convRule:nx},{start:1255,length:1,convRule:$y},{start:1256,length:1,convRule:nx},{start:1257,length:1,convRule:$y},{start:1258,length:1,convRule:nx},{start:1259,length:1,convRule:$y},{start:1260,length:1,convRule:nx},{start:1261,length:1,convRule:$y},{start:1262,length:1,convRule:nx},{start:1263,length:1,convRule:$y},{start:1264,length:1,convRule:nx},{start:1265,length:1,convRule:$y},{start:1266,length:1,convRule:nx},{start:1267,length:1,convRule:$y},{start:1268,length:1,convRule:nx},{start:1269,length:1,convRule:$y},{start:1270,length:1,convRule:nx},{start:1271,length:1,convRule:$y},{start:1272,length:1,convRule:nx},{start:1273,length:1,convRule:$y},{start:1274,length:1,convRule:nx},{start:1275,length:1,convRule:$y},{start:1276,length:1,convRule:nx},{start:1277,length:1,convRule:$y},{start:1278,length:1,convRule:nx},{start:1279,length:1,convRule:$y},{start:1280,length:1,convRule:nx},{start:1281,length:1,convRule:$y},{start:1282,length:1,convRule:nx},{start:1283,length:1,convRule:$y},{start:1284,length:1,convRule:nx},{start:1285,length:1,convRule:$y},{start:1286,length:1,convRule:nx},{start:1287,length:1,convRule:$y},{start:1288,length:1,convRule:nx},{start:1289,length:1,convRule:$y},{start:1290,length:1,convRule:nx},{start:1291,length:1,convRule:$y},{start:1292,length:1,convRule:nx},{start:1293,length:1,convRule:$y},{start:1294,length:1,convRule:nx},{start:1295,length:1,convRule:$y},{start:1296,length:1,convRule:nx},{start:1297,length:1,convRule:$y},{start:1298,length:1,convRule:nx},{start:1299,length:1,convRule:$y},{start:1300,length:1,convRule:nx},{start:1301,length:1,convRule:$y},{start:1302,length:1,convRule:nx},{start:1303,length:1,convRule:$y},{start:1304,length:1,convRule:nx},{start:1305,length:1,convRule:$y},{start:1306,length:1,convRule:nx},{start:1307,length:1,convRule:$y},{start:1308,length:1,convRule:nx},{start:1309,length:1,convRule:$y},{start:1310,length:1,convRule:nx},{start:1311,length:1,convRule:$y},{start:1312,length:1,convRule:nx},{start:1313,length:1,convRule:$y},{start:1314,length:1,convRule:nx},{start:1315,length:1,convRule:$y},{start:1316,length:1,convRule:nx},{start:1317,length:1,convRule:$y},{start:1318,length:1,convRule:nx},{start:1319,length:1,convRule:$y},{start:1320,length:1,convRule:nx},{start:1321,length:1,convRule:$y},{start:1322,length:1,convRule:nx},{start:1323,length:1,convRule:$y},{start:1324,length:1,convRule:nx},{start:1325,length:1,convRule:$y},{start:1326,length:1,convRule:nx},{start:1327,length:1,convRule:$y},{start:1329,length:38,convRule:mw},{start:1369,length:1,convRule:Ux},{start:1370,length:6,convRule:$O},{start:1376,length:1,convRule:My},{start:1377,length:38,convRule:oy},{start:1415,length:2,convRule:My},{start:1417,length:1,convRule:$O},{start:1418,length:1,convRule:WO},{start:1421,length:2,convRule:IO},{start:1423,length:1,convRule:FO},{start:1425,length:45,convRule:rw},{start:1470,length:1,convRule:WO},{start:1471,length:1,convRule:rw},{start:1472,length:1,convRule:$O},{start:1473,length:2,convRule:rw},{start:1475,length:1,convRule:$O},{start:1476,length:2,convRule:rw},{start:1478,length:1,convRule:$O},{start:1479,length:1,convRule:rw},{start:1488,length:27,convRule:qx},{start:1519,length:4,convRule:qx},{start:1523,length:2,convRule:$O},{start:1536,length:6,convRule:_b},{start:1542,length:3,convRule:MO},{start:1545,length:2,convRule:$O},{start:1547,length:1,convRule:FO},{start:1548,length:2,convRule:$O},{start:1550,length:2,convRule:IO},{start:1552,length:11,convRule:rw},{start:1563,length:1,convRule:$O},{start:1564,length:1,convRule:_b},{start:1566,length:2,convRule:$O},{start:1568,length:32,convRule:qx},{start:1600,length:1,convRule:Ux},{start:1601,length:10,convRule:qx},{start:1611,length:21,convRule:rw},{start:1632,length:10,convRule:ew},{start:1642,length:4,convRule:$O},{start:1646,length:2,convRule:qx},{start:1648,length:1,convRule:rw},{start:1649,length:99,convRule:qx},{start:1748,length:1,convRule:$O},{start:1749,length:1,convRule:qx},{start:1750,length:7,convRule:rw},{start:1757,length:1,convRule:_b},{start:1758,length:1,convRule:IO},{start:1759,length:6,convRule:rw},{start:1765,length:2,convRule:Ux},{start:1767,length:2,convRule:rw},{start:1769,length:1,convRule:IO},{start:1770,length:4,convRule:rw},{start:1774,length:2,convRule:qx},{start:1776,length:10,convRule:ew},{start:1786,length:3,convRule:qx},{start:1789,length:2,convRule:IO},{start:1791,length:1,convRule:qx},{start:1792,length:14,convRule:$O},{start:1807,length:1,convRule:_b},{start:1808,length:1,convRule:qx},{start:1809,length:1,convRule:rw},{start:1810,length:30,convRule:qx},{start:1840,length:27,convRule:rw},{start:1869,length:89,convRule:qx},{start:1958,length:11,convRule:rw},{start:1969,length:1,convRule:qx},{start:1984,length:10,convRule:ew},{start:1994,length:33,convRule:qx},{start:2027,length:9,convRule:rw},{start:2036,length:2,convRule:Ux},{start:2038,length:1,convRule:IO},{start:2039,length:3,convRule:$O},{start:2042,length:1,convRule:Ux},{start:2045,length:1,convRule:rw},{start:2046,length:2,convRule:FO},{start:2048,length:22,convRule:qx},{start:2070,length:4,convRule:rw},{start:2074,length:1,convRule:Ux},{start:2075,length:9,convRule:rw},{start:2084,length:1,convRule:Ux},{start:2085,length:3,convRule:rw},{start:2088,length:1,convRule:Ux},{start:2089,length:5,convRule:rw},{start:2096,length:15,convRule:$O},{start:2112,length:25,convRule:qx},{start:2137,length:3,convRule:rw},{start:2142,length:1,convRule:$O},{start:2144,length:11,convRule:qx},{start:2208,length:21,convRule:qx},{start:2230,length:18,convRule:qx},{start:2259,length:15,convRule:rw},{start:2274,length:1,convRule:_b},{start:2275,length:32,convRule:rw},{start:2307,length:1,convRule:aw},{start:2308,length:54,convRule:qx},{start:2362,length:1,convRule:rw},{start:2363,length:1,convRule:aw},{start:2364,length:1,convRule:rw},{start:2365,length:1,convRule:qx},{start:2366,length:3,convRule:aw},{start:2369,length:8,convRule:rw},{start:2377,length:4,convRule:aw},{start:2381,length:1,convRule:rw},{start:2382,length:2,convRule:aw},{start:2384,length:1,convRule:qx},{start:2385,length:7,convRule:rw},{start:2392,length:10,convRule:qx},{start:2402,length:2,convRule:rw},{start:2404,length:2,convRule:$O},{start:2406,length:10,convRule:ew},{start:2416,length:1,convRule:$O},{start:2417,length:1,convRule:Ux},{start:2418,length:15,convRule:qx},{start:2433,length:1,convRule:rw},{start:2434,length:2,convRule:aw},{start:2437,length:8,convRule:qx},{start:2447,length:2,convRule:qx},{start:2451,length:22,convRule:qx},{start:2474,length:7,convRule:qx},{start:2482,length:1,convRule:qx},{start:2486,length:4,convRule:qx},{start:2492,length:1,convRule:rw},{start:2493,length:1,convRule:qx},{start:2494,length:3,convRule:aw},{start:2497,length:4,convRule:rw},{start:2503,length:2,convRule:aw},{start:2507,length:2,convRule:aw},{start:2509,length:1,convRule:rw},{start:2510,length:1,convRule:qx},{start:2519,length:1,convRule:aw},{start:2524,length:2,convRule:qx},{start:2527,length:3,convRule:qx},{start:2530,length:2,convRule:rw},{start:2534,length:10,convRule:ew},{start:2544,length:2,convRule:qx},{start:2546,length:2,convRule:FO},{start:2548,length:6,convRule:jO},{start:2554,length:1,convRule:IO},{start:2555,length:1,convRule:FO},{start:2556,length:1,convRule:qx},{start:2557,length:1,convRule:$O},{start:2558,length:1,convRule:rw},{start:2561,length:2,convRule:rw},{start:2563,length:1,convRule:aw},{start:2565,length:6,convRule:qx},{start:2575,length:2,convRule:qx},{start:2579,length:22,convRule:qx},{start:2602,length:7,convRule:qx},{start:2610,length:2,convRule:qx},{start:2613,length:2,convRule:qx},{start:2616,length:2,convRule:qx},{start:2620,length:1,convRule:rw},{start:2622,length:3,convRule:aw},{start:2625,length:2,convRule:rw},{start:2631,length:2,convRule:rw},{start:2635,length:3,convRule:rw},{start:2641,length:1,convRule:rw},{start:2649,length:4,convRule:qx},{start:2654,length:1,convRule:qx},{start:2662,length:10,convRule:ew},{start:2672,length:2,convRule:rw},{start:2674,length:3,convRule:qx},{start:2677,length:1,convRule:rw},{start:2678,length:1,convRule:$O},{start:2689,length:2,convRule:rw},{start:2691,length:1,convRule:aw},{start:2693,length:9,convRule:qx},{start:2703,length:3,convRule:qx},{start:2707,length:22,convRule:qx},{start:2730,length:7,convRule:qx},{start:2738,length:2,convRule:qx},{start:2741,length:5,convRule:qx},{start:2748,length:1,convRule:rw},{start:2749,length:1,convRule:qx},{start:2750,length:3,convRule:aw},{start:2753,length:5,convRule:rw},{start:2759,length:2,convRule:rw},{start:2761,length:1,convRule:aw},{start:2763,length:2,convRule:aw},{start:2765,length:1,convRule:rw},{start:2768,length:1,convRule:qx},{start:2784,length:2,convRule:qx},{start:2786,length:2,convRule:rw},{start:2790,length:10,convRule:ew},{start:2800,length:1,convRule:$O},{start:2801,length:1,convRule:FO},{start:2809,length:1,convRule:qx},{start:2810,length:6,convRule:rw},{start:2817,length:1,convRule:rw},{start:2818,length:2,convRule:aw},{start:2821,length:8,convRule:qx},{start:2831,length:2,convRule:qx},{start:2835,length:22,convRule:qx},{start:2858,length:7,convRule:qx},{start:2866,length:2,convRule:qx},{start:2869,length:5,convRule:qx},{start:2876,length:1,convRule:rw},{start:2877,length:1,convRule:qx},{start:2878,length:1,convRule:aw},{start:2879,length:1,convRule:rw},{start:2880,length:1,convRule:aw},{start:2881,length:4,convRule:rw},{start:2887,length:2,convRule:aw},{start:2891,length:2,convRule:aw},{start:2893,length:1,convRule:rw},{start:2901,length:2,convRule:rw},{start:2903,length:1,convRule:aw},{start:2908,length:2,convRule:qx},{start:2911,length:3,convRule:qx},{start:2914,length:2,convRule:rw},{start:2918,length:10,convRule:ew},{start:2928,length:1,convRule:IO},{start:2929,length:1,convRule:qx},{start:2930,length:6,convRule:jO},{start:2946,length:1,convRule:rw},{start:2947,length:1,convRule:qx},{start:2949,length:6,convRule:qx},{start:2958,length:3,convRule:qx},{start:2962,length:4,convRule:qx},{start:2969,length:2,convRule:qx},{start:2972,length:1,convRule:qx},{start:2974,length:2,convRule:qx},{start:2979,length:2,convRule:qx},{start:2984,length:3,convRule:qx},{start:2990,length:12,convRule:qx},{start:3006,length:2,convRule:aw},{start:3008,length:1,convRule:rw},{start:3009,length:2,convRule:aw},{start:3014,length:3,convRule:aw},{start:3018,length:3,convRule:aw},{start:3021,length:1,convRule:rw},{start:3024,length:1,convRule:qx},{start:3031,length:1,convRule:aw},{start:3046,length:10,convRule:ew},{start:3056,length:3,convRule:jO},{start:3059,length:6,convRule:IO},{start:3065,length:1,convRule:FO},{start:3066,length:1,convRule:IO},{start:3072,length:1,convRule:rw},{start:3073,length:3,convRule:aw},{start:3076,length:1,convRule:rw},{start:3077,length:8,convRule:qx},{start:3086,length:3,convRule:qx},{start:3090,length:23,convRule:qx},{start:3114,length:16,convRule:qx},{start:3133,length:1,convRule:qx},{start:3134,length:3,convRule:rw},{start:3137,length:4,convRule:aw},{start:3142,length:3,convRule:rw},{start:3146,length:4,convRule:rw},{start:3157,length:2,convRule:rw},{start:3160,length:3,convRule:qx},{start:3168,length:2,convRule:qx},{start:3170,length:2,convRule:rw},{start:3174,length:10,convRule:ew},{start:3191,length:1,convRule:$O},{start:3192,length:7,convRule:jO},{start:3199,length:1,convRule:IO},{start:3200,length:1,convRule:qx},{start:3201,length:1,convRule:rw},{start:3202,length:2,convRule:aw},{start:3204,length:1,convRule:$O},{start:3205,length:8,convRule:qx},{start:3214,length:3,convRule:qx},{start:3218,length:23,convRule:qx},{start:3242,length:10,convRule:qx},{start:3253,length:5,convRule:qx},{start:3260,length:1,convRule:rw},{start:3261,length:1,convRule:qx},{start:3262,length:1,convRule:aw},{start:3263,length:1,convRule:rw},{start:3264,length:5,convRule:aw},{start:3270,length:1,convRule:rw},{start:3271,length:2,convRule:aw},{start:3274,length:2,convRule:aw},{start:3276,length:2,convRule:rw},{start:3285,length:2,convRule:aw},{start:3294,length:1,convRule:qx},{start:3296,length:2,convRule:qx},{start:3298,length:2,convRule:rw},{start:3302,length:10,convRule:ew},{start:3313,length:2,convRule:qx},{start:3328,length:2,convRule:rw},{start:3330,length:2,convRule:aw},{start:3332,length:9,convRule:qx},{start:3342,length:3,convRule:qx},{start:3346,length:41,convRule:qx},{start:3387,length:2,convRule:rw},{start:3389,length:1,convRule:qx},{start:3390,length:3,convRule:aw},{start:3393,length:4,convRule:rw},{start:3398,length:3,convRule:aw},{start:3402,length:3,convRule:aw},{start:3405,length:1,convRule:rw},{start:3406,length:1,convRule:qx},{start:3407,length:1,convRule:IO},{start:3412,length:3,convRule:qx},{start:3415,length:1,convRule:aw},{start:3416,length:7,convRule:jO},{start:3423,length:3,convRule:qx},{start:3426,length:2,convRule:rw},{start:3430,length:10,convRule:ew},{start:3440,length:9,convRule:jO},{start:3449,length:1,convRule:IO},{start:3450,length:6,convRule:qx},{start:3457,length:1,convRule:rw},{start:3458,length:2,convRule:aw},{start:3461,length:18,convRule:qx},{start:3482,length:24,convRule:qx},{start:3507,length:9,convRule:qx},{start:3517,length:1,convRule:qx},{start:3520,length:7,convRule:qx},{start:3530,length:1,convRule:rw},{start:3535,length:3,convRule:aw},{start:3538,length:3,convRule:rw},{start:3542,length:1,convRule:rw},{start:3544,length:8,convRule:aw},{start:3558,length:10,convRule:ew},{start:3570,length:2,convRule:aw},{start:3572,length:1,convRule:$O},{start:3585,length:48,convRule:qx},{start:3633,length:1,convRule:rw},{start:3634,length:2,convRule:qx},{start:3636,length:7,convRule:rw},{start:3647,length:1,convRule:FO},{start:3648,length:6,convRule:qx},{start:3654,length:1,convRule:Ux},{start:3655,length:8,convRule:rw},{start:3663,length:1,convRule:$O},{start:3664,length:10,convRule:ew},{start:3674,length:2,convRule:$O},{start:3713,length:2,convRule:qx},{start:3716,length:1,convRule:qx},{start:3718,length:5,convRule:qx},{start:3724,length:24,convRule:qx},{start:3749,length:1,convRule:qx},{start:3751,length:10,convRule:qx},{start:3761,length:1,convRule:rw},{start:3762,length:2,convRule:qx},{start:3764,length:9,convRule:rw},{start:3773,length:1,convRule:qx},{start:3776,length:5,convRule:qx},{start:3782,length:1,convRule:Ux},{start:3784,length:6,convRule:rw},{start:3792,length:10,convRule:ew},{start:3804,length:4,convRule:qx},{start:3840,length:1,convRule:qx},{start:3841,length:3,convRule:IO},{start:3844,length:15,convRule:$O},{start:3859,length:1,convRule:IO},{start:3860,length:1,convRule:$O},{start:3861,length:3,convRule:IO},{start:3864,length:2,convRule:rw},{start:3866,length:6,convRule:IO},{start:3872,length:10,convRule:ew},{start:3882,length:10,convRule:jO},{start:3892,length:1,convRule:IO},{start:3893,length:1,convRule:rw},{start:3894,length:1,convRule:IO},{start:3895,length:1,convRule:rw},{start:3896,length:1,convRule:IO},{start:3897,length:1,convRule:rw},{start:3898,length:1,convRule:qO},{start:3899,length:1,convRule:VO},{start:3900,length:1,convRule:qO},{start:3901,length:1,convRule:VO},{start:3902,length:2,convRule:aw},{start:3904,length:8,convRule:qx},{start:3913,length:36,convRule:qx},{start:3953,length:14,convRule:rw},{start:3967,length:1,convRule:aw},{start:3968,length:5,convRule:rw},{start:3973,length:1,convRule:$O},{start:3974,length:2,convRule:rw},{start:3976,length:5,convRule:qx},{start:3981,length:11,convRule:rw},{start:3993,length:36,convRule:rw},{start:4030,length:8,convRule:IO},{start:4038,length:1,convRule:rw},{start:4039,length:6,convRule:IO},{start:4046,length:2,convRule:IO},{start:4048,length:5,convRule:$O},{start:4053,length:4,convRule:IO},{start:4057,length:2,convRule:$O},{start:4096,length:43,convRule:qx},{start:4139,length:2,convRule:aw},{start:4141,length:4,convRule:rw},{start:4145,length:1,convRule:aw},{start:4146,length:6,convRule:rw},{start:4152,length:1,convRule:aw},{start:4153,length:2,convRule:rw},{start:4155,length:2,convRule:aw},{start:4157,length:2,convRule:rw},{start:4159,length:1,convRule:qx},{start:4160,length:10,convRule:ew},{start:4170,length:6,convRule:$O},{start:4176,length:6,convRule:qx},{start:4182,length:2,convRule:aw},{start:4184,length:2,convRule:rw},{start:4186,length:4,convRule:qx},{start:4190,length:3,convRule:rw},{start:4193,length:1,convRule:qx},{start:4194,length:3,convRule:aw},{start:4197,length:2,convRule:qx},{start:4199,length:7,convRule:aw},{start:4206,length:3,convRule:qx},{start:4209,length:4,convRule:rw},{start:4213,length:13,convRule:qx},{start:4226,length:1,convRule:rw},{start:4227,length:2,convRule:aw},{start:4229,length:2,convRule:rw},{start:4231,length:6,convRule:aw},{start:4237,length:1,convRule:rw},{start:4238,length:1,convRule:qx},{start:4239,length:1,convRule:aw},{start:4240,length:10,convRule:ew},{start:4250,length:3,convRule:aw},{start:4253,length:1,convRule:rw},{start:4254,length:2,convRule:IO},{start:4256,length:38,convRule:Rw},{start:4295,length:1,convRule:Rw},{start:4301,length:1,convRule:Rw},{start:4304,length:43,convRule:ly},{start:4347,length:1,convRule:$O},{start:4348,length:1,convRule:Ux},{start:4349,length:3,convRule:ly},{start:4352,length:329,convRule:qx},{start:4682,length:4,convRule:qx},{start:4688,length:7,convRule:qx},{start:4696,length:1,convRule:qx},{start:4698,length:4,convRule:qx},{start:4704,length:41,convRule:qx},{start:4746,length:4,convRule:qx},{start:4752,length:33,convRule:qx},{start:4786,length:4,convRule:qx},{start:4792,length:7,convRule:qx},{start:4800,length:1,convRule:qx},{start:4802,length:4,convRule:qx},{start:4808,length:15,convRule:qx},{start:4824,length:57,convRule:qx},{start:4882,length:4,convRule:qx},{start:4888,length:67,convRule:qx},{start:4957,length:3,convRule:rw},{start:4960,length:9,convRule:$O},{start:4969,length:20,convRule:jO},{start:4992,length:16,convRule:qx},{start:5008,length:10,convRule:IO},{start:5024,length:80,convRule:Ow},{start:5104,length:6,convRule:hw},{start:5112,length:6,convRule:Kx},{start:5120,length:1,convRule:WO},{start:5121,length:620,convRule:qx},{start:5741,length:1,convRule:IO},{start:5742,length:1,convRule:$O},{start:5743,length:17,convRule:qx},{start:5760,length:1,convRule:EO},{start:5761,length:26,convRule:qx},{start:5787,length:1,convRule:qO},{start:5788,length:1,convRule:VO},{start:5792,length:75,convRule:qx},{start:5867,length:3,convRule:$O},{start:5870,length:3,convRule:ZO},{start:5873,length:8,convRule:qx},{start:5888,length:13,convRule:qx},{start:5902,length:4,convRule:qx},{start:5906,length:3,convRule:rw},{start:5920,length:18,convRule:qx},{start:5938,length:3,convRule:rw},{start:5941,length:2,convRule:$O},{start:5952,length:18,convRule:qx},{start:5970,length:2,convRule:rw},{start:5984,length:13,convRule:qx},{start:5998,length:3,convRule:qx},{start:6002,length:2,convRule:rw},{start:6016,length:52,convRule:qx},{start:6068,length:2,convRule:rw},{start:6070,length:1,convRule:aw},{start:6071,length:7,convRule:rw},{start:6078,length:8,convRule:aw},{start:6086,length:1,convRule:rw},{start:6087,length:2,convRule:aw},{start:6089,length:11,convRule:rw},{start:6100,length:3,convRule:$O},{start:6103,length:1,convRule:Ux},{start:6104,length:3,convRule:$O},{start:6107,length:1,convRule:FO},{start:6108,length:1,convRule:qx},{start:6109,length:1,convRule:rw},{start:6112,length:10,convRule:ew},{start:6128,length:10,convRule:jO},{start:6144,length:6,convRule:$O},{start:6150,length:1,convRule:WO},{start:6151,length:4,convRule:$O},{start:6155,length:3,convRule:rw},{start:6158,length:1,convRule:_b},{start:6160,length:10,convRule:ew},{start:6176,length:35,convRule:qx},{start:6211,length:1,convRule:Ux},{start:6212,length:53,convRule:qx},{start:6272,length:5,convRule:qx},{start:6277,length:2,convRule:rw},{start:6279,length:34,convRule:qx},{start:6313,length:1,convRule:rw},{start:6314,length:1,convRule:qx},{start:6320,length:70,convRule:qx},{start:6400,length:31,convRule:qx},{start:6432,length:3,convRule:rw},{start:6435,length:4,convRule:aw},{start:6439,length:2,convRule:rw},{start:6441,length:3,convRule:aw},{start:6448,length:2,convRule:aw},{start:6450,length:1,convRule:rw},{start:6451,length:6,convRule:aw},{start:6457,length:3,convRule:rw},{start:6464,length:1,convRule:IO},{start:6468,length:2,convRule:$O},{start:6470,length:10,convRule:ew},{start:6480,length:30,convRule:qx},{start:6512,length:5,convRule:qx},{start:6528,length:44,convRule:qx},{start:6576,length:26,convRule:qx},{start:6608,length:10,convRule:ew},{start:6618,length:1,convRule:jO},{start:6622,length:34,convRule:IO},{start:6656,length:23,convRule:qx},{start:6679,length:2,convRule:rw},{start:6681,length:2,convRule:aw},{start:6683,length:1,convRule:rw},{start:6686,length:2,convRule:$O},{start:6688,length:53,convRule:qx},{start:6741,length:1,convRule:aw},{start:6742,length:1,convRule:rw},{start:6743,length:1,convRule:aw},{start:6744,length:7,convRule:rw},{start:6752,length:1,convRule:rw},{start:6753,length:1,convRule:aw},{start:6754,length:1,convRule:rw},{start:6755,length:2,convRule:aw},{start:6757,length:8,convRule:rw},{start:6765,length:6,convRule:aw},{start:6771,length:10,convRule:rw},{start:6783,length:1,convRule:rw},{start:6784,length:10,convRule:ew},{start:6800,length:10,convRule:ew},{start:6816,length:7,convRule:$O},{start:6823,length:1,convRule:Ux},{start:6824,length:6,convRule:$O},{start:6832,length:14,convRule:rw},{start:6846,length:1,convRule:ow},{start:6847,length:2,convRule:rw},{start:6912,length:4,convRule:rw},{start:6916,length:1,convRule:aw},{start:6917,length:47,convRule:qx},{start:6964,length:1,convRule:rw},{start:6965,length:1,convRule:aw},{start:6966,length:5,convRule:rw},{start:6971,length:1,convRule:aw},{start:6972,length:1,convRule:rw},{start:6973,length:5,convRule:aw},{start:6978,length:1,convRule:rw},{start:6979,length:2,convRule:aw},{start:6981,length:7,convRule:qx},{start:6992,length:10,convRule:ew},{start:7002,length:7,convRule:$O},{start:7009,length:10,convRule:IO},{start:7019,length:9,convRule:rw},{start:7028,length:9,convRule:IO},{start:7040,length:2,convRule:rw},{start:7042,length:1,convRule:aw},{start:7043,length:30,convRule:qx},{start:7073,length:1,convRule:aw},{start:7074,length:4,convRule:rw},{start:7078,length:2,convRule:aw},{start:7080,length:2,convRule:rw},{start:7082,length:1,convRule:aw},{start:7083,length:3,convRule:rw},{start:7086,length:2,convRule:qx},{start:7088,length:10,convRule:ew},{start:7098,length:44,convRule:qx},{start:7142,length:1,convRule:rw},{start:7143,length:1,convRule:aw},{start:7144,length:2,convRule:rw},{start:7146,length:3,convRule:aw},{start:7149,length:1,convRule:rw},{start:7150,length:1,convRule:aw},{start:7151,length:3,convRule:rw},{start:7154,length:2,convRule:aw},{start:7164,length:4,convRule:$O},{start:7168,length:36,convRule:qx},{start:7204,length:8,convRule:aw},{start:7212,length:8,convRule:rw},{start:7220,length:2,convRule:aw},{start:7222,length:2,convRule:rw},{start:7227,length:5,convRule:$O},{start:7232,length:10,convRule:ew},{start:7245,length:3,convRule:qx},{start:7248,length:10,convRule:ew},{start:7258,length:30,convRule:qx},{start:7288,length:6,convRule:Ux},{start:7294,length:2,convRule:$O},{start:7296,length:1,convRule:ay},{start:7297,length:1,convRule:uy},{start:7298,length:1,convRule:cy},{start:7299,length:2,convRule:hy},{start:7301,length:1,convRule:fy},{start:7302,length:1,convRule:vy},{start:7303,length:1,convRule:dy},{start:7304,length:1,convRule:gy},{start:7312,length:43,convRule:ww},{start:7357,length:3,convRule:ww},{start:7360,length:8,convRule:$O},{start:7376,length:3,convRule:rw},{start:7379,length:1,convRule:$O},{start:7380,length:13,convRule:rw},{start:7393,length:1,convRule:aw},{start:7394,length:7,convRule:rw},{start:7401,length:4,convRule:qx},{start:7405,length:1,convRule:rw},{start:7406,length:6,convRule:qx},{start:7412,length:1,convRule:rw},{start:7413,length:2,convRule:qx},{start:7415,length:1,convRule:aw},{start:7416,length:2,convRule:rw},{start:7418,length:1,convRule:qx},{start:7424,length:44,convRule:My},{start:7468,length:63,convRule:Ux},{start:7531,length:13,convRule:My},{start:7544,length:1,convRule:Ux},{start:7545,length:1,convRule:py},{start:7546,length:3,convRule:My},{start:7549,length:1,convRule:my},{start:7550,length:16,convRule:My},{start:7566,length:1,convRule:Ry},{start:7567,length:12,convRule:My},{start:7579,length:37,convRule:Ux},{start:7616,length:58,convRule:rw},{start:7675,length:5,convRule:rw},{start:7680,length:1,convRule:nx},{start:7681,length:1,convRule:$y},{start:7682,length:1,convRule:nx},{start:7683,length:1,convRule:$y},{start:7684,length:1,convRule:nx},{start:7685,length:1,convRule:$y},{start:7686,length:1,convRule:nx},{start:7687,length:1,convRule:$y},{start:7688,length:1,convRule:nx},{start:7689,length:1,convRule:$y},{start:7690,length:1,convRule:nx},{start:7691,length:1,convRule:$y},{start:7692,length:1,convRule:nx},{start:7693,length:1,convRule:$y},{start:7694,length:1,convRule:nx},{start:7695,length:1,convRule:$y},{start:7696,length:1,convRule:nx},{start:7697,length:1,convRule:$y},{start:7698,length:1,convRule:nx},{start:7699,length:1,convRule:$y},{start:7700,length:1,convRule:nx},{start:7701,length:1,convRule:$y},{start:7702,length:1,convRule:nx},{start:7703,length:1,convRule:$y},{start:7704,length:1,convRule:nx},{start:7705,length:1,convRule:$y},{start:7706,length:1,convRule:nx},{start:7707,length:1,convRule:$y},{start:7708,length:1,convRule:nx},{start:7709,length:1,convRule:$y},{start:7710,length:1,convRule:nx},{start:7711,length:1,convRule:$y},{start:7712,length:1,convRule:nx},{start:7713,length:1,convRule:$y},{start:7714,length:1,convRule:nx},{start:7715,length:1,convRule:$y},{start:7716,length:1,convRule:nx},{start:7717,length:1,convRule:$y},{start:7718,length:1,convRule:nx},{start:7719,length:1,convRule:$y},{start:7720,length:1,convRule:nx},{start:7721,length:1,convRule:$y},{start:7722,length:1,convRule:nx},{start:7723,length:1,convRule:$y},{start:7724,length:1,convRule:nx},{start:7725,length:1,convRule:$y},{start:7726,length:1,convRule:nx},{start:7727,length:1,convRule:$y},{start:7728,length:1,convRule:nx},{start:7729,length:1,convRule:$y},{start:7730,length:1,convRule:nx},{start:7731,length:1,convRule:$y},{start:7732,length:1,convRule:nx},{start:7733,length:1,convRule:$y},{start:7734,length:1,convRule:nx},{start:7735,length:1,convRule:$y},{start:7736,length:1,convRule:nx},{start:7737,length:1,convRule:$y},{start:7738,length:1,convRule:nx},{start:7739,length:1,convRule:$y},{start:7740,length:1,convRule:nx},{start:7741,length:1,convRule:$y},{start:7742,length:1,convRule:nx},{start:7743,length:1,convRule:$y},{start:7744,length:1,convRule:nx},{start:7745,length:1,convRule:$y},{start:7746,length:1,convRule:nx},{start:7747,length:1,convRule:$y},{start:7748,length:1,convRule:nx},{start:7749,length:1,convRule:$y},{start:7750,length:1,convRule:nx},{start:7751,length:1,convRule:$y},{start:7752,length:1,convRule:nx},{start:7753,length:1,convRule:$y},{start:7754,length:1,convRule:nx},{start:7755,length:1,convRule:$y},{start:7756,length:1,convRule:nx},{start:7757,length:1,convRule:$y},{start:7758,length:1,convRule:nx},{start:7759,length:1,convRule:$y},{start:7760,length:1,convRule:nx},{start:7761,length:1,convRule:$y},{start:7762,length:1,convRule:nx},{start:7763,length:1,convRule:$y},{start:7764,length:1,convRule:nx},{start:7765,length:1,convRule:$y},{start:7766,length:1,convRule:nx},{start:7767,length:1,convRule:$y},{start:7768,length:1,convRule:nx},{start:7769,length:1,convRule:$y},{start:7770,length:1,convRule:nx},{start:7771,length:1,convRule:$y},{start:7772,length:1,convRule:nx},{start:7773,length:1,convRule:$y},{start:7774,length:1,convRule:nx},{start:7775,length:1,convRule:$y},{start:7776,length:1,convRule:nx},{start:7777,length:1,convRule:$y},{start:7778,length:1,convRule:nx},{start:7779,length:1,convRule:$y},{start:7780,length:1,convRule:nx},{start:7781,length:1,convRule:$y},{start:7782,length:1,convRule:nx},{start:7783,length:1,convRule:$y},{start:7784,length:1,convRule:nx},{start:7785,length:1,convRule:$y},{start:7786,length:1,convRule:nx},{start:7787,length:1,convRule:$y},{start:7788,length:1,convRule:nx},{start:7789,length:1,convRule:$y},{start:7790,length:1,convRule:nx},{start:7791,length:1,convRule:$y},{start:7792,length:1,convRule:nx},{start:7793,length:1,convRule:$y},{start:7794,length:1,convRule:nx},{start:7795,length:1,convRule:$y},{start:7796,length:1,convRule:nx},{start:7797,length:1,convRule:$y},{start:7798,length:1,convRule:nx},{start:7799,length:1,convRule:$y},{start:7800,length:1,convRule:nx},{start:7801,length:1,convRule:$y},{start:7802,length:1,convRule:nx},{start:7803,length:1,convRule:$y},{start:7804,length:1,convRule:nx},{start:7805,length:1,convRule:$y},{start:7806,length:1,convRule:nx},{start:7807,length:1,convRule:$y},{start:7808,length:1,convRule:nx},{start:7809,length:1,convRule:$y},{start:7810,length:1,convRule:nx},{start:7811,length:1,convRule:$y},{start:7812,length:1,convRule:nx},{start:7813,length:1,convRule:$y},{start:7814,length:1,convRule:nx},{start:7815,length:1,convRule:$y},{start:7816,length:1,convRule:nx},{start:7817,length:1,convRule:$y},{start:7818,length:1,convRule:nx},{start:7819,length:1,convRule:$y},{start:7820,length:1,convRule:nx},{start:7821,length:1,convRule:$y},{start:7822,length:1,convRule:nx},{start:7823,length:1,convRule:$y},{start:7824,length:1,convRule:nx},{start:7825,length:1,convRule:$y},{start:7826,length:1,convRule:nx},{start:7827,length:1,convRule:$y},{start:7828,length:1,convRule:nx},{start:7829,length:1,convRule:$y},{start:7830,length:5,convRule:My},{start:7835,length:1,convRule:Oy},{start:7836,length:2,convRule:My},{start:7838,length:1,convRule:xw},{start:7839,length:1,convRule:My},{start:7840,length:1,convRule:nx},{start:7841,length:1,convRule:$y},{start:7842,length:1,convRule:nx},{start:7843,length:1,convRule:$y},{start:7844,length:1,convRule:nx},{start:7845,length:1,convRule:$y},{start:7846,length:1,convRule:nx},{start:7847,length:1,convRule:$y},{start:7848,length:1,convRule:nx},{start:7849,length:1,convRule:$y},{start:7850,length:1,convRule:nx},{start:7851,length:1,convRule:$y},{start:7852,length:1,convRule:nx},{start:7853,length:1,convRule:$y},{start:7854,length:1,convRule:nx},{start:7855,length:1,convRule:$y},{start:7856,length:1,convRule:nx},{start:7857,length:1,convRule:$y},{start:7858,length:1,convRule:nx},{start:7859,length:1,convRule:$y},{start:7860,length:1,convRule:nx},{start:7861,length:1,convRule:$y},{start:7862,length:1,convRule:nx},{start:7863,length:1,convRule:$y},{start:7864,length:1,convRule:nx},{start:7865,length:1,convRule:$y},{start:7866,length:1,convRule:nx},{start:7867,length:1,convRule:$y},{start:7868,length:1,convRule:nx},{start:7869,length:1,convRule:$y},{start:7870,length:1,convRule:nx},{start:7871,length:1,convRule:$y},{start:7872,length:1,convRule:nx},{start:7873,length:1,convRule:$y},{start:7874,length:1,convRule:nx},{start:7875,length:1,convRule:$y},{start:7876,length:1,convRule:nx},{start:7877,length:1,convRule:$y},{start:7878,length:1,convRule:nx},{start:7879,length:1,convRule:$y},{start:7880,length:1,convRule:nx},{start:7881,length:1,convRule:$y},{start:7882,length:1,convRule:nx},{start:7883,length:1,convRule:$y},{start:7884,length:1,convRule:nx},{start:7885,length:1,convRule:$y},{start:7886,length:1,convRule:nx},{start:7887,length:1,convRule:$y},{start:7888,length:1,convRule:nx},{start:7889,length:1,convRule:$y},{start:7890,length:1,convRule:nx},{start:7891,length:1,convRule:$y},{start:7892,length:1,convRule:nx},{start:7893,length:1,convRule:$y},{start:7894,length:1,convRule:nx},{start:7895,length:1,convRule:$y},{start:7896,length:1,convRule:nx},{start:7897,length:1,convRule:$y},{start:7898,length:1,convRule:nx},{start:7899,length:1,convRule:$y},{start:7900,length:1,convRule:nx},{start:7901,length:1,convRule:$y},{start:7902,length:1,convRule:nx},{start:7903,length:1,convRule:$y},{start:7904,length:1,convRule:nx},{start:7905,length:1,convRule:$y},{start:7906,length:1,convRule:nx},{start:7907,length:1,convRule:$y},{start:7908,length:1,convRule:nx},{start:7909,length:1,convRule:$y},{start:7910,length:1,convRule:nx},{start:7911,length:1,convRule:$y},{start:7912,length:1,convRule:nx},{start:7913,length:1,convRule:$y},{start:7914,length:1,convRule:nx},{start:7915,length:1,convRule:$y},{start:7916,length:1,convRule:nx},{start:7917,length:1,convRule:$y},{start:7918,length:1,convRule:nx},{start:7919,length:1,convRule:$y},{start:7920,length:1,convRule:nx},{start:7921,length:1,convRule:$y},{start:7922,length:1,convRule:nx},{start:7923,length:1,convRule:$y},{start:7924,length:1,convRule:nx},{start:7925,length:1,convRule:$y},{start:7926,length:1,convRule:nx},{start:7927,length:1,convRule:$y},{start:7928,length:1,convRule:nx},{start:7929,length:1,convRule:$y},{start:7930,length:1,convRule:nx},{start:7931,length:1,convRule:$y},{start:7932,length:1,convRule:nx},{start:7933,length:1,convRule:$y},{start:7934,length:1,convRule:nx},{start:7935,length:1,convRule:$y},{start:7936,length:8,convRule:wy},{start:7944,length:8,convRule:yw},{start:7952,length:6,convRule:wy},{start:7960,length:6,convRule:yw},{start:7968,length:8,convRule:wy},{start:7976,length:8,convRule:yw},{start:7984,length:8,convRule:wy},{start:7992,length:8,convRule:yw},{start:8e3,length:6,convRule:wy},{start:8008,length:6,convRule:yw},{start:8016,length:1,convRule:My},{start:8017,length:1,convRule:wy},{start:8018,length:1,convRule:My},{start:8019,length:1,convRule:wy},{start:8020,length:1,convRule:My},{start:8021,length:1,convRule:wy},{start:8022,length:1,convRule:My},{start:8023,length:1,convRule:wy},{start:8025,length:1,convRule:yw},{start:8027,length:1,convRule:yw},{start:8029,length:1,convRule:yw},{start:8031,length:1,convRule:yw},{start:8032,length:8,convRule:wy},{start:8040,length:8,convRule:yw},{start:8048,length:2,convRule:xy},{start:8050,length:4,convRule:yy},{start:8054,length:2,convRule:by},{start:8056,length:2,convRule:Cy},{start:8058,length:2,convRule:Sy},{start:8060,length:2,convRule:Ty},{start:8064,length:8,convRule:wy},{start:8072,length:8,convRule:Qx},{start:8080,length:8,convRule:wy},{start:8088,length:8,convRule:Qx},{start:8096,length:8,convRule:wy},{start:8104,length:8,convRule:Qx},{start:8112,length:2,convRule:wy},{start:8114,length:1,convRule:My},{start:8115,length:1,convRule:ky},{start:8116,length:1,convRule:My},{start:8118,length:2,convRule:My},{start:8120,length:2,convRule:yw},{start:8122,length:2,convRule:bw},{start:8124,length:1,convRule:Mx},{start:8125,length:1,convRule:BO},{start:8126,length:1,convRule:Ay},{start:8127,length:3,convRule:BO},{start:8130,length:1,convRule:My},{start:8131,length:1,convRule:ky},{start:8132,length:1,convRule:My},{start:8134,length:2,convRule:My},{start:8136,length:4,convRule:Cw},{start:8140,length:1,convRule:Mx},{start:8141,length:3,convRule:BO},{start:8144,length:2,convRule:wy},{start:8146,length:2,convRule:My},{start:8150,length:2,convRule:My},{start:8152,length:2,convRule:yw},{start:8154,length:2,convRule:Sw},{start:8157,length:3,convRule:BO},{start:8160,length:2,convRule:wy},{start:8162,length:3,convRule:My},{start:8165,length:1,convRule:ey},{start:8166,length:2,convRule:My},{start:8168,length:2,convRule:yw},{start:8170,length:2,convRule:Tw},{start:8172,length:1,convRule:dw},{start:8173,length:3,convRule:BO},{start:8178,length:1,convRule:My},{start:8179,length:1,convRule:ky},{start:8180,length:1,convRule:My},{start:8182,length:2,convRule:My},{start:8184,length:2,convRule:kw},{start:8186,length:2,convRule:Aw},{start:8188,length:1,convRule:Mx},{start:8189,length:2,convRule:BO},{start:8192,length:11,convRule:EO},{start:8203,length:5,convRule:_b},{start:8208,length:6,convRule:WO},{start:8214,length:2,convRule:$O},{start:8216,length:1,convRule:UO},{start:8217,length:1,convRule:HO},{start:8218,length:1,convRule:qO},{start:8219,length:2,convRule:UO},{start:8221,length:1,convRule:HO},{start:8222,length:1,convRule:qO},{start:8223,length:1,convRule:UO},{start:8224,length:8,convRule:$O},{start:8232,length:1,convRule:LO},{start:8233,length:1,convRule:_O},{start:8234,length:5,convRule:_b},{start:8239,length:1,convRule:EO},{start:8240,length:9,convRule:$O},{start:8249,length:1,convRule:UO},{start:8250,length:1,convRule:HO},{start:8251,length:4,convRule:$O},{start:8255,length:2,convRule:zO},{start:8257,length:3,convRule:$O},{start:8260,length:1,convRule:MO},{start:8261,length:1,convRule:qO},{start:8262,length:1,convRule:VO},{start:8263,length:11,convRule:$O},{start:8274,length:1,convRule:MO},{start:8275,length:1,convRule:$O},{start:8276,length:1,convRule:zO},{start:8277,length:10,convRule:$O},{start:8287,length:1,convRule:EO},{start:8288,length:5,convRule:_b},{start:8294,length:10,convRule:_b},{start:8304,length:1,convRule:jO},{start:8305,length:1,convRule:Ux},{start:8308,length:6,convRule:jO},{start:8314,length:3,convRule:MO},{start:8317,length:1,convRule:qO},{start:8318,length:1,convRule:VO},{start:8319,length:1,convRule:Ux},{start:8320,length:10,convRule:jO},{start:8330,length:3,convRule:MO},{start:8333,length:1,convRule:qO},{start:8334,length:1,convRule:VO},{start:8336,length:13,convRule:Ux},{start:8352,length:32,convRule:FO},{start:8400,length:13,convRule:rw},{start:8413,length:4,convRule:ow},{start:8417,length:1,convRule:rw},{start:8418,length:3,convRule:ow},{start:8421,length:12,convRule:rw},{start:8448,length:2,convRule:IO},{start:8450,length:1,convRule:fw},{start:8451,length:4,convRule:IO},{start:8455,length:1,convRule:fw},{start:8456,length:2,convRule:IO},{start:8458,length:1,convRule:My},{start:8459,length:3,convRule:fw},{start:8462,length:2,convRule:My},{start:8464,length:3,convRule:fw},{start:8467,length:1,convRule:My},{start:8468,length:1,convRule:IO},{start:8469,length:1,convRule:fw},{start:8470,length:2,convRule:IO},{start:8472,length:1,convRule:MO},{start:8473,length:5,convRule:fw},{start:8478,length:6,convRule:IO},{start:8484,length:1,convRule:fw},{start:8485,length:1,convRule:IO},{start:8486,length:1,convRule:Pw},{start:8487,length:1,convRule:IO},{start:8488,length:1,convRule:fw},{start:8489,length:1,convRule:IO},{start:8490,length:1,convRule:Ew},{start:8491,length:1,convRule:_w},{start:8492,length:2,convRule:fw},{start:8494,length:1,convRule:IO},{start:8495,length:1,convRule:My},{start:8496,length:2,convRule:fw},{start:8498,length:1,convRule:Lw},{start:8499,length:1,convRule:fw},{start:8500,length:1,convRule:My},{start:8501,length:4,convRule:qx},{start:8505,length:1,convRule:My},{start:8506,length:2,convRule:IO},{start:8508,length:2,convRule:My},{start:8510,length:2,convRule:fw},{start:8512,length:5,convRule:MO},{start:8517,length:1,convRule:fw},{start:8518,length:4,convRule:My},{start:8522,length:1,convRule:IO},{start:8523,length:1,convRule:MO},{start:8524,length:2,convRule:IO},{start:8526,length:1,convRule:Py},{start:8527,length:1,convRule:IO},{start:8528,length:16,convRule:jO},{start:8544,length:16,convRule:KO},{start:8560,length:16,convRule:JO},{start:8576,length:3,convRule:ZO},{start:8579,length:1,convRule:nx},{start:8580,length:1,convRule:$y},{start:8581,length:4,convRule:ZO},{start:8585,length:1,convRule:jO},{start:8586,length:2,convRule:IO},{start:8592,length:5,convRule:MO},{start:8597,length:5,convRule:IO},{start:8602,length:2,convRule:MO},{start:8604,length:4,convRule:IO},{start:8608,length:1,convRule:MO},{start:8609,length:2,convRule:IO},{start:8611,length:1,convRule:MO},{start:8612,length:2,convRule:IO},{start:8614,length:1,convRule:MO},{start:8615,length:7,convRule:IO},{start:8622,length:1,convRule:MO},{start:8623,length:31,convRule:IO},{start:8654,length:2,convRule:MO},{start:8656,length:2,convRule:IO},{start:8658,length:1,convRule:MO},{start:8659,length:1,convRule:IO},{start:8660,length:1,convRule:MO},{start:8661,length:31,convRule:IO},{start:8692,length:268,convRule:MO},{start:8960,length:8,convRule:IO},{start:8968,length:1,convRule:qO},{start:8969,length:1,convRule:VO},{start:8970,length:1,convRule:qO},{start:8971,length:1,convRule:VO},{start:8972,length:20,convRule:IO},{start:8992,length:2,convRule:MO},{start:8994,length:7,convRule:IO},{start:9001,length:1,convRule:qO},{start:9002,length:1,convRule:VO},{start:9003,length:81,convRule:IO},{start:9084,length:1,convRule:MO},{start:9085,length:30,convRule:IO},{start:9115,length:25,convRule:MO},{start:9140,length:40,convRule:IO},{start:9180,length:6,convRule:MO},{start:9186,length:69,convRule:IO},{start:9280,length:11,convRule:IO},{start:9312,length:60,convRule:jO},{start:9372,length:26,convRule:IO},{start:9398,length:26,convRule:NO},{start:9424,length:26,convRule:QO},{start:9450,length:22,convRule:jO},{start:9472,length:183,convRule:IO},{start:9655,length:1,convRule:MO},{start:9656,length:9,convRule:IO},{start:9665,length:1,convRule:MO},{start:9666,length:54,convRule:IO},{start:9720,length:8,convRule:MO},{start:9728,length:111,convRule:IO},{start:9839,length:1,convRule:MO},{start:9840,length:248,convRule:IO},{start:10088,length:1,convRule:qO},{start:10089,length:1,convRule:VO},{start:10090,length:1,convRule:qO},{start:10091,length:1,convRule:VO},{start:10092,length:1,convRule:qO},{start:10093,length:1,convRule:VO},{start:10094,length:1,convRule:qO},{start:10095,length:1,convRule:VO},{start:10096,length:1,convRule:qO},{start:10097,length:1,convRule:VO},{start:10098,length:1,convRule:qO},{start:10099,length:1,convRule:VO},{start:10100,length:1,convRule:qO},{start:10101,length:1,convRule:VO},{start:10102,length:30,convRule:jO},{start:10132,length:44,convRule:IO},{start:10176,length:5,convRule:MO},{start:10181,length:1,convRule:qO},{start:10182,length:1,convRule:VO},{start:10183,length:31,convRule:MO},{start:10214,length:1,convRule:qO},{start:10215,length:1,convRule:VO},{start:10216,length:1,convRule:qO},{start:10217,length:1,convRule:VO},{start:10218,length:1,convRule:qO},{start:10219,length:1,convRule:VO},{start:10220,length:1,convRule:qO},{start:10221,length:1,convRule:VO},{start:10222,length:1,convRule:qO},{start:10223,length:1,convRule:VO},{start:10224,length:16,convRule:MO},{start:10240,length:256,convRule:IO},{start:10496,length:131,convRule:MO},{start:10627,length:1,convRule:qO},{start:10628,length:1,convRule:VO},{start:10629,length:1,convRule:qO},{start:10630,length:1,convRule:VO},{start:10631,length:1,convRule:qO},{start:10632,length:1,convRule:VO},{start:10633,length:1,convRule:qO},{start:10634,length:1,convRule:VO},{start:10635,length:1,convRule:qO},{start:10636,length:1,convRule:VO},{start:10637,length:1,convRule:qO},{start:10638,length:1,convRule:VO},{start:10639,length:1,convRule:qO},{start:10640,length:1,convRule:VO},{start:10641,length:1,convRule:qO},{start:10642,length:1,convRule:VO},{start:10643,length:1,convRule:qO},{start:10644,length:1,convRule:VO},{start:10645,length:1,convRule:qO},{start:10646,length:1,convRule:VO},{start:10647,length:1,convRule:qO},{start:10648,length:1,convRule:VO},{start:10649,length:63,convRule:MO},{start:10712,length:1,convRule:qO},{start:10713,length:1,convRule:VO},{start:10714,length:1,convRule:qO},{start:10715,length:1,convRule:VO},{start:10716,length:32,convRule:MO},{start:10748,length:1,convRule:qO},{start:10749,length:1,convRule:VO},{start:10750,length:258,convRule:MO},{start:11008,length:48,convRule:IO},{start:11056,length:21,convRule:MO},{start:11077,length:2,convRule:IO},{start:11079,length:6,convRule:MO},{start:11085,length:39,convRule:IO},{start:11126,length:32,convRule:IO},{start:11159,length:105,convRule:IO},{start:11264,length:47,convRule:mw},{start:11312,length:47,convRule:oy},{start:11360,length:1,convRule:nx},{start:11361,length:1,convRule:$y},{start:11362,length:1,convRule:Dw},{start:11363,length:1,convRule:Iw},{start:11364,length:1,convRule:Nw},{start:11365,length:1,convRule:Ey},{start:11366,length:1,convRule:_y},{start:11367,length:1,convRule:nx},{start:11368,length:1,convRule:$y},{start:11369,length:1,convRule:nx},{start:11370,length:1,convRule:$y},{start:11371,length:1,convRule:nx},{start:11372,length:1,convRule:$y},{start:11373,length:1,convRule:Qw},{start:11374,length:1,convRule:Mw},{start:11375,length:1,convRule:Bw},{start:11376,length:1,convRule:Fw},{start:11377,length:1,convRule:My},{start:11378,length:1,convRule:nx},{start:11379,length:1,convRule:$y},{start:11380,length:1,convRule:My},{start:11381,length:1,convRule:nx},{start:11382,length:1,convRule:$y},{start:11383,length:5,convRule:My},{start:11388,length:2,convRule:Ux},{start:11390,length:2,convRule:qw},{start:11392,length:1,convRule:nx},{start:11393,length:1,convRule:$y},{start:11394,length:1,convRule:nx},{start:11395,length:1,convRule:$y},{start:11396,length:1,convRule:nx},{start:11397,length:1,convRule:$y},{start:11398,length:1,convRule:nx},{start:11399,length:1,convRule:$y},{start:11400,length:1,convRule:nx},{start:11401,length:1,convRule:$y},{start:11402,length:1,convRule:nx},{start:11403,length:1,convRule:$y},{start:11404,length:1,convRule:nx},{start:11405,length:1,convRule:$y},{start:11406,length:1,convRule:nx},{start:11407,length:1,convRule:$y},{start:11408,length:1,convRule:nx},{start:11409,length:1,convRule:$y},{start:11410,length:1,convRule:nx},{start:11411,length:1,convRule:$y},{start:11412,length:1,convRule:nx},{start:11413,length:1,convRule:$y},{start:11414,length:1,convRule:nx},{start:11415,length:1,convRule:$y},{start:11416,length:1,convRule:nx},{start:11417,length:1,convRule:$y},{start:11418,length:1,convRule:nx},{start:11419,length:1,convRule:$y},{start:11420,length:1,convRule:nx},{start:11421,length:1,convRule:$y},{start:11422,length:1,convRule:nx},{start:11423,length:1,convRule:$y},{start:11424,length:1,convRule:nx},{start:11425,length:1,convRule:$y},{start:11426,length:1,convRule:nx},{start:11427,length:1,convRule:$y},{start:11428,length:1,convRule:nx},{start:11429,length:1,convRule:$y},{start:11430,length:1,convRule:nx},{start:11431,length:1,convRule:$y},{start:11432,length:1,convRule:nx},{start:11433,length:1,convRule:$y},{start:11434,length:1,convRule:nx},{start:11435,length:1,convRule:$y},{start:11436,length:1,convRule:nx},{start:11437,length:1,convRule:$y},{start:11438,length:1,convRule:nx},{start:11439,length:1,convRule:$y},{start:11440,length:1,convRule:nx},{start:11441,length:1,convRule:$y},{start:11442,length:1,convRule:nx},{start:11443,length:1,convRule:$y},{start:11444,length:1,convRule:nx},{start:11445,length:1,convRule:$y},{start:11446,length:1,convRule:nx},{start:11447,length:1,convRule:$y},{start:11448,length:1,convRule:nx},{start:11449,length:1,convRule:$y},{start:11450,length:1,convRule:nx},{start:11451,length:1,convRule:$y},{start:11452,length:1,convRule:nx},{start:11453,length:1,convRule:$y},{start:11454,length:1,convRule:nx},{start:11455,length:1,convRule:$y},{start:11456,length:1,convRule:nx},{start:11457,length:1,convRule:$y},{start:11458,length:1,convRule:nx},{start:11459,length:1,convRule:$y},{start:11460,length:1,convRule:nx},{start:11461,length:1,convRule:$y},{start:11462,length:1,convRule:nx},{start:11463,length:1,convRule:$y},{start:11464,length:1,convRule:nx},{start:11465,length:1,convRule:$y},{start:11466,length:1,convRule:nx},{start:11467,length:1,convRule:$y},{start:11468,length:1,convRule:nx},{start:11469,length:1,convRule:$y},{start:11470,length:1,convRule:nx},{start:11471,length:1,convRule:$y},{start:11472,length:1,convRule:nx},{start:11473,length:1,convRule:$y},{start:11474,length:1,convRule:nx},{start:11475,length:1,convRule:$y},{start:11476,length:1,convRule:nx},{start:11477,length:1,convRule:$y},{start:11478,length:1,convRule:nx},{start:11479,length:1,convRule:$y},{start:11480,length:1,convRule:nx},{start:11481,length:1,convRule:$y},{start:11482,length:1,convRule:nx},{start:11483,length:1,convRule:$y},{start:11484,length:1,convRule:nx},{start:11485,length:1,convRule:$y},{start:11486,length:1,convRule:nx},{start:11487,length:1,convRule:$y},{start:11488,length:1,convRule:nx},{start:11489,length:1,convRule:$y},{start:11490,length:1,convRule:nx},{start:11491,length:1,convRule:$y},{start:11492,length:1,convRule:My},{start:11493,length:6,convRule:IO},{start:11499,length:1,convRule:nx},{start:11500,length:1,convRule:$y},{start:11501,length:1,convRule:nx},{start:11502,length:1,convRule:$y},{start:11503,length:3,convRule:rw},{start:11506,length:1,convRule:nx},{start:11507,length:1,convRule:$y},{start:11513,length:4,convRule:$O},{start:11517,length:1,convRule:jO},{start:11518,length:2,convRule:$O},{start:11520,length:38,convRule:Dy},{start:11559,length:1,convRule:Dy},{start:11565,length:1,convRule:Dy},{start:11568,length:56,convRule:qx},{start:11631,length:1,convRule:Ux},{start:11632,length:1,convRule:$O},{start:11647,length:1,convRule:rw},{start:11648,length:23,convRule:qx},{start:11680,length:7,convRule:qx},{start:11688,length:7,convRule:qx},{start:11696,length:7,convRule:qx},{start:11704,length:7,convRule:qx},{start:11712,length:7,convRule:qx},{start:11720,length:7,convRule:qx},{start:11728,length:7,convRule:qx},{start:11736,length:7,convRule:qx},{start:11744,length:32,convRule:rw},{start:11776,length:2,convRule:$O},{start:11778,length:1,convRule:UO},{start:11779,length:1,convRule:HO},{start:11780,length:1,convRule:UO},{start:11781,length:1,convRule:HO},{start:11782,length:3,convRule:$O},{start:11785,length:1,convRule:UO},{start:11786,length:1,convRule:HO},{start:11787,length:1,convRule:$O},{start:11788,length:1,convRule:UO},{start:11789,length:1,convRule:HO},{start:11790,length:9,convRule:$O},{start:11799,length:1,convRule:WO},{start:11800,length:2,convRule:$O},{start:11802,length:1,convRule:WO},{start:11803,length:1,convRule:$O},{start:11804,length:1,convRule:UO},{start:11805,length:1,convRule:HO},{start:11806,length:2,convRule:$O},{start:11808,length:1,convRule:UO},{start:11809,length:1,convRule:HO},{start:11810,length:1,convRule:qO},{start:11811,length:1,convRule:VO},{start:11812,length:1,convRule:qO},{start:11813,length:1,convRule:VO},{start:11814,length:1,convRule:qO},{start:11815,length:1,convRule:VO},{start:11816,length:1,convRule:qO},{start:11817,length:1,convRule:VO},{start:11818,length:5,convRule:$O},{start:11823,length:1,convRule:Ux},{start:11824,length:10,convRule:$O},{start:11834,length:2,convRule:WO},{start:11836,length:4,convRule:$O},{start:11840,length:1,convRule:WO},{start:11841,length:1,convRule:$O},{start:11842,length:1,convRule:qO},{start:11843,length:13,convRule:$O},{start:11856,length:2,convRule:IO},{start:11858,length:1,convRule:$O},{start:11904,length:26,convRule:IO},{start:11931,length:89,convRule:IO},{start:12032,length:214,convRule:IO},{start:12272,length:12,convRule:IO},{start:12288,length:1,convRule:EO},{start:12289,length:3,convRule:$O},{start:12292,length:1,convRule:IO},{start:12293,length:1,convRule:Ux},{start:12294,length:1,convRule:qx},{start:12295,length:1,convRule:ZO},{start:12296,length:1,convRule:qO},{start:12297,length:1,convRule:VO},{start:12298,length:1,convRule:qO},{start:12299,length:1,convRule:VO},{start:12300,length:1,convRule:qO},{start:12301,length:1,convRule:VO},{start:12302,length:1,convRule:qO},{start:12303,length:1,convRule:VO},{start:12304,length:1,convRule:qO},{start:12305,length:1,convRule:VO},{start:12306,length:2,convRule:IO},{start:12308,length:1,convRule:qO},{start:12309,length:1,convRule:VO},{start:12310,length:1,convRule:qO},{start:12311,length:1,convRule:VO},{start:12312,length:1,convRule:qO},{start:12313,length:1,convRule:VO},{start:12314,length:1,convRule:qO},{start:12315,length:1,convRule:VO},{start:12316,length:1,convRule:WO},{start:12317,length:1,convRule:qO},{start:12318,length:2,convRule:VO},{start:12320,length:1,convRule:IO},{start:12321,length:9,convRule:ZO},{start:12330,length:4,convRule:rw},{start:12334,length:2,convRule:aw},{start:12336,length:1,convRule:WO},{start:12337,length:5,convRule:Ux},{start:12342,length:2,convRule:IO},{start:12344,length:3,convRule:ZO},{start:12347,length:1,convRule:Ux},{start:12348,length:1,convRule:qx},{start:12349,length:1,convRule:$O},{start:12350,length:2,convRule:IO},{start:12353,length:86,convRule:qx},{start:12441,length:2,convRule:rw},{start:12443,length:2,convRule:BO},{start:12445,length:2,convRule:Ux},{start:12447,length:1,convRule:qx},{start:12448,length:1,convRule:WO},{start:12449,length:90,convRule:qx},{start:12539,length:1,convRule:$O},{start:12540,length:3,convRule:Ux},{start:12543,length:1,convRule:qx},{start:12549,length:43,convRule:qx},{start:12593,length:94,convRule:qx},{start:12688,length:2,convRule:IO},{start:12690,length:4,convRule:jO},{start:12694,length:10,convRule:IO},{start:12704,length:32,convRule:qx},{start:12736,length:36,convRule:IO},{start:12784,length:16,convRule:qx},{start:12800,length:31,convRule:IO},{start:12832,length:10,convRule:jO},{start:12842,length:30,convRule:IO},{start:12872,length:8,convRule:jO},{start:12880,length:1,convRule:IO},{start:12881,length:15,convRule:jO},{start:12896,length:32,convRule:IO},{start:12928,length:10,convRule:jO},{start:12938,length:39,convRule:IO},{start:12977,length:15,convRule:jO},{start:12992,length:320,convRule:IO},{start:13312,length:6592,convRule:qx},{start:19904,length:64,convRule:IO},{start:19968,length:20989,convRule:qx},{start:40960,length:21,convRule:qx},{start:40981,length:1,convRule:Ux},{start:40982,length:1143,convRule:qx},{start:42128,length:55,convRule:IO},{start:42192,length:40,convRule:qx},{start:42232,length:6,convRule:Ux},{start:42238,length:2,convRule:$O},{start:42240,length:268,convRule:qx},{start:42508,length:1,convRule:Ux},{start:42509,length:3,convRule:$O},{start:42512,length:16,convRule:qx},{start:42528,length:10,convRule:ew},{start:42538,length:2,convRule:qx},{start:42560,length:1,convRule:nx},{start:42561,length:1,convRule:$y},{start:42562,length:1,convRule:nx},{start:42563,length:1,convRule:$y},{start:42564,length:1,convRule:nx},{start:42565,length:1,convRule:$y},{start:42566,length:1,convRule:nx},{start:42567,length:1,convRule:$y},{start:42568,length:1,convRule:nx},{start:42569,length:1,convRule:$y},{start:42570,length:1,convRule:nx},{start:42571,length:1,convRule:$y},{start:42572,length:1,convRule:nx},{start:42573,length:1,convRule:$y},{start:42574,length:1,convRule:nx},{start:42575,length:1,convRule:$y},{start:42576,length:1,convRule:nx},{start:42577,length:1,convRule:$y},{start:42578,length:1,convRule:nx},{start:42579,length:1,convRule:$y},{start:42580,length:1,convRule:nx},{start:42581,length:1,convRule:$y},{start:42582,length:1,convRule:nx},{start:42583,length:1,convRule:$y},{start:42584,length:1,convRule:nx},{start:42585,length:1,convRule:$y},{start:42586,length:1,convRule:nx},{start:42587,length:1,convRule:$y},{start:42588,length:1,convRule:nx},{start:42589,length:1,convRule:$y},{start:42590,length:1,convRule:nx},{start:42591,length:1,convRule:$y},{start:42592,length:1,convRule:nx},{start:42593,length:1,convRule:$y},{start:42594,length:1,convRule:nx},{start:42595,length:1,convRule:$y},{start:42596,length:1,convRule:nx},{start:42597,length:1,convRule:$y},{start:42598,length:1,convRule:nx},{start:42599,length:1,convRule:$y},{start:42600,length:1,convRule:nx},{start:42601,length:1,convRule:$y},{start:42602,length:1,convRule:nx},{start:42603,length:1,convRule:$y},{start:42604,length:1,convRule:nx},{start:42605,length:1,convRule:$y},{start:42606,length:1,convRule:qx},{start:42607,length:1,convRule:rw},{start:42608,length:3,convRule:ow},{start:42611,length:1,convRule:$O},{start:42612,length:10,convRule:rw},{start:42622,length:1,convRule:$O},{start:42623,length:1,convRule:Ux},{start:42624,length:1,convRule:nx},{start:42625,length:1,convRule:$y},{start:42626,length:1,convRule:nx},{start:42627,length:1,convRule:$y},{start:42628,length:1,convRule:nx},{start:42629,length:1,convRule:$y},{start:42630,length:1,convRule:nx},{start:42631,length:1,convRule:$y},{start:42632,length:1,convRule:nx},{start:42633,length:1,convRule:$y},{start:42634,length:1,convRule:nx},{start:42635,length:1,convRule:$y},{start:42636,length:1,convRule:nx},{start:42637,length:1,convRule:$y},{start:42638,length:1,convRule:nx},{start:42639,length:1,convRule:$y},{start:42640,length:1,convRule:nx},{start:42641,length:1,convRule:$y},{start:42642,length:1,convRule:nx},{start:42643,length:1,convRule:$y},{start:42644,length:1,convRule:nx},{start:42645,length:1,convRule:$y},{start:42646,length:1,convRule:nx},{start:42647,length:1,convRule:$y},{start:42648,length:1,convRule:nx},{start:42649,length:1,convRule:$y},{start:42650,length:1,convRule:nx},{start:42651,length:1,convRule:$y},{start:42652,length:2,convRule:Ux},{start:42654,length:2,convRule:rw},{start:42656,length:70,convRule:qx},{start:42726,length:10,convRule:ZO},{start:42736,length:2,convRule:rw},{start:42738,length:6,convRule:$O},{start:42752,length:23,convRule:BO},{start:42775,length:9,convRule:Ux},{start:42784,length:2,convRule:BO},{start:42786,length:1,convRule:nx},{start:42787,length:1,convRule:$y},{start:42788,length:1,convRule:nx},{start:42789,length:1,convRule:$y},{start:42790,length:1,convRule:nx},{start:42791,length:1,convRule:$y},{start:42792,length:1,convRule:nx},{start:42793,length:1,convRule:$y},{start:42794,length:1,convRule:nx},{start:42795,length:1,convRule:$y},{start:42796,length:1,convRule:nx},{start:42797,length:1,convRule:$y},{start:42798,length:1,convRule:nx},{start:42799,length:1,convRule:$y},{start:42800,length:2,convRule:My},{start:42802,length:1,convRule:nx},{start:42803,length:1,convRule:$y},{start:42804,length:1,convRule:nx},{start:42805,length:1,convRule:$y},{start:42806,length:1,convRule:nx},{start:42807,length:1,convRule:$y},{start:42808,length:1,convRule:nx},{start:42809,length:1,convRule:$y},{start:42810,length:1,convRule:nx},{start:42811,length:1,convRule:$y},{start:42812,length:1,convRule:nx},{start:42813,length:1,convRule:$y},{start:42814,length:1,convRule:nx},{start:42815,length:1,convRule:$y},{start:42816,length:1,convRule:nx},{start:42817,length:1,convRule:$y},{start:42818,length:1,convRule:nx},{start:42819,length:1,convRule:$y},{start:42820,length:1,convRule:nx},{start:42821,length:1,convRule:$y},{start:42822,length:1,convRule:nx},{start:42823,length:1,convRule:$y},{start:42824,length:1,convRule:nx},{start:42825,length:1,convRule:$y},{start:42826,length:1,convRule:nx},{start:42827,length:1,convRule:$y},{start:42828,length:1,convRule:nx},{start:42829,length:1,convRule:$y},{start:42830,length:1,convRule:nx},{start:42831,length:1,convRule:$y},{start:42832,length:1,convRule:nx},{start:42833,length:1,convRule:$y},{start:42834,length:1,convRule:nx},{start:42835,length:1,convRule:$y},{start:42836,length:1,convRule:nx},{start:42837,length:1,convRule:$y},{start:42838,length:1,convRule:nx},{start:42839,length:1,convRule:$y},{start:42840,length:1,convRule:nx},{start:42841,length:1,convRule:$y},{start:42842,length:1,convRule:nx},{start:42843,length:1,convRule:$y},{start:42844,length:1,convRule:nx},{start:42845,length:1,convRule:$y},{start:42846,length:1,convRule:nx},{start:42847,length:1,convRule:$y},{start:42848,length:1,convRule:nx},{start:42849,length:1,convRule:$y},{start:42850,length:1,convRule:nx},{start:42851,length:1,convRule:$y},{start:42852,length:1,convRule:nx},{start:42853,length:1,convRule:$y},{start:42854,length:1,convRule:nx},{start:42855,length:1,convRule:$y},{start:42856,length:1,convRule:nx},{start:42857,length:1,convRule:$y},{start:42858,length:1,convRule:nx},{start:42859,length:1,convRule:$y},{start:42860,length:1,convRule:nx},{start:42861,length:1,convRule:$y},{start:42862,length:1,convRule:nx},{start:42863,length:1,convRule:$y},{start:42864,length:1,convRule:Ux},{start:42865,length:8,convRule:My},{start:42873,length:1,convRule:nx},{start:42874,length:1,convRule:$y},{start:42875,length:1,convRule:nx},{start:42876,length:1,convRule:$y},{start:42877,length:1,convRule:$w},{start:42878,length:1,convRule:nx},{start:42879,length:1,convRule:$y},{start:42880,length:1,convRule:nx},{start:42881,length:1,convRule:$y},{start:42882,length:1,convRule:nx},{start:42883,length:1,convRule:$y},{start:42884,length:1,convRule:nx},{start:42885,length:1,convRule:$y},{start:42886,length:1,convRule:nx},{start:42887,length:1,convRule:$y},{start:42888,length:1,convRule:Ux},{start:42889,length:2,convRule:BO},{start:42891,length:1,convRule:nx},{start:42892,length:1,convRule:$y},{start:42893,length:1,convRule:Uw},{start:42894,length:1,convRule:My},{start:42895,length:1,convRule:qx},{start:42896,length:1,convRule:nx},{start:42897,length:1,convRule:$y},{start:42898,length:1,convRule:nx},{start:42899,length:1,convRule:$y},{start:42900,length:1,convRule:Iy},{start:42901,length:1,convRule:My},{start:42902,length:1,convRule:nx},{start:42903,length:1,convRule:$y},{start:42904,length:1,convRule:nx},{start:42905,length:1,convRule:$y},{start:42906,length:1,convRule:nx},{start:42907,length:1,convRule:$y},{start:42908,length:1,convRule:nx},{start:42909,length:1,convRule:$y},{start:42910,length:1,convRule:nx},{start:42911,length:1,convRule:$y},{start:42912,length:1,convRule:nx},{start:42913,length:1,convRule:$y},{start:42914,length:1,convRule:nx},{start:42915,length:1,convRule:$y},{start:42916,length:1,convRule:nx},{start:42917,length:1,convRule:$y},{start:42918,length:1,convRule:nx},{start:42919,length:1,convRule:$y},{start:42920,length:1,convRule:nx},{start:42921,length:1,convRule:$y},{start:42922,length:1,convRule:Xw},{start:42923,length:1,convRule:Hw},{start:42924,length:1,convRule:Vw},{start:42925,length:1,convRule:Ww},{start:42926,length:1,convRule:Xw},{start:42927,length:1,convRule:My},{start:42928,length:1,convRule:zw},{start:42929,length:1,convRule:Gw},{start:42930,length:1,convRule:jw},{start:42931,length:1,convRule:Yw},{start:42932,length:1,convRule:nx},{start:42933,length:1,convRule:$y},{start:42934,length:1,convRule:nx},{start:42935,length:1,convRule:$y},{start:42936,length:1,convRule:nx},{start:42937,length:1,convRule:$y},{start:42938,length:1,convRule:nx},{start:42939,length:1,convRule:$y},{start:42940,length:1,convRule:nx},{start:42941,length:1,convRule:$y},{start:42942,length:1,convRule:nx},{start:42943,length:1,convRule:$y},{start:42946,length:1,convRule:nx},{start:42947,length:1,convRule:$y},{start:42948,length:1,convRule:Zw},{start:42949,length:1,convRule:Kw},{start:42950,length:1,convRule:Jw},{start:42951,length:1,convRule:nx},{start:42952,length:1,convRule:$y},{start:42953,length:1,convRule:nx},{start:42954,length:1,convRule:$y},{start:42997,length:1,convRule:nx},{start:42998,length:1,convRule:$y},{start:42999,length:1,convRule:qx},{start:43e3,length:2,convRule:Ux},{start:43002,length:1,convRule:My},{start:43003,length:7,convRule:qx},{start:43010,length:1,convRule:rw},{start:43011,length:3,convRule:qx},{start:43014,length:1,convRule:rw},{start:43015,length:4,convRule:qx},{start:43019,length:1,convRule:rw},{start:43020,length:23,convRule:qx},{start:43043,length:2,convRule:aw},{start:43045,length:2,convRule:rw},{start:43047,length:1,convRule:aw},{start:43048,length:4,convRule:IO},{start:43052,length:1,convRule:rw},{start:43056,length:6,convRule:jO},{start:43062,length:2,convRule:IO},{start:43064,length:1,convRule:FO},{start:43065,length:1,convRule:IO},{start:43072,length:52,convRule:qx},{start:43124,length:4,convRule:$O},{start:43136,length:2,convRule:aw},{start:43138,length:50,convRule:qx},{start:43188,length:16,convRule:aw},{start:43204,length:2,convRule:rw},{start:43214,length:2,convRule:$O},{start:43216,length:10,convRule:ew},{start:43232,length:18,convRule:rw},{start:43250,length:6,convRule:qx},{start:43256,length:3,convRule:$O},{start:43259,length:1,convRule:qx},{start:43260,length:1,convRule:$O},{start:43261,length:2,convRule:qx},{start:43263,length:1,convRule:rw},{start:43264,length:10,convRule:ew},{start:43274,length:28,convRule:qx},{start:43302,length:8,convRule:rw},{start:43310,length:2,convRule:$O},{start:43312,length:23,convRule:qx},{start:43335,length:11,convRule:rw},{start:43346,length:2,convRule:aw},{start:43359,length:1,convRule:$O},{start:43360,length:29,convRule:qx},{start:43392,length:3,convRule:rw},{start:43395,length:1,convRule:aw},{start:43396,length:47,convRule:qx},{start:43443,length:1,convRule:rw},{start:43444,length:2,convRule:aw},{start:43446,length:4,convRule:rw},{start:43450,length:2,convRule:aw},{start:43452,length:2,convRule:rw},{start:43454,length:3,convRule:aw},{start:43457,length:13,convRule:$O},{start:43471,length:1,convRule:Ux},{start:43472,length:10,convRule:ew},{start:43486,length:2,convRule:$O},{start:43488,length:5,convRule:qx},{start:43493,length:1,convRule:rw},{start:43494,length:1,convRule:Ux},{start:43495,length:9,convRule:qx},{start:43504,length:10,convRule:ew},{start:43514,length:5,convRule:qx},{start:43520,length:41,convRule:qx},{start:43561,length:6,convRule:rw},{start:43567,length:2,convRule:aw},{start:43569,length:2,convRule:rw},{start:43571,length:2,convRule:aw},{start:43573,length:2,convRule:rw},{start:43584,length:3,convRule:qx},{start:43587,length:1,convRule:rw},{start:43588,length:8,convRule:qx},{start:43596,length:1,convRule:rw},{start:43597,length:1,convRule:aw},{start:43600,length:10,convRule:ew},{start:43612,length:4,convRule:$O},{start:43616,length:16,convRule:qx},{start:43632,length:1,convRule:Ux},{start:43633,length:6,convRule:qx},{start:43639,length:3,convRule:IO},{start:43642,length:1,convRule:qx},{start:43643,length:1,convRule:aw},{start:43644,length:1,convRule:rw},{start:43645,length:1,convRule:aw},{start:43646,length:50,convRule:qx},{start:43696,length:1,convRule:rw},{start:43697,length:1,convRule:qx},{start:43698,length:3,convRule:rw},{start:43701,length:2,convRule:qx},{start:43703,length:2,convRule:rw},{start:43705,length:5,convRule:qx},{start:43710,length:2,convRule:rw},{start:43712,length:1,convRule:qx},{start:43713,length:1,convRule:rw},{start:43714,length:1,convRule:qx},{start:43739,length:2,convRule:qx},{start:43741,length:1,convRule:Ux},{start:43742,length:2,convRule:$O},{start:43744,length:11,convRule:qx},{start:43755,length:1,convRule:aw},{start:43756,length:2,convRule:rw},{start:43758,length:2,convRule:aw},{start:43760,length:2,convRule:$O},{start:43762,length:1,convRule:qx},{start:43763,length:2,convRule:Ux},{start:43765,length:1,convRule:aw},{start:43766,length:1,convRule:rw},{start:43777,length:6,convRule:qx},{start:43785,length:6,convRule:qx},{start:43793,length:6,convRule:qx},{start:43808,length:7,convRule:qx},{start:43816,length:7,convRule:qx},{start:43824,length:35,convRule:My},{start:43859,length:1,convRule:Ny},{start:43860,length:7,convRule:My},{start:43867,length:1,convRule:BO},{start:43868,length:4,convRule:Ux},{start:43872,length:9,convRule:My},{start:43881,length:1,convRule:Ux},{start:43882,length:2,convRule:BO},{start:43888,length:80,convRule:Qy},{start:43968,length:35,convRule:qx},{start:44003,length:2,convRule:aw},{start:44005,length:1,convRule:rw},{start:44006,length:2,convRule:aw},{start:44008,length:1,convRule:rw},{start:44009,length:2,convRule:aw},{start:44011,length:1,convRule:$O},{start:44012,length:1,convRule:aw},{start:44013,length:1,convRule:rw},{start:44016,length:10,convRule:ew},{start:44032,length:11172,convRule:qx},{start:55216,length:23,convRule:qx},{start:55243,length:49,convRule:qx},{start:55296,length:896,convRule:Pb},{start:56192,length:128,convRule:Pb},{start:56320,length:1024,convRule:Pb},{start:57344,length:6400,convRule:Eb},{start:63744,length:366,convRule:qx},{start:64112,length:106,convRule:qx},{start:64256,length:7,convRule:My},{start:64275,length:5,convRule:My},{start:64285,length:1,convRule:qx},{start:64286,length:1,convRule:rw},{start:64287,length:10,convRule:qx},{start:64297,length:1,convRule:MO},{start:64298,length:13,convRule:qx},{start:64312,length:5,convRule:qx},{start:64318,length:1,convRule:qx},{start:64320,length:2,convRule:qx},{start:64323,length:2,convRule:qx},{start:64326,length:108,convRule:qx},{start:64434,length:16,convRule:BO},{start:64467,length:363,convRule:qx},{start:64830,length:1,convRule:VO},{start:64831,length:1,convRule:qO},{start:64848,length:64,convRule:qx},{start:64914,length:54,convRule:qx},{start:65008,length:12,convRule:qx},{start:65020,length:1,convRule:FO},{start:65021,length:1,convRule:IO},{start:65024,length:16,convRule:rw},{start:65040,length:7,convRule:$O},{start:65047,length:1,convRule:qO},{start:65048,length:1,convRule:VO},{start:65049,length:1,convRule:$O},{start:65056,length:16,convRule:rw},{start:65072,length:1,convRule:$O},{start:65073,length:2,convRule:WO},{start:65075,length:2,convRule:zO},{start:65077,length:1,convRule:qO},{start:65078,length:1,convRule:VO},{start:65079,length:1,convRule:qO},{start:65080,length:1,convRule:VO},{start:65081,length:1,convRule:qO},{start:65082,length:1,convRule:VO},{start:65083,length:1,convRule:qO},{start:65084,length:1,convRule:VO},{start:65085,length:1,convRule:qO},{start:65086,length:1,convRule:VO},{start:65087,length:1,convRule:qO},{start:65088,length:1,convRule:VO},{start:65089,length:1,convRule:qO},{start:65090,length:1,convRule:VO},{start:65091,length:1,convRule:qO},{start:65092,length:1,convRule:VO},{start:65093,length:2,convRule:$O},{start:65095,length:1,convRule:qO},{start:65096,length:1,convRule:VO},{start:65097,length:4,convRule:$O},{start:65101,length:3,convRule:zO},{start:65104,length:3,convRule:$O},{start:65108,length:4,convRule:$O},{start:65112,length:1,convRule:WO},{start:65113,length:1,convRule:qO},{start:65114,length:1,convRule:VO},{start:65115,length:1,convRule:qO},{start:65116,length:1,convRule:VO},{start:65117,length:1,convRule:qO},{start:65118,length:1,convRule:VO},{start:65119,length:3,convRule:$O},{start:65122,length:1,convRule:MO},{start:65123,length:1,convRule:WO},{start:65124,length:3,convRule:MO},{start:65128,length:1,convRule:$O},{start:65129,length:1,convRule:FO},{start:65130,length:2,convRule:$O},{start:65136,length:5,convRule:qx},{start:65142,length:135,convRule:qx},{start:65279,length:1,convRule:_b},{start:65281,length:3,convRule:$O},{start:65284,length:1,convRule:FO},{start:65285,length:3,convRule:$O},{start:65288,length:1,convRule:qO},{start:65289,length:1,convRule:VO},{start:65290,length:1,convRule:$O},{start:65291,length:1,convRule:MO},{start:65292,length:1,convRule:$O},{start:65293,length:1,convRule:WO},{start:65294,length:2,convRule:$O},{start:65296,length:10,convRule:ew},{start:65306,length:2,convRule:$O},{start:65308,length:3,convRule:MO},{start:65311,length:2,convRule:$O},{start:65313,length:26,convRule:Px},{start:65339,length:1,convRule:qO},{start:65340,length:1,convRule:$O},{start:65341,length:1,convRule:VO},{start:65342,length:1,convRule:BO},{start:65343,length:1,convRule:zO},{start:65344,length:1,convRule:BO},{start:65345,length:26,convRule:iy},{start:65371,length:1,convRule:qO},{start:65372,length:1,convRule:MO},{start:65373,length:1,convRule:VO},{start:65374,length:1,convRule:MO},{start:65375,length:1,convRule:qO},{start:65376,length:1,convRule:VO},{start:65377,length:1,convRule:$O},{start:65378,length:1,convRule:qO},{start:65379,length:1,convRule:VO},{start:65380,length:2,convRule:$O},{start:65382,length:10,convRule:qx},{start:65392,length:1,convRule:Ux},{start:65393,length:45,convRule:qx},{start:65438,length:2,convRule:Ux},{start:65440,length:31,convRule:qx},{start:65474,length:6,convRule:qx},{start:65482,length:6,convRule:qx},{start:65490,length:6,convRule:qx},{start:65498,length:3,convRule:qx},{start:65504,length:2,convRule:FO},{start:65506,length:1,convRule:MO},{start:65507,length:1,convRule:BO},{start:65508,length:1,convRule:IO},{start:65509,length:2,convRule:FO},{start:65512,length:1,convRule:IO},{start:65513,length:4,convRule:MO},{start:65517,length:2,convRule:IO},{start:65529,length:3,convRule:_b},{start:65532,length:2,convRule:IO},{start:65536,length:12,convRule:qx},{start:65549,length:26,convRule:qx},{start:65576,length:19,convRule:qx},{start:65596,length:2,convRule:qx},{start:65599,length:15,convRule:qx},{start:65616,length:14,convRule:qx},{start:65664,length:123,convRule:qx},{start:65792,length:3,convRule:$O},{start:65799,length:45,convRule:jO},{start:65847,length:9,convRule:IO},{start:65856,length:53,convRule:ZO},{start:65909,length:4,convRule:jO},{start:65913,length:17,convRule:IO},{start:65930,length:2,convRule:jO},{start:65932,length:3,convRule:IO},{start:65936,length:13,convRule:IO},{start:65952,length:1,convRule:IO},{start:66e3,length:45,convRule:IO},{start:66045,length:1,convRule:rw},{start:66176,length:29,convRule:qx},{start:66208,length:49,convRule:qx},{start:66272,length:1,convRule:rw},{start:66273,length:27,convRule:jO},{start:66304,length:32,convRule:qx},{start:66336,length:4,convRule:jO},{start:66349,length:20,convRule:qx},{start:66369,length:1,convRule:ZO},{start:66370,length:8,convRule:qx},{start:66378,length:1,convRule:ZO},{start:66384,length:38,convRule:qx},{start:66422,length:5,convRule:rw},{start:66432,length:30,convRule:qx},{start:66463,length:1,convRule:$O},{start:66464,length:36,convRule:qx},{start:66504,length:8,convRule:qx},{start:66512,length:1,convRule:$O},{start:66513,length:5,convRule:ZO},{start:66560,length:40,convRule:tx},{start:66600,length:40,convRule:By},{start:66640,length:78,convRule:qx},{start:66720,length:10,convRule:ew},{start:66736,length:36,convRule:tx},{start:66776,length:36,convRule:By},{start:66816,length:40,convRule:qx},{start:66864,length:52,convRule:qx},{start:66927,length:1,convRule:$O},{start:67072,length:311,convRule:qx},{start:67392,length:22,convRule:qx},{start:67424,length:8,convRule:qx},{start:67584,length:6,convRule:qx},{start:67592,length:1,convRule:qx},{start:67594,length:44,convRule:qx},{start:67639,length:2,convRule:qx},{start:67644,length:1,convRule:qx},{start:67647,length:23,convRule:qx},{start:67671,length:1,convRule:$O},{start:67672,length:8,convRule:jO},{start:67680,length:23,convRule:qx},{start:67703,length:2,convRule:IO},{start:67705,length:7,convRule:jO},{start:67712,length:31,convRule:qx},{start:67751,length:9,convRule:jO},{start:67808,length:19,convRule:qx},{start:67828,length:2,convRule:qx},{start:67835,length:5,convRule:jO},{start:67840,length:22,convRule:qx},{start:67862,length:6,convRule:jO},{start:67871,length:1,convRule:$O},{start:67872,length:26,convRule:qx},{start:67903,length:1,convRule:$O},{start:67968,length:56,convRule:qx},{start:68028,length:2,convRule:jO},{start:68030,length:2,convRule:qx},{start:68032,length:16,convRule:jO},{start:68050,length:46,convRule:jO},{start:68096,length:1,convRule:qx},{start:68097,length:3,convRule:rw},{start:68101,length:2,convRule:rw},{start:68108,length:4,convRule:rw},{start:68112,length:4,convRule:qx},{start:68117,length:3,convRule:qx},{start:68121,length:29,convRule:qx},{start:68152,length:3,convRule:rw},{start:68159,length:1,convRule:rw},{start:68160,length:9,convRule:jO},{start:68176,length:9,convRule:$O},{start:68192,length:29,convRule:qx},{start:68221,length:2,convRule:jO},{start:68223,length:1,convRule:$O},{start:68224,length:29,convRule:qx},{start:68253,length:3,convRule:jO},{start:68288,length:8,convRule:qx},{start:68296,length:1,convRule:IO},{start:68297,length:28,convRule:qx},{start:68325,length:2,convRule:rw},{start:68331,length:5,convRule:jO},{start:68336,length:7,convRule:$O},{start:68352,length:54,convRule:qx},{start:68409,length:7,convRule:$O},{start:68416,length:22,convRule:qx},{start:68440,length:8,convRule:jO},{start:68448,length:19,convRule:qx},{start:68472,length:8,convRule:jO},{start:68480,length:18,convRule:qx},{start:68505,length:4,convRule:$O},{start:68521,length:7,convRule:jO},{start:68608,length:73,convRule:qx},{start:68736,length:51,convRule:Dx},{start:68800,length:51,convRule:Wx},{start:68858,length:6,convRule:jO},{start:68864,length:36,convRule:qx},{start:68900,length:4,convRule:rw},{start:68912,length:10,convRule:ew},{start:69216,length:31,convRule:jO},{start:69248,length:42,convRule:qx},{start:69291,length:2,convRule:rw},{start:69293,length:1,convRule:WO},{start:69296,length:2,convRule:qx},{start:69376,length:29,convRule:qx},{start:69405,length:10,convRule:jO},{start:69415,length:1,convRule:qx},{start:69424,length:22,convRule:qx},{start:69446,length:11,convRule:rw},{start:69457,length:4,convRule:jO},{start:69461,length:5,convRule:$O},{start:69552,length:21,convRule:qx},{start:69573,length:7,convRule:jO},{start:69600,length:23,convRule:qx},{start:69632,length:1,convRule:aw},{start:69633,length:1,convRule:rw},{start:69634,length:1,convRule:aw},{start:69635,length:53,convRule:qx},{start:69688,length:15,convRule:rw},{start:69703,length:7,convRule:$O},{start:69714,length:20,convRule:jO},{start:69734,length:10,convRule:ew},{start:69759,length:3,convRule:rw},{start:69762,length:1,convRule:aw},{start:69763,length:45,convRule:qx},{start:69808,length:3,convRule:aw},{start:69811,length:4,convRule:rw},{start:69815,length:2,convRule:aw},{start:69817,length:2,convRule:rw},{start:69819,length:2,convRule:$O},{start:69821,length:1,convRule:_b},{start:69822,length:4,convRule:$O},{start:69837,length:1,convRule:_b},{start:69840,length:25,convRule:qx},{start:69872,length:10,convRule:ew},{start:69888,length:3,convRule:rw},{start:69891,length:36,convRule:qx},{start:69927,length:5,convRule:rw},{start:69932,length:1,convRule:aw},{start:69933,length:8,convRule:rw},{start:69942,length:10,convRule:ew},{start:69952,length:4,convRule:$O},{start:69956,length:1,convRule:qx},{start:69957,length:2,convRule:aw},{start:69959,length:1,convRule:qx},{start:69968,length:35,convRule:qx},{start:70003,length:1,convRule:rw},{start:70004,length:2,convRule:$O},{start:70006,length:1,convRule:qx},{start:70016,length:2,convRule:rw},{start:70018,length:1,convRule:aw},{start:70019,length:48,convRule:qx},{start:70067,length:3,convRule:aw},{start:70070,length:9,convRule:rw},{start:70079,length:2,convRule:aw},{start:70081,length:4,convRule:qx},{start:70085,length:4,convRule:$O},{start:70089,length:4,convRule:rw},{start:70093,length:1,convRule:$O},{start:70094,length:1,convRule:aw},{start:70095,length:1,convRule:rw},{start:70096,length:10,convRule:ew},{start:70106,length:1,convRule:qx},{start:70107,length:1,convRule:$O},{start:70108,length:1,convRule:qx},{start:70109,length:3,convRule:$O},{start:70113,length:20,convRule:jO},{start:70144,length:18,convRule:qx},{start:70163,length:25,convRule:qx},{start:70188,length:3,convRule:aw},{start:70191,length:3,convRule:rw},{start:70194,length:2,convRule:aw},{start:70196,length:1,convRule:rw},{start:70197,length:1,convRule:aw},{start:70198,length:2,convRule:rw},{start:70200,length:6,convRule:$O},{start:70206,length:1,convRule:rw},{start:70272,length:7,convRule:qx},{start:70280,length:1,convRule:qx},{start:70282,length:4,convRule:qx},{start:70287,length:15,convRule:qx},{start:70303,length:10,convRule:qx},{start:70313,length:1,convRule:$O},{start:70320,length:47,convRule:qx},{start:70367,length:1,convRule:rw},{start:70368,length:3,convRule:aw},{start:70371,length:8,convRule:rw},{start:70384,length:10,convRule:ew},{start:70400,length:2,convRule:rw},{start:70402,length:2,convRule:aw},{start:70405,length:8,convRule:qx},{start:70415,length:2,convRule:qx},{start:70419,length:22,convRule:qx},{start:70442,length:7,convRule:qx},{start:70450,length:2,convRule:qx},{start:70453,length:5,convRule:qx},{start:70459,length:2,convRule:rw},{start:70461,length:1,convRule:qx},{start:70462,length:2,convRule:aw},{start:70464,length:1,convRule:rw},{start:70465,length:4,convRule:aw},{start:70471,length:2,convRule:aw},{start:70475,length:3,convRule:aw},{start:70480,length:1,convRule:qx},{start:70487,length:1,convRule:aw},{start:70493,length:5,convRule:qx},{start:70498,length:2,convRule:aw},{start:70502,length:7,convRule:rw},{start:70512,length:5,convRule:rw},{start:70656,length:53,convRule:qx},{start:70709,length:3,convRule:aw},{start:70712,length:8,convRule:rw},{start:70720,length:2,convRule:aw},{start:70722,length:3,convRule:rw},{start:70725,length:1,convRule:aw},{start:70726,length:1,convRule:rw},{start:70727,length:4,convRule:qx},{start:70731,length:5,convRule:$O},{start:70736,length:10,convRule:ew},{start:70746,length:2,convRule:$O},{start:70749,length:1,convRule:$O},{start:70750,length:1,convRule:rw},{start:70751,length:3,convRule:qx},{start:70784,length:48,convRule:qx},{start:70832,length:3,convRule:aw},{start:70835,length:6,convRule:rw},{start:70841,length:1,convRule:aw},{start:70842,length:1,convRule:rw},{start:70843,length:4,convRule:aw},{start:70847,length:2,convRule:rw},{start:70849,length:1,convRule:aw},{start:70850,length:2,convRule:rw},{start:70852,length:2,convRule:qx},{start:70854,length:1,convRule:$O},{start:70855,length:1,convRule:qx},{start:70864,length:10,convRule:ew},{start:71040,length:47,convRule:qx},{start:71087,length:3,convRule:aw},{start:71090,length:4,convRule:rw},{start:71096,length:4,convRule:aw},{start:71100,length:2,convRule:rw},{start:71102,length:1,convRule:aw},{start:71103,length:2,convRule:rw},{start:71105,length:23,convRule:$O},{start:71128,length:4,convRule:qx},{start:71132,length:2,convRule:rw},{start:71168,length:48,convRule:qx},{start:71216,length:3,convRule:aw},{start:71219,length:8,convRule:rw},{start:71227,length:2,convRule:aw},{start:71229,length:1,convRule:rw},{start:71230,length:1,convRule:aw},{start:71231,length:2,convRule:rw},{start:71233,length:3,convRule:$O},{start:71236,length:1,convRule:qx},{start:71248,length:10,convRule:ew},{start:71264,length:13,convRule:$O},{start:71296,length:43,convRule:qx},{start:71339,length:1,convRule:rw},{start:71340,length:1,convRule:aw},{start:71341,length:1,convRule:rw},{start:71342,length:2,convRule:aw},{start:71344,length:6,convRule:rw},{start:71350,length:1,convRule:aw},{start:71351,length:1,convRule:rw},{start:71352,length:1,convRule:qx},{start:71360,length:10,convRule:ew},{start:71424,length:27,convRule:qx},{start:71453,length:3,convRule:rw},{start:71456,length:2,convRule:aw},{start:71458,length:4,convRule:rw},{start:71462,length:1,convRule:aw},{start:71463,length:5,convRule:rw},{start:71472,length:10,convRule:ew},{start:71482,length:2,convRule:jO},{start:71484,length:3,convRule:$O},{start:71487,length:1,convRule:IO},{start:71680,length:44,convRule:qx},{start:71724,length:3,convRule:aw},{start:71727,length:9,convRule:rw},{start:71736,length:1,convRule:aw},{start:71737,length:2,convRule:rw},{start:71739,length:1,convRule:$O},{start:71840,length:32,convRule:Px},{start:71872,length:32,convRule:iy},{start:71904,length:10,convRule:ew},{start:71914,length:9,convRule:jO},{start:71935,length:8,convRule:qx},{start:71945,length:1,convRule:qx},{start:71948,length:8,convRule:qx},{start:71957,length:2,convRule:qx},{start:71960,length:24,convRule:qx},{start:71984,length:6,convRule:aw},{start:71991,length:2,convRule:aw},{start:71995,length:2,convRule:rw},{start:71997,length:1,convRule:aw},{start:71998,length:1,convRule:rw},{start:71999,length:1,convRule:qx},{start:72e3,length:1,convRule:aw},{start:72001,length:1,convRule:qx},{start:72002,length:1,convRule:aw},{start:72003,length:1,convRule:rw},{start:72004,length:3,convRule:$O},{start:72016,length:10,convRule:ew},{start:72096,length:8,convRule:qx},{start:72106,length:39,convRule:qx},{start:72145,length:3,convRule:aw},{start:72148,length:4,convRule:rw},{start:72154,length:2,convRule:rw},{start:72156,length:4,convRule:aw},{start:72160,length:1,convRule:rw},{start:72161,length:1,convRule:qx},{start:72162,length:1,convRule:$O},{start:72163,length:1,convRule:qx},{start:72164,length:1,convRule:aw},{start:72192,length:1,convRule:qx},{start:72193,length:10,convRule:rw},{start:72203,length:40,convRule:qx},{start:72243,length:6,convRule:rw},{start:72249,length:1,convRule:aw},{start:72250,length:1,convRule:qx},{start:72251,length:4,convRule:rw},{start:72255,length:8,convRule:$O},{start:72263,length:1,convRule:rw},{start:72272,length:1,convRule:qx},{start:72273,length:6,convRule:rw},{start:72279,length:2,convRule:aw},{start:72281,length:3,convRule:rw},{start:72284,length:46,convRule:qx},{start:72330,length:13,convRule:rw},{start:72343,length:1,convRule:aw},{start:72344,length:2,convRule:rw},{start:72346,length:3,convRule:$O},{start:72349,length:1,convRule:qx},{start:72350,length:5,convRule:$O},{start:72384,length:57,convRule:qx},{start:72704,length:9,convRule:qx},{start:72714,length:37,convRule:qx},{start:72751,length:1,convRule:aw},{start:72752,length:7,convRule:rw},{start:72760,length:6,convRule:rw},{start:72766,length:1,convRule:aw},{start:72767,length:1,convRule:rw},{start:72768,length:1,convRule:qx},{start:72769,length:5,convRule:$O},{start:72784,length:10,convRule:ew},{start:72794,length:19,convRule:jO},{start:72816,length:2,convRule:$O},{start:72818,length:30,convRule:qx},{start:72850,length:22,convRule:rw},{start:72873,length:1,convRule:aw},{start:72874,length:7,convRule:rw},{start:72881,length:1,convRule:aw},{start:72882,length:2,convRule:rw},{start:72884,length:1,convRule:aw},{start:72885,length:2,convRule:rw},{start:72960,length:7,convRule:qx},{start:72968,length:2,convRule:qx},{start:72971,length:38,convRule:qx},{start:73009,length:6,convRule:rw},{start:73018,length:1,convRule:rw},{start:73020,length:2,convRule:rw},{start:73023,length:7,convRule:rw},{start:73030,length:1,convRule:qx},{start:73031,length:1,convRule:rw},{start:73040,length:10,convRule:ew},{start:73056,length:6,convRule:qx},{start:73063,length:2,convRule:qx},{start:73066,length:32,convRule:qx},{start:73098,length:5,convRule:aw},{start:73104,length:2,convRule:rw},{start:73107,length:2,convRule:aw},{start:73109,length:1,convRule:rw},{start:73110,length:1,convRule:aw},{start:73111,length:1,convRule:rw},{start:73112,length:1,convRule:qx},{start:73120,length:10,convRule:ew},{start:73440,length:19,convRule:qx},{start:73459,length:2,convRule:rw},{start:73461,length:2,convRule:aw},{start:73463,length:2,convRule:$O},{start:73648,length:1,convRule:qx},{start:73664,length:21,convRule:jO},{start:73685,length:8,convRule:IO},{start:73693,length:4,convRule:FO},{start:73697,length:17,convRule:IO},{start:73727,length:1,convRule:$O},{start:73728,length:922,convRule:qx},{start:74752,length:111,convRule:ZO},{start:74864,length:5,convRule:$O},{start:74880,length:196,convRule:qx},{start:77824,length:1071,convRule:qx},{start:78896,length:9,convRule:_b},{start:82944,length:583,convRule:qx},{start:92160,length:569,convRule:qx},{start:92736,length:31,convRule:qx},{start:92768,length:10,convRule:ew},{start:92782,length:2,convRule:$O},{start:92880,length:30,convRule:qx},{start:92912,length:5,convRule:rw},{start:92917,length:1,convRule:$O},{start:92928,length:48,convRule:qx},{start:92976,length:7,convRule:rw},{start:92983,length:5,convRule:$O},{start:92988,length:4,convRule:IO},{start:92992,length:4,convRule:Ux},{start:92996,length:1,convRule:$O},{start:92997,length:1,convRule:IO},{start:93008,length:10,convRule:ew},{start:93019,length:7,convRule:jO},{start:93027,length:21,convRule:qx},{start:93053,length:19,convRule:qx},{start:93760,length:32,convRule:Px},{start:93792,length:32,convRule:iy},{start:93824,length:23,convRule:jO},{start:93847,length:4,convRule:$O},{start:93952,length:75,convRule:qx},{start:94031,length:1,convRule:rw},{start:94032,length:1,convRule:qx},{start:94033,length:55,convRule:aw},{start:94095,length:4,convRule:rw},{start:94099,length:13,convRule:Ux},{start:94176,length:2,convRule:Ux},{start:94178,length:1,convRule:$O},{start:94179,length:1,convRule:Ux},{start:94180,length:1,convRule:rw},{start:94192,length:2,convRule:aw},{start:94208,length:6136,convRule:qx},{start:100352,length:1238,convRule:qx},{start:101632,length:9,convRule:qx},{start:110592,length:287,convRule:qx},{start:110928,length:3,convRule:qx},{start:110948,length:4,convRule:qx},{start:110960,length:396,convRule:qx},{start:113664,length:107,convRule:qx},{start:113776,length:13,convRule:qx},{start:113792,length:9,convRule:qx},{start:113808,length:10,convRule:qx},{start:113820,length:1,convRule:IO},{start:113821,length:2,convRule:rw},{start:113823,length:1,convRule:$O},{start:113824,length:4,convRule:_b},{start:118784,length:246,convRule:IO},{start:119040,length:39,convRule:IO},{start:119081,length:60,convRule:IO},{start:119141,length:2,convRule:aw},{start:119143,length:3,convRule:rw},{start:119146,length:3,convRule:IO},{start:119149,length:6,convRule:aw},{start:119155,length:8,convRule:_b},{start:119163,length:8,convRule:rw},{start:119171,length:2,convRule:IO},{start:119173,length:7,convRule:rw},{start:119180,length:30,convRule:IO},{start:119210,length:4,convRule:rw},{start:119214,length:59,convRule:IO},{start:119296,length:66,convRule:IO},{start:119362,length:3,convRule:rw},{start:119365,length:1,convRule:IO},{start:119520,length:20,convRule:jO},{start:119552,length:87,convRule:IO},{start:119648,length:25,convRule:jO},{start:119808,length:26,convRule:fw},{start:119834,length:26,convRule:My},{start:119860,length:26,convRule:fw},{start:119886,length:7,convRule:My},{start:119894,length:18,convRule:My},{start:119912,length:26,convRule:fw},{start:119938,length:26,convRule:My},{start:119964,length:1,convRule:fw},{start:119966,length:2,convRule:fw},{start:119970,length:1,convRule:fw},{start:119973,length:2,convRule:fw},{start:119977,length:4,convRule:fw},{start:119982,length:8,convRule:fw},{start:119990,length:4,convRule:My},{start:119995,length:1,convRule:My},{start:119997,length:7,convRule:My},{start:120005,length:11,convRule:My},{start:120016,length:26,convRule:fw},{start:120042,length:26,convRule:My},{start:120068,length:2,convRule:fw},{start:120071,length:4,convRule:fw},{start:120077,length:8,convRule:fw},{start:120086,length:7,convRule:fw},{start:120094,length:26,convRule:My},{start:120120,length:2,convRule:fw},{start:120123,length:4,convRule:fw},{start:120128,length:5,convRule:fw},{start:120134,length:1,convRule:fw},{start:120138,length:7,convRule:fw},{start:120146,length:26,convRule:My},{start:120172,length:26,convRule:fw},{start:120198,length:26,convRule:My},{start:120224,length:26,convRule:fw},{start:120250,length:26,convRule:My},{start:120276,length:26,convRule:fw},{start:120302,length:26,convRule:My},{start:120328,length:26,convRule:fw},{start:120354,length:26,convRule:My},{start:120380,length:26,convRule:fw},{start:120406,length:26,convRule:My},{start:120432,length:26,convRule:fw},{start:120458,length:28,convRule:My},{start:120488,length:25,convRule:fw},{start:120513,length:1,convRule:MO},{start:120514,length:25,convRule:My},{start:120539,length:1,convRule:MO},{start:120540,length:6,convRule:My},{start:120546,length:25,convRule:fw},{start:120571,length:1,convRule:MO},{start:120572,length:25,convRule:My},{start:120597,length:1,convRule:MO},{start:120598,length:6,convRule:My},{start:120604,length:25,convRule:fw},{start:120629,length:1,convRule:MO},{start:120630,length:25,convRule:My},{start:120655,length:1,convRule:MO},{start:120656,length:6,convRule:My},{start:120662,length:25,convRule:fw},{start:120687,length:1,convRule:MO},{start:120688,length:25,convRule:My},{start:120713,length:1,convRule:MO},{start:120714,length:6,convRule:My},{start:120720,length:25,convRule:fw},{start:120745,length:1,convRule:MO},{start:120746,length:25,convRule:My},{start:120771,length:1,convRule:MO},{start:120772,length:6,convRule:My},{start:120778,length:1,convRule:fw},{start:120779,length:1,convRule:My},{start:120782,length:50,convRule:ew},{start:120832,length:512,convRule:IO},{start:121344,length:55,convRule:rw},{start:121399,length:4,convRule:IO},{start:121403,length:50,convRule:rw},{start:121453,length:8,convRule:IO},{start:121461,length:1,convRule:rw},{start:121462,length:14,convRule:IO},{start:121476,length:1,convRule:rw},{start:121477,length:2,convRule:IO},{start:121479,length:5,convRule:$O},{start:121499,length:5,convRule:rw},{start:121505,length:15,convRule:rw},{start:122880,length:7,convRule:rw},{start:122888,length:17,convRule:rw},{start:122907,length:7,convRule:rw},{start:122915,length:2,convRule:rw},{start:122918,length:5,convRule:rw},{start:123136,length:45,convRule:qx},{start:123184,length:7,convRule:rw},{start:123191,length:7,convRule:Ux},{start:123200,length:10,convRule:ew},{start:123214,length:1,convRule:qx},{start:123215,length:1,convRule:IO},{start:123584,length:44,convRule:qx},{start:123628,length:4,convRule:rw},{start:123632,length:10,convRule:ew},{start:123647,length:1,convRule:FO},{start:124928,length:197,convRule:qx},{start:125127,length:9,convRule:jO},{start:125136,length:7,convRule:rw},{start:125184,length:34,convRule:ex},{start:125218,length:34,convRule:Fy},{start:125252,length:7,convRule:rw},{start:125259,length:1,convRule:Ux},{start:125264,length:10,convRule:ew},{start:125278,length:2,convRule:$O},{start:126065,length:59,convRule:jO},{start:126124,length:1,convRule:IO},{start:126125,length:3,convRule:jO},{start:126128,length:1,convRule:FO},{start:126129,length:4,convRule:jO},{start:126209,length:45,convRule:jO},{start:126254,length:1,convRule:IO},{start:126255,length:15,convRule:jO},{start:126464,length:4,convRule:qx},{start:126469,length:27,convRule:qx},{start:126497,length:2,convRule:qx},{start:126500,length:1,convRule:qx},{start:126503,length:1,convRule:qx},{start:126505,length:10,convRule:qx},{start:126516,length:4,convRule:qx},{start:126521,length:1,convRule:qx},{start:126523,length:1,convRule:qx},{start:126530,length:1,convRule:qx},{start:126535,length:1,convRule:qx},{start:126537,length:1,convRule:qx},{start:126539,length:1,convRule:qx},{start:126541,length:3,convRule:qx},{start:126545,length:2,convRule:qx},{start:126548,length:1,convRule:qx},{start:126551,length:1,convRule:qx},{start:126553,length:1,convRule:qx},{start:126555,length:1,convRule:qx},{start:126557,length:1,convRule:qx},{start:126559,length:1,convRule:qx},{start:126561,length:2,convRule:qx},{start:126564,length:1,convRule:qx},{start:126567,length:4,convRule:qx},{start:126572,length:7,convRule:qx},{start:126580,length:4,convRule:qx},{start:126585,length:4,convRule:qx},{start:126590,length:1,convRule:qx},{start:126592,length:10,convRule:qx},{start:126603,length:17,convRule:qx},{start:126625,length:3,convRule:qx},{start:126629,length:5,convRule:qx},{start:126635,length:17,convRule:qx},{start:126704,length:2,convRule:MO},{start:126976,length:44,convRule:IO},{start:127024,length:100,convRule:IO},{start:127136,length:15,convRule:IO},{start:127153,length:15,convRule:IO},{start:127169,length:15,convRule:IO},{start:127185,length:37,convRule:IO},{start:127232,length:13,convRule:jO},{start:127245,length:161,convRule:IO},{start:127462,length:29,convRule:IO},{start:127504,length:44,convRule:IO},{start:127552,length:9,convRule:IO},{start:127568,length:2,convRule:IO},{start:127584,length:6,convRule:IO},{start:127744,length:251,convRule:IO},{start:127995,length:5,convRule:BO},{start:128e3,length:728,convRule:IO},{start:128736,length:13,convRule:IO},{start:128752,length:13,convRule:IO},{start:128768,length:116,convRule:IO},{start:128896,length:89,convRule:IO},{start:128992,length:12,convRule:IO},{start:129024,length:12,convRule:IO},{start:129040,length:56,convRule:IO},{start:129104,length:10,convRule:IO},{start:129120,length:40,convRule:IO},{start:129168,length:30,convRule:IO},{start:129200,length:2,convRule:IO},{start:129280,length:121,convRule:IO},{start:129402,length:82,convRule:IO},{start:129485,length:135,convRule:IO},{start:129632,length:14,convRule:IO},{start:129648,length:5,convRule:IO},{start:129656,length:3,convRule:IO},{start:129664,length:7,convRule:IO},{start:129680,length:25,convRule:IO},{start:129712,length:7,convRule:IO},{start:129728,length:3,convRule:IO},{start:129744,length:7,convRule:IO},{start:129792,length:147,convRule:IO},{start:129940,length:55,convRule:IO},{start:130032,length:10,convRule:ew},{start:131072,length:42718,convRule:qx},{start:173824,length:4149,convRule:qx},{start:177984,length:222,convRule:qx},{start:178208,length:5762,convRule:qx},{start:183984,length:7473,convRule:qx},{start:194560,length:542,convRule:qx},{start:196608,length:4939,convRule:qx},{start:917505,length:1,convRule:_b},{start:917536,length:96,convRule:_b},{start:917760,length:240,convRule:rw},{start:983040,length:65534,convRule:Eb},{start:1048576,length:65534,convRule:Eb}],Mb=function(t){return function(e){var n=e<256?63:3396,r=Nb(Qb)(e)(n);if(r instanceof kd)return!1;if(r instanceof Ad)return Ld(JR(r.value0.category)(t));throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5645, column 5 - line 5647, column 86): "+[r.constructor.name])}},Bb=Mb([uw,Nx]),Fb=(Array.from,"undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator]),qb=(String.prototype.fromCodePoint,"function"==typeof String.prototype.codePointAt);const $b=function(t){return qb?function(t){return t.codePointAt(0)}:t},Ub=function(t){return t.length},Xb=function(t){return function(e){return e.substring(t)}},Hb=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var Vb=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},Wb=qR(VR),zb=pd(dd),Gb=function(t){return function(e){return 65536+((1024*(t-55296|0)|0)+(e-56320|0)|0)|0}},jb=function(t){return 56320<=t&&t<=57343},Yb=function(t){return 55296<=t&&t<=56319},Zb=function(t){var e=Ub(t);if(0===e)return kd.value;if(1===e)return new Ad({head:Wb(Hb(0)(t)),tail:""});var n=Wb(Hb(1)(t)),r=Wb(Hb(0)(t)),i=Yb(r)&&jb(n);return new Ad(i?{head:Gb(r)(n),tail:Xb(2)(t)}:{head:r,tail:Xb(1)(t)})},Kb=$b((function(t){var e=Wb(Hb(0)(t));if(Yb(e)&&Ub(t)>1){var n=Wb(Hb(1)(t));return jb(n)?Gb(e)(n):e}return e})),Jb={eq:function(t){return function(e){return t===e}}},tC={compare:function(t){return function(e){return zb(t)(e)}},Eq0:function(){return Jb}},eC=function(t){return function(e){var n,r,i,s=t,o=!1;for(;!o;)r=s,i=void 0,n=(i=Zb(e))instanceof Ad?0===r?(o=!0,new Ad(i.value0.head)):(s=r-1|0,void(e=i.value0.tail)):(o=!0,kd.value);return n}},nC=function(t){return function(e){return t<0||0===t&&""===e?kd.value:0===t?new Ad(Kb(e)):(n=eC,function(t){return function(e){return function(r){return function(i){return function(s){var o=s.length;if(i<0||i>=o)return e;if(Fb)for(var l=s[Symbol.iterator](),a=i;;--a){var u=l.next();if(u.done)return e;if(0===a)return t(r(u.value))}return n(i)(s)}}}}})(Ad.create)(kd.value)(Kb)(t)(e);var n}},rC={bottom:0,top:1114111,Ord0:function(){return tC}},iC=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){return t>=0&&t<=1114111?new Ad(t):kd.value},Bounded0:function(){return rC},Enum1:function(){return sC(0)}}}(),sC=Vb("enumCodePoint","Data.String.CodePoints",(function(){return{succ:$R(FR(iC))(qR(iC)),pred:UR(FR(iC))(qR(iC)),Ord0:function(){return tC}}})),oC=qR(iC),lC=function(t){return Bb(oC(t))},aC=Ip(cm),uC=function(t){if(t instanceof kd)return _m("unsafeFromJust: unexpected Nothing");if(t instanceof Ad)return t.value0;throw new Error("Failed pattern match at Language.CP.Util (line 25, column 1 - line 25, column 41): "+[t.constructor.name])},cC=function(){var t=nC(0);return function(e){return lC(uC(t(e)))}}(),hC=function(t){return function(e){if(e instanceof lm)return _m("foldr1: empty list");if(e instanceof am&&e.value1 instanceof lm)return e.value0;if(e instanceof am)return t(e.value0)(hC(t)(e.value1));throw new Error("Failed pattern match at Language.CP.Util (line 20, column 1 - line 20, column 49): "+[t.constructor.name,e.constructor.name])}},fC=function(t){return function(e){if(e instanceof lm)return _m("foldl1: empty list");if(e instanceof am)return aC(t)(e.value0)(e.value1);throw new Error("Failed pattern match at Language.CP.Util (line 16, column 1 - line 16, column 49): "+[t.constructor.name,e.constructor.name])}},vC=function(t){return function(e){return t+" "+e}};function dC(t){return{term:t,done:!1}}function gC(t){return t.done}function pC(t){return t.term}function mC(t){return function(e){return e.term=t,e.done=!0,t}}var RC=Sd(bd),OC=Sd(yd),wC=Sd(xd),xC=Sd(Cd),yC=Sd(CR),bC=Sd(_R),CC=Np(Mp)(Gd),SC=yv(kv),TC=Um(vd),kC=Hm(vd),AC=function(){function t(){}return t.value=new t,t}(),PC=function(){function t(){}return t.value=new t,t}(),EC=function(){function t(){}return t.value=new t,t}(),_C=function(){function t(){}return t.value=new t,t}(),LC=function(){function t(){}return t.value=new t,t}(),DC=function(){function t(){}return t.value=new t,t}(),IC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),NC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),MC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),BC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),FC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),qC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),$C=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),UC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),XC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),HC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),VC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),WC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),zC=function(){function t(){}return t.value=new t,t}(),GC=function(){function t(){}return t.value=new t,t}(),jC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),YC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),ZC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),KC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),JC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),tS=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),eS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),nS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),rS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),iS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),sS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),oS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),lS=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),aS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),uS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),cS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),hS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),fS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),vS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),dS=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),gS=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),pS={show:function(t){if(t instanceof AC)return"Int";if(t instanceof PC)return"Double";if(t instanceof EC)return"String";if(t instanceof _C)return"Bool";if(t instanceof LC)return"⊤";if(t instanceof DC)return"⊥";if(t instanceof IC&&t.value2)return"Trait"+NR(vC(Sd(pS)(t.value0))(vC("=>")(Sd(pS)(t.value1))));if(t instanceof IC&&!t.value2)return LR(vC(Sd(pS)(t.value0))(vC("→")(Sd(pS)(t.value1))));if(t instanceof NC)return LR(vC(Sd(pS)(t.value0))(vC("&")(Sd(pS)(t.value1))));if(t instanceof QC)return IR(t.value0+vC(t.value2?"?":"")(vC(":")(Sd(pS)(t.value1))));if(t instanceof MC)return t.value0;if(t instanceof BC)return LR("∀"+vC(t.value0)(vC("*")(Sd(pS)(t.value1)+vC(".")(Sd(pS)(t.value2)))));if(t instanceof FC)return LR(vC("μ")(t.value0+vC(".")(Sd(pS)(t.value1))));if(t instanceof qC)return DR(Sd(pS)(t.value0));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 34, column 1 - line 52, column 39): "+[t.constructor.name])}},mS=Sd(pS),RS={show:function(t){if(t instanceof XC)return RC(t.value0);if(t instanceof HC)return OC(t.value0);if(t instanceof VC)return wC(t.value0);if(t instanceof WC)return xC(t.value0);if(t instanceof zC)return"()";if(t instanceof GC)return"undefined";if(t instanceof jC)return yC(t.value0)+Sd(RS)(t.value1);if(t instanceof YC)return LR(vC(Sd(RS)(t.value1))(vC(bC(t.value0))(Sd(RS)(t.value2))));if(t instanceof ZC)return LR(vC("if")(vC(Sd(RS)(t.value0))(vC("then")(vC(Sd(RS)(t.value1))(vC("else")(Sd(RS)(t.value2)))))));if(t instanceof KC)return t.value0;if(t instanceof JC)return LR(vC(Sd(RS)(t.value0))(Sd(RS)(t.value1)));if(t instanceof tS)return LR("λ"+(t.value0+vC(".")(vC(Sd(RS)(t.value1))(vC(":")(vC(mS(t.value2))(vC("→")(mS(t.value3))))))));if(t instanceof eS)return LR(vC("fix")(Sd(RS)(t.value0)));if(t instanceof nS)return LR(vC(Sd(RS)(t.value0))(vC(":")(mS(t.value1))));if(t instanceof rS)return LR(vC(Sd(RS)(t.value0))(vC(",")(Sd(RS)(t.value1))));if(t instanceof iS)return IR(vC(t.value0)(vC(":")(vC(mS(t.value1))(vC("=")(Sd(RS)(t.value2))))));if(t instanceof sS)return Sd(RS)(t.value0)+"."+t.value1;if(t instanceof oS)return LR(vC(Sd(RS)(t.value0))("@"+mS(t.value1)));if(t instanceof lS)return LR("Λ"+(t.value0+vC(".")(vC(Sd(RS)(t.value2))(vC(":")("∀"+vC(t.value0)(vC("*")(mS(t.value1)+vC(".")(mS(t.value3)))))))));if(t instanceof aS)return LR("fold @"+vC(mS(t.value0))(Sd(RS)(t.value1)));if(t instanceof uS)return LR("unfold @"+vC(mS(t.value0))(Sd(RS)(t.value1)));if(t instanceof cS)return LR(vC("toString")(Sd(RS)(t.value0)));if(t instanceof hS)return LR(vC(DR(CC("; ")(SC(Sd(RS))(t.value1))))(vC(":")(DR(mS(t.value0)))));if(t instanceof fS)return NR("Ref");if(t instanceof vS)return NR(vC("Closure")(Sd(RS)(t.value1)));if(t instanceof dS)return NR(vC("HOAS")(vC(mS(t.value1))(vC("→")(mS(t.value2)))));if(t instanceof gS)return NR(vC("HOAS ∀*")(mS(t.value1)));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 89, column 1 - line 121, column 72): "+[t.constructor.name])}},OS=Sd(RS),wS={show:function(t){if(t instanceof $C)return OS(t.value0);if(t instanceof UC&&t.value0 instanceof Ad)return mS(t.value0.value0);if(t instanceof UC&&t.value0 instanceof kd)return"*";throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 245, column 1 - line 248, column 30): "+[t.constructor.name])}},xS={eq:function(t){return function(e){return t instanceof AC&&e instanceof AC||(t instanceof PC&&e instanceof PC||(t instanceof EC&&e instanceof EC||(t instanceof _C&&e instanceof _C||(t instanceof LC&&e instanceof LC||(t instanceof DC&&e instanceof DC||(t instanceof IC&&e instanceof IC?id(xS)(t.value0)(e.value0)&&id(xS)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof NC&&e instanceof NC?id(xS)(t.value0)(e.value0)&&id(xS)(t.value1)(e.value1):t instanceof QC&&e instanceof QC?t.value0===e.value0&&id(xS)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof MC&&e instanceof MC?t.value0===e.value0:t instanceof BC&&e instanceof BC?t.value0===e.value0&&id(xS)(t.value1)(e.value1)&&id(xS)(t.value2)(e.value2):t instanceof FC&&e instanceof FC?t.value0===e.value0&&id(xS)(t.value1)(e.value1):t instanceof qC&&e instanceof qC&&id(xS)(t.value0)(e.value0)))))))}}},yS=function(t){return function(e){return function(n){return n instanceof IC?new IC(yS(t)(e)(n.value0),yS(t)(e)(n.value1),n.value2):n instanceof NC?new NC(yS(t)(e)(n.value0),yS(t)(e)(n.value1)):n instanceof QC?new QC(n.value0,yS(t)(e)(n.value1),n.value2):n instanceof MC?t===n.value0?e:new MC(n.value0):n instanceof BC?new BC(n.value0,yS(t)(e)(n.value1),t===n.value0?n.value2:yS(t)(e)(n.value2)):n instanceof FC?new FC(n.value0,t===n.value0?n.value1:yS(t)(e)(n.value1)):n instanceof qC?new qC(yS(t)(e)(n.value0)):n}}},bS=function(t){return t instanceof FC?yS(t.value0)(t)(t.value1):t},CS=function(t){return function(e){if(e instanceof IC)return new IC(CS(t)(e.value0),CS(t)(e.value1),e.value2);if(e instanceof NC)return new NC(CS(t)(e.value0),CS(t)(e.value1));if(e instanceof QC)return new QC(e.value0,CS(t)(e.value1),e.value2);if(e instanceof MC){var n=TC(e.value0)(t);return n instanceof Ad&&n.value0 instanceof $d?n.value0.value0:new MC(e.value0)}return e instanceof BC?new BC(e.value0,CS(t)(e.value1),CS(t)(e.value2)):e instanceof FC?new FC(e.value0,CS(t)(e.value1)):e instanceof qC?new qC(CS(t)(e.value0)):e}},SS=function(t){return function(e){return function(n){return function(r){return CS(kC(e)(new $d(r))(t))(n)}}}},TS=SS(Ym),kS=function(t){return function(e){return function(n){return n instanceof jC?new jC(n.value0,kS(t)(e)(n.value1)):n instanceof YC?new YC(n.value0,kS(t)(e)(n.value1),kS(t)(e)(n.value2)):n instanceof ZC?new ZC(kS(t)(e)(n.value0),kS(t)(e)(n.value1),kS(t)(e)(n.value2)):n instanceof JC?new JC(kS(t)(e)(n.value0),kS(t)(e)(n.value1),n.value2):n instanceof tS?new tS(n.value0,kS(t)(e)(n.value1),yS(t)(e)(n.value2),yS(t)(e)(n.value3),n.value4):n instanceof eS?new eS(kS(t)(e)(n.value0)):n instanceof nS?new nS(kS(t)(e)(n.value0),yS(t)(e)(n.value1)):n instanceof rS?new rS(kS(t)(e)(n.value0),kS(t)(e)(n.value1)):n instanceof iS?new iS(n.value0,yS(t)(e)(n.value1),kS(t)(e)(n.value2)):n instanceof sS?new sS(kS(t)(e)(n.value0),n.value1):n instanceof oS?new oS(kS(t)(e)(n.value0),yS(t)(e)(n.value1)):n instanceof lS?new lS(n.value0,yS(t)(e)(n.value1),kS(t)(e)(n.value2),t===n.value0?n.value3:yS(t)(e)(n.value3),n.value4):n instanceof aS?new aS(yS(t)(e)(n.value0),kS(t)(e)(n.value1)):n instanceof uS?new uS(yS(t)(e)(n.value0),kS(t)(e)(n.value1)):n instanceof cS?new cS(kS(t)(e)(n.value0)):n instanceof hS?new hS(yS(t)(e)(n.value0),SC(kS(t)(e))(n.value1)):n}}},AS=function(t){return function(e){return function(n){return n instanceof jC?new jC(n.value0,AS(t)(e)(n.value1)):n instanceof YC?new YC(n.value0,AS(t)(e)(n.value1),AS(t)(e)(n.value2)):n instanceof ZC?new ZC(AS(t)(e)(n.value0),AS(t)(e)(n.value1),AS(t)(e)(n.value2)):n instanceof KC?t===n.value0?e:new KC(n.value0):n instanceof JC?new JC(AS(t)(e)(n.value0),AS(t)(e)(n.value1),n.value2):n instanceof tS?new tS(n.value0,t===n.value0?n.value1:AS(t)(e)(n.value1),n.value2,n.value3,n.value4):n instanceof eS?new eS(AS(t)(e)(n.value0)):n instanceof nS?new nS(AS(t)(e)(n.value0),n.value1):n instanceof rS?new rS(AS(t)(e)(n.value0),AS(t)(e)(n.value1)):n instanceof iS?new iS(n.value0,n.value1,AS(t)(e)(n.value2)):n instanceof sS?new sS(AS(t)(e)(n.value0),n.value1):n instanceof oS?new oS(AS(t)(e)(n.value0),n.value1):n instanceof lS?new lS(n.value0,n.value1,AS(t)(e)(n.value2),n.value3,n.value4):n instanceof aS?new aS(n.value0,AS(t)(e)(n.value1)):n instanceof uS?new uS(n.value0,AS(t)(e)(n.value1)):n instanceof cS?new cS(AS(t)(e)(n.value0)):n instanceof hS?new hS(n.value0,SC(AS(t)(e))(n.value1)):n}}},PS=function(t){return function(e){if(e instanceof jC)return new jC(e.value0,PS(t)(e.value1));if(e instanceof YC)return new YC(e.value0,PS(t)(e.value1),PS(t)(e.value2));if(e instanceof ZC)return new ZC(PS(t)(e.value0),PS(t)(e.value1),PS(t)(e.value2));if(e instanceof KC){var n=TC(e.value0)(t);return n instanceof Ad&&n.value0 instanceof qd?n.value0.value0:new KC(e.value0)}return e instanceof JC?new JC(PS(t)(e.value0),PS(t)(e.value1),e.value2):e instanceof tS?new dS((function(n){return PS(kC(e.value0)(new qd(n))(t))(e.value1)}),CS(t)(e.value2),CS(t)(e.value3),e.value4):e instanceof eS?new eS(PS(t)(e.value0)):e instanceof nS?new nS(PS(t)(e.value0),CS(t)(e.value1)):e instanceof rS?new rS(PS(t)(e.value0),PS(t)(e.value1)):e instanceof iS?new iS(e.value0,CS(t)(e.value1),PS(t)(e.value2)):e instanceof sS?new sS(PS(t)(e.value0),e.value1):e instanceof oS?new oS(PS(t)(e.value0),CS(t)(e.value1)):e instanceof lS?new gS((function(n){return PS(kC(e.value0)(new $d(n))(t))(e.value2)}),CS(t)(e.value1),SS(t)(e.value0)(e.value3),e.value4):e instanceof aS?new aS(CS(t)(e.value0),PS(t)(e.value1)):e instanceof uS?new uS(CS(t)(e.value0),PS(t)(e.value1)):e instanceof cS?new cS(PS(t)(e.value0)):e instanceof hS?new hS(CS(t)(e.value0),SC(PS(t))(e.value1)):e}},ES=PS(Ym),_S=yg(Jv),LS=bv(um),DS=yv(um),IS=Sp(Tp),NS=yv(Dd),QS=Fp(cm)(mg),MS=Np(cm)(Gd),BS=Sd(bd),FS=Sd(yd),qS=Sd(xd),$S=Sd(Cd),US=Sd(CR),XS=Sd(_R),HS=Np(Mp)(Gd),VS=yv(kv),WS=Bp(cm)(Gd),zS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),GS=function(){function t(){}return t.value=new t,t}(),jS=function(){function t(){}return t.value=new t,t}(),YS=function(){function t(){}return t.value=new t,t}(),ZS=function(){function t(){}return t.value=new t,t}(),KS=function(){function t(){}return t.value=new t,t}(),JS=function(){function t(){}return t.value=new t,t}(),tT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),eT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),nT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),rT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),iT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),oT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),lT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),aT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),uT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),cT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),hT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),fT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),vT=function(){function t(){}return t.value=new t,t}(),dT=function(){function t(){}return t.value=new t,t}(),gT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),pT=function(){function t(){}return t.value=new t,t}(),mT=function(){function t(){}return t.value=new t,t}(),RT=function(){function t(){}return t.value=new t,t}(),OT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),wT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),xT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),yT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),bT=function(){function t(){}return t.value=new t,t}(),CT=function(){function t(){}return t.value=new t,t}(),ST=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),TT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),kT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),AT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),PT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ET=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),_T=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),LT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),DT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),NT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),MT=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),BT=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),FT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),qT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),$T=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),UT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),XT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),HT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),VT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),WT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),zT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),GT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),jT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),YT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),ZT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),KT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),JT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),tk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ek=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),nk=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),rk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),ik=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),sk=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),ok=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),lk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ak={show:function(t){if(t instanceof pT)return",";if(t instanceof mT)return"+,";if(t instanceof RT)return",+";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 104, column 1 - line 107, column 23): "+[t.constructor.name])}},uk=Sd(ak),ck={eq:function(t){return function(e){return t instanceof GS&&e instanceof GS||(t instanceof jS&&e instanceof jS||(t instanceof YS&&e instanceof YS||(t instanceof ZS&&e instanceof ZS||(t instanceof KS&&e instanceof KS||(t instanceof JS&&e instanceof JS||(t instanceof tT&&e instanceof tT||t instanceof eT&&e instanceof eT?id(ck)(t.value0)(e.value0)&&id(ck)(t.value1)(e.value1):t instanceof nT&&e instanceof nT?id(mm(hk))(t.value0)(e.value0):t instanceof rT&&e instanceof rT?t.value0===e.value0:t instanceof iT&&e instanceof iT?id(mm(_S(Qd(ck))))(t.value0)(e.value0)&&id(ck)(t.value1)(e.value1):t instanceof sT&&e instanceof sT?t.value0===e.value0&&id(ck)(t.value1)(e.value1):t instanceof oT&&e instanceof oT?id(ck)(t.value0)(e.value0)&&id(ck)(t.value1)(e.value1):t instanceof lT&&e instanceof lT?t.value0===e.value0&&id(ck)(t.value1)(e.value1):t instanceof aT&&e instanceof aT?id(Qd(ck))(t.value0)(e.value0)&&id(ck)(t.value1)(e.value1):t instanceof uT&&e instanceof uT?id(ck)(t.value0)(e.value0)&&id(Qd(ck))(t.value1)(e.value1):t instanceof cT&&e instanceof cT?t.value0===e.value0&&t.value1===e.value1&&id(ck)(t.value2)(e.value2):t instanceof hT&&e instanceof hT?id(ck)(t.value0)(e.value0):t instanceof fT&&e instanceof fT&&(id(ck)(t.value0)(e.value0)&&id(ck)(t.value1)(e.value1))))))))}}},hk={eq:function(t){return function(e){return t.value0===e.value0&&id(ck)(t.value1)(e.value1)&&t.value2===e.value2}}},fk=function(t){return function(e){return function(n){return n instanceof tT?new tT(fk(t)(e)(n.value0),fk(t)(e)(n.value1)):n instanceof eT?new eT(fk(t)(e)(n.value0),fk(t)(e)(n.value1)):n instanceof nT?new nT(LS(n.value0)((function(n){return new zS(n.value0,fk(t)(e)(n.value1),n.value2)}))):n instanceof rT?t===n.value0?e:new rT(n.value0):n instanceof iT?new iT(DS(IS(NS(fk(t)(e))))(n.value0),QS((function(e){return xg(e)===t}))(n.value0)?n.value1:fk(t)(e)(n.value1)):n instanceof sT?new sT(n.value0,t===n.value0?n.value1:fk(t)(e)(n.value1)):n instanceof oT?new oT(fk(t)(e)(n.value0),fk(t)(e)(n.value1)):n instanceof lT?new lT(n.value0,t===n.value0?n.value1:fk(t)(e)(n.value1)):n instanceof aT?new aT(NS(fk(t)(e))(n.value0),fk(t)(e)(n.value1)):n instanceof uT?new uT(fk(t)(e)(n.value0),NS(fk(t)(e))(n.value1)):n instanceof cT?new cT(n.value0,n.value1,t===n.value0||t===n.value1?n.value2:fk(t)(e)(n.value2)):n instanceof hT?new hT(fk(t)(e)(n.value0)):n instanceof fT?new fT(fk(t)(e)(n.value0),fk(t)(e)(n.value1)):n}}},vk=function(t){var e=Sd(t);return function(t){return function(n){return function(r){return Ed("")((function(n){return t+(e(n)+r)}))(n)}}}},dk=function(t){var e=function(t){return Lp(t)((function(t){return function(t){return!1}}))(!0)}(t),n=Np(t);return function(t){var r=jd(t),i=Hv(t.Semigroup0()),s=n(t);return function(t){return function(n){return e(n)?r:i(s(t)(n))(t)}}}},gk=dk(cm)(Gd),pk=function(t){return gk(" ")(LS(t)((function(t){return Ed(xg(t))((function(e){return LR(vC(xg(t))(vC("*")(Sd(mk)(e))))}))(wg(t))})))},mk={show:function(t){if(t instanceof GS)return"Int";if(t instanceof jS)return"Double";if(t instanceof YS)return"String";if(t instanceof ZS)return"Bool";if(t instanceof KS)return"Top";if(t instanceof JS)return"Bot";if(t instanceof tT)return LR(vC(Sd(mk)(t.value0))(vC("->")(Sd(mk)(t.value1))));if(t instanceof eT)return LR(vC(Sd(mk)(t.value0))(vC("&")(Sd(mk)(t.value1))));if(t instanceof nT)return IR(Rk(t.value0));if(t instanceof rT)return t.value0;if(t instanceof iT)return LR(vC("forall")(pk(t.value0)+vC(".")(Sd(mk)(t.value1))));if(t instanceof sT)return LR(vC("mu")(t.value0+vC(".")(Sd(mk)(t.value1))));if(t instanceof oT)return LR(vC(Sd(mk)(t.value0))(Sd(mk)(t.value1)));if(t instanceof lT)return LR("\\"+vC(t.value0)(vC("->")(Sd(mk)(t.value1))));if(t instanceof aT)return"Trait"+NR(vk(mk)("")(t.value0)(" => ")+Sd(mk)(t.value1));if(t instanceof uT)return NR(Sd(mk)(t.value0)+vk(mk)(" => ")(t.value1)(""));if(t instanceof cT)return LR("\\"+vC(NR(t.value0+vC(",")(t.value1)))(vC("->")(Sd(mk)(t.value2))));if(t instanceof hT)return DR(Sd(mk)(t.value0));if(t instanceof fT)return LR(vC(Sd(mk)(t.value0))(vC("\\")(Sd(mk)(t.value1))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 38, column 1 - line 59, column 62): "+[t.constructor.name])}},Rk=function(t){return MS("; ")(LS(t)((function(t){return t.value0+vC(t.value2?"?":"")(vC(":")(Sd(mk)(t.value1)))})))},Ok=Sd(mk),wk=vk(mk),xk=NS((function(t){return DR(function(){if(t.value1 instanceof Ad)return vC(t.value0)(vC(":")(Ok(t.value1.value0)));if(t.value1 instanceof kd)return t.value0;throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 271, column 45 - line 273, column 15): "+[t.value1.constructor.name])}())})),yk=function(t){var e=function(t){return vC(t.value0)(vC("=")(Sd(bk)(t.value1)+"; "))};return gk(" ")(LS(t)((function(t){if(t instanceof tk&&t.value1 instanceof Ad)return LR(vC(t.value0)(vC(":")(Ok(t.value1.value0))));if(t instanceof tk&&t.value1 instanceof kd)return t.value0;if(t instanceof ek)return"{"+WS(e)(t.value0)+"..}";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 241, column 53 - line 244, column 66): "+[t.constructor.name])})))},bk={show:function(t){if(t instanceof OT)return BS(t.value0);if(t instanceof wT)return FS(t.value0);if(t instanceof xT)return qS(t.value0);if(t instanceof yT)return $S(t.value0);if(t instanceof bT)return"()";if(t instanceof CT)return"undefined";if(t instanceof ST)return US(t.value0)+Sd(bk)(t.value1);if(t instanceof TT)return LR(vC(Sd(bk)(t.value1))(vC(XS(t.value0))(Sd(bk)(t.value2))));if(t instanceof kT)return LR(vC("if")(vC(Sd(bk)(t.value0))(vC("then")(vC(Sd(bk)(t.value1))(vC("else")(Sd(bk)(t.value2)))))));if(t instanceof AT)return cC(t.value0)?"$"+t.value0:t.value0;if(t instanceof PT)return LR(vC(Sd(bk)(t.value0))(Sd(bk)(t.value1)));if(t instanceof ET)return LR("\\"+(yk(t.value0)+vC("->")(Sd(bk)(t.value1))));if(t instanceof _T)return LR(vC(Sd(bk)(t.value0))(vC(":")(Ok(t.value1))));if(t instanceof LT)return LR(vC(Sd(bk)(t.value1))(vC(uk(t.value0))(Sd(bk)(t.value2))));if(t instanceof DT)return IR(Ck(t.value0));if(t instanceof IT)return Sd(bk)(t.value0)+"."+t.value1;if(t instanceof NT)return LR(vC(Sd(bk)(t.value0))("@"+Ok(t.value1)));if(t instanceof QT)return LR("/\\"+(pk(t.value0)+vC(".")(Sd(bk)(t.value1))));if(t instanceof MT)return LR(vC("let")(vC(t.value0)(pk(t.value1)+(yk(t.value2)+vC("=")(vC(Sd(bk)(t.value3))(vC("in")(Sd(bk)(t.value4))))))));if(t instanceof BT)return LR(vC("letrec")(vC(t.value0)(pk(t.value1)+(yk(t.value2)+vC(":")(vC(Ok(t.value3))(vC("=")(vC(Sd(bk)(t.value4))(vC("in")(Sd(bk)(t.value5))))))))));if(t instanceof FT)return LR(vC("open")(vC(Sd(bk)(t.value0))(vC("in")(Sd(bk)(t.value1)))));if(t instanceof qT)return IR(vC(Sd(bk)(t.value0))(vC("with")(MS("; ")(LS(t.value1)((function(t){return vC(t.value0)(vC("=")(Sd(bk)(t.value1)))}))))));if(t instanceof $T)return LR("trait"+vC(Ed("")((function(t){return" "+t}))(xk(t.value0)))(wk("implements ")(t.value1)(" ")+(vk(bk)("inherits ")(t.value2)(" ")+vC("=>")(Sd(bk)(t.value3)))));if(t instanceof UT)return LR(vC("new")(Sd(bk)(t.value0)));if(t instanceof XT)return LR(vC(Sd(bk)(t.value0))(vC("^")(Sd(bk)(t.value1))));if(t instanceof HT)return LR(vC(Sd(bk)(t.value0))(vC("\\\\")(Ok(t.value1))));if(t instanceof VT)return LR(vC(Sd(bk)(t.value0))(vC("\\")(t.value1)));if(t instanceof WT)return LR(vC(Sd(bk)(t.value0))(vC("\\-")(Sd(bk)(t.value1))));if(t instanceof zT)return LR(vC(Sd(bk)(t.value0))(DR(vC(t.value1)(vC("<-")(t.value2)))));if(t instanceof GT)return LR("fold @"+vC(Ok(t.value0))(Sd(bk)(t.value1)));if(t instanceof jT)return LR("unfold @"+vC(Ok(t.value0))(Sd(bk)(t.value1)));if(t instanceof YT)return LR(vC("toString")(Sd(bk)(t.value0)));if(t instanceof ZT)return DR(HS("; ")(VS(Sd(bk))(t.value0)));if(t instanceof KT)return Sd(bk)(t.value0);if(t instanceof JT)return Sd(bk)(t.value1);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 114, column 1 - line 158, column 31): "+[t.constructor.name])}},Ck=function(t){var e=function(t){return function(e){return function(n){return"."+vC(t)(yk(e)+vC("=")(Sd(bk)(n)))}}};return MS("; ")(LS(t)((function(t){if(t instanceof nk)return(t.value0?"override ":"")+(n=t.value1,function(t){return function(r){if(r instanceof qd)return vC(n)(yk(t)+vC("=")(Sd(bk)(r.value0)));if(r instanceof $d)return Ed("")((function(t){return t+"@"}))(xk(r.value0.value0))+(LR(" "+vC(n)(yk(t)))+e(r.value0.value1)(r.value0.value2)(r.value0.value3));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 260, column 9 - line 260, column 79): "+[n.constructor.name,t.constructor.name,r.constructor.name])}})(t.value2)(t.value3);var n;if(t instanceof rk)return Nd("_")(xk(t.value0.value0))+e(t.value0.value1)(t.value0.value2)(t.value0.value3);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 256, column 42 - line 259, column 58): "+[t.constructor.name])})))},Sk=Sd(bk),Tk=function(t){return t instanceof KT?"`"+Tk(t.value0)+"`":t instanceof JT&&t.value1 instanceof KT?"["+Tk(t.value1.value0)+"]":t instanceof JT?Tk(t.value1):t instanceof UT?Tk(t.value0):t instanceof AT&&"Endl"===t.value0?"\\\\":t instanceof PT&&t.value0 instanceof PT&&t.value0.value0 instanceof AT&&"Comp"===t.value0.value0.value0?Tk(t.value0.value1)+Tk(t.value1):t instanceof PT&&t.value0 instanceof AT&&"Str"===t.value0.value0&&t.value1 instanceof xT?t.value1.value0:t instanceof PT&&t.value0 instanceof AT&&"Str"===t.value0.value0&&t.value1 instanceof YT?"\\("+Sk(t.value1.value0)+")":t instanceof PT&&t.value0 instanceof AT?"\\"+(t.value0.value0+Tk(t.value1)):t instanceof PT?Tk(t.value0)+Tk(t.value1):"("+Sk(t)+")"},kk={show:function(t){if(t instanceof sk){var e=t.value0 instanceof vT?"type":"interface",n=t.value0 instanceof gT?vC("extends")(Ok(t.value0.value0)):"";return vC(e)(vC(t.value1)(gk(" ")(DS(NR)(t.value2))+(gk(" ")(t.value3)+vC(n)(vC("=")(Ok(t.value4)+";")))))}if(t instanceof ok)return vC(t.value0)(pk(t.value1)+(yk(t.value2)+(wk(": ")(t.value3)(" ")+vC("=")(Sk(t.value4)+";"))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 179, column 1 - line 190, column 50): "+[t.constructor.name])}},Ak=Ig(vg),Pk=yv(um),Ek=yv(Vg(Pg(ug))),_k=Um(vd),Lk=Eg(vg),Dk=lg(Yg(Lk)),Ik=sg(Zg(Lk)),Nk=Zm(vd)(cm),Qk=Qv(zg(_g(vg))),Mk=ig(Kg(Ak)),Bk=Dv(Gg(Dg(vg))),Fk=Sd(xd),qk=mv(Rv),$k=Hm(vd),Uk=function(){function t(){}return t.value=new t,t}(),Xk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Hk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Vk=function(){function t(){}return t.value=new t,t}(),Wk=function(){function t(){}return t.value=new t,t}(),zk=function(){function t(){}return t.value=new t,t}(),Gk=function(){function t(){}return t.value=new t,t}(),jk=function(){function t(){}return t.value=new t,t}(),Yk={append:wv},Zk=function(t){return function(e){return Om(t(e))}},Kk=function(t){return Ek(_k(t))(Dk((function(t){return t.tyBindEnv})))},Jk=function(t){return Ek(_k(t))(Dk((function(t){return t.sortEnv})))},tA=function(t){return Ik((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.pos=t(e.pos),n}))},eA=function(){return{mode:zk.value,timing:!1,tmBindings:lm.value,tyAliases:Ym}}(),nA=function(t){return{tmBindEnv:Nk(Pk((function(t){return new Rg(t.value0,t.value1.value0)}))(t.tmBindings)),tyAliasEnv:t.tyAliases,tyBindEnv:Ym,sortEnv:Ym,pos:Uk.value}},rA=Dk((function(t){return t.pos})),iA=function(t){return Qk(Ek(Hk.create(t))(rA))(Mk)},sA=function(t){return function(e){return function(n){return"_"===e?qk:Ik(t((function(t){return $k(e)(n)(t)})))}}},oA=sA((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyBindEnv:t(e.tyBindEnv),tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos}}})),lA=sA((function(t){return function(e){return{tmBindEnv:t(e.tmBindEnv),tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos}}})),aA=sA((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:t(e.sortEnv),pos:e.pos}}})),uA=Lp(cm),cA=Sp(Tp),hA=mv(Rv),fA=bv(um),vA=yv(Dd),dA=yv(um),gA=yv(kv),pA=function(t){return new $T(t.value0,kd.value,kd.value,new DT(ym(new nk(!1,t.value1,t.value2,new qd(t.value3)))))},mA=function(t){if(t instanceof ET)return uA((function(t){return function(e){return new ET(ym(t),e)}}))(mA(t.value1))(t.value0);if(t instanceof QT){var e=function(t){return new Ad(Nd(KS.value)(t))};return uA((function(t){return function(n){return new QT(ym(cA(e)(t)),n)}}))(mA(t.value1))(t.value0)}if(t instanceof DT&&t.value0 instanceof lm)return bT.value;if(t instanceof DT){return fC(LT.create(pT.value))(fA(t.value0)((function(t){return new DT(ym(function(t){if(t instanceof nk)return new nk(t.value0,t.value1,lm.value,new qd(mA(new ET(t.value2,Xd(hA)(pA)(t.value3)))));if(t instanceof rk)return t;throw new Error("Failed pattern match at Language.CP.Desugar (line 24, column 5 - line 24, column 41): "+[t.constructor.name])}(t)))})))}if(t instanceof $T){var n=Nd(new Rg("$self",kd.value))(t.value0);return new $T(new Ad(n),new Ad(Nd(KS.value)(t.value1)),vA(mA)(t.value2),new FT(new AT(n.value0),mA(t.value3)))}if(t instanceof MT)return new MT(t.value0,lm.value,lm.value,mA(new QT(t.value1,new ET(t.value2,t.value3))),mA(t.value4));if(t instanceof BT){var r=new iT(t.value1,uA(tT.create)(t.value3)(dA((function(t){if(t instanceof tk&&t.value1 instanceof Ad)return t.value1.value0;if(t instanceof tk&&t.value1 instanceof kd)return JS.value;if(t instanceof ek)return JS.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 39, column 16 - line 41, column 45): "+[t.constructor.name])}))(t.value2)));return new BT(t.value0,lm.value,lm.value,r,mA(new QT(t.value1,new ET(t.value2,t.value4))),mA(t.value5))}return t instanceof ST?new ST(t.value0,mA(t.value1)):t instanceof TT?new TT(t.value0,mA(t.value1),mA(t.value2)):t instanceof kT?new kT(mA(t.value0),mA(t.value1),mA(t.value2)):t instanceof PT?new PT(mA(t.value0),mA(t.value1)):t instanceof _T?new _T(mA(t.value0),t.value1):t instanceof LT?new LT(t.value0,mA(t.value1),mA(t.value2)):t instanceof IT?new IT(mA(t.value0),t.value1):t instanceof NT?new NT(mA(t.value0),t.value1):t instanceof FT?new FT(mA(t.value0),mA(t.value1)):t instanceof qT?new qT(mA(t.value0),dA(cA(mA))(t.value1)):t instanceof UT?new UT(mA(t.value0)):t instanceof XT?new XT(mA(t.value0),mA(t.value1)):t instanceof HT?new HT(mA(t.value0),t.value1):t instanceof VT?new VT(mA(t.value0),t.value1):t instanceof WT?new WT(mA(t.value0),mA(t.value1)):t instanceof zT?new zT(mA(t.value0),t.value1,t.value2):t instanceof GT?new GT(t.value0,mA(t.value1)):t instanceof jT?new jT(t.value0,mA(t.value1)):t instanceof YT?new YT(mA(t.value0)):t instanceof ZT?new ZT(gA(mA)(t.value0)):t instanceof KT?new KT(mA(t.value0)):t instanceof JT?new JT(t.value0,mA(t.value1)):t},RA=function(t){if(t instanceof ok&&t.value3 instanceof kd)return new ok(t.value0,lm.value,lm.value,kd.value,mA(new QT(t.value1,new ET(t.value2,t.value4))));if(t instanceof ok&&t.value3 instanceof Ad){var e=new iT(t.value1,uA(tT.create)(t.value3.value0)(dA((function(t){if(t instanceof tk&&t.value1 instanceof Ad)return t.value1.value0;if(t instanceof tk&&t.value1 instanceof kd)return JS.value;if(t instanceof ek)return JS.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 77, column 16 - line 79, column 45): "+[t.constructor.name])}))(t.value2)));return new ok(t.value0,lm.value,lm.value,new Ad(e),mA(new QT(t.value1,new ET(t.value2,t.value4))))}return t};!function(){function t(t){this.fn=t}var e={},n=function(t,e){this.head=t,this.tail=e};function r(t){return new n(t,e)}function i(t){return function(e){return new n(t,e)}}function s(t){for(var n=[],r=t;r!==e;)n.push(r.head),r.tail;return n}}();var OA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wA=function(t){var e,n=!1;function r(e){if(e.value0 instanceof lm&&e.value1 instanceof lm)return n=!0,kd.value;if(!(e.value0 instanceof lm)){if(e.value0 instanceof am)return n=!0,new Ad(new Rg(e.value0.value0,new OA(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[e.constructor.name])}t=new OA(Sm(e.value1),lm.value)}for(;!n;)e=r(t);return e},xA=function(t){return function(e){return new OA(t.value0,new am(e,t.value1))}},yA=function(t){return t.value0 instanceof lm&&t.value1 instanceof lm},bA=function(){return new OA(lm.value,lm.value)}(),CA=function(){function t(){}return t.value=new t,t}(),SA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),TA=function(t){return function(e){if(t instanceof CA)return e;if(e instanceof CA)return t;if(t instanceof SA)return new SA(t.value0,xA(t.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,e.constructor.name])}},kA=function(t){return function(e){return function(n){var r;return(r=n,function(n){var i,s=r,o=!1;function l(r,i){var l=wA(r);if(l instanceof kd)return o=!0,function(t){return function(e){return function(n){var r,i=t,s=e,o=!1;function l(t,e,r){if(r instanceof lm)return o=!0,e;if(r instanceof am)return i=t,s=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[t.constructor.name,e.constructor.name,r.constructor.name])}for(;!o;)r=l(i,s,n);return r}}}((function(t){return function(e){return e(t)}}))(e)(i);if(l instanceof Ad)return s=l.value0.value1,void(n=new am(t(l.value0.value0),i));throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[l.constructor.name])}for(;!o;)i=l(s,n);return i})(lm.value)}}},AA=function(t){if(t instanceof CA)return kd.value;if(t instanceof SA)return new Ad(new Rg(t.value0,yA(t.value1)?CA.value:kA(TA)(CA.value)(t.value1)));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])},PA=function(){return CA.value}(),EA=TA,_A={append:EA},LA=function(t){return function(e){return EA(t)(new SA(e,bA))}},DA=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},IA=Hv(_A),NA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),MA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),BA=function(t){var e,n=!1;function r(e){var r=function(t){return function(e){return new NA(t.value0,IA(t.value1)(e))}};if(e.value0 instanceof QA){var i=AA(e.value1);if(i instanceof kd)return n=!0,new QA(e.value0.value0);if(i instanceof Ad)return void(t=r((0,i.value0.value0)(e.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(e.value0 instanceof MA)return n=!0,new MA(e.value0.value0,(function(t){return r(e.value0.value1(t))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!n;)e=r(t);return e},FA=function(t){var e=yv(t);return function(t){return function(n){var r,i=!1;function s(r){var s=BA(r);if(s instanceof QA)return i=!0,s.value0;if(!(s instanceof MA))throw new Error("Failed pattern match at Control.Monad.Free (line 178, column 10 - line 180, column 33): "+[s.constructor.name]);n=t(e(s.value1)(s.value0))}for(;!i;)r=s(n);return r}}},qA=function(t){return new NA(t,PA)},$A={Applicative0:function(){return HA},Bind1:function(){return XA}},UA={map:function(t){return function(e){return Mv(XA)((n=Dv(HA),function(e){return n(t(e))}))(e);var n}}},XA={bind:function(t){return function(e){return new NA(t.value0,LA(t.value1)(e))}},Apply0:function(){return VA(0)}},HA={pure:function(t){return qA(QA.create(t))},Apply0:function(){return VA(0)}},VA=DA("freeApply","Control.Monad.Free",(function(){return{apply:$v($A),Functor0:function(){return UA}}})),WA=VA(77),zA=FA(Tv)((function(t){return t(xv)})),GA=Sd(RS),jA=Sd(pS),YA=Sd(_R),ZA=Sd(CR),KA=Sd(bd),JA=Sd(yd),tP=Sd(Cd),eP=zd(Wd),nP=Vd(Wd),rP=Hv(Xv),iP=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),sP=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),oP=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),lP={show:function(t){if(t instanceof iP)return GA(t.value0);if(t instanceof sP)return GA(t.value0);if(t instanceof oP)return jA(t.value0);throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 113, column 1 - line 116, column 28): "+[t.constructor.name])}},aP=function(t){return function(e){return function(n){return _m("CP.Semantics.Common.binop: impossible binary operation "+YA(t)+" between "+GA(e)+" and "+GA(n))}}},uP=function(t){return function(e){return t instanceof nR&&e instanceof XC?new XC(0|-e.value0):t instanceof nR&&e instanceof HC?new HC(-e.value0):t instanceof rR&&e instanceof WC?new WC(!e.value0):t instanceof iR&&e instanceof hS?new XC(up(e.value1)):_m("CP.Semantics.Common.unop: impossible unary operation "+ZA(t)+" on "+GA(e))}},cP=function(t){return t instanceof VC?t:t instanceof XC?new VC(KA(t.value0)):t instanceof HC?new VC(JA(t.value0)):t instanceof WC?new VC(tP(t.value0)):_m("CP.Semantics.Common.toString: impossible from "+GA(t)+" to string")},hP=function(t){return function(e){if(t instanceof rS){var n=hP(t.value1)(e),r=hP(t.value0)(e);return r instanceof zC&&n instanceof zC?zC.value:r instanceof zC?n:n instanceof zC?r:new rS(r,n)}return t instanceof iS&&e===t.value0?new nS(t.value2,t.value1):zC.value}},fP=function(t){var e,n=!1;function r(e){return e instanceof LC?(n=!0,zC.value):e instanceof IC?(n=!0,new tS("$top",zC.value,LC.value,e.value1,!0)):e instanceof QC?(n=!0,new iS(e.value0,e.value1,zC.value)):e instanceof BC?(n=!0,new lS(e.value0,LC.value,zC.value,e.value2,!0)):e instanceof FC?void(t=e.value1):(n=!0,_m("CP.Semantics.Common.genTopLike: cannot generate a top-like value of type "+jA(e)))}for(;!n;)e=r(t);return e},vP=function(t){return function(e){return function(n){if(t instanceof RR)return function(t){return function(e){return function(n){return t instanceof vR&&e instanceof XC&&n instanceof XC?new XC(e.value0+n.value0|0):t instanceof dR&&e instanceof XC&&n instanceof XC?new XC(e.value0-n.value0|0):t instanceof gR&&e instanceof XC&&n instanceof XC?new XC(e.value0*n.value0|0):t instanceof pR&&e instanceof XC&&n instanceof XC?new XC(eP(e.value0)(n.value0)):t instanceof mR&&e instanceof XC&&n instanceof XC?new XC(nP(e.value0)(n.value0)):t instanceof vR&&e instanceof HC&&n instanceof HC?new HC(e.value0+n.value0):t instanceof dR&&e instanceof HC&&n instanceof HC?new HC(e.value0-n.value0):t instanceof gR&&e instanceof HC&&n instanceof HC?new HC(e.value0*n.value0):t instanceof pR&&e instanceof HC&&n instanceof HC?new HC(e.value0/n.value0):t instanceof mR&&e instanceof HC&&n instanceof HC?new HC((r=e.value0,function(t){return r%t})(n.value0)):aP(new RR(t))(e)(n);var r}}}(t.value0)(e)(n);if(t instanceof OR)return function(t){return function(e){return function(n){return t instanceof lR&&e instanceof XC&&n instanceof XC?new WC(e.value0===n.value0):t instanceof aR&&e instanceof XC&&n instanceof XC?new WC(e.value0!==n.value0):t instanceof uR&&e instanceof XC&&n instanceof XC?new WC(e.value0<n.value0):t instanceof cR&&e instanceof XC&&n instanceof XC?new WC(e.value0<=n.value0):t instanceof hR&&e instanceof XC&&n instanceof XC?new WC(e.value0>n.value0):t instanceof fR&&e instanceof XC&&n instanceof XC?new WC(e.value0>=n.value0):t instanceof lR&&e instanceof HC&&n instanceof HC?new WC(e.value0===n.value0):t instanceof aR&&e instanceof HC&&n instanceof HC?new WC(e.value0!==n.value0):t instanceof uR&&e instanceof HC&&n instanceof HC?new WC(e.value0<n.value0):t instanceof cR&&e instanceof HC&&n instanceof HC?new WC(e.value0<=n.value0):t instanceof hR&&e instanceof HC&&n instanceof HC?new WC(e.value0>n.value0):t instanceof fR&&e instanceof HC&&n instanceof HC?new WC(e.value0>=n.value0):t instanceof lR&&e instanceof VC&&n instanceof VC?new WC(e.value0===n.value0):t instanceof aR&&e instanceof VC&&n instanceof VC?new WC(e.value0!==n.value0):t instanceof uR&&e instanceof VC&&n instanceof VC?new WC(e.value0<n.value0):t instanceof cR&&e instanceof VC&&n instanceof VC?new WC(e.value0<=n.value0):t instanceof hR&&e instanceof VC&&n instanceof VC?new WC(e.value0>n.value0):t instanceof fR&&e instanceof VC&&n instanceof VC?new WC(e.value0>=n.value0):t instanceof lR&&e instanceof WC&&n instanceof WC?new WC(e.value0===n.value0):t instanceof aR&&e instanceof WC&&n instanceof WC?new WC(e.value0!==n.value0):t instanceof uR&&e instanceof WC&&n instanceof WC?new WC(e.value0<n.value0):t instanceof cR&&e instanceof WC&&n instanceof WC?new WC(e.value0<=n.value0):t instanceof hR&&e instanceof WC&&n instanceof WC?new WC(e.value0>n.value0):t instanceof fR&&e instanceof WC&&n instanceof WC?new WC(e.value0>=n.value0):aP(new OR(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof wR)return function(t){return function(e){return function(n){return t instanceof sR&&e instanceof WC&&n instanceof WC?new WC(e.value0&&n.value0):t instanceof oR&&e instanceof WC&&n instanceof WC?new WC(e.value0||n.value0):aP(new wR(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof xR&&e instanceof VC&&n instanceof VC)return new VC(e.value0+n.value0);if(t instanceof xR&&e instanceof hS&&n instanceof hS)return new hS(e.value0,rP(e.value1)(n.value1));if(t instanceof yR&&e instanceof hS&&n instanceof XC){var r=Yp(e.value1)(n.value0);if(r instanceof Ad)return new nS(r.value0,e.value0);if(r instanceof kd)return _m("CP.Semantics.Common.binop: the index "+KA(n.value0)+" is out of bounds for "+GA(new hS(e.value0,e.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 27, column 41 - line 30, column 63): "+[r.constructor.name])}return t instanceof bR&&e instanceof zC?n:t instanceof bR?e:aP(t)(e)(n)}}},dP=Qv(Bd),gP=id(xS),pP=function(t){return t instanceof NC?new Ad(new Rg(t.value0,t.value1)):t instanceof IC?dP(pP(t.value1))((function(e){return new Ad(new Rg(new IC(t.value0,e.value0,t.value2),new IC(t.value0,e.value1,t.value2)))})):t instanceof QC?dP(pP(t.value1))((function(e){return new Ad(new Rg(new QC(t.value0,e.value0,t.value2),new QC(t.value0,e.value1,t.value2)))})):t instanceof BC?dP(pP(t.value2))((function(e){return new Ad(new Rg(new BC(t.value0,t.value1,e.value0),new BC(t.value0,t.value1,e.value1)))})):kd.value},mP=function(t){return t instanceof LC||(t instanceof IC?mP(t.value1):t instanceof NC?mP(t.value0)&&mP(t.value1):t instanceof QC?mP(t.value1):t instanceof BC?mP(t.value2):t instanceof FC&&mP(t.value1))},RP=function(t){return function(e){if(t instanceof DC)return!0;if(mP(e))return!0;var n=pP(e);return n instanceof Ad?RP(t)(n.value0.value0)&&RP(t)(n.value0.value1):function(n){if(t instanceof IC&&e instanceof IC)return RP(e.value0)(t.value0)&&RP(t.value1)(e.value1);if(t instanceof NC)return RP(t.value0)(e)||RP(t.value1)(e);if(e instanceof QC&&e.value2)return!0;if(t instanceof QC&&!t.value2&&e instanceof QC&&!e.value2)return t.value0===e.value0&&RP(t.value1)(e.value1);if(t instanceof BC&&e instanceof BC)return RP(e.value1)(t.value1)&&RP(t.value2)(yS(e.value0)(new MC(t.value0))(e.value2));if(t instanceof FC&&e instanceof FC){var r=yS(e.value0)(new MC(t.value0))(e.value1);return RP(yS(t.value0)(new QC(t.value0,t.value1,!1))(t.value1))(yS(e.value0)(new QC(t.value0,r,!1))(e.value1))}return t instanceof qC&&e instanceof qC?RP(t.value0)(e.value0):!!gP(t)(e)}()}},OP=function(t){return function(e){return t instanceof IC&&e instanceof IC||t instanceof NC&&e instanceof NC?OP(t.value0)(e.value0)&&OP(t.value1)(e.value1):t instanceof QC&&e instanceof QC?t.value0===e.value0&&OP(t.value1)(e.value1)&&t.value2===e.value2:t instanceof BC&&e instanceof BC?OP(t.value1)(e.value1)&&OP(t.value2)(yS(e.value0)(new MC(t.value0))(e.value2)):t instanceof FC&&e instanceof FC?OP(t.value1)(yS(e.value0)(new MC(t.value0))(e.value1)):t instanceof qC&&e instanceof qC?OP(t.value0)(e.value0):!!gP(t)(e)}},wP=Sd(RS),xP=Sd(lP),yP=Sd(pS),bP=Vv(Fd),CP=Ev(Md),SP=yv(Dd),TP=_v(Md),kP=Dv(HA),AP=yv(UA),PP=Qv(XA),EP=Ev(WA),_P=Av(UA),LP=Bv(XA),DP=yv(kv),IP=function(t){return function(e){return t instanceof dS&&!t.value3&&e instanceof iP?t.value0(new fS(dC(e.value0))):t instanceof dS&&t.value3&&e instanceof iP?new nS(t.value0(new fS(dC(e.value0))),t.value2):t instanceof dS&&e instanceof sP?new nS(t.value0(new fS(dC(new nS(e.value0,t.value1)))),t.value2):t instanceof gS&&!t.value3&&e instanceof oP?t.value0(e.value0):t instanceof gS&&t.value3&&e instanceof oP?new nS(t.value0(e.value0),t.value2(e.value0)):t instanceof rS?new rS(IP(t.value0)(e),IP(t.value1)(e)):_m("CP.Semantics.HOAS.paraApp: impossible application "+wP(t)+" • "+xP(e))}},NP=function(t){return t instanceof XC||(t instanceof HC||(t instanceof VC||(t instanceof WC||(t instanceof zC||(t instanceof dS||(t instanceof rS?NP(t.value0)&&NP(t.value1):t instanceof iS||(t instanceof gS||(t instanceof aS?NP(t.value1):t instanceof hS))))))))},QP=function(t){return function(e){if(!NP(t))return _m("CP.Semantics.HOAS.cast: "+wP(t)+" is not a value");var n=pP(e);if(n instanceof Ad){var r=function(t){return t instanceof QC&&t.value2?new Ad(zC.value):kd.value},i=QP(t)(n.value0.value1),s=QP(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return bP(CP(SP(rS.create)(s))(i))(bP(TP(l)(i))(bP(TP(o)(s))(TP(l)(o))))}return mP(e)?new Ad(function(t){var e,n=!1;function r(e){return e instanceof LC?(n=!0,zC.value):e instanceof IC?(n=!0,new dS((function(t){return zC.value}),LC.value,e.value1,!0)):e instanceof QC?(n=!0,new iS(e.value0,e.value1,zC.value)):e instanceof BC?(n=!0,new gS((function(t){return zC.value}),LC.value,TS(e.value0)(e.value2),!0)):e instanceof FC?void(t=e.value1):(n=!0,_m("CP.Semantics.HOAS.genTopLike: cannot generate a top-like value of type "+yP(e)))}for(;!n;)e=r(t);return e}(e)):t instanceof XC&&e instanceof AC?new Ad(new XC(t.value0)):t instanceof HC&&e instanceof PC?new Ad(new HC(t.value0)):t instanceof VC&&e instanceof EC?new Ad(new VC(t.value0)):t instanceof WC&&e instanceof _C?new Ad(new WC(t.value0)):t instanceof dS&&e instanceof IC&&RP(t.value2)(e.value1)?new Ad(new dS(t.value0,t.value1,e.value1,!0)):t instanceof rS?bP(QP(t.value0)(e))(QP(t.value1)(e)):t instanceof iS&&e instanceof QC&&t.value0===e.value0&&RP(t.value1)(e.value1)?new Ad(new iS(t.value0,e.value1,t.value2)):t instanceof gS&&e instanceof BC&&RP(e.value1)(t.value1)&&RP(t.value2(new MC(e.value0)))(e.value2)?new Ad(new gS(t.value0,t.value1,TS(e.value0)(e.value2),!0)):t instanceof aS&&e instanceof FC&&RP(t.value0)(e)?new Ad(new aS(e,t.value1)):t instanceof hS&&e instanceof qC&&RP(t.value0)(e.value0)?new Ad(new hS(e.value0,t.value1)):kd.value}},MP=function(){var t=function(e){var n=e;if(e instanceof XC)return kP(n);n=e;if(e instanceof HC)return kP(n);n=e;if(e instanceof VC)return kP(n);n=e;if(e instanceof WC)return kP(n);if(e instanceof zC)return kP(zC.value);if(e instanceof jC)return AP(uP(e.value0))(t(e.value1));if(e instanceof YC)return PP(t(e.value1))((function(n){return PP(t(e.value2))((function(r){var i=vP(e.value0)(n)(r);return e.value0 instanceof yR?t(i):kP(i)}))}));if(e instanceof ZC)return PP(t(e.value0))((function(n){return n instanceof WC&&n.value0?t(e.value1):n instanceof WC&&!n.value0?t(e.value2):_m("CP.Semantics.HOAS.eval: impossible if "+wP(n)+" ...")}));if(e instanceof JC)return PP(t(e.value0))((function(n){return t(IP(n)((e.value2?sP.create:iP.create)(e.value1)))}));n=e;if(e instanceof dS)return kP(n);if(e instanceof eS)return PP(t(e.value0))((function(n){return t(IP(n)(new iP(e)))}));if(e instanceof nS)return PP((r=function(e){var n,r=!1;function i(n){if(!(n instanceof nS))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=QP(n)(e.value1);if(r instanceof Ad)return t(r.value0);if(r instanceof kd)return _m("CP.Semantics.HOAS.eval: impossible casting "+wP(e));throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 49, column 7 - line 52, column 69): "+[r.constructor.name])}));if(e instanceof rS)return EP(AP(rS.create)(t(e.value0)))(t(e.value1));if(e instanceof iS)return kP(new iS(e.value0,e.value1,new fS(dC(e.value2))));if(e instanceof sS)return PP(_P(AP(hP)(t(e.value0)))(e.value1))(t);if(e instanceof oS)return PP(_P(AP(IP)(t(e.value0)))(new oP(e.value1)))(t);n=e;if(e instanceof gS)return kP(n);if(e instanceof aS)return AP(aS.create(e.value0))(t(e.value1));if(e instanceof uS){var r=function(n){return n instanceof rS?LP(r)(t)(new nS(n,e.value0)):n instanceof aS?t(new nS(n.value1,bS(e.value0))):_m("CP.Semantics.HOAS.eval: impossible unfold "+wP(n))};return mP(e.value0)?kP(zC.value):PP(t(e.value1))(r)}if(e instanceof cS)return AP(cP)(t(e.value0));if(e instanceof hS)return kP(new hS(e.value0,DP((function(t){return fS.create(dC(t))}))(e.value1)));if(e instanceof fS){n=pC(e.value0);return gC(e.value0)?kP(n):PP(t(n))((function(t){return kP(mC(t)(e.value0))}))}return _m("CP.Semantics.HOAS.eval: well-typed programs don't get stuck, but got "+wP(e))};return function(e){return zA(t(ES(e)))}}(),BP=yv(Dd),FP={lift:function(t){var e=function(t){var e=Qv(t.Bind1()),n=Dv(t.Applicative0());return function(t){return function(r){return e(r)((function(e){return n(t(e))}))}}}(t)(Ad.create);return function(t){return e(t)}}},qP=function(t){var e=yv(t);return{map:function(t){return function(n){return e(BP(t))(n)}}}},$P=function(t){return{Applicative0:function(){return HP(t)},Bind1:function(){return UP(t)}}},UP=function(t){var e=Qv(t.Bind1()),n=Dv(t.Applicative0());return{bind:function(t){return function(r){return e(t)((function(t){if(t instanceof kd)return n(kd.value);if(t instanceof Ad)return r(t.value0);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 54, column 11 - line 56, column 42): "+[t.constructor.name])}))}},Apply0:function(){return XP(t)}}},XP=function(t){var e=qP(t.Bind1().Apply0().Functor0());return{apply:$v($P(t)),Functor0:function(){return e}}},HP=function(t){return{pure:(e=Dv(t.Applicative0()),function(t){return e(Ad.create(t))}),Apply0:function(){return XP(t)}};var e},VP=function(t){var e=t.Bind1(),n=Qv(e),r=Dv(t.Applicative0()),i=qP(e.Apply0().Functor0());return{alt:function(t){return function(e){return n(t)((function(t){return t instanceof kd?e:r(t)}))}},Functor0:function(){return i}}},WP=function(t){var e=VP(t);return{empty:Dv(t.Applicative0())(kd.value),Alt0:function(){return e}}},zP=Hm(vd),GP=Sd(RS),jP=Sd(lP),YP=Um(vd),ZP=Sd(Pd(wS)),KP=Qg(FP),JP=eR(vd),tE=Hv(Xv),eE=Sd(bd),nE=function(t){return function(e){return t instanceof iR&&e instanceof vS&&e.value1 instanceof hS?new XC(up(e.value1.value1)):uP(t)(e)}},rE=function(t){return function(e){if(t instanceof rS){var n=rE(t.value1)(e),r=rE(t.value0)(e);return r instanceof zC&&n instanceof zC?zC.value:r instanceof zC?n:n instanceof zC?r:new rS(r,n)}return t instanceof vS&&t.value1 instanceof iS&&e===t.value1.value0?new vS(t.value0,new nS(t.value1.value2,t.value1.value1)):zC.value}},iE=function(t){return function(e){return t instanceof vS&&t.value1 instanceof tS&&!t.value1.value4&&e instanceof iP?new vS(zP(t.value1.value0)(new $C(e.value0))(t.value0),t.value1.value1):t instanceof vS&&t.value1 instanceof tS&&t.value1.value4&&e instanceof iP?new vS(zP(t.value1.value0)(new $C(e.value0))(t.value0),new nS(t.value1.value1,t.value1.value3)):t instanceof vS&&t.value1 instanceof tS&&e instanceof sP?new vS(zP(t.value1.value0)(new $C(new nS(e.value0,t.value1.value2)))(t.value0),new nS(t.value1.value1,t.value1.value3)):t instanceof vS&&t.value1 instanceof lS&&!t.value1.value4&&e instanceof oP?new vS(zP(t.value1.value0)(new UC(new Ad(e.value0)))(t.value0),t.value1.value2):t instanceof vS&&t.value1 instanceof lS&&t.value1.value4&&e instanceof oP?new vS(zP(t.value1.value0)(new UC(new Ad(e.value0)))(t.value0),new nS(t.value1.value2,t.value1.value3)):t instanceof rS?new rS(iE(t.value0)(e),iE(t.value1)(e)):_m("CP.Semantics.Closure.paraApp: impossible application "+GP(t)+" • "+jP(e))}},sE=function(t){return t instanceof XC||(t instanceof HC||(t instanceof VC||(t instanceof WC||(t instanceof zC||(t instanceof rS?sE(t.value0)&&sE(t.value1):t instanceof aS?sE(t.value1):t instanceof vS&&t.value1 instanceof iS||(t instanceof vS&&t.value1 instanceof tS||(t instanceof vS&&t.value1 instanceof lS||t instanceof vS&&t.value1 instanceof hS)))))))},oE=function(t){var e=t.Bind1(),n=e.Apply0(),r=Vg(n.Functor0()),i=Av(r),s=Ev(Wg(n)),o=yv(r),l=Qv(zg(e)),a=og(Yg(t)),u=Dv(Gg(t.Applicative0())),c=sg(Zg(t));return function(e){return e instanceof IC?i(s(o(IC.create)(oE(t)(e.value0)))(oE(t)(e.value1)))(e.value2):e instanceof NC?s(o(NC.create)(oE(t)(e.value0)))(oE(t)(e.value1)):e instanceof QC?i(o(QC.create(e.value0))(oE(t)(e.value1)))(e.value2):e instanceof MC?l(a)((function(n){var r=YP(e.value0)(n);return r instanceof Ad&&r.value0 instanceof UC&&r.value0.value0 instanceof kd?u(new MC(e.value0)):r instanceof Ad&&r.value0 instanceof UC&&r.value0.value0 instanceof Ad?oE(t)(r.value0.value0.value0):_m("CP.Semantics.Closure.expand: "+e.value0+" is "+ZP(r))})):e instanceof BC?l(oE(t)(e.value1))((function(n){return l(c((function(t){return zP(e.value0)(new UC(kd.value))(t)}))(oE(t)(e.value2)))((function(t){return u(new BC(e.value0,n,t))}))})):e instanceof FC?l(c((function(t){return zP(e.value0)(new UC(kd.value))(t)}))(oE(t)(e.value1)))((function(t){return u(new FC(e.value0,t))})):e instanceof qC?o(qC.create)(oE(t)(e.value0)):u(e)}},lE=function(t){var e=Qv(zg(t.Bind1())),n=og(Yg(t)),r=Dv(Gg(t.Applicative0()));return function(t){return e(n)((function(e){return r(new vS(e,t))}))}},aE=function(t){var e=jg(t),n=Dv(HP(e)),r=Vv(VP(e)),i=Qv(UP(e)),s=KP(e),o=sg(Zg(t)),l=oE(t),a=Mg(WP(e)),u=XP(e),c=Ev(u),h=yv(qP(Vg(t.Bind1().Apply0().Functor0()))),f=_v(u);return function(t){return function(e){var u=function(t){return function(e){if(!sE(t))return _m("CP.Semantics.Closure.cast: "+GP(t)+" is not a value");var v=pP(e);if(v instanceof Ad){var d=function(t){return t instanceof QC&&t.value2?n(zC.value):a},g=u(t)(v.value0.value1),p=u(t)(v.value0.value0),m=d(v.value0.value1),R=d(v.value0.value0);return r(c(h(rS.create)(p))(g))(r(f(R)(g))(r(f(m)(p))(f(R)(m))))}return mP(e)?n(fP(e)):t instanceof rS?r(u(t.value0)(e))(u(t.value1)(e)):t instanceof XC&&e instanceof AC?n(new XC(t.value0)):t instanceof HC&&e instanceof PC?n(new HC(t.value0)):t instanceof VC&&e instanceof EC?n(new VC(t.value0)):t instanceof WC&&e instanceof _C?n(new WC(t.value0)):t instanceof aS&&e instanceof FC&&RP(t.value0)(e)?n(new aS(e,t.value1)):t instanceof vS&&t.value1 instanceof iS&&e instanceof QC?i(s(o(wv(t.value0))(l(t.value1.value1))))((function(r){return t.value1.value0===e.value0&&RP(r)(e.value1)?n(new vS(t.value0,new iS(e.value0,e.value1,t.value1.value2))):a})):t instanceof vS&&t.value1 instanceof tS&&e instanceof IC?i(s(o(wv(t.value0))(l(t.value1.value2))))((function(r){return i(s(o(wv(t.value0))(l(t.value1.value3))))((function(i){return RP(i)(e.value1)?n(new vS(t.value0,new tS(t.value1.value0,t.value1.value1,r,e.value1,!0))):a}))})):t instanceof vS&&t.value1 instanceof lS&&e instanceof BC?i(s(o(wv(t.value0))(l(t.value1.value1))))((function(r){var u=zP(t.value1.value0)(new UC(kd.value))(t.value0);return i(s(o(wv(u))(l(t.value1.value3))))((function(i){return t.value1.value0===e.value0&&RP(e.value1)(r)&&RP(i)(e.value2)?n(new vS(u,new lS(e.value0,r,t.value1.value2,e.value2,!0))):a}))})):t instanceof vS&&t.value1 instanceof hS&&e instanceof qC?i(s(o(wv(t.value0))(l(t.value1.value0))))((function(r){return RP(r)(e.value0)?n(new vS(t.value0,new hS(e.value0,t.value1.value1))):a})):a}};return u(t)(e)}}},uE=function(t){return function(e){return function(n){if(t instanceof xR&&e instanceof vS&&e.value1 instanceof hS&&n instanceof vS&&n.value1 instanceof hS)return new vS(JP(e.value0)(n.value0),new hS(e.value1.value0,tE(e.value1.value1)(n.value1.value1)));if(t instanceof yR&&e instanceof vS&&e.value1 instanceof hS&&n instanceof XC){var r=Yp(e.value1.value1)(n.value0);if(r instanceof Ad)return new vS(e.value0,new nS(r.value0,e.value1.value0));if(r instanceof kd)return _m("CP.Semantics.Closure.binop': the index "+eE(n.value0)+" is out of bounds for "+GP(new hS(e.value1.value0,e.value1.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Closure (line 151, column 58 - line 154, column 63): "+[r.constructor.name])}return vP(t)(e)(n)}}},cE=Dv(Gg(HA)),hE=Vg(UA),fE=yv(hE),vE=zg(XA),dE=Qv(vE),gE=Sd(RS),pE=og(Yg($A)),mE=Um(vd),RE=Sd(xd),OE=Sd(Pd(wS)),wE=lE($A),xE=oE($A),yE=aE($A),bE=Ev(Wg(WA)),CE=Av(hE),SE=Bv(vE),TE=sg(Zg($A)),kE=Sd(RS),AE=Sd(lP),PE=Vv(Fd),EE=Ev(Md),_E=yv(Dd),LE=_v(Md),DE=function(t){return function(e){return t instanceof tS&&!t.value4&&e instanceof iP?AS(t.value0)(e.value0)(t.value1):t instanceof tS&&t.value4&&e instanceof iP?new nS(AS(t.value0)(e.value0)(t.value1),t.value3):t instanceof tS&&e instanceof sP?new nS(AS(t.value0)(new nS(e.value0,t.value2))(t.value1),t.value3):t instanceof lS&&!t.value4&&e instanceof oP?kS(t.value0)(e.value0)(t.value2):t instanceof lS&&t.value4&&e instanceof oP?new nS(kS(t.value0)(e.value0)(t.value2),yS(t.value0)(e.value0)(t.value3)):t instanceof rS?new rS(DE(t.value0)(e),DE(t.value1)(e)):_m("CP.Semantics.Subst.paraApp: impossible application "+kE(t)+" • "+AE(e))}},IE=function(t){return t instanceof XC||(t instanceof HC||(t instanceof VC||(t instanceof WC||(t instanceof zC||(t instanceof tS||(t instanceof rS?IE(t.value0)&&IE(t.value1):t instanceof iS||(t instanceof lS||(t instanceof aS?IE(t.value1):t instanceof hS))))))))},NE=function(t){return function(e){if(!IE(t))return _m("CP.Semantics.Subst.cast: "+kE(t)+" is not a value");var n=pP(e);if(n instanceof Ad){var r=function(t){return t instanceof QC&&t.value2?new Ad(zC.value):kd.value},i=NE(t)(n.value0.value1),s=NE(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return PE(EE(_E(rS.create)(s))(i))(PE(LE(l)(i))(PE(LE(o)(s))(LE(l)(o))))}return mP(e)?new Ad(fP(e)):t instanceof XC&&e instanceof AC?new Ad(new XC(t.value0)):t instanceof HC&&e instanceof PC?new Ad(new HC(t.value0)):t instanceof VC&&e instanceof EC?new Ad(new VC(t.value0)):t instanceof WC&&e instanceof _C?new Ad(new WC(t.value0)):t instanceof tS&&e instanceof IC&&RP(t.value3)(e.value1)?new Ad(new tS(t.value0,t.value1,t.value2,e.value1,!0)):t instanceof rS?PE(NE(t.value0)(e))(NE(t.value1)(e)):t instanceof iS&&e instanceof QC&&t.value0===e.value0&&RP(t.value1)(e.value1)?new Ad(new iS(t.value0,e.value1,t.value2)):t instanceof lS&&e instanceof BC&&RP(e.value1)(t.value1)&&RP(yS(t.value0)(new MC(e.value0))(t.value3))(e.value2)?new Ad(new lS(e.value0,t.value1,kS(t.value0)(new MC(e.value0))(t.value2),e.value2,!0)):t instanceof aS&&e instanceof FC&&RP(t.value0)(e)?new Ad(new aS(e,t.value1)):t instanceof hS&&e instanceof qC&&RP(t.value0)(e.value0)?new Ad(new hS(e.value0,t.value1)):kd.value}},QE=function(t){if(t instanceof jC)return IE(t.value1)?uP(t.value0)(t.value1):new jC(t.value0,QE(t.value1));if(t instanceof YC)return IE(t.value1)&&IE(t.value2)?vP(t.value0)(t.value1)(t.value2):IE(t.value1)?new YC(t.value0,t.value1,QE(t.value2)):new YC(t.value0,QE(t.value1),t.value2);if(t instanceof ZC&&t.value0 instanceof WC&&t.value0.value0)return t.value1;if(t instanceof ZC&&t.value0 instanceof WC&&!t.value0.value0)return t.value2;if(t instanceof ZC)return new ZC(QE(t.value0),t.value1,t.value2);if(t instanceof JC)return IE(t.value0)?DE(t.value0)((t.value2?sP.create:iP.create)(t.value1)):new JC(QE(t.value0),t.value1,t.value2);if(t instanceof eS)return IE(t.value0)?DE(t.value0)(new iP(t)):new eS(QE(t.value0));if(t instanceof nS&&t.value0 instanceof nS)return new nS(t.value0.value0,t.value1);if(t instanceof nS)return IE(t.value0)?uC(NE(t.value0)(t.value1)):new nS(QE(t.value0),t.value1);if(t instanceof rS)return IE(t.value0)?new rS(t.value0,QE(t.value1)):IE(t.value1)?new rS(QE(t.value0),t.value1):new rS(QE(t.value0),QE(t.value1));if(t instanceof sS)return IE(t.value0)?hP(t.value0)(t.value1):new sS(QE(t.value0),t.value1);if(t instanceof oS)return IE(t.value0)?DE(t.value0)(new oP(t.value1)):new oS(QE(t.value0),t.value1);if(t instanceof aS)return new aS(t.value0,QE(t.value1));if(t instanceof uS&&mP(t.value0))return zC.value;var e=function(e){var n=function(e){return t instanceof uS?new uS(t.value0,QE(t.value1)):t instanceof cS?IE(t.value0)?cP(t.value0):new cS(QE(t.value0)):_m("CP.Semantics.Subst.step: well-typed programs don't get stuck, but got "+kE(t))};return t instanceof uS&&t.value1 instanceof rS?new uS(t.value0,new nS(t.value1,t.value0)):n()};return t instanceof uS&&t.value1 instanceof aS?new nS(t.value1.value1,bS(t.value0)):e()},ME=Dv(HA),BE=yv(UA),FE=Qv(XA),qE=Sd(RS),$E=Ev(WA),UE=Av(UA),XE=Bv(XA),HE=yv(kv),VE=function(){var t=function(e){var n=e;if(e instanceof XC)return ME(n);n=e;if(e instanceof HC)return ME(n);n=e;if(e instanceof VC)return ME(n);n=e;if(e instanceof WC)return ME(n);if(e instanceof zC)return ME(zC.value);if(e instanceof jC)return BE(uP(e.value0))(t(e.value1));if(e instanceof YC)return FE(t(e.value1))((function(n){return FE(t(e.value2))((function(r){var i=vP(e.value0)(n)(r);return e.value0 instanceof yR?t(i):ME(i)}))}));if(e instanceof ZC)return FE(t(e.value0))((function(n){return n instanceof WC&&n.value0?t(e.value1):n instanceof WC&&!n.value0?t(e.value2):_m("CP.Semantics.NaturalSubst.eval: impossible if "+qE(n)+" ...")}));if(e instanceof JC)return FE(t(e.value0))((function(n){var r=e.value2?sP.create:iP.create;return t(DE(n)(r(new fS(dC(e.value1)))))}));n=e;if(e instanceof tS)return ME(n);if(e instanceof eS)return FE(t(e.value0))((function(n){var r=dC(e);return FE(t(DE(n)(new iP(new fS(r)))))((function(t){return ME(mC(t)(r))}))}));if(e instanceof nS)return FE((r=function(e){var n,r=!1;function i(n){if(!(n instanceof nS))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=NE(n)(e.value1);if(r instanceof Ad)return t(r.value0);if(r instanceof kd)return _m("CP.Semantics.NaturalSubst.eval: impossible casting "+qE(e));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 51, column 7 - line 54, column 72): "+[r.constructor.name])}));if(e instanceof rS)return $E(BE(rS.create)(t(e.value0)))(t(e.value1));if(e instanceof iS)return ME(new iS(e.value0,e.value1,new fS(dC(e.value2))));if(e instanceof sS)return FE(UE(BE(hP)(t(e.value0)))(e.value1))(t);if(e instanceof oS)return FE(UE(BE(DE)(t(e.value0)))(new oP(e.value1)))(t);n=e;if(e instanceof lS)return ME(n);if(e instanceof aS)return BE(aS.create(e.value0))(t(e.value1));if(e instanceof uS){var r=function(n){return n instanceof rS?XE(r)(t)(new nS(n,e.value0)):n instanceof aS?t(new nS(n.value1,bS(e.value0))):_m("CP.Semantics.NaturalSubst.eval: impossible unfold "+qE(n))};return mP(e.value0)?ME(zC.value):FE(t(e.value1))(r)}if(e instanceof cS)return BE(cP)(t(e.value0));if(e instanceof hS)return ME(new hS(e.value0,HE((function(t){return fS.create(dC(t))}))(e.value1)));if(e instanceof fS){n=pC(e.value0);return gC(e.value0)?ME(n):FE(t(n))((function(t){return ME(mC(t)(e.value0))}))}return _m("CP.Semantics.NaturalSubst.eval: well-typed programs don't get stuck, but got "+qE(e))};return function(e){return zA(t(e))}}(),WE=function(t){return function(e){return t(e)}},zE=function(t){var e=yv(t);return{map:function(t){return WE(e((function(e){return new Rg(t(e.value0),e.value1)})))}}},GE=function(t){var e=Hv(t);return function(t){var n=Ev(t),r=t.Functor0(),i=yv(r),s=zE(r);return{apply:function(t){return function(r){return n(i((function(t){return function(n){return new Rg(t.value0(n.value0),e(t.value1)(n.value1))}}))(t))(r)}},Functor0:function(){return s}}}},jE=function(t){var e=Hv(t),n=GE(t);return function(t){var r=Qv(t),i=t.Apply0(),s=yv(i.Functor0()),o=n(i);return{bind:function(t){return function(n){return r(t)((function(t){var r=n(t.value0);return s((function(n){return new Rg(n.value0,e(t.value1)(n.value1))}))(r)}))}},Apply0:function(){return o}}}},YE=function(t){var e=jd(t),n=GE(t.Semigroup0());return function(t){var r=Dv(t),i=n(t.Apply0());return{pure:function(t){return r(new Rg(t,e))},Apply0:function(){return i}}}},ZE=function(t){var e=YE(t),n=jE(t.Semigroup0());return function(t){var r=e(t.Applicative0()),i=n(t.Bind1());return{Applicative0:function(){return r},Bind1:function(){return i}}}},KE=function(t){var e=t.Semigroup0(),n=ZE(t);return function(t){var r,i,s=n(t);return{tell:(r=Dv(t.Applicative0()),i=Rg.create(xv),function(t){return r(i(t))}),Semigroup0:function(){return e},Monad1:function(){return s}}}},JE=qg(),t_=function(t){return JE(t)},e_=Tg(KE(Ep(Rv))(vg)),n_=zE(ug),r_=Sv(n_),i_=Pp(gv),s_=GE(i_)(cg),o_=Ev(s_),l_=Av(n_),a_=Sd(RS),u_=Qv(jE(i_)(hg)),c_=_v(s_),h_=function(t){return function(e){return t+e}},f_=function(t){return e_(h_("→ Step-"+t+"\n"))},v_=function(t){return e_(h_("↓ Step-"+t+"\n"))},d_=function(t){if(t instanceof jC)return IE(t.value1)?r_(v_("UnaryV"))(uP(t.value0)(t.value1)):o_(r_(f_("Unary"))(jC.create(t.value0)))(d_(t.value1));if(t instanceof YC)return IE(t.value1)&&IE(t.value2)?r_(v_("BinaryV"))(vP(t.value0)(t.value1)(t.value2)):IE(t.value1)?o_(r_(f_("BinaryR"))(YC.create(t.value0)(t.value1)))(d_(t.value2)):l_(o_(r_(f_("BinaryL"))(YC.create(t.value0)))(d_(t.value1)))(t.value2);if(t instanceof ZC&&t.value0 instanceof WC&&t.value0.value0)return r_(v_("IfTrue"))(t.value1);if(t instanceof ZC&&t.value0 instanceof WC&&!t.value0.value0)return r_(v_("IfFalse"))(t.value2);if(t instanceof ZC)return l_(l_(o_(r_(f_("If"))(ZC.create))(d_(t.value0)))(t.value1))(t.value2);if(t instanceof JC)return IE(t.value0)?r_(v_("PApp"))(DE(t.value0)((t.value2?sP.create:iP.create)(t.value1))):l_(l_(o_(r_(f_("AppL"))(JC.create))(d_(t.value0)))(t.value1))(t.value2);if(t instanceof eS)return IE(t.value0)?r_(v_("FixV"))(DE(t.value0)(new iP(t))):o_(r_(f_("Fix"))(eS.create))(d_(t.value0));if(t instanceof nS&&t.value0 instanceof nS)return r_(v_("AnnoAnno"))(new nS(t.value0.value0,t.value1));if(t instanceof nS)return IE(t.value0)?r_(v_("AnnoV"))(uC(NE(t.value0)(t.value1))):l_(o_(r_(f_("Anno"))(nS.create))(d_(t.value0)))(t.value1);if(t instanceof rS)return IE(t.value0)?o_(r_(f_("MergeR"))(rS.create(t.value0)))(d_(t.value1)):IE(t.value1)?l_(o_(r_(f_("MergeL"))(rS.create))(d_(t.value0)))(t.value1):o_(o_(r_(f_("Merge"))(rS.create))(d_(t.value0)))(d_(t.value1));if(t instanceof sS)return IE(t.value0)?r_(v_("PProj"))(hP(t.value0)(t.value1)):l_(o_(r_(f_("Proj"))(sS.create))(d_(t.value0)))(t.value1);if(t instanceof oS)return IE(t.value0)?r_(v_("PTApp"))(DE(t.value0)(new oP(t.value1))):l_(o_(r_(f_("TApp"))(oS.create))(d_(t.value0)))(t.value1);if(t instanceof aS)return o_(r_(f_("Fold"))(aS.create(t.value0)))(d_(t.value1));if(t instanceof uS&&mP(t.value0))return r_(v_("UnfoldTop"))(zC.value);var e=function(e){var n=function(e){return t instanceof uS?o_(r_(f_("Unfold"))(uS.create(t.value0)))(d_(t.value1)):t instanceof cS?IE(t.value0)?r_(v_("ToStringV"))(cP(t.value0)):o_(r_(f_("ToString"))(cS.create))(d_(t.value0)):_m("CP.Semantics.StepTrace.step: well-typed programs don't get stuck, but got "+a_(t))};return t instanceof uS&&t.value1 instanceof rS?r_(v_("UnfoldMerge"))(new uS(t.value0,new nS(t.value1,t.value0))):n()};return t instanceof uS&&t.value1 instanceof aS?l_(r_(v_("UnfoldFold"))(nS.create(t.value1.value1)))(bS(t.value0)):e()},g_=function(){var t=function(e){return IE(e)?r_(e_(h_(a_(e)+"\n")))(e):u_(c_(e_(h_(a_(e)+"\n")))(d_(e)))(t)},e=Sp(Tp)(qg());return function(n){return e(t_(t(n)))}}(),p_=Bp(cm),m_=Ip(cm),R_=Lp(cm),O_=function(t){var e=eR(t);return function(t){return function(n){return e(t)(n)}}},w_=function(t){return jm(t)},x_={foldMap:function(t){var e=p_(t);return function(t){var n=e(t);return function(t){return n(w_(t))}}},foldl:function(t){return function(e){var n=m_(t)(e);return function(t){return n(w_(t))}}},foldr:function(t){return function(e){var n=R_(t)(e);return function(t){return n(w_(t))}}}},y_=Ym,b_={bifoldMap:function(t){var e=Hv(t.Semigroup0());return function(t){return function(n){return function(r){return e(t(r.value0))(n(r.value1))}}}},bifoldr:function(t){return function(e){return function(n){return function(r){return t(r.value0)(e(r.value1)(n))}}}},bifoldl:function(t){return function(e){return function(n){return function(r){return e(t(n)(r.value0))(r.value1)}}}}},C_=function(t){return t.bitraverse},S_=function(t){var e=C_(t);return function(t){return e(t)(Dv(t))}},T_={bitraverse:function(t){var e=t.Apply0(),n=Ev(e),r=yv(e.Functor0());return function(t){return function(e){return function(i){return n(r(Rg.create)(t(i.value0)))(e(i.value1))}}}},bisequence:function(t){var e=t.Apply0(),n=Ev(e),r=yv(e.Functor0());return function(t){return n(r(Rg.create)(t.value0))(t.value1)}},Bifunctor0:function(){return Tp},Bifoldable1:function(){return b_}},k_=id(xS),A_=Sd(pS),P_=Qv(zg(_g(vg))),E_=Vg(Pg(ug)),__=yv(E_),L_=Dv(Gg(Dg(vg))),D_=Vv(Jg(Ng(Yk)(vg))),I_=Av(E_),N_=Ev(Wg(Lg(vg))),Q_=function(t){return function(e){return function(n){return t instanceof NC?new NC(e,n):t instanceof IC&&e instanceof IC&&n instanceof IC&&k_(t.value0)(e.value0)&&k_(t.value0)(n.value0)&&t.value2===e.value2&&t.value2===n.value2?new IC(t.value0,Q_(t.value1)(e.value1)(n.value1),t.value2):t instanceof QC&&e instanceof QC&&n instanceof QC&&t.value0===e.value0&&t.value0===n.value0&&t.value2===e.value2&&t.value2===n.value2?new QC(t.value0,Q_(t.value1)(e.value1)(n.value1),t.value2):t instanceof BC&&e instanceof BC&&n instanceof BC&&t.value0===e.value0&&t.value0===n.value0&&k_(t.value1)(e.value1)&&k_(t.value1)(n.value1)?new BC(t.value0,t.value1,Q_(t.value2)(e.value2)(n.value2)):_m("CP.TypeDiff.tyMerge: cannot merge "+A_(e)+" and "+A_(n)+" according to "+A_(t))}}},M_=function(t){if(mP(t))return LC.value;if(t instanceof NC){var e=mP(t.value1),n=mP(t.value0);if(n&&e)return LC.value;if(n&&!e)return t.value1;if(!n&&e)return t.value0;if(!n&&!e)return t;throw new Error("Failed pattern match at Language.CP.TypeDiff (line 77, column 28 - line 81, column 20): "+[n.constructor.name,e.constructor.name])}return t instanceof IC?new IC(t.value0,M_(t.value1),t.value2):t instanceof QC?new QC(t.value0,M_(t.value1),t.value2):t instanceof BC?new BC(t.value0,t.value1,M_(t.value2)):t instanceof FC?new FC(t.value0,M_(t.value1)):t instanceof qC?new qC(M_(t.value0)):t},B_=function(t){return function(e){var n=iA("cannot subtract "+A_(e)+" from "+A_(t)),r=function(t){return function(e){return P_(Kk(t))((function(t){if(t instanceof Ad)return __(mP)(i(e)(t.value0));if(t instanceof kd)return L_(!1);throw new Error("Failed pattern match at Language.CP.TypeDiff (line 55, column 42 - line 57, column 28): "+[t.constructor.name])}))}},i=function(t){return function(e){if(mP(t)||mP(e))return L_(t);var s=pP(t);return s instanceof Ad?N_(__(Q_(t))(i(s.value0.value0)(e)))(i(s.value0.value1)(e)):function(s){if(e instanceof NC)return D_(P_(i(t)(e.value0))((function(t){return i(t)(e.value1)})))(P_(i(t)(e.value1))((function(t){return i(t)(e.value0)})));if(t instanceof DC&&e instanceof DC)return L_(LC.value);if(e instanceof DC)return i(t)(t);if(t instanceof DC)return n;if(t instanceof IC&&e instanceof IC)return P_(i(t.value1)(e.value1))((function(r){return k_(r)(t.value1)?L_(t):P_(i(e.value0)(t.value0))((function(e){return mP(e)?L_(new IC(t.value0,r,t.value2)):n}))}));if(t instanceof QC&&e instanceof QC)return t.value0===e.value0?I_(__(QC.create(t.value0))(i(t.value1)(e.value1)))(t.value2):L_(t);if(t instanceof BC&&e instanceof BC){var o=yS(e.value0)(new MC(t.value0))(e.value2);return P_(i(t.value2)(o))((function(r){return k_(r)(t.value2)?L_(t):P_(i(e.value1)(t.value1))((function(e){return mP(e)?L_(new BC(t.value0,t.value1,r)):n}))}))}return t instanceof MC&&e instanceof MC&&t.value0===e.value0?L_(LC.value):t instanceof MC?P_(r(t.value0)(e))((function(e){return e?L_(new MC(t.value0)):n})):e instanceof MC?P_(r(e.value0)(t))((function(e){return e?L_(t):n})):t instanceof qC&&e instanceof qC?__(qC.create)(i(t.value0)(e.value0)):t instanceof FC||e instanceof FC?n:k_(t)(e)?L_(LC.value):L_(t)}()}};return __(M_)(i(t)(e))}},F_=Gg(Dg(vg)),q_=Dv(F_),$_=Vg(Pg(ug)),U_=yv($_),X_=Wp(F_)(dm),H_=Av($_),V_=Ev(Wg(Lg(vg))),W_=Lp(cm),z_=Up(dm)(F_),G_=S_(T_)(F_),j_=zg(_g(vg)),Y_=Qv(j_),Z_=Sd(mk),K_=Vv(Fd),J_=Cv(Dd),tL=Sd(xd),eL=Up(Xp)(F_),nL=Fv(j_),rL=function(t){if(t instanceof nT&&t.value0 instanceof lm)return q_(LC.value);if(t instanceof nT)return U_(fC(NC.create))(X_(t.value0)((function(t){return H_(U_(QC.create(t.value0))(rL(t.value1)))(t.value2)})));if(t instanceof iT){return V_(U_(W_(Og(BC.create)))(rL(t.value1)))(z_(G_((function(t){if(t instanceof Ad)return rL(t.value0);if(t instanceof kd)return q_(LC.value);throw new Error("Failed pattern match at Language.CP.Transform (line 34, column 9 - line 34, column 50): "+[t.constructor.name])})))(t.value0))}return t instanceof fT?Y_(rL(t.value0))((function(e){return Y_(rL(t.value1))((function(t){return B_(e)(t)}))})):t instanceof GS?q_(AC.value):t instanceof jS?q_(PC.value):t instanceof YS?q_(EC.value):t instanceof ZS?q_(_C.value):t instanceof KS?q_(LC.value):t instanceof JS?q_(DC.value):t instanceof eT?V_(U_(NC.create)(rL(t.value0)))(rL(t.value1)):t instanceof tT?H_(V_(U_(IC.create)(rL(t.value0)))(rL(t.value1)))(!1):t instanceof rT?q_(new MC(t.value0)):t instanceof sT?U_(FC.create(t.value0))(rL(t.value1)):t instanceof aT&&t.value0 instanceof kd?Y_(rL(t.value1))((function(t){return q_(new IC(t,t,!0))})):t instanceof aT&&t.value0 instanceof Ad?H_(V_(U_(IC.create)(rL(t.value0.value0)))(rL(t.value1)))(!0):t instanceof hT?U_(qC.create)(rL(t.value0)):iA(t instanceof lT||t instanceof cT?vC("expected a proper type, but got")(Z_(t)):vC("expected an expanded type, but got")(Z_(t)))},iL=function(){return LC.value}(),sL=function(t){return t instanceof tT?V_(U_(tT.create)(sL(t.value0)))(sL(t.value1)):t instanceof eT?V_(U_(eT.create)(sL(t.value0)))(sL(t.value1)):t instanceof nT?U_(nT.create)(X_(t.value0)((function(t){return H_(U_(zS.create(t.value0))(sL(t.value1)))(t.value2)}))):t instanceof rT?Y_(Kk(t.value0))((function(e){return Y_(Jk(t.value0))((function(n){var r,i=K_(J_(e))(J_(n));if(i instanceof Ad)return q_(new rT(t.value0));if(i instanceof kd)return Y_((r=t.value0,Ek(_k(r))(Dk((function(t){return t.tyAliasEnv})))))((function(e){if(e instanceof Ad)return sL(e.value0);if(e instanceof kd)return iA(vC("type variable")(vC(tL(t.value0))("is undefined")));throw new Error("Failed pattern match at Language.CP.Transform (line 78, column 7 - line 80, column 82): "+[e.constructor.name])}));throw new Error("Failed pattern match at Language.CP.Transform (line 74, column 3 - line 80, column 82): "+[i.constructor.name])}))})):t instanceof iT?V_(U_(iT.create)(z_(G_(eL(sL)))(t.value0)))(W_((function(t){return function(e){return oA(xg(t))(iL)(e)}}))(sL(t.value1))(t.value0)):t instanceof sT?U_(sT.create(t.value0))(oA(t.value0)(iL)(sL(t.value1))):t instanceof oT?Y_(sL(t.value0))((function(e){return Y_(sL(t.value1))((function(n){return e instanceof lT?q_(fk(e.value0)(n)(e.value1)):e instanceof cT?n instanceof uT&&n.value1 instanceof Ad?q_(fk(e.value1)(n.value1.value0)(fk(e.value0)(n.value0)(e.value2))):iA(vC("sig instantiation expected a sort, but got")(Z_(t.value1))):iA(vC("expected an applicable type, but got")(Z_(t.value0)))}))})):t instanceof lT?oA(t.value0)(iL)(U_(lT.create(t.value0))(sL(t.value1))):t instanceof aT?V_(U_(aT.create)(eL(sL)(t.value0)))(sL(t.value1)):t instanceof uT?Y_(sL(t.value0))((function(e){return Y_(eL(sL)(t.value1))((function(t){if(t instanceof Ad)return q_(new uT(new eT(e,t.value0),new Ad(t.value0)));if(t instanceof kd)return e instanceof rT?Y_(Jk(e.value0))((function(t){if(t instanceof Ad)return q_(new uT(e,new Ad(new rT(t.value0))));if(t instanceof kd)return q_(new uT(e,new Ad(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 108, column 9 - line 109, column 61): "+[t.constructor.name])})):q_(new uT(e,new Ad(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 103, column 3 - line 110, column 42): "+[t.constructor.name])}))})):t instanceof hT?U_(hT.create)(sL(t.value0)):t instanceof fT?V_(U_(fT.create)(sL(t.value0)))(sL(t.value1)):q_(t)},oL=nL(sL)(rL),lL=function(t){return function(e){return function(n){return n instanceof tT?V_(U_(tT.create)(lL(t)(!e)(n.value0)))(lL(t)(e)(n.value1)):n instanceof eT?V_(U_(eT.create)(lL(t)(e)(n.value0)))(lL(t)(e)(n.value1)):n instanceof nT?U_(nT.create)(X_(n.value0)((function(t){return H_(U_(zS.create(t.value0))(lL(cC(t.value0))(e)(t.value1)))(t.value2)}))):e&&n instanceof rT?Y_(Jk(n.value0))((function(e){if(e instanceof Ad)return q_(t?new aT(new Ad(n),new rT(e.value0)):new rT(e.value0));if(e instanceof kd)return q_(new rT(n.value0));throw new Error("Failed pattern match at Language.CP.Transform (line 129, column 3 - line 131, column 41): "+[e.constructor.name])})):n instanceof iT?V_(U_(iT.create)(z_(G_(eL(lL(t)(e))))(n.value0)))(lL(t)(e)(n.value1)):n instanceof sT?U_(sT.create(n.value0))(lL(t)(e)(n.value1)):n instanceof oT?V_(U_(oT.create)(lL(t)(e)(n.value0)))(lL(t)(e)(n.value1)):n instanceof lT?U_(lT.create(n.value0))(lL(t)(e)(n.value1)):n instanceof aT?V_(U_(aT.create)(eL(lL(t)(!e))(n.value0)))(lL(t)(e)(n.value1)):n instanceof hT?U_(hT.create)(lL(t)(e)(n.value0)):n instanceof fT?V_(U_(fT.create)(lL(t)(e)(n.value0)))(lL(t)(e)(n.value1)):q_(n)}}},aL=nL(sL)(lL(!1)(!0)),uL=zg(_g(vg)),cL=Qv(uL),hL=Gg(Dg(vg)),fL=Dv(hL),vL=Sd(mk),dL=Sd(xd),gL=Sd(pS),pL=_v(Wg(Lg(vg))),mL=Vv(Jg(Ng(Yk)(vg))),RL=od(xS),OL=Vg(Pg(ug)),wL=Sv(OL),xL=O_(vd),yL=yv(OL),bL=Nv(qv),CL=bL(uL),SL=Lp(x_),TL=Lp(cm),kL=Wp(hL)(dm),AL=mv(Rv),PL=Sd(bk),EL=Hv(Xv),_L=nm(Jv),LL=Hv(vm),DL=yv(um),IL=id(mm(Jv)),NL=Cm(vd),QL=bv(um),ML=em(Jv),BL=Vv(Fd),FL=yv(Dd),qL=id(mm(yg(Jv)(Qd(ck)))),$L=id(xS),UL=Up(Vp)(hL),XL=Ip(cm),HL=Eg(vg),VL=ip(HL),WL=Qv(VL),zL=lp(HL),GL=Sg(zL),jL=ig(ap(Ig(vg))),YL=Cg(zL),ZL=Hm(vd),KL=bL(VL),JL=Sd(kk),tD=op(HL),eD=Dp(tD)(cm),nD=Dv(tD),rD=function(t){return cL(oL(t))((function(e){return e instanceof FC?fL(e):iA(vC("fold/unfold expected a recursive type, but got")(vL(t)))}))},iD=function(t){return function(e){return function(n){return function(r){return new Rg(new tS(t,e,n,r,!1),new IC(n,r,!0))}}}},sD=function(t){return function(e){return function(n){if(t instanceof NC){var r=sD(t.value1)(e)(n),i=sD(t.value0)(e)(n);if(i instanceof Ad&&r instanceof Ad)return new Ad(new NC(i.value0,r.value0));if(i instanceof Ad&&r instanceof kd)return new Ad(i.value0);if(i instanceof kd&&r instanceof Ad)return new Ad(r.value0);if(i instanceof kd&&r instanceof kd)return kd.value;throw new Error("Failed pattern match at Language.CP.Typing (line 529, column 3 - line 533, column 34): "+[i.constructor.name,r.constructor.name])}return t instanceof QC&&e===t.value0&&n===t.value2?new Ad(t.value1):kd.value}}},oD=function(t){return function(e){return function(n){return function(r){return function(i){return new JC(new tS(t,r,n,i,!1),e,!1)}}}}},lD=function(t){return function(e){return cL(Kk(t))((function(n){if(n instanceof Ad)return RP(n.value0)(e)?fL(xv):iA(vC("type variable")(vC(dL(t))(vC("is not disjoint from")(gL(e)))));if(n instanceof kd)return iA(vC("type variable")(vC(dL(t))("is undefined")));throw new Error("Failed pattern match at Language.CP.Typing (line 498, column 3 - line 501, column 78): "+[n.constructor.name])}))}},aD=function(t){return function(e){return function(n){return function(r){return function(i){var s=t+" or "+n,o=new MC(s);return oA(s)(i)(uD(yS(t)(o)(e))(yS(n)(o)(r)))}}}}},uD=function(t){return function(e){return mP(t)||mP(e)?fL(xv):t instanceof IC&&e instanceof IC?uD(t.value1)(e.value1):t instanceof NC?pL(uD(t.value0)(e))(uD(t.value1)(e)):e instanceof NC?uD(new NC(e.value0,e.value1))(t):t instanceof QC&&e instanceof QC?t.value0===e.value0?uD(t.value1)(e.value1):fL(xv):t instanceof MC&&e instanceof MC?mL(lD(t.value0)(new MC(e.value0)))(lD(e.value0)(new MC(t.value0))):t instanceof MC?lD(t.value0)(e):e instanceof MC?lD(e.value0)(t):t instanceof BC&&e instanceof BC?aD(t.value0)(t.value2)(e.value0)(e.value2)(new NC(t.value1,e.value1)):t instanceof FC&&e instanceof FC?aD(t.value0)(t.value1)(e.value0)(e.value1)(DC.value):RL(t)(e)?fL(xv):iA(vC("expected two disjoint types, but got")(vC(gL(t))(vC("and")(gL(e)))))}},cD=function(t){return function(e){return t instanceof IC&&e instanceof qd?RP(e.value0)(t.value0)?fL(t.value1):iA(vC("expected the argument type to be a subtype of the parameter type, but got")(vC(gL(e.value0))(vC("and")(gL(t.value0))))):t instanceof BC&&e instanceof $d?wL(uD(e.value0)(t.value1))(yS(t.value0)(e.value0)(t.value2)):t instanceof NC?cL(cD(t.value0)(e))((function(n){return cL(cD(t.value1)(e))((function(t){return fL(new NC(n,t))}))})):iA(vC("expected an applicable type, but got")(gL(t)))}},hD=function(t){return t instanceof NC?xL(hD(t.value0))(hD(t.value1)):t instanceof QC&&!t.value2?(e=t.value0,$m(e)(xv)):y_;var e},fD=function(t){return function(e){return function(n){return cL(oL(n))((function(r){return cL(lA(t)(r)(vD(e)))((function(t){return RP(t.value1)(r)?fL(new Rg(OP(t.value1)(r)?t.value0:new nS(t.value0,r),r)):iA(vC("annotated")(vC(vL(n))(vC("is not a supertype of inferred")(gL(t.value1)))))}))}))}}},vD=function(t){if(t instanceof OT)return fL(new Rg(new XC(t.value0),AC.value));if(t instanceof wT)return fL(new Rg(new HC(t.value0),PC.value));if(t instanceof xT)return fL(new Rg(new VC(t.value0),EC.value));if(t instanceof yT)return fL(new Rg(new WC(t.value0),_C.value));if(t instanceof bT)return fL(new Rg(zC.value,LC.value));if(t instanceof CT)return fL(new Rg(GC.value,DC.value));if(t instanceof ST&&t.value0 instanceof nR)return cL(vD(t.value1))((function(t){var e=function(e){return new Rg(new jC(nR.value,new nS(t.value0,e)),e)};return RP(t.value1)(AC.value)?fL(e(AC.value)):RP(t.value1)(PC.value)?fL(e(PC.value)):iA(vC("Neg is not defined for")(gL(t.value1)))}));if(t instanceof ST&&t.value0 instanceof rR)return cL(vD(t.value1))((function(t){var e=new Rg(new jC(rR.value,new nS(t.value0,_C.value)),_C.value);return RP(t.value1)(_C.value)?fL(e):iA(vC("Not is not defined for")(gL(t.value1)))}));if(t instanceof ST&&t.value0 instanceof iR)return cL(vD(t.value1))((function(t){var e=new Rg(new jC(iR.value,t.value0),AC.value);return t.value1 instanceof qC?fL(e):iA(vC("Len is not defined for")(gL(t.value1)))}));if(t instanceof TT&&t.value0 instanceof RR)return cL(vD(t.value1))((function(e){return cL(vD(t.value2))((function(n){var r=function(r){return new Rg(new YC(new RR(t.value0.value0),new nS(e.value0,r),new nS(n.value0,r)),r)};return RP(e.value1)(AC.value)&&RP(n.value1)(AC.value)?fL(r(AC.value)):RP(e.value1)(PC.value)&&RP(n.value1)(PC.value)?fL(r(PC.value)):iA(vC("ArithOp is not defined between")(vC(gL(e.value1))(vC("and")(gL(n.value1)))))}))}));if(t instanceof TT&&t.value0 instanceof OR)return cL(vD(t.value1))((function(e){return cL(vD(t.value2))((function(n){var r=function(r){return new Rg(new YC(new OR(t.value0.value0),new nS(e.value0,r),new nS(n.value0,r)),_C.value)};return RP(e.value1)(AC.value)&&RP(n.value1)(AC.value)?fL(r(AC.value)):RP(e.value1)(PC.value)&&RP(n.value1)(PC.value)?fL(r(PC.value)):RP(e.value1)(EC.value)&&RP(n.value1)(EC.value)?fL(r(EC.value)):RP(e.value1)(_C.value)&&RP(n.value1)(_C.value)?fL(r(_C.value)):iA(vC("CompOp is not defined between")(vC(gL(e.value1))(vC("and")(gL(n.value1)))))}))}));if(t instanceof TT&&t.value0 instanceof wR)return cL(vD(t.value1))((function(e){return cL(vD(t.value2))((function(n){var r=new Rg(new YC(new wR(t.value0.value0),new nS(e.value0,_C.value),new nS(n.value0,_C.value)),_C.value);return RP(e.value1)(_C.value)&&RP(n.value1)(_C.value)?fL(r):iA(vC("LogicOp is not defined between")(vC(gL(e.value1))(vC("and")(gL(n.value1)))))}))}));if(t instanceof TT&&t.value0 instanceof xR)return cL(vD(t.value1))((function(e){return cL(vD(t.value2))((function(t){if(RP(e.value1)(EC.value)&&RP(t.value1)(EC.value))return fL(new Rg(new YC(xR.value,new nS(e.value0,EC.value),new nS(t.value0,EC.value)),EC.value));if(e.value1 instanceof qC&&t.value1 instanceof qC){var n=function(t){return function(e){return function(n){return new Rg(new YC(xR.value,t,e),n)}}};return OP(e.value1.value0)(t.value1.value0)?fL(n(e.value0)(t.value0)(e.value1)):RP(t.value1.value0)(e.value1.value0)?fL(n(e.value0)(new nS(t.value0,e.value1))(e.value1)):RP(e.value1.value0)(t.value1.value0)?fL(n(new nS(e.value0,t.value1))(t.value0)(t.value1)):iA(vC("Append expected two arrays of equivalent types or subtypes,")(vC("but got")(vC(gL(e.value1.value0))(vC("and")(gL(t.value1.value0))))))}return iA(vC("Append is not defined between")(vC(gL(e.value1))(vC("and")(gL(t.value1)))))}))}));if(t instanceof TT&&t.value0 instanceof yR)return cL(vD(t.value1))((function(e){return cL(vD(t.value2))((function(t){return e.value1 instanceof qC&&RP(t.value1)(AC.value)?fL(new Rg(new YC(yR.value,e.value0,new nS(t.value0,AC.value)),e.value1.value0)):iA(vC("Index is not defined between")(vC(gL(e.value1))(vC("and")(gL(t.value1)))))}))}));if(t instanceof TT&&t.value0 instanceof bR&&t.value1 instanceof IT)return cL(vD(t.value1.value0))((function(e){return cL(vD(t.value2))((function(n){var r=sD(e.value1)(t.value1.value1)(!0);return r instanceof Ad&&RP(n.value1)(r.value0)?fL(new Rg(new YC(bR.value,new sS(e.value0,t.value1.value1),new nS(n.value0,r.value0)),r.value0)):iA(t.value1.value1+"'s default value does not match its interface")}))}));if(t instanceof kT)return cL(vD(t.value0))((function(e){return RP(e.value1)(_C.value)?cL(vD(t.value1))((function(n){return cL(vD(t.value2))((function(t){var r=function(t){return function(n){return function(r){return new Rg(new ZC(new nS(e.value0,_C.value),t,n),r)}}};return OP(n.value1)(t.value1)?fL(r(n.value0)(t.value0)(n.value1)):RP(t.value1)(n.value1)?fL(r(n.value0)(new nS(t.value0,n.value1))(n.value1)):RP(n.value1)(t.value1)?fL(r(new nS(n.value0,t.value1))(t.value0)(t.value1)):iA(vC("if-branches expected two equivalent types or subtypes, but got")(vC(gL(n.value1))(vC("and")(gL(t.value1)))))}))})):iA(vC("if-condition expected Bool, but got")(gL(e.value1)))}));if(t instanceof AT)return yL((function(e){return new Rg(new KC(t.value0),e)}))((e=t.value0,Qk(Dk((function(t){return t.tmBindEnv})))((function(t){var n=_k(e)(t);if(n instanceof Ad)return Bk(n.value0);if(n instanceof kd)return iA("term variable "+Fk(e)+" is undefined");throw new Error("Failed pattern match at Language.CP.Context (line 46, column 3 - line 48, column 81): "+[n.constructor.name])}))));var e;if(t instanceof PT){return cL(vD(t.value0))((function(e){return cL(vD(t.value1))((function(t){var n=function(t){return function(e){return t instanceof IC&&OP(e)(t.value0)?new Ad(t.value1):kd.value}}(e.value1)(t.value1);return n instanceof Ad?fL(new Rg(new JC(e.value0,t.value0,!1),n.value0)):yL((function(n){return new Rg(new JC(e.value0,t.value0,!0),n)}))(cD(e.value1)(new qd(t.value1)))}))}))}if(t instanceof ET&&t.value0 instanceof am&&t.value0.value0 instanceof tk&&t.value0.value0.value1 instanceof Ad&&t.value0.value1 instanceof lm)return cL(oL(t.value0.value0.value1.value0))((function(e){return cL(lA(t.value0.value0.value0)(e)(vD(t.value1)))((function(n){return fL(new Rg(new tS(t.value0.value0.value0,n.value0,e,n.value1,!1),new IC(e,n.value1,!1)))}))}));if(t instanceof ET&&t.value0 instanceof am&&t.value0.value0 instanceof tk&&t.value0.value0.value1 instanceof kd&&t.value0.value1 instanceof lm)return iA(vC("lambda parameter")(vC(dL(t.value0.value0.value0))("should be annotated with a type")));if(t instanceof ET&&t.value0 instanceof am&&t.value0.value0 instanceof ek&&t.value0.value1 instanceof lm)return iA("record wildcards should only occur in traits with interfaces implemented");if(t instanceof _T)return cL(vD(t.value0))((function(e){return cL(oL(t.value1))((function(n){return RP(e.value1)(n)?fL(new Rg(new nS(e.value0,n),n)):iA(vC("annotated")(vC(vL(t.value1))(vC("is not a supertype of inferred")(gL(e.value1)))))}))}));if(t instanceof LT&&t.value0 instanceof pT){var n=function(t){return new JC(t,new KC("$self"),!0)};return cL(vD(t.value1))((function(e){return cL(vD(t.value2))((function(t){return e.value1 instanceof LC?fL(new Rg(t.value0,t.value1)):t.value1 instanceof LC?fL(new Rg(e.value0,e.value1)):e.value1 instanceof IC&&e.value1.value2&&t.value1 instanceof IC&&t.value1.value2?CL(uD(e.value1.value1)(t.value1.value1))((function(){return fL(iD("$self")(new rS(n(e.value0),n(t.value0)))(new NC(e.value1.value0,t.value1.value0))(new NC(e.value1.value1,t.value1.value1)))})):CL(uD(e.value1)(t.value1))((function(){return fL(new Rg(new rS(e.value0,t.value0),new NC(e.value1,t.value1)))}))}))}))}if(t instanceof LT&&t.value0 instanceof mT)return vD(new LT(pT.value,t.value1,new WT(t.value2,t.value1)));if(t instanceof LT&&t.value0 instanceof RT)return vD(new LT(pT.value,new WT(t.value1,t.value2),t.value2));if(t instanceof DT&&t.value0 instanceof am&&t.value0.value0 instanceof nk&&t.value0.value0.value2 instanceof lm&&t.value0.value0.value3 instanceof qd&&t.value0.value1 instanceof lm)return cL(vD(t.value0.value0.value3.value0))((function(e){return fL(new Rg(new iS(t.value0.value0.value1,e.value1,e.value0),new QC(t.value0.value0.value1,e.value1,!1)))}));if(t instanceof IT)return cL(vD(t.value0))((function(e){var n=e.value1 instanceof FC?new Rg(new uS(e.value1,e.value0),bS(e.value1)):new Rg(e.value0,e.value1),r=sD(n.value1)(t.value1)(!1);return r instanceof Ad?fL(new Rg(new sS(n.value0,t.value1),r.value0)):iA(vC("label")(vC(dL(t.value1))(vC("is absent in")(gL(e.value1)))))}));if(t instanceof NT)return cL(vD(t.value0))((function(e){return cL(oL(t.value1))((function(t){return cL(cD(e.value1)(new $d(t)))((function(n){return fL(new Rg(new oS(e.value0,t),n))}))}))}));if(t instanceof QT&&t.value0 instanceof am&&t.value0.value0.value1 instanceof Ad&&t.value0.value1 instanceof lm)return cL(oL(t.value0.value0.value1.value0))((function(e){return cL(oA(t.value0.value0.value0)(e)(vD(t.value1)))((function(n){return fL(new Rg(new lS(t.value0.value0.value0,e,n.value0,n.value1,!1),new BC(t.value0.value0.value0,e,n.value1)))}))}));if(t instanceof MT&&t.value1 instanceof lm&&t.value2 instanceof lm)return cL(vD(t.value3))((function(e){return cL(lA(t.value0)(e.value1)(vD(t.value4)))((function(n){return fL(new Rg(oD(t.value0)(e.value0)(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof BT&&t.value1 instanceof lm&&t.value2 instanceof lm)return cL(fD(t.value0)(t.value4)(t.value3))((function(e){return cL(lA(t.value0)(e.value1)(vD(t.value5)))((function(n){return fL(new Rg(oD(t.value0)(new eS(new tS(t.value0,e.value0,e.value1,e.value1,!1)))(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof FT)return cL(vD(t.value0))((function(e){var n=e.value1 instanceof FC?new Rg(new uS(e.value1,e.value0),bS(e.value1)):new Rg(e.value0,e.value1),r=SL((function(t){return function(e){return new am(new Rg(t,uC(sD(n.value1)(t)(!1))),e)}}))(lm.value)(hD(n.value1));return cL(TL(Og(lA))(vD(t.value1))(r))((function(t){return fL(new Rg(oD("$open")(n.value0)(n.value1)(TL((function(e){return function(n){return oD(e.value0)(new sS(new KC("$open"),e.value0))(e.value1)(n)(t.value1)}}))(t.value0)(r))(t.value1),t.value1))}))}));if(t instanceof qT){var r=function(t){return function(e){return t instanceof iS?new NC(new QC(t.value0,t.value1,!1),e):e}};return cL(vD(t.value0))((function(e){return cL(kL(t.value1)((function(t){return cL(vD(t.value1))((function(e){return fL(new iS(t.value0,e.value1,e.value0))}))})))((function(n){var i=TL(r)(LC.value)(n);return RP(e.value1)(i)?cL(B_(e.value1)(i))((function(t){var r=hC(rS.create)(n),i=mP(t)?AL:rS.create(new nS(e.value0,t));return fL(new Rg(i(r),e.value1))})):iA(vC("cannot safely update the record")(PL(t.value0)))}))}))}if(t instanceof $T&&t.value0 instanceof Ad&&t.value0.value0.value1 instanceof Ad&&t.value1 instanceof Ad){var i=function(t){return Tm((function(e){return t(e.value0)}))},s=function(t){return t instanceof eT&&t.value0 instanceof nT&&t.value1 instanceof nT?LL(t.value0.value0)(t.value1.value0):t instanceof eT&&t.value1 instanceof nT?LL(s(t.value0))(t.value1.value0):t instanceof eT&&t.value0 instanceof nT?LL(t.value0.value0)(s(t.value1)):t instanceof eT?LL(s(t.value0))(s(t.value1)):t instanceof nT?t.value0:lm.value},o=function(e){return function(n){if(e instanceof eT)return o(new nT(s(e)))(n);if(e instanceof sT)return new GT(e,o(e.value1)(n));if(n instanceof JT)return new JT(n.value0,o(e)(n.value1));if(n instanceof FT)return new FT(n.value0,o(e)(n.value1));if(n instanceof LT)return new LT(n.value0,o(e)(n.value1),o(e)(n.value2));if(e instanceof nT&&n instanceof DT&&n.value0 instanceof am&&n.value0.value0 instanceof nk&&n.value0.value0.value2 instanceof lm&&n.value0.value0.value3 instanceof qd&&n.value0.value1 instanceof lm){var r=function(t){for(var e,n,r=!1;!r;)e=(n=t)instanceof am&&n.value1 instanceof lm?(r=!0,new Ad(n.value0)):n instanceof am?void(t=n.value1):(r=!0,kd.value);return e}(i((function(t){return t===n.value0.value0.value1}))(e.value0));return r instanceof Ad?new DT(ym(new nk(n.value0.value0.value0,n.value0.value0.value1,lm.value,new qd(o(r.value0.value1)(n.value0.value0.value3.value0))))):n}if(e instanceof nT&&n instanceof DT&&n.value0 instanceof am&&n.value0.value0 instanceof rk&&n.value0.value1 instanceof lm){var l=function(t){if(t instanceof tT){var e=l(t.value1);return new Rg(new am(new tk("_",new Ad(t.value0)),e.value0),e.value1)}return new Rg(lm.value,t)},a=function(t){return function(e){if(t instanceof JT)return a(t.value1)(e);if(t instanceof FT)return a(t.value1)(e);if(t instanceof LT)return EL(a(t.value1)(e))(a(t.value2)(e));if(t instanceof DT&&t.value0 instanceof am&&t.value0.value0 instanceof nk&&t.value0.value0.value3 instanceof qd&&t.value0.value1 instanceof lm){var n=function(t){var e,n=!1;function r(e){if(e instanceof JT)t=e.value1;else if(e instanceof FT)t=e.value1;else if(e instanceof ET)t=e.value1;else{if(!(e instanceof $T))return e instanceof DT&&e.value0 instanceof am&&e.value0.value0 instanceof nk&&e.value0.value1 instanceof lm?(n=!0,e.value0.value0.value1):(n=!0,"$nothing");t=e.value3}}for(;!n;)e=r(t);return e}(t.value0.value0.value3.value0)===e;return n?[t.value0.value0.value1]:[]}return[]}};return mA(new DT(QL(i((function(e){return ML(e)((r=n.value0.value0.value0.value1,a(new LT(pT.value,Nd(bT.value)(t.value2),t.value3))(r)));var r}))(e.value0))((function(t){var e=l(t.value1),r=o(e.value1)(mA(pA(n.value0.value0.value0)));return new nk(!1,t.value0,e.value0,new qd(r))}))))}if(e instanceof tT&&n instanceof ET&&n.value0 instanceof am&&n.value0.value0 instanceof tk&&n.value0.value1 instanceof lm)return new ET(ym(new tk(n.value0.value0.value0,BL(n.value0.value0.value1)(new Ad(e.value0)))),o(e.value1)(n.value1));if(e instanceof tT&&n instanceof ET&&n.value0 instanceof am&&n.value0.value0 instanceof ek&&n.value0.value1 instanceof lm&&function(t){return function(e){var n=TL((function(t){return function(e){return t.value2?new am(t.value0,e):e}}))(lm.value)(s(e)),r=DL(xg)(t);return IL(NL(r))(NL(n))}}(n.value0.value0.value0)(e.value0)){var u=new AT("$wildcard"),c=function(t){return function(e){return new MT(t.value0,lm.value,lm.value,new TT(bR.value,new IT(u,t.value0),t.value1),e)}};return new ET(ym(new tk("$wildcard",new Ad(e.value0))),(h=n.value0.value0.value0,function(t){return TL(c)(t)(h)})(new FT(u,o(e.value1)(n.value1))))}var h;if(e instanceof aT&&n instanceof $T&&n.value0 instanceof Ad){var f=Nd(Nd(KS.value)(e.value0))(n.value0.value0.value1);return new $T(new Ad(new Rg(n.value0.value0.value0,new Ad(f))),n.value1,FL(o(e.value1))(n.value2),o(e.value1)(n.value3))}if(e instanceof iT&&e.value0 instanceof am&&n instanceof QT&&n.value0 instanceof am&&n.value0.value1 instanceof lm){var v=(qL(e.value0.value1)(lm.value)?AL:iT.create(e.value0.value1))(fk(e.value0.value0.value0)(new rT(n.value0.value0.value0))(e.value1));return new QT(ym(new Rg(n.value0.value0.value0,BL(n.value0.value0.value1)(e.value0.value0.value1))),o(v)(n.value1))}return n}};return cL(oL(t.value0.value0.value1.value0))((function(e){return cL(function(t){return Y_(sL(t))((function(t){return Y_(rL(t))((function(e){return q_(new Rg(e,t))}))}))}(t.value1.value0))((function(n){var r=o(n.value1)(t.value3);return cL(function(){if(t.value2 instanceof Ad)return cL(lA(t.value0.value0.value0)(e)(vD(t.value2.value0)))((function(n){return n.value1 instanceof IC&&n.value1.value2?RP(e)(n.value1.value0)?cL(lA(t.value0.value0.value0)(e)(lA("super")(n.value1.value1)(vD(r))))((function(e){var i=function(t){return function(e){var n=function(t){return t instanceof JT||t instanceof FT?n(t.value1):t instanceof LT?EL(n(t.value1))(n(t.value2)):t instanceof DT&&t.value0 instanceof am&&t.value0.value0 instanceof nk&&t.value0.value0.value0&&t.value0.value1 instanceof lm?[t.value0.value0.value1]:[]},r=function(t){return function(e){if(t instanceof NC){var n=r(t.value1)(e),i=r(t.value0)(e);return i instanceof LC&&n instanceof LC?LC.value:i instanceof LC?n:n instanceof LC?i:new NC(i,n)}return t instanceof QC&&_L(t.value0)(e)?LC.value:t}},i=n(e);return jp(i)?t:r(t)(i)}}(n.value1.value1)(r);return CL(uD(i)(e.value1))((function(){var r=new NC(i,e.value1),s=oD("super")(new JC(n.value0,new KC(t.value0.value0.value0),!0))(n.value1.value1)(new rS(new nS(new KC("super"),i),e.value0))(r);return fL(new Rg(s,r))}))})):iA(vC("self-type")(vC(vL(t.value0.value0.value1.value0))(vC("is not a subtype of inherited self-type")(gL(n.value1.value0))))):iA(vC("expected to inherit a trait, but got")(gL(n.value1)))}));if(t.value2 instanceof kd)return cL(lA(t.value0.value0.value0)(e)(vD(r)))((function(t){return fL(new Rg(t.value0,t.value1))}));throw new Error("Failed pattern match at Language.CP.Typing (line 223, column 18 - line 244, column 23): "+[t.value2.constructor.name])}())((function(r){return RP(r.value1)(n.value0)?fL(iD(t.value0.value0.value0)(r.value0)(e)(r.value1)):iA(vC("the trait does not implement")(vL(t.value1.value0)))}))}))}))}if(t instanceof $T&&t.value0 instanceof Ad&&t.value0.value0.value1 instanceof kd)return vD(new $T(new Ad(new Rg(t.value0.value0.value0,new Ad(KS.value))),t.value1,t.value2,t.value3));if(t instanceof UT)return cL(vD(t.value0))((function(t){return t.value1 instanceof IC&&t.value1.value2?RP(t.value1.value1)(t.value1.value0)?fL(new Rg(new eS(t.value0),t.value1.value1)):iA(vC("input type is not a supertype of output type in")(vC("Trait<")(vC(gL(t.value1.value0))(vC("=>")(vC(gL(t.value1.value1))(">")))))):iA(vC("new expected a trait, but got")(gL(t.value1)))}));if(t instanceof XT)return cL(vD(t.value0))((function(e){return cL(vD(t.value1))((function(t){return e.value1 instanceof IC&&e.value1.value2?RP(t.value1)(e.value1.value0)?fL(new Rg(new JC(e.value0,t.value0,!0),e.value1.value1)):iA(vC("expected to forward to a subtype of")(gL(e.value1.value0)+vC(", but got")(gL(t.value1)))):iA(vC("expected to forward from a trait, but got")(gL(e.value1)))}))}));if(t instanceof HT){var l=function(e){return function(n){return n instanceof NC?mL(l(e)(n.value0))(l(e)(n.value1)):n instanceof QC&&e===n.value0?fL(xv):iA(vC("label")(vC(dL(e))(vC("is absent in")(PL(t.value0)))))}};return cL(vD(t.value0))((function(e){return cL(oL(t.value1))((function(t){var n=t instanceof QC&&t.value1 instanceof DC&&!t.value2?l(t.value0):wv(fL(xv));return e.value1 instanceof IC&&e.value1.value2?CL(n(e.value1.value1))((function(){return cL(B_(e.value1.value1)(t))((function(t){var n=new IC(e.value1.value0,t,!0);return fL(new Rg(new nS(e.value0,n),n))}))})):CL(n(e.value1))((function(){return cL(B_(e.value1)(t))((function(t){return fL(new Rg(new nS(e.value0,t),t))}))}))}))}))}return t instanceof VT?vD(new HT(t.value0,new nT(ym(new zS(t.value1,JS.value,!1))))):t instanceof WT?cL(vD(t.value0))((function(e){return cL(vD(t.value1))((function(t){return e.value1 instanceof IC&&e.value1.value2&&t.value1 instanceof IC&&t.value1.value2?cL(B_(e.value1.value1)(t.value1.value1))((function(t){return fL(iD("$self")(new nS(new JC(e.value0,new KC("$self"),!0),t))(e.value1.value0)(t))})):cL(B_(e.value1)(t.value1))((function(t){return fL(new Rg(new nS(e.value0,t),t))}))}))})):t instanceof zT?cL(vD(t.value0))((function(e){if(e.value1 instanceof IC&&e.value1.value2){var n=sD(e.value1.value0)(t.value1)(!1);if(n instanceof Ad){var r=new zT(new AT("$self"),t.value2,t.value1),i=new zT(new XT(t.value0,r),t.value1,t.value2);return cL(yL(NC.create(new QC(t.value2,n.value0,!1)))(B_(e.value1.value0)(new QC(t.value1,DC.value,!1))))((function(t){return cL(lA("$self")(t)(vD(i)))((function(e){return fL(iD("$self")(e.value0)(t)(e.value1))}))}))}if(n instanceof kd){i=new zT(new XT(t.value0,new AT("$self")),t.value1,t.value2);return cL(lA("$self")(e.value1.value0)(vD(i)))((function(t){return fL(iD("$self")(t.value0)(e.value1.value0)(t.value1))}))}throw new Error("Failed pattern match at Language.CP.Typing (line 403, column 7 - line 417, column 43): "+[n.constructor.name])}return vD(new LT(pT.value,new VT(t.value0,t.value1),new DT(ym(new nk(!1,t.value2,lm.value,new qd(new IT(t.value0,t.value1)))))))})):t instanceof GT?cL(rD(t.value0))((function(e){return cL(vD(t.value1))((function(n){return RP(n.value1)(bS(e))?fL(new Rg(new aS(e,n.value0),e)):iA(vC("cannot fold")(vC(PL(t.value1))(vC("to")(vL(t.value0)))))}))})):t instanceof jT?cL(rD(t.value0))((function(e){return cL(vD(t.value1))((function(n){return RP(n.value1)(e)?fL(new Rg(new uS(e,n.value0),bS(e))):iA(vC("cannot unfold")(vC(PL(t.value1))(vC("to")(vL(t.value0)))))}))})):t instanceof YT?cL(vD(t.value0))((function(t){return $L(t.value1)(AC.value)||$L(t.value1)(PC.value)||$L(t.value1)(EC.value)||$L(t.value1)(_C.value)?fL(new Rg(new cS(t.value0),EC.value)):iA(vC("cannot show")(gL(t.value1)))})):t instanceof ZT?jp(t.value0)?fL(new Rg(new hS(DC.value,[]),new qC(DC.value))):cL(UL(vD)(t.value0))((function(e){var n=Zp(e),r=uC(Kp(n.value1)),i=function(t){return function(e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0}}((function(t){return OP(t)(r)}))(n.value1);return i?fL(new Rg(new hS(r,n.value0),new qC(r))):iA("elements of an array should all have the same type"+vC(", but got")(PL(new ZT(t.value0))))})):t instanceof KT?tA((function(t){if(t instanceof Xk)return new Xk(t.value0,t.value1,!0);if(t instanceof Uk)return Uk.value;throw new Error("Failed pattern match at Language.CP.Typing (line 448, column 9 - line 448, column 37): "+[t.constructor.name])}))(vD(t.value0)):t instanceof JT?tA((function(e){if(e instanceof Xk)return new Xk(t.value0,t.value1,e.value2);if(e instanceof Uk)return new Xk(t.value0,t.value1,!1);throw new Error("Failed pattern match at Language.CP.Typing (line 452, column 9 - line 452, column 42): "+[e.constructor.name])}))(vD(t.value1)):iA(vC("expected a desugared term, but got")(PL(t)))},dD=function(t){if(t instanceof sk){var e=QL(t.value2)((function(t){return new Rg(t,"$"+t)})),n=function(n){return TL(Og(cT.create))(TL(lT.create)(n)(t.value3))(e)},r=function(e){return TL(Ov(oA)(LC.value))(e)(t.value3)},i=function(t){return TL(Og(aA))(t)(e)};if(t.value0 instanceof vT)return WL(GL(nA))((function(e){var s=Zk(i(r(aL(t.value4))))(e);if(s instanceof qd)return jL(s.value0);if(s instanceof $d)return YL((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=ZL(t.value1)(n(s.value0))(e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 541, column 5 - line 543, column 82): "+[s.constructor.name])}));if(t.value0 instanceof dT)return WL(GL(nA))((function(e){var s=Zk(i(r(oA(t.value1)(LC.value)(aL(t.value4)))))(e);if(s instanceof qd)return jL(s.value0);if(s instanceof $d)return YL((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=ZL(t.value1)(n(new sT(t.value1,s.value0)))(e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 546, column 5 - line 548, column 94): "+[s.constructor.name])}));if(t.value0 instanceof gT)return KL(dD(new sk(dT.value,"$"+t.value1,t.value2,t.value3,t.value4)))((function(){var e,n,r,i=function(e){return XL((function(t){return e=oT.create(t),function(t){return e(rT.create(t))};var e}))(e)(t.value3)}((e=new rT("$"+t.value1),n=Ov(uT.create)(kd.value),r=function(t){return n(rT.create(t))},XL((function(t){return e=oT.create(t),function(t){return e(r(t))};var e}))(e)(t.value2)));return dD(new sk(vT.value,t.value1,t.value2,t.value3,new eT(t.value0.value0,i)))}));throw new Error("Failed pattern match at Language.CP.Typing (line 538, column 43 - line 553, column 71): "+[t.value0.constructor.name])}return t instanceof ok&&t.value1 instanceof lm&&t.value2 instanceof lm&&t.value3 instanceof kd?WL(GL(nA))((function(e){var n=Zk(vD(t.value4))(e);if(n instanceof qd)return jL(n.value0);if(n instanceof $d){var r=oD(t.value0)(n.value0.value0)(n.value0.value1);return YL((function(e){var i={};for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i.tmBindings=LL(e.tmBindings)(ym(new Rg(t.value0,new Rg(n.value0.value1,Og(r))))),i}))}throw new Error("Failed pattern match at Language.CP.Typing (line 570, column 3 - line 574, column 92): "+[n.constructor.name])})):t instanceof ok&&t.value1 instanceof lm&&t.value2 instanceof lm&&t.value3 instanceof Ad?WL(GL(nA))((function(e){var n=Zk(fD(t.value0)(t.value4)(t.value3.value0))(e);if(n instanceof qd)return jL(n.value0);if(n instanceof $d){var r=oD(t.value0)(new eS(new tS(t.value0,n.value0.value0,n.value0.value1,n.value0.value1,!1)))(n.value0.value1);return YL((function(e){var i={};for(var s in e)({}).hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i.tmBindings=LL(e.tmBindings)(new am(new Rg(t.value0,new Rg(n.value0.value1,Og(r))),lm.value)),i}))}throw new Error("Failed pattern match at Language.CP.Typing (line 577, column 3 - line 581, column 88): "+[n.constructor.name])})):jL(new Hk(vC("expected a desugared def, but got")(JL(t)),Uk.value))},gD=Sd(bd),pD=Sd(bk),mD=Eg(vg),RD=Qv(ip(mD)),OD=Dv(op(mD)),wD=Lp(cm),xD=yv(um),yD=Sg(lp(mD)),bD=Sd(RS),CD=Dv(Jd),SD=function(t){return gD(t.line)+":"+gD(t.column)},TD=function(t){var e=function(t){return new lk(dA(RA)(t.value0),mA(t.value1))}(t);return RD(function(t){return KL(eD(dD)(t.value0))((function(){return WL(GL(nA))((function(e){var n=Zk(vD(t.value1))(e);if(n instanceof qd)return jL(n.value0);if(n instanceof $d)return nD(n.value0);throw new Error("Failed pattern match at Language.CP.Typing (line 588, column 3 - line 590, column 22): "+[n.constructor.name])}))}))}(e))((function(t){return RD(yD(function(t){return function(e){return function(n){return xg(wD((function(t){return function(e){return t(e)}}))(new Rg(t,e))(xD((function(t){return function(e){return new Rg(t.value1.value1(new Rg(e.value0,e.value1)),e.value1)}}))(n.tmBindings)))}}}(t.value0)(t.value1)))((function(n){return RD(yD((function(t){return t.mode})))((function(r){return OD(function(){if(r instanceof Vk)return bD(function(t){var e,n=!1;function r(e){if(IE(e))return n=!0,e;t=QE(e)}for(;!n;)e=r(t);return e}(n));if(r instanceof Wk){var i=g_(n);return bD(t.value0)+"\n⇣ Desugar\n"+pD(e.value1)+"\n↯ Elaborate\n"+i.value1("")}if(r instanceof zk)return bD(VE(n));if(r instanceof Gk)return bD(MP(n));if(r instanceof jk)return bD(function(t){var e=function(t){var n=t;if(t instanceof XC)return cE(n);if(n=t,t instanceof HC)return cE(n);if(n=t,t instanceof VC)return cE(n);if(n=t,t instanceof WC)return cE(n);if(t instanceof zC)return cE(zC.value);if(t instanceof jC)return fE(nE(t.value0))(e(t.value1));if(t instanceof YC)return dE(e(t.value1))((function(n){return dE(e(t.value2))((function(r){var i=uE(t.value0)(n)(r);return t.value0 instanceof yR?e(i):cE(i)}))}));if(t instanceof ZC)return dE(e(t.value0))((function(n){return n instanceof WC&&n.value0?e(t.value1):n instanceof WC&&!n.value0?e(t.value2):_m("CP.Semantics.NaturalClosure.eval: impossible if "+gE(n)+" ...")}));if(t instanceof KC)return dE(pE)((function(n){var r=mE(t.value0)(n);return r instanceof Ad&&r.value0 instanceof $C?e(r.value0.value0):_m("CP.Semantics.NaturalClosure.eval: variable "+RE(t.value0)+" is "+OE(r))}));if(t instanceof JC)return dE(e(t.value0))((function(n){return dE(wE(t.value1))((function(r){var i=t.value2?sP.create:iP.create;return e(iE(n)(i(new fS(dC(r)))))}))}));if(n=t,t instanceof tS)return wE(n);if(t instanceof eS)return dE(e(t.value0))((function(n){var r=dC(t);return dE(e(iE(n)(new iP(new fS(r)))))((function(t){return cE(mC(t)(r))}))}));if(t instanceof nS)return dE((r=function(t){var n,r=!1;function i(n){if(!(n instanceof nS))return r=!0,e(n);t=n.value0}for(;!r;)n=i(t);return n})(t.value0))((function(n){return dE(xE(t.value1))((function(r){return dE(yE(n)(r))((function(n){if(n instanceof Ad)return e(n.value0);if(n instanceof kd)return _m("CP.Semantics.NaturalClosure.eval: impossible casting "+gE(t));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 62, column 7 - line 65, column 72): "+[n.constructor.name])}))}))}));if(t instanceof rS)return bE(fE(rS.create)(e(t.value0)))(e(t.value1));if(n=t,t instanceof iS)return wE(n);if(t instanceof sS)return dE(CE(fE(rE)(e(t.value0)))(t.value1))(e);if(t instanceof oS)return dE(e(t.value0))((function(n){return dE(xE(t.value1))((function(t){return e(iE(n)(new oP(t)))}))}));if(n=t,t instanceof lS)return wE(n);if(t instanceof aS)return fE(aS.create(t.value0))(e(t.value1));if(t instanceof uS){var r=function(n){return n instanceof rS?SE(r)(e)(new nS(n,t.value0)):n instanceof aS?e(new nS(n.value1,bS(t.value0))):_m("CP.Semantics.NaturalClosure.eval: impossible unfold "+gE(n))};return mP(t.value0)?cE(zC.value):dE(e(t.value1))(r)}return t instanceof cS?fE(cP)(e(t.value0)):(n=t,t instanceof hS?wE(n):t instanceof fS?(n=pC(t.value0),gC(t.value0)?cE(n):dE(e(n))((function(e){return cE(mC(e)(t.value0))}))):t instanceof vS&&t.value1 instanceof iS||t instanceof vS&&t.value1 instanceof tS||t instanceof vS&&t.value1 instanceof lS||t instanceof vS&&t.value1 instanceof hS?cE(t):t instanceof vS?TE(wv(t.value0))(e(t.value1)):_m("CP.Semantics.NaturalClosure.eval: well-typed programs don't get stuck, but got "+gE(t)))};return zA(e(t)(Ym))}(n));throw new Error("Failed pattern match at Language.CP (line 51, column 10 - line 57, column 39): "+[r.constructor.name])}())}))}))}))},kD=function(t){var e,n=(e=TD(t),function(t){return Om(e(t))})(eA);if(n instanceof qd)return rg(function(t){if(t.value1 instanceof Uk)return t.value0;if(t.value1 instanceof Xk)return SD(t.value1.value0)+": "+t.value0+"\nin the expression: "+(t.value1.value2?Tk:pD)(t.value1.value1);throw new Error("Failed pattern match at Language.CP (line 91, column 1 - line 91, column 37): "+[t.constructor.name])}(n.value0));if(n instanceof $d)return CD(n.value0.value0);throw new Error("Failed pattern match at Language.CP (line 71, column 17 - line 73, column 37): "+[n.constructor.name])};String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32)),String.prototype.hashCode=function(){const t=this.toString();let e,n;const r=3&t.length,i=t.length-r;let s=String.prototype.seed;const o=3432918353,l=461845907;let a=0;for(;a<i;)n=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24,++a,n=(65535&n)*o+(((n>>>16)*o&65535)<<16)&4294967295,n=n<<15|n>>>17,n=(65535&n)*l+(((n>>>16)*l&65535)<<16)&4294967295,s^=n,s=s<<13|s>>>19,e=5*(65535&s)+((5*(s>>>16)&65535)<<16)&4294967295,s=27492+(65535&e)+((58964+(e>>>16)&65535)<<16);switch(n=0,r){case 3:n^=(255&t.charCodeAt(a+2))<<16;case 2:n^=(255&t.charCodeAt(a+1))<<8;case 1:n^=255&t.charCodeAt(a),n=(65535&n)*o+(((n>>>16)*o&65535)<<16)&4294967295,n=n<<15|n>>>17,n=(65535&n)*l+(((n>>>16)*l&65535)<<16)&4294967295,s^=n}return s^=t.length,s^=s>>>16,s=2246822507*(65535&s)+((2246822507*(s>>>16)&65535)<<16)&4294967295,s^=s>>>13,s=3266489909*(65535&s)+((3266489909*(s>>>16)&65535)<<16)&4294967295,s^=s>>>16,s>>>0},
/*! https://mths.be/codepointat v0.2.0 by @mathias */
String.prototype.codePointAt||function(){var t=function(){let t;try{const e={},n=Object.defineProperty;t=n(e,e,e)&&n}catch(t){}return t}();const e=function(t){if(null==this)throw TypeError();const e=String(this),n=e.length;let r=t?Number(t):0;if(r!=r&&(r=0),r<0||r>=n)return;const i=e.charCodeAt(r);let s;return i>=55296&&i<=56319&&n>r+1&&(s=e.charCodeAt(r+1),s>=56320&&s<=57343)?1024*(i-55296)+s-56320+65536:i};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}(),
/*! https://mths.be/fromcodepoint v0.2.1 by @mathias */
String.fromCodePoint||function(){const t=function(){let t;try{const e={},n=Object.defineProperty;t=n(e,e,e)&&n}catch(t){}return t}(),e=String.fromCharCode,n=Math.floor,r=function(t){const r=16384,i=[];let s,o,l=-1;const a=arguments.length;if(!a)return"";let u="";for(;++l<a;){let t=Number(arguments[l]);if(!isFinite(t)||t<0||t>1114111||n(t)!==t)throw RangeError("Invalid code point: "+t);t<=65535?i.push(t):(t-=65536,s=55296+(t>>10),o=t%1024+56320,i.push(s,o)),(l+1===a||i.length>r)&&(u+=e.apply(null,i),i.length=0)}return u};t?t(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}();class AD{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function PD(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}AD.INVALID_TYPE=0,AD.EPSILON=-2,AD.MIN_USER_TOKEN_TYPE=1,AD.EOF=-1,AD.DEFAULT_CHANNEL=0,AD.HIDDEN_CHANNEL=1;class ED{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=e.hashCode();break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new ED;return t.update.apply(t,arguments),t.finish()}}function _D(t){return t?t.hashCode():-1}function LD(t,e){return t?t.equals(e):t===e}function DD(t){return null===t?"null":t}function ID(t){return Array.isArray(t)?"["+t.map(DD).join(", ")+"]":"null"}const ND="h-";class QD{constructor(t,e){this.data={},this.hashFunction=t||_D,this.equalsFunction=e||LD}add(t){const e=ND+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e];return n.push(t),t}return this.data[e]=[t],t}has(t){return null!=this.get(t)}get(t){const e=ND+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e]}return null}values(){return Object.keys(this.data).filter((t=>t.startsWith(ND))).flatMap((t=>this.data[t]),this)}toString(){return ID(this.values())}get length(){return Object.keys(this.data).filter((t=>t.startsWith(ND))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}class MD{hashCode(){const t=new ED;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===MD.NONE)return e;if(null===e||e===MD.NONE)return t;const n=new BD(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===MD.NONE||e===MD.NONE)return MD.NONE;const n=new FD(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class BD extends MD{constructor(t,e){super();const n=new QD;t instanceof BD?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof BD?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=qD(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof BD&&PD(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,null===o)return null;o!==MD.NONE&&r.push(o)}if(!n)return this;if(0===r.length)return MD.NONE;let i=null;return r.map((function(t){i=null===i?t:MD.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class FD extends MD{constructor(t,e){super();const n=new QD;t instanceof FD?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof FD?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=qD(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof FD&&PD(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,o===MD.NONE)return MD.NONE;null!==o&&r.push(o)}if(!n)return this;if(0===r.length)return null;const i=null;return r.map((function(t){return t})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function qD(t){const e=[];return t.values().map((function(t){t instanceof MD.PrecedencePredicate&&e.push(t)})),e}function $D(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class UD{constructor(t,e){this.checkContext(t,e),t=$D(t),e=$D(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:MD.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new ED;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof UD&&(this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed)}hashCodeForConfigSet(){const t=new ED;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof UD&&(this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext))}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==MD.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class XD{constructor(t,e){this.start=t,this.stop=e}clone(){return new XD(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}XD.INVALID_INTERVAL=new XD(-1,-2);class HD{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?AD.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new XD(t,t+1))}addRange(t,e){this.addInterval(new XD(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new XD(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new XD(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new XD(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new HD;return n.addInterval(new XD(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new XD(n.start,t.start);const r=new XD(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new XD(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new XD(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new XD(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new XD(n.start,n.stop-1));if(t<n.stop-1){const r=new XD(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===AD.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===AD.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,e,n){return n===AD.EOF?"<EOF>":n===AD.EPSILON?"<EPSILON>":t[n]||e[n]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class VD{constructor(){this.atn=null,this.stateNumber=VD.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof VD&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}VD.INVALID_TYPE=0,VD.BASIC=1,VD.RULE_START=2,VD.BLOCK_START=3,VD.PLUS_BLOCK_START=4,VD.STAR_BLOCK_START=5,VD.TOKEN_START=6,VD.RULE_STOP=7,VD.BLOCK_END=8,VD.STAR_LOOP_BACK=9,VD.STAR_LOOP_ENTRY=10,VD.PLUS_LOOP_BACK=11,VD.LOOP_END=12,VD.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],VD.INVALID_STATE_NUMBER=-1;class WD extends VD{constructor(){return super(),this.stateType=VD.RULE_STOP,this}}class zD{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}zD.EPSILON=1,zD.RANGE=2,zD.RULE=3,zD.PREDICATE=4,zD.ATOM=5,zD.ACTION=6,zD.SET=7,zD.NOT_SET=8,zD.WILDCARD=9,zD.PRECEDENCE=10,zD.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],zD.serializationTypes={EpsilonTransition:zD.EPSILON,RangeTransition:zD.RANGE,RuleTransition:zD.RULE,PredicateTransition:zD.PREDICATE,AtomTransition:zD.ATOM,ActionTransition:zD.ACTION,SetTransition:zD.SET,NotSetTransition:zD.NOT_SET,WildcardTransition:zD.WILDCARD,PrecedencePredicateTransition:zD.PRECEDENCE};class GD extends zD{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=zD.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class jD extends zD{constructor(t,e){super(t),this.serializationType=zD.SET,null!=e?this.label=e:(this.label=new HD,this.label.addOne(AD.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class YD extends jD{constructor(t,e){super(t,e),this.serializationType=zD.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class ZD extends zD{constructor(t){super(t),this.serializationType=zD.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class KD extends zD{constructor(t){super(t)}}class JD extends class extends class{}{}{}class tI extends JD{getRuleContext(){throw new Error("missing interface implementation")}}class eI extends JD{}class nI extends eI{}const rI={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=rI.getNodeText(t,e);r=function(t,e){return t=t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),e&&(t=t.replace(/ /g,"·")),t}(r,!1);const i=t.getChildCount();if(0===i)return r;let s="("+r+" ";i>0&&(r=rI.toStringTree(t.getChild(0),e),s=s.concat(r));for(let n=1;n<i;n++)r=rI.toStringTree(t.getChild(n),e),s=s.concat(" "+r);return s=s.concat(")"),s},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof tI){const n=t.getRuleContext().getAltNumber();return 0!=n?e[t.ruleIndex]+":"+n:e[t.ruleIndex]}if(t instanceof nI)return t.toString();if(t instanceof eI&&null!==t.symbol)return t.symbol.text}const r=t.getPayload();return r instanceof AD?r.text:t.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return rI.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return rI.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return rI._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof eI?t.symbol.type===e&&r.push(t):!n&&t instanceof tI&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)rI._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(rI.descendants(t.getChild(n)));return e}},iI=rI;class sI extends tI{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return XD.INVALID_INTERVAL}getRuleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return iI.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class oI{constructor(t){this.cachedHashCode=t}isEmpty(){return this===oI.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===oI.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}oI.EMPTY=null,oI.EMPTY_RETURN_STATE=2147483647,oI.globalNodeCount=1,oI.id=oI.globalNodeCount;class lI extends oI{constructor(t,e){const n=new ED;n.update(t,e);return super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===oI.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof lI&&(this.hashCode()===t.hashCode()&&(PD(this.returnStates,t.returnStates)&&PD(this.parents,t.parents)))}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==oI.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class aI extends oI{constructor(t,e){let n=0;const r=new ED;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof aI&&(this.hashCode()===t.hashCode()&&(this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===oI.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===oI.EMPTY_RETURN_STATE&&null===t?oI.EMPTY:new aI(t,e)}}class uI extends aI{constructor(){super(null,oI.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}oI.EMPTY=new uI;const cI="h-";class hI{constructor(t,e){this.data={},this.hashFunction=t||_D,this.equalsFunction=e||LD}set(t,e){const n=cI+this.hashFunction(t);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(t,i.key)){const t=i.value;return i.value=e,t}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}containsKey(t){const e=cI+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return!0}}return!1}get(t){const e=cI+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((t=>t.startsWith(cI))).flatMap((t=>this.data[t]),this)}getKeys(){return this.entries().map((t=>t.key))}getValues(){return this.entries().map((t=>t.value))}toString(){const t=this.entries().map((t=>"{"+t.key+":"+t.value+"}"));return"["+t.join(", ")+"]"}get length(){return Object.keys(this.data).filter((t=>t.startsWith(cI))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}function fI(t,e){if(null==e&&(e=sI.EMPTY),null===e.parentCtx||e===sI.EMPTY)return oI.EMPTY;const n=fI(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return aI.create(n,r.followState.stateNumber)}function vI(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,s=[];for(let r=0;r<s.length;r++){const o=vI(t.getParent(r),e,n);if(i||o!==t.getParent(r)){if(!i){s=[];for(let e=0;e<t.length;e++)s[e]=t.getParent(e);i=!0}s[r]=o}}if(!i)return e.add(t),n.set(t,t),t;let o=null;return o=0===s.length?oI.EMPTY:1===s.length?aI.create(s[0],t.getReturnState(0)):new lI(s,t.returnStates),e.add(o),n.set(o,o),n.set(t,o),o}function dI(t,e,n,r){if(t===e)return t;if(t instanceof aI&&e instanceof aI)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===oI.EMPTY)return oI.EMPTY;if(e===oI.EMPTY)return oI.EMPTY}else{if(t===oI.EMPTY&&e===oI.EMPTY)return oI.EMPTY;if(t===oI.EMPTY){const t=[e.returnState,oI.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new lI(n,t)}if(e===oI.EMPTY){const e=[t.returnState,oI.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new lI(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=dI(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const s=aI.create(i,t.returnState);return null!==r&&r.set(t,e,s),s}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const s=new lI([n,n],i);return null!==r&&r.set(t,e,s),s}const i=[t.returnState,e.returnState];let s=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,s=[e.parentCtx,t.parentCtx]);const o=new lI(s,i);return null!==r&&r.set(t,e,o),o}}(t,e,n,r);if(n){if(t instanceof uI)return t;if(e instanceof uI)return e}return t instanceof aI&&(t=new lI([t.getParent()],[t.returnState])),e instanceof aI&&(e=new lI([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}let i=0,s=0,o=0,l=[],a=[];for(;i<t.returnStates.length&&s<e.returnStates.length;){const u=t.parents[i],c=e.parents[s];if(t.returnStates[i]===e.returnStates[s]){const e=t.returnStates[i],h=null!==u&&null!==c&&u===c;e===oI.EMPTY_RETURN_STATE&&null===u&&null===c||h?(a[o]=u,l[o]=e):(a[o]=dI(u,c,n,r),l[o]=e),i+=1,s+=1}else t.returnStates[i]<e.returnStates[s]?(a[o]=u,l[o]=t.returnStates[i],i+=1):(a[o]=c,l[o]=e.returnStates[s],s+=1);o+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)a[o]=t.parents[e],l[o]=t.returnStates[e],o+=1;else for(let t=s;t<e.returnStates.length;t++)a[o]=e.parents[t],l[o]=e.returnStates[t],o+=1;if(o<a.length){if(1===o){const n=aI.create(a[0],l[0]);return null!==r&&r.set(t,e,n),n}a=a.slice(0,o),l=l.slice(0,o)}const u=new lI(a,l);if(u===t)return null!==r&&r.set(t,e,t),t;if(u===e)return null!==r&&r.set(t,e,e),e;(function(t){const e=new hI;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])})(a),null!==r&&r.set(t,e,u);return u}(t,e,n,r)}class gI{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){Object.keys(t.data).map((t=>this.add(t)),this)}remove(t){delete this.data[t]}has(t){return!0===this.data[t]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return ED.hashStuff(this.values())}equals(t){return t instanceof gI&&PD(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class pI{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new HD;const e=new QD,i=!1;this._LOOK(t.transition(r).target,null,oI.EMPTY,n[r],e,new gI,i,!1),(0===n[r].length||n[r].contains(pI.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new HD,i=null!==(n=n||null)?fI(t.atn,n):null;return this._LOOK(t,e,i,r,new QD,new gI,!0,!0),r}_LOOK(t,e,n,r,i,s,o,l){const a=new UD({state:t,alt:0,context:n},null);if(!i.has(a)){if(i.add(a),t===e){if(null===n)return void r.addOne(AD.EPSILON);if(n.isEmpty()&&l)return void r.addOne(AD.EOF)}if(t instanceof WD){if(null===n)return void r.addOne(AD.EPSILON);if(n.isEmpty()&&l)return void r.addOne(AD.EOF);if(n!==oI.EMPTY){const a=s.has(t.ruleIndex);try{s.remove(t.ruleIndex);for(let t=0;t<n.length;t++){const a=this.atn.states[n.getReturnState(t)];this._LOOK(a,e,n.getParent(t),r,i,s,o,l)}}finally{a&&s.add(t.ruleIndex)}return}}for(let a=0;a<t.transitions.length;a++){const u=t.transitions[a];if(u.constructor===GD){if(s.has(u.target.ruleIndex))continue;const t=aI.create(n,u.followState.stateNumber);try{s.add(u.target.ruleIndex),this._LOOK(u.target,e,t,r,i,s,o,l)}finally{s.remove(u.target.ruleIndex)}}else if(u instanceof KD)o?this._LOOK(u.target,e,n,r,i,s,o,l):r.addOne(pI.HIT_PRED);else if(u.isEpsilon)this._LOOK(u.target,e,n,r,i,s,o,l);else if(u.constructor===ZD)r.addRange(AD.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=u.label;null!==t&&(u instanceof YD&&(t=t.complement(AD.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(t))}}}}}pI.HIT_PRED=AD.INVALID_TYPE;class mI{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new pI(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const n=this.states[t];let r=this.nextTokens(n);if(!r.contains(AD.EPSILON))return r;const i=new HD;for(i.addSet(r),i.removeOne(AD.EPSILON);null!==e&&e.invokingState>=0&&r.contains(AD.EPSILON);){const t=this.states[e.invokingState].transitions[0];r=this.nextTokens(t.followState),i.addSet(r),i.removeOne(AD.EPSILON),e=e.parentCtx}return r.contains(AD.EPSILON)&&i.addOne(AD.EOF),i}}mI.INVALID_ALT_NUMBER=0;const RI=0,OI=1;class wI extends VD{constructor(){super(),this.stateType=VD.BASIC}}class xI extends VD{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class yI extends xI{constructor(){return super(),this.endState=null,this}}class bI extends VD{constructor(){return super(),this.stateType=VD.BLOCK_END,this.startState=null,this}}class CI extends VD{constructor(){return super(),this.stateType=VD.LOOP_END,this.loopBackState=null,this}}class SI extends VD{constructor(){return super(),this.stateType=VD.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class TI extends xI{constructor(){return super(),this.stateType=VD.TOKEN_START,this}}class kI extends xI{constructor(){return super(),this.stateType=VD.PLUS_LOOP_BACK,this}}class AI extends VD{constructor(){return super(),this.stateType=VD.STAR_LOOP_BACK,this}}class PI extends xI{constructor(){return super(),this.stateType=VD.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class EI extends yI{constructor(){return super(),this.stateType=VD.PLUS_BLOCK_START,this.loopBackState=null,this}}class _I extends yI{constructor(){return super(),this.stateType=VD.STAR_BLOCK_START,this}}class LI extends yI{constructor(){return super(),this.stateType=VD.BLOCK_START,this}}class DI extends zD{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=zD.ATOM}makeLabel(){const t=new HD;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class II extends zD{constructor(t,e,n){super(t),this.serializationType=zD.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new HD;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class NI extends zD{constructor(t,e,n,r){super(t),this.serializationType=zD.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class QI extends zD{constructor(t,e){super(t),this.serializationType=zD.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class MI extends MD{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof MI&&(this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent)}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}MD.NONE=new MI;class BI extends KD{constructor(t,e,n,r){super(t),this.serializationType=zD.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new MI(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class FI extends MD{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?MD.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof FI&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}MD.PrecedencePredicate=FI;class qI extends KD{constructor(t,e){super(t),this.serializationType=zD.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new FI(this.precedence)}toString(){return this.precedence+" >= _p"}}class $I{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}$I.defaultOptions=new $I,$I.defaultOptions.readOnly=!0;const UI=0,XI=1,HI=2,VI=3,WI=4,zI=5,GI=6,jI=7;class YI{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new ED;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class ZI extends YI{constructor(){super(GI)}execute(t){t.skip()}toString(){return"skip"}}ZI.INSTANCE=new ZI;class KI extends YI{constructor(t){super(UI),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof KI&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class JI extends YI{constructor(t,e){super(XI),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof JI&&(this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex)}}class tN extends YI{constructor(){super(VI)}execute(t){t.more()}toString(){return"more"}}tN.INSTANCE=new tN;class eN extends YI{constructor(t){super(jI),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof eN&&this.type===t.type}toString(){return"type("+this.type+")"}}class nN extends YI{constructor(t){super(zI),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof nN&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class rN extends YI{constructor(){super(WI)}execute(t){t.popMode()}toString(){return"popMode"}}rN.INSTANCE=new rN;class iN extends YI{constructor(t){super(HI),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof iN&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function sN(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class oN{constructor(t){null==t&&(t=$I.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&n.grammarType===OI&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new mI(t,e)}readStates(t,e){let n,r,i;const s=[],o=[],l=this.readInt();for(let n=0;n<l;n++){const n=this.readInt();if(n===VD.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===VD.LOOP_END){const t=this.readInt();s.push([i,t])}else if(i instanceof yI){const t=this.readInt();o.push([i,t])}t.addState(i)}for(n=0;n<s.length;n++)r=s[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<o.length;n++)r=o[n],r[0].endState=t.states[r[1]];let a=this.readInt();for(n=0;n<a;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(t,e){let n;const r=this.readInt();for(t.grammarType===RI&&(t.ruleToTokenType=sN(r,0)),t.ruleToStartState=sN(r,0),n=0;n<r;n++){const r=this.readInt();if(t.ruleToStartState[n]=t.states[r],t.grammarType===RI){let r=this.readInt();e&&65535===r&&(r=AD.EOF),t.ruleToTokenType[n]=r}}for(t.ruleToStopState=sN(r,0),n=0;n<t.states.length;n++){const e=t.states[n];e instanceof WD&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new HD;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,s,o;const l=this.readInt();for(n=0;n<l;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),o=this.readInt(),l=this.readInt(),a=this.readInt();s=this.edgeFactory(t,i,n,r,o,l,a,e);t.states[n].addTransition(s)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof GD))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),s=new QI(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(s)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof yI){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof kI)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof EI&&(o.loopBackState=i);else if(i instanceof AI)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof PI&&(o.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(t.grammarType===RI){const n=this.readInt();t.lexerActions=sN(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,s)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new LI;i.ruleIndex=e,t.addState(i);const s=new bI;s.ruleIndex=e,t.addState(s),i.endState=s,t.defineDecisionState(i),s.startState=i;let o=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){l=r,o=r.loopBackState.transitions[0];break}if(null===o)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==o&&(e.target===l&&(e.target=s))}}const a=t.ruleToStartState[e],u=a.transitions.length;for(;u>0;)i.addTransition(a.transitions[u-1]),a.transitions=a.transitions.slice(-1);t.ruleToStartState[e].addTransition(new QI(i)),s.addTransition(new QI(l));const c=new wI;t.addState(c),c.addTransition(new DI(s,t.ruleToTokenType[e])),i.addTransition(new QI(c))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof PI))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof CI&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof WD?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof PI&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof CI&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof WD&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof EI)this.checkCondition(null!==n.loopBackState);else if(n instanceof PI)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof _I)this.checkCondition(n.transitions[1].target instanceof CI),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof CI))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof _I),this.checkCondition(n.nonGreedy)}else n instanceof AI?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof PI)):n instanceof CI?this.checkCondition(null!==n.loopBackState):n instanceof SI?this.checkCondition(null!==n.stopState):n instanceof yI?this.checkCondition(null!==n.endState):n instanceof bI?this.checkCondition(null!==n.startState):n instanceof xI?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof WD)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,n,r,i,s,o,l){const a=t.states[r];switch(e){case zD.EPSILON:return new QI(a);case zD.RANGE:return new II(a,0!==o?AD.EOF:i,s);case zD.RULE:return new GD(t.states[i],s,o,a);case zD.PREDICATE:return new BI(a,i,s,0!==o);case zD.PRECEDENCE:return new qI(a,i);case zD.ATOM:return new DI(a,0!==o?AD.EOF:i);case zD.ACTION:return new NI(a,i,s,0!==o);case zD.SET:return new jD(a,l[i]);case zD.NOT_SET:return new YD(a,l[i]);case zD.WILDCARD:return new ZD(a);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[VD.INVALID_TYPE]=null,t[VD.BASIC]=()=>new wI,t[VD.RULE_START]=()=>new SI,t[VD.BLOCK_START]=()=>new LI,t[VD.PLUS_BLOCK_START]=()=>new EI,t[VD.STAR_BLOCK_START]=()=>new _I,t[VD.TOKEN_START]=()=>new TI,t[VD.RULE_STOP]=()=>new WD,t[VD.BLOCK_END]=()=>new bI,t[VD.STAR_LOOP_BACK]=()=>new AI,t[VD.STAR_LOOP_ENTRY]=()=>new PI,t[VD.PLUS_LOOP_BACK]=()=>new kI,t[VD.LOOP_END]=()=>new CI,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[UI]=(t,e)=>new KI(t),t[XI]=(t,e)=>new JI(t,e),t[HI]=(t,e)=>new iN(t),t[VI]=(t,e)=>tN.INSTANCE,t[WI]=(t,e)=>rN.INSTANCE,t[zI]=(t,e)=>new nN(t),t[GI]=(t,e)=>ZI.INSTANCE,t[jI]=(t,e)=>new eN(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class lN{syntaxError(t,e,n,r,i,s){}reportAmbiguity(t,e,n,r,i,s,o){}reportAttemptingFullContext(t,e,n,r,i,s){}reportContextSensitivity(t,e,n,r,i,s){}}class aN extends lN{constructor(){super()}syntaxError(t,e,n,r,i,s){console.error("line "+n+":"+r+" "+i)}}aN.INSTANCE=new aN;class uN extends lN{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,s){this.delegates.map((o=>o.syntaxError(t,e,n,r,i,s)))}reportAmbiguity(t,e,n,r,i,s,o){this.delegates.map((l=>l.reportAmbiguity(t,e,n,r,i,s,o)))}reportAttemptingFullContext(t,e,n,r,i,s){this.delegates.map((o=>o.reportAttemptingFullContext(t,e,n,r,i,s)))}reportContextSensitivity(t,e,n,r,i,s){this.delegates.map((o=>o.reportContextSensitivity(t,e,n,r,i,s)))}}class cN{constructor(){this._listeners=[aN.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.10.1";e!==t&&console.log("ANTLR runtime and generated code versions disagree: 4.10.1!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=AD.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return void 0!==e?e:AD.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===AD.EOF?"<EOF>":"<"+t.type+">"),e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return new uN(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}cN.tokenTypeMapCache={},cN.ruleIndexMapCache={};class hN extends AD{constructor(t,e,n,r,i){super(),this.source=void 0!==t?t:hN.EMPTY_SOURCE,this.type=void 0!==e?e:null,this.channel=void 0!==n?n:AD.DEFAULT_CHANNEL,this.start=void 0!==r?r:-1,this.stop=void 0!==i?i:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new hN(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}hN.EMPTY_SOURCE=[null,null];class fN extends class{}{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,s,o,l){const a=new hN(t,e,r,i,s);return a.line=o,a.column=l,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(i,s)),a}createThin(t,e){const n=new hN(null,t);return n.text=e,n}}fN.DEFAULT=new fN;class vN extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,vN),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class dN extends vN{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new XD(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class gN extends cN{constructor(t){super(),this._input=t,this._factory=fN.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=AD.DEFAULT_CHANNEL,this._type=AD.INVALID_TYPE,this._modeStack=[],this._mode=gN.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=AD.INVALID_TYPE,this._channel=AD.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=gN.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=AD.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let t=!1;for(;;){this._type=AD.INVALID_TYPE;let e=gN.SKIP;try{e=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof vN))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===AD.EOF&&(this._hitEOF=!0),this._type===AD.INVALID_TYPE&&(this._type=e),this._type===gN.SKIP){t=!0;break}if(this._type!==gN.MORE)break}if(!t)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=gN.SKIP}more(){this._type=gN.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,AD.EOF,null,AD.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==AD.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===AD.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==AD.EOF&&(t instanceof dN?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function pN(t){return t.hashCodeForConfigSet()}function mN(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}gN.DEFAULT_MODE=0,gN.MORE=-2,gN.SKIP=-3,gN.DEFAULT_TOKEN_CHANNEL=AD.DEFAULT_CHANNEL,gN.HIDDEN=AD.HIDDEN_CHANNEL,gN.MIN_CHAR_VALUE=0,gN.MAX_CHAR_VALUE=1114111;class RN{constructor(t){this.configLookup=new QD(pN,mN),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==MD.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=dI(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new QD;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==MD.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof RN&&PD(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new ED;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new QD}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return ID(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==mI.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class ON{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new RN),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new QD;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof ON&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new ED;return t.update(this.configs),t.finish()}}class wN{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new hI;return vI(t,this.sharedContextCache,e)}}wN.ERROR=new ON(2147483647,new RN);class xN extends RN{constructor(){super(),this.configLookup=new QD}}class yN extends UD{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=yN.prototype.hashCode,this.equalsForConfigSet=yN.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof yN&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof xI&&e.nonGreedy}}class bN extends YI{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof bN&&(this.offset===t.offset&&this.action===t.action)}}class CN{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=ED.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof bN||(null===e&&(e=this.lexerActions.concat([])),e[n]=new bN(t,this.lexerActions[n]));return null===e?this:new CN(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let s=0;s<this.lexerActions.length;s++){let o=this.lexerActions[s];if(o instanceof bN){const t=o.offset;e.seek(n+t),o=o.action,r=n+t!==i}else o.isPositionDependent&&(e.seek(i),r=!1);o.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof CN){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new CN([e]);const n=t.lexerActions.concat([e]);return new CN(n)}}function SN(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class TN{constructor(){SN(this)}reset(){SN(this)}}class kN extends wN{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=gN.DEFAULT_MODE,this.prevAccept=new TN}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=gN.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];kN.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const s=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=s);const o=this.execATN(t,s);return kN.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),o}execATN(t,e){kN.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let n=t.LA(1),r=e;for(;;){kN.debug&&console.log("execATN loop starting closure: "+r.configs);let e=this.getExistingTargetState(r,n);if(null===e&&(e=this.computeTargetState(t,r,n)),e===wN.ERROR)break;if(n!==AD.EOF&&this.consume(t),e.isAcceptState&&(this.captureSimState(this.prevAccept,t,e),n===AD.EOF))break;n=t.LA(1),r=e}return this.failOrAccept(this.prevAccept,t,r.configs,n)}getExistingTargetState(t,e){if(null===t.edges||e<kN.MIN_DFA_EDGE||e>kN.MAX_DFA_EDGE)return null;let n=t.edges[e-kN.MIN_DFA_EDGE];return void 0===n&&(n=null),kN.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new xN;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,wN.ERROR),wN.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(t,e,n,r){if(null!==this.prevAccept.dfaState){const n=t.dfaState.lexerActionExecutor;return this.accept(e,n,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===AD.EOF&&e.index===this.startIndex)return AD.EOF;throw new dN(this.recog,e,this.startIndex,n)}getReachableConfigSet(t,e,n,r){let i=mI.INVALID_ALT_NUMBER;for(let s=0;s<e.items.length;s++){const o=e.items[s],l=o.alt===i;if(!l||!o.passedThroughNonGreedyDecision){kN.debug&&console.log("testing %s at %s\n",this.getTokenName(r),o.toString(this.recog,!0));for(let e=0;e<o.state.transitions.length;e++){const s=o.state.transitions[e],a=this.getReachableTarget(s,r);if(null!==a){let e=o.lexerActionExecutor;null!==e&&(e=e.fixOffsetBeforeMatch(t.index-this.startIndex));const s=r===AD.EOF,u=new yN({state:a,lexerActionExecutor:e},o);this.closure(t,u,n,l,!0,s)&&(i=o.alt)}}}}}accept(t,e,n,r,i,s){kN.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,gN.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=oI.EMPTY,r=new xN;for(let i=0;i<e.transitions.length;i++){const s=e.transitions[i].target,o=new yN({state:s,alt:i+1,context:n},null);this.closure(t,o,r,!1,!1,!1)}return r}closure(t,e,n,r,i,s){let o=null;if(kN.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof WD){if(kN.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new yN({state:e.state,context:oI.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let l=0;l<e.context.length;l++)if(e.context.getReturnState(l)!==oI.EMPTY_RETURN_STATE){const a=e.context.getParent(l),u=this.atn.states[e.context.getReturnState(l)];o=new yN({state:u,context:a},e),r=this.closure(t,o,n,r,i,s)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let l=0;l<e.state.transitions.length;l++){const a=e.state.transitions[l];o=this.getEpsilonTarget(t,e,a,n,i,s),null!==o&&(r=this.closure(t,o,n,r,i,s))}return r}getEpsilonTarget(t,e,n,r,i,s){let o=null;if(n.serializationType===zD.RULE){const t=aI.create(e.context,n.followState.stateNumber);o=new yN({state:n.target,context:t},e)}else{if(n.serializationType===zD.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===zD.PREDICATE)kN.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,i)&&(o=new yN({state:n.target},e));else if(n.serializationType===zD.ACTION)if(null===e.context||e.context.hasEmptyPath()){const t=CN.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);o=new yN({state:n.target,lexerActionExecutor:t},e)}else o=new yN({state:n.target},e);else n.serializationType===zD.EPSILON?o=new yN({state:n.target},e):n.serializationType!==zD.ATOM&&n.serializationType!==zD.RANGE&&n.serializationType!==zD.SET||s&&n.matches(AD.EOF,0,gN.MAX_CHAR_VALUE)&&(o=new yN({state:n.target},e))}return o}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,s=this.line,o=t.index,l=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=s,t.seek(o),t.release(l)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<kN.MIN_DFA_EDGE||e>kN.MAX_DFA_EDGE||(kN.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-kN.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new ON(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof WD){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const s=e;return s.stateNumber=r.states.length,t.setReadonly(!0),s.configs=t,r.states.add(s),s}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}kN.debug=!1,kN.dfa_debug=!1,kN.MIN_DFA_EDGE=0,kN.MAX_DFA_EDGE=127;class AN{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class PN{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const EN={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(EN.allConfigsInRuleStopStates(e))return!0;if(t===EN.SLL&&e.hasSemanticContext){const t=new RN;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new UD({semanticContext:MD.NONE},r),t.add(r)}e=t}const n=EN.getConflictingAltSubsets(e);return EN.hasConflictingAltSet(n)&&!EN.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++){if(t.items[e].state instanceof WD)return!0}return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++){if(!(t.items[e].state instanceof WD))return!1}return!0},resolvesToJustOneViableAlt:function(t){return EN.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!EN.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++){if(1===t[e].length)return!0}return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++){if(t[e].length>1)return!0}return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=EN.getAlts(t);return 1===e.length?e.minValue():mI.INVALID_ALT_NUMBER},getAlts:function(t){const e=new gI;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new hI;return e.hashFunction=function(t){ED.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new gI,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new PN;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new gI,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=EN.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return mI.INVALID_ALT_NUMBER}return e}},_N=EN;class LN extends vN{constructor(t,e,n,r,i,s){s=s||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:s}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class DN{constructor(t){this.defaultMapCtor=t||hI,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}const IN={ATN:mI,ATNDeserializer:oN,LexerATNSimulator:kN,ParserATNSimulator:class extends wN{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=_N.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.debug_list_atn_decisions=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.debug_list_atn_decisions)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),s=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=sI.EMPTY),(this.debug||this.debug_list_atn_decisions)&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let s=this.computeStartState(r.atnStartState,sI.EMPTY,i);r.precedenceDfa?(r.s0.configs=s,s=this.applyPrecedenceFilter(s),e=this.addDFAState(r,new ON(null,s)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new ON(null,s)),r.s0=e)}const o=this.execATN(r,e,t,s,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),o}finally{this._dfa=null,this.mergeCache=null,t.seek(s),t.release(i)}}execATN(t,e,n,r,i){let s;(this.debug||this.debug_list_atn_decisions)&&console.log("execATN decision "+t.decision+" exec LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);let o=e;this.debug&&console.log("s0 = "+e);let l=n.LA(1);for(;;){let e=this.getExistingTargetState(o,l);if(null===e&&(e=this.computeTargetState(t,o,l)),e===wN.ERROR){const t=this.noViableAlt(n,i,o.configs,r);if(n.seek(r),s=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(o.configs,i),s!==mI.INVALID_ALT_NUMBER)return s;throw t}if(e.requiresFullContext&&this.predictionMode!==_N.SLL){let o=null;if(null!==e.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=n.index;if(t!==r&&n.seek(r),o=this.evalSemanticContext(e.predicates,i,!0),1===o.length)return this.debug&&console.log("Full LL avoided"),o.minValue();t!==r&&n.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+e);const l=!0,a=this.computeStartState(t.atnStartState,i,l);return this.reportAttemptingFullContext(t,o,e.configs,r,n.index),s=this.execATNWithFullContext(t,e,a,n,r,i),s}if(e.isAcceptState){if(null===e.predicates)return e.prediction;const s=n.index;n.seek(r);const o=this.evalSemanticContext(e.predicates,i,!0);if(0===o.length)throw this.noViableAlt(n,i,e.configs,r);return 1===o.length||this.reportAmbiguity(t,e,r,s,!1,o,e.configs),o.minValue()}o=e,l!==AD.EOF&&(n.consume(),l=n.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,wN.ERROR),wN.ERROR;let i=new ON(null,r);const s=this.getUniqueAlt(r);if(this.debug){const t=_N.getConflictingAltSubsets(r);console.log("SLL altSubSets="+ID(t)+", configs="+r+", predict="+s+", allSubsetsConflict="+_N.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return s!==mI.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=s,i.prediction=s):_N.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=mI.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=mI.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,n,r,i,s){(this.debug||this.debug_list_atn_decisions)&&console.log("execATNWithFullContext "+n);let o,l=!1,a=n;r.seek(i);let u=r.LA(1),c=-1;for(;;){if(o=this.computeReachSet(a,u,true),null===o){const t=this.noViableAlt(r,s,a,i);r.seek(i);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a,s);if(e!==mI.INVALID_ALT_NUMBER)return e;throw t}const t=_N.getConflictingAltSubsets(o);if(this.debug&&console.log("LL altSubSets="+t+", predict="+_N.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+_N.resolvesToJustOneViableAlt(t)),o.uniqueAlt=this.getUniqueAlt(o),o.uniqueAlt!==mI.INVALID_ALT_NUMBER){c=o.uniqueAlt;break}if(this.predictionMode!==_N.LL_EXACT_AMBIG_DETECTION){if(c=_N.resolvesToJustOneViableAlt(t),c!==mI.INVALID_ALT_NUMBER)break}else if(_N.allSubsetsConflict(t)&&_N.allSubsetsEqual(t)){l=!0,c=_N.getSingleViableAlt(t);break}a=o,u!==AD.EOF&&(r.consume(),u=r.LA(1))}return o.uniqueAlt!==mI.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,c,o,i,r.index),c):(this.reportAmbiguity(t,e,i,r.index,l,null,o),c)}computeReachSet(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new DN);const r=new RN(n);let i=null;for(let s=0;s<t.items.length;s++){const o=t.items[s];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+o),o.state instanceof WD)(n||e===AD.EOF)&&(null===i&&(i=[]),i.push(o),this.debug_add&&console.log("added "+o+" to skippedStopStates"));else for(let t=0;t<o.state.transitions.length;t++){const n=o.state.transitions[t],i=this.getReachableTarget(n,e);if(null!==i){const t=new UD({state:i},o);r.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let s=null;if(null===i&&e!==AD.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==mI.INVALID_ALT_NUMBER)&&(s=r),null===s){s=new RN(n);const t=new QD,i=e===AD.EOF;for(let e=0;e<r.items.length;e++)this.closure(r.items[e],s,t,!1,n,i)}if(e===AD.EOF&&(s=this.removeAllConfigsNotInRuleStopState(s,s===r)),!(null===i||n&&_N.hasConfigInRuleStopState(s)))for(let t=0;t<i.length;t++)s.add(i[t],this.mergeCache);return 0===s.items.length?null:s}removeAllConfigsNotInRuleStopState(t,e){if(_N.allConfigsInRuleStopStates(t))return t;const n=new RN(t.fullCtx);for(let r=0;r<t.items.length;r++){const i=t.items[r];if(i.state instanceof WD)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions){if(this.atn.nextTokens(i.state).contains(AD.EPSILON)){const t=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new UD({state:t},i),this.mergeCache)}}}return n}computeStartState(t,e,n){const r=fI(this.atn,e),i=new RN(n);for(let e=0;e<t.transitions.length;e++){const s=t.transitions[e].target,o=new UD({state:s,alt:e+1,context:r},null),l=new QD;this.closure(o,i,l,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new RN(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const s=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==s&&(n[e.state.stateNumber]=e.context,s!==e.semanticContext?r.add(new UD({semanticContext:s},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.has(i.alt)&&(r[i.alt]=MD.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=MD.NONE:e!==MD.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+ID(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const s=e[i];null!==t&&t.has(i)&&n.push(new AN(s,i)),s!==MD.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let s=this.getAltThatFinishedDecisionEntryRule(r);return s!==mI.INVALID_ALT_NUMBER||i.items.length>0&&(s=this.getAltThatFinishedDecisionEntryRule(i),s!==mI.INVALID_ALT_NUMBER)?s:mI.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof WD&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?mI.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new RN(t.fullCtx),r=new RN(t.fullCtx);for(let i=0;i<t.items.length;i++){const s=t.items[i];if(s.semanticContext!==MD.NONE){s.semanticContext.evaluate(this.parser,e)?n.add(s):r.add(s)}else n.add(s)}return[n,r]}evalSemanticContext(t,e,n){const r=new gI;for(let i=0;i<t.length;i++){const s=t[i];if(s.pred===MD.NONE){if(r.add(s.alt),!n)break;continue}const o=s.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+s.alt),r.add(s.alt),!n))break}return r}closure(t,e,n,r,i,s){this.closureCheckingStopState(t,e,n,r,i,0,s)}closureCheckingStopState(t,e,n,r,i,s,o){if((this.debug||this.debug_closure)&&(console.log("closure("+t.toString(this.parser,!0)+")"),t.reachesIntoOuterContext>50))throw"problem";if(t.state instanceof WD){if(!t.context.isEmpty()){for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===oI.EMPTY_RETURN_STATE){if(i){e.add(new UD({state:t.state,context:oI.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,s,o);continue}const a=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),c={state:a,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new UD(c,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,s-1,o)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,s,o)}closure_(t,e,n,r,i,s,o){const l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let a=0;a<l.transitions.length;a++){if(0===a&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=l.transitions[a],c=r&&!(u instanceof NI),h=this.getEpsilonTarget(t,u,c,0===s,i,o);if(null!==h){let r=s;if(t.state instanceof WD){if(null!==this._dfa&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.add(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.add(h)!==h)continue;u instanceof GD&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,c,i,r,o)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==VD.STAR_LOOP_ENTRY)return!1;if(e.stateType!==VD.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++){if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1}const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),s=this.atn.states[n];if(1!==s.transitions.length||!s.transitions[0].isEpsilon)return!1;const o=s.transitions[0].target;if((s.stateType!==VD.BLOCK_END||o!==e)&&(s!==i&&o!==i&&(o.stateType!==VD.BLOCK_END||1!==o.transitions.length||!o.transitions[0].isEpsilon||o.transitions[0].target!==e)))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,n,r,i,s){switch(e.serializationType){case zD.RULE:return this.ruleTransition(t,e);case zD.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case zD.PREDICATE:return this.predTransition(t,e,n,r,i);case zD.ACTION:return this.actionTransition(t,e);case zD.EPSILON:return new UD({state:e.target},t);case zD.ATOM:case zD.RANGE:case zD.SET:return s&&e.matches(AD.EOF,0,1)?new UD({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new UD({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+ID(this.parser.getRuleInvocationStack())));let s=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new UD({state:e.target},t))}else{const n=MD.andContext(t.semanticContext,e.getPredicate());s=new UD({state:e.target,semanticContext:n},t)}else s=new UD({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+ID(this.parser.getRuleInvocationStack())));let s=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new UD({state:e.target},t))}else{const n=MD.andContext(t.semanticContext,e.getPredicate());s=new UD({state:e.target,semanticContext:n},t)}else s=new UD({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=aI.create(t.context,n.stateNumber);return new UD({state:e.target,context:r},t)}getConflictingAlts(t){const e=_N.getConflictingAltSubsets(t);return _N.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==mI.INVALID_ALT_NUMBER?(e=new gI,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===AD.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length)){return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">"}console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];if(t instanceof DI)r="Atom "+this.getTokenName(t.label);else if(t instanceof jD){r=(t instanceof YD?"~":"")+"Set "+t.set}}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new LN(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=mI.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===mI.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return mI.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===wN.ERROR)return e;const n=t.states.get(e);return null!==n?n:(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new XD(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new XD(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,s,o){if(this.debug||this.retry_debug){const t=new XD(n,r+1);console.log("reportAmbiguity "+s+":"+o+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,i,s,o)}},PredictionMode:_N};class NN{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+ID(t.predicates):e+"=>"+t.prediction.toString():e}}class QN extends NN{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}const MN={DFA:class{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new QD,this.s0=null,this.precedenceDfa=!1,t instanceof PI&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new ON(null,new RN);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new QD,t){const t=new ON(null,new RN);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){if(t=t||null,e=e||null,null===this.s0)return"";return new NN(this,t,e).toString()}toLexerString(){if(null===this.s0)return"";return new QN(this).toString()}get states(){return this._states}},DFASerializer:NN,LexerDFASerializer:QN,PredPrediction:AN};class BN{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class FN{walk(t,e){if(e instanceof nI||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof eI)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.getRuleContext();t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.getRuleContext();n.exitRule(t),t.exitEveryRule(n)}}FN.DEFAULT=new FN;const qN={Trees:iI,RuleNode:tI,ErrorNode:nI,TerminalNode:eI,ParseTreeListener:BN,ParseTreeVisitor:class{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}},ParseTreeWalker:FN};class $N extends vN{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class UN extends vN{constructor(t,e,n){super({message:XN(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof BI?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function XN(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class HN extends Error{constructor(){super(),Error.captureStackTrace(this,HN)}}class VN extends class{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof LN?this.reportNoViableAlternative(t,e):e instanceof $N?this.reportInputMismatch(t,e):e instanceof UN?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=VD.INVALID_STATE_NUMBER);if(r.contains(AD.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case VD.BLOCK_START:case VD.STAR_BLOCK_START:case VD.PLUS_BLOCK_START:case VD.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new $N(t);case VD.PLUS_LOOP_BACK:case VD.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new HD;e.addSet(t.getExpectedTokens());const n=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,n)}}}reportNoViableAlternative(t,e){const n=t.getTokenStream();let r;r=null!==n?e.startToken.type===AD.EOF?"<EOF>":n.getText(new XD(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new $N(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(t){const e=t.getCurrentToken(),n=this.getExpectedTokens(t).first();let r;r=n===AD.EOF?"<missing EOF>":"<missing "+t.literalNames[n]+">";let i=e;const s=t.getTokenStream().LT(-1);return i.type===AD.EOF&&null!==s&&(i=s),t.getTokenFactory().create(i.source,n,r,AD.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===AD.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let n=t._ctx;const r=new HD;for(;null!==n&&n.invokingState>=0;){const t=e.states[n.invokingState].transitions[0],i=e.nextTokens(t.followState);r.addSet(i),n=n.parentCtx}return r.removeOne(AD.EPSILON),r}consumeUntil(t,e){let n=t.getTokenStream().LA(1);for(;n!==AD.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}const WN={RecognitionException:vN,NoViableAltException:LN,LexerNoViableAltException:dN,InputMismatchException:$N,FailedPredicateException:UN,DiagnosticErrorListener:class extends lN{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,s,o){if(this.exactOnly&&!i)return;const l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(s,o)+", input='"+t.getTokenStream().getText(new XD(n,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,n,r,i,s){const o="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new XD(n,r))+"'";t.notifyErrorListeners(o)}reportContextSensitivity(t,e,n,r,i,s){const o="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new XD(n,r))+"'";t.notifyErrorListeners(o)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const s=i[r]||null;return null===s||0===s.length?""+n:`${n} (${s})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new gI;for(let t=0;t<e.items.length;t++)n.add(e.items[t].alt);return`{${n.values().join(", ")}}`}},BailErrorStrategy:class extends VN{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new HN(e)}recoverInline(t){this.recover(t,new $N(t))}sync(t){}},DefaultErrorStrategy:VN,ErrorListener:lN};class zN{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++){const e=this.strdata.charCodeAt(t);this.data[t]=e}}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?AD.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}var GN=n(654);const jN={fromString:function(t){return new zN(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new zN(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new zN(t.toString(e),!0)},fromPath:function(t,e,n){GN.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new zN(e,!0)),n(t,r)}))},fromPathSync:function(t,e){const n=GN.readFileSync(t,e);return new zN(n,!0)}};class YN extends BN{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class ZN extends cN{constructor(t){super(),this._input=null,this._errHandler=new VN,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new $I;n.generateRuleBypassTransitions=!0,e=new oN(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,i,t,n)}consume(){const t=this.getCurrentToken();t.type!==AD.EOF&&this.getInputStream().consume();const e=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||e){let n;n=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),n.invokingState=this.state,e&&this._parseListeners.forEach((function(t){n instanceof nI||void 0!==n.isErrorNode&&n.isErrorNode()?t.visitErrorNode(n):n instanceof eI&&t.visitTerminal(n)}))}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let n=this._ctx;const r=e.states[this.state];let i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(AD.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(AD.EPSILON);){const r=e.states[n.invokingState].transitions[0];if(i=e.nextTokens(r.followState),i.contains(t))return!0;n=n.parentCtx}return!(!i.contains(AD.EPSILON)||t!==AD.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.sourceName}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new YN(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}ZN.bypassAltsAtnCache={};class KN extends eI{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return XD.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new XD(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===AD.EOF?"<EOF>":this.symbol.text}}class JN extends KN{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class tQ extends sI{constructor(t,e){super(t=t||null,e=e||null),this.ruleIndex=-1,this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof JN&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new KN(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new JN(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof eI&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof eI&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?XD.INVALID_INTERVAL:new XD(this.start.tokenIndex,this.stop.tokenIndex)}}sI.EMPTY=new tQ;const eQ={arrayToString:ID},nQ={atn:IN,dfa:MN,tree:qN,error:WN,Token:AD,CommonToken:hN,CharStreams:jN,InputStream:zN,FileStream:class extends zN{constructor(t,e){super(GN.readFileSync(t,"utf8"),e),this.fileName=t}},CommonTokenStream:class extends class extends class{}{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===AD.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;if(e>0){return this.fetch(e)>=e}return!0}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===AD.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();const r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let i=t;i<e;i++){const t=this.tokens[i];if(t.type===AD.EOF)break;(null===n||n.contains(t.type))&&r.push(t)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let n=this.tokens[t];for(;n.channel!==this.channel;){if(n.type===AD.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,gN.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,gN.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==gN.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),null==t&&(t=new XD(0,this.tokens.length-1));let e=t.start;e instanceof AD&&(e=e.tokenIndex);let n=t.stop;if(n instanceof AD&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);let r="";for(let t=e;t<n+1;t++){const e=this.tokens[t];if(e.type===AD.EOF)break;r+=e.text}return r}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}{constructor(t,e){super(t),this.channel=void 0===e?AD.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===AD.EOF)break}return t}},Lexer:gN,Parser:ZN,PredictionContextCache:class{constructor(){this.cache=new hI}add(t){if(t===oI.EMPTY)return oI.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}},ParserRuleContext:tQ,Interval:XD,IntervalSet:HD,LL1Analyzer:pI,Utils:eQ},rQ=nQ,iQ=(new rQ.atn.ATNDeserializer).deserialize([4,0,98,691,6,-1,6,-1,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,1,0,4,0,203,8,0,11,0,12,0,204,1,0,1,0,1,1,1,1,1,1,1,1,4,1,213,8,1,11,1,12,1,214,1,1,1,1,1,2,1,2,1,2,1,2,5,2,223,8,2,10,2,12,2,226,9,2,1,2,1,2,1,2,1,2,1,2,1,3,4,3,234,8,3,11,3,12,3,235,1,3,1,3,4,3,240,8,3,11,3,12,3,241,3,3,244,8,3,1,3,1,3,3,3,248,8,3,1,3,4,3,251,8,3,11,3,12,3,252,3,3,255,8,3,1,3,1,3,1,3,1,3,3,3,261,8,3,1,3,4,3,264,8,3,11,3,12,3,265,1,3,1,3,1,3,1,3,3,3,272,8,3,1,3,4,3,275,8,3,11,3,12,3,276,3,3,279,8,3,1,4,1,4,1,4,1,4,5,4,285,8,4,10,4,12,4,288,9,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,24,1,24,1,24,1,25,1,25,1,25,1,25,1,25,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,29,1,29,1,29,1,29,1,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,32,1,32,1,33,1,33,1,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,35,1,35,1,35,3,35,480,8,35,1,36,1,36,1,37,1,37,5,37,486,8,37,10,37,12,37,489,9,37,1,38,1,38,5,38,493,8,38,10,38,12,38,496,9,38,1,39,1,39,1,39,1,40,1,40,1,41,1,41,1,41,1,42,1,42,1,42,1,43,1,43,1,43,1,44,1,44,1,44,1,45,1,45,1,45,1,46,1,46,1,46,1,47,1,47,1,48,1,48,1,49,1,49,1,50,1,50,1,51,1,51,1,52,1,52,1,53,1,53,1,54,1,54,1,54,1,55,1,55,1,55,1,56,1,56,1,57,1,57,1,58,1,58,1,58,1,59,1,59,1,59,1,60,1,60,1,60,1,61,1,61,1,61,1,62,1,62,1,63,1,63,1,63,1,64,1,64,1,64,1,65,1,65,1,66,1,66,1,67,1,67,1,67,3,67,572,8,67,1,68,1,68,1,68,1,69,1,69,1,69,1,70,1,70,1,71,1,71,1,72,1,72,1,73,1,73,1,74,1,74,1,74,1,75,1,75,1,76,1,76,1,77,1,77,1,78,1,78,1,79,1,79,1,79,1,79,1,80,1,80,1,80,1,80,1,81,1,81,1,81,1,81,1,82,1,82,1,82,1,82,1,83,1,83,1,83,1,83,1,84,1,84,1,84,3,84,622,8,84,1,84,1,84,1,85,1,85,1,85,1,85,1,85,1,86,1,86,1,86,1,87,4,87,635,8,87,11,87,12,87,636,1,88,1,88,1,88,1,88,1,89,1,89,1,89,1,89,1,90,1,90,1,90,1,90,1,91,1,91,1,91,1,91,1,92,1,92,1,92,1,92,1,93,1,93,1,93,3,93,662,8,93,1,94,1,94,1,94,1,94,1,94,1,94,1,95,1,95,1,95,1,95,1,95,1,96,4,96,676,8,96,11,96,12,96,677,1,96,1,96,1,97,1,97,1,97,1,97,1,97,1,98,1,98,1,98,1,98,1,98,1,224,0,99,3,1,5,2,7,3,9,4,11,5,13,6,15,7,17,8,19,9,21,10,23,11,25,12,27,13,29,14,31,15,33,16,35,17,37,18,39,19,41,20,43,21,45,22,47,23,49,24,51,25,53,26,55,27,57,28,59,29,61,30,63,31,65,32,67,33,69,34,71,35,73,0,75,36,77,37,79,38,81,39,83,40,85,41,87,42,89,43,91,44,93,45,95,46,97,47,99,48,101,49,103,50,105,51,107,52,109,53,111,54,113,55,115,56,117,57,119,58,121,59,123,60,125,61,127,62,129,63,131,64,133,65,135,66,137,67,139,68,141,69,143,70,145,71,147,72,149,73,151,74,153,75,155,76,157,77,159,78,161,79,163,80,165,81,167,82,169,83,171,84,173,85,175,86,177,87,179,88,181,89,183,90,185,91,187,92,189,93,191,94,193,95,195,96,197,97,199,98,3,0,1,2,13,3,0,9,10,13,13,32,32,1,0,10,10,1,0,48,57,2,0,69,69,101,101,2,0,43,43,45,45,3,0,48,57,65,70,97,102,1,0,48,55,4,0,10,10,13,13,34,34,92,92,3,0,48,57,65,90,97,122,1,0,97,122,1,0,65,90,2,0,92,93,96,96,4,0,40,40,91,93,96,96,123,123,713,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,81,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,0,101,1,0,0,0,0,103,1,0,0,0,0,105,1,0,0,0,0,107,1,0,0,0,0,109,1,0,0,0,0,111,1,0,0,0,0,113,1,0,0,0,0,115,1,0,0,0,0,117,1,0,0,0,0,119,1,0,0,0,0,121,1,0,0,0,0,123,1,0,0,0,0,125,1,0,0,0,0,127,1,0,0,0,0,129,1,0,0,0,0,131,1,0,0,0,0,133,1,0,0,0,0,135,1,0,0,0,0,137,1,0,0,0,0,139,1,0,0,0,0,141,1,0,0,0,0,143,1,0,0,0,0,145,1,0,0,0,0,147,1,0,0,0,0,149,1,0,0,0,0,151,1,0,0,0,0,153,1,0,0,0,0,155,1,0,0,0,0,157,1,0,0,0,0,159,1,0,0,0,0,161,1,0,0,0,0,163,1,0,0,0,0,165,1,0,0,0,0,167,1,0,0,0,0,169,1,0,0,0,1,171,1,0,0,0,1,173,1,0,0,0,1,175,1,0,0,0,1,177,1,0,0,0,1,179,1,0,0,0,1,181,1,0,0,0,2,183,1,0,0,0,2,185,1,0,0,0,2,187,1,0,0,0,2,189,1,0,0,0,2,191,1,0,0,0,2,193,1,0,0,0,2,195,1,0,0,0,2,197,1,0,0,0,2,199,1,0,0,0,3,202,1,0,0,0,5,208,1,0,0,0,7,218,1,0,0,0,9,278,1,0,0,0,11,280,1,0,0,0,13,291,1,0,0,0,15,296,1,0,0,0,17,306,1,0,0,0,19,314,1,0,0,0,21,321,1,0,0,0,23,325,1,0,0,0,25,332,1,0,0,0,27,337,1,0,0,0,29,344,1,0,0,0,31,348,1,0,0,0,33,352,1,0,0,0,35,358,1,0,0,0,37,364,1,0,0,0,39,375,1,0,0,0,41,384,1,0,0,0,43,388,1,0,0,0,45,391,1,0,0,0,47,396,1,0,0,0,49,401,1,0,0,0,51,405,1,0,0,0,53,412,1,0,0,0,55,417,1,0,0,0,57,420,1,0,0,0,59,425,1,0,0,0,61,434,1,0,0,0,63,439,1,0,0,0,65,446,1,0,0,0,67,455,1,0,0,0,69,460,1,0,0,0,71,466,1,0,0,0,73,479,1,0,0,0,75,481,1,0,0,0,77,483,1,0,0,0,79,490,1,0,0,0,81,497,1,0,0,0,83,500,1,0,0,0,85,502,1,0,0,0,87,505,1,0,0,0,89,508,1,0,0,0,91,511,1,0,0,0,93,514,1,0,0,0,95,517,1,0,0,0,97,520,1,0,0,0,99,522,1,0,0,0,101,524,1,0,0,0,103,526,1,0,0,0,105,528,1,0,0,0,107,530,1,0,0,0,109,532,1,0,0,0,111,534,1,0,0,0,113,537,1,0,0,0,115,540,1,0,0,0,117,542,1,0,0,0,119,544,1,0,0,0,121,547,1,0,0,0,123,550,1,0,0,0,125,553,1,0,0,0,127,556,1,0,0,0,129,558,1,0,0,0,131,561,1,0,0,0,133,564,1,0,0,0,135,566,1,0,0,0,137,571,1,0,0,0,139,573,1,0,0,0,141,576,1,0,0,0,143,579,1,0,0,0,145,581,1,0,0,0,147,583,1,0,0,0,149,585,1,0,0,0,151,587,1,0,0,0,153,590,1,0,0,0,155,592,1,0,0,0,157,594,1,0,0,0,159,596,1,0,0,0,161,598,1,0,0,0,163,602,1,0,0,0,165,606,1,0,0,0,167,610,1,0,0,0,169,614,1,0,0,0,171,618,1,0,0,0,173,625,1,0,0,0,175,630,1,0,0,0,177,634,1,0,0,0,179,638,1,0,0,0,181,642,1,0,0,0,183,646,1,0,0,0,185,650,1,0,0,0,187,654,1,0,0,0,189,658,1,0,0,0,191,663,1,0,0,0,193,669,1,0,0,0,195,675,1,0,0,0,197,681,1,0,0,0,199,686,1,0,0,0,201,203,7,0,0,0,202,201,1,0,0,0,203,204,1,0,0,0,204,202,1,0,0,0,204,205,1,0,0,0,205,206,1,0,0,0,206,207,6,0,0,0,207,4,1,0,0,0,208,209,5,45,0,0,209,210,5,45,0,0,210,212,1,0,0,0,211,213,8,1,0,0,212,211,1,0,0,0,213,214,1,0,0,0,214,212,1,0,0,0,214,215,1,0,0,0,215,216,1,0,0,0,216,217,6,1,0,0,217,6,1,0,0,0,218,219,5,123,0,0,219,220,5,45,0,0,220,224,1,0,0,0,221,223,9,0,0,0,222,221,1,0,0,0,223,226,1,0,0,0,224,225,1,0,0,0,224,222,1,0,0,0,225,227,1,0,0,0,226,224,1,0,0,0,227,228,5,45,0,0,228,229,5,125,0,0,229,230,1,0,0,0,230,231,6,2,0,0,231,8,1,0,0,0,232,234,7,2,0,0,233,232,1,0,0,0,234,235,1,0,0,0,235,233,1,0,0,0,235,236,1,0,0,0,236,243,1,0,0,0,237,239,5,46,0,0,238,240,7,2,0,0,239,238,1,0,0,0,240,241,1,0,0,0,241,239,1,0,0,0,241,242,1,0,0,0,242,244,1,0,0,0,243,237,1,0,0,0,243,244,1,0,0,0,244,254,1,0,0,0,245,247,7,3,0,0,246,248,7,4,0,0,247,246,1,0,0,0,247,248,1,0,0,0,248,250,1,0,0,0,249,251,7,2,0,0,250,249,1,0,0,0,251,252,1,0,0,0,252,250,1,0,0,0,252,253,1,0,0,0,253,255,1,0,0,0,254,245,1,0,0,0,254,255,1,0,0,0,255,279,1,0,0,0,256,257,5,48,0,0,257,261,5,120,0,0,258,259,5,48,0,0,259,261,5,88,0,0,260,256,1,0,0,0,260,258,1,0,0,0,261,263,1,0,0,0,262,264,7,5,0,0,263,262,1,0,0,0,264,265,1,0,0,0,265,263,1,0,0,0,265,266,1,0,0,0,266,279,1,0,0,0,267,268,5,48,0,0,268,272,5,111,0,0,269,270,5,48,0,0,270,272,5,79,0,0,271,267,1,0,0,0,271,269,1,0,0,0,272,274,1,0,0,0,273,275,7,6,0,0,274,273,1,0,0,0,275,276,1,0,0,0,276,274,1,0,0,0,276,277,1,0,0,0,277,279,1,0,0,0,278,233,1,0,0,0,278,260,1,0,0,0,278,271,1,0,0,0,279,10,1,0,0,0,280,286,5,34,0,0,281,285,8,7,0,0,282,283,5,92,0,0,283,285,9,0,0,0,284,281,1,0,0,0,284,282,1,0,0,0,285,288,1,0,0,0,286,284,1,0,0,0,286,287,1,0,0,0,287,289,1,0,0,0,288,286,1,0,0,0,289,290,5,34,0,0,290,12,1,0,0,0,291,292,5,116,0,0,292,293,5,121,0,0,293,294,5,112,0,0,294,295,5,101,0,0,295,14,1,0,0,0,296,297,5,105,0,0,297,298,5,110,0,0,298,299,5,116,0,0,299,300,5,101,0,0,300,301,5,114,0,0,301,302,5,102,0,0,302,303,5,97,0,0,303,304,5,99,0,0,304,305,5,101,0,0,305,16,1,0,0,0,306,307,5,101,0,0,307,308,5,120,0,0,308,309,5,116,0,0,309,310,5,101,0,0,310,311,5,110,0,0,311,312,5,100,0,0,312,313,5,115,0,0,313,18,1,0,0,0,314,315,5,102,0,0,315,316,5,111,0,0,316,317,5,114,0,0,317,318,5,97,0,0,318,319,5,108,0,0,319,320,5,108,0,0,320,20,1,0,0,0,321,322,5,73,0,0,322,323,5,110,0,0,323,324,5,116,0,0,324,22,1,0,0,0,325,326,5,68,0,0,326,327,5,111,0,0,327,328,5,117,0,0,328,329,5,98,0,0,329,330,5,108,0,0,330,331,5,101,0,0,331,24,1,0,0,0,332,333,5,66,0,0,333,334,5,111,0,0,334,335,5,111,0,0,335,336,5,108,0,0,336,26,1,0,0,0,337,338,5,83,0,0,338,339,5,116,0,0,339,340,5,114,0,0,340,341,5,105,0,0,341,342,5,110,0,0,342,343,5,103,0,0,343,28,1,0,0,0,344,345,5,84,0,0,345,346,5,111,0,0,346,347,5,112,0,0,347,30,1,0,0,0,348,349,5,66,0,0,349,350,5,111,0,0,350,351,5,116,0,0,351,32,1,0,0,0,352,353,5,84,0,0,353,354,5,114,0,0,354,355,5,97,0,0,355,356,5,105,0,0,356,357,5,116,0,0,357,34,1,0,0,0,358,359,5,116,0,0,359,360,5,114,0,0,360,361,5,97,0,0,361,362,5,105,0,0,362,363,5,116,0,0,363,36,1,0,0,0,364,365,5,105,0,0,365,366,5,109,0,0,366,367,5,112,0,0,367,368,5,108,0,0,368,369,5,101,0,0,369,370,5,109,0,0,370,371,5,101,0,0,371,372,5,110,0,0,372,373,5,116,0,0,373,374,5,115,0,0,374,38,1,0,0,0,375,376,5,105,0,0,376,377,5,110,0,0,377,378,5,104,0,0,378,379,5,101,0,0,379,380,5,114,0,0,380,381,5,105,0,0,381,382,5,116,0,0,382,383,5,115,0,0,383,40,1,0,0,0,384,385,5,110,0,0,385,386,5,101,0,0,386,387,5,119,0,0,387,42,1,0,0,0,388,389,5,105,0,0,389,390,5,102,0,0,390,44,1,0,0,0,391,392,5,116,0,0,392,393,5,104,0,0,393,394,5,101,0,0,394,395,5,110,0,0,395,46,1,0,0,0,396,397,5,101,0,0,397,398,5,108,0,0,398,399,5,115,0,0,399,400,5,101,0,0,400,48,1,0,0,0,401,402,5,108,0,0,402,403,5,101,0,0,403,404,5,116,0,0,404,50,1,0,0,0,405,406,5,108,0,0,406,407,5,101,0,0,407,408,5,116,0,0,408,409,5,114,0,0,409,410,5,101,0,0,410,411,5,99,0,0,411,52,1,0,0,0,412,413,5,111,0,0,413,414,5,112,0,0,414,415,5,101,0,0,415,416,5,110,0,0,416,54,1,0,0,0,417,418,5,105,0,0,418,419,5,110,0,0,419,56,1,0,0,0,420,421,5,119,0,0,421,422,5,105,0,0,422,423,5,116,0,0,423,424,5,104,0,0,424,58,1,0,0,0,425,426,5,116,0,0,426,427,5,111,0,0,427,428,5,83,0,0,428,429,5,116,0,0,429,430,5,114,0,0,430,431,5,105,0,0,431,432,5,110,0,0,432,433,5,103,0,0,433,60,1,0,0,0,434,435,5,102,0,0,435,436,5,111,0,0,436,437,5,108,0,0,437,438,5,100,0,0,438,62,1,0,0,0,439,440,5,117,0,0,440,441,5,110,0,0,441,442,5,102,0,0,442,443,5,111,0,0,443,444,5,108,0,0,444,445,5,100,0,0,445,64,1,0,0,0,446,447,5,111,0,0,447,448,5,118,0,0,448,449,5,101,0,0,449,450,5,114,0,0,450,451,5,114,0,0,451,452,5,105,0,0,452,453,5,100,0,0,453,454,5,101,0,0,454,66,1,0,0,0,455,456,5,116,0,0,456,457,5,114,0,0,457,458,5,117,0,0,458,459,5,101,0,0,459,68,1,0,0,0,460,461,5,102,0,0,461,462,5,97,0,0,462,463,5,108,0,0,463,464,5,115,0,0,464,465,5,101,0,0,465,70,1,0,0,0,466,467,5,117,0,0,467,468,5,110,0,0,468,469,5,100,0,0,469,470,5,101,0,0,470,471,5,102,0,0,471,472,5,105,0,0,472,473,5,110,0,0,473,474,5,101,0,0,474,475,5,100,0,0,475,72,1,0,0,0,476,480,7,8,0,0,477,480,3,75,36,0,478,480,5,39,0,0,479,476,1,0,0,0,479,477,1,0,0,0,479,478,1,0,0,0,480,74,1,0,0,0,481,482,5,95,0,0,482,76,1,0,0,0,483,487,7,9,0,0,484,486,3,73,35,0,485,484,1,0,0,0,486,489,1,0,0,0,487,485,1,0,0,0,487,488,1,0,0,0,488,78,1,0,0,0,489,487,1,0,0,0,490,494,7,10,0,0,491,493,3,73,35,0,492,491,1,0,0,0,493,496,1,0,0,0,494,492,1,0,0,0,494,495,1,0,0,0,495,80,1,0,0,0,496,494,1,0,0,0,497,498,5,40,0,0,498,499,5,41,0,0,499,82,1,0,0,0,500,501,5,92,0,0,501,84,1,0,0,0,502,503,5,47,0,0,503,504,5,92,0,0,504,86,1,0,0,0,505,506,5,92,0,0,506,507,5,45,0,0,507,88,1,0,0,0,508,509,5,92,0,0,509,510,5,92,0,0,510,90,1,0,0,0,511,512,5,45,0,0,512,513,5,62,0,0,513,92,1,0,0,0,514,515,5,61,0,0,515,516,5,62,0,0,516,94,1,0,0,0,517,518,5,60,0,0,518,519,5,45,0,0,519,96,1,0,0,0,520,521,5,38,0,0,521,98,1,0,0,0,522,523,5,43,0,0,523,100,1,0,0,0,524,525,5,45,0,0,525,102,1,0,0,0,526,527,5,42,0,0,527,104,1,0,0,0,528,529,5,47,0,0,529,106,1,0,0,0,530,531,5,37,0,0,531,108,1,0,0,0,532,533,5,33,0,0,533,110,1,0,0,0,534,535,5,38,0,0,535,536,5,38,0,0,536,112,1,0,0,0,537,538,5,124,0,0,538,539,5,124,0,0,539,114,1,0,0,0,540,541,5,60,0,0,541,116,1,0,0,0,542,543,5,62,0,0,543,118,1,0,0,0,544,545,5,60,0,0,545,546,5,61,0,0,546,120,1,0,0,0,547,548,5,62,0,0,548,549,5,61,0,0,549,122,1,0,0,0,550,551,5,61,0,0,551,552,5,61,0,0,552,124,1,0,0,0,553,554,5,33,0,0,554,555,5,61,0,0,555,126,1,0,0,0,556,557,5,35,0,0,557,128,1,0,0,0,558,559,5,33,0,0,559,560,5,33,0,0,560,130,1,0,0,0,561,562,5,43,0,0,562,563,5,43,0,0,563,132,1,0,0,0,564,565,5,94,0,0,565,134,1,0,0,0,566,567,5,64,0,0,567,136,1,0,0,0,568,572,5,44,0,0,569,570,5,44,0,0,570,572,5,44,0,0,571,568,1,0,0,0,571,569,1,0,0,0,572,138,1,0,0,0,573,574,5,43,0,0,574,575,5,44,0,0,575,140,1,0,0,0,576,577,5,44,0,0,577,578,5,43,0,0,578,142,1,0,0,0,579,580,5,61,0,0,580,144,1,0,0,0,581,582,5,59,0,0,582,146,1,0,0,0,583,584,5,58,0,0,584,148,1,0,0,0,585,586,5,46,0,0,586,150,1,0,0,0,587,588,5,46,0,0,588,589,5,46,0,0,589,152,1,0,0,0,590,591,5,36,0,0,591,154,1,0,0,0,592,593,5,63,0,0,593,156,1,0,0,0,594,595,5,91,0,0,595,158,1,0,0,0,596,597,5,93,0,0,597,160,1,0,0,0,598,599,5,123,0,0,599,600,1,0,0,0,600,601,6,79,1,0,601,162,1,0,0,0,602,603,5,125,0,0,603,604,1,0,0,0,604,605,6,80,2,0,605,164,1,0,0,0,606,607,5,40,0,0,607,608,1,0,0,0,608,609,6,81,1,0,609,166,1,0,0,0,610,611,5,41,0,0,611,612,1,0,0,0,612,613,6,82,2,0,613,168,1,0,0,0,614,615,5,96,0,0,615,616,1,0,0,0,616,617,6,83,3,0,617,170,1,0,0,0,618,621,5,92,0,0,619,622,3,77,37,0,620,622,3,79,38,0,621,619,1,0,0,0,621,620,1,0,0,0,622,623,1,0,0,0,623,624,6,84,4,0,624,172,1,0,0,0,625,626,5,92,0,0,626,627,5,40,0,0,627,628,1,0,0,0,628,629,6,85,1,0,629,174,1,0,0,0,630,631,5,92,0,0,631,632,5,92,0,0,632,176,1,0,0,0,633,635,8,11,0,0,634,633,1,0,0,0,635,636,1,0,0,0,636,634,1,0,0,0,636,637,1,0,0,0,637,178,1,0,0,0,638,639,5,93,0,0,639,640,1,0,0,0,640,641,6,88,2,0,641,180,1,0,0,0,642,643,5,96,0,0,643,644,1,0,0,0,644,645,6,89,2,0,645,182,1,0,0,0,646,647,5,91,0,0,647,648,1,0,0,0,648,649,6,90,3,0,649,184,1,0,0,0,650,651,5,40,0,0,651,652,1,0,0,0,652,653,6,91,1,0,653,186,1,0,0,0,654,655,5,123,0,0,655,656,1,0,0,0,656,657,6,92,1,0,657,188,1,0,0,0,658,661,5,92,0,0,659,662,3,77,37,0,660,662,3,79,38,0,661,659,1,0,0,0,661,660,1,0,0,0,662,190,1,0,0,0,663,664,5,92,0,0,664,665,5,40,0,0,665,666,1,0,0,0,666,667,6,94,2,0,667,668,6,94,1,0,668,192,1,0,0,0,669,670,5,92,0,0,670,671,5,92,0,0,671,672,1,0,0,0,672,673,6,95,2,0,673,194,1,0,0,0,674,676,8,12,0,0,675,674,1,0,0,0,676,677,1,0,0,0,677,675,1,0,0,0,677,678,1,0,0,0,678,679,1,0,0,0,679,680,6,96,2,0,680,196,1,0,0,0,681,682,5,93,0,0,682,683,1,0,0,0,683,684,6,97,2,0,684,685,6,97,2,0,685,198,1,0,0,0,686,687,5,96,0,0,687,688,1,0,0,0,688,689,6,98,2,0,689,690,6,98,2,0,690,200,1,0,0,0,27,0,1,2,204,214,224,235,241,243,247,252,254,260,265,271,276,278,284,286,479,487,494,571,621,636,661,677,5,6,0,0,5,0,0,4,0,0,5,1,0,5,2,0]),sQ=iQ.decisionToState.map(((t,e)=>new rQ.dfa.DFA(t,e)));class oQ extends rQ.Lexer{static grammarFileName="CPLexer.g4";static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static modeNames=["DEFAULT_MODE","DOC_MODE","CMD_MODE"];static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'implements'","'inherits'","'new'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'!'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Int","Double","Bool","String","Top","Bot","TraitType","Trait","Implements","Inherits","New","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Not","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Int","Double","Bool","String","Top","Bot","TraitType","Trait","Implements","Inherits","New","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","IdChar","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Not","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];constructor(t){super(t),this._interp=new rQ.atn.LexerATNSimulator(this,iQ,sQ,new rQ.PredictionContextCache)}get atn(){return iQ}}oQ.EOF=rQ.Token.EOF,oQ.Whitespaces=1,oQ.LineComment=2,oQ.BlockComment=3,oQ.IntLit=4,oQ.StringLit=5,oQ.Type=6,oQ.Interface=7,oQ.Extends=8,oQ.ForAll=9,oQ.Int=10,oQ.Double=11,oQ.Bool=12,oQ.String=13,oQ.Top=14,oQ.Bot=15,oQ.TraitType=16,oQ.Trait=17,oQ.Implements=18,oQ.Inherits=19,oQ.New=20,oQ.If=21,oQ.Then=22,oQ.Else=23,oQ.Let=24,oQ.LetRec=25,oQ.Open=26,oQ.In=27,oQ.With=28,oQ.ToString=29,oQ.Fold=30,oQ.Unfold=31,oQ.Override=32,oQ.True_=33,oQ.False_=34,oQ.Undefined_=35,oQ.Underscore=36,oQ.LowerId=37,oQ.UpperId=38,oQ.Unit=39,oQ.Backslash=40,oQ.SlashBackslash=41,oQ.BackslashMinus=42,oQ.DoubleBackslashes=43,oQ.Arrow=44,oQ.FatArrow=45,oQ.LeftArrow=46,oQ.Intersect=47,oQ.Plus=48,oQ.Minus=49,oQ.Asterisk=50,oQ.Slash=51,oQ.Modulo=52,oQ.Not=53,oQ.And=54,oQ.Or=55,oQ.Less=56,oQ.Greater=57,oQ.LessEqual=58,oQ.GreaterEqual=59,oQ.Equal=60,oQ.NotEqual=61,oQ.Length=62,oQ.Index=63,oQ.Append=64,oQ.Forward=65,oQ.At=66,oQ.Merge=67,oQ.LeftistMerge=68,oQ.RightistMerge=69,oQ.Assign=70,oQ.Semicolon=71,oQ.Colon=72,oQ.Dot=73,oQ.DotDot=74,oQ.Dollar=75,oQ.Question=76,oQ.BracketOpen=77,oQ.BracketClose=78,oQ.BraceOpen=79,oQ.BraceClose=80,oQ.ParenOpen=81,oQ.ParenClose=82,oQ.BacktickOpen=83,oQ.Command=84,oQ.Interpolation=85,oQ.NewLine=86,oQ.PlainText=87,oQ.BracketCloseInDoc=88,oQ.BacktickClose=89,oQ.BracketOpenAsArg=90,oQ.ParenOpenAsArg=91,oQ.BraceOpenAsArg=92,oQ.CommandAfterCmd=93,oQ.InterpolationAfterCmd=94,oQ.NewLineAfterCmd=95,oQ.PlainTextAfterCmd=96,oQ.BracketCloseAfterCmd=97,oQ.BacktickCloseAfterCmd=98,oQ.DOC_MODE=1,oQ.CMD_MODE=2;class lQ extends rQ.tree.ParseTreeVisitor{visitProgram(t){return this.visitChildren(t)}visitDefinition(t){return this.visitChildren(t)}visitInterfaceDef(t){return this.visitChildren(t)}visitTypeDef(t){return this.visitChildren(t)}visitTermDef(t){return this.visitChildren(t)}visitType(t){return this.visitChildren(t)}visitBtype(t){return this.visitChildren(t)}visitAtype(t){return this.visitChildren(t)}visitRecordType(t){return this.visitChildren(t)}visitRecordTypeField(t){return this.visitChildren(t)}visitExpression(t){return this.visitChildren(t)}visitOpexpr(t){return this.visitChildren(t)}visitLexpr(t){return this.visitChildren(t)}visitLambda(t){return this.visitChildren(t)}visitBigLambda(t){return this.visitChildren(t)}visitLetIn(t){return this.visitChildren(t)}visitLetRec(t){return this.visitChildren(t)}visitOpenIn(t){return this.visitChildren(t)}visitIfElse(t){return this.visitChildren(t)}visitTrait(t){return this.visitChildren(t)}visitNewTrait(t){return this.visitChildren(t)}visitToStr(t){return this.visitChildren(t)}visitFold(t){return this.visitChildren(t)}visitUnfold(t){return this.visitChildren(t)}visitFexpr(t){return this.visitChildren(t)}visitExcludexpr(t){return this.visitChildren(t)}visitRenamexpr(t){return this.visitChildren(t)}visitDotexpr(t){return this.visitChildren(t)}visitAexpr(t){return this.visitChildren(t)}visitArray(t){return this.visitChildren(t)}visitRecord(t){return this.visitChildren(t)}visitRecordField(t){return this.visitChildren(t)}visitMethodPattern(t){return this.visitChildren(t)}visitDefaultPattern(t){return this.visitChildren(t)}visitRecordUpdate(t){return this.visitChildren(t)}visitTypeArg(t){return this.visitChildren(t)}visitTypeParam(t){return this.visitChildren(t)}visitTermParam(t){return this.visitChildren(t)}visitWildcard(t){return this.visitChildren(t)}visitSelfAnno(t){return this.visitChildren(t)}visitSort(t){return this.visitChildren(t)}visitTypeNameDecl(t){return this.visitChildren(t)}visitTypeName(t){return this.visitChildren(t)}visitTermNameDecl(t){return this.visitChildren(t)}visitCtorName(t){return this.visitChildren(t)}visitTermName(t){return this.visitChildren(t)}visitLabelDecl(t){return this.visitChildren(t)}visitLabel(t){return this.visitChildren(t)}visitDocument(t){return this.visitChildren(t)}visitDocElement(t){return this.visitChildren(t)}visitCommand(t){return this.visitChildren(t)}visitInterpolation(t){return this.visitChildren(t)}visitNewline(t){return this.visitChildren(t)}visitPlaintext(t){return this.visitChildren(t)}visitDocArg(t){return this.visitChildren(t)}visitRecordArgField(t){return this.visitChildren(t)}}const aQ=(new rQ.atn.ATNDeserializer).deserialize([4,1,98,761,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,1,0,5,0,114,8,0,10,0,12,0,117,9,0,1,0,1,0,1,0,1,1,1,1,1,1,3,1,125,8,1,1,2,1,2,1,2,1,2,1,2,1,2,5,2,133,8,2,10,2,12,2,136,9,2,1,2,5,2,139,8,2,10,2,12,2,142,9,2,1,2,1,2,3,2,146,8,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,5,3,157,8,3,10,3,12,3,160,9,3,1,3,5,3,163,8,3,10,3,12,3,166,9,3,1,3,1,3,1,3,1,3,1,4,1,4,5,4,174,8,4,10,4,12,4,177,9,4,1,4,5,4,180,8,4,10,4,12,4,183,9,4,1,4,1,4,3,4,187,8,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,4,5,196,8,5,11,5,12,5,197,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,3,5,208,8,5,1,5,1,5,1,5,1,5,5,5,214,8,5,10,5,12,5,217,9,5,3,5,219,8,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,230,8,5,10,5,12,5,233,9,5,1,6,1,6,1,6,1,6,1,6,5,6,240,8,6,10,6,12,6,243,9,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,3,7,261,8,7,1,8,1,8,1,8,1,8,5,8,267,8,8,10,8,12,8,270,9,8,1,8,3,8,273,8,8,1,8,1,8,1,9,1,9,3,9,279,8,9,1,9,1,9,1,9,1,10,1,10,1,10,3,10,287,8,10,1,11,1,11,1,11,1,11,3,11,293,8,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,5,11,322,8,11,10,11,12,11,325,9,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,3,12,339,8,12,1,13,1,13,4,13,343,8,13,11,13,12,13,344,1,13,1,13,1,13,1,14,1,14,4,14,352,8,14,11,14,12,14,353,1,14,1,14,1,14,1,15,1,15,1,15,5,15,362,8,15,10,15,12,15,365,9,15,1,15,5,15,368,8,15,10,15,12,15,371,9,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,5,16,381,8,16,10,16,12,16,384,9,16,1,16,5,16,387,8,16,10,16,12,16,390,9,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,3,19,413,8,19,1,19,1,19,3,19,417,8,19,1,19,1,19,3,19,421,8,19,1,19,1,19,1,19,1,19,3,19,427,8,19,1,19,1,19,3,19,431,8,19,1,19,1,19,3,19,435,8,19,1,19,1,19,3,19,439,8,19,1,20,1,20,1,20,1,21,1,21,1,21,1,22,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,3,24,457,8,24,1,24,1,24,5,24,461,8,24,10,24,12,24,464,9,24,1,25,1,25,1,25,1,25,1,25,3,25,471,8,25,1,26,1,26,1,26,1,26,1,26,1,26,1,26,3,26,480,8,26,1,27,1,27,1,27,5,27,485,8,27,10,27,12,27,488,9,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,28,3,28,507,8,28,1,29,1,29,1,29,1,29,5,29,513,8,29,10,29,12,29,516,9,29,1,29,3,29,519,8,29,1,29,1,29,1,30,1,30,1,30,1,30,3,30,527,8,30,1,30,1,30,5,30,531,8,30,10,30,12,30,534,9,30,1,30,1,30,1,30,3,30,539,8,30,3,30,541,8,30,1,30,1,30,1,31,3,31,546,8,31,1,31,3,31,549,8,31,1,31,1,31,5,31,553,8,31,10,31,12,31,556,9,31,1,31,1,31,1,31,1,32,3,32,562,8,32,1,32,1,32,1,32,3,32,567,8,32,1,32,1,32,1,32,5,32,572,8,32,10,32,12,32,575,9,32,1,32,1,32,1,32,1,32,5,32,581,8,32,10,32,12,32,584,9,32,1,32,1,32,1,32,1,33,1,33,3,33,591,8,33,1,33,1,33,1,33,5,33,596,8,33,10,33,12,33,599,9,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,34,5,34,613,8,34,10,34,12,34,616,9,34,1,34,1,34,1,34,1,34,3,34,622,8,34,1,34,1,34,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,36,1,36,3,36,636,8,36,1,37,1,37,1,37,1,37,1,37,3,37,643,8,37,1,37,1,37,1,37,1,37,1,37,3,37,650,8,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,5,38,659,8,38,10,38,12,38,662,9,38,1,38,1,38,1,38,1,39,1,39,1,39,1,39,3,39,671,8,39,1,39,1,39,1,40,1,40,1,40,3,40,678,8,40,1,41,1,41,1,42,1,42,1,43,1,43,1,44,1,44,1,45,1,45,1,46,1,46,1,47,1,47,1,48,1,48,5,48,696,8,48,10,48,12,48,699,9,48,1,48,1,48,1,49,1,49,1,49,1,49,3,49,707,8,49,1,50,1,50,5,50,711,8,50,10,50,12,50,714,9,50,1,51,1,51,1,51,1,51,1,52,1,52,1,53,1,53,1,54,1,54,5,54,726,8,54,10,54,12,54,729,9,54,1,54,1,54,1,54,1,54,1,54,1,54,1,54,1,54,1,54,5,54,740,8,54,10,54,12,54,743,9,54,1,54,3,54,746,8,54,1,54,3,54,749,8,54,1,55,1,55,5,55,753,8,55,10,55,12,55,756,9,55,1,55,1,55,1,55,1,55,0,2,10,22,56,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,0,12,3,0,49,49,53,53,62,62,1,0,50,52,1,0,48,49,1,0,56,61,2,0,42,42,67,69,1,0,37,38,2,0,89,89,98,98,2,0,84,84,93,93,2,0,85,85,94,94,2,0,86,86,95,95,2,0,87,87,96,96,2,0,88,88,97,97,828,0,115,1,0,0,0,2,124,1,0,0,0,4,126,1,0,0,0,6,150,1,0,0,0,8,171,1,0,0,0,10,218,1,0,0,0,12,234,1,0,0,0,14,260,1,0,0,0,16,262,1,0,0,0,18,276,1,0,0,0,20,283,1,0,0,0,22,292,1,0,0,0,24,338,1,0,0,0,26,340,1,0,0,0,28,349,1,0,0,0,30,358,1,0,0,0,32,377,1,0,0,0,34,398,1,0,0,0,36,403,1,0,0,0,38,438,1,0,0,0,40,440,1,0,0,0,42,443,1,0,0,0,44,446,1,0,0,0,46,450,1,0,0,0,48,456,1,0,0,0,50,465,1,0,0,0,52,472,1,0,0,0,54,481,1,0,0,0,56,506,1,0,0,0,58,508,1,0,0,0,60,522,1,0,0,0,62,545,1,0,0,0,64,561,1,0,0,0,66,590,1,0,0,0,68,603,1,0,0,0,70,625,1,0,0,0,72,635,1,0,0,0,74,649,1,0,0,0,76,651,1,0,0,0,78,666,1,0,0,0,80,674,1,0,0,0,82,679,1,0,0,0,84,681,1,0,0,0,86,683,1,0,0,0,88,685,1,0,0,0,90,687,1,0,0,0,92,689,1,0,0,0,94,691,1,0,0,0,96,693,1,0,0,0,98,706,1,0,0,0,100,708,1,0,0,0,102,715,1,0,0,0,104,719,1,0,0,0,106,721,1,0,0,0,108,748,1,0,0,0,110,750,1,0,0,0,112,114,3,2,1,0,113,112,1,0,0,0,114,117,1,0,0,0,115,113,1,0,0,0,115,116,1,0,0,0,116,118,1,0,0,0,117,115,1,0,0,0,118,119,3,20,10,0,119,120,5,0,0,1,120,1,1,0,0,0,121,125,3,4,2,0,122,125,3,6,3,0,123,125,3,8,4,0,124,121,1,0,0,0,124,122,1,0,0,0,124,123,1,0,0,0,125,3,1,0,0,0,126,127,5,7,0,0,127,134,3,82,41,0,128,129,5,56,0,0,129,130,3,82,41,0,130,131,5,57,0,0,131,133,1,0,0,0,132,128,1,0,0,0,133,136,1,0,0,0,134,132,1,0,0,0,134,135,1,0,0,0,135,140,1,0,0,0,136,134,1,0,0,0,137,139,3,82,41,0,138,137,1,0,0,0,139,142,1,0,0,0,140,138,1,0,0,0,140,141,1,0,0,0,141,145,1,0,0,0,142,140,1,0,0,0,143,144,5,8,0,0,144,146,3,12,6,0,145,143,1,0,0,0,145,146,1,0,0,0,146,147,1,0,0,0,147,148,3,16,8,0,148,149,5,71,0,0,149,5,1,0,0,0,150,151,5,6,0,0,151,158,3,82,41,0,152,153,5,56,0,0,153,154,3,82,41,0,154,155,5,57,0,0,155,157,1,0,0,0,156,152,1,0,0,0,157,160,1,0,0,0,158,156,1,0,0,0,158,159,1,0,0,0,159,164,1,0,0,0,160,158,1,0,0,0,161,163,3,82,41,0,162,161,1,0,0,0,163,166,1,0,0,0,164,162,1,0,0,0,164,165,1,0,0,0,165,167,1,0,0,0,166,164,1,0,0,0,167,168,5,70,0,0,168,169,3,10,5,0,169,170,5,71,0,0,170,7,1,0,0,0,171,175,3,86,43,0,172,174,3,72,36,0,173,172,1,0,0,0,174,177,1,0,0,0,175,173,1,0,0,0,175,176,1,0,0,0,176,181,1,0,0,0,177,175,1,0,0,0,178,180,3,74,37,0,179,178,1,0,0,0,180,183,1,0,0,0,181,179,1,0,0,0,181,182,1,0,0,0,182,186,1,0,0,0,183,181,1,0,0,0,184,185,5,72,0,0,185,187,3,10,5,0,186,184,1,0,0,0,186,187,1,0,0,0,187,188,1,0,0,0,188,189,5,70,0,0,189,190,3,20,10,0,190,191,5,71,0,0,191,9,1,0,0,0,192,193,6,5,-1,0,193,195,5,9,0,0,194,196,3,72,36,0,195,194,1,0,0,0,196,197,1,0,0,0,197,195,1,0,0,0,197,198,1,0,0,0,198,199,1,0,0,0,199,200,5,73,0,0,200,201,3,10,5,3,201,219,1,0,0,0,202,203,5,16,0,0,203,204,5,56,0,0,204,207,3,10,5,0,205,206,5,45,0,0,206,208,3,10,5,0,207,205,1,0,0,0,207,208,1,0,0,0,208,209,1,0,0,0,209,210,5,57,0,0,210,219,1,0,0,0,211,215,3,12,6,0,212,214,3,12,6,0,213,212,1,0,0,0,214,217,1,0,0,0,215,213,1,0,0,0,215,216,1,0,0,0,216,219,1,0,0,0,217,215,1,0,0,0,218,192,1,0,0,0,218,202,1,0,0,0,218,211,1,0,0,0,219,231,1,0,0,0,220,221,10,6,0,0,221,222,5,47,0,0,222,230,3,10,5,7,223,224,10,5,0,0,224,225,5,40,0,0,225,230,3,10,5,6,226,227,10,4,0,0,227,228,5,44,0,0,228,230,3,10,5,4,229,220,1,0,0,0,229,223,1,0,0,0,229,226,1,0,0,0,230,233,1,0,0,0,231,229,1,0,0,0,231,232,1,0,0,0,232,11,1,0,0,0,233,231,1,0,0,0,234,241,3,14,7,0,235,236,5,56,0,0,236,237,3,80,40,0,237,238,5,57,0,0,238,240,1,0,0,0,239,235,1,0,0,0,240,243,1,0,0,0,241,239,1,0,0,0,241,242,1,0,0,0,242,13,1,0,0,0,243,241,1,0,0,0,244,261,5,10,0,0,245,261,5,11,0,0,246,261,5,12,0,0,247,261,5,13,0,0,248,261,5,14,0,0,249,261,5,15,0,0,250,261,3,84,42,0,251,261,3,16,8,0,252,253,5,77,0,0,253,254,3,10,5,0,254,255,5,78,0,0,255,261,1,0,0,0,256,257,5,81,0,0,257,258,3,10,5,0,258,259,5,82,0,0,259,261,1,0,0,0,260,244,1,0,0,0,260,245,1,0,0,0,260,246,1,0,0,0,260,247,1,0,0,0,260,248,1,0,0,0,260,249,1,0,0,0,260,250,1,0,0,0,260,251,1,0,0,0,260,252,1,0,0,0,260,256,1,0,0,0,261,15,1,0,0,0,262,268,5,79,0,0,263,264,3,18,9,0,264,265,5,71,0,0,265,267,1,0,0,0,266,263,1,0,0,0,267,270,1,0,0,0,268,266,1,0,0,0,268,269,1,0,0,0,269,272,1,0,0,0,270,268,1,0,0,0,271,273,3,18,9,0,272,271,1,0,0,0,272,273,1,0,0,0,273,274,1,0,0,0,274,275,5,80,0,0,275,17,1,0,0,0,276,278,3,92,46,0,277,279,5,76,0,0,278,277,1,0,0,0,278,279,1,0,0,0,279,280,1,0,0,0,280,281,5,72,0,0,281,282,3,10,5,0,282,19,1,0,0,0,283,286,3,22,11,0,284,285,5,72,0,0,285,287,3,10,5,0,286,284,1,0,0,0,286,287,1,0,0,0,287,21,1,0,0,0,288,289,6,11,-1,0,289,293,3,24,12,0,290,291,7,0,0,0,291,293,3,22,11,10,292,288,1,0,0,0,292,290,1,0,0,0,293,323,1,0,0,0,294,295,10,9,0,0,295,296,5,63,0,0,296,322,3,22,11,10,297,298,10,8,0,0,298,299,7,1,0,0,299,322,3,22,11,9,300,301,10,7,0,0,301,302,7,2,0,0,302,322,3,22,11,8,303,304,10,6,0,0,304,305,5,64,0,0,305,322,3,22,11,7,306,307,10,5,0,0,307,308,7,3,0,0,308,322,3,22,11,6,309,310,10,4,0,0,310,311,5,54,0,0,311,322,3,22,11,4,312,313,10,3,0,0,313,314,5,55,0,0,314,322,3,22,11,3,315,316,10,2,0,0,316,317,5,65,0,0,317,322,3,22,11,3,318,319,10,1,0,0,319,320,7,4,0,0,320,322,3,22,11,2,321,294,1,0,0,0,321,297,1,0,0,0,321,300,1,0,0,0,321,303,1,0,0,0,321,306,1,0,0,0,321,309,1,0,0,0,321,312,1,0,0,0,321,315,1,0,0,0,321,318,1,0,0,0,322,325,1,0,0,0,323,321,1,0,0,0,323,324,1,0,0,0,324,23,1,0,0,0,325,323,1,0,0,0,326,339,3,48,24,0,327,339,3,26,13,0,328,339,3,28,14,0,329,339,3,30,15,0,330,339,3,32,16,0,331,339,3,34,17,0,332,339,3,36,18,0,333,339,3,38,19,0,334,339,3,40,20,0,335,339,3,42,21,0,336,339,3,44,22,0,337,339,3,46,23,0,338,326,1,0,0,0,338,327,1,0,0,0,338,328,1,0,0,0,338,329,1,0,0,0,338,330,1,0,0,0,338,331,1,0,0,0,338,332,1,0,0,0,338,333,1,0,0,0,338,334,1,0,0,0,338,335,1,0,0,0,338,336,1,0,0,0,338,337,1,0,0,0,339,25,1,0,0,0,340,342,5,40,0,0,341,343,3,74,37,0,342,341,1,0,0,0,343,344,1,0,0,0,344,342,1,0,0,0,344,345,1,0,0,0,345,346,1,0,0,0,346,347,5,44,0,0,347,348,3,20,10,0,348,27,1,0,0,0,349,351,5,41,0,0,350,352,3,72,36,0,351,350,1,0,0,0,352,353,1,0,0,0,353,351,1,0,0,0,353,354,1,0,0,0,354,355,1,0,0,0,355,356,5,73,0,0,356,357,3,20,10,0,357,29,1,0,0,0,358,359,5,24,0,0,359,363,3,86,43,0,360,362,3,72,36,0,361,360,1,0,0,0,362,365,1,0,0,0,363,361,1,0,0,0,363,364,1,0,0,0,364,369,1,0,0,0,365,363,1,0,0,0,366,368,3,74,37,0,367,366,1,0,0,0,368,371,1,0,0,0,369,367,1,0,0,0,369,370,1,0,0,0,370,372,1,0,0,0,371,369,1,0,0,0,372,373,5,70,0,0,373,374,3,20,10,0,374,375,5,27,0,0,375,376,3,20,10,0,376,31,1,0,0,0,377,378,5,25,0,0,378,382,3,86,43,0,379,381,3,72,36,0,380,379,1,0,0,0,381,384,1,0,0,0,382,380,1,0,0,0,382,383,1,0,0,0,383,388,1,0,0,0,384,382,1,0,0,0,385,387,3,74,37,0,386,385,1,0,0,0,387,390,1,0,0,0,388,386,1,0,0,0,388,389,1,0,0,0,389,391,1,0,0,0,390,388,1,0,0,0,391,392,5,72,0,0,392,393,3,10,5,0,393,394,5,70,0,0,394,395,3,20,10,0,395,396,5,27,0,0,396,397,3,20,10,0,397,33,1,0,0,0,398,399,5,26,0,0,399,400,3,20,10,0,400,401,5,27,0,0,401,402,3,20,10,0,402,35,1,0,0,0,403,404,5,21,0,0,404,405,3,20,10,0,405,406,5,22,0,0,406,407,3,20,10,0,407,408,5,23,0,0,408,409,3,20,10,0,409,37,1,0,0,0,410,412,5,17,0,0,411,413,3,78,39,0,412,411,1,0,0,0,412,413,1,0,0,0,413,416,1,0,0,0,414,415,5,18,0,0,415,417,3,10,5,0,416,414,1,0,0,0,416,417,1,0,0,0,417,420,1,0,0,0,418,419,5,19,0,0,419,421,3,22,11,0,420,418,1,0,0,0,420,421,1,0,0,0,421,422,1,0,0,0,422,423,5,45,0,0,423,439,3,22,11,0,424,426,5,17,0,0,425,427,3,78,39,0,426,425,1,0,0,0,426,427,1,0,0,0,427,430,1,0,0,0,428,429,5,19,0,0,429,431,3,22,11,0,430,428,1,0,0,0,430,431,1,0,0,0,431,434,1,0,0,0,432,433,5,18,0,0,433,435,3,10,5,0,434,432,1,0,0,0,434,435,1,0,0,0,435,436,1,0,0,0,436,437,5,45,0,0,437,439,3,22,11,0,438,410,1,0,0,0,438,424,1,0,0,0,439,39,1,0,0,0,440,441,5,20,0,0,441,442,3,22,11,0,442,41,1,0,0,0,443,444,5,29,0,0,444,445,3,54,27,0,445,43,1,0,0,0,446,447,5,30,0,0,447,448,3,70,35,0,448,449,3,54,27,0,449,45,1,0,0,0,450,451,5,31,0,0,451,452,3,70,35,0,452,453,3,54,27,0,453,47,1,0,0,0,454,457,3,88,44,0,455,457,3,50,25,0,456,454,1,0,0,0,456,455,1,0,0,0,457,462,1,0,0,0,458,461,3,50,25,0,459,461,3,70,35,0,460,458,1,0,0,0,460,459,1,0,0,0,461,464,1,0,0,0,462,460,1,0,0,0,462,463,1,0,0,0,463,49,1,0,0,0,464,462,1,0,0,0,465,470,3,52,26,0,466,467,5,43,0,0,467,471,3,12,6,0,468,469,5,40,0,0,469,471,3,94,47,0,470,466,1,0,0,0,470,468,1,0,0,0,470,471,1,0,0,0,471,51,1,0,0,0,472,479,3,54,27,0,473,474,5,77,0,0,474,475,3,94,47,0,475,476,5,46,0,0,476,477,3,92,46,0,477,478,5,78,0,0,478,480,1,0,0,0,479,473,1,0,0,0,479,480,1,0,0,0,480,53,1,0,0,0,481,486,3,56,28,0,482,483,5,73,0,0,483,485,3,94,47,0,484,482,1,0,0,0,485,488,1,0,0,0,486,484,1,0,0,0,486,487,1,0,0,0,487,55,1,0,0,0,488,486,1,0,0,0,489,507,3,90,45,0,490,507,5,4,0,0,491,507,5,5,0,0,492,507,3,96,48,0,493,507,5,39,0,0,494,507,5,33,0,0,495,507,5,34,0,0,496,507,5,35,0,0,497,507,3,58,29,0,498,507,3,60,30,0,499,507,3,68,34,0,500,501,5,75,0,0,501,507,3,88,44,0,502,503,5,81,0,0,503,504,3,20,10,0,504,505,5,82,0,0,505,507,1,0,0,0,506,489,1,0,0,0,506,490,1,0,0,0,506,491,1,0,0,0,506,492,1,0,0,0,506,493,1,0,0,0,506,494,1,0,0,0,506,495,1,0,0,0,506,496,1,0,0,0,506,497,1,0,0,0,506,498,1,0,0,0,506,499,1,0,0,0,506,500,1,0,0,0,506,502,1,0,0,0,507,57,1,0,0,0,508,514,5,77,0,0,509,510,3,20,10,0,510,511,5,71,0,0,511,513,1,0,0,0,512,509,1,0,0,0,513,516,1,0,0,0,514,512,1,0,0,0,514,515,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,517,519,3,20,10,0,518,517,1,0,0,0,518,519,1,0,0,0,519,520,1,0,0,0,520,521,5,78,0,0,521,59,1,0,0,0,522,532,5,79,0,0,523,527,3,62,31,0,524,527,3,64,32,0,525,527,3,66,33,0,526,523,1,0,0,0,526,524,1,0,0,0,526,525,1,0,0,0,527,528,1,0,0,0,528,529,5,71,0,0,529,531,1,0,0,0,530,526,1,0,0,0,531,534,1,0,0,0,532,530,1,0,0,0,532,533,1,0,0,0,533,540,1,0,0,0,534,532,1,0,0,0,535,539,3,62,31,0,536,539,3,64,32,0,537,539,3,66,33,0,538,535,1,0,0,0,538,536,1,0,0,0,538,537,1,0,0,0,539,541,1,0,0,0,540,538,1,0,0,0,540,541,1,0,0,0,541,542,1,0,0,0,542,543,5,80,0,0,543,61,1,0,0,0,544,546,5,32,0,0,545,544,1,0,0,0,545,546,1,0,0,0,546,548,1,0,0,0,547,549,3,78,39,0,548,547,1,0,0,0,548,549,1,0,0,0,549,550,1,0,0,0,550,554,3,92,46,0,551,553,3,74,37,0,552,551,1,0,0,0,553,556,1,0,0,0,554,552,1,0,0,0,554,555,1,0,0,0,555,557,1,0,0,0,556,554,1,0,0,0,557,558,5,70,0,0,558,559,3,20,10,0,559,63,1,0,0,0,560,562,5,32,0,0,561,560,1,0,0,0,561,562,1,0,0,0,562,566,1,0,0,0,563,564,3,78,39,0,564,565,5,66,0,0,565,567,1,0,0,0,566,563,1,0,0,0,566,567,1,0,0,0,567,568,1,0,0,0,568,569,5,81,0,0,569,573,3,92,46,0,570,572,3,74,37,0,571,570,1,0,0,0,572,575,1,0,0,0,573,571,1,0,0,0,573,574,1,0,0,0,574,576,1,0,0,0,575,573,1,0,0,0,576,577,5,82,0,0,577,578,5,73,0,0,578,582,3,92,46,0,579,581,3,74,37,0,580,579,1,0,0,0,581,584,1,0,0,0,582,580,1,0,0,0,582,583,1,0,0,0,583,585,1,0,0,0,584,582,1,0,0,0,585,586,5,70,0,0,586,587,3,20,10,0,587,65,1,0,0,0,588,591,5,36,0,0,589,591,3,78,39,0,590,588,1,0,0,0,590,589,1,0,0,0,591,592,1,0,0,0,592,593,5,73,0,0,593,597,3,92,46,0,594,596,3,74,37,0,595,594,1,0,0,0,596,599,1,0,0,0,597,595,1,0,0,0,597,598,1,0,0,0,598,600,1,0,0,0,599,597,1,0,0,0,600,601,5,70,0,0,601,602,3,20,10,0,602,67,1,0,0,0,603,604,5,79,0,0,604,605,3,20,10,0,605,614,5,28,0,0,606,607,3,92,46,0,607,608,5,70,0,0,608,609,3,20,10,0,609,610,1,0,0,0,610,611,5,71,0,0,611,613,1,0,0,0,612,606,1,0,0,0,613,616,1,0,0,0,614,612,1,0,0,0,614,615,1,0,0,0,615,621,1,0,0,0,616,614,1,0,0,0,617,618,3,92,46,0,618,619,5,70,0,0,619,620,3,20,10,0,620,622,1,0,0,0,621,617,1,0,0,0,621,622,1,0,0,0,622,623,1,0,0,0,623,624,5,80,0,0,624,69,1,0,0,0,625,626,5,66,0,0,626,627,3,12,6,0,627,71,1,0,0,0,628,636,3,82,41,0,629,630,5,81,0,0,630,631,3,82,41,0,631,632,5,50,0,0,632,633,3,10,5,0,633,634,5,82,0,0,634,636,1,0,0,0,635,628,1,0,0,0,635,629,1,0,0,0,636,73,1,0,0,0,637,650,3,86,43,0,638,650,5,36,0,0,639,642,5,81,0,0,640,643,3,86,43,0,641,643,5,36,0,0,642,640,1,0,0,0,642,641,1,0,0,0,643,644,1,0,0,0,644,645,5,72,0,0,645,646,3,10,5,0,646,647,5,82,0,0,647,650,1,0,0,0,648,650,3,76,38,0,649,637,1,0,0,0,649,638,1,0,0,0,649,639,1,0,0,0,649,648,1,0,0,0,650,75,1,0,0,0,651,660,5,79,0,0,652,653,3,92,46,0,653,654,5,70,0,0,654,655,3,20,10,0,655,656,1,0,0,0,656,657,5,71,0,0,657,659,1,0,0,0,658,652,1,0,0,0,659,662,1,0,0,0,660,658,1,0,0,0,660,661,1,0,0,0,661,663,1,0,0,0,662,660,1,0,0,0,663,664,5,74,0,0,664,665,5,80,0,0,665,77,1,0,0,0,666,667,5,77,0,0,667,670,3,86,43,0,668,669,5,72,0,0,669,671,3,10,5,0,670,668,1,0,0,0,670,671,1,0,0,0,671,672,1,0,0,0,672,673,5,78,0,0,673,79,1,0,0,0,674,677,3,10,5,0,675,676,5,45,0,0,676,678,3,10,5,0,677,675,1,0,0,0,677,678,1,0,0,0,678,81,1,0,0,0,679,680,5,38,0,0,680,83,1,0,0,0,681,682,5,38,0,0,682,85,1,0,0,0,683,684,5,37,0,0,684,87,1,0,0,0,685,686,5,38,0,0,686,89,1,0,0,0,687,688,7,5,0,0,688,91,1,0,0,0,689,690,7,5,0,0,690,93,1,0,0,0,691,692,7,5,0,0,692,95,1,0,0,0,693,697,5,83,0,0,694,696,3,98,49,0,695,694,1,0,0,0,696,699,1,0,0,0,697,695,1,0,0,0,697,698,1,0,0,0,698,700,1,0,0,0,699,697,1,0,0,0,700,701,7,6,0,0,701,97,1,0,0,0,702,707,3,100,50,0,703,707,3,102,51,0,704,707,3,104,52,0,705,707,3,106,53,0,706,702,1,0,0,0,706,703,1,0,0,0,706,704,1,0,0,0,706,705,1,0,0,0,707,99,1,0,0,0,708,712,7,7,0,0,709,711,3,108,54,0,710,709,1,0,0,0,711,714,1,0,0,0,712,710,1,0,0,0,712,713,1,0,0,0,713,101,1,0,0,0,714,712,1,0,0,0,715,716,7,8,0,0,716,717,3,20,10,0,717,718,5,82,0,0,718,103,1,0,0,0,719,720,7,9,0,0,720,105,1,0,0,0,721,722,7,10,0,0,722,107,1,0,0,0,723,727,5,90,0,0,724,726,3,98,49,0,725,724,1,0,0,0,726,729,1,0,0,0,727,725,1,0,0,0,727,728,1,0,0,0,728,730,1,0,0,0,729,727,1,0,0,0,730,749,7,11,0,0,731,732,5,91,0,0,732,733,3,20,10,0,733,734,5,82,0,0,734,749,1,0,0,0,735,741,5,92,0,0,736,737,3,110,55,0,737,738,5,71,0,0,738,740,1,0,0,0,739,736,1,0,0,0,740,743,1,0,0,0,741,739,1,0,0,0,741,742,1,0,0,0,742,745,1,0,0,0,743,741,1,0,0,0,744,746,3,110,55,0,745,744,1,0,0,0,745,746,1,0,0,0,746,747,1,0,0,0,747,749,5,80,0,0,748,723,1,0,0,0,748,731,1,0,0,0,748,735,1,0,0,0,749,109,1,0,0,0,750,754,3,92,46,0,751,753,3,74,37,0,752,751,1,0,0,0,753,756,1,0,0,0,754,752,1,0,0,0,754,755,1,0,0,0,755,757,1,0,0,0,756,754,1,0,0,0,757,758,5,70,0,0,758,759,3,20,10,0,759,111,1,0,0,0,77,115,124,134,140,145,158,164,175,181,186,197,207,215,218,229,231,241,260,268,272,278,286,292,321,323,338,344,353,363,369,382,388,412,416,420,426,430,434,438,456,460,462,470,479,486,506,514,518,526,532,538,540,545,548,554,561,566,573,582,590,597,614,621,635,642,649,660,670,677,697,706,712,727,741,745,748,754]),uQ=aQ.decisionToState.map(((t,e)=>new rQ.dfa.DFA(t,e))),cQ=new rQ.PredictionContextCache;class hQ extends rQ.Parser{static grammarFileName="CPParser.g4";static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'implements'","'inherits'","'new'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'!'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Int","Double","Bool","String","Top","Bot","TraitType","Trait","Implements","Inherits","New","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Not","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["program","definition","interfaceDef","typeDef","termDef","type","btype","atype","recordType","recordTypeField","expression","opexpr","lexpr","lambda","bigLambda","letIn","letRec","openIn","ifElse","trait","newTrait","toStr","fold","unfold","fexpr","excludexpr","renamexpr","dotexpr","aexpr","array","record","recordField","methodPattern","defaultPattern","recordUpdate","typeArg","typeParam","termParam","wildcard","selfAnno","sort","typeNameDecl","typeName","termNameDecl","ctorName","termName","labelDecl","label","document","docElement","command","interpolation","newline","plaintext","docArg","recordArgField"];constructor(t){super(t),this._interp=new rQ.atn.ParserATNSimulator(this,aQ,uQ,cQ),this.ruleNames=hQ.ruleNames,this.literalNames=hQ.literalNames,this.symbolicNames=hQ.symbolicNames}get atn(){return aQ}sempred(t,e,n){switch(e){case 5:return this.type_sempred(t,n);case 11:return this.opexpr_sempred(t,n);default:throw"No predicate with index:"+e}}type_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,6);case 1:return this.precpred(this._ctx,5);case 2:return this.precpred(this._ctx,4);default:throw"No predicate with index:"+e}}opexpr_sempred(t,e){switch(e){case 3:return this.precpred(this._ctx,9);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,7);case 6:return this.precpred(this._ctx,6);case 7:return this.precpred(this._ctx,5);case 8:return this.precpred(this._ctx,4);case 9:return this.precpred(this._ctx,3);case 10:return this.precpred(this._ctx,2);case 11:return this.precpred(this._ctx,1);default:throw"No predicate with index:"+e}}program(){let t=new fQ(this,this._ctx,this.state);this.enterRule(t,0,hQ.RULE_program);try{this.enterOuterAlt(t,1),this.state=115,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,0,this._ctx);2!=e&&e!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=112,this.definition()),this.state=117,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,0,this._ctx);this.state=118,this.expression(),this.state=119,this.match(hQ.EOF)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}definition(){let t=new vQ(this,this._ctx,this.state);this.enterRule(t,2,hQ.RULE_definition);try{switch(this.state=124,this._errHandler.sync(this),this._input.LA(1)){case hQ.Interface:this.enterOuterAlt(t,1),this.state=121,this.interfaceDef();break;case hQ.Type:this.enterOuterAlt(t,2),this.state=122,this.typeDef();break;case hQ.LowerId:this.enterOuterAlt(t,3),this.state=123,this.termDef();break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interfaceDef(){let t=new dQ(this,this._ctx,this.state);this.enterRule(t,4,hQ.RULE_interfaceDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=126,this.match(hQ.Interface),this.state=127,this.typeNameDecl(),this.state=134,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Less;)this.state=128,this.match(hQ.Less),this.state=129,this.typeNameDecl(),this.state=130,this.match(hQ.Greater),this.state=136,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=140,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.UpperId;)this.state=137,this.typeNameDecl(),this.state=142,this._errHandler.sync(this),e=this._input.LA(1);this.state=145,this._errHandler.sync(this),(e=this._input.LA(1))===hQ.Extends&&(this.state=143,this.match(hQ.Extends),this.state=144,this.btype()),this.state=147,this.recordType(),this.state=148,this.match(hQ.Semicolon)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeDef(){let t=new gQ(this,this._ctx,this.state);this.enterRule(t,6,hQ.RULE_typeDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=150,this.match(hQ.Type),this.state=151,this.typeNameDecl(),this.state=158,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Less;)this.state=152,this.match(hQ.Less),this.state=153,this.typeNameDecl(),this.state=154,this.match(hQ.Greater),this.state=160,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=164,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.UpperId;)this.state=161,this.typeNameDecl(),this.state=166,this._errHandler.sync(this),e=this._input.LA(1);this.state=167,this.match(hQ.Assign),this.state=168,this.type(0),this.state=169,this.match(hQ.Semicolon)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termDef(){let t=new pQ(this,this._ctx,this.state);this.enterRule(t,8,hQ.RULE_termDef);var e=0;try{this.enterOuterAlt(t,1),this.state=171,this.termNameDecl(),this.state=175,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,7,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=172,this.typeParam()),this.state=177,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,7,this._ctx);for(this.state=181,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=178,this.termParam(),this.state=183,this._errHandler.sync(this),e=this._input.LA(1);this.state=186,this._errHandler.sync(this),(e=this._input.LA(1))===hQ.Colon&&(this.state=184,this.match(hQ.Colon),this.state=185,this.type(0)),this.state=188,this.match(hQ.Assign),this.state=189,this.expression(),this.state=190,this.match(hQ.Semicolon)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}type(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new mQ(this,this._ctx,n),i=r;this.enterRecursionRule(r,10,hQ.RULE_type,t);var s=0;try{switch(this.enterOuterAlt(r,1),this.state=218,this._errHandler.sync(this),this._input.LA(1)){case hQ.ForAll:this.state=193,this.match(hQ.ForAll),this.state=195,this._errHandler.sync(this),s=this._input.LA(1);do{this.state=194,this.typeParam(),this.state=197,this._errHandler.sync(this),s=this._input.LA(1)}while(s===hQ.UpperId||s===hQ.ParenOpen);this.state=199,this.match(hQ.Dot),this.state=200,this.type(3);break;case hQ.TraitType:this.state=202,this.match(hQ.TraitType),this.state=203,this.match(hQ.Less),this.state=204,this.type(0),this.state=207,this._errHandler.sync(this),(s=this._input.LA(1))===hQ.FatArrow&&(this.state=205,this.match(hQ.FatArrow),this.state=206,this.type(0)),this.state=209,this.match(hQ.Greater);break;case hQ.Int:case hQ.Double:case hQ.Bool:case hQ.String:case hQ.Top:case hQ.Bot:case hQ.UpperId:case hQ.BracketOpen:case hQ.BraceOpen:case hQ.ParenOpen:this.state=211,this.btype(),this.state=215,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,12,this._ctx);2!=o&&o!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=212,this.btype()),this.state=217,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,12,this._ctx);break;default:throw new rQ.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=231,this._errHandler.sync(this);for(o=this._interp.adaptivePredict(this._input,15,this._ctx);2!=o&&o!=rQ.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=229,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:if(r=new mQ(this,e,n),this.pushNewRecursionContext(r,10,hQ.RULE_type),this.state=220,!this.precpred(this._ctx,6))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=221,this.match(hQ.Intersect),this.state=222,this.type(7);break;case 2:if(r=new mQ(this,e,n),this.pushNewRecursionContext(r,10,hQ.RULE_type),this.state=223,!this.precpred(this._ctx,5))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=224,this.match(hQ.Backslash),this.state=225,this.type(6);break;case 3:if(r=new mQ(this,e,n),this.pushNewRecursionContext(r,10,hQ.RULE_type),this.state=226,!this.precpred(this._ctx,4))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=227,this.match(hQ.Arrow),this.state=228,this.type(4)}this.state=233,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,15,this._ctx)}}catch(t){if(!(t instanceof rQ.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}btype(){let t=new RQ(this,this._ctx,this.state);this.enterRule(t,12,hQ.RULE_btype);try{this.enterOuterAlt(t,1),this.state=234,this.atype(),this.state=241,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=235,this.match(hQ.Less),this.state=236,this.sort(),this.state=237,this.match(hQ.Greater)),this.state=243,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}atype(){let t=new OQ(this,this._ctx,this.state);this.enterRule(t,14,hQ.RULE_atype);try{switch(this.state=260,this._errHandler.sync(this),this._input.LA(1)){case hQ.Int:this.enterOuterAlt(t,1),this.state=244,this.match(hQ.Int);break;case hQ.Double:this.enterOuterAlt(t,2),this.state=245,this.match(hQ.Double);break;case hQ.Bool:this.enterOuterAlt(t,3),this.state=246,this.match(hQ.Bool);break;case hQ.String:this.enterOuterAlt(t,4),this.state=247,this.match(hQ.String);break;case hQ.Top:this.enterOuterAlt(t,5),this.state=248,this.match(hQ.Top);break;case hQ.Bot:this.enterOuterAlt(t,6),this.state=249,this.match(hQ.Bot);break;case hQ.UpperId:this.enterOuterAlt(t,7),this.state=250,this.typeName();break;case hQ.BraceOpen:this.enterOuterAlt(t,8),this.state=251,this.recordType();break;case hQ.BracketOpen:this.enterOuterAlt(t,9),this.state=252,this.match(hQ.BracketOpen),this.state=253,this.type(0),this.state=254,this.match(hQ.BracketClose);break;case hQ.ParenOpen:this.enterOuterAlt(t,10),this.state=256,this.match(hQ.ParenOpen),this.state=257,this.type(0),this.state=258,this.match(hQ.ParenClose);break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordType(){let t=new wQ(this,this._ctx,this.state);this.enterRule(t,16,hQ.RULE_recordType);var e=0;try{this.enterOuterAlt(t,1),this.state=262,this.match(hQ.BraceOpen),this.state=268,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,18,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=263,this.recordTypeField(),this.state=264,this.match(hQ.Semicolon)),this.state=270,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,18,this._ctx);this.state=272,this._errHandler.sync(this),(e=this._input.LA(1))!==hQ.LowerId&&e!==hQ.UpperId||(this.state=271,this.recordTypeField()),this.state=274,this.match(hQ.BraceClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordTypeField(){let t=new xQ(this,this._ctx,this.state);this.enterRule(t,18,hQ.RULE_recordTypeField);try{this.enterOuterAlt(t,1),this.state=276,this.labelDecl(),this.state=278,this._errHandler.sync(this),this._input.LA(1)===hQ.Question&&(this.state=277,this.match(hQ.Question)),this.state=280,this.match(hQ.Colon),this.state=281,this.type(0)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}expression(){let t=new yQ(this,this._ctx,this.state);this.enterRule(t,20,hQ.RULE_expression);try{this.enterOuterAlt(t,1),this.state=283,this.opexpr(0),this.state=286,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,21,this._ctx)&&(this.state=284,this.match(hQ.Colon),this.state=285,this.type(0))}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}opexpr(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new bQ(this,this._ctx,n),i=r;const s=22;this.enterRecursionRule(r,22,hQ.RULE_opexpr,t);var o=0;try{switch(this.enterOuterAlt(r,1),this.state=292,this._errHandler.sync(this),this._input.LA(1)){case hQ.IntLit:case hQ.StringLit:case hQ.Trait:case hQ.New:case hQ.If:case hQ.Let:case hQ.LetRec:case hQ.Open:case hQ.ToString:case hQ.Fold:case hQ.Unfold:case hQ.True_:case hQ.False_:case hQ.Undefined_:case hQ.LowerId:case hQ.UpperId:case hQ.Unit:case hQ.Backslash:case hQ.SlashBackslash:case hQ.Dollar:case hQ.BracketOpen:case hQ.BraceOpen:case hQ.ParenOpen:case hQ.BacktickOpen:this.state=289,this.lexpr();break;case hQ.Minus:case hQ.Not:case hQ.Length:this.state=290,0!=((o=this._input.LA(1))-49&-32)||0==(1<<o-49&(1<<hQ.Minus-49|1<<hQ.Not-49|1<<hQ.Length-49))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=291,this.opexpr(10);break;default:throw new rQ.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=323,this._errHandler.sync(this);for(var l=this._interp.adaptivePredict(this._input,24,this._ctx);2!=l&&l!=rQ.atn.ATN.INVALID_ALT_NUMBER;){if(1===l)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=321,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=294,!this.precpred(this._ctx,9))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 9)");this.state=295,this.match(hQ.Index),this.state=296,this.opexpr(10);break;case 2:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=297,!this.precpred(this._ctx,8))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=298,0!=((o=this._input.LA(1))-50&-32)||0==(1<<o-50&(1<<hQ.Asterisk-50|1<<hQ.Slash-50|1<<hQ.Modulo-50))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=299,this.opexpr(9);break;case 3:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=300,!this.precpred(this._ctx,7))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=301,(o=this._input.LA(1))!==hQ.Plus&&o!==hQ.Minus?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=302,this.opexpr(8);break;case 4:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=303,!this.precpred(this._ctx,6))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=304,this.match(hQ.Append),this.state=305,this.opexpr(7);break;case 5:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=306,!this.precpred(this._ctx,5))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=307,0!=((o=this._input.LA(1))-56&-32)||0==(1<<o-56&(1<<hQ.Less-56|1<<hQ.Greater-56|1<<hQ.LessEqual-56|1<<hQ.GreaterEqual-56|1<<hQ.Equal-56|1<<hQ.NotEqual-56))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=308,this.opexpr(6);break;case 6:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=309,!this.precpred(this._ctx,4))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=310,this.match(hQ.And),this.state=311,this.opexpr(4);break;case 7:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=312,!this.precpred(this._ctx,3))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)");this.state=313,this.match(hQ.Or),this.state=314,this.opexpr(3);break;case 8:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=315,!this.precpred(this._ctx,2))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=316,this.match(hQ.Forward),this.state=317,this.opexpr(3);break;case 9:if(r=new bQ(this,e,n),this.pushNewRecursionContext(r,s,hQ.RULE_opexpr),this.state=318,!this.precpred(this._ctx,1))throw new rQ.error.FailedPredicateException(this,"this.precpred(this._ctx, 1)");this.state=319,0!=((o=this._input.LA(1))-42&-32)||0==(1<<o-42&(1<<hQ.BackslashMinus-42|1<<hQ.Merge-42|1<<hQ.LeftistMerge-42|1<<hQ.RightistMerge-42))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=320,this.opexpr(2)}this.state=325,this._errHandler.sync(this),l=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof rQ.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}lexpr(){let t=new CQ(this,this._ctx,this.state);this.enterRule(t,24,hQ.RULE_lexpr);try{switch(this.state=338,this._errHandler.sync(this),this._input.LA(1)){case hQ.IntLit:case hQ.StringLit:case hQ.True_:case hQ.False_:case hQ.Undefined_:case hQ.LowerId:case hQ.UpperId:case hQ.Unit:case hQ.Dollar:case hQ.BracketOpen:case hQ.BraceOpen:case hQ.ParenOpen:case hQ.BacktickOpen:this.enterOuterAlt(t,1),this.state=326,this.fexpr();break;case hQ.Backslash:this.enterOuterAlt(t,2),this.state=327,this.lambda();break;case hQ.SlashBackslash:this.enterOuterAlt(t,3),this.state=328,this.bigLambda();break;case hQ.Let:this.enterOuterAlt(t,4),this.state=329,this.letIn();break;case hQ.LetRec:this.enterOuterAlt(t,5),this.state=330,this.letRec();break;case hQ.Open:this.enterOuterAlt(t,6),this.state=331,this.openIn();break;case hQ.If:this.enterOuterAlt(t,7),this.state=332,this.ifElse();break;case hQ.Trait:this.enterOuterAlt(t,8),this.state=333,this.trait();break;case hQ.New:this.enterOuterAlt(t,9),this.state=334,this.newTrait();break;case hQ.ToString:this.enterOuterAlt(t,10),this.state=335,this.toStr();break;case hQ.Fold:this.enterOuterAlt(t,11),this.state=336,this.fold();break;case hQ.Unfold:this.enterOuterAlt(t,12),this.state=337,this.unfold();break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}lambda(){let t=new SQ(this,this._ctx,this.state);this.enterRule(t,26,hQ.RULE_lambda);var e=0;try{this.enterOuterAlt(t,1),this.state=340,this.match(hQ.Backslash),this.state=342,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=341,this.termParam(),this.state=344,this._errHandler.sync(this),e=this._input.LA(1)}while(e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen);this.state=346,this.match(hQ.Arrow),this.state=347,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}bigLambda(){let t=new TQ(this,this._ctx,this.state);this.enterRule(t,28,hQ.RULE_bigLambda);var e=0;try{this.enterOuterAlt(t,1),this.state=349,this.match(hQ.SlashBackslash),this.state=351,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=350,this.typeParam(),this.state=353,this._errHandler.sync(this),e=this._input.LA(1)}while(e===hQ.UpperId||e===hQ.ParenOpen);this.state=355,this.match(hQ.Dot),this.state=356,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letIn(){let t=new kQ(this,this._ctx,this.state);this.enterRule(t,30,hQ.RULE_letIn);var e=0;try{this.enterOuterAlt(t,1),this.state=358,this.match(hQ.Let),this.state=359,this.termNameDecl(),this.state=363,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,28,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=360,this.typeParam()),this.state=365,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,28,this._ctx);for(this.state=369,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=366,this.termParam(),this.state=371,this._errHandler.sync(this),e=this._input.LA(1);this.state=372,this.match(hQ.Assign),this.state=373,this.expression(),this.state=374,this.match(hQ.In),this.state=375,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letRec(){let t=new AQ(this,this._ctx,this.state);this.enterRule(t,32,hQ.RULE_letRec);var e=0;try{this.enterOuterAlt(t,1),this.state=377,this.match(hQ.LetRec),this.state=378,this.termNameDecl(),this.state=382,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,30,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=379,this.typeParam()),this.state=384,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,30,this._ctx);for(this.state=388,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=385,this.termParam(),this.state=390,this._errHandler.sync(this),e=this._input.LA(1);this.state=391,this.match(hQ.Colon),this.state=392,this.type(0),this.state=393,this.match(hQ.Assign),this.state=394,this.expression(),this.state=395,this.match(hQ.In),this.state=396,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}openIn(){let t=new PQ(this,this._ctx,this.state);this.enterRule(t,34,hQ.RULE_openIn);try{this.enterOuterAlt(t,1),this.state=398,this.match(hQ.Open),this.state=399,this.expression(),this.state=400,this.match(hQ.In),this.state=401,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ifElse(){let t=new EQ(this,this._ctx,this.state);this.enterRule(t,36,hQ.RULE_ifElse);try{this.enterOuterAlt(t,1),this.state=403,this.match(hQ.If),this.state=404,this.expression(),this.state=405,this.match(hQ.Then),this.state=406,this.expression(),this.state=407,this.match(hQ.Else),this.state=408,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}trait(){let t=new _Q(this,this._ctx,this.state);this.enterRule(t,38,hQ.RULE_trait);try{switch(this.state=438,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,38,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=410,this.match(hQ.Trait),this.state=412,this._errHandler.sync(this),this._input.LA(1)===hQ.BracketOpen&&(this.state=411,this.selfAnno()),this.state=416,this._errHandler.sync(this),this._input.LA(1)===hQ.Implements&&(this.state=414,this.match(hQ.Implements),this.state=415,this.type(0)),this.state=420,this._errHandler.sync(this),this._input.LA(1)===hQ.Inherits&&(this.state=418,this.match(hQ.Inherits),this.state=419,this.opexpr(0)),this.state=422,this.match(hQ.FatArrow),this.state=423,this.opexpr(0);break;case 2:this.enterOuterAlt(t,2),this.state=424,this.match(hQ.Trait),this.state=426,this._errHandler.sync(this),this._input.LA(1)===hQ.BracketOpen&&(this.state=425,this.selfAnno()),this.state=430,this._errHandler.sync(this),this._input.LA(1)===hQ.Inherits&&(this.state=428,this.match(hQ.Inherits),this.state=429,this.opexpr(0)),this.state=434,this._errHandler.sync(this),this._input.LA(1)===hQ.Implements&&(this.state=432,this.match(hQ.Implements),this.state=433,this.type(0)),this.state=436,this.match(hQ.FatArrow),this.state=437,this.opexpr(0)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newTrait(){let t=new LQ(this,this._ctx,this.state);this.enterRule(t,40,hQ.RULE_newTrait);try{this.enterOuterAlt(t,1),this.state=440,this.match(hQ.New),this.state=441,this.opexpr(0)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}toStr(){let t=new DQ(this,this._ctx,this.state);this.enterRule(t,42,hQ.RULE_toStr);try{this.enterOuterAlt(t,1),this.state=443,this.match(hQ.ToString),this.state=444,this.dotexpr()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fold(){let t=new IQ(this,this._ctx,this.state);this.enterRule(t,44,hQ.RULE_fold);try{this.enterOuterAlt(t,1),this.state=446,this.match(hQ.Fold),this.state=447,this.typeArg(),this.state=448,this.dotexpr()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}unfold(){let t=new NQ(this,this._ctx,this.state);this.enterRule(t,46,hQ.RULE_unfold);try{this.enterOuterAlt(t,1),this.state=450,this.match(hQ.Unfold),this.state=451,this.typeArg(),this.state=452,this.dotexpr()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fexpr(){let t=new QQ(this,this._ctx,this.state);this.enterRule(t,48,hQ.RULE_fexpr);try{switch(this.enterOuterAlt(t,1),this.state=456,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,39,this._ctx)){case 1:this.state=454,this.ctorName();break;case 2:this.state=455,this.excludexpr()}this.state=462,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,41,this._ctx);2!=e&&e!=rQ.atn.ATN.INVALID_ALT_NUMBER;){if(1===e)switch(this.state=460,this._errHandler.sync(this),this._input.LA(1)){case hQ.IntLit:case hQ.StringLit:case hQ.True_:case hQ.False_:case hQ.Undefined_:case hQ.LowerId:case hQ.UpperId:case hQ.Unit:case hQ.Dollar:case hQ.BracketOpen:case hQ.BraceOpen:case hQ.ParenOpen:case hQ.BacktickOpen:this.state=458,this.excludexpr();break;case hQ.At:this.state=459,this.typeArg();break;default:throw new rQ.error.NoViableAltException(this)}this.state=464,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,41,this._ctx)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}excludexpr(){let t=new MQ(this,this._ctx,this.state);this.enterRule(t,50,hQ.RULE_excludexpr);try{this.enterOuterAlt(t,1),this.state=465,this.renamexpr(),this.state=470,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,42,this._ctx);1===e?(this.state=466,this.match(hQ.DoubleBackslashes),this.state=467,this.btype()):2===e&&(this.state=468,this.match(hQ.Backslash),this.state=469,this.label())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}renamexpr(){let t=new BQ(this,this._ctx,this.state);this.enterRule(t,52,hQ.RULE_renamexpr);try{this.enterOuterAlt(t,1),this.state=472,this.dotexpr(),this.state=479,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,43,this._ctx)&&(this.state=473,this.match(hQ.BracketOpen),this.state=474,this.label(),this.state=475,this.match(hQ.LeftArrow),this.state=476,this.labelDecl(),this.state=477,this.match(hQ.BracketClose))}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}dotexpr(){let t=new FQ(this,this._ctx,this.state);this.enterRule(t,54,hQ.RULE_dotexpr);try{this.enterOuterAlt(t,1),this.state=481,this.aexpr(),this.state=486,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,44,this._ctx);2!=e&&e!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=482,this.match(hQ.Dot),this.state=483,this.label()),this.state=488,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,44,this._ctx)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}aexpr(){let t=new qQ(this,this._ctx,this.state);this.enterRule(t,56,hQ.RULE_aexpr);try{switch(this.state=506,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,45,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=489,this.termName();break;case 2:this.enterOuterAlt(t,2),this.state=490,this.match(hQ.IntLit);break;case 3:this.enterOuterAlt(t,3),this.state=491,this.match(hQ.StringLit);break;case 4:this.enterOuterAlt(t,4),this.state=492,this.document();break;case 5:this.enterOuterAlt(t,5),this.state=493,this.match(hQ.Unit);break;case 6:this.enterOuterAlt(t,6),this.state=494,this.match(hQ.True_);break;case 7:this.enterOuterAlt(t,7),this.state=495,this.match(hQ.False_);break;case 8:this.enterOuterAlt(t,8),this.state=496,this.match(hQ.Undefined_);break;case 9:this.enterOuterAlt(t,9),this.state=497,this.array();break;case 10:this.enterOuterAlt(t,10),this.state=498,this.record();break;case 11:this.enterOuterAlt(t,11),this.state=499,this.recordUpdate();break;case 12:this.enterOuterAlt(t,12),this.state=500,this.match(hQ.Dollar),this.state=501,this.ctorName();break;case 13:this.enterOuterAlt(t,13),this.state=502,this.match(hQ.ParenOpen),this.state=503,this.expression(),this.state=504,this.match(hQ.ParenClose)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}array(){let t=new $Q(this,this._ctx,this.state);this.enterRule(t,58,hQ.RULE_array);var e=0;try{this.enterOuterAlt(t,1),this.state=508,this.match(hQ.BracketOpen),this.state=514,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,46,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=509,this.expression(),this.state=510,this.match(hQ.Semicolon)),this.state=516,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,46,this._ctx);this.state=518,this._errHandler.sync(this),(0==(-32&(e=this._input.LA(1)))&&0!=(1<<e&(1<<hQ.IntLit|1<<hQ.StringLit|1<<hQ.Trait|1<<hQ.New|1<<hQ.If|1<<hQ.Let|1<<hQ.LetRec|1<<hQ.Open|1<<hQ.ToString|1<<hQ.Fold|1<<hQ.Unfold))||0==(e-33&-32)&&0!=(1<<e-33&(1<<hQ.True_-33|1<<hQ.False_-33|1<<hQ.Undefined_-33|1<<hQ.LowerId-33|1<<hQ.UpperId-33|1<<hQ.Unit-33|1<<hQ.Backslash-33|1<<hQ.SlashBackslash-33|1<<hQ.Minus-33|1<<hQ.Not-33|1<<hQ.Length-33))||0==(e-75&-32)&&0!=(1<<e-75&(1<<hQ.Dollar-75|1<<hQ.BracketOpen-75|1<<hQ.BraceOpen-75|1<<hQ.ParenOpen-75|1<<hQ.BacktickOpen-75)))&&(this.state=517,this.expression()),this.state=520,this.match(hQ.BracketClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}record(){let t=new UQ(this,this._ctx,this.state);this.enterRule(t,60,hQ.RULE_record);var e=0;try{this.enterOuterAlt(t,1),this.state=522,this.match(hQ.BraceOpen),this.state=532,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,49,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;){if(1===n){switch(this.state=526,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,48,this._ctx)){case 1:this.state=523,this.recordField();break;case 2:this.state=524,this.methodPattern();break;case 3:this.state=525,this.defaultPattern()}this.state=528,this.match(hQ.Semicolon)}this.state=534,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,49,this._ctx)}if(this.state=540,this._errHandler.sync(this),0==((e=this._input.LA(1))-32&-32)&&0!=(1<<e-32&(1<<hQ.Override-32|1<<hQ.Underscore-32|1<<hQ.LowerId-32|1<<hQ.UpperId-32))||e===hQ.BracketOpen||e===hQ.ParenOpen)switch(this.state=538,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,50,this._ctx)){case 1:this.state=535,this.recordField();break;case 2:this.state=536,this.methodPattern();break;case 3:this.state=537,this.defaultPattern()}this.state=542,this.match(hQ.BraceClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordField(){let t=new XQ(this,this._ctx,this.state);this.enterRule(t,62,hQ.RULE_recordField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=545,this._errHandler.sync(this),(e=this._input.LA(1))===hQ.Override&&(this.state=544,this.match(hQ.Override)),this.state=548,this._errHandler.sync(this),(e=this._input.LA(1))===hQ.BracketOpen&&(this.state=547,this.selfAnno()),this.state=550,this.labelDecl(),this.state=554,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=551,this.termParam(),this.state=556,this._errHandler.sync(this),e=this._input.LA(1);this.state=557,this.match(hQ.Assign),this.state=558,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}methodPattern(){let t=new HQ(this,this._ctx,this.state);this.enterRule(t,64,hQ.RULE_methodPattern);var e=0;try{for(this.enterOuterAlt(t,1),this.state=561,this._errHandler.sync(this),(e=this._input.LA(1))===hQ.Override&&(this.state=560,this.match(hQ.Override)),this.state=566,this._errHandler.sync(this),(e=this._input.LA(1))===hQ.BracketOpen&&(this.state=563,this.selfAnno(),this.state=564,this.match(hQ.At)),this.state=568,this.match(hQ.ParenOpen),this.state=569,this.labelDecl(),this.state=573,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=570,this.termParam(),this.state=575,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=576,this.match(hQ.ParenClose),this.state=577,this.match(hQ.Dot),this.state=578,this.labelDecl(),this.state=582,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=579,this.termParam(),this.state=584,this._errHandler.sync(this),e=this._input.LA(1);this.state=585,this.match(hQ.Assign),this.state=586,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}defaultPattern(){let t=new VQ(this,this._ctx,this.state);this.enterRule(t,66,hQ.RULE_defaultPattern);var e=0;try{switch(this.enterOuterAlt(t,1),this.state=590,this._errHandler.sync(this),this._input.LA(1)){case hQ.Underscore:this.state=588,this.match(hQ.Underscore);break;case hQ.BracketOpen:this.state=589,this.selfAnno();break;default:throw new rQ.error.NoViableAltException(this)}for(this.state=592,this.match(hQ.Dot),this.state=593,this.labelDecl(),this.state=597,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=594,this.termParam(),this.state=599,this._errHandler.sync(this),e=this._input.LA(1);this.state=600,this.match(hQ.Assign),this.state=601,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordUpdate(){let t=new WQ(this,this._ctx,this.state);this.enterRule(t,68,hQ.RULE_recordUpdate);var e=0;try{this.enterOuterAlt(t,1),this.state=603,this.match(hQ.BraceOpen),this.state=604,this.expression(),this.state=605,this.match(hQ.With),this.state=614,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,61,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=606,this.labelDecl(),this.state=607,this.match(hQ.Assign),this.state=608,this.expression(),this.state=610,this.match(hQ.Semicolon)),this.state=616,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,61,this._ctx);this.state=621,this._errHandler.sync(this),(e=this._input.LA(1))!==hQ.LowerId&&e!==hQ.UpperId||(this.state=617,this.labelDecl(),this.state=618,this.match(hQ.Assign),this.state=619,this.expression()),this.state=623,this.match(hQ.BraceClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeArg(){let t=new zQ(this,this._ctx,this.state);this.enterRule(t,70,hQ.RULE_typeArg);try{this.enterOuterAlt(t,1),this.state=625,this.match(hQ.At),this.state=626,this.btype()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeParam(){let t=new GQ(this,this._ctx,this.state);this.enterRule(t,72,hQ.RULE_typeParam);try{switch(this.state=635,this._errHandler.sync(this),this._input.LA(1)){case hQ.UpperId:this.enterOuterAlt(t,1),this.state=628,this.typeNameDecl();break;case hQ.ParenOpen:this.enterOuterAlt(t,2),this.state=629,this.match(hQ.ParenOpen),this.state=630,this.typeNameDecl(),this.state=631,this.match(hQ.Asterisk),this.state=632,this.type(0),this.state=633,this.match(hQ.ParenClose);break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termParam(){let t=new jQ(this,this._ctx,this.state);this.enterRule(t,74,hQ.RULE_termParam);try{switch(this.state=649,this._errHandler.sync(this),this._input.LA(1)){case hQ.LowerId:this.enterOuterAlt(t,1),this.state=637,this.termNameDecl();break;case hQ.Underscore:this.enterOuterAlt(t,2),this.state=638,this.match(hQ.Underscore);break;case hQ.ParenOpen:switch(this.enterOuterAlt(t,3),this.state=639,this.match(hQ.ParenOpen),this.state=642,this._errHandler.sync(this),this._input.LA(1)){case hQ.LowerId:this.state=640,this.termNameDecl();break;case hQ.Underscore:this.state=641,this.match(hQ.Underscore);break;default:throw new rQ.error.NoViableAltException(this)}this.state=644,this.match(hQ.Colon),this.state=645,this.type(0),this.state=646,this.match(hQ.ParenClose);break;case hQ.BraceOpen:this.enterOuterAlt(t,4),this.state=648,this.wildcard();break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}wildcard(){let t=new YQ(this,this._ctx,this.state);this.enterRule(t,76,hQ.RULE_wildcard);var e=0;try{for(this.enterOuterAlt(t,1),this.state=651,this.match(hQ.BraceOpen),this.state=660,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.LowerId||e===hQ.UpperId;)this.state=652,this.labelDecl(),this.state=653,this.match(hQ.Assign),this.state=654,this.expression(),this.state=656,this.match(hQ.Semicolon),this.state=662,this._errHandler.sync(this),e=this._input.LA(1);this.state=663,this.match(hQ.DotDot),this.state=664,this.match(hQ.BraceClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}selfAnno(){let t=new ZQ(this,this._ctx,this.state);this.enterRule(t,78,hQ.RULE_selfAnno);try{this.enterOuterAlt(t,1),this.state=666,this.match(hQ.BracketOpen),this.state=667,this.termNameDecl(),this.state=670,this._errHandler.sync(this),this._input.LA(1)===hQ.Colon&&(this.state=668,this.match(hQ.Colon),this.state=669,this.type(0)),this.state=672,this.match(hQ.BracketClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}sort(){let t=new KQ(this,this._ctx,this.state);this.enterRule(t,80,hQ.RULE_sort);try{this.enterOuterAlt(t,1),this.state=674,this.type(0),this.state=677,this._errHandler.sync(this),this._input.LA(1)===hQ.FatArrow&&(this.state=675,this.match(hQ.FatArrow),this.state=676,this.type(0))}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeNameDecl(){let t=new JQ(this,this._ctx,this.state);this.enterRule(t,82,hQ.RULE_typeNameDecl);try{this.enterOuterAlt(t,1),this.state=679,this.match(hQ.UpperId)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeName(){let t=new tM(this,this._ctx,this.state);this.enterRule(t,84,hQ.RULE_typeName);try{this.enterOuterAlt(t,1),this.state=681,this.match(hQ.UpperId)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termNameDecl(){let t=new eM(this,this._ctx,this.state);this.enterRule(t,86,hQ.RULE_termNameDecl);try{this.enterOuterAlt(t,1),this.state=683,this.match(hQ.LowerId)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ctorName(){let t=new nM(this,this._ctx,this.state);this.enterRule(t,88,hQ.RULE_ctorName);try{this.enterOuterAlt(t,1),this.state=685,this.match(hQ.UpperId)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termName(){let t=new rM(this,this._ctx,this.state);this.enterRule(t,90,hQ.RULE_termName);var e=0;try{this.enterOuterAlt(t,1),this.state=687,(e=this._input.LA(1))!==hQ.LowerId&&e!==hQ.UpperId?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}labelDecl(){let t=new iM(this,this._ctx,this.state);this.enterRule(t,92,hQ.RULE_labelDecl);var e=0;try{this.enterOuterAlt(t,1),this.state=689,(e=this._input.LA(1))!==hQ.LowerId&&e!==hQ.UpperId?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}label(){let t=new sM(this,this._ctx,this.state);this.enterRule(t,94,hQ.RULE_label);var e=0;try{this.enterOuterAlt(t,1),this.state=691,(e=this._input.LA(1))!==hQ.LowerId&&e!==hQ.UpperId?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}document(){let t=new oM(this,this._ctx,this.state);this.enterRule(t,96,hQ.RULE_document);var e=0;try{for(this.enterOuterAlt(t,1),this.state=693,this.match(hQ.BacktickOpen),this.state=697,this._errHandler.sync(this),e=this._input.LA(1);0==(e-84&-32)&&0!=(1<<e-84&(1<<hQ.Command-84|1<<hQ.Interpolation-84|1<<hQ.NewLine-84|1<<hQ.PlainText-84|1<<hQ.CommandAfterCmd-84|1<<hQ.InterpolationAfterCmd-84|1<<hQ.NewLineAfterCmd-84|1<<hQ.PlainTextAfterCmd-84));)this.state=694,this.docElement(),this.state=699,this._errHandler.sync(this),e=this._input.LA(1);this.state=700,(e=this._input.LA(1))!==hQ.BacktickClose&&e!==hQ.BacktickCloseAfterCmd?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docElement(){let t=new lM(this,this._ctx,this.state);this.enterRule(t,98,hQ.RULE_docElement);try{switch(this.state=706,this._errHandler.sync(this),this._input.LA(1)){case hQ.Command:case hQ.CommandAfterCmd:this.enterOuterAlt(t,1),this.state=702,this.command();break;case hQ.Interpolation:case hQ.InterpolationAfterCmd:this.enterOuterAlt(t,2),this.state=703,this.interpolation();break;case hQ.NewLine:case hQ.NewLineAfterCmd:this.enterOuterAlt(t,3),this.state=704,this.newline();break;case hQ.PlainText:case hQ.PlainTextAfterCmd:this.enterOuterAlt(t,4),this.state=705,this.plaintext();break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}command(){let t=new aM(this,this._ctx,this.state);this.enterRule(t,100,hQ.RULE_command);var e=0;try{for(this.enterOuterAlt(t,1),this.state=708,(e=this._input.LA(1))!==hQ.Command&&e!==hQ.CommandAfterCmd?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=712,this._errHandler.sync(this),e=this._input.LA(1);0==(e-90&-32)&&0!=(1<<e-90&(1<<hQ.BracketOpenAsArg-90|1<<hQ.ParenOpenAsArg-90|1<<hQ.BraceOpenAsArg-90));)this.state=709,this.docArg(),this.state=714,this._errHandler.sync(this),e=this._input.LA(1)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interpolation(){let t=new uM(this,this._ctx,this.state);this.enterRule(t,102,hQ.RULE_interpolation);var e=0;try{this.enterOuterAlt(t,1),this.state=715,(e=this._input.LA(1))!==hQ.Interpolation&&e!==hQ.InterpolationAfterCmd?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=716,this.expression(),this.state=717,this.match(hQ.ParenClose)}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newline(){let t=new cM(this,this._ctx,this.state);this.enterRule(t,104,hQ.RULE_newline);var e=0;try{this.enterOuterAlt(t,1),this.state=719,(e=this._input.LA(1))!==hQ.NewLine&&e!==hQ.NewLineAfterCmd?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}plaintext(){let t=new hM(this,this._ctx,this.state);this.enterRule(t,106,hQ.RULE_plaintext);var e=0;try{this.enterOuterAlt(t,1),this.state=721,(e=this._input.LA(1))!==hQ.PlainText&&e!==hQ.PlainTextAfterCmd?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docArg(){let t=new fM(this,this._ctx,this.state);this.enterRule(t,108,hQ.RULE_docArg);var e=0;try{switch(this.state=748,this._errHandler.sync(this),this._input.LA(1)){case hQ.BracketOpenAsArg:for(this.enterOuterAlt(t,1),this.state=723,this.match(hQ.BracketOpenAsArg),this.state=727,this._errHandler.sync(this),e=this._input.LA(1);0==(e-84&-32)&&0!=(1<<e-84&(1<<hQ.Command-84|1<<hQ.Interpolation-84|1<<hQ.NewLine-84|1<<hQ.PlainText-84|1<<hQ.CommandAfterCmd-84|1<<hQ.InterpolationAfterCmd-84|1<<hQ.NewLineAfterCmd-84|1<<hQ.PlainTextAfterCmd-84));)this.state=724,this.docElement(),this.state=729,this._errHandler.sync(this),e=this._input.LA(1);this.state=730,(e=this._input.LA(1))!==hQ.BracketCloseInDoc&&e!==hQ.BracketCloseAfterCmd?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume());break;case hQ.ParenOpenAsArg:this.enterOuterAlt(t,2),this.state=731,this.match(hQ.ParenOpenAsArg),this.state=732,this.expression(),this.state=733,this.match(hQ.ParenClose);break;case hQ.BraceOpenAsArg:this.enterOuterAlt(t,3),this.state=735,this.match(hQ.BraceOpenAsArg),this.state=741,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,73,this._ctx);2!=n&&n!=rQ.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=736,this.recordArgField(),this.state=737,this.match(hQ.Semicolon)),this.state=743,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,73,this._ctx);this.state=745,this._errHandler.sync(this),(e=this._input.LA(1))!==hQ.LowerId&&e!==hQ.UpperId||(this.state=744,this.recordArgField()),this.state=747,this.match(hQ.BraceClose);break;default:throw new rQ.error.NoViableAltException(this)}}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordArgField(){let t=new vM(this,this._ctx,this.state);this.enterRule(t,110,hQ.RULE_recordArgField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=750,this.labelDecl(),this.state=754,this._errHandler.sync(this),e=this._input.LA(1);e===hQ.Underscore||e===hQ.LowerId||e===hQ.BraceOpen||e===hQ.ParenOpen;)this.state=751,this.termParam(),this.state=756,this._errHandler.sync(this),e=this._input.LA(1);this.state=757,this.match(hQ.Assign),this.state=758,this.expression()}catch(e){if(!(e instanceof rQ.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}hQ.EOF=rQ.Token.EOF,hQ.Whitespaces=1,hQ.LineComment=2,hQ.BlockComment=3,hQ.IntLit=4,hQ.StringLit=5,hQ.Type=6,hQ.Interface=7,hQ.Extends=8,hQ.ForAll=9,hQ.Int=10,hQ.Double=11,hQ.Bool=12,hQ.String=13,hQ.Top=14,hQ.Bot=15,hQ.TraitType=16,hQ.Trait=17,hQ.Implements=18,hQ.Inherits=19,hQ.New=20,hQ.If=21,hQ.Then=22,hQ.Else=23,hQ.Let=24,hQ.LetRec=25,hQ.Open=26,hQ.In=27,hQ.With=28,hQ.ToString=29,hQ.Fold=30,hQ.Unfold=31,hQ.Override=32,hQ.True_=33,hQ.False_=34,hQ.Undefined_=35,hQ.Underscore=36,hQ.LowerId=37,hQ.UpperId=38,hQ.Unit=39,hQ.Backslash=40,hQ.SlashBackslash=41,hQ.BackslashMinus=42,hQ.DoubleBackslashes=43,hQ.Arrow=44,hQ.FatArrow=45,hQ.LeftArrow=46,hQ.Intersect=47,hQ.Plus=48,hQ.Minus=49,hQ.Asterisk=50,hQ.Slash=51,hQ.Modulo=52,hQ.Not=53,hQ.And=54,hQ.Or=55,hQ.Less=56,hQ.Greater=57,hQ.LessEqual=58,hQ.GreaterEqual=59,hQ.Equal=60,hQ.NotEqual=61,hQ.Length=62,hQ.Index=63,hQ.Append=64,hQ.Forward=65,hQ.At=66,hQ.Merge=67,hQ.LeftistMerge=68,hQ.RightistMerge=69,hQ.Assign=70,hQ.Semicolon=71,hQ.Colon=72,hQ.Dot=73,hQ.DotDot=74,hQ.Dollar=75,hQ.Question=76,hQ.BracketOpen=77,hQ.BracketClose=78,hQ.BraceOpen=79,hQ.BraceClose=80,hQ.ParenOpen=81,hQ.ParenClose=82,hQ.BacktickOpen=83,hQ.Command=84,hQ.Interpolation=85,hQ.NewLine=86,hQ.PlainText=87,hQ.BracketCloseInDoc=88,hQ.BacktickClose=89,hQ.BracketOpenAsArg=90,hQ.ParenOpenAsArg=91,hQ.BraceOpenAsArg=92,hQ.CommandAfterCmd=93,hQ.InterpolationAfterCmd=94,hQ.NewLineAfterCmd=95,hQ.PlainTextAfterCmd=96,hQ.BracketCloseAfterCmd=97,hQ.BacktickCloseAfterCmd=98,hQ.RULE_program=0,hQ.RULE_definition=1,hQ.RULE_interfaceDef=2,hQ.RULE_typeDef=3,hQ.RULE_termDef=4,hQ.RULE_type=5,hQ.RULE_btype=6,hQ.RULE_atype=7,hQ.RULE_recordType=8,hQ.RULE_recordTypeField=9,hQ.RULE_expression=10,hQ.RULE_opexpr=11,hQ.RULE_lexpr=12,hQ.RULE_lambda=13,hQ.RULE_bigLambda=14,hQ.RULE_letIn=15,hQ.RULE_letRec=16,hQ.RULE_openIn=17,hQ.RULE_ifElse=18,hQ.RULE_trait=19,hQ.RULE_newTrait=20,hQ.RULE_toStr=21,hQ.RULE_fold=22,hQ.RULE_unfold=23,hQ.RULE_fexpr=24,hQ.RULE_excludexpr=25,hQ.RULE_renamexpr=26,hQ.RULE_dotexpr=27,hQ.RULE_aexpr=28,hQ.RULE_array=29,hQ.RULE_record=30,hQ.RULE_recordField=31,hQ.RULE_methodPattern=32,hQ.RULE_defaultPattern=33,hQ.RULE_recordUpdate=34,hQ.RULE_typeArg=35,hQ.RULE_typeParam=36,hQ.RULE_termParam=37,hQ.RULE_wildcard=38,hQ.RULE_selfAnno=39,hQ.RULE_sort=40,hQ.RULE_typeNameDecl=41,hQ.RULE_typeName=42,hQ.RULE_termNameDecl=43,hQ.RULE_ctorName=44,hQ.RULE_termName=45,hQ.RULE_labelDecl=46,hQ.RULE_label=47,hQ.RULE_document=48,hQ.RULE_docElement=49,hQ.RULE_command=50,hQ.RULE_interpolation=51,hQ.RULE_newline=52,hQ.RULE_plaintext=53,hQ.RULE_docArg=54,hQ.RULE_recordArgField=55;class fQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_program}expression(){return this.getTypedRuleContext(yQ,0)}EOF(){return this.getToken(hQ.EOF,0)}definition=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(vQ):this.getTypedRuleContext(vQ,t)};accept(t){return t instanceof lQ?t.visitProgram(this):t.visitChildren(this)}}class vQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_definition}interfaceDef(){return this.getTypedRuleContext(dQ,0)}typeDef(){return this.getTypedRuleContext(gQ,0)}termDef(){return this.getTypedRuleContext(pQ,0)}accept(t){return t instanceof lQ?t.visitDefinition(this):t.visitChildren(this)}}class dQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_interfaceDef}Interface(){return this.getToken(hQ.Interface,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JQ):this.getTypedRuleContext(JQ,t)};recordType(){return this.getTypedRuleContext(wQ,0)}Semicolon(){return this.getToken(hQ.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Less):this.getToken(hQ.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Greater):this.getToken(hQ.Greater,t)};Extends(){return this.getToken(hQ.Extends,0)}btype(){return this.getTypedRuleContext(RQ,0)}accept(t){return t instanceof lQ?t.visitInterfaceDef(this):t.visitChildren(this)}}class gQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_typeDef}Type(){return this.getToken(hQ.Type,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JQ):this.getTypedRuleContext(JQ,t)};Assign(){return this.getToken(hQ.Assign,0)}type(){return this.getTypedRuleContext(mQ,0)}Semicolon(){return this.getToken(hQ.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Less):this.getToken(hQ.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Greater):this.getToken(hQ.Greater,t)};accept(t){return t instanceof lQ?t.visitTypeDef(this):t.visitChildren(this)}}class pQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_termDef}termNameDecl(){return this.getTypedRuleContext(eM,0)}Assign(){return this.getToken(hQ.Assign,0)}expression(){return this.getTypedRuleContext(yQ,0)}Semicolon(){return this.getToken(hQ.Semicolon,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(GQ):this.getTypedRuleContext(GQ,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};Colon(){return this.getToken(hQ.Colon,0)}type(){return this.getTypedRuleContext(mQ,0)}accept(t){return t instanceof lQ?t.visitTermDef(this):t.visitChildren(this)}}class mQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_type}ForAll(){return this.getToken(hQ.ForAll,0)}Dot(){return this.getToken(hQ.Dot,0)}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(mQ):this.getTypedRuleContext(mQ,t)};typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(GQ):this.getTypedRuleContext(GQ,t)};TraitType(){return this.getToken(hQ.TraitType,0)}Less(){return this.getToken(hQ.Less,0)}Greater(){return this.getToken(hQ.Greater,0)}FatArrow(){return this.getToken(hQ.FatArrow,0)}btype=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(RQ):this.getTypedRuleContext(RQ,t)};Intersect(){return this.getToken(hQ.Intersect,0)}Backslash(){return this.getToken(hQ.Backslash,0)}Arrow(){return this.getToken(hQ.Arrow,0)}accept(t){return t instanceof lQ?t.visitType(this):t.visitChildren(this)}}class RQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_btype}atype(){return this.getTypedRuleContext(OQ,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Less):this.getToken(hQ.Less,t)};sort=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(KQ):this.getTypedRuleContext(KQ,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Greater):this.getToken(hQ.Greater,t)};accept(t){return t instanceof lQ?t.visitBtype(this):t.visitChildren(this)}}class OQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_atype}Int(){return this.getToken(hQ.Int,0)}Double(){return this.getToken(hQ.Double,0)}Bool(){return this.getToken(hQ.Bool,0)}String(){return this.getToken(hQ.String,0)}Top(){return this.getToken(hQ.Top,0)}Bot(){return this.getToken(hQ.Bot,0)}typeName(){return this.getTypedRuleContext(tM,0)}recordType(){return this.getTypedRuleContext(wQ,0)}BracketOpen(){return this.getToken(hQ.BracketOpen,0)}type(){return this.getTypedRuleContext(mQ,0)}BracketClose(){return this.getToken(hQ.BracketClose,0)}ParenOpen(){return this.getToken(hQ.ParenOpen,0)}ParenClose(){return this.getToken(hQ.ParenClose,0)}accept(t){return t instanceof lQ?t.visitAtype(this):t.visitChildren(this)}}class wQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_recordType}BraceOpen(){return this.getToken(hQ.BraceOpen,0)}BraceClose(){return this.getToken(hQ.BraceClose,0)}recordTypeField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(xQ):this.getTypedRuleContext(xQ,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Semicolon):this.getToken(hQ.Semicolon,t)};accept(t){return t instanceof lQ?t.visitRecordType(this):t.visitChildren(this)}}class xQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_recordTypeField}labelDecl(){return this.getTypedRuleContext(iM,0)}Colon(){return this.getToken(hQ.Colon,0)}type(){return this.getTypedRuleContext(mQ,0)}Question(){return this.getToken(hQ.Question,0)}accept(t){return t instanceof lQ?t.visitRecordTypeField(this):t.visitChildren(this)}}class yQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_expression}opexpr(){return this.getTypedRuleContext(bQ,0)}Colon(){return this.getToken(hQ.Colon,0)}type(){return this.getTypedRuleContext(mQ,0)}accept(t){return t instanceof lQ?t.visitExpression(this):t.visitChildren(this)}}class bQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_opexpr}lexpr(){return this.getTypedRuleContext(CQ,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(bQ):this.getTypedRuleContext(bQ,t)};Minus(){return this.getToken(hQ.Minus,0)}Not(){return this.getToken(hQ.Not,0)}Length(){return this.getToken(hQ.Length,0)}Index(){return this.getToken(hQ.Index,0)}Asterisk(){return this.getToken(hQ.Asterisk,0)}Slash(){return this.getToken(hQ.Slash,0)}Modulo(){return this.getToken(hQ.Modulo,0)}Plus(){return this.getToken(hQ.Plus,0)}Append(){return this.getToken(hQ.Append,0)}Less(){return this.getToken(hQ.Less,0)}Greater(){return this.getToken(hQ.Greater,0)}LessEqual(){return this.getToken(hQ.LessEqual,0)}GreaterEqual(){return this.getToken(hQ.GreaterEqual,0)}Equal(){return this.getToken(hQ.Equal,0)}NotEqual(){return this.getToken(hQ.NotEqual,0)}And(){return this.getToken(hQ.And,0)}Or(){return this.getToken(hQ.Or,0)}Forward(){return this.getToken(hQ.Forward,0)}Merge(){return this.getToken(hQ.Merge,0)}LeftistMerge(){return this.getToken(hQ.LeftistMerge,0)}RightistMerge(){return this.getToken(hQ.RightistMerge,0)}BackslashMinus(){return this.getToken(hQ.BackslashMinus,0)}accept(t){return t instanceof lQ?t.visitOpexpr(this):t.visitChildren(this)}}class CQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_lexpr}fexpr(){return this.getTypedRuleContext(QQ,0)}lambda(){return this.getTypedRuleContext(SQ,0)}bigLambda(){return this.getTypedRuleContext(TQ,0)}letIn(){return this.getTypedRuleContext(kQ,0)}letRec(){return this.getTypedRuleContext(AQ,0)}openIn(){return this.getTypedRuleContext(PQ,0)}ifElse(){return this.getTypedRuleContext(EQ,0)}trait(){return this.getTypedRuleContext(_Q,0)}newTrait(){return this.getTypedRuleContext(LQ,0)}toStr(){return this.getTypedRuleContext(DQ,0)}fold(){return this.getTypedRuleContext(IQ,0)}unfold(){return this.getTypedRuleContext(NQ,0)}accept(t){return t instanceof lQ?t.visitLexpr(this):t.visitChildren(this)}}class SQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_lambda}Backslash(){return this.getToken(hQ.Backslash,0)}Arrow(){return this.getToken(hQ.Arrow,0)}expression(){return this.getTypedRuleContext(yQ,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitLambda(this):t.visitChildren(this)}}class TQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_bigLambda}SlashBackslash(){return this.getToken(hQ.SlashBackslash,0)}Dot(){return this.getToken(hQ.Dot,0)}expression(){return this.getTypedRuleContext(yQ,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(GQ):this.getTypedRuleContext(GQ,t)};accept(t){return t instanceof lQ?t.visitBigLambda(this):t.visitChildren(this)}}class kQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_letIn}Let(){return this.getToken(hQ.Let,0)}termNameDecl(){return this.getTypedRuleContext(eM,0)}Assign(){return this.getToken(hQ.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};In(){return this.getToken(hQ.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(GQ):this.getTypedRuleContext(GQ,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitLetIn(this):t.visitChildren(this)}}class AQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_letRec}LetRec(){return this.getToken(hQ.LetRec,0)}termNameDecl(){return this.getTypedRuleContext(eM,0)}Colon(){return this.getToken(hQ.Colon,0)}type(){return this.getTypedRuleContext(mQ,0)}Assign(){return this.getToken(hQ.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};In(){return this.getToken(hQ.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(GQ):this.getTypedRuleContext(GQ,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitLetRec(this):t.visitChildren(this)}}class PQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_openIn}Open(){return this.getToken(hQ.Open,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};In(){return this.getToken(hQ.In,0)}accept(t){return t instanceof lQ?t.visitOpenIn(this):t.visitChildren(this)}}class EQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_ifElse}If(){return this.getToken(hQ.If,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};Then(){return this.getToken(hQ.Then,0)}Else(){return this.getToken(hQ.Else,0)}accept(t){return t instanceof lQ?t.visitIfElse(this):t.visitChildren(this)}}class _Q extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_trait}Trait(){return this.getToken(hQ.Trait,0)}FatArrow(){return this.getToken(hQ.FatArrow,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(bQ):this.getTypedRuleContext(bQ,t)};selfAnno(){return this.getTypedRuleContext(ZQ,0)}Implements(){return this.getToken(hQ.Implements,0)}type(){return this.getTypedRuleContext(mQ,0)}Inherits(){return this.getToken(hQ.Inherits,0)}accept(t){return t instanceof lQ?t.visitTrait(this):t.visitChildren(this)}}class LQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_newTrait}New(){return this.getToken(hQ.New,0)}opexpr(){return this.getTypedRuleContext(bQ,0)}accept(t){return t instanceof lQ?t.visitNewTrait(this):t.visitChildren(this)}}class DQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_toStr}ToString(){return this.getToken(hQ.ToString,0)}dotexpr(){return this.getTypedRuleContext(FQ,0)}accept(t){return t instanceof lQ?t.visitToStr(this):t.visitChildren(this)}}class IQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_fold}Fold(){return this.getToken(hQ.Fold,0)}typeArg(){return this.getTypedRuleContext(zQ,0)}dotexpr(){return this.getTypedRuleContext(FQ,0)}accept(t){return t instanceof lQ?t.visitFold(this):t.visitChildren(this)}}class NQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_unfold}Unfold(){return this.getToken(hQ.Unfold,0)}typeArg(){return this.getTypedRuleContext(zQ,0)}dotexpr(){return this.getTypedRuleContext(FQ,0)}accept(t){return t instanceof lQ?t.visitUnfold(this):t.visitChildren(this)}}class QQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_fexpr}ctorName(){return this.getTypedRuleContext(nM,0)}excludexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MQ):this.getTypedRuleContext(MQ,t)};typeArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(zQ):this.getTypedRuleContext(zQ,t)};accept(t){return t instanceof lQ?t.visitFexpr(this):t.visitChildren(this)}}class MQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_excludexpr}renamexpr(){return this.getTypedRuleContext(BQ,0)}DoubleBackslashes(){return this.getToken(hQ.DoubleBackslashes,0)}btype(){return this.getTypedRuleContext(RQ,0)}Backslash(){return this.getToken(hQ.Backslash,0)}label(){return this.getTypedRuleContext(sM,0)}accept(t){return t instanceof lQ?t.visitExcludexpr(this):t.visitChildren(this)}}class BQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_renamexpr}dotexpr(){return this.getTypedRuleContext(FQ,0)}BracketOpen(){return this.getToken(hQ.BracketOpen,0)}label(){return this.getTypedRuleContext(sM,0)}LeftArrow(){return this.getToken(hQ.LeftArrow,0)}labelDecl(){return this.getTypedRuleContext(iM,0)}BracketClose(){return this.getToken(hQ.BracketClose,0)}accept(t){return t instanceof lQ?t.visitRenamexpr(this):t.visitChildren(this)}}class FQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_dotexpr}aexpr(){return this.getTypedRuleContext(qQ,0)}Dot=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Dot):this.getToken(hQ.Dot,t)};label=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(sM):this.getTypedRuleContext(sM,t)};accept(t){return t instanceof lQ?t.visitDotexpr(this):t.visitChildren(this)}}class qQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_aexpr}termName(){return this.getTypedRuleContext(rM,0)}IntLit(){return this.getToken(hQ.IntLit,0)}StringLit(){return this.getToken(hQ.StringLit,0)}document(){return this.getTypedRuleContext(oM,0)}Unit(){return this.getToken(hQ.Unit,0)}True_(){return this.getToken(hQ.True_,0)}False_(){return this.getToken(hQ.False_,0)}Undefined_(){return this.getToken(hQ.Undefined_,0)}array(){return this.getTypedRuleContext($Q,0)}record(){return this.getTypedRuleContext(UQ,0)}recordUpdate(){return this.getTypedRuleContext(WQ,0)}Dollar(){return this.getToken(hQ.Dollar,0)}ctorName(){return this.getTypedRuleContext(nM,0)}ParenOpen(){return this.getToken(hQ.ParenOpen,0)}expression(){return this.getTypedRuleContext(yQ,0)}ParenClose(){return this.getToken(hQ.ParenClose,0)}accept(t){return t instanceof lQ?t.visitAexpr(this):t.visitChildren(this)}}class $Q extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_array}BracketOpen(){return this.getToken(hQ.BracketOpen,0)}BracketClose(){return this.getToken(hQ.BracketClose,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Semicolon):this.getToken(hQ.Semicolon,t)};accept(t){return t instanceof lQ?t.visitArray(this):t.visitChildren(this)}}class UQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_record}BraceOpen(){return this.getToken(hQ.BraceOpen,0)}BraceClose(){return this.getToken(hQ.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Semicolon):this.getToken(hQ.Semicolon,t)};recordField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(XQ):this.getTypedRuleContext(XQ,t)};methodPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(HQ):this.getTypedRuleContext(HQ,t)};defaultPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(VQ):this.getTypedRuleContext(VQ,t)};accept(t){return t instanceof lQ?t.visitRecord(this):t.visitChildren(this)}}class XQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_recordField}labelDecl(){return this.getTypedRuleContext(iM,0)}Assign(){return this.getToken(hQ.Assign,0)}expression(){return this.getTypedRuleContext(yQ,0)}Override(){return this.getToken(hQ.Override,0)}selfAnno(){return this.getTypedRuleContext(ZQ,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitRecordField(this):t.visitChildren(this)}}class HQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_methodPattern}ParenOpen(){return this.getToken(hQ.ParenOpen,0)}labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iM):this.getTypedRuleContext(iM,t)};ParenClose(){return this.getToken(hQ.ParenClose,0)}Dot(){return this.getToken(hQ.Dot,0)}Assign(){return this.getToken(hQ.Assign,0)}expression(){return this.getTypedRuleContext(yQ,0)}Override(){return this.getToken(hQ.Override,0)}selfAnno(){return this.getTypedRuleContext(ZQ,0)}At(){return this.getToken(hQ.At,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitMethodPattern(this):t.visitChildren(this)}}class VQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_defaultPattern}Dot(){return this.getToken(hQ.Dot,0)}labelDecl(){return this.getTypedRuleContext(iM,0)}Assign(){return this.getToken(hQ.Assign,0)}expression(){return this.getTypedRuleContext(yQ,0)}Underscore(){return this.getToken(hQ.Underscore,0)}selfAnno(){return this.getTypedRuleContext(ZQ,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitDefaultPattern(this):t.visitChildren(this)}}class WQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_recordUpdate}BraceOpen(){return this.getToken(hQ.BraceOpen,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};With(){return this.getToken(hQ.With,0)}BraceClose(){return this.getToken(hQ.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Semicolon):this.getToken(hQ.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iM):this.getTypedRuleContext(iM,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Assign):this.getToken(hQ.Assign,t)};accept(t){return t instanceof lQ?t.visitRecordUpdate(this):t.visitChildren(this)}}class zQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_typeArg}At(){return this.getToken(hQ.At,0)}btype(){return this.getTypedRuleContext(RQ,0)}accept(t){return t instanceof lQ?t.visitTypeArg(this):t.visitChildren(this)}}class GQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_typeParam}typeNameDecl(){return this.getTypedRuleContext(JQ,0)}ParenOpen(){return this.getToken(hQ.ParenOpen,0)}Asterisk(){return this.getToken(hQ.Asterisk,0)}type(){return this.getTypedRuleContext(mQ,0)}ParenClose(){return this.getToken(hQ.ParenClose,0)}accept(t){return t instanceof lQ?t.visitTypeParam(this):t.visitChildren(this)}}class jQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_termParam}termNameDecl(){return this.getTypedRuleContext(eM,0)}Underscore(){return this.getToken(hQ.Underscore,0)}ParenOpen(){return this.getToken(hQ.ParenOpen,0)}Colon(){return this.getToken(hQ.Colon,0)}type(){return this.getTypedRuleContext(mQ,0)}ParenClose(){return this.getToken(hQ.ParenClose,0)}wildcard(){return this.getTypedRuleContext(YQ,0)}accept(t){return t instanceof lQ?t.visitTermParam(this):t.visitChildren(this)}}class YQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_wildcard}BraceOpen(){return this.getToken(hQ.BraceOpen,0)}DotDot(){return this.getToken(hQ.DotDot,0)}BraceClose(){return this.getToken(hQ.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Semicolon):this.getToken(hQ.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iM):this.getTypedRuleContext(iM,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Assign):this.getToken(hQ.Assign,t)};expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(yQ):this.getTypedRuleContext(yQ,t)};accept(t){return t instanceof lQ?t.visitWildcard(this):t.visitChildren(this)}}class ZQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_selfAnno}BracketOpen(){return this.getToken(hQ.BracketOpen,0)}termNameDecl(){return this.getTypedRuleContext(eM,0)}BracketClose(){return this.getToken(hQ.BracketClose,0)}Colon(){return this.getToken(hQ.Colon,0)}type(){return this.getTypedRuleContext(mQ,0)}accept(t){return t instanceof lQ?t.visitSelfAnno(this):t.visitChildren(this)}}class KQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_sort}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(mQ):this.getTypedRuleContext(mQ,t)};FatArrow(){return this.getToken(hQ.FatArrow,0)}accept(t){return t instanceof lQ?t.visitSort(this):t.visitChildren(this)}}class JQ extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_typeNameDecl}UpperId(){return this.getToken(hQ.UpperId,0)}accept(t){return t instanceof lQ?t.visitTypeNameDecl(this):t.visitChildren(this)}}class tM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_typeName}UpperId(){return this.getToken(hQ.UpperId,0)}accept(t){return t instanceof lQ?t.visitTypeName(this):t.visitChildren(this)}}class eM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_termNameDecl}LowerId(){return this.getToken(hQ.LowerId,0)}accept(t){return t instanceof lQ?t.visitTermNameDecl(this):t.visitChildren(this)}}class nM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_ctorName}UpperId(){return this.getToken(hQ.UpperId,0)}accept(t){return t instanceof lQ?t.visitCtorName(this):t.visitChildren(this)}}class rM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_termName}LowerId(){return this.getToken(hQ.LowerId,0)}UpperId(){return this.getToken(hQ.UpperId,0)}accept(t){return t instanceof lQ?t.visitTermName(this):t.visitChildren(this)}}class iM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_labelDecl}LowerId(){return this.getToken(hQ.LowerId,0)}UpperId(){return this.getToken(hQ.UpperId,0)}accept(t){return t instanceof lQ?t.visitLabelDecl(this):t.visitChildren(this)}}class sM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_label}LowerId(){return this.getToken(hQ.LowerId,0)}UpperId(){return this.getToken(hQ.UpperId,0)}accept(t){return t instanceof lQ?t.visitLabel(this):t.visitChildren(this)}}class oM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_document}BacktickOpen(){return this.getToken(hQ.BacktickOpen,0)}BacktickClose(){return this.getToken(hQ.BacktickClose,0)}BacktickCloseAfterCmd(){return this.getToken(hQ.BacktickCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(lM):this.getTypedRuleContext(lM,t)};accept(t){return t instanceof lQ?t.visitDocument(this):t.visitChildren(this)}}class lM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_docElement}command(){return this.getTypedRuleContext(aM,0)}interpolation(){return this.getTypedRuleContext(uM,0)}newline(){return this.getTypedRuleContext(cM,0)}plaintext(){return this.getTypedRuleContext(hM,0)}accept(t){return t instanceof lQ?t.visitDocElement(this):t.visitChildren(this)}}class aM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_command}Command(){return this.getToken(hQ.Command,0)}CommandAfterCmd(){return this.getToken(hQ.CommandAfterCmd,0)}docArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(fM):this.getTypedRuleContext(fM,t)};accept(t){return t instanceof lQ?t.visitCommand(this):t.visitChildren(this)}}class uM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_interpolation}expression(){return this.getTypedRuleContext(yQ,0)}ParenClose(){return this.getToken(hQ.ParenClose,0)}Interpolation(){return this.getToken(hQ.Interpolation,0)}InterpolationAfterCmd(){return this.getToken(hQ.InterpolationAfterCmd,0)}accept(t){return t instanceof lQ?t.visitInterpolation(this):t.visitChildren(this)}}class cM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_newline}NewLine(){return this.getToken(hQ.NewLine,0)}NewLineAfterCmd(){return this.getToken(hQ.NewLineAfterCmd,0)}accept(t){return t instanceof lQ?t.visitNewline(this):t.visitChildren(this)}}class hM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_plaintext}PlainText(){return this.getToken(hQ.PlainText,0)}PlainTextAfterCmd(){return this.getToken(hQ.PlainTextAfterCmd,0)}accept(t){return t instanceof lQ?t.visitPlaintext(this):t.visitChildren(this)}}class fM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_docArg}BracketOpenAsArg(){return this.getToken(hQ.BracketOpenAsArg,0)}BracketCloseInDoc(){return this.getToken(hQ.BracketCloseInDoc,0)}BracketCloseAfterCmd(){return this.getToken(hQ.BracketCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(lM):this.getTypedRuleContext(lM,t)};ParenOpenAsArg(){return this.getToken(hQ.ParenOpenAsArg,0)}expression(){return this.getTypedRuleContext(yQ,0)}ParenClose(){return this.getToken(hQ.ParenClose,0)}BraceOpenAsArg(){return this.getToken(hQ.BraceOpenAsArg,0)}BraceClose(){return this.getToken(hQ.BraceClose,0)}recordArgField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(vM):this.getTypedRuleContext(vM,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(hQ.Semicolon):this.getToken(hQ.Semicolon,t)};accept(t){return t instanceof lQ?t.visitDocArg(this):t.visitChildren(this)}}class vM extends rQ.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=hQ.RULE_recordArgField}labelDecl(){return this.getTypedRuleContext(iM,0)}Assign(){return this.getToken(hQ.Assign,0)}expression(){return this.getTypedRuleContext(yQ,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jQ):this.getTypedRuleContext(jQ,t)};accept(t){return t instanceof lQ?t.visitRecordArgField(this):t.visitChildren(this)}}hQ.ProgramContext=fQ,hQ.DefinitionContext=vQ,hQ.InterfaceDefContext=dQ,hQ.TypeDefContext=gQ,hQ.TermDefContext=pQ,hQ.TypeContext=mQ,hQ.BtypeContext=RQ,hQ.AtypeContext=OQ,hQ.RecordTypeContext=wQ,hQ.RecordTypeFieldContext=xQ,hQ.ExpressionContext=yQ,hQ.OpexprContext=bQ,hQ.LexprContext=CQ,hQ.LambdaContext=SQ,hQ.BigLambdaContext=TQ,hQ.LetInContext=kQ,hQ.LetRecContext=AQ,hQ.OpenInContext=PQ,hQ.IfElseContext=EQ,hQ.TraitContext=_Q,hQ.NewTraitContext=LQ,hQ.ToStrContext=DQ,hQ.FoldContext=IQ,hQ.UnfoldContext=NQ,hQ.FexprContext=QQ,hQ.ExcludexprContext=MQ,hQ.RenamexprContext=BQ,hQ.DotexprContext=FQ,hQ.AexprContext=qQ,hQ.ArrayContext=$Q,hQ.RecordContext=UQ,hQ.RecordFieldContext=XQ,hQ.MethodPatternContext=HQ,hQ.DefaultPatternContext=VQ,hQ.RecordUpdateContext=WQ,hQ.TypeArgContext=zQ,hQ.TypeParamContext=GQ,hQ.TermParamContext=jQ,hQ.WildcardContext=YQ,hQ.SelfAnnoContext=ZQ,hQ.SortContext=KQ,hQ.TypeNameDeclContext=JQ,hQ.TypeNameContext=tM,hQ.TermNameDeclContext=eM,hQ.CtorNameContext=nM,hQ.TermNameContext=rM,hQ.LabelDeclContext=iM,hQ.LabelContext=sM,hQ.DocumentContext=oM,hQ.DocElementContext=lM,hQ.CommandContext=aM,hQ.InterpolationContext=uM,hQ.NewlineContext=cM,hQ.PlaintextContext=hM,hQ.DocArgContext=fM,hQ.RecordArgFieldContext=vM;class dM extends lQ{listify(t){let e=lm.value;for(const n of t.reverse())e=new am(n,e);return e}visitProgram(t){const e=this.listify(t.definition().map(this.visitDefinition,this)),n=this.visitExpression(t.expression());return new lk(e,n)}visitDefinition(t){const e=t.typeDef(),n=t.termDef(),r=t.interfaceDef();return e?this.visitTypeDef(e):n?this.visitTermDef(n):this.visitInterfaceDef(r)}visitInterfaceDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=t.Extends()?new gT(this.visitBtype(t.btype())):dT.value,l=this.visitRecordType(t.recordType());return new sk(o,n,i,s,l)}visitTypeDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=this.visitType(t.type());return new sk(vT.value,n,i,s,o)}visitTermDef(t){const e=this.visitTermNameDecl(t.termNameDecl()),n=this.listify(t.typeParam().map(this.visitTypeParam,this)),r=this.listify(t.termParam().map(this.visitTermParam,this)),i=t.type()?new Ad(this.visitType(t.type())):kd.value,s=this.visitExpression(t.expression());return new ok(e,n,r,i,s)}visitType(t){if(t.Intersect())return new eT(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Arrow())return new tT(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Backslash())return new fT(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.ForAll())return new iT(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitType(t.type(0)));if(t.TraitType()){let e,n;return t.FatArrow()?(e=new Ad(this.visitType(t.type(0))),n=this.visitType(t.type(1))):(e=kd.value,n=this.visitType(t.type(0))),new aT(e,n)}{let e=this.visitBtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++)e=new oT(e,this.visitBtype(t.getChild(n)));return e}}visitBtype(t){let e=this.visitAtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++){const r=t.getChild(n);r.ruleIndex===hQ.RULE_sort&&(e=new oT(e,this.visitSort(r)))}return e}visitAtype(t){if(t.getChild(0).symbol)switch(t.getChild(0).symbol.type){case hQ.Int:return GS.value;case hQ.Double:return jS.value;case hQ.Bool:return ZS.value;case hQ.String:return YS.value;case hQ.Top:return KS.value;case hQ.Bot:return JS.value;case hQ.BracketOpen:return new hT(this.visitType(t.type()));case hQ.ParenOpen:return this.visitType(t.type());default:console.error("Error at Atype")}else switch(t.getChild(0).ruleIndex){case hQ.RULE_typeName:return this.visitTypeName(t.typeName());case hQ.RULE_recordType:return this.visitRecordType(t.recordType());default:console.error("Error at Atype")}}visitRecordType(t){return new nT(this.listify(t.recordTypeField().map(this.visitRecordTypeField,this)))}visitRecordTypeField(t){return new zS(this.visitLabelDecl(t.labelDecl()),this.visitType(t.type()),null!==t.Question())}visitExpression(t){const e={line:t.start.line,column:t.start.column},n=this.visitOpexpr(t.opexpr());let r;return r=t.Colon()?new _T(n,this.visitType(t.type())):n,new JT(e,r)}visitOpexpr(t){let e;switch(t.getChildCount()){case 1:return this.visitLexpr(t.lexpr());case 2:switch(t.getChild(0).symbol.type){case hQ.Minus:e=nR.value;break;case hQ.Not:e=rR.value;break;case hQ.Length:e=iR.value;break;default:console.error("Error at Unary Opexpr")}return new ST(e,this.visitOpexpr(t.opexpr(0)));default:const n=this.visitOpexpr(t.opexpr(0)),r=this.visitOpexpr(t.opexpr(1));switch(t.getChild(1).symbol.type){case hQ.Index:e=yR.value;break;case hQ.Asterisk:e=new RR(gR.value);break;case hQ.Slash:e=new RR(pR.value);break;case hQ.Modulo:e=new RR(mR.value);break;case hQ.Plus:e=new RR(vR.value);break;case hQ.Minus:e=new RR(dR.value);break;case hQ.Append:e=xR.value;break;case hQ.Less:e=new OR(uR.value);break;case hQ.Greater:e=new OR(hR.value);break;case hQ.LessEqual:e=new OR(cR.value);break;case hQ.GreaterEqual:e=new OR(fR.value);break;case hQ.Equal:e=new OR(lR.value);break;case hQ.NotEqual:e=new OR(aR.value);break;case hQ.And:e=new wR(sR.value);break;case hQ.Or:e=new wR(oR.value);break;case hQ.Forward:return new XT(n,r);case hQ.Merge:return new LT(pT.value,n,r);case hQ.LeftistMerge:return new LT(mT.value,n,r);case hQ.RightistMerge:return new LT(RT.value,n,r);case hQ.BackslashMinus:return new WT(n,r);default:console.error("Error at Binary Opexpr")}return new TT(e,n,r)}}visitLexpr(t){switch(t.getChild(0).ruleIndex){case hQ.RULE_fexpr:return this.visitFexpr(t.fexpr());case hQ.RULE_lambda:return this.visitLambda(t.lambda());case hQ.RULE_bigLambda:return this.visitBigLambda(t.bigLambda());case hQ.RULE_letIn:return this.visitLetIn(t.letIn());case hQ.RULE_letRec:return this.visitLetRec(t.letRec());case hQ.RULE_openIn:return this.visitOpenIn(t.openIn());case hQ.RULE_ifElse:return this.visitIfElse(t.ifElse());case hQ.RULE_trait:return this.visitTrait(t.trait());case hQ.RULE_newTrait:return this.visitNewTrait(t.newTrait());case hQ.RULE_toStr:return this.visitToStr(t.toStr());case hQ.RULE_fold:return this.visitFold(t.fold());case hQ.RULE_unfold:return this.visitUnfold(t.unfold());default:console.error("Error at Lexpr")}}visitLambda(t){return new ET(this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression()))}visitBigLambda(t){return new QT(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitExpression(t.expression()))}visitLetIn(t){return new MT(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitLetRec(t){return new BT(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitType(t.type()),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitOpenIn(t){return new FT(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitIfElse(t){return new kT(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)),this.visitExpression(t.expression(2)))}visitTrait(t){return new $T(t.selfAnno()?new Ad(this.visitSelfAnno(t.selfAnno())):kd.value,t.type()?new Ad(this.visitType(t.type())):kd.value,2===t.opexpr().length?new Ad(this.visitOpexpr(t.opexpr(0))):kd.value,2===t.opexpr().length?this.visitOpexpr(t.opexpr(1)):this.visitOpexpr(t.opexpr(0)))}visitNewTrait(t){return new UT(this.visitOpexpr(t.opexpr()))}visitToStr(t){return new YT(this.visitDotexpr(t.dotexpr()))}visitFold(t){return new GT(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitUnfold(t){return new jT(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitFexpr(t){const e=t.getChild(0);let n,r;switch(e.ruleIndex){case hQ.RULE_ctorName:n=new AT(this.visitCtorName(e)),r=!0;break;case hQ.RULE_excludexpr:n=this.visitExcludexpr(e),r=!1;break;default:console.error("Error at Fexpr")}for(let e=1;e<t.getChildCount();e++){const r=t.getChild(e);n=r.ruleIndex===hQ.RULE_excludexpr?new PT(n,this.visitExcludexpr(r)):new NT(n,this.visitTypeArg(r))}return r?new UT(n):n}visitExcludexpr(t){const e=this.visitRenamexpr(t.renamexpr());return t.DoubleBackslashes()?new HT(e,this.visitBtype(t.btype())):t.Backslash()?new VT(e,this.visitLabel(t.label())):e}visitRenamexpr(t){const e=this.visitDotexpr(t.dotexpr());return t.label()?new zT(e,this.visitLabel(t.label()),this.visitLabelDecl(t.labelDecl())):e}visitDotexpr(t){let e=this.visitAexpr(t.aexpr());for(let n=0;n<t.label().length;n++)e=new IT(e,this.visitLabel(t.label(n)));return e}visitAexpr(t){let e=t.getChild(0);switch(e.ruleIndex){case hQ.RULE_termName:return this.visitTermName(t.termName());case hQ.RULE_document:return this.visitDocument(t.document());case hQ.RULE_array:return this.visitArray(t.array());case hQ.RULE_record:return this.visitRecord(t.record());case hQ.RULE_recordUpdate:return this.visitRecordUpdate(t.recordUpdate());default:switch(e.symbol.type){case hQ.IntLit:let n=e.getText();return n.includes(".")||n.includes("e")||n.includes("E")?new wT(parseFloat(n)):"Xx".includes(n[1])?new OT(parseInt(n.slice(2),16)):"Oo".includes(n[1])?new OT(parseInt(n.slice(2),8)):new OT(parseInt(n));case hQ.StringLit:const r="'\"\\bfnrtv",i="'\"\\\b\f\n\r\t\v",s=e.getText().slice(1,-1);let o="";for(let t=0;t<s.length;t++)if("\\"==s[t]){t++;for(let e=0;e<r.length;e++)s[t]===r[e]&&(o+=i[e])}else o+=s[t];return new xT(o);case hQ.Unit:return bT.value;case hQ.True_:return new yT(!0);case hQ.False_:return new yT(!1);case hQ.Undefined_:return CT.value;case hQ.Dollar:return new AT(this.visitCtorName(t.ctorName()));case hQ.ParenOpen:return this.visitExpression(t.expression());default:console.error("error at Aexpr")}}}visitArray(t){return new ZT(t.expression().map(this.visitExpression,this))}visitRecord(t){const e=[];for(let n=0;n<t.getChildCount();n++){let r=t.getChild(n);switch(r.ruleIndex){case hQ.RULE_recordField:e.push(this.visitRecordField(r));break;case hQ.RULE_methodPattern:e.push(this.visitMethodPattern(r));break;case hQ.RULE_defaultPattern:e.push(this.visitDefaultPattern(r));break;default:continue}}return new DT(this.listify(e))}visitRecordField(t){return new nk(null!==t.Override(),this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),new qd(this.visitExpression(t.expression())))}visitRecordUpdate(t){const e=[];for(let n=0;n<t.labelDecl().length;n++)e.push(new Rg(this.visitLabelDecl(t.labelDecl(n)),this.visitExpression(t.expression(n+1))));return new qT(this.visitExpression(t.expression(0)),this.listify(e))}visitMethodPattern(t){let e=[],n=[],r=!1;for(let i=0;i<t.getChildCount();i++)t.getChild(i).symbol&&t.getChild(i).symbol.type===hQ.Dot&&(r=!0),t.getChild(i).ruleIndex===hQ.RULE_termParam&&(r?n.push(this.visitTermParam(t.getChild(i))):e.push(this.visitTermParam(t.getChild(i))));return new nk(null!==t.Override(),this.visitLabelDecl(t.labelDecl(0)),this.listify(e),new $d(new ik(t.selfAnno()?new Ad(this.visitSelfAnno(t.selfAnno())):kd.value,this.visitLabelDecl(t.labelDecl(1)),this.listify(n),this.visitExpression(t.expression()))))}visitDefaultPattern(t){return new rk(new ik(t.selfAnno()?new Ad(this.visitSelfAnno(t.selfAnno())):kd.value,this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression())))}visitTypeArg(t){return this.visitBtype(t.btype())}visitTypeParam(t){return new Rg(this.visitTypeNameDecl(t.typeNameDecl()),t.type()?new Ad(this.visitType(t.type())):kd.value)}visitTermParam(t){switch(t.getChildCount()){case 1:switch(t.getChild(0).ruleIndex){case hQ.RULE_termNameDecl:return new tk(this.visitTermNameDecl(t.termNameDecl()),kd.value);case hQ.RULE_Underscore:return new tk("_",kd.value);case hQ.RULE_wildcard:return this.visitWildcard(t.wildcard());default:console.error("Error at TermParam")}case 5:return new tk(null===t.termNameDecl()?"_":this.visitTermNameDecl(t.termNameDecl()),new Ad(this.visitType(t.type())));default:console.error("Error at TermParam")}}visitWildcard(t){const e=t.labelDecl().map(this.visitLabelDecl,this),n=t.expression().map(this.visitExpression,this),r=[];for(let t=0;t<e.length;t++)r.push(new Rg(e[t],n[t]));return new ek(this.listify(r))}visitSelfAnno(t){return new Rg(this.visitTermNameDecl(t.termNameDecl()),t.type()?new Ad(this.visitType(t.type())):kd.value)}visitSort(t){let e,n;return t.FatArrow()?(e=this.visitType(t.type(0)),n=new Ad(this.visitType(t.type(1)))):(e=this.visitType(t.type(0)),n=kd.value),new uT(e,n)}visitTypeNameDecl(t){return t.getText()}visitTypeName(t){return new rT(t.getText())}visitTermNameDecl(t){return t.getText()}visitCtorName(t){return t.getText()}visitTermName(t){switch(t.getChild(0).symbol.type){case hQ.LowerId:return new AT(t.getText());case hQ.UpperId:return new UT(new AT(t.getText()));default:console.error("Error at TermName")}}visitLabelDecl(t){return t.getText()}visitLabel(t){return t.getText()}visitDocument(t){const e={line:t.start.line,column:t.start.column},n=t.docElement();let r;if(0===n.length)r=new UT(new PT(new AT("Str"),new xT("")));else{r=this.visitDocElement(n[0]);for(let t of n.slice(1))r=new UT(new PT(new PT(new AT("Comp"),r),this.visitDocElement(t)))}return new JT(e,new KT(r))}visitDocElement(t){const e=t.getChild(0);switch(e.ruleIndex){case hQ.RULE_command:return this.visitCommand(e);case hQ.RULE_interpolation:return this.visitInterpolation(e);case hQ.RULE_newline:return this.visitNewline(e);case hQ.RULE_plaintext:return this.visitPlaintext(e);default:console.error("Error at DocElement")}}visitCommand(t){const e={line:t.start.line,column:t.start.column},n=t.getChild(0).getText().slice(1),r=t.docArg().map(this.visitDocArg,this);let i=new AT(n);for(const t of r)i=new PT(i,t);return n[0].toUpperCase()===n[0]?new JT(e,new UT(i)):new JT(e,i)}visitInterpolation(t){return new UT(new PT(new AT("Str"),new YT(this.visitExpression(t.expression()))))}visitNewline(t){return new UT(new AT("Endl"))}visitPlaintext(t){return new UT(new PT(new AT("Str"),new xT(t.getText())))}visitDocArg(t){switch(t.getChild(0).symbol.type){case hQ.BracketOpenAsArg:return this.visitDocument(t);case hQ.ParenOpenAsArg:return this.visitExpression(t.expression());case hQ.BraceOpenAsArg:return new DT(this.listify(t.recordArgField().map(this.visitRecordArgField,this)));default:console.error("Error at DocArg")}}visitRecordArgField(t){const e=this.listify(t.termParam().map(this.visitTermParam,this));return new nk(!1,this.visitLabelDecl(t.labelDecl()),e,new qd(this.visitExpression(t.expression())))}}class gM extends oQ{constructor(t){super(t)}popMode(){return 0===this._modeStack.length?(this._interp.debug&&console.log("Mode stack is empty. Mode remains unchanged."),this._mode):(this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode)}}class pM extends rQ.error.ErrorListener{constructor(){super()}syntaxError(t,e,n,r,i,s){throw"SyntaxError at line "+n+":"+r+"\n"+i.charAt(0).toUpperCase()+i.slice(1)}}const mM=new class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}(wl.define({parser:dv.configure({props:[Ml.add({RecordType:Hl(),Record:Hl()}),Wl.add({RecordType:t=>({from:t.from+1,to:t.to-1}),Record:t=>({from:t.from+1,to:t.to-1}),Document:t=>({from:t.from+1,to:t.to-1})}),Wo({"type interface extends let letrec trait implements inherits":dl.definitionKeyword,"if then else new open in with toString fold unfold forall Int Double Bool String Top Bot Trait":dl.keyword,override:dl.modifier,"true false undefined":dl.atom,Unit:dl.unit,TermName:dl.variableName,TermNameDecl:dl.definition(dl.variableName),Label:dl.propertyName,LabelDecl:dl.definition(dl.propertyName),LineComment:dl.lineComment,BlockComment:dl.blockComment,Number:dl.number,String:dl.string,Document:dl.docString,TypeOp:dl.typeOperator,ArithOp:dl.arithmeticOperator,LogicOp:dl.logicOperator,CompareOp:dl.compareOperator,MergeOp:dl.operator,TraitArrow:dl.definition(dl.punctuation),"( )":dl.paren,"{ }":dl.brace,"[ ]":dl.squareBracket,"< >":dl.angleBracket,".":dl.derefOperator,";":dl.separator})]}),languageData:{closeBrackets:{brackets:["{","(","[",'"',"`"]},commentTokens:{line:"--",block:{open:"{-",close:"-}"}}}})),RM=new Z;function OM(t,e){const n={key:"Mod-Enter",run:()=>(e(),!0)};return Ct.create({doc:t,extensions:[Ei.lineWrapping,Ct.tabSize.of(2),Bi.of([Oc,n]),RM.of([]),$f]})}function wM(t,e){return new Ei({state:t,parent:e})}function xM(t){return kD(function(t){const e=new rQ.InputStream(t),n=new gM(e);n.removeErrorListeners(),n.addErrorListener(new pM);const r=new rQ.CommonTokenStream(n),i=new hQ(r);return i.buildParseTrees=!0,i.removeErrorListeners(),i.addErrorListener(new pM),i.program().accept(new dM)}(t))()}})(),bundle=r})();