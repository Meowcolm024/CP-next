var bundle;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{cp:()=>sQ,editorState:()=>lQ,editorView:()=>aQ,interpret:()=>uQ,language:()=>oQ});class n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=h(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),i.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=h(this,t,e);let n=[];return this.decompose(t,e,n,0),i.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new l(this),i=new l(t);for(let t=e,s=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(t=1){return new l(this,t)}iterRange(t,e=this.length){return new a(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):i.from(r.split(t,[])):n.empty}}class r extends n{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.text[i],o=r+s.length;if((e?n:o)>=t)return new c(r,o,n,s);r=o+1,n++}}decompose(t,e,n,i){let l=t<=0&&e>=this.length?this:new r(o(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=s(l.text,t.text.slice(),0,l.length);if(e.length<=32)n.push(new r(e,t.length+l.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(l)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);[t,e]=h(this,t,e);let l=s(this.text,s(n.text,o(this.text,0,t)),e),a=this.length+n.length-(e-t);return l.length<=32?new r(l,a):i.from(r.split(l,[]),a)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<=e&&s<this.text.length;s++){let o=this.text[s],l=i+o.length;i>t&&s&&(r+=n),t<l&&e>i&&(r+=o.slice(Math.max(0,t-i),e-i)),i=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let s of t)n.push(s),i+=s.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class i extends n{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.children[i],o=r+s.length,l=n+s.lines-1;if((e?l:o)>=t)return s.lineInner(t,e,n,r);r=o+1,n=l+1}}decompose(t,e,n,r){for(let i=0,s=0;s<=e&&i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(t<=l&&e>=s){let i=r&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!i?n.push(o):o.decompose(t-s,e-s,n,i)}s=l+1}}replace(t,e,n){if([t,e]=h(this,t,e),n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(t>=s&&e<=l){let a=o.replace(t-s,e-s,n),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let s=this.children.slice();return s[r]=a,new i(s,this.length-(e-t)+n.length)}return super.replace(s,l,a)}s=l+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<this.children.length&&s<=e;i++){let o=this.children[i],l=s+o.length;s>t&&i&&(r+=n),t<l&&e>s&&(r+=o.sliceString(t-s,e-s,n)),s=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof i))return 0;let n=0,[r,s,o,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,s+=e){if(r==o||s==l)return n;let i=this.children[r],a=t.children[s];if(i!=a)return n+i.scanIdentical(a,e);n+=i.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let s=Math.max(32,n>>5),o=s<<1,l=s>>1,a=[],u=0,c=-1,h=[];function f(t){let e;if(t.lines>o&&t instanceof i)for(let e of t.children)f(e);else t.lines>l&&(u>l||!u)?(d(),a.push(t)):t instanceof r&&u&&(e=h[h.length-1])instanceof r&&t.lines+e.lines<=32?(u+=t.lines,c+=t.length+1,h[h.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(u+t.lines>s&&d(),u+=t.lines,c+=t.length+1,h.push(t))}function d(){0!=u&&(a.push(1==h.length?h[0]:i.from(h,c)),c=-1,u=h.length=0)}for(let e of t)f(e);return d(),1==a.length?a[0]:new i(a,e)}}function s(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let l=t[s],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function o(t,e,n){return s(t,[""],e,n)}n.empty=new r([""],0);class l{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof r?i.text.length:i.children.length;if(o==(e>0?l:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=i.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class a{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new l(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=a.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class c{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function h(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}let f="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<f.length;t++)f[t]+=f[t-1];function d(t){for(let e=1;e<f.length;e+=2)if(f[e]>t)return f[e-1]<=t;return!1}function v(t){return t>=127462&&t<=127487}const g=8205;function p(t,e,n=!0,r=!0){return(n?m:R)(t,e,r)}function m(t,e,n){if(e==t.length)return e;e&&O(t.charCodeAt(e))&&w(t.charCodeAt(e-1))&&e--;let r=x(t,e);for(e+=b(r);e<t.length;){let i=x(t,e);if(r==g||i==g||n&&d(i))e+=b(i),r=i;else{if(!v(i))break;{let n=0,r=e-2;for(;r>=0&&v(x(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function R(t,e,n){for(;e>0;){let r=m(t,e-2,n);if(r<e)return r;e--}return 0}function O(t){return t>=56320&&t<57344}function w(t){return t>=55296&&t<56320}function x(t,e){let n=t.charCodeAt(e);if(!w(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return O(r)?r-56320+(n-55296<<10)+65536:n}function y(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function b(t){return t<65536?1:2}const C=/\r\n?|\n/;var k=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(k||(k={}));class T{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];s<0?(t(n,r,i),r+=i):r+=s,n+=i}}iterChangedRanges(t,e=!1){E(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new T(t)}composeDesc(t){return this.empty?t:t.empty?this:L(this,t)}mapDesc(t,e=!1){return t.empty?this:_(this,t,e)}mapPos(t,e=-1,n=k.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],a=r+o;if(l<0){if(a>t)return i+(t-r);i+=o}else{if(n!=k.Simple&&a>=t&&(n==k.TrackDel&&r<t&&a>t||n==k.TrackBefore&&r<t||n==k.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!o)return t==r||e<0?i:i+l;i+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new T(t)}static create(t){return new T(t)}}class S extends T{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return E(this,((e,n,r,i,s)=>t=t.replace(r,r+(n-e),s)),!1),t}mapDesc(t,e=!1){return _(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,s=0;i<e.length;i+=2){let o=e[i],l=e[i+1];if(l>=0){e[i]=l,e[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(n.empty);r.push(o?t.slice(s,s+o):n.empty)}s+=o}return new S(e,r)}compose(t){return this.empty?t:t.empty?this:L(this,t,!0)}map(t,e=!1){return t.empty?this:_(this,t,e,!0)}iterChanges(t,e=!1){E(this,t,e)}get desc(){return T.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new D(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,l-o);A(r,t,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;A(e,t,s),s>0&&P(n,e,i.text),i.forward(t),o+=t}let a=t[s++];for(;o<a;){if(i.done)break t;let t=Math.min(i.len,a-o);A(e,t,-1),A(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),o+=t}}return{changes:new S(e,n),filtered:T.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],s=[],o=0,l=null;function a(t=!1){if(!t&&!i.length)return;o<e&&A(i,e-o,-1);let n=new S(i,s);l=l?l.compose(n.map(l)):n,i=[],s=[],o=0}return function t(u){if(Array.isArray(u))for(let e of u)t(e);else if(u instanceof S){if(u.length!=e)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${e})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:t,to:l=t,insert:c}=u;if(t>l||t<0||l>e)throw new RangeError(`Invalid change range ${t} to ${l} (in doc of length ${e})`);let h=c?"string"==typeof c?n.of(c.split(r||C)):c:n.empty,f=h.length;if(t==l&&0==f)return;t<o&&a(),t>o&&A(i,t-o,-1),A(i,l-t,f),P(s,i,h),o=l}}(t),a(!l),l}static empty(t){return new S(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let s=t[i];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{for(;r.length<i;)r.push(n.empty);r[i]=n.of(s.slice(1)),e.push(s[0],r[i].length)}}}return new S(e,r)}static createSet(t,e){return new S(t,e)}}function A(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function P(t,e,r){if(0==r.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<i;)t.push(n.empty);t.push(r)}}function E(t,e,r){let i=t.inserted;for(let s=0,o=0,l=0;l<t.sections.length;){let a=t.sections[l++],u=t.sections[l++];if(u<0)s+=a,o+=a;else{let c=s,h=o,f=n.empty;for(;c+=a,h+=u,u&&i&&(f=f.append(i[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)a=t.sections[l++],u=t.sections[l++];e(s,c,o,h,f),s=c,o=h}}}function _(t,e,n,r=!1){let i=[],s=r?[]:null,o=new D(t),l=new D(e);for(let t=-1;;)if(-1==o.ins&&-1==l.ins){let t=Math.min(o.len,l.len);A(i,t,-1),o.forward(t),l.forward(t)}else if(l.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(l.len<o.len||l.len==o.len&&!n))){let e=l.len;for(A(i,l.ins,-1);e;){let n=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=n&&(A(i,0,o.ins),s&&P(s,i,o.text),t=o.i),o.forward(n),e-=n}l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?S.createSet(i,s):T.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=o.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}A(i,e,t<o.i?o.ins:0),s&&t<o.i&&P(s,i,o.text),t=o.i,o.forward(o.len-n)}}}function L(t,e,n=!1){let r=[],i=n?[]:null,s=new D(t),o=new D(e);for(let t=!1;;){if(s.done&&o.done)return i?S.createSet(r,i):T.create(r);if(0==s.ins)A(r,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=r.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;A(r,e,n,t),i&&n&&P(i,r,o.text)}else-1==o.ins?(A(r,s.off?0:s.len,e,t),i&&P(i,r,s.textBit(e))):(A(r,s.off?0:s.len,o.off?0:o.ins,t),i&&!o.off&&P(i,r,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||r.length>n),s.forward2(e),o.forward(e)}}else A(r,0,o.ins,t),i&&P(i,r,o.text),o.next()}}class D{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?n.empty:e[r].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class I{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new I(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return N.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return N.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(t.anchor,t.head)}static create(t,e,n){return new I(t,e,n)}}class N{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:N.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new N([this.main],0)}addRange(t,e=!0){return N.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,N.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new N(t.ranges.map((t=>I.fromJSON(t))),t.main)}static single(t,e=t){return new N([N.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return N.normalized(t.slice(),e);n=i.to}return new N(t,e)}static cursor(t,e=0,n,r){return I.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(t,e,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return e<t?I.create(e,t,48|i):I.create(t,e,(e>t?8:0)|i)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?N.range(o,s):N.range(s,o))}}return new N(t,e)}}function Q(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let M=0;class F{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=M++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(t={}){return new F(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:$),!!t.static,t.enables)}of(t){return new B([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function $(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class B{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=M++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,s=t[i]>>1,o=2==this.type,l=!1,a=!1,u=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?a=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&u.push(t[n.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||W(t,u)){let e=n(t);if(o?!U(e,t.values[s],r):!r(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let l,a=e.config.address[i];if(null!=a){let i=rt(e,a);if(this.dependencies.every((n=>n instanceof F?e.facet(n)===t.facet(n):!(n instanceof q)||e.field(n,!1)==t.field(n,!1)))||(o?U(l=n(t),i,r):r(l=n(t),i)))return t.values[s]=i,0}else l=n(t);return t.values[s]=l,1}}}}function U(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function W(t,e){let n=!1;for(let r of e)1&nt(t,r)&&(n=!0);return n}function V(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),s=r.filter((t=>!(1&t))),o=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<r.length;e++){let s=rt(t,r[e]);if(2==i[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of r)nt(t,e);return t.values[o]=l(t),1},update(t,n){if(!W(t,s))return 0;let r=l(t);return e.compare(r,t.values[o])?0:(t.values[o]=r,1)},reconfigure(t,i){let s=W(t,r),a=i.config.facets[e.id],u=i.facet(e);if(a&&!s&&$(n,a))return t.values[o]=u,0;let c=l(t);return e.compare(c,u)?(t.values[o]=u,0):(t.values[o]=c,1)}}}const H=F.define({static:!0});class q{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new q(M++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(H).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,H.of({field:this,create:t})]}get extension(){return this}}const X=4,j=3,z=2,Y=1;function G(t){return e=>new K(e,t)}const Z={highest:G(0),high:G(Y),default:G(z),low:G(j),lowest:G(X)};class K{constructor(t,e){this.inner=t,this.prec=e}}class J{of(t){return new tt(this,t)}reconfigure(t){return J.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class tt{constructor(t,e){this.compartment=t,this.inner=e}}class et{constructor(t,e,n,r,i,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),s=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(t,o){let l=i.get(t);if(null!=l){if(l<=o)return;let e=r[l].indexOf(t);e>-1&&r[l].splice(e,1),t instanceof tt&&n.delete(t.compartment)}if(i.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof tt){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(t.compartment)||t.inner;n.set(t.compartment,r),s(r,o)}else if(t instanceof K)s(t.inner,t.prec);else if(t instanceof q)r[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof B)r[o].push(t),t.facet.extensions&&s(t.facet.extensions,z);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,z),r.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof q?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let o=Object.create(null),l=[],a=[];for(let t of r)o[t.id]=a.length<<1,a.push((e=>t.slot(e)));let u=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,s=u&&u[t]||[];if(e.every((t=>0==t.type)))if(o[r.id]=l.length<<1|1,$(s,e))l.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));l.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(o[t.id]=l.length<<1|1,l.push(t.value)):(o[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));o[r.id]=a.length<<1,a.push((t=>V(t,r,e)))}}let c=a.map((t=>t(o)));return new et(t,s,c,o,l,i)}}function nt(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function rt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const it=F.define(),st=F.define({combine:t=>t.some((t=>t)),static:!0}),ot=F.define({combine:t=>t.length?t[0]:void 0,static:!0}),lt=F.define(),at=F.define(),ut=F.define(),ct=F.define({combine:t=>!!t.length&&t[0]});class ht{constructor(t,e){this.type=t,this.value=e}static define(){return new ft}}class ft{of(t){return new ht(this,t)}}class dt{constructor(t){this.map=t}of(t){return new vt(this,t)}}class vt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new vt(this.type,e)}is(t){return this.type==t}static define(t={}){return new dt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}vt.reconfigure=vt.define(),vt.appendConfig=vt.define();class gt{constructor(t,e,n,r,i,s){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,n&&Q(n,e.newLength),i.some((t=>t.type==gt.time))||(this.annotations=i.concat(gt.time.of(Date.now())))}static create(t,e,n,r,i,s){return new gt(t,e,n,r,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(gt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function pt(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else{if(!(i<e.length))return n;s=e[i++],o=e[i++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function mt(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=S.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:vt.mapEffects(t.effects,i).concat(vt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Rt(t,e,n){let r=e.selection,i=xt(e.annotations);return e.userEvent&&(i=i.concat(gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof S?e.changes:S.of(e.changes||[],n,t.facet(ot)),selection:r&&(r instanceof N?r:N.single(r.anchor,r.head)),effects:xt(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Ot(t,e,n){let r=Rt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let s=!!e[i].sequential;r=mt(r,Rt(t,e[i],s?r.changes.newLength:t.doc.length),s)}let i=gt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(ut),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=mt(r,Rt(e,s,t.changes.newLength),!0))}return r==t?t:gt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(lt)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:pt(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=S.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=gt.create(e,r,t.selection&&t.selection.map(i),vt.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(at);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof gt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof gt?i[0]:Ot(e,xt(i),!1)}return t}(i):i)}gt.time=ht.define(),gt.userEvent=ht.define(),gt.addToHistory=ht.define(),gt.remote=ht.define();const wt=[];function xt(t){return null==t?wt:Array.isArray(t)?t:[t]}var yt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yt||(yt={}));const bt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ct;try{Ct=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}function kt(t){return e=>{if(!/\S/.test(e))return yt.Space;if(function(t){if(Ct)return Ct.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||bt.test(n)))return!0}return!1}(e))return yt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return yt.Word;return yt.Other}}class Tt{constructor(t,e,n,r,i,s){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)nt(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return nt(this,n),rt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Ot(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(J.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(vt.reconfigure)?(n=null,r=e.value):e.is(vt.appendConfig)&&(n=null,r=xt(r).concat(e.value));if(n)e=t.startState.values.slice();else{n=et.resolve(r,i,this);let t=new Tt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}let s=t.startState.facet(st)?t.newSelection:t.newSelection.asSingle();new Tt(n,t.newDoc,s,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:N.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],s=xt(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),l=this.changes(o.changes),a=l.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(a);let u=r.mapDesc(l,!0);i.push(o.range.map(u)),r=r.compose(a),s=vt.mapEffects(s,a).concat(vt.mapEffects(xt(o.effects),u))}return{changes:r,selection:N.create(i,e.mainIndex),effects:s}}changes(t=[]){return t instanceof S?t:S.of(t,this.doc.length,this.facet(Tt.lineSeparator))}toText(t){return n.of(t.split(this.facet(Tt.lineSeparator)||C))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(nt(this,e),rt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof q&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],s=t[e];r.push(i.init((t=>i.spec.fromJSON(s,t))))}return Tt.create({doc:t.doc,selection:N.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=et.resolve(t.extensions||[],new Map),r=t.doc instanceof n?t.doc:n.of((t.doc||"").split(e.staticFacet(Tt.lineSeparator)||C)),i=t.selection?t.selection instanceof N?t.selection:N.single(t.selection.anchor,t.selection.head):N.single(0);return Q(i,r.length),e.staticFacet(st)||(i=i.asSingle()),new Tt(e,r,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Tt.tabSize)}get lineBreak(){return this.facet(Tt.lineSeparator)||"\n"}get readOnly(){return this.facet(ct)}phrase(t,...e){for(let e of this.facet(Tt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(it))for(let s of i(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&r.push(s[t]);return r}charCategorizer(t){return kt(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=p(e,s,!1);if(i(e.slice(t,s))!=yt.Word)break;s=t}for(;o<r;){let t=p(e,o);if(i(e.slice(o,t))!=yt.Word)break;o=t}return s==o?null:N.range(s+n,o+n)}}function St(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],s=r[t];if(void 0===s)r[t]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](s,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}Tt.allowMultipleSelections=st,Tt.tabSize=F.define({combine:t=>t.length?t[0]:4}),Tt.lineSeparator=ot,Tt.readOnly=ct,Tt.phrases=F.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),Tt.languageData=it,Tt.changeFilter=lt,Tt.transactionFilter=at,Tt.transactionExtender=ut,J.reconfigure=vt.define();class At{eq(t){return this==t}range(t,e=t){return Pt.create(t,e,this)}}At.prototype.startSide=At.prototype.endSide=0,At.prototype.point=!1,At.prototype.mapMode=k.TrackDel;class Pt{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Pt(t,e,n)}}function Et(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _t{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let s=r,o=i.length;;){if(s==o)return s;let r=s+o>>1,l=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==s)return l>=0?s:o;l>=0?o=r:s=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,i);i<s;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,u,c=this.value[l],h=this.from[l]+t,f=this.to[l]+t;if(h==f){let t=e.mapPos(h,c.startSide,c.mapMode);if(null==t)continue;if(a=u=t,c.startSide!=c.endSide&&(u=e.mapPos(h,c.endSide),u<a))continue}else if(a=e.mapPos(h,c.startSide),u=e.mapPos(f,c.endSide),a>u||a==u&&c.startSide>0&&c.endSide<=0)continue;(u-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,u-a)),n.push(c),r.push(a-s),i.push(u-s))}return{mapped:n.length?new _t(r,i,n,o):null,pos:s}}}class Lt{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new Lt(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(Et)),this.isEmpty)return e.length?Lt.of(e):this;let o=new Nt(this,null,-1).goto(0),l=0,a=[],u=new Dt;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let t=e[l++];u.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||i<o.from||s(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||a.push(Pt.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!a.length?Lt.empty:this.nextLayer.update({add:a,filter:s,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i],l=t.touchesRange(s,s+o.length);if(!1===l)r=Math.max(r,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===l){let{mapped:i,pos:l}=o.map(s,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(l))}}let i=this.nextLayer.map(t);return 0==e.length?i:new Lt(n,e,i||Lt.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r];if(e>=i&&t<=i+s.length&&!1===s.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Qt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Qt.from(t).goto(e)}static compare(t,e,n,r,i=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),l=It(s,o,n),a=new Ft(s,l,i),u=new Ft(o,l,i);n.iterGaps(((t,e,n)=>$t(a,t,u,e,n,r))),n.empty&&0==n.length&&$t(a,0,u,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=999999999);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=s.length)return!1;if(!i.length)return!0;let o=It(i,s),l=new Ft(i,o,0).goto(n),a=new Ft(s,o,0).goto(n);for(;;){if(l.to!=a.to||!Bt(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>r)return!0;l.next(),a.next()}}static spans(t,e,n,r,i=-1){let s=new Ft(t,null,i).goto(e),o=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),i=s.pointFrom<e?n.length+1:Math.min(n.length,l);r.point(o,t,s.point,n,i,s.pointRank),l=Math.min(s.openEnd(t),n.length)}else t>o&&(r.span(o,t,s.active,l),l=s.openEnd(t));if(s.to>n)return l+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(t,e=!1){let n=new Dt;for(let r of t instanceof Pt?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Et(e,r)>0)return t.slice().sort(Et);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}}Lt.empty=new Lt([],[],null,-1),Lt.empty.nextLayer=Lt.empty;class Dt{finishChunk(t){this.chunks.push(new _t(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Dt)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Lt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Lt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function It(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=r.get(t.chunk[e]);null==s||(n?n.mapPos(s):s)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(s,s+t.chunk[e].length))||i.add(t.chunk[e])}return i}class Nt{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Qt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let s=t[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new Nt(s,e,n,i));return 1==r.length?r[0]:new Qt(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Mt(this.heap,0)}}}function Mt(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Ft{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Qt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ut(this.active,t),Ut(this.activeTo,t),Ut(this.activeRank,t),this.minActive=Vt(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=i;)e++;Wt(this.active,e,n),Wt(this.activeTo,e,r),Wt(this.activeRank,e,i),t&&Wt(t,e,this.cursor.from),this.minActive=Vt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Ut(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function $t(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,l=r,a=r-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,r=e<0?t.to+a:n.to,i=Math.min(r,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Bt(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,i,t.point,n.point):i>l&&!Bt(t.active,n.active)&&s.compareRange(l,i,t.active,n.active),r>o)break;l=r,e<=0&&t.next(),e>=0&&n.next()}}function Bt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ut(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Wt(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function Vt(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Ht(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=p(t,i));return r}function qt(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=p(t,r)}return!0===r?-1:t.length}const Xt="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),jt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Yt{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,s,o){let l=[],a=/^@(\w+)\b/.exec(t[0]),u=a&&"keyframes"==a[1];if(a&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),o,l,u)}else null!=o&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(l.length||u)&&s.push((!n||a||o?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=zt[Xt]||1;return zt[Xt]=t+1,"ͼ"+t.toString(36)}static mount(t,e,n){let r=t[jt],i=n&&n.nonce;r?i&&r.setNonce(i):r=new Zt(t,i),r.mount(Array.isArray(e)?e:[e])}}let Gt=new Map;class Zt{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let e=Gt.get(n);if(e)return t.adoptedStyleSheets=[e.sheet,...t.adoptedStyleSheets],t[jt]=e;this.sheet=new r.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],Gt.set(n,this)}else{this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);let r=t.head||t;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],t[jt]=this}mount(t){let e=this.sheet,n=0,r=0;for(let i=0;i<t.length;i++){let s=t[i],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),e)for(let t=0;t<s.rules.length;t++)e.insertRule(s.rules[t],n++)}else{for(;r<o;)n+=this.modules[r++].rules.length;n+=s.rules.length,r++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var Kt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},te="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ee="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ne=0;ne<10;ne++)Kt[48+ne]=Kt[96+ne]=String(ne);for(ne=1;ne<=24;ne++)Kt[ne+111]="F"+ne;for(ne=65;ne<=90;ne++)Kt[ne]=String.fromCharCode(ne+32),Jt[ne]=String.fromCharCode(ne);for(var re in Kt)Jt.hasOwnProperty(re)||(Jt[re]=Kt[re]);function ie(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function se(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function oe(t,e){if(!e.anchorNode)return!1;try{return se(t,e.anchorNode)}catch(t){return!1}}function le(t){return 3==t.nodeType?Re(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ae(t,e,n,r){return!!n&&(ce(t,e,n,r,-1)||ce(t,e,n,r,1))}function ue(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ce(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:he(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=ue(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?he(t):0}}}function he(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function fe(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function de(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class ve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?he(e):0),n,Math.min(t.focusOffset,n?he(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let ge,pe=null;function me(t){if(t.setActive)return t.setActive();if(pe)return t.focus(pe);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==pe?{get preventScroll(){return pe={preventScroll:!0},!0}}:void 0),!pe){pe=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function Re(t,e,n=e){let r=ge||(ge=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Oe(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function we(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function xe(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class ye{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new ye(t.parentNode,ue(t),e)}static after(t,e){return new ye(t.parentNode,ue(t)+1,e)}}const be=[];class Ce{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,r=this.dom,i=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=i?i.nextSibling:r.firstChild)){let t=Ce.get(n);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t,e),s.flags&=-8}if(n=i?i.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&n!=s.dom&&(e.written=!0),s.dom.parentNode==r)for(;n&&n!=s.dom;)n=ke(n);else r.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:r.firstChild,n&&e&&e.node==r&&(e.written=!0);n;)n=ke(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==he(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ce.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,s=-1,o=-1;for(let l=0,a=n,u=n;l<this.children.length;l++){let n=this.children[l],c=a+n.length;if(a<t&&c>e)return n.domBoundsAround(t,e,a);if(c>=t&&-1==r&&(r=l,i=a),a>e&&n.dom.parentNode==this.dom){s=l,o=u;break}u=c,a=c+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=be){this.markDirty();for(let r=t;r<e;r++){let t=this.children[r];t.parent==this&&n.indexOf(t)<0&&t.destroy()}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Te(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,i,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.destroy();this.parent=null}}function ke(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Ce.prototype.breakAfter=0;class Te{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Se(t,e,n,r,i,s,o,l,a){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,0==n,l,a))){if(r<u.length){let t=u[r];t&&(i<t.length||t.breakAfter&&(null==h?void 0:h.breakAfter))?(e==r&&(t=t.split(i),i=0),!f&&h&&t.merge(0,i,h,!0,0,a)?s[s.length-1]=t:((i||t.children.length&&!t.children[0].length)&&t.merge(0,i,null,!1,0,a),s.push(t))):(null==t?void 0:t.breakAfter)&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,l,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),a=s.length?0:l;else{if(!u[e].become(s[0]))break;e++,s.shift(),l=s.length?0:a}!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Ae(t,e,n,r,i,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h,Se(t,u,c,l,a,r,0,i,s)}let Pe="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Ee="undefined"!=typeof document?document:{documentElement:{style:{}}};const _e=/Edge\/(\d+)/.exec(Pe.userAgent),Le=/MSIE \d/.test(Pe.userAgent),De=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pe.userAgent),Ie=!!(Le||De||_e),Ne=!Ie&&/gecko\/(\d+)/i.test(Pe.userAgent),Qe=!Ie&&/Chrome\/(\d+)/.exec(Pe.userAgent),Me="webkitFontSmoothing"in Ee.documentElement.style,Fe=!Ie&&/Apple Computer/.test(Pe.vendor),$e=Fe&&(/Mobile\/\w+/.test(Pe.userAgent)||Pe.maxTouchPoints>2);var Be={mac:$e||/Mac/.test(Pe.platform),windows:/Win/.test(Pe.platform),linux:/Linux|X11/.test(Pe.platform),ie:Ie,ie_version:Le?Ee.documentMode||6:De?+De[1]:_e?+_e[1]:0,gecko:Ne,gecko_version:Ne?+(/Firefox\/(\d+)/.exec(Pe.userAgent)||[0,0])[1]:0,chrome:!!Qe,chrome_version:Qe?+Qe[1]:0,ios:$e,android:/Android\b/.test(Pe.userAgent),webkit:Me,safari:Fe,webkit_version:Me?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Ee.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Ue extends Ce{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof Ue)||this.length-(e-t)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Ue(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new ye(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;0==e&&n<0||e==r&&n>=0?Be.chrome||Be.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let l=Re(t,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:n>=0)?0:l.length-1];Be.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,(t=>t.width))||a);return o?fe(a,o<0):a||null}(this.dom,t,e)}}class We extends Ce{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(we(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,i,s){return(!n||!(!(n instanceof We&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&s<=0))&&(Ae(this,t,e,n?n.children:[],i-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,r=-1,i=0;for(let s of this.children){let o=n+s.length;o>t&&e.push(n<t?s.split(t-n):s),r<0&&n>=t&&(r=i),n=o,i++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new We(this.mark,e,s)}domAtPos(t){return qe(this,t)}coordsAt(t,e){return je(this,t,e)}}class Ve extends Ce{static create(t,e,n){return new Ve(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=Ve.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof Ve&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof Ve&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return n.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):n.empty}domAtPos(t){return(this.length?0==t:this.side>0)?ye.before(this.dom):ye.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?r.length-1:0;i=r[e],!(t>0?0==e:e==r.length-1||i.top<i.bottom);e+=s?-1:1);return fe(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class He extends Ce{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof He&&t.side==this.side}split(){return new He(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?ye.before(this.dom):ye.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.empty}get isHidden(){return!0}}function qe(t,e){let n=t.dom,{children:r}=t,i=0;for(let t=0;i<r.length;i++){let s=r[i],o=t+s.length;if(!(o==t&&s.getSide()<=0)){if(e>t&&e<o&&s.dom.parentNode==n)return s.domAtPos(e-t);if(e<=t)break;t=o}}for(let t=i;t>0;t--){let e=r[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=i;t<r.length;t++){let e=r[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new ye(n,0)}function Xe(t,e,n){let r,{children:i}=t;n>0&&e instanceof We&&i.length&&(r=i[i.length-1])instanceof We&&r.mark.eq(e.mark)?Xe(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function je(t,e,n){let r=null,i=-1,s=null,o=-1;!function t(e,l){for(let a=0,u=0;a<e.children.length&&u<=l;a++){let c=e.children[a],h=u+c.length;h>=l&&(c.children.length?t(c,l-u):(!s||s.isHidden&&n>0)&&(h>l||u==h&&c.getSide()>0)?(s=c,o=l-u):(u<l||u==h&&c.getSide()<0&&!c.isHidden)&&(r=c,i=l-u)),u=h}}(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=le(e);return n[n.length-1]||null}(t)}function ze(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}Ue.prototype.children=Ve.prototype.children=He.prototype.children=be;const Ye=Object.create(null);function Ge(t,e,n){if(t==e)return!0;t||(t=Ye),e||(e=Ye);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(-1==i.indexOf(s)||t[s]!==e[s]))return!1;return!0}function Ze(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,"style"==i?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,"style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Ke(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Je extends Ce{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,s){if(n){if(!(n instanceof Je))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Ae(this,t,e,n?n.children:[],i,s),!0}split(t){let e=new Je;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Ge(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Xe(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=ze(e,this.attrs||{})),n&&(this.attrs=ze({class:n},this.attrs||{}))}domAtPos(t){return qe(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(we(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Ze(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&Ce.get(r)instanceof We;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Ce.get(r))||void 0===n?void 0:n.isEditable)||Be.ios&&this.children.some((t=>t instanceof Ue))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof Ue)||/[^ -~]/.test(n.text))return null;let r=le(n.dom);if(1!=r.length)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=je(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let r=(e-t.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(t){return!1}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let i=t.children[n],s=r+i.length;if(s>=e){if(i instanceof Je)return i;if(s>e)break}r=s+i.breakAfter}return null}}class tn extends Ce{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof tn&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?ye.before(this.dom):ye.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new tn(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return be}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.empty}domBoundsAround(){return null}become(t){return t instanceof tn&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class en{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}destroy(t){}}var nn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(nn||(nn={}));class rn extends At{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new sn(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new ln(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,r=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:i,end:s}=an(t,r);e=(i?r?-3e8:-1:5e8)-1,n=1+(s?r?2e8:1:-6e8)}return new ln(t,e,n,r,t.widget||null,!0)}static line(t){return new on(t)}static set(t,e=!1){return Lt.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}rn.none=Lt.empty;class sn extends rn{constructor(t){let{start:e,end:n}=an(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof sn&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&Ge(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}sn.prototype.point=!1;class on extends rn{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof on&&this.spec.class==t.spec.class&&Ge(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}on.prototype.mapMode=k.TrackBefore,on.prototype.point=!0;class ln extends rn{constructor(t,e,n,r,i,s){super(e,n,i,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?k.TrackBefore:k.TrackAfter:k.TrackDel}get type(){return this.startSide!=this.endSide?nn.WidgetRange:this.startSide<=0?nn.WidgetBefore:nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof ln&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function an(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function un(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}ln.prototype.point=!0;class cn{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof tn&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Je),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(hn(new He(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof tn||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(hn(new Ue(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i,s){if(this.disallowBlockEffectsFor[s]&&n instanceof ln){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof ln)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new tn(n.widget||new fn("div"),o,n));else{let s=Ve.create(n.widget||new fn("span"),o,o?0:n.startSide),l=this.atCursorPos&&!s.isEditable&&i<=r.length&&(t<e||n.startSide>0),a=!s.isEditable&&(t<e||i>r.length||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(hn(new He(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(hn(s,r),i),this.atCursorPos=a,this.pendingBuffer=a?t<e||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r,i){let s=new cn(t,e,n,i);return s.openEnd=Lt.spans(r,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function hn(t,e){for(let n of e)t=new We(n,[t],t.length);return t}class fn extends en{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const dn=F.define(),vn=F.define(),gn=F.define(),pn=F.define(),mn=F.define(),Rn=F.define(),On=F.define(),wn=F.define({combine:t=>t.some((t=>t))}),xn=F.define({combine:t=>t.some((t=>t))});class yn{constructor(t,e="nearest",n="nearest",r=5,i=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=s}map(t){return t.empty?this:new yn(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new yn(N.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const bn=vt.define({map:(t,e)=>t.map(e)});function Cn(t,e,n){let r=t.facet(pn);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const kn=F.define({combine:t=>!t.length||t[0]});let Tn=0;const Sn=F.define();class An{constructor(t,e,n,r,i){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:i,decorations:s}=e||{};return new An(Tn++,t,n,r,(t=>{let e=[Sn.of(t)];return s&&e.push(Ln.of((e=>{let n=e.plugin(t);return n?s(n):rn.none}))),i&&e.push(i(t)),e}))}static fromClass(t,e){return An.define((e=>new t(e)),e)}}class Pn{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(Cn(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Cn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){Cn(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const En=F.define(),_n=F.define(),Ln=F.define(),Dn=F.define(),In=F.define();function Nn(t,e,n){let r=t.state.facet(In);if(!r.length)return r;let i=r.map((e=>e instanceof Function?e(t):e)),s=[];return Lt.spans(i,e,n,{point(){},span(t,e,n,r){let i=s;for(let s=n.length-1;s>=0;s--,r--){let o,l=n[s].spec.bidiIsolate;if(null!=l)if(r>0&&i.length&&(o=i[i.length-1]).to==t&&o.direction==l)o.to=e,i=o.inner;else{let n={from:t,to:e,direction:l,inner:[]};i.push(n),i=n.inner}}}}),s}const Qn=F.define();function Mn(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(Qn)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Fn=F.define();class $n{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new $n(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,s=0,o=0;;r++){let l=r==t.length?null:t[r],a=s-o,u=l?l.fromB:1e9;for(;i<e.length&&e[i]<u;){let t=e[i],r=e[i+1],s=Math.max(o,t),l=Math.min(u,r);if(s<=l&&new $n(s+a,l+a,s,l).addToSet(n),r>u)break;i+=2}if(!l)return n;new $n(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,o=l.toB}}}class Bn{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=S.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new $n(t,e,n,i)))),this.changedRanges=r}static create(t,e,n){return new Bn(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Un=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Un||(Un={}));const Wn=Un.LTR,Vn=Un.RTL;function Hn(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const qn=Hn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Xn=Hn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jn=Object.create(null),zn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);jn[e]=n,jn[n]=-e}const Yn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Gn{get dir(){return this.level%2?Vn:Wn}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,n,r){let i=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(i<0||(0!=r?r<0?o.from<e:o.to>e:t[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function Zn(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Zn(r.inner,i.inner))return!1}return!0}const Kn=[];function Jn(t,e,n,r,i,s,o){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<n;){let e=!0,c=!1;if(u==s.length||a<s[u].from){let t=Kn[a];t!=l&&(e=!1,c=16==t)}let h=e||1!=l?null:[],f=e?r:r+1,d=a;t:for(;;)if(u<s.length&&d==s[u].from){if(c)break t;let v=s[u];if(!e)for(let t=v.to,e=u+1;;){if(t==n)break t;if(!(e<s.length&&s[e].from==t)){if(Kn[t]==l)break t;break}t=s[e++].to}if(u++,h)h.push(v);else{v.from>a&&o.push(new Gn(a,v.from,f)),tr(t,v.direction==Wn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.to}d=v.to}else{if(d==n||(e?Kn[d]!=l:Kn[d]==l))break;d++}h?Jn(t,a,d,r+1,i,h,o):a<d&&o.push(new Gn(a,d,f)),a=d}else for(let a=n,u=s.length;a>e;){let n=!0,c=!1;if(!u||a>s[u-1].to){let t=Kn[a-1];t!=l&&(n=!1,c=16==t)}let h=n||1!=l?null:[],f=n?r:r+1,d=a;t:for(;;)if(u&&d==s[u-1].to){if(c)break t;let v=s[--u];if(!n)for(let t=v.from,n=u;;){if(t==e)break t;if(!n||s[n-1].to!=t){if(Kn[t-1]==l)break t;break}t=s[--n].from}if(h)h.push(v);else{v.to<a&&o.push(new Gn(v.to,a,f)),tr(t,v.direction==Wn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.from}d=v.from}else{if(d==e||(n?Kn[d-1]!=l:Kn[d-1]==l))break;d--}h?Jn(t,d,a,r+1,i,h,o):d<a&&o.push(new Gn(d,a,f)),a=d}}function tr(t,e,n,r,i,s,o){let l=e%2?2:1;!function(t,e,n,r,i){for(let o=0;o<=r.length;o++){let l=o?r[o-1].to:e,a=o<r.length?r[o].from:n,u=o?256:i;for(let e=l,n=u,r=u;e<a;e++){let i=(s=t.charCodeAt(e))<=247?qn[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?Xn[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8203?256:64336<=s&&s<=65023?4:8204==s?256:1;512==i?i=n:8==i&&4==r&&(i=16),Kn[e]=4==i?2:i,7&i&&(r=i),n=i}for(let t=l,e=u,r=u;t<a;t++){let i=Kn[t];if(128==i)t<a-1&&e==Kn[t+1]&&24&e?i=Kn[t]=e:Kn[t]=256;else if(64==i){let i=t+1;for(;i<a&&64==Kn[i];)i++;let s=t&&8==e||i<n&&8==Kn[i]?1==r?1:8:256;for(let e=t;e<i;e++)Kn[e]=s;t=i-1}else 8==i&&1==r&&(Kn[t]=1);e=i,7&i&&(r=i)}}var s}(t,i,s,r,l),function(t,e,n,r,i){let s=1==i?2:1;for(let o=0,l=0,a=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let e,n,r,o=u;o<c;o++)if(n=jn[e=t.charCodeAt(o)])if(n<0){for(let t=l-3;t>=0;t-=3)if(zn[t+1]==-n){let e=zn[t+2],n=2&e?i:4&e?1&e?s:i:0;n&&(Kn[o]=Kn[zn[t]]=n),l=t;break}}else{if(189==zn.length)break;zn[l++]=o,zn[l++]=e,zn[l++]=a}else if(2==(r=Kn[o])||1==r){let t=r==i;a=t?0:1;for(let e=l-3;e>=0;e-=3){let n=zn[e+2];if(2&n)break;if(t)zn[e+2]|=2;else{if(4&n)break;zn[e+2]|=4}}}}}(t,i,s,r,l),function(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let a=o;a<l;){let o=Kn[a];if(256==o){let o=a+1;for(;;)if(o==l){if(i==n.length)break;o=n[i++].to,l=i<n.length?n[i].from:e}else{if(256!=Kn[o])break;o++}let u=1==s,c=u==(1==(o<e?Kn[o]:r))?u?1:2:r;for(let e=o,r=i,s=r?n[r-1].to:t;e>a;)e==s&&(e=n[--r].from,s=r?n[r-1].to:t),Kn[--e]=c;a=o}else s=o,a++}}}(i,s,r,l),Jn(t,i,s,e,n,r,o)}function er(t,e,n){if(!t)return[new Gn(0,0,e==Vn?1:0)];if(e==Wn&&!n.length&&!Yn.test(t))return nr(t.length);if(n.length)for(;t.length>Kn.length;)Kn[Kn.length]=256;let r=[],i=e==Wn?0:1;return tr(t,i,i,n,0,t.length,r),r}function nr(t){return[new Gn(0,t,0)]}let rr="";function ir(t,e,n,r,i){var s;let o=r.head-t.from,l=-1;if(0==o){if(!i||!t.length)return null;e[0].level!=n&&(o=e[0].side(!1,n),l=0)}else if(o==t.length){if(i)return null;let t=e[e.length-1];t.level!=n&&(o=t.side(!0,n),l=e.length-1)}l<0&&(l=Gn.find(e,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let a=e[l];o==a.side(i,n)&&(a=e[l+=i?1:-1],o=a.side(!i,n));let u=i==(a.dir==n),c=p(t.text,o,u);if(rr=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=a.side(i,n))return N.cursor(c+t.from,u?-1:1,a.level);let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h||a.level==n?h&&h.level<a.level?N.cursor(h.side(!i,n)+t.from,i?1:-1,h.level):N.cursor(c+t.from,i?-1:1,a.level):N.cursor(i?t.to:t.from,i?-1:1,n)}class sr extends Ce{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Je],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new $n(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?r=this.domChanged.newSel.head:function(t,e){let n=!1;e&&t.iterChangedRanges(((t,r)=>{t<e.to&&r>e.from&&(n=!0)}));return n}(t.changes,this.hasComposition)||t.selectionSet||(r=t.state.selection.main.head));let i=r>-1?function(t,e,n){let r=lr(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,l=i.nodeValue;if(/[\n\r]/.test(l))return null;if(t.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new $n(a.mapPos(s),a.mapPos(o),s,o),c=[];for(let e=i.parentNode;;e=e.parentNode){let n=Ce.get(e);if(n instanceof We)c.push({node:e,deco:n.mark});else{if(n instanceof Je||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new sn({inclusive:!0,attributes:Ke(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:r}=this.hasComposition;n=new $n(e,r,t.changes.mapPos(e,-1),t.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Be.ie||Be.chrome)&&!i&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,n){let r=new ur;return Lt.compare(t,e,n,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return n=$n.extendWithRanges(n,s),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,i),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=Be.chrome||Be.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||r.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof tn&&t.widget instanceof or&&i.push(t.dom);r.updateGaps(i)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,i=this.childCursor(e);for(let t=r.length-1;;t--){let e=t>=0?r[t]:null;if(!e)break;let s,o,l,a,{fromA:u,toA:c,fromB:h,toB:f}=e;if(n&&n.range.fromB<f&&n.range.toB>h){let t=cn.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=cn.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,l=t.openStart,a=e.openEnd;let r=this.compositionView(n);e.breakAtStart?r.breakAfter=1:e.content.length&&r.merge(r.length,r.length,e.content[0],!1,e.openStart,0)&&(r.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&r.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(r).concat(e.content)}else({content:s,breakAtStart:o,openStart:l,openEnd:a}=cn.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:d,off:v}=i.findPos(c,1),{i:g,off:p}=i.findPos(u,-1);Se(this,g,p,d,v,s,o,l,a)}n&&this.fixCompositionDOM(n)}compositionView(t){let e=new Ue(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new We(n,[e],e.length);let n=new Je;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=Ce.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let i=t.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],e(i>=0?t.marks[i].node:t.text,r)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&oe(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||i))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),a=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(Be.gecko&&o.empty&&!this.hasComposition&&(1==(u=l).node.nodeType&&u.node.firstChild&&(0==u.offset||"false"==u.node.childNodes[u.offset-1].contentEditable)&&(u.offset==u.node.childNodes.length||"false"==u.node.childNodes[u.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null))),l=a=new ye(t,0),s=!0}var u;let c=this.view.observer.selectionRange;!s&&c.focusNode&&ae(l.node,l.offset,c.anchorNode,c.anchorOffset)&&ae(a.node,a.offset,c.focusNode,c.focusOffset)||(this.view.observer.ignore((()=>{Be.android&&Be.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=ie(this.view.root);if(t)if(o.empty){if(Be.gecko){let t=(e=l.node,r=l.offset,1!=e.nodeType?0:(r&&"false"==e.childNodes[r-1].contentEditable?1:0)|(r<e.childNodes.length&&"false"==e.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=ar(l.node,l.offset,1==t?1:-1);e&&(l=new ye(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=o.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=o.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(a.node,a.offset)}catch(t){}}else{let e=document.createRange();o.anchor>o.head&&([l,a]=[a,l]),e.setEnd(a.node,a.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}else;var e,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,a)),this.impreciseAnchor=l.precise?null:new ye(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new ye(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=ie(t.root),{anchorNode:r,anchorOffset:i}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let s=Je.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let l=this.coordsAt(e.head,-1),a=this.coordsAt(e.head,1);if(!l||!a||l.bottom>a.top)return;let u=this.domAtPos(e.head+e.assoc);n.collapse(u.node,u.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&n.collapse(r,i)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let r=t.offset;!e&&r<n.childNodes.length;r++){let t=Ce.get(n.childNodes[r]);t instanceof Je&&(e=t.domAtPos(0))}for(let r=t.offset-1;!e&&r>=0;r--){let t=Ce.get(n.childNodes[r]);t instanceof Je&&(e=t.domAtPos(t.length))}return e?new ye(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Ce.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof Je)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],l=i-o.breakAfter,a=l-o.length;if(l<t)break;a<=t&&(a<t||o.covers(-1))&&(l>t||o.covers(1))&&(!n||o instanceof Je&&!(n instanceof Je&&e>=0))&&(n=o,r=a),i=a}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof Je))return null;for(;r.children.length;){let{i:t,off:e}=r.childPos(n,1);for(;;t++){if(t==r.children.length)return null;if((r=r.children[t]).length)break}n=e}if(!(r instanceof Ue))return null;let i=p(r.text,n);if(i==n)return null;let s=Re(r.dom,n,i).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(t==s.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Un.LTR;for(let t=0,a=0;a<this.children.length;a++){let u=this.children[a],c=t+u.length;if(c>r)break;if(t>=n){let n=u.dom.getBoundingClientRect();if(e.push(n.height),s){let e=u.dom.lastChild,r=e?le(e):[];if(r.length){let e=r[r.length-1],s=l?e.right-n.left:n.right-e.left;s>o&&(o=s,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+u.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Un.RTL:Un.LTR}measureTextSize(){for(let t of this.children)if(t instanceof Je){let e=t.measureTextSize();if(e)return e}let t,e,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=le(r.firstChild)[0];t=r.getBoundingClientRect().height,e=i?i.width/27:7,n=i?i.height:t,r.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Te(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],s=i?i.from-1:this.length;if(s>n){let r=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(rn.replace({widget:new or(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!i)break;n=i.to+1}return rn.set(t)}updateDeco(){let t=this.view.state.facet(Ln).map(((t,e)=>(this.dynamicDecorationMap[e]="function"==typeof t)?t(this.view):t));for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}let e,{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,e.left),top:Math.min(r.top,e.top),right:Math.max(r.right,e.right),bottom:Math.max(r.bottom,e.bottom)});let i=Mn(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;!function(t,e,n,r,i,s,o,l){let a=t.ownerDocument,u=a.defaultView||window;for(let c=t,h=!1;c&&!h;)if(1==c.nodeType){let t,f=c==a.body,d=1,v=1;if(f)t=de(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();d=e.width/c.offsetWidth,v=e.height/c.offsetHeight,t={left:e.left,right:e.left+c.clientWidth*d,top:e.top,bottom:e.top+c.clientHeight*v}}let g=0,p=0;if("nearest"==i)e.top<t.top?(p=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+p&&(p=e.bottom-t.bottom+p+o)):e.bottom>t.bottom&&(p=e.bottom-t.bottom+o,n<0&&e.top-p<t.top&&(p=-(t.top+p-e.top+o)));else{let r=e.bottom-e.top,s=t.bottom-t.top;p=("center"==i&&r<=s?e.top+r/2-s/2:"start"==i||"center"==i&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==r?e.left<t.left?(g=-(t.left-e.left+s),n>0&&e.right>t.right+g&&(g=e.right-t.right+g+s)):e.right>t.right&&(g=e.right-t.right+s,n<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+s))):g=("center"==r?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==r==l?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||p)if(f)u.scrollBy(g,p);else{let t=0,n=0;if(p){let t=c.scrollTop;c.scrollTop+=p/v,n=(c.scrollTop-t)*v}if(g){let e=c.scrollLeft;c.scrollLeft+=g/d,t=(c.scrollLeft-e)*d}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(r="nearest"),n&&Math.abs(n-p)<1&&(i="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==Un.LTR)}}class or extends en{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function lr(t,e){let n=t.observer.selectionRange,r=n.focusNode&&ar(n.focusNode,n.focusOffset,0);if(!r)return null;let i=e-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function ar(t,e,n){if(n<=0)for(let n=t,r=e;;){if(3==n.nodeType)return{node:n,offset:r};if(!(1==n.nodeType&&r>0))break;n=n.childNodes[r-1],r=he(n)}if(n>=0)for(let r=t,i=e;;){if(3==r.nodeType)return{node:r,offset:i};if(!(1==r.nodeType&&i<r.childNodes.length&&n>=0))break;r=r.childNodes[i],i=0}return null}let ur=class{constructor(){this.changes=[]}compareRange(t,e){un(t,e,this.changes)}comparePoint(t,e){un(t,e,this.changes)}};function cr(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function hr(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function fr(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function dr(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function vr(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function gr(t,e,n){let r,i,s,o,l,a,u,c,h=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=le(f);for(let d=0;d<t.length;d++){let v=t[d];i&&fr(i,v)&&(v=dr(vr(v,i.bottom),i.top));let g=cr(e,v),p=hr(n,v);if(0==g&&0==p)return 3==f.nodeType?pr(f,e,n):gr(f,e,n);if(!r||o>p||o==p&&s>g){r=f,i=v,s=g,o=p;let l=p?n<v.top?-1:1:g?e<v.left?-1:1:0;h=!l||(l>0?d<t.length-1:d>0)}0==g?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=f,u=v):n<v.top&&(!c||c.top>v.top)&&(a=f,c=v):u&&fr(u,v)?u=vr(u,v.bottom):c&&fr(c,v)&&(c=dr(c,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):c&&c.top<=n&&(r=a,i=c),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?pr(r,f,n):h&&"false"!=r.contentEditable?gr(r,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function pr(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<r;l++){let r=Re(t,l,l+1).getClientRects();for(let a=0;a<r.length;a++){let u=r[a];if(u.top==u.bottom)continue;o||(o=e-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<s){let n=e>=(u.left+u.right)/2,r=n;if(Be.chrome||Be.gecko){Re(t,l).getBoundingClientRect().left==u.right&&(r=!n)}if(c<=0)return{node:t,offset:l+(r?1:0)};i=l+(r?1:0),s=c}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function mr(t,e,n,r=-1){var i,s;let o,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,i=!1;o=t.elementAtHeight(f),o.type!=nn.Text;)for(;f=r>0?o.bottom+e:o.top-e,!(f>=0&&f<=u);){if(i)return n?null:0;i=!0,r=-r}h=a+f;let d=o.from;if(d<t.viewport.from)return 0==t.viewport.from?0:n?null:Rr(t,l,o,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Rr(t,l,o,c,h);let v=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:v,p=g.elementFromPoint(c,h);p&&!t.contentDOM.contains(p)&&(p=null),p||(c=Math.max(l.left+1,Math.min(l.right-1,c)),p=g.elementFromPoint(c,h),p&&!t.contentDOM.contains(p)&&(p=null));let m,R=-1;if(p&&0!=(null===(i=t.docView.nearest(p))||void 0===i?void 0:i.isEditable))if(v.caretPositionFromPoint){let t=v.caretPositionFromPoint(c,h);t&&({offsetNode:m,offset:R}=t)}else if(v.caretRangeFromPoint){let e=v.caretRangeFromPoint(c,h);e&&(({startContainer:m,startOffset:R}=e),(!t.contentDOM.contains(m)||Be.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return Re(t,r-1,r).getBoundingClientRect().left>n}(m,R,c)||Be.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}let r=1==t.nodeType?t.getBoundingClientRect():Re(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(m,R,c))&&(m=void 0))}if(!m||!t.docView.dom.contains(m)){let e=Je.find(t.docView,d);if(!e)return f>o.top+o.height/2?o.to:o.from;({node:m,offset:R}=gr(e.dom,c,h))}let O=t.docView.nearest(m);if(!O)return null;if(O.isWidget&&1==(null===(s=O.dom)||void 0===s?void 0:s.nodeType)){let t=O.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?O.posAtStart:O.posAtEnd}return O.localPosFromDOM(m,R)+O.posAtStart}function Rr(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((i-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+qt(o,s,t.state.tabSize)}function Or(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==nn.Text))return t;return n}function wr(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let l=e,a=null;;){let e=ir(i,s,o,l,n),u=rr;if(!e){if(i.number==(n?t.state.doc.lines:1))return l;u="\n",i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),e=N.cursor(n?i.from:i.to)}if(a){if(!a(u))return l}else{if(!r)return e;a=r(u)}l=e}}function xr(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,((t,i,s)=>{if(e>t&&e<i){let s=r||n||(e-t<i-e?-1:1);e=s<0?t:i,r=s}}));if(!r)return e}}function yr(t,e,n){let r=xr(t.state.facet(Dn).map((e=>e(t))),n.from,e.head>n.from?-1:1);return r==n.from?n:N.cursor(r,r<n.from?1:-1)}class br{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Be.safari&&t.contentDOM.addEventListener("input",(()=>null)),Be.gecko&&function(t){Gr.has(t)||(Gr.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Ce.get(r))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=kr(t),n=this.handlers,r=this.view.contentDOM;for(let t in e)if("scroll"!=t){let i=!e[t].handlers.length,s=n[t];s&&i!=!s.handlers.length&&(r.removeEventListener(t,this.handleEvent),s=null),s||r.addEventListener(t,this.handleEvent,{passive:i})}for(let t in n)"scroll"==t||e[t]||r.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=t.keyCode&&Ar.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),Be.android&&Be.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Be.ios||t.synthetic||t.altKey||t.metaKey||!((e=Tr.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Sr.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Oe(this.view.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Be.safari&&!Be.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Cr(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(t){Cn(n.state,t)}}}function kr(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let r in t.domEventHandlers){let i=t.domEventHandlers[r];i&&n(r).handlers.push(Cr(e.value,i))}if(t&&t.domEventObservers)for(let r in t.domEventObservers){let i=t.domEventObservers[r];i&&n(r).observers.push(Cr(e.value,i))}}for(let t in _r)n(t).handlers.push(_r[t]);for(let t in Lr)n(t).observers.push(Lr[t]);return e}const Tr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Sr="dthko",Ar=[16,17,18,20,91,92,224,225];function Pr(t){return.7*Math.max(0,t)+8}class Er{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=function(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM),this.atoms=t.state.facet(Dn).map((e=>e(t)));let i=t.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Tt.allowMultipleSelections)&&function(t,e){let n=t.state.facet(dn);return n.length?n[0](e):Be.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=ie(t.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=Hr(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){var e;if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let n=0,r=0,i=(null===(e=this.scrollParent)||void 0===e?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=Mn(this.view);t.clientX-s.left<=i.left+6?n=-Pr(i.left-t.clientX):t.clientX+s.right>=i.right-6&&(n=Pr(t.clientX-i.right)),t.clientY-s.top<=i.top+6?r=-Pr(i.top-t.clientY):t.clientY+s.bottom>=i.bottom-6&&(r=Pr(t.clientY-i.bottom)),this.setScrollSpeed(n,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],i=null;if(r.empty){let t=xr(this.atoms,r.from,0);t!=r.from&&(i=N.cursor(t,-1))}else{let t=xr(this.atoms,r.from,-1),e=xr(this.atoms,r.to,1);t==r.from&&e==r.to||(i=N.range(r.from==r.anchor?t:e,r.from==r.head?t:e))}i&&(e||(e=t.ranges.slice()),e[n]=i)}return e?N.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!n.eq(e.state.selection)||n.main.assoc!=e.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const _r=Object.create(null),Lr=Object.create(null),Dr=Be.ie&&Be.ie_version<15||Be.ios&&Be.webkit_version<604;function Ir(t,e){let n,{state:r}=t,i=1,s=r.toText(e),o=s.lines==r.selection.ranges.length,l=null!=Xr&&r.selection.ranges.every((t=>t.empty))&&Xr==s.toString();if(l){let t=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==t)return{range:n};t=l.from;let a=r.toText((o?s.line(i++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:a},range:N.cursor(n.from+a.length)}}))}else n=o?r.changeByRange((t=>{let e=s.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:N.cursor(t.from+e.length)}})):r.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Nr(t,e,n,r){if(1==r)return N.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(0==i.length)return N.cursor(e);0==s?n=1:s==i.length&&(n=-1);let o=s,l=s;n<0?o=p(i.text,s,!1):l=p(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let t=p(i.text,o,!1);if(r(i.text.slice(t,o))!=a)break;o=t}for(;l<i.length;){let t=p(i.text,l);if(r(i.text.slice(l,t))!=a)break;l=t}return N.range(o+i.from,l+i.from)}(t.state,e,n);{let n=Je.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),i=n?n.posAtStart:r.from,s=n?n.posAtEnd:r.to;return s<t.state.doc.length&&s==r.to&&s++,N.range(i,s)}}Lr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},_r.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&(t.inputState.lastEscPress=Date.now()),!1),Lr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Lr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},_r.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(gn))if(n=r(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=$r(t,e),r=Hr(e),i=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),i=i.map(t.changes))},get(e,s,o){let l,a=$r(t,e),u=Nr(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let e=Nr(t,n.pos,n.bias,r),i=Math.min(e.from,u.from),s=Math.max(e.to,u.to);u=i<u.from?N.range(i,s):N.range(s,i)}return s?i.replaceRange(i.main.extend(u.from,u.to)):o&&1==r&&i.ranges.length>1&&(l=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return N.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(i,a.pos))?l:o?i.addRange(u):N.create([u])}}}(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Er(t,e,n,r)),r&&t.observer.ignore((()=>me(t.contentDOM)));let i=t.inputState.mouseSelection;if(i)return i.start(e),!1===i.dragging}return!1};let Qr=(t,e)=>t>=e.top&&t<=e.bottom,Mr=(t,e,n)=>Qr(e,n)&&t>=n.left&&t<=n.right;function Fr(t,e,n,r){let i=Je.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Mr(n,r,o))return-1;let l=i.coordsAt(s,1);return l&&Mr(n,r,l)?1:o&&Qr(r,o)?-1:1}function $r(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Fr(t,n,e.clientX,e.clientY)}}const Br=Be.ie&&Be.ie_version<=11;let Ur=null,Wr=0,Vr=0;function Hr(t){if(!Br)return t.detail;let e=Ur,n=Vr;return Ur=t,Vr=Date.now(),Wr=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Wr+1)%3:1}function qr(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&function(t,e){let n=t.state.facet(vn);return n.length?n[0](e):Be.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,l={from:i,insert:n},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}_r.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let t=r.posAtStart,e=t+r.length;(t>=n.to||e<=n.from)&&(n=N.range(t,e))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1},_r.dragend=t=>(t.inputState.draggedContent=null,!1),_r.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&qr(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),s()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return qr(t,e,n,!0),!0}return!1},_r.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Dr?null:e.clipboardData;return n?(Ir(t,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),Ir(t,n.value)}),50)}(t),!1)};let Xr=null;_r.copy=_r.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let s=t.doc.lineAt(r);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}(t.state);if(!n&&!i)return!1;Xr=i?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=Dr?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),!1)};const jr=ht.define();function zr(t,e){let n=[];for(let r of t.facet(On)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:jr.of(!0)}):null}function Yr(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=zr(t.state,e);n?t.dispatch(n):t.update([])}}),10)}Lr.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Yr(t)},Lr.blur=t=>{t.observer.clearSelectionRange(),Yr(t)},Lr.compositionstart=Lr.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)},Lr.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Be.chrome&&Be.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50)},Lr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},_r.beforeinput=(t,e)=>{var n;let r;if(Be.chrome&&Be.android&&(r=Tr.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return!1};const Gr=new Set;const Zr=["pre-wrap","normal","pre-line","break-spaces"];class Kr{constructor(t){this.lineWrapping=t,this.doc=n.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Zr.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,i,s){let o=Zr.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=i,l){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class Jr{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ti{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ln?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new ti(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var ei=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(ei||(ei={}));const ni=.001;class ri{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>ni&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return ri.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this,s=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:l,toA:a,fromB:u,toB:c}=r[o],h=i.lineAt(l,ei.ByPosNoHeight,n.setDoc(e),0,0),f=h.to>=a?h:i.lineAt(a,ei.ByPosNoHeight,n,0,0);for(c+=f.to-a,a=f.to;o>0&&h.from<=r[o-1].toA;)l=r[o-1].fromA,u=r[o-1].fromB,o--,l<h.from&&(h=i.lineAt(l,ei.ByPosNoHeight,n,0,0));u+=h.from-l,l=h.from;let d=ui.build(n.setDoc(s),t,u,c);i=i.replace(l,a,d)}return i.updateHeight(n,0)}static empty(){return new si(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new li(ri.of(t.slice(0,e)),s,ri.of(t.slice(n)))}}ri.prototype.size=1;class ii extends ri{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new ti(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,s){t<=i+this.length&&e>=i&&s(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class si extends ii{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new ti(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof si||r instanceof oi&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof oi?r=new si(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):ri.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class oi extends ri{constructor(t){super(t,0)}heightMetrics(t,e){let n,r=t.doc.lineAt(e).number,i=t.doc.lineAt(e+this.length).number,s=i-r+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);n=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else n=this.height/s;return{firstLine:r,lastLine:i,perLine:n,perChar:o}}blockAt(t,e,n,r){let{firstLine:i,lastLine:s,perLine:o,perChar:l}=this.heightMetrics(e,r);if(e.lineWrapping){let i=r+Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length),s=e.doc.lineAt(i),a=o+s.length*l,u=Math.max(n,t-a/2);return new ti(s.from,s.length,u,a,0)}{let r=Math.max(0,Math.min(s-i,Math.floor((t-n)/o))),{from:l,length:a}=e.doc.line(i+r);return new ti(l,a,n+o*r,o,0)}}lineAt(t,e,n,r,i){if(e==ei.ByHeight)return this.blockAt(t,n,r,i);if(e==ei.ByPosNoHeight){let{from:e,to:r}=n.doc.lineAt(t);return new ti(e,r-e,0,0,0)}let{firstLine:s,perLine:o,perChar:l}=this.heightMetrics(n,i),a=n.doc.lineAt(t),u=o+a.length*l,c=a.number-s,h=r+o*c+l*(a.from-i-c);return new ti(a.from,a.length,Math.max(r,Math.min(h,r+this.height-u)),u,0)}forEachLine(t,e,n,r,i,s){t=Math.max(t,i),e=Math.min(e,i+this.length);let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(n,i);for(let u=t,c=r;u<=e;){let e=n.doc.lineAt(u);if(u==t){let n=e.number-o;c+=l*n+a*(t-i-n)}let r=l+a*e.length;s(new ti(e.from,e.length,c,r,0)),c+=r,u=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof oi?n[n.length-1]=new oi(t.length+r):n.push(null,new oi(r-1))}if(t>0){let e=n[0];e instanceof oi?n[0]=new oi(t+e.length):n.unshift(new oi(t-1),null)}return ri.of(n)}decomposeLeft(t,e){e.push(new oi(t-1),null)}decomposeRight(t,e){e.push(null,new oi(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],s=Math.max(e,r.from),o=-1;for(r.from>e&&n.push(new oi(r.from-e-1).updateHeight(t,e));s<=i&&r.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==o?o=i:Math.abs(i-o)>=ni&&(o=-2);let l=new si(e,i);l.outdated=!1,n.push(l),s+=e+1}s<=i&&n.push(null,new oi(i-s).updateHeight(t,s));let l=ri.of(n);return(o<0||Math.abs(l.height-this.height)>=ni||Math.abs(o-this.heightMetrics(t,e).perLine)>=ni)&&(t.heightChanged=!0),l}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class li extends ri{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let s=r+this.left.height,o=i+this.left.length+this.break,l=e==ei.ByHeight?t<s:t<o,a=l?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,s,o);if(this.break||(l?a.to<o:a.from>o))return a;let u=e==ei.ByPosNoHeight?ei.ByPosNoHeight:ei.ByPos;return l?a.join(this.right.lineAt(o,u,n,s,o)):this.left.lineAt(o,u,n,r,i).join(a)}forEachLine(t,e,n,r,i,s){let o=r+this.left.height,l=i+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,i,s),e>=l&&this.right.forEachLine(t,e,n,o,l,s);else{let a=this.lineAt(l,ei.ByPos,n,r,i);t<a.from&&this.left.forEachLine(t,a.from-1,n,r,i,s),a.to>=t&&a.from<=e&&s(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,o,l,s)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let s=i.length;for(let t of n)i.push(t);if(t>0&&ai(i,s-1),e<this.length){let t=i.length;this.decomposeRight(e,i),ai(i,t)}return ri.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?ri.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:s}=this,o=e+i.length+this.break,l=null;return r&&r.from<=e+i.length&&r.more?l=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=o+s.length&&r.more?l=s=s.updateHeight(t,o,n,r):s.updateHeight(t,o,n),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ai(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof oi&&(r=t[e+1])instanceof oi&&t.splice(e-1,3,new oi(n.length+1+r.length))}class ui{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof si?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new si(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new ii(s,r,n)):(s||i||r>=5)&&this.addLineDeco(r,i,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new si(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new oi(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof si)return t;let e=new si(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof si||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new si(0,-1));let n=t;for(let t of this.nodes)t instanceof si&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let i=new ui(n,t);return Lt.spans(e,n,r,i,0),i.finish(n)}}class ci{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&un(t,e,this.changes,5)}}function hi(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=r.body;)if(1==e.nodeType){let n=e,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();s=Math.max(s,r.left),o=Math.min(o,r.right),l=Math.max(l,r.top),a=e==t.parentNode?r.bottom:Math.min(a,r.bottom)}e="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function fi(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class di{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t,e){return rn.replace({widget:new vi(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class vi extends en{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class gi{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=wi,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Un.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(_n).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new Kr(e),this.stateDeco=t.facet(Ln).filter((t=>"function"!=typeof t)),this.heightMap=ri.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle.setDoc(t.doc),[new $n(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=rn.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineBlockAt(r);t.push(new pi(e,n))}}this.viewports=t.sort(((t,e)=>t.from-e.from)),this.scaler=this.heightMap.height<=7e6?wi:new xi(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(1==this.scaler.scale?t:yi(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Ln).filter((t=>"function"!=typeof t));let r=t.changedRanges,i=$n.extendWithRanges(r,function(t,e,n){let r=new ci;return Lt.compare(t,e,n,r,0),r.changes}(n,this.stateDeco,t?t.changes:S.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=s&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=i.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let a=!t.changes.empty||2&t.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(xn)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Un.RTL:Un.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=e.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let t=l.width/e.offsetWidth,n=l.height/e.offsetHeight;(t>.995&&t<1.005||!isFinite(t)||Math.abs(l.width-e.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(l.height-e.offsetHeight)<1)&&(n=1),this.scaleX==t&&this.scaleY==n||(this.scaleX=t,this.scaleY=n,u|=8,o=a=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==f||(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=8);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=xe(t.scrollDOM);let v=(this.printing?fi:hi)(e,this.paddingTop),g=v.top-this.pixelViewport.top,p=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let R=l.width;if(this.contentDOMWidth==R&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,u|=8),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(o=!0),o||i.lineWrapping&&Math.abs(R-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:r,textHeight:l}=t.docView.measureTextSize();o=n>0&&i.refresh(s,n,r,l,R/r,e),o&&(t.docView.minWidth=0,u|=8)}g>0&&p>0?c=Math.max(g,p):g<0&&p<0&&(c=Math.min(g,p)),i.heightChanged=!1;for(let r of this.viewports){let s=r.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(r);this.heightMap=(o?ri.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle,[new $n(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Jr(r.from,s))}i.heightChanged&&(u|=2)}let O=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&u||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,l=new pi(r.lineAt(s-1e3*n,ei.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),ei.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(t,ei.ByPos,i,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-s,l=new pi(r.lineAt(n-500,ei.ByHeight,i,0,0).from,r.lineAt(n+s+500,ei.ByHeight,i,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new pi(this.heightMap.lineAt(n,ei.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,ei.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,ei.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(e,ei.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||r<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>s-2e3&&i<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new di(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,s=r<<1;if(this.defaultTextDirection!=Un.LTR&&!n)return[];let o=[],l=(r,s,a,u)=>{if(s-r<i)return;let c=this.state.selection.main,h=[c.from];c.empty||h.push(c.to);for(let t of h)if(t>r&&t<s)return l(r,t-10,a,u),void l(t+10,s,a,u);let f=function(t,e){for(let n of t)if(e(n))return n;return}(t,(t=>t.from>=a.from&&t.to<=a.to&&Math.abs(t.from-r)<i&&Math.abs(t.to-s)<i&&!h.some((e=>t.from<e&&t.to>e))));if(!f){if(s<a.to&&e&&n&&e.visibleRanges.some((t=>t.from<=s&&t.to>=s))){let t=e.moveToLineBoundary(N.cursor(s),!1,!0).head;t>r&&(s=t)}f=new di(r,s,this.gapSize(a,r,s,u))}o.push(f)};for(let t of this.viewportLines){if(t.length<s)continue;let e=mi(t.from,t.to,this.stateDeco);if(e.total<s)continue;let i,o,a=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,s,l=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let r=Oi(e,a),i=((this.visibleBottom-this.visibleTop)/2+l)/t.height;n=r-i,s=r+i}else n=(this.visibleTop-t.top-l)/t.height,s=(this.visibleBottom-t.top+l)/t.height;i=Ri(e,n),o=Ri(e,s)}else{let t,n,s=e.total*this.heightOracle.charWidth,l=r*this.heightOracle.charWidth;if(null!=a){let r=Oi(e,a),i=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/s;t=r-i,n=r+i}else t=(this.pixelViewport.left-l)/s,n=(this.pixelViewport.right+l)/s;i=Ri(e,t),o=Ri(e,n)}i>t.from&&l(t.from,i,t,e),o<t.to&&l(o,t.to,t,e)}return o}gapSize(t,e,n,r){let i=Oi(r,n)-Oi(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){di.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=rn.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Lt.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||yi(this.heightMap.lineAt(t,ei.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return yi(this.heightMap.lineAt(this.scaler.fromDOM(t),ei.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return yi(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class pi{constructor(t,e){this.from=t,this.to=e}}function mi(t,e,n){let r=[],i=t,s=0;return Lt.spans(n,t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),s+=t-i),i=e}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Ri({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],s=i-n;if(r<=s)return n+r;r-=s}}function Oi(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}const wi={toDOM:t=>t,fromDOM:t=>t,scale:1};class xi{constructor(t,e,n){let r=0,i=0,s=0;this.viewports=n.map((({from:n,to:i})=>{let s=e.lineAt(n,ei.ByPos,t,0,0).top,o=e.lineAt(i,ei.ByPos,t,0,0).bottom;return r+=o-s,{from:n,to:i,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=s+(t.top-i)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return r+(t-n)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);n=i.bottom,r=i.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return n+(t-r)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);n=i.bottom,r=i.domBottom}}}function yi(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ti(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map((t=>yi(t,e))):t._content)}const bi=F.define({combine:t=>t.join(" ")}),Ci=F.define({combine:t=>t.indexOf(!0)>-1}),ki=Yt.newName(),Ti=Yt.newName(),Si=Yt.newName(),Ai={"&light":"."+Ti,"&dark":"."+Si};function Pi(t,e,n){return new Yt(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const Ei=Pi("."+ki,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ai),_i="￿";class Li{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Tt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=_i}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let t=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==e)break;let s=Ce.get(r),o=Ce.get(i);(s&&o?s.breakAfter:(s?s.breakAfter:Ii(r))||Ii(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>t)&&this.lineBreak(),r=i}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=r.exec(e))&&(s=i.index,o=i[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=Ce.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Di(t,n.node,n.offset)?e:0))}}function Di(t,e,n){for(;;){if(!e||n<he(e))return!1;if(e==t)return!0;n=ue(e)+1,e=e.parentNode}}function Ii(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Ni{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Qi{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:i,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=i||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;n&&(e.push(new Ni(n,r)),i==n&&s==r||e.push(new Ni(i,s)));return e}(t),n=new Li(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?N.single(n+e,r+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=i&&i.node==e.focusNode&&i.offset==e.focusOffset||!se(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),r=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!se(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset);this.newSel=N.single(r,n)}}}function Mi(t,e){let r,{newSel:i}=e,s=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:l}=e.bounds,a=s.from,u=null;(8===o||Be.android&&e.text.length<l-i)&&(a=s.to,u="end");let c=function(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if("end"==r){n-=o+Math.max(0,s-Math.min(o,l))-s}if(o<s&&t.length<e.length){s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s}else if(l<s){s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}(t.state.doc.sliceString(i,l,_i),e.text,a-i,u);c&&(Be.chrome&&13==o&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==_i+_i&&c.toB--,r={from:i+c.from,to:i+c.toA,insert:n.of(e.text.slice(c.from,c.toB).split(_i))})}else i&&(!t.hasFocus&&t.state.facet(kn)||i.main.eq(s))&&(i=null);if(!r&&!i)return!1;if(!r&&e.typeOver&&!s.empty&&i&&i.main.empty?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,s.to))}:(Be.mac||Be.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==r.insert.length&&(i=N.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}):Be.chrome&&r&&r.from==r.to&&r.from==s.head&&"\n "==r.insert.toString()&&t.lineWrapping&&(i&&(i=N.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}),r){if(Be.ios&&t.inputState.flushIOSKey())return!0;if(Be.android&&(r.from==s.from&&r.to==s.to&&1==r.insert.length&&2==r.insert.lines&&Oe(t.contentDOM,"Enter",13)||(r.from==s.from-1&&r.to==s.to&&0==r.insert.length||8==o&&r.insert.length<r.to-r.from&&r.to>s.head)&&Oe(t.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&0==r.insert.length&&Oe(t.contentDOM,"Delete",46)))return!0;let e,n=r.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l=()=>e||(e=function(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=s.from<e.from?i.sliceDoc(s.from,e.from):"",o=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+o))}else{let o=i.changes(e),l=n&&n.main.to<=o.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let a,u=t.state.sliceDoc(e.from,e.to),c=n&&lr(t,n.main.head);if(c){let t=e.insert.length-(e.to-e.from);a={from:c.from,to:c.to-t}}else a=t.state.doc.lineAt(s.head);let h=s.to-e.to,f=s.to-s.from;r=i.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:o,range:l||n.map(o)};let r=n.to-h,c=r-u.length;if(n.to-n.from!=f||t.state.sliceDoc(c,r)!=u||n.to>=a.from&&n.from<=a.to)return{range:n};let d=i.changes({from:c,to:r,insert:e.insert}),v=n.to-s.to;return{changes:d,range:l?N.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):n.map(d)}}))}else r={changes:o,selection:l&&i.selection.replaceRange(l)}}let o="input.type";(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1));return i.update(r,{userEvent:o,scrollIntoView:!0})}(t,r,i));return t.state.facet(Rn).some((e=>e(t,r.from,r.to,n,l)))||t.dispatch(l()),!0}if(i&&!i.main.eq(s)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}const Fi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},$i=Be.ie&&Be.ie_version<=11;class Bi{constructor(t){this.view=t,this.active=!1,this.selectionRange=new ve,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(Be.ie&&Be.ie_version<=11||Be.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),$i&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(kn)?n.root.activeElement!=this.dom:!oe(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(t)?e||(this.selectionChanged=!1):(Be.ie&&Be.ie_version<=11||Be.android&&Be.chrome)&&!n.state.selection.main.empty&&r.focusNode&&ae(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Be.safari&&11==t.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t){let e=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);ae(l.node,l.offset,s,o)&&([r,i,s,o]=[s,o,r,i]);return{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}(this.view)||ie(t.root);if(!e||this.selectionRange.eq(e))return!1;let n=oe(this.dom,e);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,he(n));;)if(r){if(1!=n.nodeType)return!1;let t=n.childNodes[r-1];"false"==t.contentEditable?r--:(n=t,r=he(n))}else{if(n==t)return!0;r=ue(n),n=n.parentNode}}(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Fi),$i&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),$i&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;if(t){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&Oe(this.dom,t.key,t.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&oe(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Qi(this.view,t,e,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=Mi(this.view,e);return this.view.state==n&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=Ui(e,t.previousSibling||t.target.previousSibling,-1),r=Ui(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Ui(t,e,n){for(;e;){let r=Ce.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}class Wi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:e}=t;this.dispatchTransactions=t.dispatchTransactions||e&&(t=>t.forEach((t=>e(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new gi(t.state||Tt.create(t)),t.scrollTo&&t.scrollTo.is(bn)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Sn).map((t=>new Pn(t)));for(let t of this.plugins)t.update(this);this.observer=new Bi(this),this.inputState=new br(this),this.inputState.ensureHandlers(this.plugins),this.docView=new sr(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}dispatch(...t){let e=1==t.length&&t[0]instanceof gt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,i=this.state;for(let e of t){if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}if(this.destroyed)return void(this.viewState.state=i);let s=this.hasFocus,o=0,l=null;t.some((t=>t.annotation(jr)))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=zr(i,s),l||(o=1));let a=this.observer.delayedAndroidKey,u=null;if(a?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(u=null)):this.observer.clear(),i.facet(Tt.phrases)!=this.state.facet(Tt.phrases))return this.setState(i);e=Bn.create(this,i,t),e.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(c&&(c=c.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;c=new yn(t.empty?t:N.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(bn)&&(c=t.value.clip(this.state))}this.viewState.update(e,c),this.bidiCache=qi.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(Fn)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(bi)!=e.state.facet(bi)&&(this.viewState.mustMeasureContent=!0),(n||r||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!e.empty)for(let t of this.state.facet(mn))try{t(e)}catch(t){Cn(this.state,t,"update listener")}(l||u)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!Mi(this,u)&&a.force&&Oe(this.contentDOM,a.key,a.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new gi(t),this.plugins=t.facet(Sn).map((t=>new Pn(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new sr(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Sn),n=t.state.facet(Sn);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new Pn(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(xe(n))i=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(r);i=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&o||([this.measureRequests,l]=[l,this.measureRequests]);let a=l.map((t=>{try{return t.read(this)}catch(t){return Cn(this.state,t),Hi}})),u=Bn.create(this,this.state,[]),c=!1;u.flags|=o,e?e.flags|=o:e=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),c=this.docView.update(u));for(let t=0;t<l.length;t++)if(a[t]!=Hi)try{let e=l[t];e.write&&e.write(a[t],this)}catch(t){Cn(this.state,t)}if(c&&this.docView.updateSelection(!0),!u.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}{let t=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(t>1||t<-1){r+=t,n.scrollTop=r/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(mn))t(e)}get themeClasses(){return ki+" "+(this.state.facet(Ci)?Si:Ti)+" "+this.state.facet(bi)}updateAttrs(){let t=Xi(this,En,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(kn)?"true":"false",class:"cm-content",style:`${Be.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),Xi(this,_n,e);let n=this.observer.ignore((()=>{let n=Ze(this.contentDOM,this.contentAttrs,e),r=Ze(this.dom,this.editorAttrs,t);return n||r}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(Wi.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(Fn);let t=this.state.facet(Wi.cspNonce);Yt.mount(this.root,this.styleModules.concat(Ei).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return yr(this,t,wr(this,t,e,n))}moveByGroup(t,e){return yr(this,t,wr(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return t=>{let e=r(t);return i==yt.Space&&(i=e),i==e}}(this,t.head,e))))}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let i=Or(t,e.head),s=r&&i.type==nn.Text&&(t.lineWrapping||i.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(i.from),o=t.posAtCoords({x:n==(r==Un.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=o)return N.cursor(o,n?-1:1)}return N.cursor(n?i.to:i.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return yr(this,t,function(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return N.cursor(i,e.assoc);let o,l=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)null==l&&(l=u.left-a.left),o=s<0?u.top:u.bottom;else{let e=t.viewState.lineBlockAt(i);null==l&&(l=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-e.from))),o=(s<0?e.top:e.bottom)+c}let h=a.left+l,f=null!=r?r:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=o+(f+e)*s,r=mr(t,{x:h,y:n},!1,s);if(n<a.top||n>a.bottom||(s<0?r<i:r>i)){let e=t.docView.coordsForChar(r),i=!e||n<e.top?-1:1;return N.cursor(r,i,void 0,l)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),mr(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return fe(n,i[Gn.find(i,t-r.from,-1,e)].dir==Un.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(wn)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Vi)return nr(t.length);let e,n=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==n&&(r.fresh||Zn(r.isolates,e=Nn(this,t.from,t.to))))return r.order;e||(e=Nn(this,t.from,t.to));let r=er(t.text,n,e);return this.bidiCache.push(new qi(t.from,t.to,n,e,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Be.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{me(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return bn.of(new yn("number"==typeof t?N.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return bn.of(new yn(N.cursor(n.from),"start","start",n.top-t,e,!0))}static domEventHandlers(t){return An.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return An.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=Yt.newName(),r=[bi.of(n),Fn.of(Pi(`.${n}`,t))];return e&&e.dark&&r.push(Ci.of(!0)),r}static baseTheme(t){return Z.lowest(Fn.of(Pi("."+ki,t,Ai)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&Ce.get(n)||Ce.get(t);return(null===(e=null==r?void 0:r.rootView)||void 0===e?void 0:e.view)||null}}Wi.styleModule=Fn,Wi.inputHandler=Rn,Wi.focusChangeEffect=On,Wi.perLineTextDirection=wn,Wi.exceptionSink=pn,Wi.updateListener=mn,Wi.editable=kn,Wi.mouseSelectionStyle=gn,Wi.dragMovesSelection=vn,Wi.clickAddsSelectionRange=dn,Wi.decorations=Ln,Wi.atomicRanges=Dn,Wi.bidiIsolatedRanges=In,Wi.scrollMargins=Qn,Wi.darkTheme=Ci,Wi.cspNonce=F.define({combine:t=>t.length?t[0]:""}),Wi.contentAttributes=_n,Wi.editorAttributes=En,Wi.lineWrapping=Wi.contentAttributes.of({class:"cm-lineWrapping"}),Wi.announce=vt.define();const Vi=4096,Hi={};class qi{constructor(t,e,n,r,i,s){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=i,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],r=t.length?t[t.length-1].dir:Un.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let s=t[i];s.dir!=r||e.touchesRange(s.from,s.to)||n.push(new qi(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function Xi(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let e=r[i],s="function"==typeof e?e(t):e;s&&ze(s,n)}return n}const ji=Be.mac?"mac":Be.windows?"win":Be.linux?"linux":"key";function zi(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const Yi=Z.default(Wi.domEventHandlers({keydown:(t,e)=>es(Ki(e.state),t,e,"editor")})),Gi=F.define({enables:Yi}),Zi=new WeakMap;function Ki(t){let e=t.facet(Gi),n=Zi.get(e);return n||Zi.set(e,n=function(t,e=ji){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,r,s,o,l)=>{var a,u;let c=n[t]||(n[t]=Object.create(null)),h=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,s,o,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?o=!0:i=!0}}return r&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<h.length;e++){let n=h.slice(0,e).join(" ");i(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let r=Ji={view:e,prefix:n,scope:t};return setTimeout((()=>{Ji==r&&(Ji=null)}),ts),!0}]})}let f=h.join(" ");i(f,!1);let d=c[f]||(c[f]={preventDefault:!1,stopPropagation:!1,run:(null===(u=null===(a=c._any)||void 0===a?void 0:a.run)||void 0===u?void 0:u.slice())||[]});s&&d.run.push(s),o&&(d.preventDefault=!0),l&&(d.stopPropagation=!0)};for(let r of t){let t=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let e in t)t[e].run.push(r.any)}let i=r[e]||r.key;if(i)for(let e of t)s(e,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&s(e,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let Ji=null;const ts=4e3;function es(t,e,n,r){let i=function(t){var e=!(te&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ee&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Jt:Kt)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=b(x(i,0))==i.length&&" "!=i,o="",l=!1,a=!1,u=!1;Ji&&Ji.view==n&&Ji.scope==r&&(o=Ji.prefix+" ",Ar.indexOf(e.keyCode)<0&&(a=!0,Ji=null));let c,h,f=new Set,d=t=>{if(t){for(let r of t.run)if(!f.has(r)&&(f.add(r),r(n,e)))return t.stopPropagation&&(u=!0),!0;t.preventDefault&&(t.stopPropagation&&(u=!0),a=!0)}return!1},v=t[r];return v&&(d(v[o+zi(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Be.windows&&e.ctrlKey&&e.altKey)&&(c=Kt[e.keyCode])&&c!=i?(d(v[o+zi(c,e,!0)])||e.shiftKey&&(h=Jt[e.keyCode])!=i&&h!=c&&d(v[o+zi(h,e,!1)]))&&(l=!0):s&&e.shiftKey&&d(v[o+zi(i,e,!0)])&&(l=!0),!l&&d(v._any)&&(l=!0)),a&&(l=!0),l&&u&&e.stopPropagation(),l}class ns{constructor(t,e,n,r,i){this.className=t,this.left=e,this.top=n,this.width=r,this.height=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=rs(t);return[new ns(e,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Un.LTR,o=t.contentDOM,l=o.getBoundingClientRect(),a=rs(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=Or(t,r),v=Or(t,i),g=d.type==nn.Text?d:null,p=v.type==nn.Text?v:null;g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=is(t,r,g));p&&(t.lineWrapping||v.widgetLineBreaks)&&(p=is(t,i,p));if(g&&p&&g.from==p.from)return R(O(n.from,n.to,g));{let e=g?O(n.from,null,g):w(d,!1),r=p?O(null,n.to,p):w(v,!0),i=[];return(g||d).to<(p||v).from-(g&&p?1:0)||d.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<r.top?i.push(m(h,e.bottom,f,r.top)):e.bottom<r.top&&t.elementAtHeight((e.bottom+r.top)/2).type==nn.Text&&(e.bottom=r.top=(e.bottom+r.top)/2),R(e).concat(i).concat(R(r))}function m(t,n,r,i){return new ns(e,t-a.left,n-a.top-.01,r-t,i-n+.01)}function R({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(m(n[i],t,n[i+1],e));return r}function O(e,n,r){let i=1e9,o=-1e9,l=[];function a(e,n,a,u,c){let d=t.coordsAtPos(e,e==r.to?-2:2),v=t.coordsAtPos(a,a==r.from?2:-2);d&&v&&(i=Math.min(d.top,v.top,i),o=Math.max(d.bottom,v.bottom,o),c==Un.LTR?l.push(s&&n?h:d.left,s&&u?f:v.right):l.push(!s&&u?h:v.left,!s&&n?f:d.right))}let u=null!=e?e:r.from,c=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>u&&r.from<c)for(let i=Math.max(r.from,u),s=Math.min(r.to,c);;){let r=t.state.doc.lineAt(i);for(let o of t.bidiSpans(r)){let t=o.from+r.from,l=o.to+r.from;if(t>=s)break;l>i&&a(Math.max(t,i),null==e&&t<=u,Math.min(l,s),null==n&&l>=c,o.dir)}if(i=r.to+1,i>=s)break}return 0==l.length&&a(u,null==e,c,null==n,t.textDirection),{top:i,bottom:o,horizontal:l}}function w(t,e){let n=l.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(t,e,n)}}function rs(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Un.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function is(t,e,n){let r=N.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:nn.Text}}class ss{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(os)!=t.state.facet(os)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}setOrder(t){let e=0,n=t.facet(os);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>!function(t,e){return t.constructor==e.constructor&&t.eq(e)}(t,this.drawn[e])))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const os=F.define();function ls(t){return[An.define((e=>new ss(e,t))),os.of(t)]}const as=!Be.ios,us=F.define({combine:t=>St(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function cs(t={}){return[us.of(t),fs,vs,ps,xn.of(!0)]}function hs(t){return t.startState.facet(us)!=t.state.facet(us)}const fs=ls({above:!0,markers(t){let{state:e}=t,n=e.facet(us),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||as:n.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:N.cursor(i.head,i.head>i.anchor?-1:1);for(let i of ns.forRange(t,e,n))r.push(i)}}return r},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let n=hs(t);return n&&ds(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){ds(e.state,t)},class:"cm-cursorLayer"});function ds(t,e){e.style.animationDuration=t.facet(us).cursorBlinkRate+"ms"}const vs=ls({above:!1,markers:t=>t.state.selection.ranges.map((e=>e.empty?[]:ns.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e))),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||hs(t),class:"cm-selectionLayer"}),gs={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};as&&(gs[".cm-line"].caretColor="transparent !important",gs[".cm-content"]={caretColor:"transparent !important"});const ps=Z.highest(Wi.theme(gs)),ms=vt.define({map:(t,e)=>null==t?null:e.mapPos(t)}),Rs=q.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(ms)?e.value:t),t))}),Os=An.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Rs);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Rs)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Rs),n=null!=e&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Rs)!=t&&this.view.dispatch({effects:ms.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function ws(t,e,n,r,i){e.lastIndex=0;for(let s,o=t.iterRange(n,r),l=n;!o.next().done;l+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(l+s.index,s)}class xs{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:i,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(t,e,n,i)=>r(i,n,n+t[0].length,t,e);else if("function"==typeof n)this.addMatch=(t,e,r,i)=>{let s=n(t,e,r);s&&i(r,r+t[0].length,s)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,r,i)=>i(r,r+t[0].length,n)}this.boundary=i,this.maxLength=s}createDeco(t){let e=new Dt,n=e.add.bind(e);for(let{from:e,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(t,this.maxLength))ws(t.state.doc,this.regexp,e,r,((e,r)=>this.addMatch(r,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),r=Math.max(o,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let s=Math.max(i.from,n),o=Math.min(i.to,r);if(o>s){let n=t.state.doc.lineAt(s),r=n.to<o?t.state.doc.lineAt(o):n,l=Math.max(i.from,n.from),a=Math.min(i.to,r.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){l=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){a=o;break}}let u,c=[],h=(t,e,n)=>c.push(n.range(t,e));if(n==r)for(this.regexp.lastIndex=l-n.from;(u=this.regexp.exec(n.text))&&u.index<a-n.from;)this.addMatch(u,t,u.index+n.from,h);else ws(t.state.doc,this.regexp,l,a,((e,n)=>this.addMatch(n,t,e,h)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:c})}}return e}}const ys=null!=/x/.unicode?"gu":"g",bs=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",ys),Cs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ks=null;const Ts=F.define({combine(t){let e=St(t,{render:null,specialChars:bs,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==ks&&"undefined"!=typeof document&&document.body){let e=document.body.style;ks=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return ks||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,ys)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ys)),e}});function Ss(t={}){return[Ts.of(t),As||(As=An.fromClass(class{constructor(t){this.view=t,this.decorations=rn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Ts)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new xs({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=x(e[0],0);if(9==s){let t=i.lineAt(r),e=n.state.tabSize,s=Ht(t.text,e,r-t.from);return rn.replace({widget:new Es((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=rn.replace({widget:new Ps(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Ts);t.startState.facet(Ts)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let As=null;class Ps extends en{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(Cs[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Es extends en{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const _s=rn.line({class:"cm-activeLine"}),Ls=An.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(_s.range(i.from)),e=i.from)}return rn.set(n)}},{decorations:t=>t.decorations});const Ds=2e3;function Is(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Ds?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):Ht(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function Ns(t,e){let n=Is(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,s){let o=Is(t,e);if(!o)return r;let l=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Ds||n.off>Ds||e.col<0||n.col<0){let o=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=l&&s.push(N.range(n.from+o,n.to+l))}}else{let o=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=qt(n.text,o,t.tabSize,!0);if(r<0)s.push(N.cursor(n.to));else{let e=qt(n.text,l,t.tabSize);s.push(N.range(n.from+r,n.from+e))}}}return s}(t.state,n,o);return l.length?s?N.create(l.concat(r.ranges)):N.create(l):r}}:null}function Qs(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return Wi.mouseSelectionStyle.of(((t,n)=>e(n)?Ns(t,n):null))}const Ms={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Fs={style:"cursor: crosshair"};function $s(t={}){let[e,n]=Ms[t.key||"Alt"],r=An.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)},mousemove(t){this.set(n(t))}}});return[r,Wi.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.isDown)?Fs:null}))]}const Bs="-10000px";class Us{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t)),this.tooltipViews=this.tooltips.map(n)}update(t,e){var n;let r=t.state.facet(this.facet),i=r.filter((t=>t));if(r===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],o=e?[]:null;for(let n=0;n<i.length;n++){let r=i[n],l=-1;if(r){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==r.create&&(l=t)}if(l<0)s[n]=this.createTooltipView(r),o&&(o[n]=!!r.above);else{let r=s[n]=this.tooltipViews[l];o&&(o[n]=e[l]),r.update&&r.update(t)}}}for(let t of this.tooltipViews)s.indexOf(t)<0&&(t.dom.remove(),null===(n=t.destroy)||void 0===n||n.call(t));return e&&(o.forEach(((t,n)=>e[n]=t)),e.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function Ws(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Vs=F.define({combine:t=>{var e,n,r;return{position:Be.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Ws}}}),Hs=new WeakMap,qs=An.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Vs);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Us(t,zs,(t=>this.createTooltip(t))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Vs);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Bs,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(Be.gecko)r=t.offsetParent!=this.container.ownerDocument.body;else if(1!=this.view.scaleX||1!=this.view.scaleY)r=!0;else if(t.style.top==Bs&&"0px"==t.style.left){let e=t.getBoundingClientRect();r=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(r||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,n=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(Vs).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=t.pos[l],f=t.size[l];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){c.style.top=Bs;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,v=d?7:0,g=f.right-f.left,p=null!==(e=Hs.get(u))&&void 0!==e?e:f.bottom-f.top,m=u.offset||js,R=this.view.textDirection==Un.LTR,O=f.width>r.right-r.left?R?r.left:r.right-f.width:R?Math.min(h.left-(d?14:0)+m.x,r.right-g):Math.max(r.left,h.left-g+(d?14:0)-m.x),w=this.above[l];!a.strictSide&&(w?h.top-(f.bottom-f.top)-m.y<r.top:h.bottom+(f.bottom-f.top)+m.y>r.bottom)&&w==r.bottom-h.bottom>h.top-r.top&&(w=this.above[l]=!w);let x=(w?h.top-r.top:r.bottom-h.bottom)-v;if(x<p&&!1!==u.resize){if(x<this.view.defaultLineHeight){c.style.top=Bs;continue}Hs.set(u,p),c.style.height=(p=x)/s+"px"}else c.style.height&&(c.style.height="");let y=w?h.top-p-v-m.y:h.bottom+v+m.y,b=O+g;if(!0!==u.overlap)for(let t of o)t.left<b&&t.right>O&&t.top<y+p&&t.bottom>y&&(y=w?t.top-p-2-v:t.bottom+v+2);if("absolute"==this.position?(c.style.top=(y-t.parent.top)/s+"px",c.style.left=(O-t.parent.left)/i+"px"):(c.style.top=y/s+"px",c.style.left=O/i+"px"),d){let t=h.left+(R?m.x:-m.x)-(O+14-7);d.style.left=t/i+"px"}!0!==u.overlap&&o.push({left:O,top:y,right:b,bottom:y+p}),c.classList.toggle("cm-tooltip-above",w),c.classList.toggle("cm-tooltip-below",!w),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Bs}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Xs=Wi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),js={x:0,y:0},zs=F.define({enables:[qs,Xs]}),Ys=F.define();class Gs{static create(t){return new Gs(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Us(t,Ys,(t=>this.createHostedView(t)))}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Zs=zs.compute([Ys],(t=>{let e=t.facet(Ys).filter((t=>t));return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:Gs.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class Ks{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,i=1;if(n instanceof Ve)r=n.posAtStart;else{if(r=t.posAtCoords(e),null==r)return;let n=t.coordsAtPos(r);if(!n||e.y<n.top||e.y>n.bottom||e.x<n.left-t.defaultCharacterWidth||e.x>n.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(r)).find((t=>t.from<=r&&t.to>=r)),o=s&&s.dir==Un.RTL?-1:1;i=e.x<n.left?-o:o}let s=this.source(t,r,i);if(null==s?void 0:s.then){let e=this.pending={pos:r};s.then((n=>{this.pending==e&&(this.pending=null,n&&t.dispatch({effects:this.setHover.of(n)}))}),(e=>Cn(t.state,e,"hover tooltip")))}else s&&t.dispatch({effects:this.setHover.of(s)})}get tooltip(){let t=this.view.plugin(qs),e=t?t.manager.tooltips.findIndex((t=>t.create==Gs.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:r}=this;if(n&&r&&!function(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-Js&&e.clientX<=n.right+Js&&e.clientY>=n.top-Js&&e.clientY<=n.bottom+Js}(r.dom,t)||this.pending){let{pos:r}=n||this.pending,i=null!==(e=null==n?void 0:n.end)&&void 0!==e?e:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,l)<i)return!1;let a=t.posAtCoords({x:r,y:i},!1);return a>=e&&a<=n}(this.view,r,i,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Js=4;function to(t,e={}){let n=vt.define(),r=q.define({create:()=>null,update(t,r){if(t&&(e.hideOnChange&&(r.docChanged||r.selection)||e.hideOn&&e.hideOn(r,t)))return null;if(t&&r.docChanged){let e=r.changes.mapPos(t.pos,-1,k.TrackDel);if(null==e)return null;let n=Object.assign(Object.create(null),t);n.pos=e,null!=t.end&&(n.end=r.changes.mapPos(t.end)),t=n}for(let e of r.effects)e.is(n)&&(t=e.value),e.is(no)&&(t=null);return t},provide:t=>Ys.from(t)});return[r,An.define((i=>new Ks(i,t,r,n,e.hoverTime||300))),Zs]}function eo(t,e){let n=t.plugin(qs);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const no=vt.define();const ro=F.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function io(t,e){let n=t.plugin(so),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const so=An.fromClass(class{constructor(t){this.input=t.state.facet(ao),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(ro);this.top=new oo(t,!0,e.topContainer),this.bottom=new oo(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(ro);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new oo(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new oo(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(ao);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],s=[],o=[];for(let n of e){let e,l=this.specs.indexOf(n);l<0?(e=n(t.view),o.push(e)):(e=this.panels[l],e.update&&e.update(t)),r.push(e),(e.top?i:s).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Wi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class oo{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=lo(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=lo(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function lo(t){let e=t.nextSibling;return t.remove(),e}const ao=F.define({enables:so});class uo extends At{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}uo.prototype.elementClass="",uo.prototype.toDOM=void 0,uo.prototype.mapMode=k.TrackBefore,uo.prototype.startSide=uo.prototype.endSide=-1,uo.prototype.point=!0;const co=F.define(),ho={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Lt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fo=F.define();function vo(t){return[po(),fo.of(Object.assign(Object.assign({},ho),t))]}const go=F.define({combine:t=>t.some((t=>t))});function po(t){let e=[mo];return t&&!1===t.fixed&&e.push(go.of(!0)),e}const mo=An.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(fo).map((e=>new xo(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(go),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(go)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Lt.iter(this.view.state.facet(co),this.view.viewport.from),r=[],i=this.gutters.map((t=>new wo(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(t.type)){let e=!0;for(let s of t.type)if(s.type==nn.Text&&e){Oo(n,r,s.from);for(let t of i)t.line(this.view,s,r);e=!1}else if(s.widget)for(let t of i)t.widget(this.view,s)}else if(t.type==nn.Text){Oo(n,r,t.from);for(let e of i)e.line(this.view,t,r)}else if(t.widget)for(let e of i)e.widget(this.view,t);for(let t of i)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(fo),n=t.state.facet(fo),r=t.docChanged||t.heightChanged||t.viewportChanged||!Lt.eq(t.startState.facet(co),t.state.facet(co),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new xo(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Wi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==Un.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function Ro(t){return Array.isArray(t)?t:[t]}function Oo(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class wo{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=Lt.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,i=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==r.elements.length){let e=new yo(t,s,i,n);r.elements.push(e),r.dom.appendChild(e.dom)}else r.elements[this.i].update(t,s,i,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];Oo(this.cursor,r,e.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let s=this.gutter;(0!=r.length||s.config.renderEmptyElements)&&this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e);n&&this.addElement(t,e,[n])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class xo{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,s=r.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();i=(t.top+t.bottom)/2}else i=r.clientY;let o=t.lineBlockAtHeight(i-t.documentTop);e.domEventHandlers[n](t,o,r)&&r.preventDefault()}));this.markers=Ro(e.markers(t)),e.initialSpacer&&(this.spacer=new yo(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Ro(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Lt.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class yo{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,s=0;;){let o=s,l=i<e.length?e[i++]:null,a=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(l)){o=t,a=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!l)break;l.toDOM&&(a?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),a&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const bo=F.define(),Co=F.define({combine:t=>St(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class ko extends uo{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function To(t,e){return t.state.facet(Co).formatNumber(e,t.state)}const So=fo.compute([Co],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(bo),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new ko(To(t,t.state.doc.lineAt(e.from).number)),widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Co)!=t.state.facet(Co),initialSpacer:t=>new ko(To(t,Po(t.state.doc.lines))),updateSpacer(t,e){let n=To(e.view,Po(e.view.state.doc.lines));return n==t.number?t:new ko(n)},domEventHandlers:t.facet(Co).domEventHandlers})));function Ao(t={}){return[Co.of(t),po(),So]}function Po(t){let e=9;for(;e<t;)e=10*e+9;return e}const Eo=new class extends uo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_o=co.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Eo.range(i)))}return Lt.of(e)}));const Lo=1024;let Do=0;class Io{constructor(t,e){this.from=t,this.to=e}}class No{constructor(t={}){this.id=Do++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Fo.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}No.closedBy=new No({deserialize:t=>t.split(" ")}),No.openedBy=new No({deserialize:t=>t.split(" ")}),No.group=new No({deserialize:t=>t.split(" ")}),No.contextHash=new No({perNode:!0}),No.lookAhead=new No({perNode:!0}),No.mounted=new No({perNode:!0});class Qo{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[No.mounted.id]}}const Mo=Object.create(null);class Fo{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):Mo,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new Fo(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(No.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(No.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}Fo.none=new Fo("",Object.create(null),0,8);class $o{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let e of t){let t=e(n);t&&(r||(r=Object.assign({},n.props)),r[t[0].id]=t[1])}e.push(r?new Fo(n.name,r,n.id,n.flags):n)}return new $o(e)}}const Bo=new WeakMap,Uo=new WeakMap;var Wo;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(Wo||(Wo={}));class Vo{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=Qo.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new nl(this.topNode,t)}cursorAt(t,e=0,n=0){let r=Bo.get(this)||this.topNode,i=new nl(r);return i.moveTo(t,e),Bo.set(this,i._tree),i}get topNode(){return new Yo(this,0,0,null)}resolve(t,e=0){let n=jo(Bo.get(this)||this.topNode,t,e,!1);return Bo.set(this,n),n}resolveInner(t,e=0){let n=jo(Uo.get(this)||this.topNode,t,e,!0);return Uo.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let r=t.resolveInner(e,n),i=null;for(let t=r instanceof Yo?r:r.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(i||(i=[r])).push(s.resolve(e,n)),t=s}else{let s=Qo.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new Yo(s.tree,s.overlay[0].from+t.from,-1,t);(i||(i=[r])).push(jo(o,e,n,!1))}}return i?tl(i):r}(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t,s=t.mode||0,o=(s&Wo.IncludeAnonymous)>0;for(let t=this.cursor(s|Wo.IncludeAnonymous);;){let s=!1;if(t.from<=i&&t.to>=r&&(!o&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&n&&(o||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:ol(Fo.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new Vo(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new Vo(Fo.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Lo,reused:s=[],minRepeatType:o=r.types.length}=t,l=Array.isArray(n)?new Ho(n,n.length):n,a=r.types,u=0,c=0;function h(t,e,n,R,O,w){let{id:x,start:y,end:b,size:C}=l,k=c;for(;C<0;){if(l.next(),-1==C){let e=s[x];return n.push(e),void R.push(y-t)}if(-3==C)return void(u=x);if(-4==C)return void(c=x);throw new RangeError(`Unrecognized record size: ${C}`)}let T,S,A=a[x],P=y-t;if(b-y<=i&&(S=p(l.pos-e,O))){let e=new Uint16Array(S.size-S.skip),n=l.pos-S.size,i=e.length;for(;l.pos>n;)i=m(S.start,e,i);T=new qo(e,b-S.start,r),P=S.start-t}else{let t=l.pos-C;l.next();let e=[],n=[],r=x>=o?x:-1,s=0,a=b;for(;l.pos>t;)r>=0&&l.id==r&&l.size>=0?(l.end<=a-i&&(v(e,n,y,s,l.end,a,r,k),s=e.length,a=l.end),l.next()):w>2500?f(y,t,e,n):h(y,t,e,n,r,w+1);if(r>=0&&s>0&&s<e.length&&v(e,n,y,s,y,a,r,k),e.reverse(),n.reverse(),r>-1&&s>0){let t=d(A);T=ol(A,e,n,0,e.length,0,b-y,t,t)}else T=g(A,e,n,b-y,k-b)}n.push(T),R.push(P)}function f(t,e,n,s){let o=[],a=0,u=-1;for(;l.pos>e;){let{id:t,start:e,end:n,size:r}=l;if(r>4)l.next();else{if(u>-1&&e<u)break;u<0&&(u=n-i),o.push(t,e,n),a++,l.next()}}if(a){let e=new Uint16Array(4*a),i=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-i,e[n++]=o[t+2]-i,e[n++]=n;n.push(new qo(e,o[2]-i,r)),s.push(i-t)}}function d(t){return(e,n,r)=>{let i,s,o=0,l=e.length-1;if(l>=0&&(i=e[l])instanceof Vo){if(!l&&i.type==t&&i.length==r)return i;(s=i.prop(No.lookAhead))&&(o=n[l]+i.length+s)}return g(t,e,n,r,o)}}function v(t,e,n,i,s,o,l,a){let u=[],c=[];for(;t.length>i;)u.push(t.pop()),c.push(e.pop()+n-s);t.push(g(r.types[l],u,c,o-s,a-o)),e.push(s-n)}function g(t,e,n,r,i=0,s){if(u){let t=[No.contextHash,u];s=s?[t].concat(s):[t]}if(i>25){let t=[No.lookAhead,i];s=s?[t].concat(s):[t]}return new Vo(t,e,n,r,s)}function p(t,e){let n=l.fork(),r=0,s=0,a=0,u=n.end-i,c={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){c.size=r,c.start=s,c.skip=a,a+=4,r+=4,n.next();continue}let l=n.pos-t;if(t<0||l<i||n.start<u)break;let h=n.id>=o?4:0,f=n.start;for(n.next();n.pos>l;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=o&&(h+=4);n.next()}s=f,r+=t,a+=h}return(e<0||r==t)&&(c.size=r,c.start=s,c.skip=a),c.size>4?c:void 0}function m(t,e,n){let{id:r,start:i,end:s,size:a}=l;if(l.next(),a>=0&&r<o){let o=n;if(a>4){let r=l.pos-(a-4);for(;l.pos>r;)n=m(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=i-t,e[--n]=r}else-3==a?u=r:-4==a&&(c=r);return n}let R=[],O=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,R,O,-1,0);let w=null!==(e=t.length)&&void 0!==e?e:R.length?O[0]+R[0].length:0;return new Vo(a[t.topID],R.reverse(),O.reverse(),w)}(t)}}Vo.empty=new Vo(Fo.none,[],[],0);class Ho{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ho(this.buffer,this.index)}}class qo{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return Fo.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return i+"("+s.join(",")+")"}findChild(t,e,n,r,i){let{buffer:s}=this,o=-1;for(let l=t;l!=e&&!(Xo(i,r,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,e,n){let r=this.buffer,i=new Uint16Array(e-t),s=0;for(let o=t,l=0;o<e;){i[l++]=r[o++],i[l++]=r[o++]-n;let e=i[l++]=r[o++]-n;i[l++]=r[o++]-t,s=Math.max(s,e)}return new qo(i,s,this.set)}}function Xo(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function jo(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof Yo&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=r?0:Wo.IgnoreOverlays;if(r)for(let r=t,o=r.parent;o;r=o,o=r.parent)r instanceof Yo&&r.index<0&&(null===(i=o.enter(e,n,s))||void 0===i?void 0:i.from)!=r.from&&(t=o);for(;;){let r=t.enter(e,n,s);if(!r)return t;t=r}}class zo{cursor(t=0){return new nl(this,t)}getChild(t,e=null,n=null){let r=Go(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return Go(this,t,e,n)}resolve(t,e=0){return jo(this,t,e,!1)}resolveInner(t,e=0){return jo(this,t,e,!0)}matchContext(t){return Zo(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class Yo extends zo{constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],u=l[t]+s.from;if(Xo(r,n,u,u+a.length))if(a instanceof qo){if(i&Wo.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,e,n-u,r);if(o>-1)return new Jo(new Ko(s,a,t,u),null,o)}else if(i&Wo.IncludeAnonymous||!a.type.isAnonymous||rl(a)){let o;if(!(i&Wo.IgnoreMounts)&&(o=Qo.get(a))&&!o.overlay)return new Yo(o.tree,u,t,s);let l=new Yo(a,u,t,s);return i&Wo.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,r)}}if(i&Wo.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&Wo.IgnoreOverlays)&&(r=Qo.get(this._tree))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new Yo(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Go(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function Zo(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Ko{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class Jo extends zo{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new Jo(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&Wo.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Jo(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Jo(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Jo(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let s=n.buffer[this.index+1];t.push(n.slice(r,i,s)),e.push(0)}return new Vo(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function tl(t){if(!t.length)return null;let e=0,n=t[0];for(let r=1;r<t.length;r++){let i=t[r];(i.from>n.from||i.to<n.to)&&(n=i,e=r)}let r=n instanceof Yo&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new el(i,n)}class el{constructor(t,e){this.heads=t,this.node=e}get next(){return tl(this.heads)}}class nl{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Yo)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Yo?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&Wo.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Wo.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Wo.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n._tree.children.length;r!=i;r+=t){let t=n._tree.children[r];if(this.mode&Wo.IncludeAnonymous||t instanceof qo||!t.type.isAnonymous||rl(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new Jo(this.buffer,e,this.stack[t]);return this.bufferNode=new Jo(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return Zo(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Zo(this.node,t,r);let s=n[e.buffer[this.stack[i]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function rl(t){return t.children.some((t=>t instanceof qo||!t.type.isAnonymous||rl(t)))}const il=new WeakMap;function sl(t,e){if(!t.isAnonymous||e instanceof qo||e.type!=t)return 1;let n=il.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Vo)){n=1;break}n+=sl(t,r)}il.set(e,n)}return n}function ol(t,e,n,r,i,s,o,l,a){let u=0;for(let n=r;n<i;n++)u+=sl(t,e[n]);let c=Math.ceil(1.5*u/8),h=[],f=[];return function e(n,r,i,o,l){for(let u=i;u<o;){let i=u,d=r[u],v=sl(t,n[u]);for(u++;u<o;u++){let e=sl(t,n[u]);if(v+e>=c)break;v+=e}if(u==i+1){if(v>c){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+l);continue}h.push(n[i])}else{let e=r[u-1]+n[u-1].length-d;h.push(ol(t,n,r,i,u,d,e,null,a))}f.push(d+l-s)}}(e,n,r,i,0),(l||a)(h,f,o)}class ll{constructor(t,e,n,r,i=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new ll(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,s=t.length?t[0]:null;for(let o=0,l=0,a=0;;o++){let u=o<e.length?e[o]:null,c=u?u.fromA:1e9;if(c-l>=n)for(;s&&s.from<c;){let e=s;if(l>=e.from||c<=e.to||a){let t=Math.max(e.from,l)-a,n=Math.min(e.to,c)-a;e=t>=n?null:new ll(t,n,e.tree,e.offset+a,o>0,!!u)}if(e&&r.push(e),s.to>c)break;s=i<t.length?t[i++]:null}if(!u)break;l=u.toA,a=u.toA-u.toB}return r}}class al{startParse(t,e,n){return"string"==typeof t&&(t=new ul(t)),n=n?n.length?n.map((t=>new Io(t.from,t.to))):[new Io(0,0)]:[new Io(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}class ul{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new No({perNode:!0});let cl=0;class hl{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=cl++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new hl([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new dl;return e=>e.modified.indexOf(t)>-1?e:dl.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let fl=0;class dl{constructor(){this.instances=[],this.id=fl++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let r=[],i=new hl(r,t,e);for(let t of e)t.instances.push(i);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of s)r.push(dl.get(e,t));return i}}function vl(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,l=n[o];if(!l)throw new RangeError("Invalid path: "+t);let a=new pl(r,i,o>0?n.slice(0,o):null);e[l]=a.sort(e[l])}}return gl.add(e)}const gl=new No;class pl{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function ml(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:r,all:i=null}=e||{};return{style:t=>{let e=i;for(let r of t)for(let t of r.set){let r=n[t.id];if(r){e=e?e+" "+r:r;break}}return e},scope:r}}function Rl(t,e,n,r=0,i=t.length){let s=new Ol(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}pl.empty=new pl([],2,null);class Ol{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i){let{type:s,from:o,to:l}=t;if(o>=n||l<=e)return;s.isTop&&(i=this.highlighters.filter((t=>!t.scope||t.scope(s))));let a=r,u=function(t){let e=t.type.prop(gl);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||pl.empty,c=function(t,e){let n=null;for(let r of t){let t=r.style(e);t&&(n=n?n+" "+t:t)}return n}(i,u.tags);if(c&&(a&&(a+=" "),a+=c,1==u.mode&&(r+=(r?" ":"")+c)),this.startSpan(Math.max(e,o),a),u.opaque)return;let h=t.tree&&t.tree.prop(No.mounted);if(h&&h.overlay){let s=t.node.enter(h.overlay[0].from+o,1),u=this.highlighters.filter((t=>!t.scope||t.scope(h.tree.type))),c=t.firstChild();for(let f=0,d=o;;f++){let v=f<h.overlay.length?h.overlay[f]:null,g=v?v.from+o:l,p=Math.max(e,d),m=Math.min(n,g);if(p<m&&c)for(;t.from<m&&(this.highlightRange(t,p,m,r,i),this.startSpan(Math.min(m,t.to),a),!(t.to>=g)&&t.nextSibling()););if(!v||g>n)break;d=v.to+o,d>e&&(this.highlightRange(s.cursor(),Math.max(e,v.from+o),Math.min(n,d),"",u),this.startSpan(Math.min(n,d),a))}c&&t.parent()}else if(t.firstChild()){h&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i),this.startSpan(Math.min(n,t.to),a)}}while(t.nextSibling());t.parent()}}}const wl=hl.define,xl=wl(),yl=wl(),bl=wl(yl),Cl=wl(yl),kl=wl(),Tl=wl(kl),Sl=wl(kl),Al=wl(),Pl=wl(Al),El=wl(),_l=wl(),Ll=wl(),Dl=wl(Ll),Il=wl(),Nl={comment:xl,lineComment:wl(xl),blockComment:wl(xl),docComment:wl(xl),name:yl,variableName:wl(yl),typeName:bl,tagName:wl(bl),propertyName:Cl,attributeName:wl(Cl),className:wl(yl),labelName:wl(yl),namespace:wl(yl),macroName:wl(yl),literal:kl,string:Tl,docString:wl(Tl),character:wl(Tl),attributeValue:wl(Tl),number:Sl,integer:wl(Sl),float:wl(Sl),bool:wl(kl),regexp:wl(kl),escape:wl(kl),color:wl(kl),url:wl(kl),keyword:El,self:wl(El),null:wl(El),atom:wl(El),unit:wl(El),modifier:wl(El),operatorKeyword:wl(El),controlKeyword:wl(El),definitionKeyword:wl(El),moduleKeyword:wl(El),operator:_l,derefOperator:wl(_l),arithmeticOperator:wl(_l),logicOperator:wl(_l),bitwiseOperator:wl(_l),compareOperator:wl(_l),updateOperator:wl(_l),definitionOperator:wl(_l),typeOperator:wl(_l),controlOperator:wl(_l),punctuation:Ll,separator:wl(Ll),bracket:Dl,angleBracket:wl(Dl),squareBracket:wl(Dl),paren:wl(Dl),brace:wl(Dl),content:Al,heading:Pl,heading1:wl(Pl),heading2:wl(Pl),heading3:wl(Pl),heading4:wl(Pl),heading5:wl(Pl),heading6:wl(Pl),contentSeparator:wl(Al),list:wl(Al),quote:wl(Al),emphasis:wl(Al),strong:wl(Al),link:wl(Al),monospace:wl(Al),strikethrough:wl(Al),inserted:wl(),deleted:wl(),changed:wl(),invalid:wl(),meta:Il,documentMeta:wl(Il),annotation:wl(Il),processingInstruction:wl(Il),definition:hl.defineModifier(),constant:hl.defineModifier(),function:hl.defineModifier(),standard:hl.defineModifier(),local:hl.defineModifier(),special:hl.defineModifier()};ml([{tag:Nl.link,class:"tok-link"},{tag:Nl.heading,class:"tok-heading"},{tag:Nl.emphasis,class:"tok-emphasis"},{tag:Nl.strong,class:"tok-strong"},{tag:Nl.keyword,class:"tok-keyword"},{tag:Nl.atom,class:"tok-atom"},{tag:Nl.bool,class:"tok-bool"},{tag:Nl.url,class:"tok-url"},{tag:Nl.labelName,class:"tok-labelName"},{tag:Nl.inserted,class:"tok-inserted"},{tag:Nl.deleted,class:"tok-deleted"},{tag:Nl.literal,class:"tok-literal"},{tag:Nl.string,class:"tok-string"},{tag:Nl.number,class:"tok-number"},{tag:[Nl.regexp,Nl.escape,Nl.special(Nl.string)],class:"tok-string2"},{tag:Nl.variableName,class:"tok-variableName"},{tag:Nl.local(Nl.variableName),class:"tok-variableName tok-local"},{tag:Nl.definition(Nl.variableName),class:"tok-variableName tok-definition"},{tag:Nl.special(Nl.variableName),class:"tok-variableName2"},{tag:Nl.definition(Nl.propertyName),class:"tok-propertyName tok-definition"},{tag:Nl.typeName,class:"tok-typeName"},{tag:Nl.namespace,class:"tok-namespace"},{tag:Nl.className,class:"tok-className"},{tag:Nl.macroName,class:"tok-macroName"},{tag:Nl.propertyName,class:"tok-propertyName"},{tag:Nl.operator,class:"tok-operator"},{tag:Nl.comment,class:"tok-comment"},{tag:Nl.meta,class:"tok-meta"},{tag:Nl.invalid,class:"tok-invalid"},{tag:Nl.punctuation,class:"tok-punctuation"}]);var Ql;const Ml=new No;function Fl(t){return F.define({combine:t?e=>e.concat(t):void 0})}const $l=new No;class Bl{constructor(t,e,n=[],r=""){this.data=t,this.name=r,Tt.prototype.hasOwnProperty("tree")||Object.defineProperty(Tt.prototype,"tree",{get(){return Vl(this)}}),this.parser=e,this.extension=[Kl.of(this),Tt.languageData.of(((t,e,n)=>{let r=Ul(t,e,n),i=r.type.prop(Ml);if(!i)return[];let s=t.facet(i),o=r.type.prop($l);if(o){let i=r.resolve(e-r.from,n);for(let e of o)if(e.test(i,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e,n=-1){return Ul(t,e,n).type.prop(Ml)==this.data}findRegions(t){let e=t.facet(Kl);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(Ml)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(No.mounted);if(i){if(i.tree.prop(Ml)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof Vo&&r(i,t.positions[n]+e)}};return r(Vl(t),0),n}get allowsNesting(){return!0}}function Ul(t,e,n){let r=t.facet(Kl),i=Vl(t).topNode;if(!r||r.allowsNesting)for(let t=i;t;t=t.enter(e,n,Wo.ExcludeBuffers))t.type.isTop&&(i=t);return i}Bl.setState=vt.define();class Wl extends Bl{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=Fl(t.languageData);return new Wl(e,t.parser.configure({props:[Ml.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new Wl(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Vl(t){let e=t.field(Bl.state,!1);return e?e.tree:Vo.empty}class Hl{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let ql=null;class Xl{constructor(t,e,n=[],r,i,s,o,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Xl(t,e,[],Vo.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Hl(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=Vo.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(ll.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(ll.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=ql;ql=this;try{return t()}finally{ql=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=jl(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=ll.applyChanges(n,e),r=Vo.empty,i=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&o.push({from:n,to:r})}}}return new Xl(this.parser,e,n,r,i,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=jl(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends al{createParse(e,n,r){let i=r[0].from,s=r[r.length-1].to,o={parsedPos:i,advance(){let e=ql;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new Vo(Fo.none,[],[],s-i)},stoppedAt:null,stopAt(){}};return o}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return ql}}function jl(t,e,n){return ll.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class zl{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new zl(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Xl.create(t.facet(Kl).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new zl(n)}}Bl.state=q.define({create:zl.init,update(t,e){for(let t of e.effects)if(t.is(Bl.setState))return t.value;return e.startState.facet(Kl)!=e.state.facet(Kl)?zl.init(e.state):t.apply(e)}});let Yl=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(Yl=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Gl="undefined"!=typeof navigator&&(null===(Ql=navigator.scheduling)||void 0===Ql?void 0:Ql.isInputPending)?()=>navigator.scheduling.isInputPending():null,Zl=An.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Bl.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Bl.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=Yl(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(Bl.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!Gl?Math.max(25,t.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work((()=>Gl&&Gl()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Bl.setState.of(new zl(i.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>Cn(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Kl=F.define({combine:t=>t.length?t[0]:null,enables:t=>[Bl.state,Zl,Wi.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});const Jl=F.define(),ta=F.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function ea(t){let e=t.facet(ta);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function na(t,e){let n="",r=t.tabSize,i=t.facet(ta)[0];if("\t"==i){for(;e>=r;)n+="\t",e-=r;i=" "}for(let t=0;t<e;t++)n+=i;return n}function ra(t,e){t instanceof Tt&&(t=new ia(t));for(let n of t.state.facet(Jl)){let r=n(t,e);if(void 0!==r)return r}let n=Vl(t.state);return n.length>=e?function(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let t=[];for(let e=i;e!=r.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)r={node:t[e],next:r}}return oa(r,t,n)}(t,n,e):null}class ia{constructor(t,e={}){this.state=t,this.options=e,this.unit=ea(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(i+=s-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return Ht(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const sa=new No;function oa(t,e,n){for(let r=t;r;r=r.next){let t=la(r.node);if(t)return t(ua.create(e,n,r))}return 0}function la(t){let e=t.type.prop(sa);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(No.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>ha(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?aa:null}function aa(){return 0}class ua extends ia{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new ua(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(ca(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return oa(this.context.next,this.base,this.pos)}}function ca(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function ha(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==t.pos+o,a=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<o?n:null;t=i.to}}(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}function fa({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const da=F.define(),va=new No;function ga(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function pa(t,e,n){for(let r of t.facet(da)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=Vl(t);if(r.length<n)return null;let i=null;for(let s=r.resolveStack(n,1);s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(i&&o.from<e)break;let l=o.type.prop(va);if(l&&(o.to<r.length-50||r.length==t.doc.length||!ga(o))){let r=l(o,t);r&&r.from<=n&&r.from>=e&&r.to>n&&(i=r)}}return i}(t,e,n)}function ma(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Ra=vt.define({map:ma}),Oa=vt.define({map:ma});function wa(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const xa=q.define({create:()=>rn.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Ra)&&!ba(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(Aa),i=r?rn.replace({widget:new La(r(e.state,n.value))}):_a;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Oa)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>Wi.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(_a.range(r,i))}return rn.set(e,!0)}});function ya(t,e,n){var r;let i=null;return null===(r=t.field(xa,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function ba(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function Ca(t,e){return t.field(xa,!1)?e:e.concat(vt.appendConfig.of(Pa()))}function ka(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Wi.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Ta=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of wa(t)){let n=pa(t.state,e.from,e.to);if(n)return t.dispatch({effects:Ca(t.state,[Ra.of(n),ka(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(xa,!1))return!1;let e=[];for(let n of wa(t)){let r=ya(t.state,n.from,n.to);r&&e.push(Oa.of(r),ka(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=pa(e,i.from,i.to);s&&n.push(Ra.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:Ca(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(xa,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(Oa.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],Sa={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Aa=F.define({combine:t=>St(t,Sa)});function Pa(t){let e=[xa,Qa];return t&&e.push(Aa.of(t)),e}function Ea(t,e){let{state:n}=t,r=n.facet(Aa),i=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=ya(t.state,n.from,n.to);r&&t.dispatch({effects:Oa.of(r)}),e.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const _a=rn.replace({widget:new class extends en{toDOM(t){return Ea(t,null)}}});class La extends en{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Ea(t,this.value)}}const Da={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ia extends uo{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function Na(t={}){let e=Object.assign(Object.assign({},Da),t),n=new Ia(e,!0),r=new Ia(e,!1),i=An.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(Kl)!=t.state.facet(Kl)||t.startState.field(xa,!1)!=t.state.field(xa,!1)||Vl(t.startState)!=Vl(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Dt;for(let i of t.viewportLineBlocks){let s=ya(t.state,i.from,i.to)?r:pa(t.state,i.from,i.to)?n:null;s&&e.add(i.from,i.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[i,vo({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Lt.empty},initialSpacer:()=>new Ia(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let r=ya(t.state,e.from,e.to);if(r)return t.dispatch({effects:Oa.of(r)}),!0;let i=pa(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:Ra.of(i)}),!0)}})}),Pa()]}const Qa=Wi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ma{constructor(t,e){let n;function r(t){let e=Yt.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const i="string"==typeof e.all?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof Bl?t=>t.prop(Ml)==s.data:s?t=>t==s:void 0,this.style=ml(t.map((t=>({tag:t.tag,class:t.class||r(Object.assign({},t,{tag:null}))}))),{all:i}).style,this.module=n?new Yt(n):null,this.themeType=e.themeType}static define(t,e){return new Ma(t,e||{})}}const Fa=F.define(),$a=F.define({combine:t=>t.length?[t[0]]:null});function Ba(t){let e=t.facet(Fa);return e.length?e:t.facet($a)}function Ua(t,e){let n,r=[Va];return t instanceof Ma&&(t.module&&r.push(Wi.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?r.push($a.of(t)):n?r.push(Fa.computeN([Wi.darkTheme],(e=>e.facet(Wi.darkTheme)==("dark"==n)?[t]:[]))):r.push(Fa.of(t)),r}class Wa{constructor(t){this.markCache=Object.create(null),this.tree=Vl(t.state),this.decorations=this.buildDeco(t,Ba(t.state))}update(t){let e=Vl(t.state),n=Ba(t.state),r=n!=Ba(t.startState);e.length<t.view.viewport.to&&!r&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return rn.none;let n=new Dt;for(let{from:r,to:i}of t.visibleRanges)Rl(this.tree,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=rn.mark({class:r})))}),r,i);return n.finish()}}const Va=Z.high(An.fromClass(Wa,{decorations:t=>t.decorations})),Ha=Ma.define([{tag:Nl.meta,color:"#404740"},{tag:Nl.link,textDecoration:"underline"},{tag:Nl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Nl.emphasis,fontStyle:"italic"},{tag:Nl.strong,fontWeight:"bold"},{tag:Nl.strikethrough,textDecoration:"line-through"},{tag:Nl.keyword,color:"#708"},{tag:[Nl.atom,Nl.bool,Nl.url,Nl.contentSeparator,Nl.labelName],color:"#219"},{tag:[Nl.literal,Nl.inserted],color:"#164"},{tag:[Nl.string,Nl.deleted],color:"#a11"},{tag:[Nl.regexp,Nl.escape,Nl.special(Nl.string)],color:"#e40"},{tag:Nl.definition(Nl.variableName),color:"#00f"},{tag:Nl.local(Nl.variableName),color:"#30a"},{tag:[Nl.typeName,Nl.namespace],color:"#085"},{tag:Nl.className,color:"#167"},{tag:[Nl.special(Nl.variableName),Nl.macroName],color:"#256"},{tag:Nl.definition(Nl.propertyName),color:"#00c"},{tag:Nl.comment,color:"#940"},{tag:Nl.invalid,color:"#f00"}]),qa=Wi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Xa=1e4,ja="()[]{}",za=F.define({combine:t=>St(t,{afterCursor:!0,brackets:ja,maxScanDistance:Xa,renderMatch:Za})}),Ya=rn.mark({class:"cm-matchingBracket"}),Ga=rn.mark({class:"cm-nonmatchingBracket"});function Za(t){let e=[],n=t.matched?Ya:Ga;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Ka=q.define({create:()=>rn.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(za);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=iu(e.state,t.head,-1,r)||t.head>0&&iu(e.state,t.head-1,1,r)||r.afterCursor&&(iu(e.state,t.head,1,r)||t.head<e.state.doc.length&&iu(e.state,t.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return rn.set(n,!0)},provide:t=>Wi.decorations.from(t)}),Ja=[Ka,qa];function tu(t={}){return[za.of(t),Ja]}const eu=new No;function nu(t,e,n){let r=t.prop(e<0?No.openedBy:No.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function ru(t){let e=t.type.prop(eu);return e?e(t.node):t}function iu(t,e,n,r={}){let i=r.maxScanDistance||Xa,s=r.brackets||ja,o=Vl(t),l=o.resolveInner(e,n);for(let r=l;r;r=r.parent){let i=nu(r.type,n,s);if(i&&r.from<r.to){let o=ru(r);if(o&&(n>0?e>=o.from&&e<o.to:e>o.from&&e<=o.to))return su(t,e,n,r,o,i,s)}}return function(t,e,n,r,i,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let l=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||r.resolveInner(l+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:u,end:{from:l+t,to:l+t+1},matched:e>>1==a>>1};h--}}n>0&&(t+=s.length)}return c.done?{start:u,matched:!1}:null}(t,e,n,o,l.type,i,s)}function su(t,e,n,r,i,s,o){let l=r.parent,a={from:i.from,to:i.to},u=0,c=null==l?void 0:l.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==u&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=ru(c);return{start:a,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(nu(c.type,n,o))u++;else if(nu(c.type,-n,o)){if(0==u){let t=ru(c);return{start:a,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}u--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const ou=Object.create(null),lu=[Fo.none],au=[],uu=Object.create(null),cu=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])cu[t]=fu(ou,e);function hu(t,e){au.indexOf(t)>-1||(au.push(t),console.warn(e))}function fu(t,e){let n=[];for(let r of e.split(" ")){let e=[];for(let n of r.split(".")){let r=t[n]||Nl[n];r?"function"==typeof r?e.length?e=e.map(r):hu(n,`Modifier ${n} used at start of tag`):e.length?hu(n,`Tag ${n} used as modifier`):e=Array.isArray(r)?r:[r]:hu(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map((t=>t.id)),s=uu[i];if(s)return s.id;let o=uu[i]=Fo.define({id:lu.length,name:r,props:[vl({[r]:n})]});return lu.push(o),o.id}function du(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}const vu=du(wu,0),gu=du(Ou,0),pu=du(((t,e)=>Ou(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}(e))),0);function mu(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Ru=50;function Ou(t,e,n=e.selection.ranges){let r=n.map((t=>mu(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let s,o,l=t.sliceDoc(r-Ru,r),a=t.sliceDoc(i,i+Ru),u=/\s*$/.exec(l)[0].length,c=/^\s*/.exec(a)[0].length,h=l.length-u;if(l.slice(h-e.length,h)==e&&a.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};i-r<=2*Ru?s=o=t.sliceDoc(r,i):(s=t.sliceDoc(r,r+Ru),o=t.sliceDoc(i-Ru,i));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(o)[0].length,v=o.length-d-n.length;return s.slice(f,f+e.length)==e&&o.slice(v,v+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:s,close:o}=e;t.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:t}}return null}function wu(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:t,to:s}of n){let n=r.length,o=1e9,l=mu(e,t).line;if(l){for(let n=t;n<=s;){let a=e.doc.lineAt(n);if(a.from>i&&(t==s||s>a.from)){i=a.from;let t=/^\s*/.exec(a.text)[0].length,e=t==a.length,n=a.text.slice(t,t+l.length)==l?t:-1;t<a.text.length&&t<o&&(o=t),r.push({line:a,comment:n,token:l,indent:t,empty:e,single:!1})}n=a.to+1}if(o<1e9)for(let t=n;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=o);r.length==n+1&&(r[n].single=!0)}}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:s,single:o}of r)!o&&s||t.push({from:e.from+i,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,s=r+i.length;" "==e.text[s-e.from]&&s++,t.push({from:r,to:s})}return{changes:t}}return null}const xu=ht.define(),yu=ht.define(),bu=F.define(),Cu=F.define({combine:t=>St(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}),ku=q.define({create:()=>Wu.empty,update(t,e){let n=e.state.facet(Cu),r=e.annotation(xu);if(r){let i=Lu.fromTransaction(e,r.selection),s=r.side,o=0==s?t.undone:t.done;return o=i?Du(o,o.length,n.minDepth,i):Mu(o,e.startState.selection),new Wu(0==s?r.rest:o,0==s?o:r.rest)}let i=e.annotation(yu);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(gt.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Lu.fromTransaction(e),o=e.annotation(gt.time),l=e.annotation(gt.userEvent);return s?t=t.addChanges(s,o,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,l,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new Wu(t.done.map(Lu.fromJSON),t.undone.map(Lu.fromJSON))});function Tu(t={}){return[ku,Cu.of(t),Wi.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?Au:"historyRedo"==t.inputType?Pu:null;return!!n&&(t.preventDefault(),n(e))}})]}function Su(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(ku,!1);if(!i)return!1;let s=i.pop(t,n,e);return!!s&&(r(s),!0)}}const Au=Su(0,!1),Pu=Su(1,!1),Eu=Su(0,!0),_u=Su(1,!0);class Lu{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new Lu(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Lu(t.changes&&S.fromJSON(t.changes),[],t.mapped&&T.fromJSON(t.mapped),t.startSelection&&N.fromJSON(t.startSelection),t.selectionsAfter.map(N.fromJSON))}static fromTransaction(t,e){let n=Nu;for(let e of t.startState.facet(bu)){let r=e(t);r.length&&(n=n.concat(r))}return!n.length&&t.changes.empty?null:new Lu(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,Nu)}static selection(t){return new Lu(void 0,Nu,void 0,void 0,t)}}function Du(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function Iu(t,e){return t.length?e.length?t.concat(e):t:e}const Nu=[],Qu=200;function Mu(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Qu));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Du(t,t.length-1,1e9,n.setSelAfter(r)))}return[Lu.selection([e])]}function Fu(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function $u(t,e){if(!t.length)return t;let n=t.length,r=Nu;for(;n;){let i=Bu(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Lu.selection(r)]:Nu}function Bu(t,e,n){let r=Iu(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):Nu,n);if(!t.changes)return Lu.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Lu(i,vt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const Uu=/^(input\.type|delete)($|\.)/;class Wu{constructor(t,e,n=0,r=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Wu(this.done,this.undone):this}addChanges(t,e,n,r,i){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||Uu.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&i<=o&&(r=!0)}})),r}(o.changes,t.changes))||"input.type.compose"==n)?Du(s,s.length-1,r.minDepth,new Lu(t.changes.compose(o.changes),Iu(t.effects,o.effects),o.mapped,o.startSelection,Nu)):Du(s,s.length,r.minDepth,t),new Wu(s,Nu,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Nu;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(i[i.length-1],t)?this:new Wu(Mu(this.done,t),this.undone,e,n)}addMapping(t){return new Wu($u(this.done,t),$u(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],s=i.selectionsAfter[0]||e.selection;if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:xu.of({side:t,rest:Fu(r),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?Nu:r.slice(0,r.length-1);return i.mapped&&(n=$u(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:xu.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}Wu.empty=new Wu(Nu,Nu);const Vu=[{key:"Mod-z",run:Au,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Pu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Pu,preventDefault:!0},{key:"Mod-u",run:Eu,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:_u,preventDefault:!0}];function Hu(t,e){return N.create(t.ranges.map(e),t.mainIndex)}function qu(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Xu({state:t,dispatch:e},n){let r=Hu(t.selection,n);return!r.eq(t.selection)&&(e(qu(t,r)),!0)}function ju(t,e){return N.cursor(e?t.to:t.from)}function zu(t,e){return Xu(t,(n=>n.empty?t.moveByChar(n,e):ju(n,e)))}function Yu(t){return t.textDirectionAt(t.state.selection.main.head)==Un.LTR}const Gu=t=>zu(t,!Yu(t)),Zu=t=>zu(t,Yu(t));function Ku(t,e){return Xu(t,(n=>n.empty?t.moveByGroup(n,e):ju(n,e)))}"undefined"!=typeof Intl&&Intl.Segmenter;function Ju(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function tc(t,e,n){let r,i,s=Vl(t).resolveInner(e.head),o=n?No.closedBy:No.openedBy;for(let r=e.head;;){let e=n?s.childAfter(r):s.childBefore(r);if(!e)break;Ju(t,e,o)?s=e:r=n?e.to:e.from}return i=s.type.prop(o)&&(r=n?iu(t,s.from,1):iu(t,s.to,-1))&&r.matched?n?r.end.to:r.end.from:n?s.to:s.from,N.cursor(i,n?-1:1)}function ec(t,e){return Xu(t,(n=>{if(!n.empty)return ju(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const nc=t=>ec(t,!1),rc=t=>ec(t,!0);function ic(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,i=0;if(n){for(let e of t.state.facet(Wi.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}e=t.scrollDOM.clientHeight-r-i}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function sc(t,e){let n,r=ic(t),{state:i}=t,s=Hu(i.selection,(n=>n.empty?t.moveVertically(n,e,r.height):ju(n,e)));if(s.eq(i.selection))return!1;if(r.selfScroll){let e=t.coordsAtPos(i.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),l=o.top+r.marginTop,a=o.bottom-r.marginBottom;e&&e.top>l&&e.bottom<a&&(n=Wi.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-l}))}return t.dispatch(qu(i,s),{effects:n}),!0}const oc=t=>sc(t,!1),lc=t=>sc(t,!0);function ac(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=N.cursor(r.from+n))}return i}function uc(t,e,n){let r=!1,i=Hu(t.selection,(e=>{let i=iu(t,e.head,-1)||iu(t,e.head,1)||e.head>0&&iu(t,e.head-1,1)||e.head<t.doc.length&&iu(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let s=i.start.from==e.head?i.end.to:i.end.from;return n?N.range(e.anchor,s):N.cursor(s)}));return!!r&&(e(qu(t,i)),!0)}function cc(t,e){let n=Hu(t.state.selection,(t=>{let n=e(t);return N.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(qu(t.state,n)),!0)}function hc(t,e){return cc(t,(n=>t.moveByChar(n,e)))}const fc=t=>hc(t,!Yu(t)),dc=t=>hc(t,Yu(t));function vc(t,e){return cc(t,(n=>t.moveByGroup(n,e)))}function gc(t,e){return cc(t,(n=>t.moveVertically(n,e)))}const pc=t=>gc(t,!1),mc=t=>gc(t,!0);function Rc(t,e){return cc(t,(n=>t.moveVertically(n,e,ic(t).height)))}const Oc=t=>Rc(t,!1),wc=t=>Rc(t,!0),xc=({state:t,dispatch:e})=>(e(qu(t,{anchor:0})),!0),yc=({state:t,dispatch:e})=>(e(qu(t,{anchor:t.doc.length})),!0),bc=({state:t,dispatch:e})=>(e(qu(t,{anchor:t.selection.main.anchor,head:0})),!0),Cc=({state:t,dispatch:e})=>(e(qu(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function kc(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange((r=>{let{from:i,to:s}=r;if(i==s){let o=e(r);o<i?(n="delete.backward",o=Tc(t,o,!1)):o>i&&(n="delete.forward",o=Tc(t,o,!0)),i=Math.min(i,o),s=Math.max(s,o)}else i=Tc(t,i,!1),s=Tc(t,s,!0);return i==s?{range:r}:{changes:{from:i,to:s},range:N.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Wi.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Tc(t,e,n){if(t instanceof Wi)for(let r of t.state.facet(Wi.atomicRanges).map((e=>e(t))))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const Sc=(t,e)=>kc(t,(n=>{let r,i,s=n.from,{state:o}=t,l=o.doc.lineAt(s);if(!e&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(r=l.text.slice(0,s-l.from))){if("\t"==r[r.length-1])return s-1;let t=Ht(r,o.tabSize)%ea(o)||ea(o);for(let e=0;e<t&&" "==r[r.length-1-e];e++)s--;i=s}else i=p(l.text,s-l.from,e,e)+l.from,i==s&&l.number!=(e?o.doc.lines:1)?i+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(i-l.from,s-l.from))&&(i=p(l.text,i-l.from,!1,!1)+l.from);return i})),Ac=t=>Sc(t,!1),Pc=t=>Sc(t,!0),Ec=(t,e)=>kc(t,(n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let t=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=p(s.text,r-s.from,e)+s.from,a=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(a);if(null!=t&&u!=t)break;" "==a&&r==n.head||(t=u),r=l}return r})),_c=t=>Ec(t,!1);function Lc(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function Dc(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let e of Lc(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),o=s.length+1;if(n){r.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)i.push(N.range(Math.min(t.doc.length,n.anchor+o),Math.min(t.doc.length,n.head+o)))}else{r.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)i.push(N.range(t.anchor-o,t.head-o))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:N.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Ic(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of Lc(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Nc=Mc(!1),Qc=Mc(!0);function Mc(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=e.changeByRange((r=>{let{from:i,to:s}=r,o=e.doc.lineAt(i),l=!t&&i==s&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=Vl(t).resolveInner(e),i=r.childBefore(e),s=r.childAfter(e);return i&&s&&i.to<=e&&s.from>=e&&(n=i.type.prop(No.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}(e,i);t&&(i=s=(s<=o.to?o:e.doc.lineAt(s)).to);let a=new ia(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=ra(a,i);for(null==u&&(u=Ht(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?({from:i,to:s}=l):i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let c=["",na(e,u)];return l&&c.push(na(e,a.lineIndent(o.from,-1))),{changes:{from:i,to:s,insert:n.of(c)},range:N.cursor(i+1+c[1].length)}}));return r(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Fc(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let s=t.changes(i);return{changes:i,range:N.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const $c=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Fc(t,((e,n)=>{n.push({from:e.from,insert:t.facet(ta)})})),{userEvent:"input.indent"})),!0),Bc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Fc(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=Ht(r,t.tabSize),s=0,o=na(t,Math.max(0,i-ea(t)));for(;s<r.length&&s<o.length&&r.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0),Uc=[{key:"Ctrl-b",run:Gu,shift:fc,preventDefault:!0},{key:"Ctrl-f",run:Zu,shift:dc},{key:"Ctrl-p",run:nc,shift:pc},{key:"Ctrl-n",run:rc,shift:mc},{key:"Ctrl-a",run:t=>Xu(t,(e=>N.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>cc(t,(e=>N.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>Xu(t,(e=>N.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>cc(t,(e=>N.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:Pc},{key:"Ctrl-h",run:Ac},{key:"Ctrl-k",run:t=>kc(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:_c},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:n.of(["",""])},range:N.cursor(t.from)})));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:p(r.text,n-r.from,!1)+r.from,s=n==r.to?n+1:p(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(i,n))},range:N.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:lc}],Wc=[{key:"ArrowLeft",run:Gu,shift:fc,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>Ku(t,!Yu(t)),shift:t=>vc(t,!Yu(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>Xu(t,(e=>ac(t,e,!Yu(t)))),shift:t=>cc(t,(e=>ac(t,e,!Yu(t)))),preventDefault:!0},{key:"ArrowRight",run:Zu,shift:dc,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>Ku(t,Yu(t)),shift:t=>vc(t,Yu(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>Xu(t,(e=>ac(t,e,Yu(t)))),shift:t=>cc(t,(e=>ac(t,e,Yu(t)))),preventDefault:!0},{key:"ArrowUp",run:nc,shift:pc,preventDefault:!0},{mac:"Cmd-ArrowUp",run:xc,shift:bc},{mac:"Ctrl-ArrowUp",run:oc,shift:Oc},{key:"ArrowDown",run:rc,shift:mc,preventDefault:!0},{mac:"Cmd-ArrowDown",run:yc,shift:Cc},{mac:"Ctrl-ArrowDown",run:lc,shift:wc},{key:"PageUp",run:oc,shift:Oc},{key:"PageDown",run:lc,shift:wc},{key:"Home",run:t=>Xu(t,(e=>ac(t,e,!1))),shift:t=>cc(t,(e=>ac(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:xc,shift:bc},{key:"End",run:t=>Xu(t,(e=>ac(t,e,!0))),shift:t=>cc(t,(e=>ac(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:yc,shift:Cc},{key:"Enter",run:Nc},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Ac,shift:Ac},{key:"Delete",run:Pc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:_c},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Ec(t,!0)},{mac:"Mod-Backspace",run:t=>kc(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>kc(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat(Uc.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),Vc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>Xu(t,(e=>tc(t.state,e,!Yu(t)))),shift:t=>cc(t,(e=>tc(t.state,e,!Yu(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>Xu(t,(e=>tc(t.state,e,Yu(t)))),shift:t=>cc(t,(e=>tc(t.state,e,Yu(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Dc(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Ic(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Dc(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Ic(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=N.create([n.main]):n.main.empty||(r=N.create([N.cursor(n.main.head)])),!!r&&(e(qu(t,r)),!0)}},{key:"Mod-Enter",run:Qc},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=Lc(t).map((({from:e,to:n})=>N.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:N.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=Hu(t.selection,(e=>{var n;for(let r=Vl(t).resolveStack(e.from,1);r;r=r.next){let{node:t}=r;if((t.from<e.from&&t.to>=e.to||t.to>e.to&&t.from<=e.from)&&(null===(n=t.parent)||void 0===n?void 0:n.parent))return N.range(t.to,t.from)}return e}));return e(qu(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:Bc},{key:"Mod-]",run:$c},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new ia(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=Fc(t,((e,i,s)=>{let o=ra(r,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],a=na(t,o);(l!=a||s.from<e.from+l.length)&&(n[e.from]=o,i.push({from:e.from,to:e.from+l.length,insert:a}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Lc(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=Hu(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>uc(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=mu(t.state,n.from);return r.line?vu(t):!!r.block&&pu(t)}},{key:"Alt-A",run:gu}].concat(Wc),Hc={key:"Tab",run:$c,shift:Bc};function qc(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)Xc(t,arguments[e]);return t}function Xc(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)Xc(t,e[n])}}const jc="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class zc{constructor(t,e,n=0,r=t.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(jc(t)):jc,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return x(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=y(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=b(t);let r=this.normalize(e);for(let t=0,i=n;;t++){let s=r.charCodeAt(t),o=this.match(s,i);if(t==r.length-1){if(o)return this.value=o,this;break}i==n&&t<e.length&&e.charCodeAt(t)==s&&i++}}}match(t,e){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],s=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?n={from:this.matches[r+1],to:e+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(zc.prototype[Symbol.iterator]=function(){return this});const Yc={from:-1,to:-1,match:/.*/.exec("")},Gc="gm"+(null==/x/.unicode?"":"u");class Zc{constructor(t,e,n,r=0,i=t.length){if(this.text=t,this.to=i,this.curLine="",this.done=!1,this.value=Yc,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new th(t,e,n,r,i);this.re=new RegExp(e,Gc+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=eh(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=eh(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const Kc=new WeakMap;class Jc{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=Kc.get(t);if(!r||r.from>=n||r.to<=e){let r=new Jc(e,t.sliceString(e,n));return Kc.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:s}=r;return s>e&&(i=t.sliceString(e,s)+i,s=e),r.to<n&&(i+=t.sliceString(r.to,n)),Kc.set(t,new Jc(s,i)),new Jc(e,i.slice(e-s,n-s))}}class th{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=Yc,this.matchPos=eh(t,r),this.re=new RegExp(e,Gc+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=Jc.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=eh(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Jc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function eh(t,e){if(e>=t.length)return e;let n,r=t.lineAt(e);for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function nh(t){let e=qc("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,s,o,l,a]=n,u=l?+l.slice(1):0,c=o?+o:i.number;if(o&&a){let t=c/100;s&&(t=t*("-"==s?-1:1)+i.number/r.doc.lines),c=Math.round(r.doc.lines*t)}else o&&s&&(c=c*("-"==s?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,c))),f=N.cursor(h.from+Math.max(0,Math.min(u,h.length)));t.dispatch({effects:[rh.of(!1),Wi.scrollIntoView(f.from,{y:"center"})],selection:f}),t.focus()}return{dom:qc("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:rh.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},qc("label",t.state.phrase("Go to line"),": ",e)," ",qc("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Zc.prototype[Symbol.iterator]=th.prototype[Symbol.iterator]=function(){return this});const rh=vt.define(),ih=q.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(rh)&&(t=n.value);return t},provide:t=>ao.from(t,(t=>t?nh:null))}),sh=Wi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),oh={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},lh=F.define({combine:t=>St(t,oh,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function ah(t){let e=[dh,fh];return t&&e.push(lh.of(t)),e}const uh=rn.mark({class:"cm-selectionMatch"}),ch=rn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function hh(t,e,n,r){return!(0!=n&&t(e.sliceDoc(n-1,n))==yt.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==yt.Word)}const fh=An.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(lh),{state:n}=t,r=n.selection;if(r.ranges.length>1)return rn.none;let i,s=r.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return rn.none;let t=n.wordAt(s.head);if(!t)return rn.none;o=n.charCategorizer(s.head),i=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return rn.none;if(e.wholeWords){if(i=n.sliceDoc(s.from,s.to),o=n.charCategorizer(s.head),!hh(o,n,s.from,s.to)||!function(t,e,n,r){return t(e.sliceDoc(n,n+1))==yt.Word&&t(e.sliceDoc(r-1,r))==yt.Word}(o,n,s.from,s.to))return rn.none}else if(i=n.sliceDoc(s.from,s.to).trim(),!i)return rn.none}let l=[];for(let r of t.visibleRanges){let t=new zc(n.doc,i,r.from,r.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!o||hh(o,n,r,i))&&(s.empty&&r<=s.from&&i>=s.to?l.push(ch.range(r,i)):(r>=s.to||i<=s.from)&&l.push(uh.range(r,i)),l.length>e.maxMatches))return rn.none}}return rn.set(l)}},{decorations:t=>t.decorations}),dh=Wi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const vh=F.define({combine:t=>St(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new Vh(t),scrollToMatch:t=>Wi.scrollIntoView(t)})});class gh{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,Gc),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new yh(this):new Rh(this)}getCursor(t,e=0,n){let r=t.doc?t:Tt.create({doc:t});return null==n&&(n=r.doc.length),this.regexp?Oh(this,r,e,n):mh(this,r,e,n)}}class ph{constructor(t){this.spec=t}}function mh(t,e,n,r){return new zc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?function(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),!(e(wh(i,n-s))==yt.Word&&e(xh(i,n-s))==yt.Word||e(xh(i,r-s))==yt.Word&&e(wh(i,r-s))==yt.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class Rh extends ph{constructor(t){super(t)}nextMatch(t,e,n){let r=mh(this.spec,t,n,t.doc.length).nextOverlapping();return r.done&&(r=mh(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.spec.unquoted.length),i=mh(this.spec,t,n,r),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=mh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=mh(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function Oh(t,e,n,r){return new Zc(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(i=e.charCategorizer(e.selection.main.head),(t,e,n)=>!n[0].length||(i(wh(n.input,n.index))!=yt.Word||i(xh(n.input,n.index))!=yt.Word)&&(i(xh(n.input,n.index+n[0].length))!=yt.Word||i(wh(n.input,n.index+n[0].length))!=yt.Word)):void 0},n,r);var i}function wh(t,e){return t.slice(p(t,e,!1),e)}function xh(t,e){return t.slice(e,p(t,e))}class yh extends ph{nextMatch(t,e,n){let r=Oh(this.spec,t,n,t.doc.length).next();return r.done&&(r=Oh(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),s=Oh(this.spec,t,i,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==e||o.from>i+10))return o;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=Oh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Oh(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const bh=vt.define(),Ch=vt.define(),kh=q.define({create:t=>new Th(Mh(t).create(),null),update(t,e){for(let n of e.effects)n.is(bh)?t=new Th(n.value.create(),t.panel):n.is(Ch)&&(t=new Th(t.query,n.value?Qh:null));return t},provide:t=>ao.from(t,(t=>t.panel))});class Th{constructor(t,e){this.query=t,this.panel=e}}const Sh=rn.mark({class:"cm-searchMatch"}),Ah=rn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ph=An.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(kh))}update(t){let e=t.state.field(kh);(e!=t.startState.field(kh)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return rn.none;let{view:n}=this,r=new Dt;for(let e=0,i=n.visibleRanges,s=i.length;e<s;e++){let{from:o,to:l}=i[e];for(;e<s-1&&l>i[e+1].from-500;)l=i[++e].to;t.highlight(n.state,o,l,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?Ah:Sh)}))}return r.finish()}},{decorations:t=>t.decorations});function Eh(t){return e=>{let n=e.state.field(kh,!1);return n&&n.query.spec.valid?t(e,n):Bh(e)}}const _h=Eh(((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=N.single(r.from,r.to),s=t.state.facet(vh);return t.dispatch({selection:i,effects:[jh(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),$h(t),!0})),Lh=Eh(((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=N.single(i.from,i.to),o=t.state.facet(vh);return t.dispatch({selection:s,effects:[jh(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),$h(t),!0})),Dh=Eh(((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!(!n||!n.length)&&(t.dispatch({selection:N.create(n.map((t=>N.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),Ih=Eh(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o,l,a=[],u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(Wi.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let e=0==a.length||a[0].from>=s.to?0:s.to-s.from-l.length;o=N.single(s.from-e,s.to-e),u.push(jh(t,s)),u.push(n.facet(vh).scrollToMatch(o.main,t))}return t.dispatch({changes:a,selection:o,effects:u,userEvent:"input.replace"}),!0})),Nh=Eh(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Wi.announce.of(r),userEvent:"input.replace.all"}),!0}));function Qh(t){return t.state.facet(vh).createPanel(t)}function Mh(t,e){var n,r,i,s,o;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=t.facet(vh);return new gh({search:(null!==(n=null==e?void 0:e.literal)&&void 0!==n?n:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==e?void 0:e.caseSensitive)&&void 0!==r?r:u.caseSensitive,literal:null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:u.literal,regexp:null!==(s=null==e?void 0:e.regexp)&&void 0!==s?s:u.regexp,wholeWord:null!==(o=null==e?void 0:e.wholeWord)&&void 0!==o?o:u.wholeWord})}function Fh(t){let e=io(t,Qh);return e&&e.dom.querySelector("[main-field]")}function $h(t){let e=Fh(t);e&&e==t.root.activeElement&&e.select()}const Bh=t=>{let e=t.state.field(kh,!1);if(e&&e.panel){let n=Fh(t);if(n&&n!=t.root.activeElement){let r=Mh(t.state,e.query.spec);r.valid&&t.dispatch({effects:bh.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Ch.of(!0),e?bh.of(Mh(t.state,e.query.spec)):vt.appendConfig.of(Yh)]});return!0},Uh=t=>{let e=t.state.field(kh,!1);if(!e||!e.panel)return!1;let n=io(t,Qh);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Ch.of(!1)}),!0},Wh=[{key:"Mod-f",run:Bh,scope:"editor search-panel"},{key:"F3",run:_h,shift:Lh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:_h,shift:Lh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Uh,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let e=new zc(t.doc,t.sliceDoc(r,i));!e.next().done;){if(s.length>1e3)return!1;e.value.from==r&&(o=s.length),s.push(N.range(e.value.from,e.value.to))}return e(t.update({selection:N.create(s,o),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=io(t,nh);if(!e){let n=[rh.of(!0)];null==t.state.field(ih,!1)&&n.push(vt.appendConfig.of([ih,sh])),t.dispatch({effects:n}),e=io(t,nh)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=N.create(n.ranges.map((e=>t.wordAt(e.head)||N.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new zc(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(s){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new zc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange(N.range(i.from,i.to),!1),effects:Wi.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Vh{constructor(t){this.view=t;let e=this.query=t.state.field(kh).query.spec;function n(t,e,n){return qc("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=qc("input",{value:e.search,placeholder:Hh(t,"Find"),"aria-label":Hh(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=qc("input",{value:e.replace,placeholder:Hh(t,"Replace"),"aria-label":Hh(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=qc("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=qc("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=qc("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=qc("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>_h(t)),[Hh(t,"next")]),n("prev",(()=>Lh(t)),[Hh(t,"previous")]),n("select",(()=>Dh(t)),[Hh(t,"all")]),qc("label",null,[this.caseField,Hh(t,"match case")]),qc("label",null,[this.reField,Hh(t,"regexp")]),qc("label",null,[this.wordField,Hh(t,"by word")]),...t.state.readOnly?[]:[qc("br"),this.replaceField,n("replace",(()=>Ih(t)),[Hh(t,"replace")]),n("replaceAll",(()=>Nh(t)),[Hh(t,"replace all")])],qc("button",{name:"close",onclick:()=>Uh(t),"aria-label":Hh(t,"close"),type:"button"},["×"])])}commit(){let t=new gh({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:bh.of(t)}))}keydown(t){var e,n,r;e=this.view,n=t,r="search-panel",es(Ki(e.state),n,e,r)?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Lh:_h)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),Ih(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(bh)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(vh).top}}function Hh(t,e){return t.state.phrase(e)}const qh=30,Xh=/[\s\.,:;?!]/;function jh(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-qh),o=Math.min(i,n+qh),l=t.state.sliceDoc(s,o);if(s!=r.from)for(let t=0;t<qh;t++)if(!Xh.test(l[t+1])&&Xh.test(l[t])){l=l.slice(t);break}if(o!=i)for(let t=l.length-1;t>l.length-qh;t--)if(!Xh.test(l[t-1])&&Xh.test(l[t])){l=l.slice(0,t);break}return Wi.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const zh=Wi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Yh=[kh,Z.low(Ph),zh];class Gh{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=Vl(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(ef(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function Zh(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Kh(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=Zh(e)+Zh(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:n}:null}}class Jh{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function tf(t){return t.selection.main.from}function ef(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const nf=ht.define();const rf=new WeakMap;function sf(t){if(!Array.isArray(t))return t;let e=rf.get(t);return e||rf.set(t,e=Kh(t)),e}const of=vt.define(),lf=vt.define();class af{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=x(t,e),r=b(n);this.chars.push(n);let i=t.slice(e,e+r),s=i.toUpperCase();this.folded.push(x(s==i?i.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,!0}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return!1;let{chars:e,folded:n,any:r,precise:i,byWord:s}=this;if(1==e.length){let r=x(t,0),i=b(r),s=i==t.length?0:-100;if(r==e[0]);else{if(r!=n[0])return!1;s+=-200}return this.ret(s,[0,i])}let o=t.indexOf(this.pattern);if(0==o)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=e.length,a=0;if(o<0){for(let i=0,s=Math.min(t.length,200);i<s&&a<l;){let s=x(t,i);s!=e[a]&&s!=n[a]||(r[a++]=i),i+=b(s)}if(a<l)return!1}let u=0,c=0,h=!1,f=0,d=-1,v=-1,g=/[a-z]/.test(t),p=!0;for(let r=0,a=Math.min(t.length,200),m=0;r<a&&c<l;){let a=x(t,r);o<0&&(u<l&&a==e[u]&&(i[u++]=r),f<l&&(a==e[f]||a==n[f]?(0==f&&(d=r),v=r+1,f++):f=0));let R,O=a<255?a>=48&&a<=57||a>=97&&a<=122?2:a>=65&&a<=90?1:0:(R=y(a))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!r||1==O&&g||0==m&&0!=O)&&(e[c]==a||n[c]==a&&(h=!0)?s[c++]=r:s.length&&(p=!1)),m=O,r+=b(a)}return c==l&&0==s[0]&&p?this.result((h?-200:0)-100,s,t):f==l&&0==d?this.ret(-200-t.length+(v==t.length?0:-100),[0,v]):o>-1?this.ret(-700-t.length,[o,o+this.pattern.length]):f==l?this.ret(-900-t.length,[d,v]):c==l?this.result((h?-200:0)-100-700+(p?0:-1100),s,t):2!=e.length&&this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[],i=0;for(let t of e){let e=t+(this.astral?b(x(n,t)):1);i&&r[i-1]==t?r[i-1]=e:(r[i++]=t,r[i++]=e)}return this.ret(t-n.length,r)}}const uf=F.define({combine:t=>St(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:hf,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>cf(t(n),e(n)),optionClass:(t,e)=>n=>cf(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})});function cf(t,e){return t?e?t+" "+e:t:e}function hf(t,e,n,r,i,s){let o,l,a=t.textDirection==Un.RTL,u=a,c=!1,h="top",f=e.left-i.left,d=i.right-e.right,v=r.right-r.left,g=r.bottom-r.top;if(u&&f<Math.min(v,d)?u=!1:!u&&d<Math.min(v,f)&&(u=!0),v<=(u?f:d))o=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,l=Math.min(400,u?f:d);else{c=!0,l=Math.min(400,(a?e.right:i.right-e.left)-30);let t=i.bottom-e.bottom;t>=g||t>e.top?o=n.bottom-e.top:(h="bottom",o=e.bottom-n.top)}return{style:`${h}: ${o/((e.bottom-e.top)/s.offsetHeight)}px; max-width: ${l/((e.right-e.left)/s.offsetWidth)}px`,class:"cm-completionInfo-"+(c?a?"left-narrow":"right-narrow":u?"left":"right")}}function ff(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class df{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:i,selected:s}=r.open,o=t.state.facet(uf);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let s=t.displayLabel||t.label,o=0;for(let t=0;t<r.length;){let e=r[t++],n=r[t++];e>o&&i.appendChild(document.createTextNode(s.slice(o,e)));let l=i.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(s.slice(e,n))),l.className="cm-completionMatchedText",o=n}return o<s.length&&i.appendChild(document.createTextNode(s.slice(o))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=ff(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=t.state.field(e).open;for(let e,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(e=/-(\d+)$/.exec(i.id))&&+e[1]<r.length)return this.applyCompletion(t,r[+e[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let n=t.state.field(this.stateField,!1);n&&n.tooltip&&t.state.facet(uf).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:lf.of(null)})})),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:i,selected:s,disabled:o}=n.open;r.open&&r.open.options==i||(this.range=ff(i.length,s,t.state.facet(uf).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=(null===(e=r.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=ff(e.options.length,e.selected,this.view.state.facet(uf).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,n)})).catch((t=>Cn(this.view.state,t,"completion info"))):this.addInfoPane(i,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:r}=t;n.appendChild(e),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.space;if(!i){let t=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return r.top>Math.min(i.bottom,e.bottom)-10||r.bottom<Math.max(i.top,e.top)+10?null:this.view.state.facet(uf).positionInfo(this.view,e,r,n,i,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=n.from;s<n.to;s++){let{completion:o,match:l}=t[s],{section:a}=o;if(a){let t="string"==typeof a?a:a.name;if(t!=i&&(s>n.from||0==n.from))if(i=t,"string"!=typeof a&&a.header)r.appendChild(a.header(a));else{r.appendChild(document.createElement("completion-section")).textContent=t}}const u=r.appendChild(document.createElement("li"));u.id=e+"-"+s,u.setAttribute("role","option");let c=this.optionClass(o);c&&(u.className=c);for(let t of this.optionContent){let e=t(o,this.view.state,this.view,l);e&&u.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function vf(t,e){return n=>new df(n,t,e)}function gf(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class pf{constructor(t,e,n,r,i,s){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new pf(this.options,Of(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,i){let s=function(t,e){let n=[],r=null,i=t=>{n.push(t);let{section:e}=t.completion;if(e){r||(r=[]);let t="string"==typeof e?e:e.name;r.some((e=>e.name==t))||r.push("string"==typeof e?{name:t}:e)}};for(let r of t)if(r.hasResult()){let t=r.result.getMatch;if(!1===r.result.filter)for(let e of r.result.options)i(new Jh(e,r.source,t?t(e):[],1e9-n.length));else{let n=new af(e.sliceDoc(r.from,r.to));for(let e of r.result.options)if(n.match(e.label)){let s=e.displayLabel?t?t(e,n.matched):[]:n.matched;i(new Jh(e,r.source,s,n.score+(e.boost||0)))}}}if(r){let t=Object.create(null),e=0,i=(t,e)=>{var n,r;return(null!==(n=t.rank)&&void 0!==n?n:1e9)-(null!==(r=e.rank)&&void 0!==r?r:1e9)||(t.name<e.name?-1:1)};for(let n of r.sort(i))e-=1e5,t[n.name]=e;for(let e of n){let{section:n}=e.completion;n&&(e.score+=t["string"==typeof n?n:n.name])}}let s=[],o=null,l=e.facet(uf).compareCompletions;for(let t of n.sort(((t,e)=>e.score-t.score||l(t.completion,e.completion)))){let e=t.completion;!o||o.label!=e.label||o.detail!=e.detail||null!=o.type&&null!=e.type&&o.type!=e.type||o.apply!=e.apply||o.boost!=e.boost?s.push(t):gf(t.completion)>gf(o)&&(s[s.length-1]=t),o=t.completion}return s}(t,e);if(!s.length)return r&&t.some((t=>1==t.state))?new pf(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let o=e.facet(uf).selectOnOpen?0:-1;if(r&&r.selected!=o&&-1!=r.selected){let t=r.options[r.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new pf(s,Of(n,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:Af,above:i.aboveCursor},r?r.timestamp:Date.now(),o,!1)}map(t){return new pf(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class mf{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new mf(wf,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(uf),r=(n.override||e.languageDataAt("autocomplete",tf(e)).map(sf)).map((e=>{let r=this.active.find((t=>t.source==e))||new yf(e,this.active.some((t=>0!=t.state))?1:0);return r.update(t,n)}));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=this.open;i&&t.docChanged&&(i=i.map(t.changes)),t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?i=pf.build(r,e,this.id,i,n):i&&i.disabled&&!r.some((t=>1==t.state))&&(i=null),!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new yf(t.source,0):t)));for(let e of t.effects)e.is(kf)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new mf(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Rf}}const Rf={"aria-autocomplete":"list"};function Of(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const wf=[];function xf(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class yf{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=xf(t),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new yf(r.source,0));for(let e of t.effects)if(e.is(of))r=new yf(r.source,1,e.value?tf(t.state):-1);else if(e.is(lf))r=new yf(r.source,0);else if(e.is(Cf))for(let t of e.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new yf(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(tf(t.startState))?new yf(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new yf(this.source,this.state,t.mapPos(this.explicitPos))}}class bf extends yf{constructor(t,e,n,r,i){super(t,2,e),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(t,e,n){var r;let i=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),o=tf(t.state);if((this.explicitPos<0?o<=i:o<this.from)||o>s||"delete"==e&&tf(t.startState)==this.from)return new yf(this.source,"input"==e&&n.activateOnTyping?1:0);let l,a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return"function"==typeof t?t(i,n,r,e):ef(t,!0).test(i)}(this.result.validFor,t.state,i,s)?new bf(this.source,a,this.result,i,s):this.result.update&&(l=this.result.update(this.result,i,s,new Gh(t.state,o,a>=0)))?new bf(this.source,a,l,l.from,null!==(r=l.to)&&void 0!==r?r:tf(t.state)):new yf(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new yf(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new bf(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}const Cf=vt.define({map:(t,e)=>t.map((t=>t.map(e)))}),kf=vt.define(),Tf=q.define({create:()=>mf.start(),update:(t,e)=>t.update(e),provide:t=>[zs.from(t,(t=>t.tooltip)),Wi.contentAttributes.from(t,(t=>t.attrs))]});function Sf(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Tf).active.find((t=>t.source==e.source));return r instanceof bf&&("string"==typeof n?t.dispatch(Object.assign(Object.assign({},function(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange((l=>l!=i&&n!=r&&t.sliceDoc(l.from+s,l.from+o)!=t.sliceDoc(n,r)?{range:l}:{changes:{from:l.from+s,to:r==i.from?l.to:l.from+o,insert:e},range:N.cursor(l.from+s+e.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,r.from,r.to)),{annotations:nf.of(e.completion)})):n(t,e.completion,r.from,r.to),!0)}const Af=vf(Tf,Sf);function Pf(t,e="option"){return n=>{let r=n.state.field(Tf,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(uf).interactionDelay)return!1;let i,s=1;"page"==e&&(i=eo(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:o-1;return l<0?l="page"==e?0:o-1:l>=o&&(l="page"==e?o-1:0),n.dispatch({effects:kf.of(l)}),!0}}class Ef{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const _f=An.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Tf).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(Tf);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Tf)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!xf(t)));for(let e=0;e<this.running.length;e++){let r=this.running[e];if(n||r.updates.length+t.transactions.length>50&&Date.now()-r.time>1e3){for(let t of r.context.abortListeners)try{t()}catch(t){Cn(this.view.state,t)}r.context.abortListeners=null,this.running.splice(e--,1)}else r.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let e of t.transactions)"input"==xf(e)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Tf);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=tf(e),r=new Gh(e,n,t.explicitPos==n),i=new Ef(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:lf.of(null)}),Cn(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(uf).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(uf);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new bf(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:tf(i.updates.length?i.updates[0].startState:this.view.state));for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let s=this.view.state.field(Tf).active.find((t=>t.source==i.active.source));if(s&&1==s.state)if(null==i.done){let t=new yf(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Cf.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Tf,!1);if(e&&e.tooltip&&this.view.state.facet(uf).closeOnBlur){let n=e.open&&eo(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||this.view.dispatch({effects:lf.of(null)})}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:of.of(!1)})),20),this.composing=0}}}),Lf=Wi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const Df={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},If=vt.define({map(t,e){let n=e.mapPos(t,-1,k.TrackAfter);return null==n?void 0:n}}),Nf=new class extends At{};Nf.startSide=1,Nf.endSide=-1;const Qf=q.define({create:()=>Lt.empty,update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=n.from&&t<=n.to})}for(let n of e.effects)n.is(If)&&(t=t.update({add:[Nf.range(n.value,n.value+1)]}));return t}});const Mf="()[]{}<>";function Ff(t){for(let e=0;e<Mf.length;e+=2)if(Mf.charCodeAt(e)==t)return Mf.charAt(e+1);return y(t<128?t:t+1)}function $f(t,e){return t.languageDataAt("closeBrackets",e)[0]||Df}const Bf="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Uf=Wi.inputHandler.of(((t,e,n,r)=>{if((Bf?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==b(x(r,0))||e!=i.from||n!=i.to)return!1;let s=function(t,e){let n=$f(t,t.selection.main.head),r=n.brackets||Df.brackets;for(let i of r){let s=Ff(x(i,0));if(e==i)return s==i?jf(t,i,r.indexOf(i+i+i)>-1,n):qf(t,i,s,n.before||Df.before);if(e==s&&Vf(t,t.selection.main.from))return Xf(t,i,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)})),Wf=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=$f(t,t.selection.main.head).brackets||Df.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return b(x(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&Hf(t.doc,e.head)==Ff(x(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:N.cursor(e.head-i.length)}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function Vf(t,e){let n=!1;return t.field(Qf).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function Hf(t,e){let n=t.sliceString(e,e+2);return n.slice(0,b(x(n,0)))}function qf(t,e,n,r){let i=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:If.of(s.to+e.length),range:N.range(s.anchor+e.length,s.head+e.length)};let o=Hf(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:If.of(s.head+e.length),range:N.cursor(s.head+e.length)}:{range:i=s}}));return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Xf(t,e,n){let r=null,i=t.changeByRange((e=>e.empty&&Hf(t.doc,e.head)==n?{changes:{from:e.head,to:e.head+n.length,insert:n},range:N.cursor(e.head+n.length)}:r={range:e}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function jf(t,e,n,r){let i=r.stringPrefixes||Df.stringPrefixes,s=null,o=t.changeByRange((r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:e,from:r.to}],effects:If.of(r.to+e.length),range:N.range(r.anchor+e.length,r.head+e.length)};let o,l=r.head,a=Hf(t.doc,l);if(a==e){if(zf(t,l))return{changes:{insert:e+e,from:l},effects:If.of(l+e.length),range:N.cursor(l+e.length)};if(Vf(t,l)){let r=n&&t.sliceDoc(l,l+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+r.length,insert:r},range:N.cursor(l+r.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(o=Yf(t,l-2*e.length,i))>-1&&zf(t,o))return{changes:{insert:e+e+e+e,from:l},effects:If.of(l+e.length),range:N.cursor(l+e.length)};if(t.charCategorizer(l)(a)!=yt.Word&&Yf(t,l,i)>-1&&!function(t,e,n,r){let i=Vl(t).resolveInner(e,-1),s=r.reduce(((t,e)=>Math.max(t,e.length)),0);for(let o=0;o<5;o++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=o.indexOf(n);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let e=i.firstChild;for(;e&&e.from==i.from&&e.to-e.from>n.length+l;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let a=i.to==e&&i.parent;if(!a)break;i=a}return!1}(t,l,e,i))return{changes:{insert:e+e,from:l},effects:If.of(l+e.length),range:N.cursor(l+e.length)}}return{range:s=r}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function zf(t,e){let n=Vl(t).resolveInner(e+1);return n.parent&&n.from==e}function Yf(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=yt.Word)return e;for(let i of n){let n=e-i.length;if(t.sliceDoc(n,e)==i&&r(t.sliceDoc(n-1,n))!=yt.Word)return n}return-1}function Gf(t={}){return[Tf,uf.of(t),_f,Kf,Lf]}const Zf=[{key:"Ctrl-Space",run:t=>!!t.state.field(Tf,!1)&&(t.dispatch({effects:of.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(Tf,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:lf.of(null)}),!0)}},{key:"ArrowDown",run:Pf(!0)},{key:"ArrowUp",run:Pf(!1)},{key:"PageDown",run:Pf(!0,"page")},{key:"PageUp",run:Pf(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(Tf,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(uf).interactionDelay)&&Sf(t,e.open.options[e.open.selected])}}],Kf=Z.highest(Gi.computeN([uf],(t=>t.facet(uf).defaultKeymap?[Zf]:[])));class Jf{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class td{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,i=n.facet(dd).markerFilter;i&&(r=i(r));let s=rn.set(r.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?rn.widget({widget:new pd(t),diagnostic:t}).range(t.from):rn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t}).range(t.from,t.to))),!0);return new td(s,e,ed(s))}}function ed(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new Jf(t,n,i.diagnostic),!1})),r}function nd(t,e){let n=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(id)))&&!t.changes.touchesRange(n.from,n.to))}function rd(t,e){return t.field(ld,!1)?e:e.concat(vt.appendConfig.of(yd))}const id=vt.define(),sd=vt.define(),od=vt.define(),ld=q.define({create:()=>new td(rn.none,null,null),update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=ed(n,t.selected.diagnostic,i)||ed(n,null,i)}t=new td(n,t.panel,r)}for(let n of e.effects)n.is(id)?t=td.init(n.value,t.panel,e.state):n.is(sd)?t=new td(t.diagnostics,n.value?Rd.open:null,t.selected):n.is(od)&&(t=new td(t.diagnostics,t.panel,n.value));return t},provide:t=>[ao.from(t,(t=>t.panel)),Wi.decorations.from(t,(t=>t.diagnostics))]});const ad=rn.mark({class:"cm-lintRange cm-lintRange-active"});function ud(t,e,n){let{diagnostics:r}=t.state.field(ld),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:l})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(l.diagnostic),s=Math.min(t,s),o=Math.max(r,o))}));let l=t.state.facet(dd).tooltipFilter;return l&&(i=l(i)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create:()=>({dom:cd(t,i)})}:null}function cd(t,e){return qc("ul",{class:"cm-tooltip-lint"},e.map((e=>gd(t,e,!1))))}const hd=t=>{let e=t.state.field(ld,!1);return!(!e||!e.panel)&&(t.dispatch({effects:sd.of(!1)}),!0)},fd=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(ld,!1);e&&e.panel||t.dispatch({effects:rd(t.state,[sd.of(!0)])});let n=io(t,Rd.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(ld,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],dd=F.define({combine:t=>Object.assign({sources:t.map((t=>t.source))},St(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function vd(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function gd(t,e,n){var r;let i=n?vd(e.actions):[];return qc("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},qc("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let s=!1,o=r=>{if(r.preventDefault(),s)return;s=!0;let i=ed(t.state.field(ld).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:l}=n,a=i[r]?l.indexOf(i[r]):-1,u=a<0?l:[l.slice(0,a),qc("u",l.slice(a,a+1)),l.slice(a+1)];return qc("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${l}${a<0?"":` (access key "${i[r]})"`}.`},u)})),e.source&&qc("div",{class:"cm-diagnosticSource"},e.source))}class pd extends en{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return qc("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class md{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=gd(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Rd{constructor(t){this.view=t,this.items=[];this.list=qc("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)hd(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=vd(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=ed(this.view.state.field(ld).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=qc("div",{class:"cm-panel-lint"},this.list,qc("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>hd(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(ld).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(ld),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let l,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){a=t;break}a<0?(l=new md(this.view,o.diagnostic),this.items.splice(n,0,l),r=!0):(l=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),i=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new md(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let n=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/n:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=ed(this.view.state.field(ld).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:od.of(e)})}static open(t){return new Rd(t)}}function Od(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function wd(t){return Od(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const xd=Wi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:wd("#d11")},".cm-lintRange-warning":{backgroundImage:wd("orange")},".cm-lintRange-info":{backgroundImage:wd("#999")},".cm-lintRange-hint":{backgroundImage:wd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const yd=[ld,Wi.decorations.compute([ld],(t=>{let{selected:e,panel:n}=t.field(ld);return e&&n&&e.from!=e.to?rn.set([ad.range(e.from,e.to)]):rn.none})),to(ud,{hideOn:nd}),xd];const bd=(()=>[Ao(),_o,Ss(),Tu(),Na(),cs(),[Rs,Os],Tt.allowMultipleSelections.of(!0),Tt.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let s=n.sliceString(i.from,r);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,l=-1,a=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==l)continue;l=e.from;let n=ra(o,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=na(o,n);r!=i&&a.push({from:e.from,to:e.from+r.length,insert:i})}return a.length?[t,{changes:a,sequential:!0}]:t})),Ua(Ha,{fallback:!0}),tu(),[Uf,Qf],Gf(),Qs(),$s(),Ls,ah(),Gi.of([...Wf,...Vc,...Wh,...Vu,...Ta,...Zf,...fd])])();class Cd{constructor(t,e,n,r,i,s,o,l,a,u=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=a,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new Cd(t,[],e,n,n,0,[],0,r?new kd(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,r=65535&t,{parser:i}=this.p,s=i.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&t?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,a=this.reducePos-l;a>=2e3&&!(null===(e=this.p.parser.nodeSet.types[r])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=a):this.p.lastBigReductionSize<a&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=a));let u=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-u;if(r<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,t,c+4,!0)}if(262144&t)this.state=this.stack[o];else{let t=this.stack[o-3];this.state=i.getGoto(t,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,l)}storeNode(t,e,n,r=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,r=this.buffer.length;if(0==r&&t.parent&&(r=t.bufferBase-t.parent.bufferBase,t=t.parent),r>0&&0==t.buffer[r-4]&&t.buffer[r-1]>-1){if(e==n)return;if(t.buffer[r-2]>=e)return void(t.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n,r){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let i=t,{parser:s}=this.p;(r>this.pos||e<=s.maxNode)&&(this.pos=r,s.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,r,4)}else this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4)}apply(t,e,n,r){65536&t?this.reduce(t):this.shift(t,e,n,r)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new Cd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Td(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(0==(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<e.length;i+=2)(r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t)&&n.push(e[i],r);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let r=e[t+1];n.some(((t,e)=>1&e&&t==r))||n.push(e[t],r)}e=n}let n=[];for(let t=0;t<e.length&&n.length<4;t+=2){let r=e[t+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(0==(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(r,i)=>{if(!e.includes(r))return e.push(r),t.allActions(r,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-i;if(n>1){let r=65535&e,i=this.stack.length-3*n;if(i>=0&&t.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let t=n(e,i+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new kd(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class kd{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class Td{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Sd{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Sd(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Sd(this.stack,this.pos,this.index)}}function Ad(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let e=t.charCodeAt(r++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,n=!0),s+=i,n)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Pd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ed=new Pd;class _d{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ed,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,i=this.pos+t;for(;i<n.from;){if(!r)return null;let t=this.ranges[--r];i-=n.from-t.to,n=t}for(;e<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let t=this.ranges[++r];i+=t.from-n.to,n=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,r=this.chunkOff+t;if(r>=0&&r<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(t,1);if(null==r)return-1;if(e=r,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,r=this.range;for(;r.to<=e;)r=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Ed,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class Ld{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;Dd(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}Ld.prototype.contextual=Ld.prototype.fallback=Ld.prototype.extend=!1;Ld.prototype.fallback=Ld.prototype.extend=!1;function Dd(t,e,n,r,i,s){let o=0,l=1<<r,{dialect:a}=n.p.parser;t:for(;0!=(l&t[o]);){let n=t[o+1];for(let r=o+3;r<n;r+=2)if((t[r+1]&l)>0){let n=t[r];if(a.allows(n)&&(-1==e.token.value||e.token.value==n||Nd(n,e.token.value,i,s))){e.acceptToken(n);break}}let r=e.next,u=0,c=t[o+2];if(!(e.next<0&&c>u&&65535==t[n+3*c-3])){for(;u<c;){let i=u+c>>1,s=n+i+(i<<1),l=t[s],a=t[s+1]||65536;if(r<l)c=i;else{if(!(r>=a)){o=t[s+2],e.advance();continue t}u=i+1}}break}o=t[n+3*c-1]}}function Id(t,e,n){for(let r,i=e;65535!=(r=t[i]);i++)if(r==n)return i-e;return-1}function Nd(t,e,n,r){let i=Id(n,r,e);return i<0||Id(n,r,t)<i}const Qd="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Md=null;function Fd(t,e,n){let r=t.cursor(Wo.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class $d{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Fd(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Fd(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],s=this.start[e]+n.positions[r];if(s>t)return this.nextStart=s,null;if(i instanceof Vo){if(s==t){if(s<this.safeFrom)return null;let t=s+i.length;if(t<=this.safeTo){let e=i.prop(No.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,s+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+i.length}}}class Bd{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new Pd))}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:i}=r,s=r.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let r=0;r<i.length;r++){if(0==(1<<r&s))continue;let a=i[r],u=this.tokens[r];if((!n||a.fallback)&&((a.contextual||u.start!=t.pos||u.mask!=s||u.context!=o)&&(this.updateCachedToken(u,a,t),u.mask=s,u.context=o),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),0!=u.value)){let r=e;if(u.extended>-1&&(e=this.addActions(t,u.extended,u.end,e)),e=this.addActions(t,u.value,u.end,e),!a.extend&&(n=u,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),n||t.pos!=this.stream.end||(n=new Pd,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Pd,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){let r=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(r,t),n),t.value>-1){let{parser:e}=n.p;for(let r=0;r<e.specialized.length;r++)if(e.specialized[r]==t.value){let i=e.specializers[r](this.stream.read(t.start,t.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,n,r){for(let e=0;e<r;e+=3)if(this.actions[e]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:i}=t,{parser:s}=t.p,{data:o}=s;for(let t=0;t<2;t++)for(let l=s.stateSlot(i,t?2:1);;l+=3){if(65535==o[l]){if(1!=o[l+1]){0==r&&2==o[l+1]&&(r=this.putAction(qd(o,l+2),e,n,r));break}l=qd(o,l+2)}o[l]==e&&(r=this.putAction(qd(o,l+1),e,n,r))}return r}}class Ud{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new _d(e,r),this.tokens=new Bd(t,this.stream),this.topTerm=t.top[1];let{from:i}=r[0];this.stacks=[Cd.start(this,t.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*t.bufferLength?new $d(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!i.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return Qd&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw Qd&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(n)return Qd&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort(((t,e)=>e.score-t.score));i.length>t;)i.pop();i.some((t=>t.reducePos>r))&&this.recovering--}else if(i.length>1){t:for(let t=0;t<i.length-1;t++){let e=i[t];for(let n=t+1;n<i.length;n++){let r=i[n];if(e.sameState(r)||e.buffer.length>500&&r.buffer.length>500){if(!((e.score-r.score||e.buffer.length-r.buffer.length)>0)){i.splice(t--,1);continue t}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:i}=this,s=Qd?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?i.getGoto(t.state,o.type.id):-1;if(r>-1&&o.length&&(!e||(o.prop(No.contextHash)||0)==n))return t.useNode(o,r),Qd&&console.log(s+this.stackID(t)+` (via reuse of ${i.getName(o.type.id)})`),!0;if(!(o instanceof Vo)||0==o.children.length||o.positions[0]>0)break;let l=o.children[0];if(!(l instanceof Vo&&0==o.positions[0]))break;o=l}}let o=i.stateSlot(t.state,4);if(o>0)return t.reduce(o),Qd&&console.log(s+this.stackID(t)+` (via always-reduce ${i.getName(65535&o)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let o=0;o<l.length;){let a=l[o++],u=l[o++],c=l[o++],h=o==l.length||!n,f=h?t:t.split(),d=this.tokens.mainToken;if(f.apply(a,u,d?d.start:f.pos,c),Qd&&console.log(s+this.stackID(f)+` (via ${0==(65536&a)?"shift":`reduce of ${i.getName(65535&a)}`} for ${i.getName(u)} @ ${r}${f==t?"":", split"})`),h)return!0;f.pos>r?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return Wd(t,e),!0}}runRecovery(t,e,n){let r=null,i=!1;for(let s=0;s<t.length;s++){let o=t[s],l=e[s<<1],a=e[1+(s<<1)],u=Qd?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),Qd&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),h=u;for(let t=0;c.forceReduce()&&t<10;t++){if(Qd&&console.log(h+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;Qd&&(h=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(l))Qd&&console.log(u+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(a==o.pos&&(a++,l=0),o.recoverByDelete(l,a),Qd&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),Wd(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(t){return t.close(),Vo.build({buffer:Sd.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Md||(Md=new WeakMap)).get(t);return e||Md.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function Wd(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class Vd{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class Hd extends al{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let n=0;n<t.repeatNodeCount;n++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function i(t,e,n){r[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=No[t]);for(let n=1;n<e.length;){let r=e[n++];if(r>=0)i(r,t,e[n++]);else{let s=e[n+-r];for(let o=-r;o>0;o--)i(e[n++],t,s);n++}}}this.nodeSet=new $o(e.map(((e,i)=>Fo.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=Lo;let s=Ad(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(Xd),this.states=Ad(t.states,Uint32Array),this.data=Ad(t.stateData),this.goto=Ad(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new Ld(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new Ud(this,t,e,n);for(let i of this.wrappers)r=i(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let i=r[e+1];;){let e=r[i++],s=1&e,o=r[i++];if(s&&n)return o;for(let n=i+(e>>1);i<n;i++)if(r[i]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let i,s=this.stateSlot(t,r?2:1);;s+=3){if(65535==(i=n[s])){if(1!=n[s+1]){if(2==n[s+1])return qd(n,s+2);break}i=n[s=qd(n,s+2)]}if(i==e||0==i)return qd(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),r=n?e(n):void 0;for(let n=this.stateSlot(t,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=qd(this.data,n+2)}r=e(qd(this.data,n+1))}return r}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=qd(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create(Hd.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=t.specializers.find((t=>t.from==n.external));if(!i)return n;let s=Object.assign(Object.assign({},n),{external:i.to});return e.specializers[r]=Xd(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let r=null;for(let t=0;t<e.length;t++)if(!n[t])for(let n,i=this.dialects[e[t]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new Vd(t,n,r)}static deserialize(t){return new Hd(t)}}function qd(t,e){return t[e]|t[e+1]<<16}function Xd(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const jd={__proto__:null,open:8,interface:14,extends:22,forall:54,mu:64,type:78,true:96,false:98,undefined:100,override:106,with:118,let:142,in:144,letrec:148,if:154,then:156,else:158,trait:162,implements:164,inherits:166,new:170,toString:174,fix:178,fold:180,unfold:182},zd={__proto__:null,Int:24,Double:26,String:28,Bool:30,Top:32,Bot:34,Trait:66},Yd=Hd.deserialize({version:14,states:"!MtO]QPOOOOQO'#Ej'#EjO]QPOOO%YQQO'#DWOOQO'#DX'#DXO'sQPO'#FkOOQO'#Da'#DaO'zQPO'#FmOOQO'#Db'#DbOOQO'#Dh'#DhO%vQPO'#FsOOQO'#Fj'#FjO(cQPO'#FjO*bQQO'#FiO,xQQO'#FhO/YQQO'#FgO1gQQO'#FfO2WQPO'#DpO2fQPO'#DrOOQO'#Fe'#FeOOQO'#Fd'#FdO%vQPO'#FdO3xQQO'#FcO4bQPO'#DVOOQO'#FP'#FPOOQO'#Ek'#EkO6fQPOOQOQPOOO8jQPO'#E|O2iQPO'#CbO2iQPO'#DSO8tQPO'#DtO8tQPO'#DwO%vQPO'#DzO8yQSO'#EOO%vQPO'#ESO9XQPO'#EUO8tQPO'#EWO:SQPO'#FeOOQO-E8h-E8hO:XQPO'#FlO:aQPO'#FlO:hQPO,5<VO%vQPO'#DyO:mQPO'#CqO;RQPO'#DdO8tQPO'#FoOOQO'#Df'#DfO;dQPO'#FpO;lQPO'#DeO;qQPO'#FnO;yQPO'#FnO<RQPO'#FnO<WQPO'#FnO<oQPO,5<XO<tQPO'#FnO=SQPO,5<]O=XQPO,5<_OOQO'#Dk'#DkOOQO,5<U,5<UO=^QPO'#EwO?`QQO,5<TO=^QPO,5<SO?|QPO,5<RO=^QPO,5<ROOQO'#Ex'#ExO@nQQO,5<QO?|QPO'#ExOOQO'#DW'#DWOOQO'#F_'#F_O2^QPO'#FaOBQQSO,5:[OBcQSO'#FbOOQO'#F^'#F^OOQO'#Er'#ErOOQO'#Cd'#CdO2iQPO'#FXOOQO'#FW'#FWOOQO'#Eo'#EoOBnQPO,5:^OCkQQO,5<OO%vQPO,5<OO%vQPO,5<OO%vQPO,5<OO%vQPO,5<OO%vQPO,5<OO%vQPO,5<OO%vQPO,5<OO%vQPO,5<OOD[QPO,5;}O4VQPO'#FXODiQPO,59qODsQPO,59qO%vQPO,59qOD[QPO,59qOOQO-E8i-E8iOEXQQO,5;hOEcQPO,5:eOEhQPO,58|OEvQPO,59nOFRQPO,5:`OFYQPO,5:cOFaQPO,5:fO%vQPO,5:jOFfQPO,5:jOFsQPO,5:jOGyQSO,5:jOHUQQO,5:nOOQO,5:p,5:pOHuQPO,5:rO?|QPO,5<PPHzQPO'#E|OOQO,5;`,5;`OISQPO,5<WOOQO-E8r-E8rOOQO1G1q1G1qO%vQPO,5:OOI[QPO,5:OOImQPO,5<ZOOQO'#Cq'#CqOIuQPO,5<[O;dQPO,5:POJWQPO,5:PO;dQPO,5<YOOQO,5;a,5;aOJ]QPO,5<YOJeQPO,5<YOJmQPO,5<YOOQO-E8s-E8sO<tQPO,5<YOOQO1G1s1G1sO;tQPO'#DeOJrQPO,5<YOJzQPO1G1wOOQO1G1y1G1yOOQO'#Dl'#DlOOQO,5;c,5;cOOQO-E8u-E8uOKVQSO1G1nOOQO'#Cn'#CnOK[QPO'#FTOOQO'#Co'#CoOD[QPO'#F[OD[QPO'#F]OOQO'#FS'#FSOKgQQO'#FROOQO1G1m1G1mOOQO-E8v-E8vOOQO,5;d,5;dOMsQPO,5;{O%vQPO1G/vOOQO-E8p-E8pOMxQPO'#EsOM}QSO,5;|ONYQPO,5;|ON_QPO,5;sOOQO-E8m-E8mO%vQPO1G/xOOQO1G1j1G1jO! nQQO1G1jO! uQQO1G1jO!#WQQO1G1jO!#_QQO1G1jO!$pQQO1G1jO!$wQQO1G1jO!%mQQO1G1jO!&{QPO1G1iO!'YQPO'#FVO!*]QPO'#FRO2fQPO'#FVO2iQPO'#FVO!*jQPO'#FVO!*oQPO1G/]O%vQPO1G/]OD[QPO1G/]O!+TQPO1G/]O!+YQPO1G/]OOQO1G1S1G1SO%vQPO1G0PO2iQPO'#FQOOQO'#El'#ElO!+hQPO1G.hOOQO'#Em'#EmO!+kQPO1G.hO!+vQPO1G.hO?|QPO1G.hO!+{QPO1G/YO!,OQPO1G/YOD[QPO1G/YO!,WQPO1G/zO!,_QPO1G/zO%vQPO1G/zO!,pQPO1G/}O!,wQPO1G/}OD[QPO1G/}O%vQPO1G0QO!-YQQO1G0UO!-yQWO1G0UO!._QWO'#FVO!0QQWO'#FRO!0zQ`O'#FiO!1UQ`O'#FhO!1`Q`O'#FgO!1mQWO'#FfO!2lQWO1G0UO%vQPO1G0UOFfQPO1G0UOFsQPO1G0UOD[QPO1G0^O9XQPO1G1kP!2vQPO,5;hP!2{QPO'#EtOOQO1G/j1G/jO%vQPO1G/jOOQO1G1u1G1uOD[QPO1G1uOOQO1G1v1G1vO!3QQPO1G1vOOQO1G/k1G/kO!3cQPO1G/kO!3hQPO1G1tO;dQPO1G1tP!3pQPO'#EuP!3xQPO'#EuP!3}QPO'#EuP<tQPO'#EuO!4SQPO1G1tOOQO1G0{1G0{O!4[QPO'#FrO!4aQPO'#FrO!4lQPO7+'cO;dQPO7+'YO!4qQPO'#FUO!4yQPO'#FUO!5UQPO,5;oO!5ZQPO,5;vO!5iQPO,5;wO!5wQPO'#FYOOQO'#Eq'#EqO!6UQQO,5;mOD[QPO1G1gOOQO7+%b7+%bO%vQPO,5;_OOQO-E8q-E8qO!8bQPO1G1hOOQO1G1h1G1hOD[QPO1G1_OOQO7+%d7+%dOD[QPO,5;qOD[QPO,5;qOD[QPO,5;qOOQO'#Ep'#EpO!8gQPO,5;qO!;jQPO,5;mO!;wQPO,5;qO!<SQPO,5;qOOQO,5;q,5;qO%vQPO7+$wOD[QPO7+$wO!<XQPO7+$wO!<^QPO7+$wOOQO7+$w7+$wOOQO7+%k7+%kO!<lQPO,5;lOOQO-E8j-E8jO!<qQPO7+$SO!<|QPO7+$SO?|QPO7+$SOOQO-E8k-E8kOOQO7+$S7+$SO!=RQPO7+$SO!=WQPO7+$tOD[QPO7+$tO!=`QPO7+$tO!=nQPO7+%fO%vQPO7+%fO!>PQPO7+%fO!>UQPO7+%iOD[QPO7+%iO!>gQPO7+%iO!>uQPO7+%lO%vQPO7+%pOFfQPO7+%pOFsQPO7+%pO!>zQWO,5;qO!@mQWO,5;mO!AgQ`O,5<TO!AqQWO,5<QO!BqQWO,5<OO!B{QWO,5:nO!CVQWO'#FiO!DTQQO7+%pO!DtQWO7+%pO!EYQWO7+%pO!EdQPO7+%xOOQO7+'V7+'VOOQO7+%U7+%UO!ErQPO7+'aOOQO7+'b7+'bO;dQPO7+%VOOQO7+&g7+&gO!FQQPO7+'`P;dQPO,5;aP!FYQPO,5;aO%vQPO,5<^O!F_QPO,5<^OOQO-E8t-E8tOOQO<<J}<<J}O!FdQPO<<JtOD[QPO,5;pO!FiQPO,5;pO!FnQPO,5;pOOQO-E8l-E8lOOQO1G1Z1G1ZOOQO1G1b1G1bOOQO1G1c1G1cO!FvQpO'#FZO!GXQPO,5;tO!G^QpO'#FVO!GqQpO'#FROOQO-E8o-E8oO!HuQPO7+'RO!ITQPO1G0yOOQO7+'S7+'SO!IYQPO7+&yO!J`QPO1G1]O!JjQPO1G1]OOQO1G1]1G1]OOQO-E8n-E8nOD[QPO1G1]O!JtQPO<<HcO!JyQPO<<HcOOQO<<Hc<<HcO%vQPO<<HcOOQO1G1W1G1WO!KXQPO<<GnO?|QPO<<GnOOQO<<Gn<<GnO!=RQPO<<GnOD[QPO<<H`O!K^QPO<<H`OOQO<<H`<<H`O%vQPO<<IQO!KlQPO<<IQO%vQPO<<IQOD[QPO<<ITO!KqQPO<<ITO%vQPO<<ITO%vQPO<<IWO!MjQWO1G1]O!MtQWO1G1]O!NOQQO<<I[O!NoQWO<<I[O!N}QWO<<I[O# |QWO1G1jO#!TQWO1G1jO##PQWO1G1jO##WQWO1G1jO#$SQWO1G1jO#$ZQWO1G1jO#%PQWO1G1jO#%^QWO1G0UO#%hQWO,5<TO%vQPO<<I[OFfQPO<<I[OFsQPO<<I[O%vQPO<<IdOOQO<<J{<<J{OOQO<<Hq<<HqP#&fQPO1G0{O#&kQPO1G1xO%vQPO1G1xP#&sQPO'#EvOOQOAN@`AN@`O#&xQPO1G1[OD[QPO1G1[OD[QPO1G1[O#'ZQPO1G1[P#'`QPO'#EnOD[QPO,5;uOOQO1G1`1G1`O#'hQpO,5;qO#'{QpO,5;mOOQO<<Jm<<JmO#)PQWO1G1iOOQO7+&e7+&eOOQO<<Je<<JeO#*qQPO7+&wOOQOAN=}AN=}O%vQPOAN=}O#+XQPOAN=}OOQOAN=YAN=YO!=RQPOAN=YO#+^QPOAN=YO#+cQPOAN=zOOQOAN=zAN=zO#+qQPOAN>lO%vQPOAN>lOOQOAN>lAN>lO#+vQPOAN>oO%vQPOAN>oO#,UQPOAN>oOOQOAN>rAN>rO%vQPOAN>vOFfQPOAN>vO#,ZQWO7+&wO#-dQWO'#FcO#._QWO7+%pO#.iQQOAN>vO#/YQWOAN>vO#/hQWOAN>vO#/rQQOAN?OOOQO7+&h7+&hO#0cQPO7+'dP%vQPO,5;bOOQO7+&`7+&`O#0kQPO7+&vO#0|QPO7+&vOD[QPO7+&vPD[QPO,5;YP#1_QPO,5;YO#1dQPO1G1aO#1rQpO1G1]O#2TQpO1G1]O#2fQPOG23iOOQOG23iG23iO#2kQPOG22tOOQOG22tG22tOOQOG23fG23fO%vQPOG24WOOQOG24WG24WO%vQPOG24ZO#2pQPOG24ZO%vQPOG24ZO#2uQQOG24bO#3fQWOG24bO#3tQWO<<I[O%vQPOG24bOFfQPOG24bP#4OQPO1G0|OOQO<<Iz<<IzO#4TQPO<<JbP#4fQPO1G0tPD[QPO1G0tO#4tQpO7+&wOOQOLD)TLD)TOOQOLD(`LD(`OOQOLD)rLD)rO#5VQPOLD)uO%vQPOLD)uOOQOLD)uLD)uO%vQPOLD)|O#5[QWOAN>vO#5fQWOAN?OO#5pQQOLD)|O#6aQWOLD)|P#6oQPO7+&`O%vQPO!$'MaOOQO!$'Ma!$'MaO#6}QQO!$'MhO#7nQWOG24bO%vQPO!$'MhOOQO!)9B{!)9B{O#7xQWOLD)|O#8SQQO!)9CSO#8sQWO!$'MhO#8}QWO!)9CSOFsQPO'#FdO#9XQQO'#FcOFsQPO'#ESO9XQPO'#EUO?|QPO,5<RO?|QPO'#ExOFsQPO,5<OOFsQPO,5<OOFsQPO,5<OOFsQPO,5<OOFsQPO,5<OOFsQPO,5<OOFsQPO,5<OOFsQPO,5<OOFfQPO,5;}OFsQPO,5:jO#9cQPO1G/vO#9cQPO1G/xO#9cQPO1G0POFsQPO1G0UO9XQPO1G1kOFfQPO,5;qO!5wQPO,5;qOFfQPO,5;qO!5wQPO,5;qOFfQPO,5;qO!5wQPO,5;qOFsQPO7+%pOFfQPO1G1]O!5wQPO1G1]O#9cQPO<<IQO#9cQPO<<IWOFsQPO<<I[OFsQPO<<IdO#9cQPOAN>lOFsQPOAN>vO#:iQWO'#FcO#9cQPOG24WO#9cQPOG24WO#9cQPOG24ZO#9cQPOG24ZOFsQPOG24bO#9cQPOLD)uO#9cQPOLD)uOFsQPOLD)|O#9cQPO!$'MaO#9cQPO!$'MaOFsQPO!$'MhO#:pQSO'#EOO#;OQSO,5:[O#;aQPO,5:^O#;lQPO,5:eO#;qQSO,5:jO?|QPO,5<PO#;|QWO1G0UO#<bQWO1G0UO#<lQPO,5;qO#<wQPO,5;qO#=SQPO,5;qO#=XQPO,5;qO#=^QPO7+%fO#=cQPO7+%lO#=hQWO7+%pO#=|QWO7+%pO#>WQPO7+%xO#>fQPO<<IQO#>kQWO<<I[O#>yQWO<<I[O#?TQPOAN>lO#?YQPOAN>lO#?_QPOAN>oO#?dQPOAN>oO#?iQWOAN>vO#?wQWOAN>vO#@RQPOG24ZO#@WQPOG24ZO#@]QWOG24bO#@kQPOLD)uO#@pQPOLD)uO#@uQWOLD)|O#9cQPO1G/vO#9cQPO1G/xO#9cQPO1G0PO#9cQPO<<IQO#9cQPO<<IWO#9cQPOAN>lO2WQPO'#DpO2fQPO'#DrO#ATQPO'#FeO%vQPO'#DyOFfQPO,5:jOFsQPO,5:jO2fQPO'#FVO2fQPO'#FVO2iQPO'#FVO2iQPO'#FVO%vQPO1G/zO%vQPO1G0QOFfQPO1G0UOFsQPO1G0UOD[QPO1G0^O%vQPO7+%fOFfQPO7+%pOFsQPO7+%pO%vQPO<<IQO%vQPO<<IQO%vQPO<<ITO%vQPO<<ITOFfQPO<<I[OFsQPO<<I[O%vQPOAN>oO%vQPOAN>oOFfQPOAN>vO%vQPOG24ZO%vQPOG24ZOFfQPOG24bO#AYQSO,5:[O#AkQPO,5:^O#AvQPO,5:eO#A{QPO7+%fO#BQQPO7+%lO#BVQPO<<IQO#B[QPO,5:`O#BcQPO,5:fO#BhQPO,5:rO#BmQPO1G/zO#BtQPO1G/zO#CVQPO7+%fO#ChQPO7+%fO#CyQPO7+%iO#DXQPO7+%iO#DgQPO<<ITO#DuQPO<<ITO#ETQPOAN>oO#EcQPOAN>oO2WQPO'#DpO2fQPO'#DrO%vQPO'#DyO%vQPO1G/zO%vQPO1G0QO%vQPO7+%fO8tQPO'#DtO%vQPO'#DzO8tQPO'#EWOD[QPO1G/}OD[QPO1G/}OD[QPO7+%iOD[QPO7+%iOD[QPO<<ITOD[QPO<<ITO#9cQPO'#FdO#9cQPO'#ESO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5<OO#9cQPO,5:jO#9cQPO1G0UO#9cQPO7+%pO#9cQPO<<I[O#9cQPO<<IdO#9cQPOAN>vO#9cQPOG24bO#9cQPOLD)|O#9cQPO!$'MhO#EqQSO'#EOO#FPQSO,5:jO#F[QWO1G0UO#FpQWO1G0UO#FzQWO7+%pO#G`QWO7+%pO#GjQPO7+%xO#GxQWO<<I[O#HWQWO<<I[O#HbQWOAN>vO#HpQWOAN>vO#HzQWOG24bO#IYQWOLD)|OFfQPO,5:jOFsQPO,5:jOFfQPO1G0UOFsQPO1G0UOD[QPO1G0^OFfQPO7+%pOFsQPO7+%pOFfQPO<<I[OFsQPO<<I[OFfQPOAN>vOFfQPOG24bO#IhQPO,5:`O#IoQPO,5:fO#ItQPO,5:rO#IyQPO1G/zO#JQQPO1G/zO#JcQPO,5:cO#JjQPO,5:cO#JqQPO1G/}O#JxQPO1G/}O#KPQPO1G/}O#KbQPO1G/}O#KsQPO7+%iO#LUQPO7+%iO#MXQWO,5<OO#MfQWO,5:nO#NkQWO1G1jO#NrQWO1G1jO$ qQWO1G1jO$ xQWO1G1jO$!wQWO1G1jO$#OQWO1G1jO$#tQWO1G1jO$$UQWO1G0UO$$cQWO7+%pO$$pQWO<<I[O$$}QWOAN>vO$%[QWOAN?OO$%iQWOG24bO$%vQWOLD)|O$&TQWO!$'MhO$&bQWO!)9CSO8tQPO'#DtO%vQPO'#DzO8tQPO'#EWO8tQPO'#DwO8tQPO'#Dw",stateData:"$&y~O#oOSPOSQOS~OSlOVmOdVOlYOtTOwnO|ZO}ZO!OZO!PZO!QZO!RZO!SZO!^[O!caO!gbO!ioO!lpO!oqO!srO!wsO!ytO!{uO!|vO!}vO#OeO#PeO#QeO#ReO#qRO#rSO~Od{Xg{Xl{Xo{Xt{X|{X}{X!O{X!P{X!Q{X!R{X!S{X!Z{X!^{X!b{X!c{X#O{X#S{X#T{X#U{X#V{X#W{X#X{X#Y{X#Z{X#[{X#q{X#r{X~OdzXgzXlzXxzX#m{X#qzX#rzX$SzX~P#`OS{OdVOlYOtTO|ZO}ZO!OZO!PZO!QZO!RZO!SZO!^[O!caO!gbO!ioO!lpO!oqO!srO!wsO!ytO!{uO!|vO!}vO#OeO#PeO#QeO#ReO#qSO#rSO~Ou$`P~P%vOl!QOt!OO!V!XO#q|O#r|O$S!UOs$bP~O#r![O~Oo!^Od$]Xg$]Xl$]Xt$]X|$]X}$]X!O$]X!P$]X!Q$]X!R$]X!S$]X!Z$]X!^$]X!b$]X!c$]X#O$]X#S$]X#T$]X#U$]X#V$]X#W$]X#X$]X#Y$]X#Z$]X#[$]X#q$]X#r$]X~O#m$]XT$]Xu$]Xn$]X!j$]X!p$]Xs$]X!q$]X~P(hOt!`Od$[Xg$[Xl$[Xt$[X|$[X}$[X!O$[X!P$[X!Q$[X!R$[X!S$[X!Z$[X!^$[X!b$[X!c$[X#O$[X#S$[X#T$[X#U$[X#V$[X#W$[X#X$[X#Y$[X#Z$[X#[$[X#q$[X#r$[X~O#m$[XT$[Xu$[Xn$[X!j$[X!p$[Xs$[X!q$[X~P+OO!c!bOd$ZXg$ZXl$ZXt$ZX|$ZX}$ZX!O$ZX!P$ZX!Q$ZX!R$ZX!S$ZX!Z$ZX!^$ZX#O$ZX#S$ZX#T$ZX#U$ZX#V$ZX#W$ZX#X$ZX#Y$ZX#Z$ZX#[$ZX#q$ZX#r$ZX~O!b!aO#m$ZXT$ZXu$ZXn$ZX!j$ZX!p$ZXs$ZX!q$ZX~P-fOdVOlYOtTO|ZO}ZO!OZO!PZO!QZO!RZO!SZO!^[O#qSO#rSOg$YX#O$YX#S$YX#T$YX#U$YX#V$YX#W$YX#X$YX#Y$YX#Z$YX#[$YX~O!Z!eO#m$YXT$YXu$YXn$YX!j$YX!p$YXs$YX!q$YX~P/yOd!jOl!hO#q!fO$S!gO~Ol!nO#r!mO~O#O!uO#S!sO#T!tO#U!uO#V!vO#W!wO#X!xO#Y!yO#Z!yO#[!zO#m$VXT$VXu$VXn$VX!j$VX!p$VXs$VX!q$VX~Og!{O~P2nOd!jOl!|O#q!fO#r!mO$S!gO~Og#QOx#PO~P4POS{OdVOlYOtTO|ZO}ZO!OZO!PZO!QZO!RZO!SZO!^[O!caO!gbO!ioO!lpO!oqO!srO!wsO!ytO!{uO!|vO!}vO#OeO#PeO#QeO#ReO#rSO~OVmOwnO#qRO~P4lOS{OdVOlYOtTO|ZO}ZO!OZO!PZO!QZO!RZO!SZO!^[O!caO!gbO!ioO!lpO!oqO!srO!wsO!ytO!{uO!|vO!}vO#OeO#PeO#QeO#ReO~O#q#SO#r#SO~P6sO#q!fO~Or#ZOt!OO!t#[O!u#]O~OdVOlYOtTO|ZO}ZO!OZO!PZO!QZO!RZO!SZO!^[O#qSO#rSO~O!Z#bO~OT#dOu$`X~Ou$`X~P%vOu#gO~OdeXleXxeX!]{X#qeX$SeX~Od!jOl!hOx#hO#q!fO$S!gO~O#q#kO#r#kO~Oo#mO~Oo#oO!Z#nO~OT#pOs$bX~Oo#oO~Ol!QOt!OO!V#uO#q#kO#r#kO$S#sOs$bX~Os#vO~Ol!QOt!OO#q#kO#r#kO~O!]#yO~On#zO~O#q#{O#r#{O~Oo!^Od$]ag$]al$]at$]a|$]a}$]a!O$]a!P$]a!Q$]a!R$]a!S$]a!Z$]a!^$]a!b$]a!c$]a#O$]a#S$]a#T$]a#U$]a#V$]a#W$]a#X$]a#Y$]a#Z$]a#[$]a#q$]a#r$]a~O#m$]aT$]au$]an$]a!j$]a!p$]as$]a!q$]a~P=fO[$UO]$UO^$UO_$UO`$UOa$UOd$QOl$TOt$SO#r$PO~O!Z!eOg$Ya#O$Ya#S$Ya#T$Ya#U$Ya#V$Ya#W$Ya#X$Ya#Y$Ya#Z$Ya#[$Ya#m$YaT$Yau$Yan$Ya!j$Ya!p$Yas$Ya!q$Ya~P9XOd!jOl!hO!e$[O#q!fO$S!gO~O#]$`O#q#kO#r#kO~Ol!nOo$cO#r!mO~O#O!uO#S!sO#T!tO#U!uO#V!vO#W!wO#X!xO#Y!yO#Z!yO#[!zO~Og$Wa#m$WaT$Wau$Wan$Wa!j$Wa!p$Was$Wa!q$Wa~PByOk$oOp$pOq$qO~P?|Og$tOx$sO~P4POd!jOg$tOl!hOx$sO#q!fO$S!gO~OT$wO!j{X~P#`O!j$xO~OX$yOZ%POd$QO#r!mO~OX$yOx%SO#r!mO~Ox%VO~P4POg%YO~P4PO!p%ZO~Ok-VOp-XOq$qO~P?|OS-SO!c-PO!g-QO!i.YO!l0SO!o.ZO!s,XO!w+XO!y+YO!{.[O!|-RO!}-RO#O+VO#P+VO#Q+VO#R+VO~P9XOr%eO!t%fO!u%gO~Og!va#m!vaT!vau!van!va!j!va!p!vas!va!q!va~PByOg%hO~O#q%jO#r%jO~OT#dOu$`a~Od!jOl!hOx%mO#q!fO$S!gO~Og%oOu%nO~Od!jOl!hOn%pO#q!fO$S!gO~Ol!QO~Oo%uO!Z#nO~OT#pOs$ba~Oo%uO~OT%{Os$ba~O#q#kO#r#kOs$fP~O!a&PO~O#q#kO#r#kOs#xP~OX&VOd#uXg#uXl#uXt#uX|#uX}#uX!O#uX!P#uX!Q#uX!R#uX!S#uX!Z#uX!^#uX#O#uX#S#uX#T#uX#U#uX#V#uX#W#uX#X#uX#Y#uX#Z#uX#[#uX#m#uX#q#uX#r#uXT#uXu#uXn#uX!j#uX!p#uXs#uX!q#uX~Og&YO~Ox&[O~O#]&^O#q#kO#r#kO~Os&_O~Om&`O~O#S!sOg$Wi#O$Wi#U$Wi#V$Wi#W$Wi#X$Wi#Y$Wi#Z$Wi#[$Wi#m$WiT$Wiu$Win$Wi!j$Wi!p$Wis$Wi!q$Wi~O#T$Wi~PNdO#T!tO~PNdO#O!uO#S!sO#T!tO#U!uOg$Wi#W$Wi#X$Wi#Y$Wi#Z$Wi#[$Wi#m$WiT$Wiu$Win$Wi!j$Wi!p$Wis$Wi!q$Wi~O#V$Wi~P! |O#V!vO~P! |O#O!uO#S!sO#T!tO#U!uO#V!vO#W!wO#X!xOg$Wi#Z$Wi#[$Wi#m$WiT$Wiu$Win$Wi!j$Wi!p$Wis$Wi!q$Wi~O#Y$Wi~P!#fO#Y!yO~P!#fO#O!uO#S!sO#T!tO#U!uO#V!vO#W!wO#X!xO#Y!yO#Z!yO~Og$Wi#[$Wi#m$WiT$Wiu$Win$Wi!j$Wi!p$Wis$Wi!q$Wi~P!%OO#m$ViT$Viu$Vin$Vi!j$Vi!p$Vis$Vi!q$Vi~Oh&bOi&cOj&dO~P!&aOh#yXi#yXj#yX#m#yXx#yXT#yXu#yXn#yX!j#yX!p#yXo#yXs#yX!q#yXY#yX~P?|OX&VO[#uX]#uX^#uX_#uX`#uXa#uXd#uXh#uXi#uXj#uXl#uXt#uX#m#uX#r#uX|#uX}#uX!O#uX!P#uX!Q#uX!R#uX!S#uX!^#uX#q#uXT#uXu#uXn#uX!j#uX!p#uXs#uX!q#uX~Ox#uXo#uXY#uX~P!(YOX&VO~Od!jOg&lOl!hOx&kO#q!fO$S!gO~OT&oO~Oh&bOi&cOj&dOx&kO~OX$yOZ&uOd$QO#r!mO~OT&wO~OX$yOx&zO#r!mO~Ox&}O~P4POd!jOl!hOx&}O#q!fO$S!gO~Og'QO~P4POd!jOg'QOl!hO#q!fO$S!gO~Og!ri#m!riT!riu!rin!ri!j!ri!p!ris!ri!q!ri~PByOh+lOi+nOj+pOr'TO!t'UO!u'VO~Oh#yXi#yXj#yXr#yX!t#yX!u#yXg#yX#O#yX#S#yX#T#yX#U#yX#V#yX#W#yX#X#yX#Y#yX#Z#yX#[#yX#m#yXT#yXu#yXn#yX!j#yX!p#yXs#yX!q#yX~P?|O[#uX]#uX^#uX_#uX`#uXa#uXh#uXi#uXj#uXr#uX!t#uX!u#uX~PKgOr$]X!t$]X~P(hOr$[X!t$[X~P+OO!b+ZOr$ZX!t$ZX~P-fO!Z+[Or$YX!t$YX~P/yO#O+_O#S+]O#T+^O#U+_O#V+`O#W+aO#X+bO#Y+cO#Z+cO#[+dO~Or'TO!t'UO~P!1zOT$wO~OT#dO~Od!jOl!hOn'fO#q!fO$S!gO~Oo'gO~OT'hOs$bi~Oo'jO!Z#nO~OT#pO~Oo'jO~OT%{Os$bi~Ox'lO~O#q#kO#r#kOs$fX~Os'oO~Of'rOg'qO~O#q#kO#r#kOs#xX~Os'uO~Oh&bOi&cOj&dOu'vO~Oh&bOi&cOj&dOn'wO~Ok-WOp-YOq$qO~P?|OX&VOd#uag#ual#uat#ua|#ua}#ua!O#ua!P#ua!Q#ua!R#ua!S#ua!Z#ua!^#ua#O#ua#S#ua#T#ua#U#ua#V#ua#W#ua#X#ua#Y#ua#Z#ua#[#ua#m#ua#q#ua#r#uaT#uau#uan#ua!j#ua!p#uas#ua!q#ua~Os(PO~Oh#yai#yaj#ya#m#yax#yaT#yau#yan#ya!j#ya!p#yao#yas#ya!q#yaY#ya~P?|OX&VO[#ua]#ua^#ua_#ua`#uaa#uad#uah#uai#uaj#ual#uat#ua#m#ua#r#ua|#ua}#ua!O#ua!P#ua!Q#ua!R#ua!S#ua!^#ua#q#uaT#uau#uan#ua!j#ua!p#uas#ua!q#ua~Ox#uao#uaY#ua~P!9gOl!nOo(VO#r!mO~Oo(VO~OT(YO~Oh&bOi&cOj&dOx(ZO~OY([O~OZ(^Od$QO#r!mO~OT(_O~Od$QO~Ox(aO#r!mO~OT(cOh&bOi&cOj&dO~Od!jOl!hOx(dO#q!fO$S!gO~O!j(fO~Od!jOg(gOl!hO#q!fO$S!gO~Oh&bOi&cOj&dOx(iO~O!q(jO~Oh#yai#yaj#yar#ya!t#ya!u#yag#ya#O#ya#S#ya#T#ya#U#ya#V#ya#W#ya#X#ya#Y#ya#Z#ya#[#ya#m#yaT#yau#yan#ya!j#ya!p#yas#ya!q#ya~P?|O[#ua]#ua^#ua_#ua`#uaa#uah#uai#uaj#uar#ua!t#ua!u#ua~P!6UOr$]a!t$]a~P=fO!Z+[Or$Ya!t$Ya#O$Ya#S$Ya#T$Ya#U$Ya#V$Ya#W$Ya#X$Ya#Y$Ya#Z$Ya#[$Yag$Ya~P9XOr$Wa!t$Wa~P!1zOr!va!t!va~P!1zOo!^Or$]X!t$]X#O$]X#S$]X#T$]X#U$]X#V$]X#W$]X#X$]X#Y$]X#Z$]X#[$]Xg$]X~Og!rq#m!rqT!rqu!rqn!rq!j!rq!p!rqs!rq!q!rq~PByOh+lOi+nOj+pOr(yO!t(zO!u({O~Or(yO!t(zO~P!1zOh&bOi&cOj&dOo(|O~Oh&bOi&cOj&dOu(}O~OT'hOs$bq~OT%{O~Ox)RO~Ou)TO~Og)VO~Of)XOg)WO~Oh+mOi+oOj+qOr)ZOY#}X~OY)[O~OY#yXh#yXi#yXj#yXr#yX~P?|OX&VOY#uX[#uX]#uX^#uX_#uX`#uXa#uXd#uXh#uXi#uXj#uXl#uXr#uXt#uX#r#uX~Oh&bOi&cOj&dOn)_O~OT)aO~Oh&bOi&cOj&dOn)bO~Oj&dO#m#yix#yiT#yiu#yin#yi!j#yi!p#yio#yis#yi!q#yiY#yi~Oh&bOi&cO~P!IhOh#yii#yi~P!IhOT)dO~Oh&bOi&cOj&dOx)eO~OT)gO~OT)kOh&bOi&cOj&dO~O!j)mO~Oh&bOi&cOj&dOx)pO~Oj+pOr#yi!t#yi!u#yig#yi#O#yi#S#yi#T#yi#U#yi#V#yi#W#yi#X#yi#Y#yi#Z#yi#[#yi#m#yiT#yiu#yin#yi!j#yi!p#yis#yi!q#yi~Oh+lOi+nO~P!LPOh#yii#yi~P!LPOg!ry#m!ryT!ryu!ryn!ry!j!ry!p!rys!ry!q!ry~PByOh+lOi+nOj+pOr)sO~Or)sO!t)tO~P!1zO#S+]Or$Wi!t$Wi#O$Wi#U$Wi#V$Wi#W$Wi#X$Wi#Y$Wi#Z$Wi#[$Wi~O#T$Wi~P# XO#T+^O~P# XO#O+_O#S+]O#T+^O#U+_Or$Wi!t$Wi#W$Wi#X$Wi#Y$Wi#Z$Wi#[$Wi~O#V$Wi~P#![O#V+`O~P#![O#O+_O#S+]O#T+^O#U+_O#V+`O#W+aO#X+bOr$Wi!t$Wi#Z$Wi#[$Wi~O#Y$Wi~P##_O#Y+cO~P##_O#O+_O#S+]O#T+^O#U+_O#V+`O#W+aO#X+bO#Y+cO#Z+cO~Or$Wi!t$Wi#[$Wi~P#$bOr!ri!t!ri~P!1zOo!^Or$]a!t$]a#O$]a#S$]a#T$]a#U$]a#V$]a#W$]a#X$]a#Y$]a#Z$]a#[$]ag$]a~OT'hO~OT)|Os$fi~Ox*OO~OT*POh&bOi&cOj&dOs#xi~Og*SO~Of*UOg*TO~OY#yah#yai#yaj#yar#ya~P?|OX&VOY#ua[#ua]#ua^#ua_#ua`#uaa#uad#uah#uai#uaj#ual#uar#uat#ua#r#ua~Oh+lOi+nOj+pOg$Vi#O$Vi#S$Vi#T$Vi#U$Vi#V$Vi#W$Vi#X$Vi#Y$Vi#Z$Vi#[$Vir$Vi!t$Vi~P!&aO#m#yqT#yqu#yqn#yq!j#yq!p#yqs#yq!q#yq~Oh&bOi&cOj&dOx#yqo#yqY#yq~P#*VOT*ZO~OT*]O~OT*^Oh&bOi&cOj&dO~O!j*_O~Oh&bOi&cOj&dOx*aO~O!j*cO~Oh+lOi+nOj+pOr#yq!t#yq!u#yqg#yq#O#yq#S#yq#T#yq#U#yq#V#yq#W#yq#X#yq#Y#yq#Z#yq#[#yq~P#*VOg+eO#O.gO#S.eO#T.fO#U.gO#V.hO#W.iO#X.jO#Y.kO#Z.kO#[.lOr$VX!t$VX~Or!rq!t!rq~P!1zOg!r!R#m!r!RT!r!Ru!r!Rn!r!R!j!r!R!p!r!Rs!r!R!q!r!R~PByOh+lOi+nOj+pOr*gO~Or*gO!t*hO~P!1zOg!z!R#m!z!RT!z!Ru!z!Rn!z!R!j!z!R!p!z!Rs!z!R!q!z!R~PByOT)|Os$fq~OT*jOh&bOi&cOj&dOs#xq~OT*POh&bOi&cOj&dOs#xq~Og*mO~Oh&bOi&cOj&dOY#}i~Oh+mOi+oOj+qOY#yir#yi~Oj+qOY#yih#yii#yir#yi~OT*oO~OT*pO~O!j*sO~Og!r!Z#m!r!ZT!r!Zu!r!Zn!r!Z!j!r!Z!p!r!Zs!r!Z!q!r!Z~PByOh+lOi+nOj+pOr*uO~Or!ry!t!ry~P!1zOT)|O~OT*jOh&bOi&cOj&dOs#xy~OT*POh&bOi&cOj&dO~Oh+mOi+oOj+qOY#yqr#yq~O!j*{O~Or!r!R!t!r!R~P!1zOr!z!R!t!z!R~P!1zOg!r!c#m!r!cT!r!cu!r!cn!r!c!j!r!c!p!r!cs!r!c!q!r!c~PByOh+lOi+nOj+pOr+PO~OT*jOh&bOi&cOj&dO~Og!r!k#m!r!kT!r!ku!r!kn!r!k!j!r!k!p!r!ks!r!k!q!r!k~PByOr!r!Z!t!r!Z~P!1zOr!r!c!t!r!c~P!1zOg!r!s#m!r!sT!r!su!r!sn!r!s!j!r!s!p!r!ss!r!s!q!r!s~PByOr!r!k!t!r!k~P!1zOr!r!s!t!r!s~P!1zOg+eOg$VX~P2nOS.UO!c.SO!g.TO!i0PO!l0TO!o0QO!s.vO!w.dO!y+YO!{0RO!|-RO!}-RO#O.cO#P.cO#Q.cO#R.cO~P9XOg$VX~P#-dOr+fOt!OO!t-TO!u-UO~Od!jOl!hO!e+gO#q!fO$S!gO~Ol!nOo+hO#r!mO~O!j+iO~Or+jO!t-]O!u-^O~Oh+lOi+nOj+pOr+rO!t-aO!u-bO~Or+rO!t-aO~P!1zOl!nOo+sO#r!mO~Ol!nOo+tO#r!mO~Oo+sO~Oo+tO~O!j+uO~O!q+vO~Oh+lOi+nOj+pOr+wO!t-gO!u-hO~Or+wO!t-gO~P!1zOh&bOi&cOj&dOo+xO~O!j+yO~Oh+lOi+nOj+pOr+zO~Or+zO!t-kO~P!1zO!j+|O~O!j+}O~O!j,OO~O!j,PO~Oh+lOi+nOj+pOr,QO~Or,QO!t-nO~P!1zO!j,RO~O!j,SO~Oh+lOi+nOj+pOr,TO~O!j,UO~O!j,VO~Oh+lOi+nOj+pOr,WO~O!Z,^O~Od!jOl!hO!e,yO#q!fO$S!gO~Ol!nOo,zO#r!mO~O!j,{O~O!j,|O~O!q,}O~O!j-OO~Ox-ZO~P4PO!p-[O~Og-_O~Ox-`O~P4POd!jOl!hOx-`O#q!fO$S!gO~Od!jOl!hOx-cO#q!fO$S!gO~Od!jOl!hOx-dO#q!fO$S!gO~Oh&bOi&cOj&dOx-eO~Oh&bOi&cOj&dOx-fO~Oh&bOi&cOj&dOx-iO~Oh&bOi&cOj&dOx-jO~Oh&bOi&cOj&dOx-lO~Oh&bOi&cOj&dOx-mO~Or.mOt!OO!t/TO!u/UO~Or.nO!t/VO!u/WO~Oh+lOi+nOj+pOr.oO!t/YO!u/ZO~Or.oO!t/YO~P!1zOh+lOi+nOj+pOr.pO!t/[O!u/]O~Or.pO!t/[O~P!1zOh&bOi&cOj&dOo.qO~Oh+lOi+nOj+pOr.rO~Or.rO!t/^O~P!1zOh+lOi+nOj+pOr.sO~Or.sO!t/_O~P!1zOh+lOi+nOj+pOr.tO~Oh+lOi+nOj+pOr.uO~Ox.VO~P4PO!p.WO~Og/XO~Ox.XO~P4POd!jOl!hOx.XO#q!fO$S!gO~Og.]O~P4POg.^O~P4POg._O~P4POg.`O~P4POd!jOg._Ol!hO#q!fO$S!gO~Od!jOg.`Ol!hO#q!fO$S!gO~Od!jOg.aOl!hO#q!fO$S!gO~Od!jOg.bOl!hO#q!fO$S!gO~O#O.gO#S.eO#T.fO#U.gO#V.hO#W.iO#X.jO#Y.kO#Z.kO#[.lO~Og$War$Wa!t$Wa~P#LgOg!var!va!t!va~P#LgO#S.eOg$Wir$Wi!t$Wi#O$Wi#U$Wi#V$Wi#W$Wi#X$Wi#Y$Wi#Z$Wi#[$Wi~O#T$Wi~P#MsO#T.fO~P#MsO#O.gO#S.eO#T.fO#U.gOg$Wir$Wi!t$Wi#W$Wi#X$Wi#Y$Wi#Z$Wi#[$Wi~O#V$Wi~P#NyO#V.hO~P#NyO#O.gO#S.eO#T.fO#U.gO#V.hO#W.iO#X.jOg$Wir$Wi!t$Wi#Z$Wi#[$Wi~O#Y$Wi~P$!PO#Y.kO~P$!PO#O.gO#S.eO#T.fO#U.gO#V.hO#W.iO#X.jO#Y.kO#Z.kO~Og$Wir$Wi!t$Wi#[$Wi~P$#VOg!rir!ri!t!ri~P#LgOg!rqr!rq!t!rq~P#LgOg!ryr!ry!t!ry~P#LgOg!r!Rr!r!R!t!r!R~P#LgOg!z!Rr!z!R!t!z!R~P#LgOg!r!Zr!r!Z!t!r!Z~P#LgOg!r!cr!r!c!t!r!c~P#LgOg!r!kr!r!k!t!r!k~P#LgOg!r!sr!r!s!t!r!s~P#LgOP#Oi!c#WXQdQ~",goto:"!Ck$hPPPPPP$iP$nPPPPPPPPP%|'pP)uPPPPPPPPPPPPPPPP$iPP$i*i,YPPPPPPP/m/mP2}3m3|P/mPP4b4ePPP4nP4nP4nPP4nP4n4nPPP4nPPP4nP4nP4nPPPPPPPPPPPPPPPPP7v7|8T8_8q8w:P:_:q<c<i<o<u<{=ZPPP=ePP=i=n=t?|AvCqCtGuHcIPI^%|%|IaJZPKXKXLR! |!(W4n!+`!.p!2O!5f!8z!<[!<_!?o!?r!?|!@W!Ch/mVhOQj!U!obg!q!}#W#X$o%T%W&h,Z,a,b-Q-V-W-p-u-x.T/`/c/e/f/g/hQ#UmQ#VnS$a!n!|`$|#U#V${$}%Q%R&s&yQ&i$pQ&q$yQ,c-XR,d-Y$c$U!a!e!{#Q#[#b$S$T$m$t%P%S%Y%^%f%h%o&V&Y&`&b&c&d&f&l&u&z'Q'U'W'q'z(V(^(a(g(z)V)W)Z)])t*S*T*h*m+Z+[+e+l+m+n+o+p+q+s+t,^-T-]-_-a-g-k-n.].^._.`.a.b/T/V/X/Y/[/^/_$b$U!a!e!{#Q#[#b$S$T$m$t%P%S%Y%^%f%h%o&V&Y&`&b&c&d&f&l&u&z'Q'U'W'q'z(V(^(a(g(z)V)W)Z)])t*S*T*h*m+Z+[+e+l+m+n+o+p+q+s+t,^-T-]-_-a-g-k-n.].^._.`.a.b/T/V/X/Y/[/^/_Q%O#US&t${$}S(]&s&xQ)i(`R*[)hd}V!V!X#m#o#u%u%y'g'jQ#l!QS$^!j$_Q%|#yQ&Q$QQ'm%}Q'p&PR's&RUgOQj!r!gag}!h!i!|!}#O#W#X#i#l$r%T%U%W%X%q&|'P,Y-P-o-u-x-y-z-{.S/`/c/d/e/f/g/h/i/j/k/lQ#WoQ#XpQ#auQ#j!OQ-u.YQ-w.[Q/`0PQ/b0RQ/e0SR/f0T'lZOQTY`ejlqsty{!d!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%c%e%g%i%m&[&k&}'T'V'Z'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+Y+]+^+_+`+a+b+c+d+f+g+h+i+j+k+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0QR!YV'mZOQTY`ejlqsty{!d!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%c%e%g%i%m&[&k&}'T'V'Z'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+Y+]+^+_+`+a+b+c+d+f+g+h+i+j+k+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0QQ!TVQ#r!VQ#x!XQ%r#mQ%t#oQ%z#uQ'i%uQ'k%yQ)O'gR)P'jQ!TVQ#r!VQ#x!XQ%z#uR'k%yQ!SVQ#^rQ#q!VU#w!X#u%yQ,],XR.w.vR!][Q#|!^Q$O!`R$W!b']cOQTYejlqsy{!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%e%g%m&[&k&}'T'V'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+]+^+_+`+a+b+c+d+f+g+h+i+j+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0QQQORwQSjOQR#RjQ${#UQ%Q#VT&r${%QQ$}#UQ%R#VQ&s${W&v$}%R&s&yR&y%QQ&R$QR't&RQ!qbQ!}gj$b!q!}%T%W&h,Z,a,b-p-x/c/g/hQ%T#WQ%W#XQ&h$oQ,Z-QQ,a-VQ,b-WQ-p.TQ-x-uQ/c/`Q/g/eR/h/fQ&f$mQ'W%^U(U&f'W)]R)]'zQ&X$VQ&g$nQ'X%_W'|&X&g'X)^R)^'{Q!iaQ#OgQ#i}v$]!i#O#i$r%U%X%q&|'P,Y-o-y-z-{/d/i/j/k/lQ$r!}Q%U#WQ%X#XQ%q#lQ&|%TQ'P%WQ,Y-PQ-o.SQ-y-uQ-z-xQ-{/cQ/d/`Q/i/eQ/j/fQ/k/gR/l/hQ$_!jR&]$_QyTR#fyQ!VVR#t!VQ%}#yR'n%}Q!_]U#}!_'Y(xQ'Y%`R(x'^Q!d`S$X!d'ZR'Z%cTPOQViOQjX$z#U#V${%QS$W!a+ZS$Y!e+[!h$m!{#Q$S$T$t%S%Y%h%o&Y&`&b&c&d&l&z'Q'q(V(a(g)V)W)Z*S*T*m-_.].^._.`.a.b/X!O%^#[%f'U(z)t*h+e+l+n+p+s-T-]-a-g-k-n/T/V/Y/[/^/_Q%i#b[&e$m%^&f'W'z)]Q&x%PY'z&V+m+o+q+tQ(`&uQ)h(^R+k,^S$V!a!e!v$n!{#Q#b$S$T$m$t%P%S%Y%h%o&Y&`&b&c&d&f&l&u&z'Q'q(V(^(a(g)V)W)Z*S*T*m,^-_.].^._.`.a.b/X!W%_#[%^%f'U'W(z)t*h+Z+[+e+l+n+p+s-T-]-a-g-k-n/T/V/Y/[/^/__'{&V'z)]+m+o+q+t$q$R!a!e!{#Q#U#[#b$S$T$m$t${$}%P%S%Y%^%f%h%o&V&Y&`&b&c&d&f&l&s&u&x&z'Q'U'W'q'z(V(^(`(a(g(z)V)W)Z)])h)t*S*T*h*m+Z+[+e+l+m+n+o+p+q+s+t,^-T-]-_-a-g-k-n.].^._.`.a.b/T/V/X/Y/[/^/_R&S$QQ$l!{Q$v#QQ%]#[Q&T$SQ&U$TQ&n$tQ&{%SQ'R%YQ'`%fQ'b%hQ'e%oQ'x&VQ'}&YQ(Q&`Q(R&bQ(S&cU(T&d+p+qQ(X&lQ(b&zQ(h'QQ(k+lQ(l+nQ(n'UQ)U'qQ)`+eQ)c(VQ)j(aQ)o(gQ)u+sQ)y(zQ*Q)VQ*R)WQ*V)ZQ*W+mQ*X+oQ*e)tQ*k*SQ*l*TQ*n+tQ*y*hQ*z*mQ,_-TQ,g-]Q,i-_Q,k-aQ,q-gQ,u-kQ,x-nQ-|.]Q-}.^Q.O._Q.P.`Q.Q.aQ.R.bQ.x/TQ.z/VQ.|/XQ.}/YQ/P/[Q/R/^R/S/_!V!pbg!q!}#W#X$o%T%W&h,Z,a,b-Q-V-W-p-u-x.T/`/c/e/f/g/h!V!obg!q!}#W#X$o%T%W&h,Z,a,b-Q-V-W-p-u-x.T/`/c/e/f/g/h`&W$V$n%_&X&g'X'{)^R&j$qR'y&V!o!lag}!i!}#O#W#X#i#l$r%T%U%W%X%q&|'P,Y-P-o-u-x-y-z-{.S/`/c/d/e/f/g/h/i/j/k/l!n!kag}!i!}#O#W#X#i#l$r%T%U%W%X%q&|'P,Y-P-o-u-x-y-z-{.S/`/c/d/e/f/g/h/i/j/k/lT$Z!h!|!o!kag}!i!}#O#W#X#i#l$r%T%U%W%X%q&|'P,Y-P-o-u-x-y-z-{.S/`/c/d/e/f/g/h/i/j/k/lUkOQjQxTQ!ZYS#Tl{Q#YqQ#eyQ$u#PQ%l#hU&Z$[+g,yU&a$c+h,zQ&m$sU&p$x+i,{Q'O%VQ'S%ZQ'd%mQ(O&[Q(W&kQ(e&}Q)Q'lQ)f(ZQ)l(dU)n(f+u,|Q)q(iU)r(j+v,}Q)})RQ*Y)eU*`)m+y-OQ*b)pQ*i*OU*q*_+|+}Q*r*aU*t*c,O,PU*|*s,R,SU+Q*{,U,VQ,[-SQ,e-ZQ,f-[Q,j-`Q,m-cQ,n-dQ,o-eQ,p-fQ,s-iQ,t-jQ,v-lQ,w-mQ-q.UQ-r.VQ-s.WQ-t.XQ-v.ZR/a0Q!|fOQTYjlqy{#P#h$s%V%Z%m&[&k&}'l(Z(d(i)R)e)p*O*a-S-Z-[-`-c-d-e-f-i-j-l-m.U.V.W.X.Z0QQ!reQ#_sU$d!s+].eQ$e!tQ$f!uQ$g!vQ$h!wQ$i!xQ$j!yQ$k!zQ%[#ZQ%d#]Q'[+VQ']+XQ'_%eQ'a%gQ(m'TQ(o'VQ(p+^Q(q+_Q(r+`Q(s+aQ(t+bQ(u+cQ(v+dQ(w+fd)v+g+h+i+u+v+y+|,O,R,UQ)w+jQ)x(yQ)z({Q){(|Q*d)sQ*f+rQ*v+wQ*w+xQ*x*gQ*}*uQ+O+zQ+R,QQ+S+PQ+T,TQ+U,Wd+W$[$c$x(f(j)m*_*c*s*{d+{+},P,S,V,y,z,{,|,}-OQ,`-UQ,h-^Q,l-bQ,r-hQ.y/UQ.{/WQ/O/ZQ/Q/]Q/m.cQ/n.dQ/o.fQ/p.gQ/q.hQ/r.iQ/s.jQ/t.kQ/u.lQ/v.mQ/w.nQ/x.oQ/y.pQ/z.qQ/{.rQ/|.sQ/}.tR0O.u']dOQTYejlqsy{!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%e%g%m&[&k&}'T'V'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+]+^+_+`+a+b+c+d+f+g+h+i+j+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0Q$Y`OQTYejlqsy{!s!t!u!v!w!x!y!z#P#Z#h$[$c$s$x%V%Z%e%m&[&k&}'T'l(Z(d(f(i(j(y(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P-S-Z-[-`-c-d-e-f-i-j-l-m.U.V.W.X.Z0QW!c`!d%c'Z$R%c#]%g'V({+V+X+]+^+_+`+a+b+c+d+f+g+h+i+j+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-U-^-b-h.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]$^_OQTY`ejlqsy{!d!s!t!u!v!w!x!y!z#P#Z#h$[$c$s$x%V%Z%e%m&[&k&}'T'l(Z(d(f(i(j(y(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P-S-Z-[-`-c-d-e-f-i-j-l-m.U.V.W.X.Z0Q$V%b#]%c%g'V'Z({+V+X+]+^+_+`+a+b+c+d+f+g+h+i+j+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-U-^-b-h.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]$^^OQTY`ejlqsy{!d!s!t!u!v!w!x!y!z#P#Z#h$[$c$s$x%V%Z%e%m&[&k&}'T'l(Z(d(f(i(j(y(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P-S-Z-[-`-c-d-e-f-i-j-l-m.U.V.W.X.Z0QS#`t+Y$U%a#]%c%g'V'Z({+V+X+]+^+_+`+a+b+c+d+f+g+h+i+j+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-U-^-b-h.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]T'c%i+k$b]OQTY`ejlqsty{!d!s!t!u!v!w!x!y!z#P#Z#h$[$c$s$x%V%Z%e%i%m&[&k&}'T'l(Z(d(f(i(j(y(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P-S-Z-[-`-c-d-e-f-i-j-l-m.U.V.W.X.Z0Q$U%`#]%c%g'V'Z({+V+X+]+^+_+`+a+b+c+d+f+g+h+i+j+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-U-^-b-h.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]T'^+Y+k'mUOQTY`ejlqsty{!d!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%c%e%g%i%m&[&k&}'T'V'Z'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+Y+]+^+_+`+a+b+c+d+f+g+h+i+j+k+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0QRzT'mWOQTY`ejlqsty{!d!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%c%e%g%i%m&[&k&}'T'V'Z'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+Y+]+^+_+`+a+b+c+d+f+g+h+i+j+k+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0QR!WVa!PVr!V!X#u%y,X.vY!RV!V!X#u%yR%s#n'mXOQTY`ejlqsty{!d!s!t!u!v!w!x!y!z#P#Z#]#h$[$c$s$x%V%Z%c%e%g%i%m&[&k&}'T'V'Z'l(Z(d(f(i(j(y({(|)R)e)m)p)s*O*_*a*c*g*s*u*{+P+V+X+Y+]+^+_+`+a+b+c+d+f+g+h+i+j+k+r+u+v+w+x+y+z+|+},O,P,Q,R,S,T,U,V,W,y,z,{,|,}-O-S-U-Z-[-^-`-b-c-d-e-f-h-i-j-l-m.U.V.W.X.Z.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u/U/W/Z/]0QR&O#y",nodeNames:"⚠ LineComment BlockComment Program open ; Interface interface TypeNameDecl < > extends Int Double String Bool Top Bot TypeName RecordType { LabelDecl ? : TypeOp TypeOp TypeOp forall ( * ) . mu Trait TraitArrow } [ ] TypeDef type = TermDef TermNameDecl TermName Number String Document Unit true false undefined Array Record override RecordField MethodPattern SelfAnno @ RecordUpdate with $ CtorName Label <- \\\\ \\ Lambda -> BigLambda /\\ Let let in LetRec letrec Open IfElse if then else Trait trait implements inherits New new ToString toString Fix fix fold unfold ArithOp LogicOp LengthOp SqrtOp IndexOp ArithOp ArithOp AppendOp CompareOp LogicOp LogicOp ForwardOp MergeOp ..",maxTerm:161,skippedNodes:[0,1,2],repeatNodeCount:15,tokenData:"2k~R}X^$Opq$Oqr$srs%Yst'Qtu'Vuv'[vw'axy'nyz'{z{(Q{|(X|}(n}!O(y!O!P)t!P!Q*R!Q!R*`!R![+}![!]-Y!]!^-_!^!_-d!_!`-v!`!a.W!a!b.b!b!c.g!c!}.l!}#O/Q#O#P/V#P#Q/i#Q#R/n#R#S/s#S#T/x#T#o0g#o#p0{#p#q2U#q#r2a#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O%&t%&u2f&FU&FV$O~$TY#o~X^$Opq$O#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O&FU&FV$Ok$xQ#PPqr%O!_!`%Tj%TO#Sjj%YO#Wj~%_W}~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z<%lO%Y~%|O}~~&PRO;'S%Y;'S;=`&Y;=`O%Y~&_X}~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z;=`<%l%Y<%lO%Y~&}P;=`<%l%Y~'VO#Q~~'[O!^~j'aO#Tj~'fPj~vw'i~'nO#X~~'sPl~yz'v~'{O!P~~(QOn~k(XOmP#Tj~(^Q#U~{|(d|}(i~(iO#V~~(nO#[~~(sQ#[~{|(i|}(i~)OQ#Ok}!O)U!`!a)m~)ZSP~OY)UZ;'S)U;'S;=`)g<%lO)U~)jP;=`<%l)U})tO!eShyo)yPok!O!P)|S*RO#]Sk*WP#Tj#O#P*ZP*`O!gP~*eW|~!O!P*}!Q![+}!g!h+c!q!r,`!z!{,n#X#Y+c#c#d,`#l#m,n~+QP!Q![+T~+YR|~!Q![+T!g!h+c#X#Y+c~+fR{|+o}!O+o!Q![+u~+rP!Q![+u~+zP|~!Q![+u~,SS|~!O!P*}!Q![+}!g!h+c#X#Y+c~,cP!Q!Y,f~,kP|~!Q!Y,f~,qR!Q![,z!c!i,z#T#Z,z~-PR|~!Q![,z!c!i,z#T#Z,z~-_Og~~-dOT~!a-kQ#WjX{}!O-q!_!`%TS-vO!aS!a-{QxR!_!`%T!`!a.R!^.WOr!^!]._PYq#Wj!_!`%T~.gOf~~.lO!Z~~.qT#r~wx.l!Q![.l!c!}.l#R#S.l#T#o.l~/VOt~~/^Qiy!c~}!O(i#O#P/db/iO!bb~/nOu~~/sO#Z~~/xO$S~~/{TO#S/x#S#T0[#T;'S/x;'S;=`0a<%lO/x~0aO!O~~0dP;=`<%l/x~0lT#q~wx0g!Q![0g!c!}0g#R#S0g#T#o0g~1QPd~}!O1T~1WTO}1T}!O1g!O;'S1T;'S;=`2O<%lO1T~1jTO#q1T#q#r1y#r;'S1T;'S;=`2O<%lO1T~2OOQ~~2RP;=`<%l1T~2XP#p#q2[~2aO#Y~~2fOs~~2kO#R~",tokenizers:[0,1,2,3,4,5],topRules:{Program:[0,3]},specialized:[{term:125,get:t=>jd[t]||-1},{term:126,get:t=>zd[t]||-1}],tokenPrec:6609});var Gd={compose:function(t){return function(e){return function(n){return t(e(n))}}}},Zd=function(t){return t.compose},Kd=function(t){return t.identity},Jd={identity:function(t){return t},Semigroupoid0:function(){return Gd}},tv=function(t){return function(e){return function(n){return t(n)(e)}}},ev=function(t){return function(e){return t}},nv=function(t){return function(e){return e(t)}};const rv=void 0;var iv=function(t){return t.map},sv=function(t){var e=iv(t);return function(t){return function(n){return e(n)(t)}}},ov=function(t){return iv(t)(ev(rv))},lv=function(t){var e=iv(t);return function(t){return function(n){return e(ev(n))(t)}}},av={map:Zd(Gd)},uv={map:function(t){return function(e){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t(e[i]);return r}}},cv=function(t){var e=iv(t);return function(t){return function(n){return e((function(t){return t(n)}))(t)}}};var hv={append:function(t){return function(e){return t+e}}},fv={append:function(t){return function(e){return 0===t.length?e:0===e.length?t:t.concat(e)}}},dv=function(t){return t.append},vv=function(t){return t.alt};var gv=Kd(Jd),pv=function(t){return t.apply},mv=function(t){var e=pv(t),n=iv(t.Functor0());return function(t){return function(r){return e(n(ev(gv))(t))(r)}}},Rv=function(t){var e=pv(t),n=iv(t.Functor0());return function(t){return function(r){return function(i){return e(n(t)(r))(i)}}}},Ov=function(t){return t.pure},wv=function(t){var e=pv(t.Apply0()),n=Ov(t);return function(t){return function(r){return e(n(t))(r)}}};var xv=function(t){return t.discard},yv=function(t){return t.bind},bv=function(t){return tv(yv(t))},Cv=function(t){var e=bv(t);return function(t){return function(n){return function(r){return e(t)(n(r))}}}},kv=function(t){var e=yv(t);return function(t){return function(n){return function(r){return e(t(r))(n)}}}},Tv={discard:function(t){return yv(t)}},Sv=function(t){var e=yv(t.Bind1()),n=Ov(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return e(r)((function(e){return n(t(e))}))}))}}};const Av=String.fromCharCode(65535),Pv=String.fromCharCode(0);Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;var Ev=function(t){return function(e){return function(n){return function(r){return function(i){return r<i?t:r===i?e:n}}}}};const _v=Ev,Lv=Ev,Dv=Ev;var Iv=function(t){return function(e){return t===e}};var Nv={eq:Iv},Qv={eq:Iv},Mv={eq:Iv},Fv={eq:Iv},$v=function(t){return t.eq1},Bv=function(t){return t.eq},Uv=Bv(Fv),Wv=function(t){var e=Bv(t);return function(t){return function(n){return Uv(e(t)(n))(!1)}}},Vv=function(){function t(){}return t.value=new t,t}(),Hv=function(){function t(){}return t.value=new t,t}(),qv=function(){function t(){}return t.value=new t,t}(),Xv={eq:function(t){return function(e){return t instanceof Vv&&e instanceof Vv||(t instanceof Hv&&e instanceof Hv||t instanceof qv&&e instanceof qv)}}};var jv={add:function(t){return function(e){return t+e|0}},zero:0,mul:function(t){return function(e){return t*e|0}},one:1},zv={sub:function(t){return function(e){return t-e|0}},Semiring0:function(){return jv}},Yv=function(){return{compare:Lv(Vv.value)(qv.value)(Hv.value),Eq0:function(){return Nv}}}(),Gv=function(){return{compare:_v(Vv.value)(qv.value)(Hv.value),Eq0:function(){return Qv}}}(),Zv=function(){return{compare:Dv(Vv.value)(qv.value)(Hv.value),Eq0:function(){return Mv}}}(),Kv=function(t){return t.compare},Jv=function(t){return t.top},tg={top:2147483647,bottom:-2147483648,Ord0:function(){return Gv}},eg={top:Av,bottom:Pv,Ord0:function(){return Zv}},ng=function(t){return t.bottom};var rg={show:function(t){var e=t.length;return'"'+t.replace(/[\0-\x1F\x7F"\\]/g,(function(n,r){switch(n){case'"':case"\\":return"\\"+n;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=r+1,s=i<e&&t[i]>="0"&&t[i]<="9"?"\\&":"";return"\\"+n.charCodeAt(0).toString(10)+s}))+'"'}},ig={show:function(t){return t.toString()}},sg={show:function(t){return t.toString()}},og={show:function(t){if(t)return"true";if(!t)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[t.constructor.name])}},lg=function(t){return t.show},ag=Kd(Jd),ug=function(){function t(){}return t.value=new t,t}(),cg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),hg=function(t){var e=lg(t);return{show:function(t){if(t instanceof cg)return"(Just "+e(t.value0)+")";if(t instanceof ug)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}},fg=function(t){return function(e){return function(n){if(n instanceof ug)return t;if(n instanceof cg)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},dg=fg(!0)(ev(!1)),vg=fg(!1)(ev(!0)),gg={map:function(t){return function(e){return e instanceof cg?new cg(t(e.value0)):ug.value}}},pg=iv(gg),mg=function(t){return fg(t)(ag)},Rg=function(t){var e=Bv(t);return{eq:function(t){return function(n){return t instanceof ug&&n instanceof ug||t instanceof cg&&n instanceof cg&&e(t.value0)(n.value0)}}}},Og={apply:function(t){return function(e){if(t instanceof cg)return pg(t.value0)(e);if(t instanceof ug)return ug.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,e.constructor.name])}},Functor0:function(){return gg}},wg={bind:function(t){return function(e){if(t instanceof cg)return e(t.value0);if(t instanceof ug)return ug.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,e.constructor.name])}},Apply0:function(){return Og}},xg={alt:function(t){return function(e){return t instanceof ug?e:t}},Functor0:function(){return gg}},yg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),bg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Cg={map:function(t){return function(e){if(e instanceof yg)return new yg(e.value0);if(e instanceof bg)return new bg(t(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},kg=function(t){return function(e){return function(n){if(n instanceof yg)return t(n.value0);if(n instanceof bg)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var Tg={Ring0:function(){return zv}},Sg=function(t){return t.mod},Ag={degree:function(t){return Math.min(Math.abs(t),2147483647)},div:function(t){return function(e){return 0===e?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},mod:function(t){return function(e){if(0===e)return 0;var n=Math.abs(e);return(t%n+n)%n}},CommutativeRing0:function(){return Tg}},Pg=function(t){return t.div},Eg={mempty:"",Semigroup0:function(){return hv}},_g=function(t){return t.mempty},Lg=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},Dg={Applicative0:function(){return Ng},Bind1:function(){return Ig}},Ig={bind:function(t){return function(e){return function(){return e(t())()}}},Apply0:function(){return Mg(0)}},Ng={pure:function(t){return function(){return t}},Apply0:function(){return Mg(0)}},Qg=Lg("functorEffect","Effect",(function(){return{map:wv(Ng)}})),Mg=Lg("applyEffect","Effect",(function(){return{apply:Sv(Dg),Functor0:function(){return Qg(0)}}}));function Fg(t){return function(){throw t}}var $g=function(t){return Fg(new Error(t))},Bg=function(t){return t.throwError},Ug=function(t){return t.local},Wg=function(t){return t.ask},Vg=function(t){var e=iv(t.Monad0().Bind1().Apply0().Functor0()),n=Wg(t);return function(t){return e(t)(n)}},Hg=function(t){return t},qg={map:function(t){return function(e){return t(e)}}},Xg={apply:function(t){return function(e){return t(e)}},Functor0:function(){return qg}},jg={bind:function(t){return function(e){return e(t)}},Apply0:function(){return Xg}},zg={pure:Hg,Apply0:function(){return Xg}},Yg={Applicative0:function(){return zg},Bind1:function(){return jg}};var Gg=function(t){return t.not},Zg=function(t){return t.ff},Kg=function(t){return t.disj},Jg={ff:!1,tt:!0,implies:function(t){return function(e){return Kg(Jg)(Gg(Jg)(t))(e)}},conj:function(t){return function(e){return t&&e}},disj:function(t){return function(e){return t||e}},not:function(t){return!t}},tp=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ep=function(t){return function(e){return t(e.value0)(e.value1)}},np=function(t){return t.value1},rp=function(t){return t.value0},ip=function(t){var e=Bv(t);return function(t){var n=Bv(t);return{eq:function(t){return function(r){return e(t.value0)(r.value0)&&n(t.value1)(r.value1)}}}}},sp=function(t){return t.state},op=function(t){var e=sp(t);return function(t){return e((function(e){return new tp(rv,t(e))}))}},lp=function(t){var e=sp(t);return function(t){return e((function(e){return new tp(t(e),e)}))}},ap=function(t){return t.tell},up=iv(Cg),cp=function(t){return function(e){return t(e)}},hp=function(t){var e=iv(t);return{map:function(t){return cp(e(up(t)))}}},fp=function(t){return{Applicative0:function(){return gp(t)},Bind1:function(){return dp(t)}}},dp=function(t){var e=yv(t.Bind1()),n=Ov(t.Applicative0());return{bind:function(t){return function(r){return e(t)(kg((function(t){return n(yg.create(t))}))((function(t){return r(t)})))}},Apply0:function(){return vp(t)}}},vp=function(t){var e=hp(t.Bind1().Apply0().Functor0());return{apply:Sv(fp(t)),Functor0:function(){return e}}},gp=function(t){return{pure:(e=Ov(t.Applicative0()),function(t){return e(bg.create(t))}),Apply0:function(){return vp(t)}};var e},pp=function(t){var e,n=fp(t);return{throwError:(e=Ov(t.Applicative0()),function(t){return e(yg.create(t))}),Monad0:function(){return n}}},mp=function(t){var e=dv(t);return function(t){var n=t.Bind1(),r=yv(n),i=Ov(t.Applicative0()),s=hp(n.Apply0().Functor0());return{alt:function(t){return function(n){return r(t)((function(t){if(t instanceof bg)return i(new bg(t.value0));if(t instanceof yg)return r(n)((function(n){if(n instanceof bg)return i(new bg(n.value0));if(n instanceof yg)return i(new yg(e(t.value0)(n.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[n.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[t.constructor.name])}))}},Functor0:function(){return s}}}},Rp=function(t){return t.lift},Op=function(t){return t.empty};const wp=function(t){return t};var xp=function(){return wp},yp=xp(),bp=function(){return yp},Cp=function(){return function(){return function(){return function(){return function(t){return yp}}}}},kp=function(t){return function(e){return function(n){return e(t(n))}}},Tp=Rp({lift:function(t){return function(t){return ev(t)}}}),Sp=function(t){return function(e){return function(n){return t(e(n))}}},Ap=function(t){return{map:(e=iv(t),function(t){return Sp(e(t))})};var e},Pp=function(t){var e=pv(t),n=Ap(t.Functor0());return{apply:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},Ep=function(t){var e=yv(t),n=Pp(t.Apply0());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t)(r)}))}}},Apply0:function(){return n}}},_p=function(t){var e,n=Pp(t.Apply0());return{pure:(e=Ov(t),function(t){return ev(e(t))}),Apply0:function(){return n}}},Lp=function(t){var e=_p(t.Applicative0()),n=Ep(t.Bind1());return{Applicative0:function(){return e},Bind1:function(){return n}}},Dp=function(t){var e=Lp(t);return{ask:Ov(t.Applicative0()),Monad0:function(){return e}}},Ip=function(t){var e=Dp(t);return{local:kp,MonadAsk0:function(){return e}}},Np=function(t){var e,n,r=t.Monad0(),i=Lp(r);return{throwError:(e=Tp(r),n=Bg(t),function(t){return e(n(t))}),Monad0:function(){return i}}},Qp=function(t){var e=vv(t),n=Ap(t.Functor0());return{alt:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},Mp={lift:function(t){var e=yv(t.Bind1()),n=Ov(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return n(new tp(t,r))}))}}}},Fp=Rp(Mp),$p=function(t){var e=iv(t);return{map:function(t){return function(n){return function(r){return e((function(e){return new tp(t(e.value0),e.value1)}))(n(r))}}}}},Bp=function(t){return{Applicative0:function(){return Vp(t)},Bind1:function(){return Up(t)}}},Up=function(t){var e=yv(t.Bind1());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t.value0)(t.value1)}))}}},Apply0:function(){return Wp(t)}}},Wp=function(t){var e=$p(t.Bind1().Apply0().Functor0());return{apply:Sv(Bp(t)),Functor0:function(){return e}}},Vp=function(t){var e=Ov(t.Applicative0());return{pure:function(t){return function(n){return e(new tp(t,n))}},Apply0:function(){return Wp(t)}}},Hp=function(t){var e=Ov(t.Applicative0()),n=Bp(t);return{state:function(t){return function(n){return e(t(n))}},Monad0:function(){return n}}},qp=function(t){var e=t.Monad0(),n=Fp(e),r=Bg(t),i=Bp(e);return{throwError:function(t){return n(r(t))},Monad0:function(){return i}}};Array.prototype.fill,function(){function t(t,e){this.head=t,this.tail=e}var e={};function n(e){return function(n){return new t(e,n)}}}();const Xp=function(t){return t.length},jp=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])},zp=function(t,e,n,r){for(var i=0,s=r.length;i<s;i++)if(n(r[i]))return t(i);return e},Yp=(function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}(),function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0}),Gp=function(t,e){return t[e]};function Zp(t){return function(){return{value:t}}}const Kp=function(t){return function(){return t.value}},Jp=function(t){return function(e){return function(){return e.value=t}}};var tm=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},em={map:function(t){return function(e){return function(){return t(e())}}}};const nm=function(t,e){return e.push.apply(e,t)};function rm(t){return t}const im=rm;!function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}();const sm=function(t){return function(e){return function(){return t(e)}}},om=function(t){return function(e){return function(n){return function(){return t(e,n)}}}};var lm=sm(im),am=function(t){return om(nm)([t])},um=iv(em),cm=Gg(Jg),hm=ov(em),fm=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),dm=function(t){return function(){var e=Kp(t.value1)();return function(t){return tm((function(e){var n=t(e);return{state:n,value:n}}))}((function(t){return t+1|0}))(t.value1)(),t.value0(e)}};var vm=Kd(Jd),gm=function(t){return t.bimap},pm=function(t){return gm(t)(vm)},mm={bimap:function(t){return function(e){return function(n){return new tp(t(n.value0),e(n.value1))}}}},Rm={append:function(t){return function(e){return t instanceof cg?t:e}}},Om=function(){return{mempty:ug.value,Semigroup0:function(){return Rm}}}(),wm=function(t){return t},xm=function(t){var e=function(t){var e=Kg(t);return{append:function(t){return function(n){return e(t)(n)}}}}(t);return{mempty:Zg(t),Semigroup0:function(){return e}}},ym=function(t){var e=Zd(t);return{append:function(t){return function(n){return e(t)(n)}}}},bm=function(t){var e=ym(t.Semigroupoid0());return{mempty:Kd(t),Semigroup0:function(){return e}}},Cm=bp(),km=Cp()()()(),Tm=function(t){return t.foldr},Sm=function(t){var e=mv(t.Apply0()),n=Ov(t);return function(t){var r=Tm(t);return function(t){return r((function(n){return e(t(n))}))(n(rv))}}},Am=function(t){return t.foldl},Pm=function(t){var e=Am(t);return function(t){var n=dv(t.Semigroup0()),r=_g(t);return function(t){return function(i){return e((function(e){return function(r){return e.init?{init:!1,acc:r}:{init:!1,acc:n(e.acc)(n(t)(r))}}}))({init:!0,acc:r})(i).acc}}}},Em={foldr:function(t){return function(e){return function(n){if(n instanceof ug)return e;if(n instanceof cg)return t(n.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldl:function(t){return function(e){return function(n){if(n instanceof ug)return e;if(n instanceof cg)return t(e)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldMap:function(t){var e=_g(t);return function(t){return function(n){if(n instanceof ug)return e;if(n instanceof cg)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,n.constructor.name])}}}},_m={foldr:function(t){return function(e){return function(n){for(var r=e,i=n.length-1;i>=0;i--)r=t(n[i])(r);return r}}},foldl:function(t){return function(e){return function(n){for(var r=e,i=n.length,s=0;s<i;s++)r=t(r)(n[s]);return r}}},foldMap:function(t){return function(t){var e=Tm(t);return function(t){var n=dv(t.Semigroup0()),r=_g(t);return function(t){return e((function(e){return function(r){return n(t(e))(r)}}))(r)}}}(_m)(t)}},Lm=function(t){return t.foldMap},Dm=function(t){var e=Lm(t)(Om);return function(t){var n=Bv(t);return function(t){var r=e((function(e){return n(t)(e.value0)?new cg(e.value1):ug.value}));return function(t){return Cm(r(t))}}}},Im=function(t){var e=Lm(t);return function(t){return km(wm)(e(xm(t)))}};const Nm=function(t){return function(e){return function(n){return t(e,n)}}},Qm=function(t){return function(e){return function(n){return function(r){return function(i){return t(e,n,r,i)}}}}};const Mm=function(){function t(t){return[t]}function e(t){return function(e){return[t,e]}}function n(t){return function(e){return function(n){return[t,e,n]}}}function r(t){return function(e){return t.concat(e)}}return function(i){return function(s){return function(o){return function(l){return function(a){return function u(c,h){switch(h-c){case 0:return o([]);case 1:return s(t)(l(a[c]));case 2:return i(s(e)(l(a[c])))(l(a[c+1]));case 3:return i(i(s(n)(l(a[c])))(l(a[c+1])))(l(a[c+2]));default:var f=c+2*Math.floor((h-c)/4);return i(s(r)(u(c,f)))(u(f,h))}}(0,a.length)}}}}}}();var Fm=Kd(Jd),$m=function(t){return t.traverse},Bm={traverse:function(t){var e=Ov(t),n=iv(t.Apply0().Functor0());return function(t){return function(r){if(r instanceof ug)return e(ug.value);if(r instanceof cg)return n(cg.create)(t(r.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,r.constructor.name])}}},sequence:function(t){var e=Ov(t),n=iv(t.Apply0().Functor0());return function(t){if(t instanceof ug)return e(ug.value);if(t instanceof cg)return n(cg.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}},Functor0:function(){return gg},Foldable1:function(){return Em}},Um=function(t){var e=$m(t);return function(t){return e(t)(Fm)}},Wm={traverse:function(t){var e=t.Apply0();return Mm(pv(e))(iv(e.Functor0()))(Ov(t))},sequence:function(t){return Um(Wm)(t)},Functor0:function(){return uv},Foldable1:function(){return _m}},Vm=function(t){return function(e){var n=$m(e)(t);return function(t){return function(e){return n(e)(t)}}}};var Hm=ov(em),qm=function(){return Nm(Gp)},Xm=function(t){return 0===Xp(t)},jm=function(){return Qm(jp)(cg.create)(ug.value)}(),zm=function(t){return function(){var e=[],n=[],r=function(t){return um(fm.create(t))(Zp(0))}((function(e){return jm(t)(e)}))();!function(t){return function(e){return function(){for(var n=Zp(!1)();um(cm)(Kp(n))();)!function(){var r=dm(t)();if(r instanceof cg)return e(r.value0)();if(r instanceof ug)return hm(Jp(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[r.constructor.name])}();return{}}}}(r)((function(t){return function(){return Hm(am(t.value0)(e))(),Hm(am(t.value1)(n))()}}))();var i=lm(e)(),s=lm(n)();return new tp(i,s)}()},Ym=function(t){return jm(t)(0)},Gm=function(){return Qm(zp)(cg.create)(ug.value)}(),Zm=function(t){var e=Bv(t);return function(t){return Gm((function(n){return e(n)(t)}))}},Km=function(t){var e=Zm(t);return function(t){return function(n){return dg(e(t)(n))}}},Jm=function(t){var e=Zm(t);return function(t){return function(n){return vg(e(t)(n))}}},tR=Nm(Yp);!function(){function t(t){this.fn=t}var e={},n=function(t,e){this.head=t,this.tail=e};function r(t){return new n(t,e)}function i(t){return function(e){return new n(t,e)}}function s(t){for(var n=[],r=t;r!==e;)n.push(r.head),r=r.tail;return n}}();var eR=function(t){return t.foldrWithIndex},nR=Kd(Jd),rR=function(){function t(){}return t.value=new t,t}(),iR=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sR={map:function(t){var e;return e=rR.value,function(n){var r,i=e,s=!1;function o(e,r){return r instanceof iR&&r.value1 instanceof iR&&r.value1.value1 instanceof iR?(i=new iR(r,e),void(n=r.value1.value1.value1)):(s=!0,(l=e,function(e){for(var n,r,i,s=l,o=!1;!o;)i=e,n=(r=s)instanceof iR&&r.value0 instanceof iR&&r.value0.value1 instanceof iR&&r.value0.value1.value1 instanceof iR?(s=r.value1,void(e=new iR(t(r.value0.value0),new iR(t(r.value0.value1.value0),new iR(t(r.value0.value1.value1.value0),i))))):(o=!0,i);return n})((o=r)instanceof iR&&o.value1 instanceof iR&&o.value1.value1 instanceof rR?new iR(t(o.value0),new iR(t(o.value1.value0),rR.value)):o instanceof iR&&o.value1 instanceof rR?new iR(t(o.value0),rR.value):rR.value));var o,l}for(;!s;)r=o(i,n);return r}}},oR={foldr:function(t){return function(e){var n,r=(n=rR.value,function(t){var e,r=n,i=!1;function s(e,n){if(n instanceof rR)return i=!0,e;if(n instanceof iR)return r=new iR(n.value0,e),void(t=n.value1);throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[e.constructor.name,n.constructor.name])}for(;!i;)e=s(r,t);return e}),i=Am(oR)(tv(t))(e);return function(t){return i(r(t))}}},foldl:function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof rR)return s=!0,e;if(r instanceof iR)return i=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[r.constructor.name])}for(;!s;)r=o(i,n);return r}}},foldMap:function(t){var e=dv(t.Semigroup0()),n=_g(t);return function(t){return Am(oR)((function(n){var r=e(n);return function(e){return r(t(e))}}))(n)}}},lR=Am(oR),aR=Tm(oR),uR={append:function(t){return function(e){return aR(iR.create)(e)(t)}}},cR={traverse:function(t){var e=t.Apply0(),n=iv(e.Functor0()),r=Rv(e),i=Ov(t);return function(t){var e=n(lR(tv(iR.create))(rR.value)),s=lR((function(e){var n=r(tv(iR.create))(e);return function(e){return n(t(e))}}))(i(rR.value));return function(t){return e(s(t))}}},sequence:function(t){return $m(cR)(t)(nR)},Functor0:function(){return sR},Foldable1:function(){return oR}},hR={eq1:function(t){var e=Bv(t);return function(t){return function(n){var r;return(r=t,function(t){return function(n){var i,s=r,o=t,l=!1;function a(t,r,i){return i?t instanceof rR&&r instanceof rR?(l=!0,i):t instanceof iR&&r instanceof iR?(s=t.value1,o=r.value1,void(n=i&&e(r.value0)(t.value0))):(l=!0,!1):(l=!0,!1)}for(;!l;)i=a(s,o,n);return i}})(n)(!0)}}}},fR=$v(hR),dR=function(t){return{eq:fR(t)}},vR=Bv(Xv),gR=Wv(Xv),pR=function(t){return new iR(t,rR.value)},mR=function(t){var e=function(n){return function(r){if(n instanceof iR&&r instanceof iR)return vR(t(n.value0)(r.value0))(Hv.value)?new iR(r.value0,e(n)(r.value1)):new iR(n.value0,e(n.value1)(r));if(n instanceof rR)return r;if(r instanceof rR)return n;throw new Error("Failed pattern match at Data.List (line 466, column 3 - line 466, column 38): "+[n.constructor.name,r.constructor.name])}},n=function(t){return t instanceof iR&&t.value1 instanceof iR?new iR(e(t.value0)(t.value1.value0),n(t.value1.value1)):t},r=function(e){return e instanceof iR&&e.value1 instanceof iR?vR(t(e.value0)(e.value1.value0))(Hv.value)?i(e.value1.value0)(pR(e.value0))(e.value1.value1):s(e.value1.value0)((function(t){return new iR(e.value0,t)}))(e.value1.value1):pR(e)},i=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof iR&&vR(t(e)(s.value0))(Hv.value)?(o=s.value0,l=new iR(e,n),void(i=s.value1)):(a=!0,new iR(new iR(e,n),r(s)))}for(;!a;)s=u(o,l,i);return s}}},s=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof iR&&gR(t(e)(s.value0))(Hv.value)?(o=s.value0,l=function(t){return n(new iR(e,t))},void(i=s.value1)):(a=!0,new iR(n(pR(e)),r(s)))}for(;!a;)s=u(o,l,i);return s}}};return function(t){return function(t){var e,r=!1;function i(e){if(e instanceof iR&&e.value1 instanceof rR)return r=!0,e.value0;t=n(e)}for(;!r;)e=i(t);return e}(r(t))}},RR=function(t){var e=Kv(t);return function(t){return mR(e)(t)}},OR=function(){var t;return t=rR.value,function(e){var n,r=t,i=!1;function s(t,n){if(n instanceof rR)return i=!0,t;if(n instanceof iR)return r=new iR(n.value0,t),void(e=n.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=s(r,e);return n}}(),wR=function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof rR)return s=!0,OR(e);if(r instanceof iR)return t(r.value0)?(i=new iR(r.value0,e),void(n=r.value1)):(i=e,void(n=r.value1));throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[e.constructor.name,r.constructor.name])}for(;!s;)r=o(i,n);return r}}(rR.value)};const xR=function(t){return t.length},yR=function(t){return function(e){return e.substring(t)}},bR=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};const CR=function(t){throw new Error(t)};var kR=function(){return CR},TR=kR(),SR=function(t){return t()},AR=function(t){return SR((function(){return TR(t)}))},PR=bp(),ER=function(t){return PR(t)};const _R=isFinite;Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,Math.cos,Math.exp;const LR=Math.floor,DR=(Math.log,Math.round,Math.sign&&Math.sign,Math.sin,Math.sqrt);Math.tan,Math.trunc&&Math.trunc;var IR=Jv(tg),NR=ng(tg),QR=function(){return(t=cg.create,function(e){return function(n){return(0|n)===n?t(n):e}})(ug.value);var t}(),MR=function(t){return _R(t)?t>=IR?IR:t<=NR?NR:mg(0)(QR(t)):0},FR=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},$R=function(){function t(){}return t.value=new t,t}(),BR=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),UR=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),WR=function(t,e,n,r){if(n instanceof $R){if(r instanceof $R)return new BR(1,1,t,e,n,r);if(r instanceof BR)return new BR(1+r.value0|0,1+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 680, column 5 - line 684, column 39): "+[r.constructor.name])}if(n instanceof BR){if(r instanceof $R)return new BR(1+n.value0|0,1+n.value1|0,t,e,n,r);if(r instanceof BR)return new BR(1+(n.value0>r.value0?n.value0:r.value0)|0,(1+n.value1|0)+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 686, column 5 - line 690, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 678, column 32 - line 690, column 68): "+[n.constructor.name])},VR=function(t){return function(e){return new BR(1,1,t,e,$R.value,$R.value)}},HR=function(){var t=function(t){if(t instanceof $R)return 0;if(t instanceof BR)return t.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 735, column 12 - line 737, column 26): "+[t.constructor.name])},e=function(e,n,r,i,s,o,l){return o instanceof BR&&o.value0>t(l)?WR(o.value2,o.value3,WR(e,n,r,o.value4),WR(i,s,o.value5,l)):WR(i,s,WR(e,n,r,o),l)},n=function(e,n,r,i,s,o,l){return o instanceof BR&&t(s)<=o.value0?WR(o.value2,o.value3,WR(r,i,s,o.value4),WR(e,n,o.value5,l)):WR(r,i,s,WR(e,n,o,l))};return function(t,r,i,s){if(i instanceof $R)return s instanceof $R?VR(t)(r):s instanceof BR&&s.value0>1?e(t,r,i,s.value2,s.value3,s.value4,s.value5):WR(t,r,i,s);if(i instanceof BR){if(s instanceof BR){if(s.value0>(i.value0+1|0))return e(t,r,i,s.value2,s.value3,s.value4,s.value5);if(i.value0>(s.value0+1|0))return n(t,r,i.value2,i.value3,i.value4,i.value5,s)}return s instanceof $R&&i.value0>1?n(t,r,i.value2,i.value3,i.value4,i.value5,s):WR(t,r,i,s)}throw new Error("Failed pattern match at Data.Map.Internal (line 695, column 40 - line 716, column 34): "+[i.constructor.name])}}(),qR=FR("unsafeSplit","Data.Map.Internal",(function(){return function(t,e,n){if(n instanceof $R)return new UR(ug.value,$R.value,$R.value);if(n instanceof BR){var r=t(e)(n.value2);if(r instanceof Vv){var i=qR(771)(t,e,n.value4);return new UR(i.value0,i.value1,HR(n.value2,n.value3,i.value2,n.value5))}if(r instanceof Hv){i=qR(774)(t,e,n.value5);return new UR(i.value0,HR(n.value2,n.value3,n.value4,i.value1),i.value2)}if(r instanceof qv)return new UR(new cg(n.value3),n.value4,n.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 769, column 5 - line 777, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 765, column 34 - line 777, column 30): "+[n.constructor.name])}})),XR=qR(764),jR=FR("unsafeUnionWith","Data.Map.Internal",(function(){return function(t,e,n,r){if(n instanceof $R)return r;if(r instanceof $R)return n;if(r instanceof BR){var i=XR(t,r.value2,n),s=jR(787)(t,e,i.value1,r.value4),o=jR(788)(t,e,i.value2,r.value5);if(i.value0 instanceof cg)return HR(r.value2,e(i.value0.value0)(r.value3),s,o);if(i.value0 instanceof ug)return HR(r.value2,r.value3,s,o);throw new Error("Failed pattern match at Data.Map.Internal (line 789, column 5 - line 793, column 46): "+[i.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 782, column 42 - line 793, column 46): "+[n.constructor.name,r.constructor.name])}})),zR=jR(781),YR=function(t){var e=Kv(t);return function(t){return function(n){return function(r){return zR(e,t,n,r)}}}},GR=function(t){return YR(t)(ev)},ZR=function(t){var e=Kv(t);return function(t){return function(n){var r,i=!1;function s(r){if(r instanceof $R)return i=!0,ug.value;if(r instanceof BR){var s=e(t)(r.value2);if(s instanceof Vv)return void(n=r.value4);if(s instanceof Hv)return void(n=r.value5);if(s instanceof qv)return i=!0,new cg(r.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 281, column 7 - line 284, column 22): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 278, column 8 - line 284, column 22): "+[r.constructor.name])}for(;!i;)r=s(n);return r}}},KR=function(t){var e=Kv(t);return function(t){return function(n){var r=function(i){if(i instanceof $R)return VR(t)(n);if(i instanceof BR){var s=e(t)(i.value2);if(s instanceof Vv)return HR(i.value2,i.value3,r(i.value4),i.value5);if(s instanceof Hv)return HR(i.value2,i.value3,i.value4,r(i.value5));if(s instanceof qv)return new BR(i.value0,i.value1,t,n,i.value4,i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 469, column 7 - line 472, column 35): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 466, column 8 - line 472, column 35): "+[i.constructor.name])};return r}}},JR={foldr:function(t){return function(e){var n=FR("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof $R)return r;if(e instanceof BR)return n(170)(e.value4,t(e.value3)(n(170)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 167, column 26 - line 170, column 43): "+[e.constructor.name])}})),r=n(167);return function(t){return r(t,e)}}},foldl:function(t){return function(e){var n=FR("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof $R)return e;if(r instanceof BR)return n(176)(t(n(176)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 173, column 26 - line 176, column 43): "+[r.constructor.name])}})),r=n(173);return function(t){return r(e,t)}}},foldMap:function(t){var e=_g(t),n=dv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof $R)return e;if(i instanceof BR)return n(r(i.value4))(n(t(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 179, column 10 - line 182, column 28): "+[i.constructor.name])};return r}}},tO={foldrWithIndex:function(t){return function(e){var n=FR("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof $R)return r;if(e instanceof BR)return n(190)(e.value4,t(e.value2)(e.value3)(n(190)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 187, column 26 - line 190, column 45): "+[e.constructor.name])}})),r=n(187);return function(t){return r(t,e)}}},foldlWithIndex:function(t){return function(e){var n=FR("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof $R)return e;if(r instanceof BR)return n(196)(t(r.value2)(n(196)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 193, column 26 - line 196, column 45): "+[r.constructor.name])}})),r=n(193);return function(t){return r(e,t)}}},foldMapWithIndex:function(t){var e=_g(t),n=dv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof $R)return e;if(i instanceof BR)return n(r(i.value4))(n(t(i.value2)(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 199, column 10 - line 202, column 30): "+[i.constructor.name])};return r}},Foldable0:function(){return JR}},eO=function(){return eR(tO)((function(t){return function(e){return function(e){return new iR(t,e)}}}))(rR.value)}(),nO=function(){return $R.value}(),rO=function(t){var e=KR(t);return function(t){return Am(t)((function(t){return function(n){return e(n.value0)(n.value1)(t)}}))(nO)}};function iO(t){return{term:t,done:!1}}function sO(t){return t.done}function oO(t){return t.term}function lO(t){return function(e){return e.term=t,e.done=!0,t}}var aO=function(){function t(){}return t.value=new t,t}(),uO=function(){function t(){}return t.value=new t,t}(),cO=function(){function t(){}return t.value=new t,t}(),hO=function(){function t(){}return t.value=new t,t}(),fO=function(){function t(){}return t.value=new t,t}(),dO=function(){function t(){}return t.value=new t,t}(),vO=function(){function t(){}return t.value=new t,t}(),gO=function(){function t(){}return t.value=new t,t}(),pO=function(){function t(){}return t.value=new t,t}(),mO=function(){function t(){}return t.value=new t,t}(),RO=function(){function t(){}return t.value=new t,t}(),OO=function(){function t(){}return t.value=new t,t}(),wO=function(){function t(){}return t.value=new t,t}(),xO=function(){function t(){}return t.value=new t,t}(),yO=function(){function t(){}return t.value=new t,t}(),bO=function(){function t(){}return t.value=new t,t}(),CO=function(){function t(){}return t.value=new t,t}(),kO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),TO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),SO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),AO=function(){function t(){}return t.value=new t,t}(),PO=function(){function t(){}return t.value=new t,t}(),EO={show:function(t){if(t instanceof aO)return"-";if(t instanceof uO)return"!";if(t instanceof cO)return"#";if(t instanceof hO)return"√";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 23, column 1 - line 27, column 18): "+[t.constructor.name])}},_O={show:function(t){if(t instanceof fO)return"&&";if(t instanceof dO)return"||";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 61, column 1 - line 63, column 18): "+[t.constructor.name])}},LO=lg(_O),DO={show:function(t){if(t instanceof vO)return"==";if(t instanceof gO)return"!=";if(t instanceof pO)return"<";if(t instanceof mO)return"<=";if(t instanceof RO)return">";if(t instanceof OO)return">=";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 53, column 1 - line 59, column 18): "+[t.constructor.name])}},IO=lg(DO),NO={show:function(t){if(t instanceof wO)return"+";if(t instanceof xO)return"-";if(t instanceof yO)return"*";if(t instanceof bO)return"/";if(t instanceof CO)return"%";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 46, column 1 - line 51, column 17): "+[t.constructor.name])}},QO=lg(NO),MO={show:function(t){if(t instanceof kO)return QO(t.value0);if(t instanceof TO)return IO(t.value0);if(t instanceof SO)return LO(t.value0);if(t instanceof AO)return"++";if(t instanceof PO)return"!!";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 39, column 1 - line 44, column 23): "+[t.constructor.name])}},FO=function(t){return"("+t+")"},$O=function(t){return"["+t+"]"},BO=function(t){return"{ "+t+" }"},UO=function(t){return"<"+t+">"};function WO(t){return t.charCodeAt(0)}var VO=ng(eg),HO=Jv(eg),qO=function(t){return t.toEnum},XO=function(t){return t.fromEnum},jO=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},zO=function(t){return function(e){return function(n){return t(e(n)-1|0)}}},YO=function(t){return t>=WO(VO)&&t<=WO(HO)?new cg(function(t){return String.fromCharCode(t)}(t)):ug.value},GO={succ:jO(YO)(WO),pred:zO(YO)(WO),Ord0:function(){return Zv}},ZO=function(){return{cardinality:WO(HO)-WO(VO)|0,toEnum:YO,fromEnum:WO,Bounded0:function(){return eg},Enum1:function(){return GO}}}(),KO=qm(),JO=Zm(Qv),tw=function(){function t(){}return t.value=new t,t}(),ew=function(){function t(){}return t.value=new t,t}(),nw=function(){function t(){}return t.value=new t,t}(),rw=function(){function t(){}return t.value=new t,t}(),iw=function(){function t(){}return t.value=new t,t}(),sw=function(){function t(){}return t.value=new t,t}(),ow=function(){function t(){}return t.value=new t,t}(),lw=function(){function t(){}return t.value=new t,t}(),aw=function(){function t(){}return t.value=new t,t}(),uw=function(){function t(){}return t.value=new t,t}(),cw=function(){function t(){}return t.value=new t,t}(),hw=function(){function t(){}return t.value=new t,t}(),fw=function(){function t(){}return t.value=new t,t}(),dw=function(){function t(){}return t.value=new t,t}(),vw=function(){function t(){}return t.value=new t,t}(),gw=function(){function t(){}return t.value=new t,t}(),pw=function(){function t(){}return t.value=new t,t}(),mw=function(){function t(){}return t.value=new t,t}(),Rw=function(){function t(){}return t.value=new t,t}(),Ow=function(){function t(){}return t.value=new t,t}(),ww=function(){function t(){}return t.value=new t,t}(),xw=function(){function t(){}return t.value=new t,t}(),yw=function(){function t(){}return t.value=new t,t}(),bw=function(){function t(){}return t.value=new t,t}(),Cw=function(){function t(){}return t.value=new t,t}(),kw=function(){function t(){}return t.value=new t,t}(),Tw=function(){function t(){}return t.value=new t,t}(),Sw=function(){function t(){}return t.value=new t,t}(),Aw=function(){function t(){}return t.value=new t,t}(),Pw=function(){function t(){}return t.value=new t,t}(),Ew=function(){return{category:2,unicodeCat:yw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),_w=function(){return{category:67108864,unicodeCat:Cw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Lw=function(){return{category:33554432,unicodeCat:bw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Dw=8192,Iw=function(){return{category:Dw,unicodeCat:xw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Nw=function(){return{category:Dw,unicodeCat:xw.value,possible:1,updist:0,lowdist:26,titledist:0}}(),Qw=function(){return{category:Dw,unicodeCat:xw.value,possible:1,updist:-26,lowdist:0,titledist:-26}}(),Mw=function(){return{category:64,unicodeCat:Rw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Fw=function(){return{category:1024,unicodeCat:ww.value,possible:0,updist:0,lowdist:0,titledist:0}}(),$w=function(){return{category:8,unicodeCat:Ow.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Bw=function(){return{category:16,unicodeCat:dw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Uw=function(){return{category:4,unicodeCat:mw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Ww=function(){return{category:32768,unicodeCat:gw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Vw=262144,Hw=function(){return{category:Vw,unicodeCat:pw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),qw=function(){return{category:32,unicodeCat:vw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Xw=function(){return{category:128,unicodeCat:fw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),jw=function(){return{category:2048,unicodeCat:hw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),zw=131072,Yw=function(){return{category:zw,unicodeCat:cw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Gw=16777216,Zw=function(){return{category:Gw,unicodeCat:uw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Kw=function(){return{category:Gw,unicodeCat:uw.value,possible:1,updist:0,lowdist:16,titledist:0}}(),Jw=function(){return{category:Gw,unicodeCat:uw.value,possible:1,updist:-16,lowdist:0,titledist:-16}}(),tx=256,ex=function(){return{category:tx,unicodeCat:aw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),nx=2097152,rx=function(){return{category:nx,unicodeCat:sw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ix=function(){return{category:nx,unicodeCat:sw.value,possible:1,updist:84,lowdist:0,titledist:84}}(),sx=4194304,ox=function(){return{category:sx,unicodeCat:lw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),lx=8388608,ax=function(){return{category:lx,unicodeCat:ow.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ux=512,cx=function(){return{category:ux,unicodeCat:Pw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),hx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:8,titledist:0}}(),fx=function(){return{category:ux,unicodeCat:tw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),dx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-60,titledist:0}}(),vx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-7,titledist:0}}(),gx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:80,titledist:0}}(),px=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:15,titledist:0}}(),mx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:48,titledist:0}}(),Rx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:7264,titledist:0}}(),Ox=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:38864,titledist:0}}(),wx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-3008,titledist:0}}(),xx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-7615,titledist:0}}(),yx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),bx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-74,titledist:0}}(),Cx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-86,titledist:0}}(),kx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-100,titledist:0}}(),Tx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-112,titledist:0}}(),Sx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-128,titledist:0}}(),Ax=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-126,titledist:0}}(),Px=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-7517,titledist:0}}(),Ex=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-8383,titledist:0}}(),_x=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-8262,titledist:0}}(),Lx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:28,titledist:0}}(),Dx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10743,titledist:0}}(),Ix=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-3814,titledist:0}}(),Nx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10727,titledist:0}}(),Qx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10780,titledist:0}}(),Mx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10749,titledist:0}}(),Fx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10783,titledist:0}}(),$x=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10782,titledist:0}}(),Bx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-10815,titledist:0}}(),Ux=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-35332,titledist:0}}(),Wx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42280,titledist:0}}(),Vx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42308,titledist:0}}(),Hx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42319,titledist:0}}(),qx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42315,titledist:0}}(),Xx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42305,titledist:0}}(),jx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42258,titledist:0}}(),zx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42282,titledist:0}}(),Yx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42261,titledist:0}}(),Gx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:928,titledist:0}}(),Zx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-48,titledist:0}}(),Kx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-42307,titledist:0}}(),Jx=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-35384,titledist:0}}(),ty=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:40,titledist:0}}(),ey=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:34,titledist:0}}(),ny=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:1,titledist:0}}(),ry=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-199,titledist:0}}(),iy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-121,titledist:0}}(),sy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:210,titledist:0}}(),oy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:206,titledist:0}}(),ly=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:205,titledist:0}}(),ay=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:79,titledist:0}}(),uy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:202,titledist:0}}(),cy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:203,titledist:0}}(),hy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:207,titledist:0}}(),fy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:211,titledist:0}}(),dy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:209,titledist:0}}(),vy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:213,titledist:0}}(),gy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:214,titledist:0}}(),py=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:218,titledist:0}}(),my=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:217,titledist:0}}(),Ry=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:219,titledist:0}}(),Oy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:2,titledist:1}}(),wy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-97,titledist:0}}(),xy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-56,titledist:0}}(),yy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-130,titledist:0}}(),by=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:10795,titledist:0}}(),Cy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-163,titledist:0}}(),ky=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:10792,titledist:0}}(),Ty=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:-195,titledist:0}}(),Sy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:69,titledist:0}}(),Ay=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:71,titledist:0}}(),Py=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:32,titledist:0}}(),Ey=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:116,titledist:0}}(),_y=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:38,titledist:0}}(),Ly=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:37,titledist:0}}(),Dy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:64,titledist:0}}(),Iy=function(){return{category:ux,unicodeCat:tw.value,possible:1,updist:0,lowdist:63,titledist:0}}(),Ny=524288,Qy=function(){return{category:Ny,unicodeCat:nw.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),My=function(){return{category:Ny,unicodeCat:nw.value,possible:1,updist:0,lowdist:-9,titledist:0}}(),Fy=function(){return{category:Ny,unicodeCat:nw.value,possible:1,updist:-1,lowdist:1,titledist:0}}(),$y=16384,By=function(){return{category:$y,unicodeCat:iw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Uy=1048576,Wy=function(){return{category:Uy,unicodeCat:rw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Vy=4096,Hy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-37,lowdist:0,titledist:-37}}(),qy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-31,lowdist:0,titledist:-31}}(),Xy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-64,lowdist:0,titledist:-64}}(),jy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-63,lowdist:0,titledist:-63}}(),zy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-62,lowdist:0,titledist:-62}}(),Yy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-57,lowdist:0,titledist:-57}}(),Gy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-47,lowdist:0,titledist:-47}}(),Zy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-54,lowdist:0,titledist:-54}}(),Ky=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-8,lowdist:0,titledist:-8}}(),Jy=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-86,lowdist:0,titledist:-86}}(),tb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-80,lowdist:0,titledist:-80}}(),eb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:7,lowdist:0,titledist:7}}(),nb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-116,lowdist:0,titledist:-116}}(),rb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-96,lowdist:0,titledist:-96}}(),ib=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-32,lowdist:0,titledist:-32}}(),sb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-15,lowdist:0,titledist:-15}}(),ob=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-48,lowdist:0,titledist:-48}}(),lb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:3008,lowdist:0,titledist:0}}(),ab=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6254,lowdist:0,titledist:-6254}}(),ub=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6253,lowdist:0,titledist:-6253}}(),cb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6244,lowdist:0,titledist:-6244}}(),hb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6242,lowdist:0,titledist:-6242}}(),fb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6243,lowdist:0,titledist:-6243}}(),db=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6236,lowdist:0,titledist:-6236}}(),vb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-6181,lowdist:0,titledist:-6181}}(),gb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:35266,lowdist:0,titledist:35266}}(),pb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:35332,lowdist:0,titledist:35332}}(),mb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:3814,lowdist:0,titledist:3814}}(),Rb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:35384,lowdist:0,titledist:35384}}(),Ob=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-59,lowdist:0,titledist:-59}}(),wb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:8,lowdist:0,titledist:8}}(),xb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:74,lowdist:0,titledist:74}}(),yb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:86,lowdist:0,titledist:86}}(),bb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:100,lowdist:0,titledist:100}}(),Cb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:128,lowdist:0,titledist:128}}(),kb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:112,lowdist:0,titledist:112}}(),Tb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:126,lowdist:0,titledist:126}}(),Sb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:9,lowdist:0,titledist:9}}(),Ab=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-7205,lowdist:0,titledist:-7205}}(),Pb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-28,lowdist:0,titledist:-28}}(),Eb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-10795,lowdist:0,titledist:-10795}}(),_b=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-10792,lowdist:0,titledist:-10792}}(),Lb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:743,lowdist:0,titledist:743}}(),Db=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-7264,lowdist:0,titledist:-7264}}(),Ib=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:48,lowdist:0,titledist:48}}(),Nb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-928,lowdist:0,titledist:-928}}(),Qb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-38864,lowdist:0,titledist:-38864}}(),Mb=function(){return{category:Vy,unicodeCat:ew.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Fb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-40,lowdist:0,titledist:-40}}(),$b=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-34,lowdist:0,titledist:-34}}(),Bb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:121,lowdist:0,titledist:121}}(),Ub=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-1,lowdist:0,titledist:-1}}(),Wb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-232,lowdist:0,titledist:-232}}(),Vb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-300,lowdist:0,titledist:-300}}(),Hb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:195,lowdist:0,titledist:195}}(),qb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:97,lowdist:0,titledist:97}}(),Xb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:163,lowdist:0,titledist:163}}(),jb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:130,lowdist:0,titledist:130}}(),zb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:56,lowdist:0,titledist:56}}(),Yb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-2,lowdist:0,titledist:-1}}(),Gb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-79,lowdist:0,titledist:-79}}(),Zb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10815,lowdist:0,titledist:10815}}(),Kb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10783,lowdist:0,titledist:10783}}(),Jb=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10780,lowdist:0,titledist:10780}}(),tC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10782,lowdist:0,titledist:10782}}(),eC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-210,lowdist:0,titledist:-210}}(),nC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-206,lowdist:0,titledist:-206}}(),rC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-205,lowdist:0,titledist:-205}}(),iC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-202,lowdist:0,titledist:-202}}(),sC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-203,lowdist:0,titledist:-203}}(),oC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42319,lowdist:0,titledist:42319}}(),lC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42315,lowdist:0,titledist:42315}}(),aC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-207,lowdist:0,titledist:-207}}(),uC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42280,lowdist:0,titledist:42280}}(),cC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42308,lowdist:0,titledist:42308}}(),hC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-209,lowdist:0,titledist:-209}}(),fC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-211,lowdist:0,titledist:-211}}(),dC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10743,lowdist:0,titledist:10743}}(),vC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42305,lowdist:0,titledist:42305}}(),gC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10749,lowdist:0,titledist:10749}}(),pC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-213,lowdist:0,titledist:-213}}(),mC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-214,lowdist:0,titledist:-214}}(),RC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:10727,lowdist:0,titledist:10727}}(),OC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-218,lowdist:0,titledist:-218}}(),wC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42307,lowdist:0,titledist:42307}}(),xC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42282,lowdist:0,titledist:42282}}(),yC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-69,lowdist:0,titledist:-69}}(),bC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-217,lowdist:0,titledist:-217}}(),CC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-71,lowdist:0,titledist:-71}}(),kC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-219,lowdist:0,titledist:-219}}(),TC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42261,lowdist:0,titledist:42261}}(),SC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:42258,lowdist:0,titledist:42258}}(),AC=function(){return{category:Vy,unicodeCat:ew.value,possible:1,updist:-38,lowdist:0,titledist:-38}}(),PC=function(){return{category:134217728,unicodeCat:Sw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),EC=function(){return{category:268435456,unicodeCat:Aw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),_C=function(){return{category:65536,unicodeCat:Tw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),LC=function(){return{category:1,unicodeCat:kw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),DC=function(t){return function(e){return function(n){return function(r){var i;return(i=0,function(n){var s,o=i,l=!1;function a(i,s){if(i>s||i>=Xp(e))return l=!0,ug.value;var a=MR(LR((i+s|0)/2)),u=KO(e)(a),c=r(t)(u);return c instanceof qv?(l=!0,new cg(u)):c instanceof Hv?(o=a+1|0,void(n=s)):(o=i,void(n=a-1|0))}for(;!l;)s=a(o,n);return s})(n)}}}},IC=function(t){return function(e){return t.start>=e.start&&t.start<(e.start+e.length|0)?qv.value:t.start>e.start?Hv.value:Vv.value}},NC=function(t){return function(e){return function(n){var r=DC({start:e,length:1,convRule:cx})(t)(n)(IC);if(r instanceof ug)return ug.value;if(r instanceof cg)return new cg(r.value0.convRule);throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5612, column 5 - line 5614, column 60): "+[r.constructor.name])}}},QC=[{start:0,length:32,convRule:LC},{start:32,length:1,convRule:Ew},{start:33,length:3,convRule:Uw},{start:36,length:1,convRule:$w},{start:37,length:3,convRule:Uw},{start:40,length:1,convRule:Bw},{start:41,length:1,convRule:qw},{start:42,length:1,convRule:Uw},{start:43,length:1,convRule:Mw},{start:44,length:1,convRule:Uw},{start:45,length:1,convRule:Xw},{start:46,length:2,convRule:Uw},{start:48,length:10,convRule:ex},{start:58,length:2,convRule:Uw},{start:60,length:3,convRule:Mw},{start:63,length:2,convRule:Uw},{start:65,length:26,convRule:Py},{start:91,length:1,convRule:Bw},{start:92,length:1,convRule:Uw},{start:93,length:1,convRule:qw},{start:94,length:1,convRule:Fw},{start:95,length:1,convRule:jw},{start:96,length:1,convRule:Fw},{start:97,length:26,convRule:ib},{start:123,length:1,convRule:Bw},{start:124,length:1,convRule:Mw},{start:125,length:1,convRule:qw},{start:126,length:1,convRule:Mw},{start:127,length:33,convRule:LC},{start:160,length:1,convRule:Ew},{start:161,length:1,convRule:Uw},{start:162,length:4,convRule:$w},{start:166,length:1,convRule:Iw},{start:167,length:1,convRule:Uw},{start:168,length:1,convRule:Fw},{start:169,length:1,convRule:Iw},{start:170,length:1,convRule:By},{start:171,length:1,convRule:Ww},{start:172,length:1,convRule:Mw},{start:173,length:1,convRule:_C},{start:174,length:1,convRule:Iw},{start:175,length:1,convRule:Fw},{start:176,length:1,convRule:Iw},{start:177,length:1,convRule:Mw},{start:178,length:2,convRule:Yw},{start:180,length:1,convRule:Fw},{start:181,length:1,convRule:Lb},{start:182,length:2,convRule:Uw},{start:184,length:1,convRule:Fw},{start:185,length:1,convRule:Yw},{start:186,length:1,convRule:By},{start:187,length:1,convRule:Hw},{start:188,length:3,convRule:Yw},{start:191,length:1,convRule:Uw},{start:192,length:23,convRule:Py},{start:215,length:1,convRule:Mw},{start:216,length:7,convRule:Py},{start:223,length:1,convRule:Mb},{start:224,length:23,convRule:ib},{start:247,length:1,convRule:Mw},{start:248,length:7,convRule:ib},{start:255,length:1,convRule:Bb},{start:256,length:1,convRule:ny},{start:257,length:1,convRule:Ub},{start:258,length:1,convRule:ny},{start:259,length:1,convRule:Ub},{start:260,length:1,convRule:ny},{start:261,length:1,convRule:Ub},{start:262,length:1,convRule:ny},{start:263,length:1,convRule:Ub},{start:264,length:1,convRule:ny},{start:265,length:1,convRule:Ub},{start:266,length:1,convRule:ny},{start:267,length:1,convRule:Ub},{start:268,length:1,convRule:ny},{start:269,length:1,convRule:Ub},{start:270,length:1,convRule:ny},{start:271,length:1,convRule:Ub},{start:272,length:1,convRule:ny},{start:273,length:1,convRule:Ub},{start:274,length:1,convRule:ny},{start:275,length:1,convRule:Ub},{start:276,length:1,convRule:ny},{start:277,length:1,convRule:Ub},{start:278,length:1,convRule:ny},{start:279,length:1,convRule:Ub},{start:280,length:1,convRule:ny},{start:281,length:1,convRule:Ub},{start:282,length:1,convRule:ny},{start:283,length:1,convRule:Ub},{start:284,length:1,convRule:ny},{start:285,length:1,convRule:Ub},{start:286,length:1,convRule:ny},{start:287,length:1,convRule:Ub},{start:288,length:1,convRule:ny},{start:289,length:1,convRule:Ub},{start:290,length:1,convRule:ny},{start:291,length:1,convRule:Ub},{start:292,length:1,convRule:ny},{start:293,length:1,convRule:Ub},{start:294,length:1,convRule:ny},{start:295,length:1,convRule:Ub},{start:296,length:1,convRule:ny},{start:297,length:1,convRule:Ub},{start:298,length:1,convRule:ny},{start:299,length:1,convRule:Ub},{start:300,length:1,convRule:ny},{start:301,length:1,convRule:Ub},{start:302,length:1,convRule:ny},{start:303,length:1,convRule:Ub},{start:304,length:1,convRule:ry},{start:305,length:1,convRule:Wb},{start:306,length:1,convRule:ny},{start:307,length:1,convRule:Ub},{start:308,length:1,convRule:ny},{start:309,length:1,convRule:Ub},{start:310,length:1,convRule:ny},{start:311,length:1,convRule:Ub},{start:312,length:1,convRule:Mb},{start:313,length:1,convRule:ny},{start:314,length:1,convRule:Ub},{start:315,length:1,convRule:ny},{start:316,length:1,convRule:Ub},{start:317,length:1,convRule:ny},{start:318,length:1,convRule:Ub},{start:319,length:1,convRule:ny},{start:320,length:1,convRule:Ub},{start:321,length:1,convRule:ny},{start:322,length:1,convRule:Ub},{start:323,length:1,convRule:ny},{start:324,length:1,convRule:Ub},{start:325,length:1,convRule:ny},{start:326,length:1,convRule:Ub},{start:327,length:1,convRule:ny},{start:328,length:1,convRule:Ub},{start:329,length:1,convRule:Mb},{start:330,length:1,convRule:ny},{start:331,length:1,convRule:Ub},{start:332,length:1,convRule:ny},{start:333,length:1,convRule:Ub},{start:334,length:1,convRule:ny},{start:335,length:1,convRule:Ub},{start:336,length:1,convRule:ny},{start:337,length:1,convRule:Ub},{start:338,length:1,convRule:ny},{start:339,length:1,convRule:Ub},{start:340,length:1,convRule:ny},{start:341,length:1,convRule:Ub},{start:342,length:1,convRule:ny},{start:343,length:1,convRule:Ub},{start:344,length:1,convRule:ny},{start:345,length:1,convRule:Ub},{start:346,length:1,convRule:ny},{start:347,length:1,convRule:Ub},{start:348,length:1,convRule:ny},{start:349,length:1,convRule:Ub},{start:350,length:1,convRule:ny},{start:351,length:1,convRule:Ub},{start:352,length:1,convRule:ny},{start:353,length:1,convRule:Ub},{start:354,length:1,convRule:ny},{start:355,length:1,convRule:Ub},{start:356,length:1,convRule:ny},{start:357,length:1,convRule:Ub},{start:358,length:1,convRule:ny},{start:359,length:1,convRule:Ub},{start:360,length:1,convRule:ny},{start:361,length:1,convRule:Ub},{start:362,length:1,convRule:ny},{start:363,length:1,convRule:Ub},{start:364,length:1,convRule:ny},{start:365,length:1,convRule:Ub},{start:366,length:1,convRule:ny},{start:367,length:1,convRule:Ub},{start:368,length:1,convRule:ny},{start:369,length:1,convRule:Ub},{start:370,length:1,convRule:ny},{start:371,length:1,convRule:Ub},{start:372,length:1,convRule:ny},{start:373,length:1,convRule:Ub},{start:374,length:1,convRule:ny},{start:375,length:1,convRule:Ub},{start:376,length:1,convRule:iy},{start:377,length:1,convRule:ny},{start:378,length:1,convRule:Ub},{start:379,length:1,convRule:ny},{start:380,length:1,convRule:Ub},{start:381,length:1,convRule:ny},{start:382,length:1,convRule:Ub},{start:383,length:1,convRule:Vb},{start:384,length:1,convRule:Hb},{start:385,length:1,convRule:sy},{start:386,length:1,convRule:ny},{start:387,length:1,convRule:Ub},{start:388,length:1,convRule:ny},{start:389,length:1,convRule:Ub},{start:390,length:1,convRule:oy},{start:391,length:1,convRule:ny},{start:392,length:1,convRule:Ub},{start:393,length:2,convRule:ly},{start:395,length:1,convRule:ny},{start:396,length:1,convRule:Ub},{start:397,length:1,convRule:Mb},{start:398,length:1,convRule:ay},{start:399,length:1,convRule:uy},{start:400,length:1,convRule:cy},{start:401,length:1,convRule:ny},{start:402,length:1,convRule:Ub},{start:403,length:1,convRule:ly},{start:404,length:1,convRule:hy},{start:405,length:1,convRule:qb},{start:406,length:1,convRule:fy},{start:407,length:1,convRule:dy},{start:408,length:1,convRule:ny},{start:409,length:1,convRule:Ub},{start:410,length:1,convRule:Xb},{start:411,length:1,convRule:Mb},{start:412,length:1,convRule:fy},{start:413,length:1,convRule:vy},{start:414,length:1,convRule:jb},{start:415,length:1,convRule:gy},{start:416,length:1,convRule:ny},{start:417,length:1,convRule:Ub},{start:418,length:1,convRule:ny},{start:419,length:1,convRule:Ub},{start:420,length:1,convRule:ny},{start:421,length:1,convRule:Ub},{start:422,length:1,convRule:py},{start:423,length:1,convRule:ny},{start:424,length:1,convRule:Ub},{start:425,length:1,convRule:py},{start:426,length:2,convRule:Mb},{start:428,length:1,convRule:ny},{start:429,length:1,convRule:Ub},{start:430,length:1,convRule:py},{start:431,length:1,convRule:ny},{start:432,length:1,convRule:Ub},{start:433,length:2,convRule:my},{start:435,length:1,convRule:ny},{start:436,length:1,convRule:Ub},{start:437,length:1,convRule:ny},{start:438,length:1,convRule:Ub},{start:439,length:1,convRule:Ry},{start:440,length:1,convRule:ny},{start:441,length:1,convRule:Ub},{start:442,length:1,convRule:Mb},{start:443,length:1,convRule:By},{start:444,length:1,convRule:ny},{start:445,length:1,convRule:Ub},{start:446,length:1,convRule:Mb},{start:447,length:1,convRule:zb},{start:448,length:4,convRule:By},{start:452,length:1,convRule:Oy},{start:453,length:1,convRule:Fy},{start:454,length:1,convRule:Yb},{start:455,length:1,convRule:Oy},{start:456,length:1,convRule:Fy},{start:457,length:1,convRule:Yb},{start:458,length:1,convRule:Oy},{start:459,length:1,convRule:Fy},{start:460,length:1,convRule:Yb},{start:461,length:1,convRule:ny},{start:462,length:1,convRule:Ub},{start:463,length:1,convRule:ny},{start:464,length:1,convRule:Ub},{start:465,length:1,convRule:ny},{start:466,length:1,convRule:Ub},{start:467,length:1,convRule:ny},{start:468,length:1,convRule:Ub},{start:469,length:1,convRule:ny},{start:470,length:1,convRule:Ub},{start:471,length:1,convRule:ny},{start:472,length:1,convRule:Ub},{start:473,length:1,convRule:ny},{start:474,length:1,convRule:Ub},{start:475,length:1,convRule:ny},{start:476,length:1,convRule:Ub},{start:477,length:1,convRule:Gb},{start:478,length:1,convRule:ny},{start:479,length:1,convRule:Ub},{start:480,length:1,convRule:ny},{start:481,length:1,convRule:Ub},{start:482,length:1,convRule:ny},{start:483,length:1,convRule:Ub},{start:484,length:1,convRule:ny},{start:485,length:1,convRule:Ub},{start:486,length:1,convRule:ny},{start:487,length:1,convRule:Ub},{start:488,length:1,convRule:ny},{start:489,length:1,convRule:Ub},{start:490,length:1,convRule:ny},{start:491,length:1,convRule:Ub},{start:492,length:1,convRule:ny},{start:493,length:1,convRule:Ub},{start:494,length:1,convRule:ny},{start:495,length:1,convRule:Ub},{start:496,length:1,convRule:Mb},{start:497,length:1,convRule:Oy},{start:498,length:1,convRule:Fy},{start:499,length:1,convRule:Yb},{start:500,length:1,convRule:ny},{start:501,length:1,convRule:Ub},{start:502,length:1,convRule:wy},{start:503,length:1,convRule:xy},{start:504,length:1,convRule:ny},{start:505,length:1,convRule:Ub},{start:506,length:1,convRule:ny},{start:507,length:1,convRule:Ub},{start:508,length:1,convRule:ny},{start:509,length:1,convRule:Ub},{start:510,length:1,convRule:ny},{start:511,length:1,convRule:Ub},{start:512,length:1,convRule:ny},{start:513,length:1,convRule:Ub},{start:514,length:1,convRule:ny},{start:515,length:1,convRule:Ub},{start:516,length:1,convRule:ny},{start:517,length:1,convRule:Ub},{start:518,length:1,convRule:ny},{start:519,length:1,convRule:Ub},{start:520,length:1,convRule:ny},{start:521,length:1,convRule:Ub},{start:522,length:1,convRule:ny},{start:523,length:1,convRule:Ub},{start:524,length:1,convRule:ny},{start:525,length:1,convRule:Ub},{start:526,length:1,convRule:ny},{start:527,length:1,convRule:Ub},{start:528,length:1,convRule:ny},{start:529,length:1,convRule:Ub},{start:530,length:1,convRule:ny},{start:531,length:1,convRule:Ub},{start:532,length:1,convRule:ny},{start:533,length:1,convRule:Ub},{start:534,length:1,convRule:ny},{start:535,length:1,convRule:Ub},{start:536,length:1,convRule:ny},{start:537,length:1,convRule:Ub},{start:538,length:1,convRule:ny},{start:539,length:1,convRule:Ub},{start:540,length:1,convRule:ny},{start:541,length:1,convRule:Ub},{start:542,length:1,convRule:ny},{start:543,length:1,convRule:Ub},{start:544,length:1,convRule:yy},{start:545,length:1,convRule:Mb},{start:546,length:1,convRule:ny},{start:547,length:1,convRule:Ub},{start:548,length:1,convRule:ny},{start:549,length:1,convRule:Ub},{start:550,length:1,convRule:ny},{start:551,length:1,convRule:Ub},{start:552,length:1,convRule:ny},{start:553,length:1,convRule:Ub},{start:554,length:1,convRule:ny},{start:555,length:1,convRule:Ub},{start:556,length:1,convRule:ny},{start:557,length:1,convRule:Ub},{start:558,length:1,convRule:ny},{start:559,length:1,convRule:Ub},{start:560,length:1,convRule:ny},{start:561,length:1,convRule:Ub},{start:562,length:1,convRule:ny},{start:563,length:1,convRule:Ub},{start:564,length:6,convRule:Mb},{start:570,length:1,convRule:by},{start:571,length:1,convRule:ny},{start:572,length:1,convRule:Ub},{start:573,length:1,convRule:Cy},{start:574,length:1,convRule:ky},{start:575,length:2,convRule:Zb},{start:577,length:1,convRule:ny},{start:578,length:1,convRule:Ub},{start:579,length:1,convRule:Ty},{start:580,length:1,convRule:Sy},{start:581,length:1,convRule:Ay},{start:582,length:1,convRule:ny},{start:583,length:1,convRule:Ub},{start:584,length:1,convRule:ny},{start:585,length:1,convRule:Ub},{start:586,length:1,convRule:ny},{start:587,length:1,convRule:Ub},{start:588,length:1,convRule:ny},{start:589,length:1,convRule:Ub},{start:590,length:1,convRule:ny},{start:591,length:1,convRule:Ub},{start:592,length:1,convRule:Kb},{start:593,length:1,convRule:Jb},{start:594,length:1,convRule:tC},{start:595,length:1,convRule:eC},{start:596,length:1,convRule:nC},{start:597,length:1,convRule:Mb},{start:598,length:2,convRule:rC},{start:600,length:1,convRule:Mb},{start:601,length:1,convRule:iC},{start:602,length:1,convRule:Mb},{start:603,length:1,convRule:sC},{start:604,length:1,convRule:oC},{start:605,length:3,convRule:Mb},{start:608,length:1,convRule:rC},{start:609,length:1,convRule:lC},{start:610,length:1,convRule:Mb},{start:611,length:1,convRule:aC},{start:612,length:1,convRule:Mb},{start:613,length:1,convRule:uC},{start:614,length:1,convRule:cC},{start:615,length:1,convRule:Mb},{start:616,length:1,convRule:hC},{start:617,length:1,convRule:fC},{start:618,length:1,convRule:cC},{start:619,length:1,convRule:dC},{start:620,length:1,convRule:vC},{start:621,length:2,convRule:Mb},{start:623,length:1,convRule:fC},{start:624,length:1,convRule:Mb},{start:625,length:1,convRule:gC},{start:626,length:1,convRule:pC},{start:627,length:2,convRule:Mb},{start:629,length:1,convRule:mC},{start:630,length:7,convRule:Mb},{start:637,length:1,convRule:RC},{start:638,length:2,convRule:Mb},{start:640,length:1,convRule:OC},{start:641,length:1,convRule:Mb},{start:642,length:1,convRule:wC},{start:643,length:1,convRule:OC},{start:644,length:3,convRule:Mb},{start:647,length:1,convRule:xC},{start:648,length:1,convRule:OC},{start:649,length:1,convRule:yC},{start:650,length:2,convRule:bC},{start:652,length:1,convRule:CC},{start:653,length:5,convRule:Mb},{start:658,length:1,convRule:kC},{start:659,length:1,convRule:Mb},{start:660,length:1,convRule:By},{start:661,length:8,convRule:Mb},{start:669,length:1,convRule:TC},{start:670,length:1,convRule:SC},{start:671,length:17,convRule:Mb},{start:688,length:18,convRule:Wy},{start:706,length:4,convRule:Fw},{start:710,length:12,convRule:Wy},{start:722,length:14,convRule:Fw},{start:736,length:5,convRule:Wy},{start:741,length:7,convRule:Fw},{start:748,length:1,convRule:Wy},{start:749,length:1,convRule:Fw},{start:750,length:1,convRule:Wy},{start:751,length:17,convRule:Fw},{start:768,length:69,convRule:rx},{start:837,length:1,convRule:ix},{start:838,length:42,convRule:rx},{start:880,length:1,convRule:ny},{start:881,length:1,convRule:Ub},{start:882,length:1,convRule:ny},{start:883,length:1,convRule:Ub},{start:884,length:1,convRule:Wy},{start:885,length:1,convRule:Fw},{start:886,length:1,convRule:ny},{start:887,length:1,convRule:Ub},{start:890,length:1,convRule:Wy},{start:891,length:3,convRule:jb},{start:894,length:1,convRule:Uw},{start:895,length:1,convRule:Ey},{start:900,length:2,convRule:Fw},{start:902,length:1,convRule:_y},{start:903,length:1,convRule:Uw},{start:904,length:3,convRule:Ly},{start:908,length:1,convRule:Dy},{start:910,length:2,convRule:Iy},{start:912,length:1,convRule:Mb},{start:913,length:17,convRule:Py},{start:931,length:9,convRule:Py},{start:940,length:1,convRule:AC},{start:941,length:3,convRule:Hy},{start:944,length:1,convRule:Mb},{start:945,length:17,convRule:ib},{start:962,length:1,convRule:qy},{start:963,length:9,convRule:ib},{start:972,length:1,convRule:Xy},{start:973,length:2,convRule:jy},{start:975,length:1,convRule:hx},{start:976,length:1,convRule:zy},{start:977,length:1,convRule:Yy},{start:978,length:3,convRule:fx},{start:981,length:1,convRule:Gy},{start:982,length:1,convRule:Zy},{start:983,length:1,convRule:Ky},{start:984,length:1,convRule:ny},{start:985,length:1,convRule:Ub},{start:986,length:1,convRule:ny},{start:987,length:1,convRule:Ub},{start:988,length:1,convRule:ny},{start:989,length:1,convRule:Ub},{start:990,length:1,convRule:ny},{start:991,length:1,convRule:Ub},{start:992,length:1,convRule:ny},{start:993,length:1,convRule:Ub},{start:994,length:1,convRule:ny},{start:995,length:1,convRule:Ub},{start:996,length:1,convRule:ny},{start:997,length:1,convRule:Ub},{start:998,length:1,convRule:ny},{start:999,length:1,convRule:Ub},{start:1e3,length:1,convRule:ny},{start:1001,length:1,convRule:Ub},{start:1002,length:1,convRule:ny},{start:1003,length:1,convRule:Ub},{start:1004,length:1,convRule:ny},{start:1005,length:1,convRule:Ub},{start:1006,length:1,convRule:ny},{start:1007,length:1,convRule:Ub},{start:1008,length:1,convRule:Jy},{start:1009,length:1,convRule:tb},{start:1010,length:1,convRule:eb},{start:1011,length:1,convRule:nb},{start:1012,length:1,convRule:dx},{start:1013,length:1,convRule:rb},{start:1014,length:1,convRule:Mw},{start:1015,length:1,convRule:ny},{start:1016,length:1,convRule:Ub},{start:1017,length:1,convRule:vx},{start:1018,length:1,convRule:ny},{start:1019,length:1,convRule:Ub},{start:1020,length:1,convRule:Mb},{start:1021,length:3,convRule:yy},{start:1024,length:16,convRule:gx},{start:1040,length:32,convRule:Py},{start:1072,length:32,convRule:ib},{start:1104,length:16,convRule:tb},{start:1120,length:1,convRule:ny},{start:1121,length:1,convRule:Ub},{start:1122,length:1,convRule:ny},{start:1123,length:1,convRule:Ub},{start:1124,length:1,convRule:ny},{start:1125,length:1,convRule:Ub},{start:1126,length:1,convRule:ny},{start:1127,length:1,convRule:Ub},{start:1128,length:1,convRule:ny},{start:1129,length:1,convRule:Ub},{start:1130,length:1,convRule:ny},{start:1131,length:1,convRule:Ub},{start:1132,length:1,convRule:ny},{start:1133,length:1,convRule:Ub},{start:1134,length:1,convRule:ny},{start:1135,length:1,convRule:Ub},{start:1136,length:1,convRule:ny},{start:1137,length:1,convRule:Ub},{start:1138,length:1,convRule:ny},{start:1139,length:1,convRule:Ub},{start:1140,length:1,convRule:ny},{start:1141,length:1,convRule:Ub},{start:1142,length:1,convRule:ny},{start:1143,length:1,convRule:Ub},{start:1144,length:1,convRule:ny},{start:1145,length:1,convRule:Ub},{start:1146,length:1,convRule:ny},{start:1147,length:1,convRule:Ub},{start:1148,length:1,convRule:ny},{start:1149,length:1,convRule:Ub},{start:1150,length:1,convRule:ny},{start:1151,length:1,convRule:Ub},{start:1152,length:1,convRule:ny},{start:1153,length:1,convRule:Ub},{start:1154,length:1,convRule:Iw},{start:1155,length:5,convRule:rx},{start:1160,length:2,convRule:ox},{start:1162,length:1,convRule:ny},{start:1163,length:1,convRule:Ub},{start:1164,length:1,convRule:ny},{start:1165,length:1,convRule:Ub},{start:1166,length:1,convRule:ny},{start:1167,length:1,convRule:Ub},{start:1168,length:1,convRule:ny},{start:1169,length:1,convRule:Ub},{start:1170,length:1,convRule:ny},{start:1171,length:1,convRule:Ub},{start:1172,length:1,convRule:ny},{start:1173,length:1,convRule:Ub},{start:1174,length:1,convRule:ny},{start:1175,length:1,convRule:Ub},{start:1176,length:1,convRule:ny},{start:1177,length:1,convRule:Ub},{start:1178,length:1,convRule:ny},{start:1179,length:1,convRule:Ub},{start:1180,length:1,convRule:ny},{start:1181,length:1,convRule:Ub},{start:1182,length:1,convRule:ny},{start:1183,length:1,convRule:Ub},{start:1184,length:1,convRule:ny},{start:1185,length:1,convRule:Ub},{start:1186,length:1,convRule:ny},{start:1187,length:1,convRule:Ub},{start:1188,length:1,convRule:ny},{start:1189,length:1,convRule:Ub},{start:1190,length:1,convRule:ny},{start:1191,length:1,convRule:Ub},{start:1192,length:1,convRule:ny},{start:1193,length:1,convRule:Ub},{start:1194,length:1,convRule:ny},{start:1195,length:1,convRule:Ub},{start:1196,length:1,convRule:ny},{start:1197,length:1,convRule:Ub},{start:1198,length:1,convRule:ny},{start:1199,length:1,convRule:Ub},{start:1200,length:1,convRule:ny},{start:1201,length:1,convRule:Ub},{start:1202,length:1,convRule:ny},{start:1203,length:1,convRule:Ub},{start:1204,length:1,convRule:ny},{start:1205,length:1,convRule:Ub},{start:1206,length:1,convRule:ny},{start:1207,length:1,convRule:Ub},{start:1208,length:1,convRule:ny},{start:1209,length:1,convRule:Ub},{start:1210,length:1,convRule:ny},{start:1211,length:1,convRule:Ub},{start:1212,length:1,convRule:ny},{start:1213,length:1,convRule:Ub},{start:1214,length:1,convRule:ny},{start:1215,length:1,convRule:Ub},{start:1216,length:1,convRule:px},{start:1217,length:1,convRule:ny},{start:1218,length:1,convRule:Ub},{start:1219,length:1,convRule:ny},{start:1220,length:1,convRule:Ub},{start:1221,length:1,convRule:ny},{start:1222,length:1,convRule:Ub},{start:1223,length:1,convRule:ny},{start:1224,length:1,convRule:Ub},{start:1225,length:1,convRule:ny},{start:1226,length:1,convRule:Ub},{start:1227,length:1,convRule:ny},{start:1228,length:1,convRule:Ub},{start:1229,length:1,convRule:ny},{start:1230,length:1,convRule:Ub},{start:1231,length:1,convRule:sb},{start:1232,length:1,convRule:ny},{start:1233,length:1,convRule:Ub},{start:1234,length:1,convRule:ny},{start:1235,length:1,convRule:Ub},{start:1236,length:1,convRule:ny},{start:1237,length:1,convRule:Ub},{start:1238,length:1,convRule:ny},{start:1239,length:1,convRule:Ub},{start:1240,length:1,convRule:ny},{start:1241,length:1,convRule:Ub},{start:1242,length:1,convRule:ny},{start:1243,length:1,convRule:Ub},{start:1244,length:1,convRule:ny},{start:1245,length:1,convRule:Ub},{start:1246,length:1,convRule:ny},{start:1247,length:1,convRule:Ub},{start:1248,length:1,convRule:ny},{start:1249,length:1,convRule:Ub},{start:1250,length:1,convRule:ny},{start:1251,length:1,convRule:Ub},{start:1252,length:1,convRule:ny},{start:1253,length:1,convRule:Ub},{start:1254,length:1,convRule:ny},{start:1255,length:1,convRule:Ub},{start:1256,length:1,convRule:ny},{start:1257,length:1,convRule:Ub},{start:1258,length:1,convRule:ny},{start:1259,length:1,convRule:Ub},{start:1260,length:1,convRule:ny},{start:1261,length:1,convRule:Ub},{start:1262,length:1,convRule:ny},{start:1263,length:1,convRule:Ub},{start:1264,length:1,convRule:ny},{start:1265,length:1,convRule:Ub},{start:1266,length:1,convRule:ny},{start:1267,length:1,convRule:Ub},{start:1268,length:1,convRule:ny},{start:1269,length:1,convRule:Ub},{start:1270,length:1,convRule:ny},{start:1271,length:1,convRule:Ub},{start:1272,length:1,convRule:ny},{start:1273,length:1,convRule:Ub},{start:1274,length:1,convRule:ny},{start:1275,length:1,convRule:Ub},{start:1276,length:1,convRule:ny},{start:1277,length:1,convRule:Ub},{start:1278,length:1,convRule:ny},{start:1279,length:1,convRule:Ub},{start:1280,length:1,convRule:ny},{start:1281,length:1,convRule:Ub},{start:1282,length:1,convRule:ny},{start:1283,length:1,convRule:Ub},{start:1284,length:1,convRule:ny},{start:1285,length:1,convRule:Ub},{start:1286,length:1,convRule:ny},{start:1287,length:1,convRule:Ub},{start:1288,length:1,convRule:ny},{start:1289,length:1,convRule:Ub},{start:1290,length:1,convRule:ny},{start:1291,length:1,convRule:Ub},{start:1292,length:1,convRule:ny},{start:1293,length:1,convRule:Ub},{start:1294,length:1,convRule:ny},{start:1295,length:1,convRule:Ub},{start:1296,length:1,convRule:ny},{start:1297,length:1,convRule:Ub},{start:1298,length:1,convRule:ny},{start:1299,length:1,convRule:Ub},{start:1300,length:1,convRule:ny},{start:1301,length:1,convRule:Ub},{start:1302,length:1,convRule:ny},{start:1303,length:1,convRule:Ub},{start:1304,length:1,convRule:ny},{start:1305,length:1,convRule:Ub},{start:1306,length:1,convRule:ny},{start:1307,length:1,convRule:Ub},{start:1308,length:1,convRule:ny},{start:1309,length:1,convRule:Ub},{start:1310,length:1,convRule:ny},{start:1311,length:1,convRule:Ub},{start:1312,length:1,convRule:ny},{start:1313,length:1,convRule:Ub},{start:1314,length:1,convRule:ny},{start:1315,length:1,convRule:Ub},{start:1316,length:1,convRule:ny},{start:1317,length:1,convRule:Ub},{start:1318,length:1,convRule:ny},{start:1319,length:1,convRule:Ub},{start:1320,length:1,convRule:ny},{start:1321,length:1,convRule:Ub},{start:1322,length:1,convRule:ny},{start:1323,length:1,convRule:Ub},{start:1324,length:1,convRule:ny},{start:1325,length:1,convRule:Ub},{start:1326,length:1,convRule:ny},{start:1327,length:1,convRule:Ub},{start:1329,length:38,convRule:mx},{start:1369,length:1,convRule:Wy},{start:1370,length:6,convRule:Uw},{start:1376,length:1,convRule:Mb},{start:1377,length:38,convRule:ob},{start:1415,length:2,convRule:Mb},{start:1417,length:1,convRule:Uw},{start:1418,length:1,convRule:Xw},{start:1421,length:2,convRule:Iw},{start:1423,length:1,convRule:$w},{start:1425,length:45,convRule:rx},{start:1470,length:1,convRule:Xw},{start:1471,length:1,convRule:rx},{start:1472,length:1,convRule:Uw},{start:1473,length:2,convRule:rx},{start:1475,length:1,convRule:Uw},{start:1476,length:2,convRule:rx},{start:1478,length:1,convRule:Uw},{start:1479,length:1,convRule:rx},{start:1488,length:27,convRule:By},{start:1519,length:4,convRule:By},{start:1523,length:2,convRule:Uw},{start:1536,length:6,convRule:_C},{start:1542,length:3,convRule:Mw},{start:1545,length:2,convRule:Uw},{start:1547,length:1,convRule:$w},{start:1548,length:2,convRule:Uw},{start:1550,length:2,convRule:Iw},{start:1552,length:11,convRule:rx},{start:1563,length:1,convRule:Uw},{start:1564,length:1,convRule:_C},{start:1566,length:2,convRule:Uw},{start:1568,length:32,convRule:By},{start:1600,length:1,convRule:Wy},{start:1601,length:10,convRule:By},{start:1611,length:21,convRule:rx},{start:1632,length:10,convRule:ex},{start:1642,length:4,convRule:Uw},{start:1646,length:2,convRule:By},{start:1648,length:1,convRule:rx},{start:1649,length:99,convRule:By},{start:1748,length:1,convRule:Uw},{start:1749,length:1,convRule:By},{start:1750,length:7,convRule:rx},{start:1757,length:1,convRule:_C},{start:1758,length:1,convRule:Iw},{start:1759,length:6,convRule:rx},{start:1765,length:2,convRule:Wy},{start:1767,length:2,convRule:rx},{start:1769,length:1,convRule:Iw},{start:1770,length:4,convRule:rx},{start:1774,length:2,convRule:By},{start:1776,length:10,convRule:ex},{start:1786,length:3,convRule:By},{start:1789,length:2,convRule:Iw},{start:1791,length:1,convRule:By},{start:1792,length:14,convRule:Uw},{start:1807,length:1,convRule:_C},{start:1808,length:1,convRule:By},{start:1809,length:1,convRule:rx},{start:1810,length:30,convRule:By},{start:1840,length:27,convRule:rx},{start:1869,length:89,convRule:By},{start:1958,length:11,convRule:rx},{start:1969,length:1,convRule:By},{start:1984,length:10,convRule:ex},{start:1994,length:33,convRule:By},{start:2027,length:9,convRule:rx},{start:2036,length:2,convRule:Wy},{start:2038,length:1,convRule:Iw},{start:2039,length:3,convRule:Uw},{start:2042,length:1,convRule:Wy},{start:2045,length:1,convRule:rx},{start:2046,length:2,convRule:$w},{start:2048,length:22,convRule:By},{start:2070,length:4,convRule:rx},{start:2074,length:1,convRule:Wy},{start:2075,length:9,convRule:rx},{start:2084,length:1,convRule:Wy},{start:2085,length:3,convRule:rx},{start:2088,length:1,convRule:Wy},{start:2089,length:5,convRule:rx},{start:2096,length:15,convRule:Uw},{start:2112,length:25,convRule:By},{start:2137,length:3,convRule:rx},{start:2142,length:1,convRule:Uw},{start:2144,length:11,convRule:By},{start:2208,length:21,convRule:By},{start:2230,length:18,convRule:By},{start:2259,length:15,convRule:rx},{start:2274,length:1,convRule:_C},{start:2275,length:32,convRule:rx},{start:2307,length:1,convRule:ax},{start:2308,length:54,convRule:By},{start:2362,length:1,convRule:rx},{start:2363,length:1,convRule:ax},{start:2364,length:1,convRule:rx},{start:2365,length:1,convRule:By},{start:2366,length:3,convRule:ax},{start:2369,length:8,convRule:rx},{start:2377,length:4,convRule:ax},{start:2381,length:1,convRule:rx},{start:2382,length:2,convRule:ax},{start:2384,length:1,convRule:By},{start:2385,length:7,convRule:rx},{start:2392,length:10,convRule:By},{start:2402,length:2,convRule:rx},{start:2404,length:2,convRule:Uw},{start:2406,length:10,convRule:ex},{start:2416,length:1,convRule:Uw},{start:2417,length:1,convRule:Wy},{start:2418,length:15,convRule:By},{start:2433,length:1,convRule:rx},{start:2434,length:2,convRule:ax},{start:2437,length:8,convRule:By},{start:2447,length:2,convRule:By},{start:2451,length:22,convRule:By},{start:2474,length:7,convRule:By},{start:2482,length:1,convRule:By},{start:2486,length:4,convRule:By},{start:2492,length:1,convRule:rx},{start:2493,length:1,convRule:By},{start:2494,length:3,convRule:ax},{start:2497,length:4,convRule:rx},{start:2503,length:2,convRule:ax},{start:2507,length:2,convRule:ax},{start:2509,length:1,convRule:rx},{start:2510,length:1,convRule:By},{start:2519,length:1,convRule:ax},{start:2524,length:2,convRule:By},{start:2527,length:3,convRule:By},{start:2530,length:2,convRule:rx},{start:2534,length:10,convRule:ex},{start:2544,length:2,convRule:By},{start:2546,length:2,convRule:$w},{start:2548,length:6,convRule:Yw},{start:2554,length:1,convRule:Iw},{start:2555,length:1,convRule:$w},{start:2556,length:1,convRule:By},{start:2557,length:1,convRule:Uw},{start:2558,length:1,convRule:rx},{start:2561,length:2,convRule:rx},{start:2563,length:1,convRule:ax},{start:2565,length:6,convRule:By},{start:2575,length:2,convRule:By},{start:2579,length:22,convRule:By},{start:2602,length:7,convRule:By},{start:2610,length:2,convRule:By},{start:2613,length:2,convRule:By},{start:2616,length:2,convRule:By},{start:2620,length:1,convRule:rx},{start:2622,length:3,convRule:ax},{start:2625,length:2,convRule:rx},{start:2631,length:2,convRule:rx},{start:2635,length:3,convRule:rx},{start:2641,length:1,convRule:rx},{start:2649,length:4,convRule:By},{start:2654,length:1,convRule:By},{start:2662,length:10,convRule:ex},{start:2672,length:2,convRule:rx},{start:2674,length:3,convRule:By},{start:2677,length:1,convRule:rx},{start:2678,length:1,convRule:Uw},{start:2689,length:2,convRule:rx},{start:2691,length:1,convRule:ax},{start:2693,length:9,convRule:By},{start:2703,length:3,convRule:By},{start:2707,length:22,convRule:By},{start:2730,length:7,convRule:By},{start:2738,length:2,convRule:By},{start:2741,length:5,convRule:By},{start:2748,length:1,convRule:rx},{start:2749,length:1,convRule:By},{start:2750,length:3,convRule:ax},{start:2753,length:5,convRule:rx},{start:2759,length:2,convRule:rx},{start:2761,length:1,convRule:ax},{start:2763,length:2,convRule:ax},{start:2765,length:1,convRule:rx},{start:2768,length:1,convRule:By},{start:2784,length:2,convRule:By},{start:2786,length:2,convRule:rx},{start:2790,length:10,convRule:ex},{start:2800,length:1,convRule:Uw},{start:2801,length:1,convRule:$w},{start:2809,length:1,convRule:By},{start:2810,length:6,convRule:rx},{start:2817,length:1,convRule:rx},{start:2818,length:2,convRule:ax},{start:2821,length:8,convRule:By},{start:2831,length:2,convRule:By},{start:2835,length:22,convRule:By},{start:2858,length:7,convRule:By},{start:2866,length:2,convRule:By},{start:2869,length:5,convRule:By},{start:2876,length:1,convRule:rx},{start:2877,length:1,convRule:By},{start:2878,length:1,convRule:ax},{start:2879,length:1,convRule:rx},{start:2880,length:1,convRule:ax},{start:2881,length:4,convRule:rx},{start:2887,length:2,convRule:ax},{start:2891,length:2,convRule:ax},{start:2893,length:1,convRule:rx},{start:2901,length:2,convRule:rx},{start:2903,length:1,convRule:ax},{start:2908,length:2,convRule:By},{start:2911,length:3,convRule:By},{start:2914,length:2,convRule:rx},{start:2918,length:10,convRule:ex},{start:2928,length:1,convRule:Iw},{start:2929,length:1,convRule:By},{start:2930,length:6,convRule:Yw},{start:2946,length:1,convRule:rx},{start:2947,length:1,convRule:By},{start:2949,length:6,convRule:By},{start:2958,length:3,convRule:By},{start:2962,length:4,convRule:By},{start:2969,length:2,convRule:By},{start:2972,length:1,convRule:By},{start:2974,length:2,convRule:By},{start:2979,length:2,convRule:By},{start:2984,length:3,convRule:By},{start:2990,length:12,convRule:By},{start:3006,length:2,convRule:ax},{start:3008,length:1,convRule:rx},{start:3009,length:2,convRule:ax},{start:3014,length:3,convRule:ax},{start:3018,length:3,convRule:ax},{start:3021,length:1,convRule:rx},{start:3024,length:1,convRule:By},{start:3031,length:1,convRule:ax},{start:3046,length:10,convRule:ex},{start:3056,length:3,convRule:Yw},{start:3059,length:6,convRule:Iw},{start:3065,length:1,convRule:$w},{start:3066,length:1,convRule:Iw},{start:3072,length:1,convRule:rx},{start:3073,length:3,convRule:ax},{start:3076,length:1,convRule:rx},{start:3077,length:8,convRule:By},{start:3086,length:3,convRule:By},{start:3090,length:23,convRule:By},{start:3114,length:16,convRule:By},{start:3133,length:1,convRule:By},{start:3134,length:3,convRule:rx},{start:3137,length:4,convRule:ax},{start:3142,length:3,convRule:rx},{start:3146,length:4,convRule:rx},{start:3157,length:2,convRule:rx},{start:3160,length:3,convRule:By},{start:3168,length:2,convRule:By},{start:3170,length:2,convRule:rx},{start:3174,length:10,convRule:ex},{start:3191,length:1,convRule:Uw},{start:3192,length:7,convRule:Yw},{start:3199,length:1,convRule:Iw},{start:3200,length:1,convRule:By},{start:3201,length:1,convRule:rx},{start:3202,length:2,convRule:ax},{start:3204,length:1,convRule:Uw},{start:3205,length:8,convRule:By},{start:3214,length:3,convRule:By},{start:3218,length:23,convRule:By},{start:3242,length:10,convRule:By},{start:3253,length:5,convRule:By},{start:3260,length:1,convRule:rx},{start:3261,length:1,convRule:By},{start:3262,length:1,convRule:ax},{start:3263,length:1,convRule:rx},{start:3264,length:5,convRule:ax},{start:3270,length:1,convRule:rx},{start:3271,length:2,convRule:ax},{start:3274,length:2,convRule:ax},{start:3276,length:2,convRule:rx},{start:3285,length:2,convRule:ax},{start:3294,length:1,convRule:By},{start:3296,length:2,convRule:By},{start:3298,length:2,convRule:rx},{start:3302,length:10,convRule:ex},{start:3313,length:2,convRule:By},{start:3328,length:2,convRule:rx},{start:3330,length:2,convRule:ax},{start:3332,length:9,convRule:By},{start:3342,length:3,convRule:By},{start:3346,length:41,convRule:By},{start:3387,length:2,convRule:rx},{start:3389,length:1,convRule:By},{start:3390,length:3,convRule:ax},{start:3393,length:4,convRule:rx},{start:3398,length:3,convRule:ax},{start:3402,length:3,convRule:ax},{start:3405,length:1,convRule:rx},{start:3406,length:1,convRule:By},{start:3407,length:1,convRule:Iw},{start:3412,length:3,convRule:By},{start:3415,length:1,convRule:ax},{start:3416,length:7,convRule:Yw},{start:3423,length:3,convRule:By},{start:3426,length:2,convRule:rx},{start:3430,length:10,convRule:ex},{start:3440,length:9,convRule:Yw},{start:3449,length:1,convRule:Iw},{start:3450,length:6,convRule:By},{start:3457,length:1,convRule:rx},{start:3458,length:2,convRule:ax},{start:3461,length:18,convRule:By},{start:3482,length:24,convRule:By},{start:3507,length:9,convRule:By},{start:3517,length:1,convRule:By},{start:3520,length:7,convRule:By},{start:3530,length:1,convRule:rx},{start:3535,length:3,convRule:ax},{start:3538,length:3,convRule:rx},{start:3542,length:1,convRule:rx},{start:3544,length:8,convRule:ax},{start:3558,length:10,convRule:ex},{start:3570,length:2,convRule:ax},{start:3572,length:1,convRule:Uw},{start:3585,length:48,convRule:By},{start:3633,length:1,convRule:rx},{start:3634,length:2,convRule:By},{start:3636,length:7,convRule:rx},{start:3647,length:1,convRule:$w},{start:3648,length:6,convRule:By},{start:3654,length:1,convRule:Wy},{start:3655,length:8,convRule:rx},{start:3663,length:1,convRule:Uw},{start:3664,length:10,convRule:ex},{start:3674,length:2,convRule:Uw},{start:3713,length:2,convRule:By},{start:3716,length:1,convRule:By},{start:3718,length:5,convRule:By},{start:3724,length:24,convRule:By},{start:3749,length:1,convRule:By},{start:3751,length:10,convRule:By},{start:3761,length:1,convRule:rx},{start:3762,length:2,convRule:By},{start:3764,length:9,convRule:rx},{start:3773,length:1,convRule:By},{start:3776,length:5,convRule:By},{start:3782,length:1,convRule:Wy},{start:3784,length:6,convRule:rx},{start:3792,length:10,convRule:ex},{start:3804,length:4,convRule:By},{start:3840,length:1,convRule:By},{start:3841,length:3,convRule:Iw},{start:3844,length:15,convRule:Uw},{start:3859,length:1,convRule:Iw},{start:3860,length:1,convRule:Uw},{start:3861,length:3,convRule:Iw},{start:3864,length:2,convRule:rx},{start:3866,length:6,convRule:Iw},{start:3872,length:10,convRule:ex},{start:3882,length:10,convRule:Yw},{start:3892,length:1,convRule:Iw},{start:3893,length:1,convRule:rx},{start:3894,length:1,convRule:Iw},{start:3895,length:1,convRule:rx},{start:3896,length:1,convRule:Iw},{start:3897,length:1,convRule:rx},{start:3898,length:1,convRule:Bw},{start:3899,length:1,convRule:qw},{start:3900,length:1,convRule:Bw},{start:3901,length:1,convRule:qw},{start:3902,length:2,convRule:ax},{start:3904,length:8,convRule:By},{start:3913,length:36,convRule:By},{start:3953,length:14,convRule:rx},{start:3967,length:1,convRule:ax},{start:3968,length:5,convRule:rx},{start:3973,length:1,convRule:Uw},{start:3974,length:2,convRule:rx},{start:3976,length:5,convRule:By},{start:3981,length:11,convRule:rx},{start:3993,length:36,convRule:rx},{start:4030,length:8,convRule:Iw},{start:4038,length:1,convRule:rx},{start:4039,length:6,convRule:Iw},{start:4046,length:2,convRule:Iw},{start:4048,length:5,convRule:Uw},{start:4053,length:4,convRule:Iw},{start:4057,length:2,convRule:Uw},{start:4096,length:43,convRule:By},{start:4139,length:2,convRule:ax},{start:4141,length:4,convRule:rx},{start:4145,length:1,convRule:ax},{start:4146,length:6,convRule:rx},{start:4152,length:1,convRule:ax},{start:4153,length:2,convRule:rx},{start:4155,length:2,convRule:ax},{start:4157,length:2,convRule:rx},{start:4159,length:1,convRule:By},{start:4160,length:10,convRule:ex},{start:4170,length:6,convRule:Uw},{start:4176,length:6,convRule:By},{start:4182,length:2,convRule:ax},{start:4184,length:2,convRule:rx},{start:4186,length:4,convRule:By},{start:4190,length:3,convRule:rx},{start:4193,length:1,convRule:By},{start:4194,length:3,convRule:ax},{start:4197,length:2,convRule:By},{start:4199,length:7,convRule:ax},{start:4206,length:3,convRule:By},{start:4209,length:4,convRule:rx},{start:4213,length:13,convRule:By},{start:4226,length:1,convRule:rx},{start:4227,length:2,convRule:ax},{start:4229,length:2,convRule:rx},{start:4231,length:6,convRule:ax},{start:4237,length:1,convRule:rx},{start:4238,length:1,convRule:By},{start:4239,length:1,convRule:ax},{start:4240,length:10,convRule:ex},{start:4250,length:3,convRule:ax},{start:4253,length:1,convRule:rx},{start:4254,length:2,convRule:Iw},{start:4256,length:38,convRule:Rx},{start:4295,length:1,convRule:Rx},{start:4301,length:1,convRule:Rx},{start:4304,length:43,convRule:lb},{start:4347,length:1,convRule:Uw},{start:4348,length:1,convRule:Wy},{start:4349,length:3,convRule:lb},{start:4352,length:329,convRule:By},{start:4682,length:4,convRule:By},{start:4688,length:7,convRule:By},{start:4696,length:1,convRule:By},{start:4698,length:4,convRule:By},{start:4704,length:41,convRule:By},{start:4746,length:4,convRule:By},{start:4752,length:33,convRule:By},{start:4786,length:4,convRule:By},{start:4792,length:7,convRule:By},{start:4800,length:1,convRule:By},{start:4802,length:4,convRule:By},{start:4808,length:15,convRule:By},{start:4824,length:57,convRule:By},{start:4882,length:4,convRule:By},{start:4888,length:67,convRule:By},{start:4957,length:3,convRule:rx},{start:4960,length:9,convRule:Uw},{start:4969,length:20,convRule:Yw},{start:4992,length:16,convRule:By},{start:5008,length:10,convRule:Iw},{start:5024,length:80,convRule:Ox},{start:5104,length:6,convRule:hx},{start:5112,length:6,convRule:Ky},{start:5120,length:1,convRule:Xw},{start:5121,length:620,convRule:By},{start:5741,length:1,convRule:Iw},{start:5742,length:1,convRule:Uw},{start:5743,length:17,convRule:By},{start:5760,length:1,convRule:Ew},{start:5761,length:26,convRule:By},{start:5787,length:1,convRule:Bw},{start:5788,length:1,convRule:qw},{start:5792,length:75,convRule:By},{start:5867,length:3,convRule:Uw},{start:5870,length:3,convRule:Zw},{start:5873,length:8,convRule:By},{start:5888,length:13,convRule:By},{start:5902,length:4,convRule:By},{start:5906,length:3,convRule:rx},{start:5920,length:18,convRule:By},{start:5938,length:3,convRule:rx},{start:5941,length:2,convRule:Uw},{start:5952,length:18,convRule:By},{start:5970,length:2,convRule:rx},{start:5984,length:13,convRule:By},{start:5998,length:3,convRule:By},{start:6002,length:2,convRule:rx},{start:6016,length:52,convRule:By},{start:6068,length:2,convRule:rx},{start:6070,length:1,convRule:ax},{start:6071,length:7,convRule:rx},{start:6078,length:8,convRule:ax},{start:6086,length:1,convRule:rx},{start:6087,length:2,convRule:ax},{start:6089,length:11,convRule:rx},{start:6100,length:3,convRule:Uw},{start:6103,length:1,convRule:Wy},{start:6104,length:3,convRule:Uw},{start:6107,length:1,convRule:$w},{start:6108,length:1,convRule:By},{start:6109,length:1,convRule:rx},{start:6112,length:10,convRule:ex},{start:6128,length:10,convRule:Yw},{start:6144,length:6,convRule:Uw},{start:6150,length:1,convRule:Xw},{start:6151,length:4,convRule:Uw},{start:6155,length:3,convRule:rx},{start:6158,length:1,convRule:_C},{start:6160,length:10,convRule:ex},{start:6176,length:35,convRule:By},{start:6211,length:1,convRule:Wy},{start:6212,length:53,convRule:By},{start:6272,length:5,convRule:By},{start:6277,length:2,convRule:rx},{start:6279,length:34,convRule:By},{start:6313,length:1,convRule:rx},{start:6314,length:1,convRule:By},{start:6320,length:70,convRule:By},{start:6400,length:31,convRule:By},{start:6432,length:3,convRule:rx},{start:6435,length:4,convRule:ax},{start:6439,length:2,convRule:rx},{start:6441,length:3,convRule:ax},{start:6448,length:2,convRule:ax},{start:6450,length:1,convRule:rx},{start:6451,length:6,convRule:ax},{start:6457,length:3,convRule:rx},{start:6464,length:1,convRule:Iw},{start:6468,length:2,convRule:Uw},{start:6470,length:10,convRule:ex},{start:6480,length:30,convRule:By},{start:6512,length:5,convRule:By},{start:6528,length:44,convRule:By},{start:6576,length:26,convRule:By},{start:6608,length:10,convRule:ex},{start:6618,length:1,convRule:Yw},{start:6622,length:34,convRule:Iw},{start:6656,length:23,convRule:By},{start:6679,length:2,convRule:rx},{start:6681,length:2,convRule:ax},{start:6683,length:1,convRule:rx},{start:6686,length:2,convRule:Uw},{start:6688,length:53,convRule:By},{start:6741,length:1,convRule:ax},{start:6742,length:1,convRule:rx},{start:6743,length:1,convRule:ax},{start:6744,length:7,convRule:rx},{start:6752,length:1,convRule:rx},{start:6753,length:1,convRule:ax},{start:6754,length:1,convRule:rx},{start:6755,length:2,convRule:ax},{start:6757,length:8,convRule:rx},{start:6765,length:6,convRule:ax},{start:6771,length:10,convRule:rx},{start:6783,length:1,convRule:rx},{start:6784,length:10,convRule:ex},{start:6800,length:10,convRule:ex},{start:6816,length:7,convRule:Uw},{start:6823,length:1,convRule:Wy},{start:6824,length:6,convRule:Uw},{start:6832,length:14,convRule:rx},{start:6846,length:1,convRule:ox},{start:6847,length:2,convRule:rx},{start:6912,length:4,convRule:rx},{start:6916,length:1,convRule:ax},{start:6917,length:47,convRule:By},{start:6964,length:1,convRule:rx},{start:6965,length:1,convRule:ax},{start:6966,length:5,convRule:rx},{start:6971,length:1,convRule:ax},{start:6972,length:1,convRule:rx},{start:6973,length:5,convRule:ax},{start:6978,length:1,convRule:rx},{start:6979,length:2,convRule:ax},{start:6981,length:7,convRule:By},{start:6992,length:10,convRule:ex},{start:7002,length:7,convRule:Uw},{start:7009,length:10,convRule:Iw},{start:7019,length:9,convRule:rx},{start:7028,length:9,convRule:Iw},{start:7040,length:2,convRule:rx},{start:7042,length:1,convRule:ax},{start:7043,length:30,convRule:By},{start:7073,length:1,convRule:ax},{start:7074,length:4,convRule:rx},{start:7078,length:2,convRule:ax},{start:7080,length:2,convRule:rx},{start:7082,length:1,convRule:ax},{start:7083,length:3,convRule:rx},{start:7086,length:2,convRule:By},{start:7088,length:10,convRule:ex},{start:7098,length:44,convRule:By},{start:7142,length:1,convRule:rx},{start:7143,length:1,convRule:ax},{start:7144,length:2,convRule:rx},{start:7146,length:3,convRule:ax},{start:7149,length:1,convRule:rx},{start:7150,length:1,convRule:ax},{start:7151,length:3,convRule:rx},{start:7154,length:2,convRule:ax},{start:7164,length:4,convRule:Uw},{start:7168,length:36,convRule:By},{start:7204,length:8,convRule:ax},{start:7212,length:8,convRule:rx},{start:7220,length:2,convRule:ax},{start:7222,length:2,convRule:rx},{start:7227,length:5,convRule:Uw},{start:7232,length:10,convRule:ex},{start:7245,length:3,convRule:By},{start:7248,length:10,convRule:ex},{start:7258,length:30,convRule:By},{start:7288,length:6,convRule:Wy},{start:7294,length:2,convRule:Uw},{start:7296,length:1,convRule:ab},{start:7297,length:1,convRule:ub},{start:7298,length:1,convRule:cb},{start:7299,length:2,convRule:hb},{start:7301,length:1,convRule:fb},{start:7302,length:1,convRule:db},{start:7303,length:1,convRule:vb},{start:7304,length:1,convRule:gb},{start:7312,length:43,convRule:wx},{start:7357,length:3,convRule:wx},{start:7360,length:8,convRule:Uw},{start:7376,length:3,convRule:rx},{start:7379,length:1,convRule:Uw},{start:7380,length:13,convRule:rx},{start:7393,length:1,convRule:ax},{start:7394,length:7,convRule:rx},{start:7401,length:4,convRule:By},{start:7405,length:1,convRule:rx},{start:7406,length:6,convRule:By},{start:7412,length:1,convRule:rx},{start:7413,length:2,convRule:By},{start:7415,length:1,convRule:ax},{start:7416,length:2,convRule:rx},{start:7418,length:1,convRule:By},{start:7424,length:44,convRule:Mb},{start:7468,length:63,convRule:Wy},{start:7531,length:13,convRule:Mb},{start:7544,length:1,convRule:Wy},{start:7545,length:1,convRule:pb},{start:7546,length:3,convRule:Mb},{start:7549,length:1,convRule:mb},{start:7550,length:16,convRule:Mb},{start:7566,length:1,convRule:Rb},{start:7567,length:12,convRule:Mb},{start:7579,length:37,convRule:Wy},{start:7616,length:58,convRule:rx},{start:7675,length:5,convRule:rx},{start:7680,length:1,convRule:ny},{start:7681,length:1,convRule:Ub},{start:7682,length:1,convRule:ny},{start:7683,length:1,convRule:Ub},{start:7684,length:1,convRule:ny},{start:7685,length:1,convRule:Ub},{start:7686,length:1,convRule:ny},{start:7687,length:1,convRule:Ub},{start:7688,length:1,convRule:ny},{start:7689,length:1,convRule:Ub},{start:7690,length:1,convRule:ny},{start:7691,length:1,convRule:Ub},{start:7692,length:1,convRule:ny},{start:7693,length:1,convRule:Ub},{start:7694,length:1,convRule:ny},{start:7695,length:1,convRule:Ub},{start:7696,length:1,convRule:ny},{start:7697,length:1,convRule:Ub},{start:7698,length:1,convRule:ny},{start:7699,length:1,convRule:Ub},{start:7700,length:1,convRule:ny},{start:7701,length:1,convRule:Ub},{start:7702,length:1,convRule:ny},{start:7703,length:1,convRule:Ub},{start:7704,length:1,convRule:ny},{start:7705,length:1,convRule:Ub},{start:7706,length:1,convRule:ny},{start:7707,length:1,convRule:Ub},{start:7708,length:1,convRule:ny},{start:7709,length:1,convRule:Ub},{start:7710,length:1,convRule:ny},{start:7711,length:1,convRule:Ub},{start:7712,length:1,convRule:ny},{start:7713,length:1,convRule:Ub},{start:7714,length:1,convRule:ny},{start:7715,length:1,convRule:Ub},{start:7716,length:1,convRule:ny},{start:7717,length:1,convRule:Ub},{start:7718,length:1,convRule:ny},{start:7719,length:1,convRule:Ub},{start:7720,length:1,convRule:ny},{start:7721,length:1,convRule:Ub},{start:7722,length:1,convRule:ny},{start:7723,length:1,convRule:Ub},{start:7724,length:1,convRule:ny},{start:7725,length:1,convRule:Ub},{start:7726,length:1,convRule:ny},{start:7727,length:1,convRule:Ub},{start:7728,length:1,convRule:ny},{start:7729,length:1,convRule:Ub},{start:7730,length:1,convRule:ny},{start:7731,length:1,convRule:Ub},{start:7732,length:1,convRule:ny},{start:7733,length:1,convRule:Ub},{start:7734,length:1,convRule:ny},{start:7735,length:1,convRule:Ub},{start:7736,length:1,convRule:ny},{start:7737,length:1,convRule:Ub},{start:7738,length:1,convRule:ny},{start:7739,length:1,convRule:Ub},{start:7740,length:1,convRule:ny},{start:7741,length:1,convRule:Ub},{start:7742,length:1,convRule:ny},{start:7743,length:1,convRule:Ub},{start:7744,length:1,convRule:ny},{start:7745,length:1,convRule:Ub},{start:7746,length:1,convRule:ny},{start:7747,length:1,convRule:Ub},{start:7748,length:1,convRule:ny},{start:7749,length:1,convRule:Ub},{start:7750,length:1,convRule:ny},{start:7751,length:1,convRule:Ub},{start:7752,length:1,convRule:ny},{start:7753,length:1,convRule:Ub},{start:7754,length:1,convRule:ny},{start:7755,length:1,convRule:Ub},{start:7756,length:1,convRule:ny},{start:7757,length:1,convRule:Ub},{start:7758,length:1,convRule:ny},{start:7759,length:1,convRule:Ub},{start:7760,length:1,convRule:ny},{start:7761,length:1,convRule:Ub},{start:7762,length:1,convRule:ny},{start:7763,length:1,convRule:Ub},{start:7764,length:1,convRule:ny},{start:7765,length:1,convRule:Ub},{start:7766,length:1,convRule:ny},{start:7767,length:1,convRule:Ub},{start:7768,length:1,convRule:ny},{start:7769,length:1,convRule:Ub},{start:7770,length:1,convRule:ny},{start:7771,length:1,convRule:Ub},{start:7772,length:1,convRule:ny},{start:7773,length:1,convRule:Ub},{start:7774,length:1,convRule:ny},{start:7775,length:1,convRule:Ub},{start:7776,length:1,convRule:ny},{start:7777,length:1,convRule:Ub},{start:7778,length:1,convRule:ny},{start:7779,length:1,convRule:Ub},{start:7780,length:1,convRule:ny},{start:7781,length:1,convRule:Ub},{start:7782,length:1,convRule:ny},{start:7783,length:1,convRule:Ub},{start:7784,length:1,convRule:ny},{start:7785,length:1,convRule:Ub},{start:7786,length:1,convRule:ny},{start:7787,length:1,convRule:Ub},{start:7788,length:1,convRule:ny},{start:7789,length:1,convRule:Ub},{start:7790,length:1,convRule:ny},{start:7791,length:1,convRule:Ub},{start:7792,length:1,convRule:ny},{start:7793,length:1,convRule:Ub},{start:7794,length:1,convRule:ny},{start:7795,length:1,convRule:Ub},{start:7796,length:1,convRule:ny},{start:7797,length:1,convRule:Ub},{start:7798,length:1,convRule:ny},{start:7799,length:1,convRule:Ub},{start:7800,length:1,convRule:ny},{start:7801,length:1,convRule:Ub},{start:7802,length:1,convRule:ny},{start:7803,length:1,convRule:Ub},{start:7804,length:1,convRule:ny},{start:7805,length:1,convRule:Ub},{start:7806,length:1,convRule:ny},{start:7807,length:1,convRule:Ub},{start:7808,length:1,convRule:ny},{start:7809,length:1,convRule:Ub},{start:7810,length:1,convRule:ny},{start:7811,length:1,convRule:Ub},{start:7812,length:1,convRule:ny},{start:7813,length:1,convRule:Ub},{start:7814,length:1,convRule:ny},{start:7815,length:1,convRule:Ub},{start:7816,length:1,convRule:ny},{start:7817,length:1,convRule:Ub},{start:7818,length:1,convRule:ny},{start:7819,length:1,convRule:Ub},{start:7820,length:1,convRule:ny},{start:7821,length:1,convRule:Ub},{start:7822,length:1,convRule:ny},{start:7823,length:1,convRule:Ub},{start:7824,length:1,convRule:ny},{start:7825,length:1,convRule:Ub},{start:7826,length:1,convRule:ny},{start:7827,length:1,convRule:Ub},{start:7828,length:1,convRule:ny},{start:7829,length:1,convRule:Ub},{start:7830,length:5,convRule:Mb},{start:7835,length:1,convRule:Ob},{start:7836,length:2,convRule:Mb},{start:7838,length:1,convRule:xx},{start:7839,length:1,convRule:Mb},{start:7840,length:1,convRule:ny},{start:7841,length:1,convRule:Ub},{start:7842,length:1,convRule:ny},{start:7843,length:1,convRule:Ub},{start:7844,length:1,convRule:ny},{start:7845,length:1,convRule:Ub},{start:7846,length:1,convRule:ny},{start:7847,length:1,convRule:Ub},{start:7848,length:1,convRule:ny},{start:7849,length:1,convRule:Ub},{start:7850,length:1,convRule:ny},{start:7851,length:1,convRule:Ub},{start:7852,length:1,convRule:ny},{start:7853,length:1,convRule:Ub},{start:7854,length:1,convRule:ny},{start:7855,length:1,convRule:Ub},{start:7856,length:1,convRule:ny},{start:7857,length:1,convRule:Ub},{start:7858,length:1,convRule:ny},{start:7859,length:1,convRule:Ub},{start:7860,length:1,convRule:ny},{start:7861,length:1,convRule:Ub},{start:7862,length:1,convRule:ny},{start:7863,length:1,convRule:Ub},{start:7864,length:1,convRule:ny},{start:7865,length:1,convRule:Ub},{start:7866,length:1,convRule:ny},{start:7867,length:1,convRule:Ub},{start:7868,length:1,convRule:ny},{start:7869,length:1,convRule:Ub},{start:7870,length:1,convRule:ny},{start:7871,length:1,convRule:Ub},{start:7872,length:1,convRule:ny},{start:7873,length:1,convRule:Ub},{start:7874,length:1,convRule:ny},{start:7875,length:1,convRule:Ub},{start:7876,length:1,convRule:ny},{start:7877,length:1,convRule:Ub},{start:7878,length:1,convRule:ny},{start:7879,length:1,convRule:Ub},{start:7880,length:1,convRule:ny},{start:7881,length:1,convRule:Ub},{start:7882,length:1,convRule:ny},{start:7883,length:1,convRule:Ub},{start:7884,length:1,convRule:ny},{start:7885,length:1,convRule:Ub},{start:7886,length:1,convRule:ny},{start:7887,length:1,convRule:Ub},{start:7888,length:1,convRule:ny},{start:7889,length:1,convRule:Ub},{start:7890,length:1,convRule:ny},{start:7891,length:1,convRule:Ub},{start:7892,length:1,convRule:ny},{start:7893,length:1,convRule:Ub},{start:7894,length:1,convRule:ny},{start:7895,length:1,convRule:Ub},{start:7896,length:1,convRule:ny},{start:7897,length:1,convRule:Ub},{start:7898,length:1,convRule:ny},{start:7899,length:1,convRule:Ub},{start:7900,length:1,convRule:ny},{start:7901,length:1,convRule:Ub},{start:7902,length:1,convRule:ny},{start:7903,length:1,convRule:Ub},{start:7904,length:1,convRule:ny},{start:7905,length:1,convRule:Ub},{start:7906,length:1,convRule:ny},{start:7907,length:1,convRule:Ub},{start:7908,length:1,convRule:ny},{start:7909,length:1,convRule:Ub},{start:7910,length:1,convRule:ny},{start:7911,length:1,convRule:Ub},{start:7912,length:1,convRule:ny},{start:7913,length:1,convRule:Ub},{start:7914,length:1,convRule:ny},{start:7915,length:1,convRule:Ub},{start:7916,length:1,convRule:ny},{start:7917,length:1,convRule:Ub},{start:7918,length:1,convRule:ny},{start:7919,length:1,convRule:Ub},{start:7920,length:1,convRule:ny},{start:7921,length:1,convRule:Ub},{start:7922,length:1,convRule:ny},{start:7923,length:1,convRule:Ub},{start:7924,length:1,convRule:ny},{start:7925,length:1,convRule:Ub},{start:7926,length:1,convRule:ny},{start:7927,length:1,convRule:Ub},{start:7928,length:1,convRule:ny},{start:7929,length:1,convRule:Ub},{start:7930,length:1,convRule:ny},{start:7931,length:1,convRule:Ub},{start:7932,length:1,convRule:ny},{start:7933,length:1,convRule:Ub},{start:7934,length:1,convRule:ny},{start:7935,length:1,convRule:Ub},{start:7936,length:8,convRule:wb},{start:7944,length:8,convRule:yx},{start:7952,length:6,convRule:wb},{start:7960,length:6,convRule:yx},{start:7968,length:8,convRule:wb},{start:7976,length:8,convRule:yx},{start:7984,length:8,convRule:wb},{start:7992,length:8,convRule:yx},{start:8e3,length:6,convRule:wb},{start:8008,length:6,convRule:yx},{start:8016,length:1,convRule:Mb},{start:8017,length:1,convRule:wb},{start:8018,length:1,convRule:Mb},{start:8019,length:1,convRule:wb},{start:8020,length:1,convRule:Mb},{start:8021,length:1,convRule:wb},{start:8022,length:1,convRule:Mb},{start:8023,length:1,convRule:wb},{start:8025,length:1,convRule:yx},{start:8027,length:1,convRule:yx},{start:8029,length:1,convRule:yx},{start:8031,length:1,convRule:yx},{start:8032,length:8,convRule:wb},{start:8040,length:8,convRule:yx},{start:8048,length:2,convRule:xb},{start:8050,length:4,convRule:yb},{start:8054,length:2,convRule:bb},{start:8056,length:2,convRule:Cb},{start:8058,length:2,convRule:kb},{start:8060,length:2,convRule:Tb},{start:8064,length:8,convRule:wb},{start:8072,length:8,convRule:Qy},{start:8080,length:8,convRule:wb},{start:8088,length:8,convRule:Qy},{start:8096,length:8,convRule:wb},{start:8104,length:8,convRule:Qy},{start:8112,length:2,convRule:wb},{start:8114,length:1,convRule:Mb},{start:8115,length:1,convRule:Sb},{start:8116,length:1,convRule:Mb},{start:8118,length:2,convRule:Mb},{start:8120,length:2,convRule:yx},{start:8122,length:2,convRule:bx},{start:8124,length:1,convRule:My},{start:8125,length:1,convRule:Fw},{start:8126,length:1,convRule:Ab},{start:8127,length:3,convRule:Fw},{start:8130,length:1,convRule:Mb},{start:8131,length:1,convRule:Sb},{start:8132,length:1,convRule:Mb},{start:8134,length:2,convRule:Mb},{start:8136,length:4,convRule:Cx},{start:8140,length:1,convRule:My},{start:8141,length:3,convRule:Fw},{start:8144,length:2,convRule:wb},{start:8146,length:2,convRule:Mb},{start:8150,length:2,convRule:Mb},{start:8152,length:2,convRule:yx},{start:8154,length:2,convRule:kx},{start:8157,length:3,convRule:Fw},{start:8160,length:2,convRule:wb},{start:8162,length:3,convRule:Mb},{start:8165,length:1,convRule:eb},{start:8166,length:2,convRule:Mb},{start:8168,length:2,convRule:yx},{start:8170,length:2,convRule:Tx},{start:8172,length:1,convRule:vx},{start:8173,length:3,convRule:Fw},{start:8178,length:1,convRule:Mb},{start:8179,length:1,convRule:Sb},{start:8180,length:1,convRule:Mb},{start:8182,length:2,convRule:Mb},{start:8184,length:2,convRule:Sx},{start:8186,length:2,convRule:Ax},{start:8188,length:1,convRule:My},{start:8189,length:2,convRule:Fw},{start:8192,length:11,convRule:Ew},{start:8203,length:5,convRule:_C},{start:8208,length:6,convRule:Xw},{start:8214,length:2,convRule:Uw},{start:8216,length:1,convRule:Ww},{start:8217,length:1,convRule:Hw},{start:8218,length:1,convRule:Bw},{start:8219,length:2,convRule:Ww},{start:8221,length:1,convRule:Hw},{start:8222,length:1,convRule:Bw},{start:8223,length:1,convRule:Ww},{start:8224,length:8,convRule:Uw},{start:8232,length:1,convRule:Lw},{start:8233,length:1,convRule:_w},{start:8234,length:5,convRule:_C},{start:8239,length:1,convRule:Ew},{start:8240,length:9,convRule:Uw},{start:8249,length:1,convRule:Ww},{start:8250,length:1,convRule:Hw},{start:8251,length:4,convRule:Uw},{start:8255,length:2,convRule:jw},{start:8257,length:3,convRule:Uw},{start:8260,length:1,convRule:Mw},{start:8261,length:1,convRule:Bw},{start:8262,length:1,convRule:qw},{start:8263,length:11,convRule:Uw},{start:8274,length:1,convRule:Mw},{start:8275,length:1,convRule:Uw},{start:8276,length:1,convRule:jw},{start:8277,length:10,convRule:Uw},{start:8287,length:1,convRule:Ew},{start:8288,length:5,convRule:_C},{start:8294,length:10,convRule:_C},{start:8304,length:1,convRule:Yw},{start:8305,length:1,convRule:Wy},{start:8308,length:6,convRule:Yw},{start:8314,length:3,convRule:Mw},{start:8317,length:1,convRule:Bw},{start:8318,length:1,convRule:qw},{start:8319,length:1,convRule:Wy},{start:8320,length:10,convRule:Yw},{start:8330,length:3,convRule:Mw},{start:8333,length:1,convRule:Bw},{start:8334,length:1,convRule:qw},{start:8336,length:13,convRule:Wy},{start:8352,length:32,convRule:$w},{start:8400,length:13,convRule:rx},{start:8413,length:4,convRule:ox},{start:8417,length:1,convRule:rx},{start:8418,length:3,convRule:ox},{start:8421,length:12,convRule:rx},{start:8448,length:2,convRule:Iw},{start:8450,length:1,convRule:fx},{start:8451,length:4,convRule:Iw},{start:8455,length:1,convRule:fx},{start:8456,length:2,convRule:Iw},{start:8458,length:1,convRule:Mb},{start:8459,length:3,convRule:fx},{start:8462,length:2,convRule:Mb},{start:8464,length:3,convRule:fx},{start:8467,length:1,convRule:Mb},{start:8468,length:1,convRule:Iw},{start:8469,length:1,convRule:fx},{start:8470,length:2,convRule:Iw},{start:8472,length:1,convRule:Mw},{start:8473,length:5,convRule:fx},{start:8478,length:6,convRule:Iw},{start:8484,length:1,convRule:fx},{start:8485,length:1,convRule:Iw},{start:8486,length:1,convRule:Px},{start:8487,length:1,convRule:Iw},{start:8488,length:1,convRule:fx},{start:8489,length:1,convRule:Iw},{start:8490,length:1,convRule:Ex},{start:8491,length:1,convRule:_x},{start:8492,length:2,convRule:fx},{start:8494,length:1,convRule:Iw},{start:8495,length:1,convRule:Mb},{start:8496,length:2,convRule:fx},{start:8498,length:1,convRule:Lx},{start:8499,length:1,convRule:fx},{start:8500,length:1,convRule:Mb},{start:8501,length:4,convRule:By},{start:8505,length:1,convRule:Mb},{start:8506,length:2,convRule:Iw},{start:8508,length:2,convRule:Mb},{start:8510,length:2,convRule:fx},{start:8512,length:5,convRule:Mw},{start:8517,length:1,convRule:fx},{start:8518,length:4,convRule:Mb},{start:8522,length:1,convRule:Iw},{start:8523,length:1,convRule:Mw},{start:8524,length:2,convRule:Iw},{start:8526,length:1,convRule:Pb},{start:8527,length:1,convRule:Iw},{start:8528,length:16,convRule:Yw},{start:8544,length:16,convRule:Kw},{start:8560,length:16,convRule:Jw},{start:8576,length:3,convRule:Zw},{start:8579,length:1,convRule:ny},{start:8580,length:1,convRule:Ub},{start:8581,length:4,convRule:Zw},{start:8585,length:1,convRule:Yw},{start:8586,length:2,convRule:Iw},{start:8592,length:5,convRule:Mw},{start:8597,length:5,convRule:Iw},{start:8602,length:2,convRule:Mw},{start:8604,length:4,convRule:Iw},{start:8608,length:1,convRule:Mw},{start:8609,length:2,convRule:Iw},{start:8611,length:1,convRule:Mw},{start:8612,length:2,convRule:Iw},{start:8614,length:1,convRule:Mw},{start:8615,length:7,convRule:Iw},{start:8622,length:1,convRule:Mw},{start:8623,length:31,convRule:Iw},{start:8654,length:2,convRule:Mw},{start:8656,length:2,convRule:Iw},{start:8658,length:1,convRule:Mw},{start:8659,length:1,convRule:Iw},{start:8660,length:1,convRule:Mw},{start:8661,length:31,convRule:Iw},{start:8692,length:268,convRule:Mw},{start:8960,length:8,convRule:Iw},{start:8968,length:1,convRule:Bw},{start:8969,length:1,convRule:qw},{start:8970,length:1,convRule:Bw},{start:8971,length:1,convRule:qw},{start:8972,length:20,convRule:Iw},{start:8992,length:2,convRule:Mw},{start:8994,length:7,convRule:Iw},{start:9001,length:1,convRule:Bw},{start:9002,length:1,convRule:qw},{start:9003,length:81,convRule:Iw},{start:9084,length:1,convRule:Mw},{start:9085,length:30,convRule:Iw},{start:9115,length:25,convRule:Mw},{start:9140,length:40,convRule:Iw},{start:9180,length:6,convRule:Mw},{start:9186,length:69,convRule:Iw},{start:9280,length:11,convRule:Iw},{start:9312,length:60,convRule:Yw},{start:9372,length:26,convRule:Iw},{start:9398,length:26,convRule:Nw},{start:9424,length:26,convRule:Qw},{start:9450,length:22,convRule:Yw},{start:9472,length:183,convRule:Iw},{start:9655,length:1,convRule:Mw},{start:9656,length:9,convRule:Iw},{start:9665,length:1,convRule:Mw},{start:9666,length:54,convRule:Iw},{start:9720,length:8,convRule:Mw},{start:9728,length:111,convRule:Iw},{start:9839,length:1,convRule:Mw},{start:9840,length:248,convRule:Iw},{start:10088,length:1,convRule:Bw},{start:10089,length:1,convRule:qw},{start:10090,length:1,convRule:Bw},{start:10091,length:1,convRule:qw},{start:10092,length:1,convRule:Bw},{start:10093,length:1,convRule:qw},{start:10094,length:1,convRule:Bw},{start:10095,length:1,convRule:qw},{start:10096,length:1,convRule:Bw},{start:10097,length:1,convRule:qw},{start:10098,length:1,convRule:Bw},{start:10099,length:1,convRule:qw},{start:10100,length:1,convRule:Bw},{start:10101,length:1,convRule:qw},{start:10102,length:30,convRule:Yw},{start:10132,length:44,convRule:Iw},{start:10176,length:5,convRule:Mw},{start:10181,length:1,convRule:Bw},{start:10182,length:1,convRule:qw},{start:10183,length:31,convRule:Mw},{start:10214,length:1,convRule:Bw},{start:10215,length:1,convRule:qw},{start:10216,length:1,convRule:Bw},{start:10217,length:1,convRule:qw},{start:10218,length:1,convRule:Bw},{start:10219,length:1,convRule:qw},{start:10220,length:1,convRule:Bw},{start:10221,length:1,convRule:qw},{start:10222,length:1,convRule:Bw},{start:10223,length:1,convRule:qw},{start:10224,length:16,convRule:Mw},{start:10240,length:256,convRule:Iw},{start:10496,length:131,convRule:Mw},{start:10627,length:1,convRule:Bw},{start:10628,length:1,convRule:qw},{start:10629,length:1,convRule:Bw},{start:10630,length:1,convRule:qw},{start:10631,length:1,convRule:Bw},{start:10632,length:1,convRule:qw},{start:10633,length:1,convRule:Bw},{start:10634,length:1,convRule:qw},{start:10635,length:1,convRule:Bw},{start:10636,length:1,convRule:qw},{start:10637,length:1,convRule:Bw},{start:10638,length:1,convRule:qw},{start:10639,length:1,convRule:Bw},{start:10640,length:1,convRule:qw},{start:10641,length:1,convRule:Bw},{start:10642,length:1,convRule:qw},{start:10643,length:1,convRule:Bw},{start:10644,length:1,convRule:qw},{start:10645,length:1,convRule:Bw},{start:10646,length:1,convRule:qw},{start:10647,length:1,convRule:Bw},{start:10648,length:1,convRule:qw},{start:10649,length:63,convRule:Mw},{start:10712,length:1,convRule:Bw},{start:10713,length:1,convRule:qw},{start:10714,length:1,convRule:Bw},{start:10715,length:1,convRule:qw},{start:10716,length:32,convRule:Mw},{start:10748,length:1,convRule:Bw},{start:10749,length:1,convRule:qw},{start:10750,length:258,convRule:Mw},{start:11008,length:48,convRule:Iw},{start:11056,length:21,convRule:Mw},{start:11077,length:2,convRule:Iw},{start:11079,length:6,convRule:Mw},{start:11085,length:39,convRule:Iw},{start:11126,length:32,convRule:Iw},{start:11159,length:105,convRule:Iw},{start:11264,length:47,convRule:mx},{start:11312,length:47,convRule:ob},{start:11360,length:1,convRule:ny},{start:11361,length:1,convRule:Ub},{start:11362,length:1,convRule:Dx},{start:11363,length:1,convRule:Ix},{start:11364,length:1,convRule:Nx},{start:11365,length:1,convRule:Eb},{start:11366,length:1,convRule:_b},{start:11367,length:1,convRule:ny},{start:11368,length:1,convRule:Ub},{start:11369,length:1,convRule:ny},{start:11370,length:1,convRule:Ub},{start:11371,length:1,convRule:ny},{start:11372,length:1,convRule:Ub},{start:11373,length:1,convRule:Qx},{start:11374,length:1,convRule:Mx},{start:11375,length:1,convRule:Fx},{start:11376,length:1,convRule:$x},{start:11377,length:1,convRule:Mb},{start:11378,length:1,convRule:ny},{start:11379,length:1,convRule:Ub},{start:11380,length:1,convRule:Mb},{start:11381,length:1,convRule:ny},{start:11382,length:1,convRule:Ub},{start:11383,length:5,convRule:Mb},{start:11388,length:2,convRule:Wy},{start:11390,length:2,convRule:Bx},{start:11392,length:1,convRule:ny},{start:11393,length:1,convRule:Ub},{start:11394,length:1,convRule:ny},{start:11395,length:1,convRule:Ub},{start:11396,length:1,convRule:ny},{start:11397,length:1,convRule:Ub},{start:11398,length:1,convRule:ny},{start:11399,length:1,convRule:Ub},{start:11400,length:1,convRule:ny},{start:11401,length:1,convRule:Ub},{start:11402,length:1,convRule:ny},{start:11403,length:1,convRule:Ub},{start:11404,length:1,convRule:ny},{start:11405,length:1,convRule:Ub},{start:11406,length:1,convRule:ny},{start:11407,length:1,convRule:Ub},{start:11408,length:1,convRule:ny},{start:11409,length:1,convRule:Ub},{start:11410,length:1,convRule:ny},{start:11411,length:1,convRule:Ub},{start:11412,length:1,convRule:ny},{start:11413,length:1,convRule:Ub},{start:11414,length:1,convRule:ny},{start:11415,length:1,convRule:Ub},{start:11416,length:1,convRule:ny},{start:11417,length:1,convRule:Ub},{start:11418,length:1,convRule:ny},{start:11419,length:1,convRule:Ub},{start:11420,length:1,convRule:ny},{start:11421,length:1,convRule:Ub},{start:11422,length:1,convRule:ny},{start:11423,length:1,convRule:Ub},{start:11424,length:1,convRule:ny},{start:11425,length:1,convRule:Ub},{start:11426,length:1,convRule:ny},{start:11427,length:1,convRule:Ub},{start:11428,length:1,convRule:ny},{start:11429,length:1,convRule:Ub},{start:11430,length:1,convRule:ny},{start:11431,length:1,convRule:Ub},{start:11432,length:1,convRule:ny},{start:11433,length:1,convRule:Ub},{start:11434,length:1,convRule:ny},{start:11435,length:1,convRule:Ub},{start:11436,length:1,convRule:ny},{start:11437,length:1,convRule:Ub},{start:11438,length:1,convRule:ny},{start:11439,length:1,convRule:Ub},{start:11440,length:1,convRule:ny},{start:11441,length:1,convRule:Ub},{start:11442,length:1,convRule:ny},{start:11443,length:1,convRule:Ub},{start:11444,length:1,convRule:ny},{start:11445,length:1,convRule:Ub},{start:11446,length:1,convRule:ny},{start:11447,length:1,convRule:Ub},{start:11448,length:1,convRule:ny},{start:11449,length:1,convRule:Ub},{start:11450,length:1,convRule:ny},{start:11451,length:1,convRule:Ub},{start:11452,length:1,convRule:ny},{start:11453,length:1,convRule:Ub},{start:11454,length:1,convRule:ny},{start:11455,length:1,convRule:Ub},{start:11456,length:1,convRule:ny},{start:11457,length:1,convRule:Ub},{start:11458,length:1,convRule:ny},{start:11459,length:1,convRule:Ub},{start:11460,length:1,convRule:ny},{start:11461,length:1,convRule:Ub},{start:11462,length:1,convRule:ny},{start:11463,length:1,convRule:Ub},{start:11464,length:1,convRule:ny},{start:11465,length:1,convRule:Ub},{start:11466,length:1,convRule:ny},{start:11467,length:1,convRule:Ub},{start:11468,length:1,convRule:ny},{start:11469,length:1,convRule:Ub},{start:11470,length:1,convRule:ny},{start:11471,length:1,convRule:Ub},{start:11472,length:1,convRule:ny},{start:11473,length:1,convRule:Ub},{start:11474,length:1,convRule:ny},{start:11475,length:1,convRule:Ub},{start:11476,length:1,convRule:ny},{start:11477,length:1,convRule:Ub},{start:11478,length:1,convRule:ny},{start:11479,length:1,convRule:Ub},{start:11480,length:1,convRule:ny},{start:11481,length:1,convRule:Ub},{start:11482,length:1,convRule:ny},{start:11483,length:1,convRule:Ub},{start:11484,length:1,convRule:ny},{start:11485,length:1,convRule:Ub},{start:11486,length:1,convRule:ny},{start:11487,length:1,convRule:Ub},{start:11488,length:1,convRule:ny},{start:11489,length:1,convRule:Ub},{start:11490,length:1,convRule:ny},{start:11491,length:1,convRule:Ub},{start:11492,length:1,convRule:Mb},{start:11493,length:6,convRule:Iw},{start:11499,length:1,convRule:ny},{start:11500,length:1,convRule:Ub},{start:11501,length:1,convRule:ny},{start:11502,length:1,convRule:Ub},{start:11503,length:3,convRule:rx},{start:11506,length:1,convRule:ny},{start:11507,length:1,convRule:Ub},{start:11513,length:4,convRule:Uw},{start:11517,length:1,convRule:Yw},{start:11518,length:2,convRule:Uw},{start:11520,length:38,convRule:Db},{start:11559,length:1,convRule:Db},{start:11565,length:1,convRule:Db},{start:11568,length:56,convRule:By},{start:11631,length:1,convRule:Wy},{start:11632,length:1,convRule:Uw},{start:11647,length:1,convRule:rx},{start:11648,length:23,convRule:By},{start:11680,length:7,convRule:By},{start:11688,length:7,convRule:By},{start:11696,length:7,convRule:By},{start:11704,length:7,convRule:By},{start:11712,length:7,convRule:By},{start:11720,length:7,convRule:By},{start:11728,length:7,convRule:By},{start:11736,length:7,convRule:By},{start:11744,length:32,convRule:rx},{start:11776,length:2,convRule:Uw},{start:11778,length:1,convRule:Ww},{start:11779,length:1,convRule:Hw},{start:11780,length:1,convRule:Ww},{start:11781,length:1,convRule:Hw},{start:11782,length:3,convRule:Uw},{start:11785,length:1,convRule:Ww},{start:11786,length:1,convRule:Hw},{start:11787,length:1,convRule:Uw},{start:11788,length:1,convRule:Ww},{start:11789,length:1,convRule:Hw},{start:11790,length:9,convRule:Uw},{start:11799,length:1,convRule:Xw},{start:11800,length:2,convRule:Uw},{start:11802,length:1,convRule:Xw},{start:11803,length:1,convRule:Uw},{start:11804,length:1,convRule:Ww},{start:11805,length:1,convRule:Hw},{start:11806,length:2,convRule:Uw},{start:11808,length:1,convRule:Ww},{start:11809,length:1,convRule:Hw},{start:11810,length:1,convRule:Bw},{start:11811,length:1,convRule:qw},{start:11812,length:1,convRule:Bw},{start:11813,length:1,convRule:qw},{start:11814,length:1,convRule:Bw},{start:11815,length:1,convRule:qw},{start:11816,length:1,convRule:Bw},{start:11817,length:1,convRule:qw},{start:11818,length:5,convRule:Uw},{start:11823,length:1,convRule:Wy},{start:11824,length:10,convRule:Uw},{start:11834,length:2,convRule:Xw},{start:11836,length:4,convRule:Uw},{start:11840,length:1,convRule:Xw},{start:11841,length:1,convRule:Uw},{start:11842,length:1,convRule:Bw},{start:11843,length:13,convRule:Uw},{start:11856,length:2,convRule:Iw},{start:11858,length:1,convRule:Uw},{start:11904,length:26,convRule:Iw},{start:11931,length:89,convRule:Iw},{start:12032,length:214,convRule:Iw},{start:12272,length:12,convRule:Iw},{start:12288,length:1,convRule:Ew},{start:12289,length:3,convRule:Uw},{start:12292,length:1,convRule:Iw},{start:12293,length:1,convRule:Wy},{start:12294,length:1,convRule:By},{start:12295,length:1,convRule:Zw},{start:12296,length:1,convRule:Bw},{start:12297,length:1,convRule:qw},{start:12298,length:1,convRule:Bw},{start:12299,length:1,convRule:qw},{start:12300,length:1,convRule:Bw},{start:12301,length:1,convRule:qw},{start:12302,length:1,convRule:Bw},{start:12303,length:1,convRule:qw},{start:12304,length:1,convRule:Bw},{start:12305,length:1,convRule:qw},{start:12306,length:2,convRule:Iw},{start:12308,length:1,convRule:Bw},{start:12309,length:1,convRule:qw},{start:12310,length:1,convRule:Bw},{start:12311,length:1,convRule:qw},{start:12312,length:1,convRule:Bw},{start:12313,length:1,convRule:qw},{start:12314,length:1,convRule:Bw},{start:12315,length:1,convRule:qw},{start:12316,length:1,convRule:Xw},{start:12317,length:1,convRule:Bw},{start:12318,length:2,convRule:qw},{start:12320,length:1,convRule:Iw},{start:12321,length:9,convRule:Zw},{start:12330,length:4,convRule:rx},{start:12334,length:2,convRule:ax},{start:12336,length:1,convRule:Xw},{start:12337,length:5,convRule:Wy},{start:12342,length:2,convRule:Iw},{start:12344,length:3,convRule:Zw},{start:12347,length:1,convRule:Wy},{start:12348,length:1,convRule:By},{start:12349,length:1,convRule:Uw},{start:12350,length:2,convRule:Iw},{start:12353,length:86,convRule:By},{start:12441,length:2,convRule:rx},{start:12443,length:2,convRule:Fw},{start:12445,length:2,convRule:Wy},{start:12447,length:1,convRule:By},{start:12448,length:1,convRule:Xw},{start:12449,length:90,convRule:By},{start:12539,length:1,convRule:Uw},{start:12540,length:3,convRule:Wy},{start:12543,length:1,convRule:By},{start:12549,length:43,convRule:By},{start:12593,length:94,convRule:By},{start:12688,length:2,convRule:Iw},{start:12690,length:4,convRule:Yw},{start:12694,length:10,convRule:Iw},{start:12704,length:32,convRule:By},{start:12736,length:36,convRule:Iw},{start:12784,length:16,convRule:By},{start:12800,length:31,convRule:Iw},{start:12832,length:10,convRule:Yw},{start:12842,length:30,convRule:Iw},{start:12872,length:8,convRule:Yw},{start:12880,length:1,convRule:Iw},{start:12881,length:15,convRule:Yw},{start:12896,length:32,convRule:Iw},{start:12928,length:10,convRule:Yw},{start:12938,length:39,convRule:Iw},{start:12977,length:15,convRule:Yw},{start:12992,length:320,convRule:Iw},{start:13312,length:6592,convRule:By},{start:19904,length:64,convRule:Iw},{start:19968,length:20989,convRule:By},{start:40960,length:21,convRule:By},{start:40981,length:1,convRule:Wy},{start:40982,length:1143,convRule:By},{start:42128,length:55,convRule:Iw},{start:42192,length:40,convRule:By},{start:42232,length:6,convRule:Wy},{start:42238,length:2,convRule:Uw},{start:42240,length:268,convRule:By},{start:42508,length:1,convRule:Wy},{start:42509,length:3,convRule:Uw},{start:42512,length:16,convRule:By},{start:42528,length:10,convRule:ex},{start:42538,length:2,convRule:By},{start:42560,length:1,convRule:ny},{start:42561,length:1,convRule:Ub},{start:42562,length:1,convRule:ny},{start:42563,length:1,convRule:Ub},{start:42564,length:1,convRule:ny},{start:42565,length:1,convRule:Ub},{start:42566,length:1,convRule:ny},{start:42567,length:1,convRule:Ub},{start:42568,length:1,convRule:ny},{start:42569,length:1,convRule:Ub},{start:42570,length:1,convRule:ny},{start:42571,length:1,convRule:Ub},{start:42572,length:1,convRule:ny},{start:42573,length:1,convRule:Ub},{start:42574,length:1,convRule:ny},{start:42575,length:1,convRule:Ub},{start:42576,length:1,convRule:ny},{start:42577,length:1,convRule:Ub},{start:42578,length:1,convRule:ny},{start:42579,length:1,convRule:Ub},{start:42580,length:1,convRule:ny},{start:42581,length:1,convRule:Ub},{start:42582,length:1,convRule:ny},{start:42583,length:1,convRule:Ub},{start:42584,length:1,convRule:ny},{start:42585,length:1,convRule:Ub},{start:42586,length:1,convRule:ny},{start:42587,length:1,convRule:Ub},{start:42588,length:1,convRule:ny},{start:42589,length:1,convRule:Ub},{start:42590,length:1,convRule:ny},{start:42591,length:1,convRule:Ub},{start:42592,length:1,convRule:ny},{start:42593,length:1,convRule:Ub},{start:42594,length:1,convRule:ny},{start:42595,length:1,convRule:Ub},{start:42596,length:1,convRule:ny},{start:42597,length:1,convRule:Ub},{start:42598,length:1,convRule:ny},{start:42599,length:1,convRule:Ub},{start:42600,length:1,convRule:ny},{start:42601,length:1,convRule:Ub},{start:42602,length:1,convRule:ny},{start:42603,length:1,convRule:Ub},{start:42604,length:1,convRule:ny},{start:42605,length:1,convRule:Ub},{start:42606,length:1,convRule:By},{start:42607,length:1,convRule:rx},{start:42608,length:3,convRule:ox},{start:42611,length:1,convRule:Uw},{start:42612,length:10,convRule:rx},{start:42622,length:1,convRule:Uw},{start:42623,length:1,convRule:Wy},{start:42624,length:1,convRule:ny},{start:42625,length:1,convRule:Ub},{start:42626,length:1,convRule:ny},{start:42627,length:1,convRule:Ub},{start:42628,length:1,convRule:ny},{start:42629,length:1,convRule:Ub},{start:42630,length:1,convRule:ny},{start:42631,length:1,convRule:Ub},{start:42632,length:1,convRule:ny},{start:42633,length:1,convRule:Ub},{start:42634,length:1,convRule:ny},{start:42635,length:1,convRule:Ub},{start:42636,length:1,convRule:ny},{start:42637,length:1,convRule:Ub},{start:42638,length:1,convRule:ny},{start:42639,length:1,convRule:Ub},{start:42640,length:1,convRule:ny},{start:42641,length:1,convRule:Ub},{start:42642,length:1,convRule:ny},{start:42643,length:1,convRule:Ub},{start:42644,length:1,convRule:ny},{start:42645,length:1,convRule:Ub},{start:42646,length:1,convRule:ny},{start:42647,length:1,convRule:Ub},{start:42648,length:1,convRule:ny},{start:42649,length:1,convRule:Ub},{start:42650,length:1,convRule:ny},{start:42651,length:1,convRule:Ub},{start:42652,length:2,convRule:Wy},{start:42654,length:2,convRule:rx},{start:42656,length:70,convRule:By},{start:42726,length:10,convRule:Zw},{start:42736,length:2,convRule:rx},{start:42738,length:6,convRule:Uw},{start:42752,length:23,convRule:Fw},{start:42775,length:9,convRule:Wy},{start:42784,length:2,convRule:Fw},{start:42786,length:1,convRule:ny},{start:42787,length:1,convRule:Ub},{start:42788,length:1,convRule:ny},{start:42789,length:1,convRule:Ub},{start:42790,length:1,convRule:ny},{start:42791,length:1,convRule:Ub},{start:42792,length:1,convRule:ny},{start:42793,length:1,convRule:Ub},{start:42794,length:1,convRule:ny},{start:42795,length:1,convRule:Ub},{start:42796,length:1,convRule:ny},{start:42797,length:1,convRule:Ub},{start:42798,length:1,convRule:ny},{start:42799,length:1,convRule:Ub},{start:42800,length:2,convRule:Mb},{start:42802,length:1,convRule:ny},{start:42803,length:1,convRule:Ub},{start:42804,length:1,convRule:ny},{start:42805,length:1,convRule:Ub},{start:42806,length:1,convRule:ny},{start:42807,length:1,convRule:Ub},{start:42808,length:1,convRule:ny},{start:42809,length:1,convRule:Ub},{start:42810,length:1,convRule:ny},{start:42811,length:1,convRule:Ub},{start:42812,length:1,convRule:ny},{start:42813,length:1,convRule:Ub},{start:42814,length:1,convRule:ny},{start:42815,length:1,convRule:Ub},{start:42816,length:1,convRule:ny},{start:42817,length:1,convRule:Ub},{start:42818,length:1,convRule:ny},{start:42819,length:1,convRule:Ub},{start:42820,length:1,convRule:ny},{start:42821,length:1,convRule:Ub},{start:42822,length:1,convRule:ny},{start:42823,length:1,convRule:Ub},{start:42824,length:1,convRule:ny},{start:42825,length:1,convRule:Ub},{start:42826,length:1,convRule:ny},{start:42827,length:1,convRule:Ub},{start:42828,length:1,convRule:ny},{start:42829,length:1,convRule:Ub},{start:42830,length:1,convRule:ny},{start:42831,length:1,convRule:Ub},{start:42832,length:1,convRule:ny},{start:42833,length:1,convRule:Ub},{start:42834,length:1,convRule:ny},{start:42835,length:1,convRule:Ub},{start:42836,length:1,convRule:ny},{start:42837,length:1,convRule:Ub},{start:42838,length:1,convRule:ny},{start:42839,length:1,convRule:Ub},{start:42840,length:1,convRule:ny},{start:42841,length:1,convRule:Ub},{start:42842,length:1,convRule:ny},{start:42843,length:1,convRule:Ub},{start:42844,length:1,convRule:ny},{start:42845,length:1,convRule:Ub},{start:42846,length:1,convRule:ny},{start:42847,length:1,convRule:Ub},{start:42848,length:1,convRule:ny},{start:42849,length:1,convRule:Ub},{start:42850,length:1,convRule:ny},{start:42851,length:1,convRule:Ub},{start:42852,length:1,convRule:ny},{start:42853,length:1,convRule:Ub},{start:42854,length:1,convRule:ny},{start:42855,length:1,convRule:Ub},{start:42856,length:1,convRule:ny},{start:42857,length:1,convRule:Ub},{start:42858,length:1,convRule:ny},{start:42859,length:1,convRule:Ub},{start:42860,length:1,convRule:ny},{start:42861,length:1,convRule:Ub},{start:42862,length:1,convRule:ny},{start:42863,length:1,convRule:Ub},{start:42864,length:1,convRule:Wy},{start:42865,length:8,convRule:Mb},{start:42873,length:1,convRule:ny},{start:42874,length:1,convRule:Ub},{start:42875,length:1,convRule:ny},{start:42876,length:1,convRule:Ub},{start:42877,length:1,convRule:Ux},{start:42878,length:1,convRule:ny},{start:42879,length:1,convRule:Ub},{start:42880,length:1,convRule:ny},{start:42881,length:1,convRule:Ub},{start:42882,length:1,convRule:ny},{start:42883,length:1,convRule:Ub},{start:42884,length:1,convRule:ny},{start:42885,length:1,convRule:Ub},{start:42886,length:1,convRule:ny},{start:42887,length:1,convRule:Ub},{start:42888,length:1,convRule:Wy},{start:42889,length:2,convRule:Fw},{start:42891,length:1,convRule:ny},{start:42892,length:1,convRule:Ub},{start:42893,length:1,convRule:Wx},{start:42894,length:1,convRule:Mb},{start:42895,length:1,convRule:By},{start:42896,length:1,convRule:ny},{start:42897,length:1,convRule:Ub},{start:42898,length:1,convRule:ny},{start:42899,length:1,convRule:Ub},{start:42900,length:1,convRule:Ib},{start:42901,length:1,convRule:Mb},{start:42902,length:1,convRule:ny},{start:42903,length:1,convRule:Ub},{start:42904,length:1,convRule:ny},{start:42905,length:1,convRule:Ub},{start:42906,length:1,convRule:ny},{start:42907,length:1,convRule:Ub},{start:42908,length:1,convRule:ny},{start:42909,length:1,convRule:Ub},{start:42910,length:1,convRule:ny},{start:42911,length:1,convRule:Ub},{start:42912,length:1,convRule:ny},{start:42913,length:1,convRule:Ub},{start:42914,length:1,convRule:ny},{start:42915,length:1,convRule:Ub},{start:42916,length:1,convRule:ny},{start:42917,length:1,convRule:Ub},{start:42918,length:1,convRule:ny},{start:42919,length:1,convRule:Ub},{start:42920,length:1,convRule:ny},{start:42921,length:1,convRule:Ub},{start:42922,length:1,convRule:Vx},{start:42923,length:1,convRule:Hx},{start:42924,length:1,convRule:qx},{start:42925,length:1,convRule:Xx},{start:42926,length:1,convRule:Vx},{start:42927,length:1,convRule:Mb},{start:42928,length:1,convRule:jx},{start:42929,length:1,convRule:zx},{start:42930,length:1,convRule:Yx},{start:42931,length:1,convRule:Gx},{start:42932,length:1,convRule:ny},{start:42933,length:1,convRule:Ub},{start:42934,length:1,convRule:ny},{start:42935,length:1,convRule:Ub},{start:42936,length:1,convRule:ny},{start:42937,length:1,convRule:Ub},{start:42938,length:1,convRule:ny},{start:42939,length:1,convRule:Ub},{start:42940,length:1,convRule:ny},{start:42941,length:1,convRule:Ub},{start:42942,length:1,convRule:ny},{start:42943,length:1,convRule:Ub},{start:42946,length:1,convRule:ny},{start:42947,length:1,convRule:Ub},{start:42948,length:1,convRule:Zx},{start:42949,length:1,convRule:Kx},{start:42950,length:1,convRule:Jx},{start:42951,length:1,convRule:ny},{start:42952,length:1,convRule:Ub},{start:42953,length:1,convRule:ny},{start:42954,length:1,convRule:Ub},{start:42997,length:1,convRule:ny},{start:42998,length:1,convRule:Ub},{start:42999,length:1,convRule:By},{start:43e3,length:2,convRule:Wy},{start:43002,length:1,convRule:Mb},{start:43003,length:7,convRule:By},{start:43010,length:1,convRule:rx},{start:43011,length:3,convRule:By},{start:43014,length:1,convRule:rx},{start:43015,length:4,convRule:By},{start:43019,length:1,convRule:rx},{start:43020,length:23,convRule:By},{start:43043,length:2,convRule:ax},{start:43045,length:2,convRule:rx},{start:43047,length:1,convRule:ax},{start:43048,length:4,convRule:Iw},{start:43052,length:1,convRule:rx},{start:43056,length:6,convRule:Yw},{start:43062,length:2,convRule:Iw},{start:43064,length:1,convRule:$w},{start:43065,length:1,convRule:Iw},{start:43072,length:52,convRule:By},{start:43124,length:4,convRule:Uw},{start:43136,length:2,convRule:ax},{start:43138,length:50,convRule:By},{start:43188,length:16,convRule:ax},{start:43204,length:2,convRule:rx},{start:43214,length:2,convRule:Uw},{start:43216,length:10,convRule:ex},{start:43232,length:18,convRule:rx},{start:43250,length:6,convRule:By},{start:43256,length:3,convRule:Uw},{start:43259,length:1,convRule:By},{start:43260,length:1,convRule:Uw},{start:43261,length:2,convRule:By},{start:43263,length:1,convRule:rx},{start:43264,length:10,convRule:ex},{start:43274,length:28,convRule:By},{start:43302,length:8,convRule:rx},{start:43310,length:2,convRule:Uw},{start:43312,length:23,convRule:By},{start:43335,length:11,convRule:rx},{start:43346,length:2,convRule:ax},{start:43359,length:1,convRule:Uw},{start:43360,length:29,convRule:By},{start:43392,length:3,convRule:rx},{start:43395,length:1,convRule:ax},{start:43396,length:47,convRule:By},{start:43443,length:1,convRule:rx},{start:43444,length:2,convRule:ax},{start:43446,length:4,convRule:rx},{start:43450,length:2,convRule:ax},{start:43452,length:2,convRule:rx},{start:43454,length:3,convRule:ax},{start:43457,length:13,convRule:Uw},{start:43471,length:1,convRule:Wy},{start:43472,length:10,convRule:ex},{start:43486,length:2,convRule:Uw},{start:43488,length:5,convRule:By},{start:43493,length:1,convRule:rx},{start:43494,length:1,convRule:Wy},{start:43495,length:9,convRule:By},{start:43504,length:10,convRule:ex},{start:43514,length:5,convRule:By},{start:43520,length:41,convRule:By},{start:43561,length:6,convRule:rx},{start:43567,length:2,convRule:ax},{start:43569,length:2,convRule:rx},{start:43571,length:2,convRule:ax},{start:43573,length:2,convRule:rx},{start:43584,length:3,convRule:By},{start:43587,length:1,convRule:rx},{start:43588,length:8,convRule:By},{start:43596,length:1,convRule:rx},{start:43597,length:1,convRule:ax},{start:43600,length:10,convRule:ex},{start:43612,length:4,convRule:Uw},{start:43616,length:16,convRule:By},{start:43632,length:1,convRule:Wy},{start:43633,length:6,convRule:By},{start:43639,length:3,convRule:Iw},{start:43642,length:1,convRule:By},{start:43643,length:1,convRule:ax},{start:43644,length:1,convRule:rx},{start:43645,length:1,convRule:ax},{start:43646,length:50,convRule:By},{start:43696,length:1,convRule:rx},{start:43697,length:1,convRule:By},{start:43698,length:3,convRule:rx},{start:43701,length:2,convRule:By},{start:43703,length:2,convRule:rx},{start:43705,length:5,convRule:By},{start:43710,length:2,convRule:rx},{start:43712,length:1,convRule:By},{start:43713,length:1,convRule:rx},{start:43714,length:1,convRule:By},{start:43739,length:2,convRule:By},{start:43741,length:1,convRule:Wy},{start:43742,length:2,convRule:Uw},{start:43744,length:11,convRule:By},{start:43755,length:1,convRule:ax},{start:43756,length:2,convRule:rx},{start:43758,length:2,convRule:ax},{start:43760,length:2,convRule:Uw},{start:43762,length:1,convRule:By},{start:43763,length:2,convRule:Wy},{start:43765,length:1,convRule:ax},{start:43766,length:1,convRule:rx},{start:43777,length:6,convRule:By},{start:43785,length:6,convRule:By},{start:43793,length:6,convRule:By},{start:43808,length:7,convRule:By},{start:43816,length:7,convRule:By},{start:43824,length:35,convRule:Mb},{start:43859,length:1,convRule:Nb},{start:43860,length:7,convRule:Mb},{start:43867,length:1,convRule:Fw},{start:43868,length:4,convRule:Wy},{start:43872,length:9,convRule:Mb},{start:43881,length:1,convRule:Wy},{start:43882,length:2,convRule:Fw},{start:43888,length:80,convRule:Qb},{start:43968,length:35,convRule:By},{start:44003,length:2,convRule:ax},{start:44005,length:1,convRule:rx},{start:44006,length:2,convRule:ax},{start:44008,length:1,convRule:rx},{start:44009,length:2,convRule:ax},{start:44011,length:1,convRule:Uw},{start:44012,length:1,convRule:ax},{start:44013,length:1,convRule:rx},{start:44016,length:10,convRule:ex},{start:44032,length:11172,convRule:By},{start:55216,length:23,convRule:By},{start:55243,length:49,convRule:By},{start:55296,length:896,convRule:PC},{start:56192,length:128,convRule:PC},{start:56320,length:1024,convRule:PC},{start:57344,length:6400,convRule:EC},{start:63744,length:366,convRule:By},{start:64112,length:106,convRule:By},{start:64256,length:7,convRule:Mb},{start:64275,length:5,convRule:Mb},{start:64285,length:1,convRule:By},{start:64286,length:1,convRule:rx},{start:64287,length:10,convRule:By},{start:64297,length:1,convRule:Mw},{start:64298,length:13,convRule:By},{start:64312,length:5,convRule:By},{start:64318,length:1,convRule:By},{start:64320,length:2,convRule:By},{start:64323,length:2,convRule:By},{start:64326,length:108,convRule:By},{start:64434,length:16,convRule:Fw},{start:64467,length:363,convRule:By},{start:64830,length:1,convRule:qw},{start:64831,length:1,convRule:Bw},{start:64848,length:64,convRule:By},{start:64914,length:54,convRule:By},{start:65008,length:12,convRule:By},{start:65020,length:1,convRule:$w},{start:65021,length:1,convRule:Iw},{start:65024,length:16,convRule:rx},{start:65040,length:7,convRule:Uw},{start:65047,length:1,convRule:Bw},{start:65048,length:1,convRule:qw},{start:65049,length:1,convRule:Uw},{start:65056,length:16,convRule:rx},{start:65072,length:1,convRule:Uw},{start:65073,length:2,convRule:Xw},{start:65075,length:2,convRule:jw},{start:65077,length:1,convRule:Bw},{start:65078,length:1,convRule:qw},{start:65079,length:1,convRule:Bw},{start:65080,length:1,convRule:qw},{start:65081,length:1,convRule:Bw},{start:65082,length:1,convRule:qw},{start:65083,length:1,convRule:Bw},{start:65084,length:1,convRule:qw},{start:65085,length:1,convRule:Bw},{start:65086,length:1,convRule:qw},{start:65087,length:1,convRule:Bw},{start:65088,length:1,convRule:qw},{start:65089,length:1,convRule:Bw},{start:65090,length:1,convRule:qw},{start:65091,length:1,convRule:Bw},{start:65092,length:1,convRule:qw},{start:65093,length:2,convRule:Uw},{start:65095,length:1,convRule:Bw},{start:65096,length:1,convRule:qw},{start:65097,length:4,convRule:Uw},{start:65101,length:3,convRule:jw},{start:65104,length:3,convRule:Uw},{start:65108,length:4,convRule:Uw},{start:65112,length:1,convRule:Xw},{start:65113,length:1,convRule:Bw},{start:65114,length:1,convRule:qw},{start:65115,length:1,convRule:Bw},{start:65116,length:1,convRule:qw},{start:65117,length:1,convRule:Bw},{start:65118,length:1,convRule:qw},{start:65119,length:3,convRule:Uw},{start:65122,length:1,convRule:Mw},{start:65123,length:1,convRule:Xw},{start:65124,length:3,convRule:Mw},{start:65128,length:1,convRule:Uw},{start:65129,length:1,convRule:$w},{start:65130,length:2,convRule:Uw},{start:65136,length:5,convRule:By},{start:65142,length:135,convRule:By},{start:65279,length:1,convRule:_C},{start:65281,length:3,convRule:Uw},{start:65284,length:1,convRule:$w},{start:65285,length:3,convRule:Uw},{start:65288,length:1,convRule:Bw},{start:65289,length:1,convRule:qw},{start:65290,length:1,convRule:Uw},{start:65291,length:1,convRule:Mw},{start:65292,length:1,convRule:Uw},{start:65293,length:1,convRule:Xw},{start:65294,length:2,convRule:Uw},{start:65296,length:10,convRule:ex},{start:65306,length:2,convRule:Uw},{start:65308,length:3,convRule:Mw},{start:65311,length:2,convRule:Uw},{start:65313,length:26,convRule:Py},{start:65339,length:1,convRule:Bw},{start:65340,length:1,convRule:Uw},{start:65341,length:1,convRule:qw},{start:65342,length:1,convRule:Fw},{start:65343,length:1,convRule:jw},{start:65344,length:1,convRule:Fw},{start:65345,length:26,convRule:ib},{start:65371,length:1,convRule:Bw},{start:65372,length:1,convRule:Mw},{start:65373,length:1,convRule:qw},{start:65374,length:1,convRule:Mw},{start:65375,length:1,convRule:Bw},{start:65376,length:1,convRule:qw},{start:65377,length:1,convRule:Uw},{start:65378,length:1,convRule:Bw},{start:65379,length:1,convRule:qw},{start:65380,length:2,convRule:Uw},{start:65382,length:10,convRule:By},{start:65392,length:1,convRule:Wy},{start:65393,length:45,convRule:By},{start:65438,length:2,convRule:Wy},{start:65440,length:31,convRule:By},{start:65474,length:6,convRule:By},{start:65482,length:6,convRule:By},{start:65490,length:6,convRule:By},{start:65498,length:3,convRule:By},{start:65504,length:2,convRule:$w},{start:65506,length:1,convRule:Mw},{start:65507,length:1,convRule:Fw},{start:65508,length:1,convRule:Iw},{start:65509,length:2,convRule:$w},{start:65512,length:1,convRule:Iw},{start:65513,length:4,convRule:Mw},{start:65517,length:2,convRule:Iw},{start:65529,length:3,convRule:_C},{start:65532,length:2,convRule:Iw},{start:65536,length:12,convRule:By},{start:65549,length:26,convRule:By},{start:65576,length:19,convRule:By},{start:65596,length:2,convRule:By},{start:65599,length:15,convRule:By},{start:65616,length:14,convRule:By},{start:65664,length:123,convRule:By},{start:65792,length:3,convRule:Uw},{start:65799,length:45,convRule:Yw},{start:65847,length:9,convRule:Iw},{start:65856,length:53,convRule:Zw},{start:65909,length:4,convRule:Yw},{start:65913,length:17,convRule:Iw},{start:65930,length:2,convRule:Yw},{start:65932,length:3,convRule:Iw},{start:65936,length:13,convRule:Iw},{start:65952,length:1,convRule:Iw},{start:66e3,length:45,convRule:Iw},{start:66045,length:1,convRule:rx},{start:66176,length:29,convRule:By},{start:66208,length:49,convRule:By},{start:66272,length:1,convRule:rx},{start:66273,length:27,convRule:Yw},{start:66304,length:32,convRule:By},{start:66336,length:4,convRule:Yw},{start:66349,length:20,convRule:By},{start:66369,length:1,convRule:Zw},{start:66370,length:8,convRule:By},{start:66378,length:1,convRule:Zw},{start:66384,length:38,convRule:By},{start:66422,length:5,convRule:rx},{start:66432,length:30,convRule:By},{start:66463,length:1,convRule:Uw},{start:66464,length:36,convRule:By},{start:66504,length:8,convRule:By},{start:66512,length:1,convRule:Uw},{start:66513,length:5,convRule:Zw},{start:66560,length:40,convRule:ty},{start:66600,length:40,convRule:Fb},{start:66640,length:78,convRule:By},{start:66720,length:10,convRule:ex},{start:66736,length:36,convRule:ty},{start:66776,length:36,convRule:Fb},{start:66816,length:40,convRule:By},{start:66864,length:52,convRule:By},{start:66927,length:1,convRule:Uw},{start:67072,length:311,convRule:By},{start:67392,length:22,convRule:By},{start:67424,length:8,convRule:By},{start:67584,length:6,convRule:By},{start:67592,length:1,convRule:By},{start:67594,length:44,convRule:By},{start:67639,length:2,convRule:By},{start:67644,length:1,convRule:By},{start:67647,length:23,convRule:By},{start:67671,length:1,convRule:Uw},{start:67672,length:8,convRule:Yw},{start:67680,length:23,convRule:By},{start:67703,length:2,convRule:Iw},{start:67705,length:7,convRule:Yw},{start:67712,length:31,convRule:By},{start:67751,length:9,convRule:Yw},{start:67808,length:19,convRule:By},{start:67828,length:2,convRule:By},{start:67835,length:5,convRule:Yw},{start:67840,length:22,convRule:By},{start:67862,length:6,convRule:Yw},{start:67871,length:1,convRule:Uw},{start:67872,length:26,convRule:By},{start:67903,length:1,convRule:Uw},{start:67968,length:56,convRule:By},{start:68028,length:2,convRule:Yw},{start:68030,length:2,convRule:By},{start:68032,length:16,convRule:Yw},{start:68050,length:46,convRule:Yw},{start:68096,length:1,convRule:By},{start:68097,length:3,convRule:rx},{start:68101,length:2,convRule:rx},{start:68108,length:4,convRule:rx},{start:68112,length:4,convRule:By},{start:68117,length:3,convRule:By},{start:68121,length:29,convRule:By},{start:68152,length:3,convRule:rx},{start:68159,length:1,convRule:rx},{start:68160,length:9,convRule:Yw},{start:68176,length:9,convRule:Uw},{start:68192,length:29,convRule:By},{start:68221,length:2,convRule:Yw},{start:68223,length:1,convRule:Uw},{start:68224,length:29,convRule:By},{start:68253,length:3,convRule:Yw},{start:68288,length:8,convRule:By},{start:68296,length:1,convRule:Iw},{start:68297,length:28,convRule:By},{start:68325,length:2,convRule:rx},{start:68331,length:5,convRule:Yw},{start:68336,length:7,convRule:Uw},{start:68352,length:54,convRule:By},{start:68409,length:7,convRule:Uw},{start:68416,length:22,convRule:By},{start:68440,length:8,convRule:Yw},{start:68448,length:19,convRule:By},{start:68472,length:8,convRule:Yw},{start:68480,length:18,convRule:By},{start:68505,length:4,convRule:Uw},{start:68521,length:7,convRule:Yw},{start:68608,length:73,convRule:By},{start:68736,length:51,convRule:Dy},{start:68800,length:51,convRule:Xy},{start:68858,length:6,convRule:Yw},{start:68864,length:36,convRule:By},{start:68900,length:4,convRule:rx},{start:68912,length:10,convRule:ex},{start:69216,length:31,convRule:Yw},{start:69248,length:42,convRule:By},{start:69291,length:2,convRule:rx},{start:69293,length:1,convRule:Xw},{start:69296,length:2,convRule:By},{start:69376,length:29,convRule:By},{start:69405,length:10,convRule:Yw},{start:69415,length:1,convRule:By},{start:69424,length:22,convRule:By},{start:69446,length:11,convRule:rx},{start:69457,length:4,convRule:Yw},{start:69461,length:5,convRule:Uw},{start:69552,length:21,convRule:By},{start:69573,length:7,convRule:Yw},{start:69600,length:23,convRule:By},{start:69632,length:1,convRule:ax},{start:69633,length:1,convRule:rx},{start:69634,length:1,convRule:ax},{start:69635,length:53,convRule:By},{start:69688,length:15,convRule:rx},{start:69703,length:7,convRule:Uw},{start:69714,length:20,convRule:Yw},{start:69734,length:10,convRule:ex},{start:69759,length:3,convRule:rx},{start:69762,length:1,convRule:ax},{start:69763,length:45,convRule:By},{start:69808,length:3,convRule:ax},{start:69811,length:4,convRule:rx},{start:69815,length:2,convRule:ax},{start:69817,length:2,convRule:rx},{start:69819,length:2,convRule:Uw},{start:69821,length:1,convRule:_C},{start:69822,length:4,convRule:Uw},{start:69837,length:1,convRule:_C},{start:69840,length:25,convRule:By},{start:69872,length:10,convRule:ex},{start:69888,length:3,convRule:rx},{start:69891,length:36,convRule:By},{start:69927,length:5,convRule:rx},{start:69932,length:1,convRule:ax},{start:69933,length:8,convRule:rx},{start:69942,length:10,convRule:ex},{start:69952,length:4,convRule:Uw},{start:69956,length:1,convRule:By},{start:69957,length:2,convRule:ax},{start:69959,length:1,convRule:By},{start:69968,length:35,convRule:By},{start:70003,length:1,convRule:rx},{start:70004,length:2,convRule:Uw},{start:70006,length:1,convRule:By},{start:70016,length:2,convRule:rx},{start:70018,length:1,convRule:ax},{start:70019,length:48,convRule:By},{start:70067,length:3,convRule:ax},{start:70070,length:9,convRule:rx},{start:70079,length:2,convRule:ax},{start:70081,length:4,convRule:By},{start:70085,length:4,convRule:Uw},{start:70089,length:4,convRule:rx},{start:70093,length:1,convRule:Uw},{start:70094,length:1,convRule:ax},{start:70095,length:1,convRule:rx},{start:70096,length:10,convRule:ex},{start:70106,length:1,convRule:By},{start:70107,length:1,convRule:Uw},{start:70108,length:1,convRule:By},{start:70109,length:3,convRule:Uw},{start:70113,length:20,convRule:Yw},{start:70144,length:18,convRule:By},{start:70163,length:25,convRule:By},{start:70188,length:3,convRule:ax},{start:70191,length:3,convRule:rx},{start:70194,length:2,convRule:ax},{start:70196,length:1,convRule:rx},{start:70197,length:1,convRule:ax},{start:70198,length:2,convRule:rx},{start:70200,length:6,convRule:Uw},{start:70206,length:1,convRule:rx},{start:70272,length:7,convRule:By},{start:70280,length:1,convRule:By},{start:70282,length:4,convRule:By},{start:70287,length:15,convRule:By},{start:70303,length:10,convRule:By},{start:70313,length:1,convRule:Uw},{start:70320,length:47,convRule:By},{start:70367,length:1,convRule:rx},{start:70368,length:3,convRule:ax},{start:70371,length:8,convRule:rx},{start:70384,length:10,convRule:ex},{start:70400,length:2,convRule:rx},{start:70402,length:2,convRule:ax},{start:70405,length:8,convRule:By},{start:70415,length:2,convRule:By},{start:70419,length:22,convRule:By},{start:70442,length:7,convRule:By},{start:70450,length:2,convRule:By},{start:70453,length:5,convRule:By},{start:70459,length:2,convRule:rx},{start:70461,length:1,convRule:By},{start:70462,length:2,convRule:ax},{start:70464,length:1,convRule:rx},{start:70465,length:4,convRule:ax},{start:70471,length:2,convRule:ax},{start:70475,length:3,convRule:ax},{start:70480,length:1,convRule:By},{start:70487,length:1,convRule:ax},{start:70493,length:5,convRule:By},{start:70498,length:2,convRule:ax},{start:70502,length:7,convRule:rx},{start:70512,length:5,convRule:rx},{start:70656,length:53,convRule:By},{start:70709,length:3,convRule:ax},{start:70712,length:8,convRule:rx},{start:70720,length:2,convRule:ax},{start:70722,length:3,convRule:rx},{start:70725,length:1,convRule:ax},{start:70726,length:1,convRule:rx},{start:70727,length:4,convRule:By},{start:70731,length:5,convRule:Uw},{start:70736,length:10,convRule:ex},{start:70746,length:2,convRule:Uw},{start:70749,length:1,convRule:Uw},{start:70750,length:1,convRule:rx},{start:70751,length:3,convRule:By},{start:70784,length:48,convRule:By},{start:70832,length:3,convRule:ax},{start:70835,length:6,convRule:rx},{start:70841,length:1,convRule:ax},{start:70842,length:1,convRule:rx},{start:70843,length:4,convRule:ax},{start:70847,length:2,convRule:rx},{start:70849,length:1,convRule:ax},{start:70850,length:2,convRule:rx},{start:70852,length:2,convRule:By},{start:70854,length:1,convRule:Uw},{start:70855,length:1,convRule:By},{start:70864,length:10,convRule:ex},{start:71040,length:47,convRule:By},{start:71087,length:3,convRule:ax},{start:71090,length:4,convRule:rx},{start:71096,length:4,convRule:ax},{start:71100,length:2,convRule:rx},{start:71102,length:1,convRule:ax},{start:71103,length:2,convRule:rx},{start:71105,length:23,convRule:Uw},{start:71128,length:4,convRule:By},{start:71132,length:2,convRule:rx},{start:71168,length:48,convRule:By},{start:71216,length:3,convRule:ax},{start:71219,length:8,convRule:rx},{start:71227,length:2,convRule:ax},{start:71229,length:1,convRule:rx},{start:71230,length:1,convRule:ax},{start:71231,length:2,convRule:rx},{start:71233,length:3,convRule:Uw},{start:71236,length:1,convRule:By},{start:71248,length:10,convRule:ex},{start:71264,length:13,convRule:Uw},{start:71296,length:43,convRule:By},{start:71339,length:1,convRule:rx},{start:71340,length:1,convRule:ax},{start:71341,length:1,convRule:rx},{start:71342,length:2,convRule:ax},{start:71344,length:6,convRule:rx},{start:71350,length:1,convRule:ax},{start:71351,length:1,convRule:rx},{start:71352,length:1,convRule:By},{start:71360,length:10,convRule:ex},{start:71424,length:27,convRule:By},{start:71453,length:3,convRule:rx},{start:71456,length:2,convRule:ax},{start:71458,length:4,convRule:rx},{start:71462,length:1,convRule:ax},{start:71463,length:5,convRule:rx},{start:71472,length:10,convRule:ex},{start:71482,length:2,convRule:Yw},{start:71484,length:3,convRule:Uw},{start:71487,length:1,convRule:Iw},{start:71680,length:44,convRule:By},{start:71724,length:3,convRule:ax},{start:71727,length:9,convRule:rx},{start:71736,length:1,convRule:ax},{start:71737,length:2,convRule:rx},{start:71739,length:1,convRule:Uw},{start:71840,length:32,convRule:Py},{start:71872,length:32,convRule:ib},{start:71904,length:10,convRule:ex},{start:71914,length:9,convRule:Yw},{start:71935,length:8,convRule:By},{start:71945,length:1,convRule:By},{start:71948,length:8,convRule:By},{start:71957,length:2,convRule:By},{start:71960,length:24,convRule:By},{start:71984,length:6,convRule:ax},{start:71991,length:2,convRule:ax},{start:71995,length:2,convRule:rx},{start:71997,length:1,convRule:ax},{start:71998,length:1,convRule:rx},{start:71999,length:1,convRule:By},{start:72e3,length:1,convRule:ax},{start:72001,length:1,convRule:By},{start:72002,length:1,convRule:ax},{start:72003,length:1,convRule:rx},{start:72004,length:3,convRule:Uw},{start:72016,length:10,convRule:ex},{start:72096,length:8,convRule:By},{start:72106,length:39,convRule:By},{start:72145,length:3,convRule:ax},{start:72148,length:4,convRule:rx},{start:72154,length:2,convRule:rx},{start:72156,length:4,convRule:ax},{start:72160,length:1,convRule:rx},{start:72161,length:1,convRule:By},{start:72162,length:1,convRule:Uw},{start:72163,length:1,convRule:By},{start:72164,length:1,convRule:ax},{start:72192,length:1,convRule:By},{start:72193,length:10,convRule:rx},{start:72203,length:40,convRule:By},{start:72243,length:6,convRule:rx},{start:72249,length:1,convRule:ax},{start:72250,length:1,convRule:By},{start:72251,length:4,convRule:rx},{start:72255,length:8,convRule:Uw},{start:72263,length:1,convRule:rx},{start:72272,length:1,convRule:By},{start:72273,length:6,convRule:rx},{start:72279,length:2,convRule:ax},{start:72281,length:3,convRule:rx},{start:72284,length:46,convRule:By},{start:72330,length:13,convRule:rx},{start:72343,length:1,convRule:ax},{start:72344,length:2,convRule:rx},{start:72346,length:3,convRule:Uw},{start:72349,length:1,convRule:By},{start:72350,length:5,convRule:Uw},{start:72384,length:57,convRule:By},{start:72704,length:9,convRule:By},{start:72714,length:37,convRule:By},{start:72751,length:1,convRule:ax},{start:72752,length:7,convRule:rx},{start:72760,length:6,convRule:rx},{start:72766,length:1,convRule:ax},{start:72767,length:1,convRule:rx},{start:72768,length:1,convRule:By},{start:72769,length:5,convRule:Uw},{start:72784,length:10,convRule:ex},{start:72794,length:19,convRule:Yw},{start:72816,length:2,convRule:Uw},{start:72818,length:30,convRule:By},{start:72850,length:22,convRule:rx},{start:72873,length:1,convRule:ax},{start:72874,length:7,convRule:rx},{start:72881,length:1,convRule:ax},{start:72882,length:2,convRule:rx},{start:72884,length:1,convRule:ax},{start:72885,length:2,convRule:rx},{start:72960,length:7,convRule:By},{start:72968,length:2,convRule:By},{start:72971,length:38,convRule:By},{start:73009,length:6,convRule:rx},{start:73018,length:1,convRule:rx},{start:73020,length:2,convRule:rx},{start:73023,length:7,convRule:rx},{start:73030,length:1,convRule:By},{start:73031,length:1,convRule:rx},{start:73040,length:10,convRule:ex},{start:73056,length:6,convRule:By},{start:73063,length:2,convRule:By},{start:73066,length:32,convRule:By},{start:73098,length:5,convRule:ax},{start:73104,length:2,convRule:rx},{start:73107,length:2,convRule:ax},{start:73109,length:1,convRule:rx},{start:73110,length:1,convRule:ax},{start:73111,length:1,convRule:rx},{start:73112,length:1,convRule:By},{start:73120,length:10,convRule:ex},{start:73440,length:19,convRule:By},{start:73459,length:2,convRule:rx},{start:73461,length:2,convRule:ax},{start:73463,length:2,convRule:Uw},{start:73648,length:1,convRule:By},{start:73664,length:21,convRule:Yw},{start:73685,length:8,convRule:Iw},{start:73693,length:4,convRule:$w},{start:73697,length:17,convRule:Iw},{start:73727,length:1,convRule:Uw},{start:73728,length:922,convRule:By},{start:74752,length:111,convRule:Zw},{start:74864,length:5,convRule:Uw},{start:74880,length:196,convRule:By},{start:77824,length:1071,convRule:By},{start:78896,length:9,convRule:_C},{start:82944,length:583,convRule:By},{start:92160,length:569,convRule:By},{start:92736,length:31,convRule:By},{start:92768,length:10,convRule:ex},{start:92782,length:2,convRule:Uw},{start:92880,length:30,convRule:By},{start:92912,length:5,convRule:rx},{start:92917,length:1,convRule:Uw},{start:92928,length:48,convRule:By},{start:92976,length:7,convRule:rx},{start:92983,length:5,convRule:Uw},{start:92988,length:4,convRule:Iw},{start:92992,length:4,convRule:Wy},{start:92996,length:1,convRule:Uw},{start:92997,length:1,convRule:Iw},{start:93008,length:10,convRule:ex},{start:93019,length:7,convRule:Yw},{start:93027,length:21,convRule:By},{start:93053,length:19,convRule:By},{start:93760,length:32,convRule:Py},{start:93792,length:32,convRule:ib},{start:93824,length:23,convRule:Yw},{start:93847,length:4,convRule:Uw},{start:93952,length:75,convRule:By},{start:94031,length:1,convRule:rx},{start:94032,length:1,convRule:By},{start:94033,length:55,convRule:ax},{start:94095,length:4,convRule:rx},{start:94099,length:13,convRule:Wy},{start:94176,length:2,convRule:Wy},{start:94178,length:1,convRule:Uw},{start:94179,length:1,convRule:Wy},{start:94180,length:1,convRule:rx},{start:94192,length:2,convRule:ax},{start:94208,length:6136,convRule:By},{start:100352,length:1238,convRule:By},{start:101632,length:9,convRule:By},{start:110592,length:287,convRule:By},{start:110928,length:3,convRule:By},{start:110948,length:4,convRule:By},{start:110960,length:396,convRule:By},{start:113664,length:107,convRule:By},{start:113776,length:13,convRule:By},{start:113792,length:9,convRule:By},{start:113808,length:10,convRule:By},{start:113820,length:1,convRule:Iw},{start:113821,length:2,convRule:rx},{start:113823,length:1,convRule:Uw},{start:113824,length:4,convRule:_C},{start:118784,length:246,convRule:Iw},{start:119040,length:39,convRule:Iw},{start:119081,length:60,convRule:Iw},{start:119141,length:2,convRule:ax},{start:119143,length:3,convRule:rx},{start:119146,length:3,convRule:Iw},{start:119149,length:6,convRule:ax},{start:119155,length:8,convRule:_C},{start:119163,length:8,convRule:rx},{start:119171,length:2,convRule:Iw},{start:119173,length:7,convRule:rx},{start:119180,length:30,convRule:Iw},{start:119210,length:4,convRule:rx},{start:119214,length:59,convRule:Iw},{start:119296,length:66,convRule:Iw},{start:119362,length:3,convRule:rx},{start:119365,length:1,convRule:Iw},{start:119520,length:20,convRule:Yw},{start:119552,length:87,convRule:Iw},{start:119648,length:25,convRule:Yw},{start:119808,length:26,convRule:fx},{start:119834,length:26,convRule:Mb},{start:119860,length:26,convRule:fx},{start:119886,length:7,convRule:Mb},{start:119894,length:18,convRule:Mb},{start:119912,length:26,convRule:fx},{start:119938,length:26,convRule:Mb},{start:119964,length:1,convRule:fx},{start:119966,length:2,convRule:fx},{start:119970,length:1,convRule:fx},{start:119973,length:2,convRule:fx},{start:119977,length:4,convRule:fx},{start:119982,length:8,convRule:fx},{start:119990,length:4,convRule:Mb},{start:119995,length:1,convRule:Mb},{start:119997,length:7,convRule:Mb},{start:120005,length:11,convRule:Mb},{start:120016,length:26,convRule:fx},{start:120042,length:26,convRule:Mb},{start:120068,length:2,convRule:fx},{start:120071,length:4,convRule:fx},{start:120077,length:8,convRule:fx},{start:120086,length:7,convRule:fx},{start:120094,length:26,convRule:Mb},{start:120120,length:2,convRule:fx},{start:120123,length:4,convRule:fx},{start:120128,length:5,convRule:fx},{start:120134,length:1,convRule:fx},{start:120138,length:7,convRule:fx},{start:120146,length:26,convRule:Mb},{start:120172,length:26,convRule:fx},{start:120198,length:26,convRule:Mb},{start:120224,length:26,convRule:fx},{start:120250,length:26,convRule:Mb},{start:120276,length:26,convRule:fx},{start:120302,length:26,convRule:Mb},{start:120328,length:26,convRule:fx},{start:120354,length:26,convRule:Mb},{start:120380,length:26,convRule:fx},{start:120406,length:26,convRule:Mb},{start:120432,length:26,convRule:fx},{start:120458,length:28,convRule:Mb},{start:120488,length:25,convRule:fx},{start:120513,length:1,convRule:Mw},{start:120514,length:25,convRule:Mb},{start:120539,length:1,convRule:Mw},{start:120540,length:6,convRule:Mb},{start:120546,length:25,convRule:fx},{start:120571,length:1,convRule:Mw},{start:120572,length:25,convRule:Mb},{start:120597,length:1,convRule:Mw},{start:120598,length:6,convRule:Mb},{start:120604,length:25,convRule:fx},{start:120629,length:1,convRule:Mw},{start:120630,length:25,convRule:Mb},{start:120655,length:1,convRule:Mw},{start:120656,length:6,convRule:Mb},{start:120662,length:25,convRule:fx},{start:120687,length:1,convRule:Mw},{start:120688,length:25,convRule:Mb},{start:120713,length:1,convRule:Mw},{start:120714,length:6,convRule:Mb},{start:120720,length:25,convRule:fx},{start:120745,length:1,convRule:Mw},{start:120746,length:25,convRule:Mb},{start:120771,length:1,convRule:Mw},{start:120772,length:6,convRule:Mb},{start:120778,length:1,convRule:fx},{start:120779,length:1,convRule:Mb},{start:120782,length:50,convRule:ex},{start:120832,length:512,convRule:Iw},{start:121344,length:55,convRule:rx},{start:121399,length:4,convRule:Iw},{start:121403,length:50,convRule:rx},{start:121453,length:8,convRule:Iw},{start:121461,length:1,convRule:rx},{start:121462,length:14,convRule:Iw},{start:121476,length:1,convRule:rx},{start:121477,length:2,convRule:Iw},{start:121479,length:5,convRule:Uw},{start:121499,length:5,convRule:rx},{start:121505,length:15,convRule:rx},{start:122880,length:7,convRule:rx},{start:122888,length:17,convRule:rx},{start:122907,length:7,convRule:rx},{start:122915,length:2,convRule:rx},{start:122918,length:5,convRule:rx},{start:123136,length:45,convRule:By},{start:123184,length:7,convRule:rx},{start:123191,length:7,convRule:Wy},{start:123200,length:10,convRule:ex},{start:123214,length:1,convRule:By},{start:123215,length:1,convRule:Iw},{start:123584,length:44,convRule:By},{start:123628,length:4,convRule:rx},{start:123632,length:10,convRule:ex},{start:123647,length:1,convRule:$w},{start:124928,length:197,convRule:By},{start:125127,length:9,convRule:Yw},{start:125136,length:7,convRule:rx},{start:125184,length:34,convRule:ey},{start:125218,length:34,convRule:$b},{start:125252,length:7,convRule:rx},{start:125259,length:1,convRule:Wy},{start:125264,length:10,convRule:ex},{start:125278,length:2,convRule:Uw},{start:126065,length:59,convRule:Yw},{start:126124,length:1,convRule:Iw},{start:126125,length:3,convRule:Yw},{start:126128,length:1,convRule:$w},{start:126129,length:4,convRule:Yw},{start:126209,length:45,convRule:Yw},{start:126254,length:1,convRule:Iw},{start:126255,length:15,convRule:Yw},{start:126464,length:4,convRule:By},{start:126469,length:27,convRule:By},{start:126497,length:2,convRule:By},{start:126500,length:1,convRule:By},{start:126503,length:1,convRule:By},{start:126505,length:10,convRule:By},{start:126516,length:4,convRule:By},{start:126521,length:1,convRule:By},{start:126523,length:1,convRule:By},{start:126530,length:1,convRule:By},{start:126535,length:1,convRule:By},{start:126537,length:1,convRule:By},{start:126539,length:1,convRule:By},{start:126541,length:3,convRule:By},{start:126545,length:2,convRule:By},{start:126548,length:1,convRule:By},{start:126551,length:1,convRule:By},{start:126553,length:1,convRule:By},{start:126555,length:1,convRule:By},{start:126557,length:1,convRule:By},{start:126559,length:1,convRule:By},{start:126561,length:2,convRule:By},{start:126564,length:1,convRule:By},{start:126567,length:4,convRule:By},{start:126572,length:7,convRule:By},{start:126580,length:4,convRule:By},{start:126585,length:4,convRule:By},{start:126590,length:1,convRule:By},{start:126592,length:10,convRule:By},{start:126603,length:17,convRule:By},{start:126625,length:3,convRule:By},{start:126629,length:5,convRule:By},{start:126635,length:17,convRule:By},{start:126704,length:2,convRule:Mw},{start:126976,length:44,convRule:Iw},{start:127024,length:100,convRule:Iw},{start:127136,length:15,convRule:Iw},{start:127153,length:15,convRule:Iw},{start:127169,length:15,convRule:Iw},{start:127185,length:37,convRule:Iw},{start:127232,length:13,convRule:Yw},{start:127245,length:161,convRule:Iw},{start:127462,length:29,convRule:Iw},{start:127504,length:44,convRule:Iw},{start:127552,length:9,convRule:Iw},{start:127568,length:2,convRule:Iw},{start:127584,length:6,convRule:Iw},{start:127744,length:251,convRule:Iw},{start:127995,length:5,convRule:Fw},{start:128e3,length:728,convRule:Iw},{start:128736,length:13,convRule:Iw},{start:128752,length:13,convRule:Iw},{start:128768,length:116,convRule:Iw},{start:128896,length:89,convRule:Iw},{start:128992,length:12,convRule:Iw},{start:129024,length:12,convRule:Iw},{start:129040,length:56,convRule:Iw},{start:129104,length:10,convRule:Iw},{start:129120,length:40,convRule:Iw},{start:129168,length:30,convRule:Iw},{start:129200,length:2,convRule:Iw},{start:129280,length:121,convRule:Iw},{start:129402,length:82,convRule:Iw},{start:129485,length:135,convRule:Iw},{start:129632,length:14,convRule:Iw},{start:129648,length:5,convRule:Iw},{start:129656,length:3,convRule:Iw},{start:129664,length:7,convRule:Iw},{start:129680,length:25,convRule:Iw},{start:129712,length:7,convRule:Iw},{start:129728,length:3,convRule:Iw},{start:129744,length:7,convRule:Iw},{start:129792,length:147,convRule:Iw},{start:129940,length:55,convRule:Iw},{start:130032,length:10,convRule:ex},{start:131072,length:42718,convRule:By},{start:173824,length:4149,convRule:By},{start:177984,length:222,convRule:By},{start:178208,length:5762,convRule:By},{start:183984,length:7473,convRule:By},{start:194560,length:542,convRule:By},{start:196608,length:4939,convRule:By},{start:917505,length:1,convRule:_C},{start:917536,length:96,convRule:_C},{start:917760,length:240,convRule:rx},{start:983040,length:65534,convRule:EC},{start:1048576,length:65534,convRule:EC}],MC=function(t){return function(e){var n=e<256?63:3396,r=NC(QC)(e)(n);if(r instanceof ug)return!1;if(r instanceof cg)return vg(JO(r.value0.category)(t));throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5645, column 5 - line 5647, column 86): "+[r.constructor.name])}},FC=MC([ux,Ny]),$C=(Array.from,"undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator]),BC=(String.prototype.fromCodePoint,"function"==typeof String.prototype.codePointAt);const UC=function(t){return BC?function(t){return t.codePointAt(0)}:t};var WC=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},VC=XO(ZO),HC=Kv(Gv),qC=function(t){return function(e){return 65536+((1024*(t-55296|0)|0)+(e-56320|0)|0)|0}},XC=function(t){return 56320<=t&&t<=57343},jC=function(t){return 55296<=t&&t<=56319},zC=function(t){var e=xR(t);if(0===e)return ug.value;if(1===e)return new cg({head:VC(bR(0)(t)),tail:""});var n=VC(bR(1)(t)),r=VC(bR(0)(t)),i=jC(r)&&XC(n);return new cg(i?{head:qC(r)(n),tail:yR(2)(t)}:{head:r,tail:yR(1)(t)})},YC=function(t){var e=VC(bR(0)(t));if(jC(e)&&xR(t)>1){var n=VC(bR(1)(t));return XC(n)?qC(e)(n):e}return e},GC=UC(YC),ZC={eq:function(t){return function(e){return t===e}}},KC={compare:function(t){return function(e){return HC(t)(e)}},Eq0:function(){return ZC}},JC=function(t){return function(e){var n,r=t,i=!1;function s(t,n){var s=zC(n);return s instanceof cg?0===t?(i=!0,new cg(s.value0.head)):(r=t-1|0,void(e=s.value0.tail)):(i=!0,ug.value)}for(;!i;)n=s(r,e);return n}},tk=function(t){return function(e){return t<0||0===t&&""===e?ug.value:0===t?new cg(GC(e)):(n=JC,function(t){return function(e){return function(r){return function(i){return function(s){var o=s.length;if(i<0||i>=o)return e;if($C)for(var l=s[Symbol.iterator](),a=i;;--a){var u=l.next();if(u.done)return e;if(0===a)return t(r(u.value))}return n(i)(s)}}}}})(cg.create)(ug.value)(GC)(t)(e);var n}},ek={bottom:0,top:1114111,Ord0:function(){return KC}},nk=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){return t>=0&&t<=1114111?new cg(t):ug.value},Bounded0:function(){return ek},Enum1:function(){return rk(0)}}}(),rk=WC("enumCodePoint","Data.String.CodePoints",(function(){return{succ:jO(qO(nk))(XO(nk)),pred:zO(qO(nk))(XO(nk)),Ord0:function(){return KC}}})),ik=XO(nk),sk=function(t){return FC(ik(t))},ok=Am(oR),lk=function(t){if(t instanceof ug)return AR("unsafeFromJust: unexpected Nothing");if(t instanceof cg)return t.value0;throw new Error("Failed pattern match at Language.CP.Util (line 25, column 1 - line 25, column 41): "+[t.constructor.name])},ak=function(){var t=tk(0);return function(e){return sk(lk(t(e)))}}(),uk=function(t){return function(e){if(e instanceof rR)return AR("foldr1: empty list");if(e instanceof iR&&e.value1 instanceof rR)return e.value0;if(e instanceof iR)return t(e.value0)(uk(t)(e.value1));throw new Error("Failed pattern match at Language.CP.Util (line 20, column 1 - line 20, column 49): "+[t.constructor.name,e.constructor.name])}},ck=function(t){return function(e){if(e instanceof rR)return AR("foldl1: empty list");if(e instanceof iR)return ok(t)(e.value0)(e.value1);throw new Error("Failed pattern match at Language.CP.Util (line 16, column 1 - line 16, column 49): "+[t.constructor.name,e.constructor.name])}},hk=function(t){return function(e){return t+" "+e}},fk=lg(sg),dk=lg(ig),vk=lg(rg),gk=lg(og),pk=lg(EO),mk=lg(MO),Rk=Pm(_m)(Eg),Ok=iv(uv),wk=ZR(Yv),xk=KR(Yv),yk=function(){function t(){}return t.value=new t,t}(),bk=function(){function t(){}return t.value=new t,t}(),Ck=function(){function t(){}return t.value=new t,t}(),kk=function(){function t(){}return t.value=new t,t}(),Tk=function(){function t(){}return t.value=new t,t}(),Sk=function(){function t(){}return t.value=new t,t}(),Ak=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Pk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Ek=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),_k=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Lk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Dk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Ik=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Nk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Qk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Mk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Fk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),$k=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Bk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Uk=function(){function t(){}return t.value=new t,t}(),Wk=function(){function t(){}return t.value=new t,t}(),Vk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Hk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),qk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Xk=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),jk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),zk=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),Yk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Gk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Zk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Kk=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),Jk=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),tT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),eT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),nT=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),rT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),iT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),oT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),lT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),aT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),uT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),cT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),hT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),fT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),dT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),vT={show:function(t){if(t instanceof yk)return"Int";if(t instanceof bk)return"Double";if(t instanceof Ck)return"String";if(t instanceof kk)return"Bool";if(t instanceof Tk)return"Top";if(t instanceof Sk)return"Bot";if(t instanceof Ak&&t.value2)return"Trait"+UO(hk(lg(vT)(t.value0))(hk("=>")(lg(vT)(t.value1))));if(t instanceof Ak&&!t.value2)return FO(hk(lg(vT)(t.value0))(hk("->")(lg(vT)(t.value1))));if(t instanceof Pk)return FO(hk(lg(vT)(t.value0))(hk("&")(lg(vT)(t.value1))));if(t instanceof Ek)return BO(t.value0+hk(t.value2?"?":"")(hk(":")(lg(vT)(t.value1))));if(t instanceof _k)return t.value0;if(t instanceof Lk)return FO(hk("forall")(hk(t.value0)(hk("*")(lg(vT)(t.value1)+hk(".")(lg(vT)(t.value2))))));if(t instanceof Dk)return FO(hk("mu")(t.value0+hk(".")(lg(vT)(t.value1))));if(t instanceof Ik)return $O(lg(vT)(t.value0));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 34, column 1 - line 52, column 39): "+[t.constructor.name])}},gT=lg(vT),pT={show:function(t){if(t instanceof Mk)return fk(t.value0);if(t instanceof Fk)return dk(t.value0);if(t instanceof $k)return vk(t.value0);if(t instanceof Bk)return gk(t.value0);if(t instanceof Uk)return"()";if(t instanceof Wk)return"undefined";if(t instanceof Vk)return pk(t.value0)+lg(pT)(t.value1);if(t instanceof Hk)return FO(hk(lg(pT)(t.value1))(hk(mk(t.value0))(lg(pT)(t.value2))));if(t instanceof qk)return FO(hk("if")(hk(lg(pT)(t.value0))(hk("then")(hk(lg(pT)(t.value1))(hk("else")(lg(pT)(t.value2)))))));if(t instanceof Xk)return t.value0;if(t instanceof jk)return FO(hk(lg(pT)(t.value0))(lg(pT)(t.value1)));if(t instanceof zk)return FO("λ"+(t.value0+hk(".")(hk(lg(pT)(t.value1))(hk(":")(hk(gT(t.value2))(hk("→")(gT(t.value3))))))));if(t instanceof Yk)return FO(hk("fix")(hk(t.value0)(hk(":")(gT(t.value2)+hk(".")(lg(pT)(t.value1))))));if(t instanceof Gk)return FO(hk(lg(pT)(t.value0))(hk(":")(gT(t.value1))));if(t instanceof Zk)return FO(hk(lg(pT)(t.value0))(hk(",")(lg(pT)(t.value1))));if(t instanceof Kk)return BO(hk(t.value0)(hk(":")(hk(gT(t.value1))(hk("=")(lg(pT)(t.value2))))));if(t instanceof Jk)return lg(pT)(t.value0)+"."+t.value1;if(t instanceof tT)return lg(pT)(t.value0)+"."+hk(t.value1)(hk(":")(hk(gT(t.value2))(hk("??")(lg(pT)(t.value3)))));if(t instanceof eT)return FO(hk(lg(pT)(t.value0))("@"+gT(t.value1)));if(t instanceof nT)return FO("Λ"+(t.value0+hk(".")(hk(lg(pT)(t.value2))(hk(":")("∀"+hk(t.value0)(hk("*")(gT(t.value1)+hk(".")(gT(t.value3)))))))));if(t instanceof rT)return hk(t.value0)(hk("=")(lg(pT)(t.value1)+";\n"+lg(pT)(t.value2)));if(t instanceof iT)return FO("fold @"+hk(gT(t.value0))(lg(pT)(t.value1)));if(t instanceof sT)return FO("unfold @"+hk(gT(t.value0))(lg(pT)(t.value1)));if(t instanceof oT)return FO(hk("toString")(lg(pT)(t.value0)));if(t instanceof lT)return FO(hk($O(Rk("; ")(Ok(lg(pT))(t.value1))))(hk(":")($O(gT(t.value0)))));if(t instanceof aT)return lg(pT)(t.value0);if(t instanceof uT)return UO("Ref");if(t instanceof cT)return UO(hk("Closure")(lg(pT)(t.value1)));if(t instanceof hT)return UO(hk("HOAS")(hk(gT(t.value1))(hk("→")(gT(t.value2)))));if(t instanceof fT)return UO(hk("HOAS fix")(gT(t.value1)));if(t instanceof dT)return UO(hk("HOAS ∀*")(gT(t.value1)));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 93, column 1 - line 130, column 72): "+[t.constructor.name])}},mT=lg(pT),RT={show:function(t){if(t instanceof Nk)return mT(t.value0);if(t instanceof Qk&&t.value0 instanceof cg)return gT(t.value0.value0);if(t instanceof Qk&&t.value0 instanceof ug)return"*";throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 269, column 1 - line 272, column 30): "+[t.constructor.name])}},OT={eq:function(t){return function(e){return t instanceof yk&&e instanceof yk||(t instanceof bk&&e instanceof bk||(t instanceof Ck&&e instanceof Ck||(t instanceof kk&&e instanceof kk||(t instanceof Tk&&e instanceof Tk||(t instanceof Sk&&e instanceof Sk||(t instanceof Ak&&e instanceof Ak?Bv(OT)(t.value0)(e.value0)&&Bv(OT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof Pk&&e instanceof Pk?Bv(OT)(t.value0)(e.value0)&&Bv(OT)(t.value1)(e.value1):t instanceof Ek&&e instanceof Ek?t.value0===e.value0&&Bv(OT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof _k&&e instanceof _k?t.value0===e.value0:t instanceof Lk&&e instanceof Lk?t.value0===e.value0&&Bv(OT)(t.value1)(e.value1)&&Bv(OT)(t.value2)(e.value2):t instanceof Dk&&e instanceof Dk?t.value0===e.value0&&Bv(OT)(t.value1)(e.value1):t instanceof Ik&&e instanceof Ik&&Bv(OT)(t.value0)(e.value0)))))))}}},wT=function(t){return function(e){return function(n){return n instanceof Ak?new Ak(wT(t)(e)(n.value0),wT(t)(e)(n.value1),n.value2):n instanceof Pk?new Pk(wT(t)(e)(n.value0),wT(t)(e)(n.value1)):n instanceof Ek?new Ek(n.value0,wT(t)(e)(n.value1),n.value2):n instanceof _k&&t===n.value0?e:n instanceof Lk?new Lk(n.value0,wT(t)(e)(n.value1),t===n.value0?n.value2:wT(t)(e)(n.value2)):n instanceof Dk&&t!==n.value0?new Dk(n.value0,wT(t)(e)(n.value1)):n instanceof Ik?new Ik(wT(t)(e)(n.value0)):n}}},xT=function(t){return t instanceof Dk?wT(t.value0)(t)(t.value1):t},yT=function(t){return function(e){if(e instanceof Ak)return new Ak(yT(t)(e.value0),yT(t)(e.value1),e.value2);if(e instanceof Pk)return new Pk(yT(t)(e.value0),yT(t)(e.value1));if(e instanceof Ek)return new Ek(e.value0,yT(t)(e.value1),e.value2);if(e instanceof _k){var n=wk(e.value0)(t);return n instanceof cg&&n.value0 instanceof bg?n.value0.value0:new _k(e.value0)}return e instanceof Lk?new Lk(e.value0,yT(t)(e.value1),yT(t)(e.value2)):e instanceof Dk?new Dk(e.value0,yT(t)(e.value1)):e instanceof Ik?new Ik(yT(t)(e.value0)):e}},bT=function(t){return function(e){return function(n){return function(r){return yT(xk(e)(new bg(r))(t))(n)}}}},CT=bT(nO),kT=function(t){return function(e){return function(n){if(n instanceof Vk)return new Vk(n.value0,kT(t)(e)(n.value1));if(n instanceof Hk)return new Hk(n.value0,kT(t)(e)(n.value1),kT(t)(e)(n.value2));if(n instanceof qk)return new qk(kT(t)(e)(n.value0),kT(t)(e)(n.value1),kT(t)(e)(n.value2));if(n instanceof jk)return new jk(kT(t)(e)(n.value0),kT(t)(e)(n.value1),n.value2);if(n instanceof zk)return new zk(n.value0,kT(t)(e)(n.value1),wT(t)(e)(n.value2),wT(t)(e)(n.value3),n.value4);if(n instanceof Yk)return new Yk(n.value0,kT(t)(e)(n.value1),wT(t)(e)(n.value2));if(n instanceof Gk)return new Gk(kT(t)(e)(n.value0),wT(t)(e)(n.value1));if(n instanceof Zk)return new Zk(kT(t)(e)(n.value0),kT(t)(e)(n.value1));if(n instanceof Kk)return new Kk(n.value0,wT(t)(e)(n.value1),kT(t)(e)(n.value2));if(n instanceof Jk)return new Jk(kT(t)(e)(n.value0),n.value1);if(n instanceof tT)return new tT(kT(t)(e)(n.value0),n.value1,wT(t)(e)(n.value2),kT(t)(e)(n.value3));if(n instanceof eT)return new eT(kT(t)(e)(n.value0),wT(t)(e)(n.value1));if(n instanceof nT){var r=nT.create(n.value0)(wT(t)(e)(n.value1));return t===n.value0?r(n.value2)(n.value3)(n.value4):r(kT(t)(e)(n.value2))(wT(t)(e)(n.value3))(n.value4)}return n instanceof rT?new rT(n.value0,kT(t)(e)(n.value1),kT(t)(e)(n.value2)):n instanceof iT?new iT(wT(t)(e)(n.value0),kT(t)(e)(n.value1)):n instanceof sT?new sT(wT(t)(e)(n.value0),kT(t)(e)(n.value1)):n instanceof oT?new oT(kT(t)(e)(n.value0)):n instanceof lT?new lT(wT(t)(e)(n.value0),Ok(kT(t)(e))(n.value1)):n instanceof aT?new aT(kT(t)(e)(n.value0)):n}}},TT=function(t){return function(e){return function(n){return n instanceof Vk?new Vk(n.value0,TT(t)(e)(n.value1)):n instanceof Hk?new Hk(n.value0,TT(t)(e)(n.value1),TT(t)(e)(n.value2)):n instanceof qk?new qk(TT(t)(e)(n.value0),TT(t)(e)(n.value1),TT(t)(e)(n.value2)):n instanceof Xk&&t===n.value0?e:n instanceof jk?new jk(TT(t)(e)(n.value0),TT(t)(e)(n.value1),n.value2):n instanceof zk&&t!==n.value0?new zk(n.value0,TT(t)(e)(n.value1),n.value2,n.value3,n.value4):n instanceof Yk&&t!==n.value0?new Yk(n.value0,TT(t)(e)(n.value1),n.value2):n instanceof Gk?new Gk(TT(t)(e)(n.value0),n.value1):n instanceof Zk?new Zk(TT(t)(e)(n.value0),TT(t)(e)(n.value1)):n instanceof Kk?new Kk(n.value0,n.value1,TT(t)(e)(n.value2)):n instanceof Jk?new Jk(TT(t)(e)(n.value0),n.value1):n instanceof tT?new tT(TT(t)(e)(n.value0),n.value1,n.value2,TT(t)(e)(n.value3)):n instanceof eT?new eT(TT(t)(e)(n.value0),n.value1):n instanceof nT?new nT(n.value0,n.value1,TT(t)(e)(n.value2),n.value3,n.value4):n instanceof rT?new rT(n.value0,TT(t)(e)(n.value1),t===n.value0?n.value2:TT(t)(e)(n.value2)):n instanceof iT?new iT(n.value0,TT(t)(e)(n.value1)):n instanceof sT?new sT(n.value0,TT(t)(e)(n.value1)):n instanceof oT?new oT(TT(t)(e)(n.value0)):n instanceof lT?new lT(n.value0,Ok(TT(t)(e))(n.value1)):n instanceof aT?new aT(TT(t)(e)(n.value0)):n}}},ST=function(t){return function(e){if(e instanceof Vk)return new Vk(e.value0,ST(t)(e.value1));if(e instanceof Hk)return new Hk(e.value0,ST(t)(e.value1),ST(t)(e.value2));if(e instanceof qk)return new qk(ST(t)(e.value0),ST(t)(e.value1),ST(t)(e.value2));if(e instanceof Xk){var n=wk(e.value0)(t);return n instanceof cg&&n.value0 instanceof yg?n.value0.value0:new Xk(e.value0)}if(e instanceof jk)return new jk(ST(t)(e.value0),ST(t)(e.value1),e.value2);if(e instanceof zk)return new hT((function(n){return ST(xk(e.value0)(new yg(n))(t))(e.value1)}),yT(t)(e.value2),yT(t)(e.value3),e.value4);if(e instanceof Yk)return new fT((function(n){return ST(xk(e.value0)(new yg(n))(t))(e.value1)}),yT(t)(e.value2));if(e instanceof Gk)return new Gk(ST(t)(e.value0),yT(t)(e.value1));if(e instanceof Zk)return new Zk(ST(t)(e.value0),ST(t)(e.value1));if(e instanceof Kk)return new Kk(e.value0,yT(t)(e.value1),ST(t)(e.value2));if(e instanceof Jk)return new Jk(ST(t)(e.value0),e.value1);if(e instanceof tT)return new tT(ST(t)(e.value0),e.value1,e.value2,ST(t)(e.value3));if(e instanceof eT)return new eT(ST(t)(e.value0),yT(t)(e.value1));if(e instanceof nT)return new dT((function(n){return ST(xk(e.value0)(new bg(n))(t))(e.value2)}),yT(t)(e.value1),bT(t)(e.value0)(e.value3),e.value4);if(e instanceof rT){var r=new uT(iO(ST(t)(e.value1)));return ST(xk(e.value0)(new yg(r))(t))(e.value2)}return e instanceof iT?new iT(yT(t)(e.value0),ST(t)(e.value1)):e instanceof sT?new sT(yT(t)(e.value0),ST(t)(e.value1)):e instanceof oT?new oT(ST(t)(e.value0)):e instanceof lT?new lT(yT(t)(e.value0),Ok(ST(t))(e.value1)):e instanceof aT?ST(t)(e.value0):e}},AT=ST(nO),PT=yv(wg),ET=Bv(OT),_T=function(t){return t instanceof Pk?new cg(new tp(t.value0,t.value1)):t instanceof Ak?PT(_T(t.value1))((function(e){return new cg(new tp(new Ak(t.value0,e.value0,t.value2),new Ak(t.value0,e.value1,t.value2)))})):t instanceof Ek?PT(_T(t.value1))((function(e){return new cg(new tp(new Ek(t.value0,e.value0,t.value2),new Ek(t.value0,e.value1,t.value2)))})):t instanceof Lk?PT(_T(t.value2))((function(e){return new cg(new tp(new Lk(t.value0,t.value1,e.value0),new Lk(t.value0,t.value1,e.value1)))})):ug.value},LT=function(t){return t instanceof Tk||(t instanceof Ak?LT(t.value1):t instanceof Pk?LT(t.value0)&&LT(t.value1):t instanceof Ek?LT(t.value1):t instanceof Lk?LT(t.value2):t instanceof Dk&&LT(t.value1))},DT=function(t){return function(e){if(t instanceof Sk)return!0;if(LT(e))return!0;var n=_T(e);return n instanceof cg?DT(t)(n.value0.value0)&&DT(t)(n.value0.value1):function(n){if(t instanceof Ak&&e instanceof Ak)return DT(e.value0)(t.value0)&&DT(t.value1)(e.value1);if(t instanceof Pk)return DT(t.value0)(e)||DT(t.value1)(e);if(e instanceof Ek&&e.value2)return!0;if(t instanceof Ek&&!t.value2&&e instanceof Ek&&!e.value2)return t.value0===e.value0&&DT(t.value1)(e.value1);if(t instanceof Lk&&e instanceof Lk)return DT(e.value1)(t.value1)&&DT(t.value2)(wT(e.value0)(new _k(t.value0))(e.value2));if(t instanceof Dk&&e instanceof Dk){var r=wT(e.value0)(new _k(t.value0))(e.value1);return DT(wT(t.value0)(new Ek(t.value0,t.value1,!1))(t.value1))(wT(e.value0)(new Ek(t.value0,r,!1))(e.value1))}return t instanceof Ik&&e instanceof Ik?DT(t.value0)(e.value0):!!ET(t)(e)}()}},IT=function(t){return function(e){return t instanceof Ak&&e instanceof Ak||t instanceof Pk&&e instanceof Pk?IT(t.value0)(e.value0)&&IT(t.value1)(e.value1):t instanceof Ek&&e instanceof Ek?t.value0===e.value0&&IT(t.value1)(e.value1)&&t.value2===e.value2:t instanceof Lk&&e instanceof Lk?IT(t.value1)(e.value1)&&IT(t.value2)(wT(e.value0)(new _k(t.value0))(e.value2)):t instanceof Dk&&e instanceof Dk?IT(t.value1)(wT(e.value0)(new _k(t.value0))(e.value1)):t instanceof Ik&&e instanceof Ik?IT(t.value0)(e.value0):!!ET(t)(e)}},NT=xp(),QT=Lm(oR),MT=Am(oR),FT=Tm(oR),$T=function(t){return NT(GR(t))},BT=function(t){return eO(t)},UT={foldMap:function(t){var e=QT(t);return function(t){var n=e(t);return function(t){return n(BT(t))}}},foldl:function(t){return function(e){var n=MT(t)(e);return function(t){return n(BT(t))}}},foldr:function(t){return function(e){var n=FT(t)(e);return function(t){return n(BT(t))}}}},WT=nO;var VT=ip(Nv),HT=sv(sR),qT=iv(sR),XT=pm(mm),jT=iv(gg),zT=Im(oR)(Jg),YT=Pm(oR)(Eg),GT=lg(sg),ZT=lg(ig),KT=lg(rg),JT=lg(og),tS=lg(EO),eS=lg(MO),nS=Pm(_m)(Eg),rS=iv(uv),iS=Lm(oR)(Eg),sS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),oS=function(){function t(){}return t.value=new t,t}(),lS=function(){function t(){}return t.value=new t,t}(),aS=function(){function t(){}return t.value=new t,t}(),uS=function(){function t(){}return t.value=new t,t}(),cS=function(){function t(){}return t.value=new t,t}(),hS=function(){function t(){}return t.value=new t,t}(),fS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),dS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),vS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),gS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),pS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),RS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),OS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),xS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),yS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),bS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),CS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),kS=function(){function t(){}return t.value=new t,t}(),TS=function(){function t(){}return t.value=new t,t}(),SS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),AS=function(){function t(){}return t.value=new t,t}(),PS=function(){function t(){}return t.value=new t,t}(),ES=function(){function t(){}return t.value=new t,t}(),_S=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),LS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),DS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),NS=function(){function t(){}return t.value=new t,t}(),QS=function(){function t(){}return t.value=new t,t}(),MS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),FS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),$S=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),BS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),US=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),WS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),VS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),HS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),qS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),XS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),jS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),zS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),YS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),GS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ZS=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),KS=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),JS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),tA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),eA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),nA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),rA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),iA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),oA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),lA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),aA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),uA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),cA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),hA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),fA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),dA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),vA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),gA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),pA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),mA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),RA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),OA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),wA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),xA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),yA={show:function(t){if(t instanceof AS)return",";if(t instanceof PS)return"+,";if(t instanceof ES)return",+";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 106, column 1 - line 109, column 23): "+[t.constructor.name])}},bA=lg(yA),CA={eq:function(t){return function(e){return t instanceof oS&&e instanceof oS||(t instanceof lS&&e instanceof lS||(t instanceof aS&&e instanceof aS||(t instanceof uS&&e instanceof uS||(t instanceof cS&&e instanceof cS||(t instanceof hS&&e instanceof hS||(t instanceof fS&&e instanceof fS||t instanceof dS&&e instanceof dS?Bv(CA)(t.value0)(e.value0)&&Bv(CA)(t.value1)(e.value1):t instanceof vS&&e instanceof vS?Bv(dR(kA))(t.value0)(e.value0):t instanceof gS&&e instanceof gS?t.value0===e.value0:t instanceof pS&&e instanceof pS?Bv(dR(VT(Rg(CA))))(t.value0)(e.value0)&&Bv(CA)(t.value1)(e.value1):t instanceof mS&&e instanceof mS?t.value0===e.value0&&Bv(CA)(t.value1)(e.value1):t instanceof RS&&e instanceof RS?Bv(CA)(t.value0)(e.value0)&&Bv(CA)(t.value1)(e.value1):t instanceof OS&&e instanceof OS?t.value0===e.value0&&Bv(CA)(t.value1)(e.value1):t instanceof wS&&e instanceof wS?Bv(Rg(CA))(t.value0)(e.value0)&&Bv(CA)(t.value1)(e.value1):t instanceof xS&&e instanceof xS?Bv(CA)(t.value0)(e.value0)&&Bv(Rg(CA))(t.value1)(e.value1):t instanceof yS&&e instanceof yS?t.value0===e.value0&&t.value1===e.value1&&Bv(CA)(t.value2)(e.value2):t instanceof bS&&e instanceof bS?Bv(CA)(t.value0)(e.value0):t instanceof CS&&e instanceof CS&&(Bv(CA)(t.value0)(e.value0)&&Bv(CA)(t.value1)(e.value1))))))))}}},kA={eq:function(t){return function(e){return t.value0===e.value0&&Bv(CA)(t.value1)(e.value1)&&t.value2===e.value2}}},TA=function(t){return function(e){return function(n){return n instanceof fS?new fS(TA(t)(e)(n.value0),TA(t)(e)(n.value1)):n instanceof dS?new dS(TA(t)(e)(n.value0),TA(t)(e)(n.value1)):n instanceof vS?new vS(HT(n.value0)((function(n){return new sS(n.value0,TA(t)(e)(n.value1),n.value2)}))):n instanceof gS?t===n.value0?e:new gS(n.value0):n instanceof pS?new pS(qT(XT(jT(TA(t)(e))))(n.value0),zT((function(e){return rp(e)===t}))(n.value0)?n.value1:TA(t)(e)(n.value1)):n instanceof mS?new mS(n.value0,t===n.value0?n.value1:TA(t)(e)(n.value1)):n instanceof RS?new RS(TA(t)(e)(n.value0),TA(t)(e)(n.value1)):n instanceof OS?new OS(n.value0,t===n.value0?n.value1:TA(t)(e)(n.value1)):n instanceof wS?new wS(jT(TA(t)(e))(n.value0),TA(t)(e)(n.value1)):n instanceof xS?new xS(TA(t)(e)(n.value0),jT(TA(t)(e))(n.value1)):n instanceof yS?new yS(n.value0,n.value1,t===n.value0||t===n.value1?n.value2:TA(t)(e)(n.value2)):n instanceof bS?new bS(TA(t)(e)(n.value0)):n instanceof CS?new CS(TA(t)(e)(n.value0),TA(t)(e)(n.value1)):n}}},SA=function(t){var e=lg(t);return function(t){return function(n){return function(r){return fg("")((function(n){return t+(e(n)+r)}))(n)}}}},AA=function(t){var e=function(t){return Tm(t)((function(t){return function(t){return!1}}))(!0)}(t),n=Pm(t);return function(t){var r=_g(t),i=dv(t.Semigroup0()),s=n(t);return function(t){return function(n){return e(n)?r:i(s(t)(n))(t)}}}},PA=AA(oR)(Eg),EA=function(t){return PA(" ")(HT(t)((function(t){return fg(rp(t))((function(e){return FO(hk(rp(t))(hk("*")(lg(_A)(e))))}))(np(t))})))},_A={show:function(t){if(t instanceof oS)return"Int";if(t instanceof lS)return"Double";if(t instanceof aS)return"String";if(t instanceof uS)return"Bool";if(t instanceof cS)return"Top";if(t instanceof hS)return"Bot";if(t instanceof fS)return FO(hk(lg(_A)(t.value0))(hk("->")(lg(_A)(t.value1))));if(t instanceof dS)return FO(hk(lg(_A)(t.value0))(hk("&")(lg(_A)(t.value1))));if(t instanceof vS)return BO(LA(t.value0));if(t instanceof gS)return t.value0;if(t instanceof pS)return FO(hk("forall")(EA(t.value0)+hk(".")(lg(_A)(t.value1))));if(t instanceof mS)return FO(hk("mu")(t.value0+hk(".")(lg(_A)(t.value1))));if(t instanceof RS)return FO(hk(lg(_A)(t.value0))(lg(_A)(t.value1)));if(t instanceof OS)return FO("\\"+hk(t.value0)(hk("->")(lg(_A)(t.value1))));if(t instanceof wS)return"Trait"+UO(SA(_A)("")(t.value0)(" => ")+lg(_A)(t.value1));if(t instanceof xS)return UO(lg(_A)(t.value0)+SA(_A)(" => ")(t.value1)(""));if(t instanceof yS)return FO("\\"+hk(UO(t.value0+hk(",")(t.value1)))(hk("->")(lg(_A)(t.value2))));if(t instanceof bS)return $O(lg(_A)(t.value0));if(t instanceof CS)return FO(hk(lg(_A)(t.value0))(hk("\\")(lg(_A)(t.value1))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 38, column 1 - line 59, column 62): "+[t.constructor.name])}},LA=function(t){return YT("; ")(HT(t)((function(t){return t.value0+hk(t.value2?"?":"")(hk(":")(lg(_A)(t.value1)))})))},DA=lg(_A),IA=SA(_A),NA=jT((function(t){return $O(function(){if(t.value1 instanceof cg)return hk(t.value0)(hk(":")(DA(t.value1.value0)));if(t.value1 instanceof ug)return t.value0;throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 275, column 45 - line 277, column 15): "+[t.value1.constructor.name])}())})),QA=function(t){var e=function(t){return hk(t.value0)(hk("=")(lg(MA)(t.value1)+"; "))};return PA(" ")(HT(t)((function(t){if(t instanceof vA&&t.value1 instanceof cg)return FO(hk(t.value0)(hk(":")(DA(t.value1.value0))));if(t instanceof vA&&t.value1 instanceof ug)return t.value0;if(t instanceof gA)return"{"+iS(e)(t.value0)+"..}";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 245, column 53 - line 248, column 66): "+[t.constructor.name])})))},MA={show:function(t){if(t instanceof _S)return GT(t.value0);if(t instanceof LS)return ZT(t.value0);if(t instanceof DS)return KT(t.value0);if(t instanceof IS)return JT(t.value0);if(t instanceof NS)return"()";if(t instanceof QS)return"undefined";if(t instanceof MS)return tS(t.value0)+lg(MA)(t.value1);if(t instanceof FS)return FO(hk(lg(MA)(t.value1))(hk(eS(t.value0))(lg(MA)(t.value2))));if(t instanceof $S)return FO(hk("if")(hk(lg(MA)(t.value0))(hk("then")(hk(lg(MA)(t.value1))(hk("else")(lg(MA)(t.value2)))))));if(t instanceof BS)return ak(t.value0)?"$"+t.value0:t.value0;if(t instanceof US)return FO(hk(lg(MA)(t.value0))(lg(MA)(t.value1)));if(t instanceof WS)return FO("\\"+(QA(t.value0)+hk("->")(lg(MA)(t.value1))));if(t instanceof VS)return FO(hk("fix")(hk(t.value0)(hk(":")(DA(t.value2)+hk(".")(lg(MA)(t.value1))))));if(t instanceof HS)return FO(hk(lg(MA)(t.value0))(hk(":")(DA(t.value1))));if(t instanceof qS)return FO(hk(lg(MA)(t.value1))(hk(bA(t.value0))(lg(MA)(t.value2))));if(t instanceof XS)return BO(FA(t.value0));if(t instanceof jS)return lg(MA)(t.value0)+"."+t.value1;if(t instanceof zS)return lg(MA)(t.value0)+"."+hk(t.value1)(hk("??")(lg(MA)(t.value2)));if(t instanceof YS)return FO(hk(lg(MA)(t.value0))("@"+DA(t.value1)));if(t instanceof GS)return FO("/\\"+(EA(t.value0)+hk(".")(lg(MA)(t.value1))));if(t instanceof ZS)return FO(hk("let")(hk(t.value0)(EA(t.value1)+(QA(t.value2)+hk("=")(hk(lg(MA)(t.value3))(hk("in")(lg(MA)(t.value4))))))));if(t instanceof KS)return FO(hk("letrec")(hk(t.value0)(EA(t.value1)+(QA(t.value2)+hk(":")(hk(DA(t.value3))(hk("=")(hk(lg(MA)(t.value4))(hk("in")(lg(MA)(t.value5))))))))));if(t instanceof JS)return FO(hk("open")(hk(lg(MA)(t.value0))(hk("in")(lg(MA)(t.value1)))));if(t instanceof tA)return BO(hk(lg(MA)(t.value0))(hk("with")(YT("; ")(HT(t.value1)((function(t){return hk(t.value0)(hk("=")(lg(MA)(t.value1)))}))))));if(t instanceof eA)return FO("trait"+hk(fg("")((function(t){return" "+t}))(NA(t.value0)))(IA("implements ")(t.value1)(" ")+(SA(MA)("inherits ")(t.value2)(" ")+hk("=>")(lg(MA)(t.value3)))));if(t instanceof nA)return FO(hk("new")(lg(MA)(t.value0)));if(t instanceof rA)return FO(hk(lg(MA)(t.value0))(hk("^")(lg(MA)(t.value1))));if(t instanceof iA)return FO(hk(lg(MA)(t.value0))(hk("\\\\")(DA(t.value1))));if(t instanceof sA)return FO(hk(lg(MA)(t.value0))(hk("\\")(t.value1)));if(t instanceof oA)return FO(hk(lg(MA)(t.value0))(hk("\\-")(lg(MA)(t.value1))));if(t instanceof lA)return FO(hk(lg(MA)(t.value0))($O(hk(t.value1)(hk("<-")(t.value2)))));if(t instanceof aA)return FO("fold @"+hk(DA(t.value0))(lg(MA)(t.value1)));if(t instanceof uA)return FO("unfold @"+hk(DA(t.value0))(lg(MA)(t.value1)));if(t instanceof cA)return FO(hk("toString")(lg(MA)(t.value0)));if(t instanceof hA)return $O(nS("; ")(rS(lg(MA))(t.value0)));if(t instanceof fA)return lg(MA)(t.value0);if(t instanceof dA)return lg(MA)(t.value1);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 116, column 1 - line 162, column 31): "+[t.constructor.name])}},FA=function(t){var e=function(t){return function(e){return function(n){return"."+hk(t)(QA(e)+hk("=")(lg(MA)(n)))}}};return YT("; ")(HT(t)((function(t){if(t instanceof pA)return(t.value0?"override ":"")+function(t){return function(n){return function(r){if(r instanceof yg)return hk(t)(QA(n)+hk("=")(lg(MA)(r.value0)));if(r instanceof bg)return fg("")((function(t){return t+"@"}))(NA(r.value0.value0))+(FO(" "+hk(t)(QA(n)))+e(r.value0.value1)(r.value0.value2)(r.value0.value3));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 264, column 9 - line 264, column 79): "+[t.constructor.name,n.constructor.name,r.constructor.name])}}}(t.value1)(t.value2)(t.value3);if(t instanceof mA)return mg("_")(NA(t.value0.value0))+e(t.value0.value1)(t.value0.value2)(t.value0.value3);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 260, column 42 - line 263, column 58): "+[t.constructor.name])})))},$A=lg(MA),BA=function(t){return t instanceof fA?"`"+BA(t.value0)+"`":t instanceof dA&&t.value1 instanceof fA?"["+BA(t.value1.value0)+"]":t instanceof dA?BA(t.value1):t instanceof nA?BA(t.value0):t instanceof BS&&"Endl"===t.value0?"\\\\":t instanceof US&&t.value0 instanceof US&&t.value0.value0 instanceof BS&&"Comp"===t.value0.value0.value0?BA(t.value0.value1)+BA(t.value1):t instanceof US&&t.value0 instanceof BS&&"Str"===t.value0.value0&&t.value1 instanceof DS?t.value1.value0:t instanceof US&&t.value0 instanceof BS&&"Str"===t.value0.value0&&t.value1 instanceof cA?"\\("+$A(t.value1.value0)+")":t instanceof US&&t.value0 instanceof BS?"\\"+(t.value0.value0+BA(t.value1)):t instanceof US?BA(t.value0)+BA(t.value1):"("+$A(t)+")"},UA={show:function(t){if(t instanceof OA){var e=t.value0 instanceof kS?"type":"interface",n=t.value0 instanceof SS?hk("extends")(DA(t.value0.value0)):"";return hk(e)(hk(t.value1)(PA(" ")(qT(UO)(t.value2))+(PA(" ")(t.value3)+hk(n)(hk("=")(DA(t.value4)+";")))))}if(t instanceof wA)return hk(t.value0)(EA(t.value1)+(QA(t.value2)+(IA(": ")(t.value3)(" ")+hk("=")($A(t.value4)+";"))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 183, column 1 - line 194, column 50): "+[t.constructor.name])}},WA=lg(UA),VA={show:function(t){return PA("\n")(qT(WA)(t.value0))+"\n"+$A(t.value1)}},HA=lg(sg),qA=lg(MA),XA=pp(Yg),jA=iv(Ap(hp(qg))),zA=ZR(Yv),YA=fp(Yg),GA=Vg(Dp(YA)),ZA=Ug(Ip(YA)),KA=rO(Yv)(oR),JA=iv(sR),tP=pm(mm),eP=yv(Ep(dp(Yg))),nP=Bg(Np(XA)),rP=Ov(_p(gp(Yg))),iP=lg(rg),sP=Kd(Jd),oP=KR(Yv),lP=function(){function t(){}return t.value=new t,t}(),aP=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),uP=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),cP=function(){function t(){}return t.value=new t,t}(),hP=function(){function t(){}return t.value=new t,t}(),fP=function(){function t(){}return t.value=new t,t}(),dP=function(){function t(){}return t.value=new t,t}(),vP=function(){function t(){}return t.value=new t,t}(),gP={show:function(t){if(t.value1 instanceof lP)return t.value0;if(t.value1 instanceof aP){return e=t.value1.value0,HA(e.line)+":"+HA(e.column)+": "+t.value0+"\nin the expression: "+(t.value1.value2?BA:qA)(t.value1.value1)}var e;throw new Error("Failed pattern match at Language.CP.Context (line 86, column 1 - line 94, column 40): "+[t.constructor.name])}},pP={append:ev},mP=function(t){return function(e){return ER(t(e))}},RP=function(t){return jA(zA(t))(GA((function(t){return t.tyBindEnv})))},OP=function(t){return jA(zA(t))(GA((function(t){return t.sortEnv})))},wP=function(t){return ZA((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.pos=t(e.pos),n}))},xP=function(){return{mode:dP.value,timing:!1,tmBindings:rR.value,tyAliases:rR.value,forbidDup:!0}}(),yP=function(t){return{tmBindEnv:KA(JA(tP(rp))(t.tmBindings)),tyAliasEnv:KA(t.tyAliases),tyBindEnv:nO,sortEnv:nO,pos:lP.value}},bP=GA((function(t){return t.pos})),CP=function(t){return eP(jA(uP.create(t))(bP))(nP)},kP=function(t){return function(e){return function(n){return"_"===e?sP:ZA(t(oP(e)(n)))}}},TP=kP((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tyBindEnv:t(e.tyBindEnv)}}})),SP=kP((function(t){return function(e){return{tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tmBindEnv:t(e.tmBindEnv)}}})),AP=kP((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,pos:e.pos,sortEnv:t(e.sortEnv)}}})),PP=Tm(oR),EP=pm(mm),_P=Kd(Jd),LP=sv(sR),DP=vv(xg),IP=iv(gg),NP=iv(sR),QP=iv(uv),MP=function(t){return new eA(t.value0,ug.value,ug.value,new XS(pR(new pA(!1,t.value1,t.value2,new yg(t.value3)))))},FP=function(t){if(t instanceof WS)return PP((function(t){return function(e){return new WS(pR(t),e)}}))(FP(t.value1))(t.value0);if(t instanceof GS){var e=function(t){return new cg(mg(cS.value)(t))};return PP((function(t){return function(n){return new GS(pR(EP(e)(t)),n)}}))(FP(t.value1))(t.value0)}if(t instanceof XS&&t.value0 instanceof rR)return NS.value;if(t instanceof XS){return ck(qS.create(AS.value))(LP(t.value0)((function(t){return new XS(pR(function(t){if(t instanceof pA)return new pA(t.value0,t.value1,rR.value,new yg(FP(new WS(t.value2,kg(_P)(MP)(t.value3)))));if(t instanceof mA)return t;throw new Error("Failed pattern match at Language.CP.Desugar (line 25, column 5 - line 25, column 41): "+[t.constructor.name])}(t)))})))}if(t instanceof eA&&t.value0 instanceof cg)return new eA(new cg(new tp(t.value0.value0.value0,DP(t.value0.value0.value1)(t.value1))),DP(t.value1)(new cg(cS.value)),IP(FP)(t.value2),new JS(new BS(t.value0.value0.value0),FP(t.value3)));if(t instanceof eA&&t.value0 instanceof ug)return FP(new eA(new cg(new tp("$self",new cg(cS.value))),t.value1,t.value2,t.value3));if(t instanceof ZS)return new ZS(t.value0,rR.value,rR.value,FP(new GS(t.value1,new WS(t.value2,t.value3))),FP(t.value4));if(t instanceof KS){var n=new pS(t.value1,PP(fS.create)(t.value3)(NP((function(t){if(t instanceof vA&&t.value1 instanceof cg)return t.value1.value0;if(t instanceof vA&&t.value1 instanceof ug)return hS.value;if(t instanceof gA)return hS.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 41, column 16 - line 43, column 45): "+[t.constructor.name])}))(t.value2)));return new KS(t.value0,rR.value,rR.value,n,FP(new GS(t.value1,new WS(t.value2,t.value4))),FP(t.value5))}return t instanceof MS?new MS(t.value0,FP(t.value1)):t instanceof FS?new FS(t.value0,FP(t.value1),FP(t.value2)):t instanceof $S?new $S(FP(t.value0),FP(t.value1),FP(t.value2)):t instanceof US?new US(FP(t.value0),FP(t.value1)):t instanceof VS?new VS(t.value0,FP(t.value1),t.value2):t instanceof HS?new HS(FP(t.value0),t.value1):t instanceof qS?new qS(t.value0,FP(t.value1),FP(t.value2)):t instanceof jS?new jS(FP(t.value0),t.value1):t instanceof zS?new zS(FP(t.value0),t.value1,FP(t.value2)):t instanceof YS?new YS(FP(t.value0),t.value1):t instanceof JS?new JS(FP(t.value0),FP(t.value1)):t instanceof tA?new tA(FP(t.value0),NP(EP(FP))(t.value1)):t instanceof nA?new nA(FP(t.value0)):t instanceof rA?new rA(FP(t.value0),FP(t.value1)):t instanceof iA?new iA(FP(t.value0),t.value1):t instanceof sA?new sA(FP(t.value0),t.value1):t instanceof oA?new oA(FP(t.value0),FP(t.value1)):t instanceof lA?new lA(FP(t.value0),t.value1,t.value2):t instanceof aA?new aA(t.value0,FP(t.value1)):t instanceof uA?new uA(t.value0,FP(t.value1)):t instanceof cA?new cA(FP(t.value0)):t instanceof hA?new hA(QP(FP)(t.value0)):t instanceof fA?new fA(FP(t.value0)):t instanceof dA?new dA(t.value0,FP(t.value1)):t},$P=function(t){if(t instanceof wA&&t.value3 instanceof ug)return new wA(t.value0,rR.value,rR.value,ug.value,FP(new GS(t.value1,new WS(t.value2,t.value4))));if(t instanceof wA&&t.value3 instanceof cg){var e=new pS(t.value1,PP(fS.create)(t.value3.value0)(NP((function(t){if(t instanceof vA&&t.value1 instanceof cg)return t.value1.value0;if(t instanceof vA&&t.value1 instanceof ug)return hS.value;if(t instanceof gA)return hS.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 81, column 16 - line 83, column 45): "+[t.constructor.name])}))(t.value2)));return new wA(t.value0,rR.value,rR.value,new cg(e),FP(new GS(t.value1,new WS(t.value2,t.value4))))}return t},BP={bifoldMap:function(t){var e=dv(t.Semigroup0());return function(t){return function(n){return function(r){return e(t(r.value0))(n(r.value1))}}}},bifoldr:function(t){return function(e){return function(n){return function(r){return t(r.value0)(e(r.value1)(n))}}}},bifoldl:function(t){return function(e){return function(n){return function(r){return e(t(n)(r.value0))(r.value1)}}}}},UP=function(t){return t.bitraverse},WP=function(t){var e=UP(t);return function(t){return e(t)(Ov(t))}},VP={bitraverse:function(t){var e=t.Apply0(),n=pv(e),r=iv(e.Functor0());return function(t){return function(e){return function(i){return n(r(tp.create)(t(i.value0)))(e(i.value1))}}}},bisequence:function(t){var e=t.Apply0(),n=pv(e),r=iv(e.Functor0());return function(t){return n(r(tp.create)(t.value0))(t.value1)}},Bifunctor0:function(){return mm},Bifoldable1:function(){return BP}},HP=Bv(OT),qP=lg(vT),XP=yv(Ep(dp(Yg))),jP=Ap(hp(qg)),zP=iv(jP),YP=Ov(_p(gp(Yg))),GP=vv(Qp(mp(pP)(Yg))),ZP=cv(jP),KP=pv(Pp(vp(Yg))),JP=function(t){return function(e){return function(n){return t instanceof Pk?new Pk(e,n):t instanceof Ak&&e instanceof Ak&&n instanceof Ak&&HP(t.value0)(e.value0)&&HP(t.value0)(n.value0)&&t.value2===e.value2&&t.value2===n.value2?new Ak(t.value0,JP(t.value1)(e.value1)(n.value1),t.value2):t instanceof Ek&&e instanceof Ek&&n instanceof Ek&&t.value0===e.value0&&t.value0===n.value0&&t.value2===e.value2&&t.value2===n.value2?new Ek(t.value0,JP(t.value1)(e.value1)(n.value1),t.value2):t instanceof Lk&&e instanceof Lk&&n instanceof Lk&&t.value0===e.value0&&t.value0===n.value0&&HP(t.value1)(e.value1)&&HP(t.value1)(n.value1)?new Lk(t.value0,t.value1,JP(t.value2)(e.value2)(n.value2)):AR("CP.TypeDiff.tyMerge: cannot merge "+qP(e)+" and "+qP(n)+" according to "+qP(t))}}},tE=function(t){if(LT(t))return Tk.value;if(t instanceof Pk){var e=LT(t.value1),n=LT(t.value0);if(n&&e)return Tk.value;if(n&&!e)return t.value1;if(!n&&e)return t.value0;if(!n&&!e)return t;throw new Error("Failed pattern match at Language.CP.TypeDiff (line 77, column 28 - line 81, column 20): "+[n.constructor.name,e.constructor.name])}return t instanceof Ak?new Ak(t.value0,tE(t.value1),t.value2):t instanceof Ek?new Ek(t.value0,tE(t.value1),t.value2):t instanceof Lk?new Lk(t.value0,t.value1,tE(t.value2)):t instanceof Dk?new Dk(t.value0,tE(t.value1)):t instanceof Ik?new Ik(tE(t.value0)):t},eE=function(t){return function(e){var n=CP("cannot subtract "+qP(e)+" from "+qP(t)),r=function(t){return function(e){return XP(RP(t))((function(t){if(t instanceof cg)return zP(LT)(i(e)(t.value0));if(t instanceof ug)return YP(!1);throw new Error("Failed pattern match at Language.CP.TypeDiff (line 55, column 42 - line 57, column 28): "+[t.constructor.name])}))}},i=function(t){return function(e){if(LT(t)||LT(e))return YP(t);var s=_T(t);return s instanceof cg?KP(zP(JP(t))(i(s.value0.value0)(e)))(i(s.value0.value1)(e)):function(s){if(e instanceof Pk)return GP(XP(i(t)(e.value0))((function(t){return i(t)(e.value1)})))(XP(i(t)(e.value1))((function(t){return i(t)(e.value0)})));if(t instanceof Sk&&e instanceof Sk)return YP(Tk.value);if(e instanceof Sk)return i(t)(t);if(t instanceof Sk)return n;if(t instanceof Ak&&e instanceof Ak)return XP(i(t.value1)(e.value1))((function(r){return HP(r)(t.value1)?YP(t):XP(i(e.value0)(t.value0))((function(e){return LT(e)?YP(new Ak(t.value0,r,t.value2)):n}))}));if(t instanceof Ek&&e instanceof Ek)return t.value0===e.value0?ZP(zP(Ek.create(t.value0))(i(t.value1)(e.value1)))(t.value2):YP(t);if(t instanceof Lk&&e instanceof Lk){var o=wT(e.value0)(new _k(t.value0))(e.value2);return XP(i(t.value2)(o))((function(r){return HP(r)(t.value2)?YP(t):XP(i(e.value1)(t.value1))((function(e){return LT(e)?YP(new Lk(t.value0,t.value1,r)):n}))}))}return t instanceof _k&&e instanceof _k&&t.value0===e.value0?YP(Tk.value):t instanceof _k?XP(r(t.value0)(e))((function(e){return e?YP(new _k(t.value0)):n})):e instanceof _k?XP(r(e.value0)(t))((function(e){return e?YP(t):n})):t instanceof Ik&&e instanceof Ik?zP(Ik.create)(i(t.value0)(e.value0)):t instanceof Dk||e instanceof Dk?n:HP(t)(e)?YP(Tk.value):YP(t)}()}};return zP(tE)(i(t)(e))}},nE=_p(gp(Yg)),rE=Ov(nE),iE=Ap(hp(qg)),sE=iv(iE),oE=Vm(nE)(cR),lE=cv(iE),aE=pv(Pp(vp(Yg))),uE=Tm(oR),cE=$m(cR)(nE),hE=WP(VP)(nE),fE=Ep(dp(Yg)),dE=yv(fE),vE=lg(_A),gE=vv(xg),pE=ov(gg),mE=lg(rg),RE=$m(Bm)(nE),OE=kv(fE),wE=function(t){if(t instanceof vS&&t.value0 instanceof rR)return rE(Tk.value);if(t instanceof vS)return sE(ck(Pk.create))(oE(t.value0)((function(t){return lE(sE(Ek.create(t.value0))(wE(t.value1)))(t.value2)})));if(t instanceof pS){return aE(sE(uE(ep(Lk.create)))(wE(t.value1)))(cE(hE((function(t){if(t instanceof cg)return wE(t.value0);if(t instanceof ug)return rE(Tk.value);throw new Error("Failed pattern match at Language.CP.Transform (line 34, column 9 - line 34, column 50): "+[t.constructor.name])})))(t.value0))}return t instanceof CS?dE(wE(t.value0))((function(e){return dE(wE(t.value1))((function(t){return eE(e)(t)}))})):t instanceof oS?rE(yk.value):t instanceof lS?rE(bk.value):t instanceof aS?rE(Ck.value):t instanceof uS?rE(kk.value):t instanceof cS?rE(Tk.value):t instanceof hS?rE(Sk.value):t instanceof dS?aE(sE(Pk.create)(wE(t.value0)))(wE(t.value1)):t instanceof fS?lE(aE(sE(Ak.create)(wE(t.value0)))(wE(t.value1)))(!1):t instanceof gS?rE(new _k(t.value0)):t instanceof mS?sE(Dk.create(t.value0))(wE(t.value1)):t instanceof wS&&t.value0 instanceof ug?dE(wE(t.value1))((function(t){return rE(new Ak(t,t,!0))})):t instanceof wS&&t.value0 instanceof cg?lE(aE(sE(Ak.create)(wE(t.value0.value0)))(wE(t.value1)))(!0):t instanceof bS?sE(Ik.create)(wE(t.value0)):CP(t instanceof OS||t instanceof yS?hk("expected a proper type, but got")(vE(t)):hk("expected an expanded type, but got")(vE(t)))},xE=function(){return Tk.value}(),yE=function(t){return t instanceof fS?aE(sE(fS.create)(yE(t.value0)))(yE(t.value1)):t instanceof dS?aE(sE(dS.create)(yE(t.value0)))(yE(t.value1)):t instanceof vS?sE(vS.create)(oE(t.value0)((function(t){return lE(sE(sS.create(t.value0))(yE(t.value1)))(t.value2)}))):t instanceof gS?dE(RP(t.value0))((function(e){return dE(OP(t.value0))((function(n){var r,i=gE(pE(e))(pE(n));if(i instanceof cg)return rE(new gS(t.value0));if(i instanceof ug)return dE((r=t.value0,jA(zA(r))(GA((function(t){return t.tyAliasEnv})))))((function(e){if(e instanceof cg)return yE(e.value0);if(e instanceof ug)return CP(hk("type variable")(hk(mE(t.value0))("is undefined")));throw new Error("Failed pattern match at Language.CP.Transform (line 78, column 7 - line 80, column 82): "+[e.constructor.name])}));throw new Error("Failed pattern match at Language.CP.Transform (line 74, column 3 - line 80, column 82): "+[i.constructor.name])}))})):t instanceof pS?aE(sE(pS.create)(cE(hE(RE(yE)))(t.value0)))(uE((function(t){return function(e){return TP(rp(t))(xE)(e)}}))(yE(t.value1))(t.value0)):t instanceof mS?sE(mS.create(t.value0))(TP(t.value0)(xE)(yE(t.value1))):t instanceof RS?dE(yE(t.value0))((function(e){return dE(yE(t.value1))((function(n){return e instanceof OS?rE(TA(e.value0)(n)(e.value1)):e instanceof yS?n instanceof xS&&n.value1 instanceof cg?rE(TA(e.value1)(n.value1.value0)(TA(e.value0)(n.value0)(e.value2))):CP(hk("sig instantiation expected a sort, but got")(vE(t.value1))):CP(hk("expected an applicable type, but got")(vE(t.value0)))}))})):t instanceof OS?TP(t.value0)(xE)(sE(OS.create(t.value0))(yE(t.value1))):t instanceof wS?aE(sE(wS.create)(RE(yE)(t.value0)))(yE(t.value1)):t instanceof xS?dE(yE(t.value0))((function(e){return dE(RE(yE)(t.value1))((function(t){if(t instanceof cg)return rE(new xS(new dS(e,t.value0),new cg(t.value0)));if(t instanceof ug)return e instanceof gS?dE(OP(e.value0))((function(t){if(t instanceof cg)return rE(new xS(e,new cg(new gS(t.value0))));if(t instanceof ug)return rE(new xS(e,new cg(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 108, column 9 - line 109, column 61): "+[t.constructor.name])})):rE(new xS(e,new cg(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 103, column 3 - line 110, column 42): "+[t.constructor.name])}))})):t instanceof bS?sE(bS.create)(yE(t.value0)):t instanceof CS?aE(sE(CS.create)(yE(t.value0)))(yE(t.value1)):rE(t)},bE=OE(yE)(wE),CE=function(t){return function(e){return function(n){return n instanceof fS?aE(sE(fS.create)(CE(t)(!e)(n.value0)))(CE(t)(e)(n.value1)):n instanceof dS?aE(sE(dS.create)(CE(t)(e)(n.value0)))(CE(t)(e)(n.value1)):n instanceof vS?sE(vS.create)(oE(n.value0)((function(t){return lE(sE(sS.create(t.value0))(CE(ak(t.value0))(e)(t.value1)))(t.value2)}))):e&&n instanceof gS?dE(OP(n.value0))((function(e){if(e instanceof cg)return rE(t?new wS(new cg(n),new gS(e.value0)):new gS(e.value0));if(e instanceof ug)return rE(new gS(n.value0));throw new Error("Failed pattern match at Language.CP.Transform (line 129, column 3 - line 131, column 41): "+[e.constructor.name])})):n instanceof pS?aE(sE(pS.create)(cE(hE(RE(CE(t)(e))))(n.value0)))(CE(t)(e)(n.value1)):n instanceof mS?sE(mS.create(n.value0))(CE(t)(e)(n.value1)):n instanceof RS?aE(sE(RS.create)(CE(t)(e)(n.value0)))(CE(t)(e)(n.value1)):n instanceof OS?sE(OS.create(n.value0))(CE(t)(e)(n.value1)):n instanceof wS?aE(sE(wS.create)(RE(CE(t)(!e))(n.value0)))(CE(t)(e)(n.value1)):n instanceof bS?sE(bS.create)(CE(t)(e)(n.value0)):n instanceof CS?aE(sE(CS.create)(CE(t)(e)(n.value0)))(CE(t)(e)(n.value1)):rE(n)}}},kE=OE(yE)(CE(!1)(!0)),TE=Ep(dp(Yg)),SE=yv(TE),AE=_p(gp(Yg)),PE=Ov(AE),EE=lg(_A),_E=lg(rg),LE=lg(vT),DE=mv(Pp(vp(Yg))),IE=vv(Qp(mp(pP)(Yg))),NE=Wv(OT),QE=Ap(hp(qg)),ME=lv(QE),FE=$T(Yv),$E=iv(QE),BE=xv(Tv),UE=BE(TE),WE=Tm(UT),VE=Tm(oR),HE=Vm(AE)(cR),qE=Kd(Jd),XE=lg(MA),jE=dv(fv),zE=Jm(Nv),YE=dv(uR),GE=iv(sR),ZE=Bv(dR(Nv)),KE=RR(Yv),JE=sv(sR),t_=Km(Nv),e_=vv(xg),n_=iv(gg),r_=Bv(dR(ip(Nv)(Rg(CA)))),i_=Bv(OT),s_=$m(Wm)(AE),o_=Am(oR),l_=fp(Yg),a_=Up(l_),u_=yv(a_),c_=Hp(l_),h_=lp(c_),f_=Dm(oR)(Nv),d_=Bg(qp(pp(Yg))),v_=op(c_),g_=BE(a_),p_=lg(UA),m_=Vp(l_),R_=Sm(m_)(oR),O_=Ov(m_),w_=function(t){return SE(bE(t))((function(e){return e instanceof Dk?PE(e):CP(hk("fold/unfold expected a recursive type, but got")(EE(t)))}))},x_=function(t){return function(e){return function(n){return function(r){return new tp(new zk(t,e,n,r,!1),new Ak(n,r,!0))}}}},y_=function(t){return function(e){return function(n){if(t instanceof Pk){var r=y_(t.value1)(e)(n),i=y_(t.value0)(e)(n);if(i instanceof cg&&r instanceof cg)return new cg(new Pk(i.value0,r.value0));if(i instanceof cg&&r instanceof ug)return new cg(i.value0);if(i instanceof ug&&r instanceof cg)return new cg(r.value0);if(i instanceof ug&&r instanceof ug)return ug.value;throw new Error("Failed pattern match at Language.CP.Typing (line 597, column 3 - line 601, column 34): "+[i.constructor.name,r.constructor.name])}return t instanceof Ek&&e===t.value0&&n===t.value2?new cg(t.value1):ug.value}}},b_=function(t){return function(e){return function(n){return function(r){return function(i){return new jk(new zk(t,r,n,i,!1),e,!1)}}}}},C_=function(t){return function(e){return SE(RP(t))((function(n){if(n instanceof cg)return DT(n.value0)(e)?PE(rv):CP(hk("type variable")(hk(_E(t))(hk("is not disjoint from")(LE(e)))));if(n instanceof ug)return CP(hk("type variable")(hk(_E(t))("is undefined")));throw new Error("Failed pattern match at Language.CP.Typing (line 566, column 3 - line 569, column 78): "+[n.constructor.name])}))}},k_=function(t){return function(e){return function(n){return function(r){return function(i){var s=t+" or "+n,o=new _k(s);return TP(s)(i)(T_(wT(t)(o)(e))(wT(n)(o)(r)))}}}}},T_=function(t){return function(e){return LT(t)||LT(e)?PE(rv):t instanceof Ak&&e instanceof Ak?T_(t.value1)(e.value1):t instanceof Pk?DE(T_(t.value0)(e))(T_(t.value1)(e)):e instanceof Pk?T_(new Pk(e.value0,e.value1))(t):t instanceof Ek&&e instanceof Ek?t.value0===e.value0?T_(t.value1)(e.value1):PE(rv):t instanceof _k&&e instanceof _k?IE(C_(t.value0)(new _k(e.value0)))(C_(e.value0)(new _k(t.value0))):t instanceof _k?C_(t.value0)(e):e instanceof _k?C_(e.value0)(t):t instanceof Lk&&e instanceof Lk?k_(t.value0)(t.value2)(e.value0)(e.value2)(new Pk(t.value1,e.value1)):t instanceof Dk&&e instanceof Dk?k_(t.value0)(t.value1)(e.value0)(e.value1)(Sk.value):NE(t)(e)?PE(rv):CP(hk("expected two disjoint types, but got")(hk(LE(t))(hk("and")(LE(e)))))}},S_=function(t){return function(e){return t instanceof Ak&&e instanceof yg?DT(e.value0)(t.value0)?PE(t.value1):CP(hk("expected the argument type to be a subtype of the parameter type, but got")(hk(LE(e.value0))(hk("and")(LE(t.value0))))):t instanceof Lk&&e instanceof bg?ME(T_(e.value0)(t.value1))(wT(t.value0)(e.value0)(t.value2)):t instanceof Pk?SE(S_(t.value0)(e))((function(n){return SE(S_(t.value1)(e))((function(t){return PE(new Pk(n,t))}))})):CP(hk("expected an applicable type, but got")(LE(t)))}},A_=function(t){return t instanceof Pk?FE(A_(t.value0))(A_(t.value1)):t instanceof Ek&&!t.value2?function(t){return VR(t)(rv)}(t.value0):WT},P_=function(t){return function(e){return function(n){return SE(bE(n))((function(r){return SE(SP(t)(r)(E_(e)))((function(t){return DT(t.value1)(r)?PE(new tp(IT(t.value1)(r)?t.value0:new Gk(t.value0,r),r)):CP(hk("annotated")(hk(EE(n))(hk("is not a supertype of inferred")(LE(t.value1)))))}))}))}}},E_=function(t){if(t instanceof _S)return PE(new tp(new Mk(t.value0),yk.value));if(t instanceof LS)return PE(new tp(new Fk(t.value0),bk.value));if(t instanceof DS)return PE(new tp(new $k(t.value0),Ck.value));if(t instanceof IS)return PE(new tp(new Bk(t.value0),kk.value));if(t instanceof NS)return PE(new tp(Uk.value,Tk.value));if(t instanceof QS)return PE(new tp(Wk.value,Sk.value));if(t instanceof MS&&t.value0 instanceof aO)return SE(E_(t.value1))((function(t){var e=function(e){return new tp(new Vk(aO.value,new Gk(t.value0,e)),e)};return DT(t.value1)(yk.value)?PE(e(yk.value)):DT(t.value1)(bk.value)?PE(e(bk.value)):CP(hk("Neg is not defined for")(LE(t.value1)))}));if(t instanceof MS&&t.value0 instanceof uO)return SE(E_(t.value1))((function(t){var e=new tp(new Vk(uO.value,new Gk(t.value0,kk.value)),kk.value);return DT(t.value1)(kk.value)?PE(e):CP(hk("Not is not defined for")(LE(t.value1)))}));if(t instanceof MS&&t.value0 instanceof cO)return SE(E_(t.value1))((function(t){var e=new tp(new Vk(cO.value,t.value0),yk.value);return t.value1 instanceof Ik?PE(e):CP(hk("Len is not defined for")(LE(t.value1)))}));if(t instanceof MS&&t.value0 instanceof hO)return SE(E_(t.value1))((function(t){var e=new tp(new Vk(hO.value,t.value0),bk.value);return t.value1 instanceof bk?PE(e):CP(hk("Sqrt is not defined for")(LE(t.value1)))}));if(t instanceof FS&&t.value0 instanceof kO)return SE(E_(t.value1))((function(e){return SE(E_(t.value2))((function(n){var r=function(r){return new tp(new Hk(new kO(t.value0.value0),new Gk(e.value0,r),new Gk(n.value0,r)),r)};return DT(e.value1)(yk.value)&&DT(n.value1)(yk.value)?PE(r(yk.value)):DT(e.value1)(bk.value)&&DT(n.value1)(bk.value)?PE(r(bk.value)):CP(hk("ArithOp is not defined between")(hk(LE(e.value1))(hk("and")(LE(n.value1)))))}))}));if(t instanceof FS&&t.value0 instanceof TO)return SE(E_(t.value1))((function(e){return SE(E_(t.value2))((function(n){var r=function(r){return new tp(new Hk(new TO(t.value0.value0),new Gk(e.value0,r),new Gk(n.value0,r)),kk.value)};return DT(e.value1)(yk.value)&&DT(n.value1)(yk.value)?PE(r(yk.value)):DT(e.value1)(bk.value)&&DT(n.value1)(bk.value)?PE(r(bk.value)):DT(e.value1)(Ck.value)&&DT(n.value1)(Ck.value)?PE(r(Ck.value)):DT(e.value1)(kk.value)&&DT(n.value1)(kk.value)?PE(r(kk.value)):CP(hk("CompOp is not defined between")(hk(LE(e.value1))(hk("and")(LE(n.value1)))))}))}));if(t instanceof FS&&t.value0 instanceof SO)return SE(E_(t.value1))((function(e){return SE(E_(t.value2))((function(n){var r=new tp(new Hk(new SO(t.value0.value0),new Gk(e.value0,kk.value),new Gk(n.value0,kk.value)),kk.value);return DT(e.value1)(kk.value)&&DT(n.value1)(kk.value)?PE(r):CP(hk("LogicOp is not defined between")(hk(LE(e.value1))(hk("and")(LE(n.value1)))))}))}));if(t instanceof FS&&t.value0 instanceof AO)return SE(E_(t.value1))((function(e){return SE(E_(t.value2))((function(t){if(DT(e.value1)(Ck.value)&&DT(t.value1)(Ck.value))return PE(new tp(new Hk(AO.value,new Gk(e.value0,Ck.value),new Gk(t.value0,Ck.value)),Ck.value));if(e.value1 instanceof Ik&&t.value1 instanceof Ik){var n=function(t){return function(e){return function(n){return new tp(new Hk(AO.value,t,e),n)}}};return IT(e.value1.value0)(t.value1.value0)?PE(n(e.value0)(t.value0)(e.value1)):DT(t.value1.value0)(e.value1.value0)?PE(n(e.value0)(new Gk(t.value0,e.value1))(e.value1)):DT(e.value1.value0)(t.value1.value0)?PE(n(new Gk(e.value0,t.value1))(t.value0)(t.value1)):CP(hk("Append expected two arrays of equivalent types or subtypes,")(hk("but got")(hk(LE(e.value1.value0))(hk("and")(LE(t.value1.value0))))))}return CP(hk("Append is not defined between")(hk(LE(e.value1))(hk("and")(LE(t.value1)))))}))}));if(t instanceof FS&&t.value0 instanceof PO)return SE(E_(t.value1))((function(e){return SE(E_(t.value2))((function(t){return e.value1 instanceof Ik&&DT(t.value1)(yk.value)?PE(new tp(new Hk(PO.value,e.value0,new Gk(t.value0,yk.value)),e.value1.value0)):CP(hk("Index is not defined between")(hk(LE(e.value1))(hk("and")(LE(t.value1)))))}))}));if(t instanceof $S)return SE(E_(t.value0))((function(e){return DT(e.value1)(kk.value)?SE(E_(t.value1))((function(n){return SE(E_(t.value2))((function(t){var r=function(t){return function(n){return function(r){return new tp(new qk(new Gk(e.value0,kk.value),t,n),r)}}};return IT(n.value1)(t.value1)?PE(r(n.value0)(t.value0)(n.value1)):DT(t.value1)(n.value1)?PE(r(n.value0)(new Gk(t.value0,n.value1))(n.value1)):DT(n.value1)(t.value1)?PE(r(new Gk(n.value0,t.value1))(t.value0)(t.value1)):CP(hk("if-branches expected two equivalent types or subtypes, but got")(hk(LE(n.value1))(hk("and")(LE(t.value1)))))}))})):CP(hk("if-condition expected Bool, but got")(LE(e.value1)))}));if(t instanceof BS)return $E((function(e){return new tp(new Xk(t.value0),e)}))((e=t.value0,eP(GA((function(t){return t.tmBindEnv})))((function(t){var n=zA(e)(t);if(n instanceof cg)return rP(n.value0);if(n instanceof ug)return CP("term variable "+iP(e)+" is undefined");throw new Error("Failed pattern match at Language.CP.Context (line 48, column 3 - line 50, column 81): "+[n.constructor.name])}))));var e;if(t instanceof US){return SE(E_(t.value0))((function(e){return SE(E_(t.value1))((function(t){var n=function(t){return function(e){return t instanceof Ak&&IT(e)(t.value0)?new cg(t.value1):ug.value}}(e.value1)(t.value1);return n instanceof cg?PE(new tp(new jk(e.value0,t.value0,!1),n.value0)):$E((function(n){return new tp(new jk(e.value0,t.value0,!0),n)}))(S_(e.value1)(new yg(t.value1)))}))}))}if(t instanceof WS&&t.value0 instanceof iR&&t.value0.value0 instanceof vA&&t.value0.value0.value1 instanceof cg&&t.value0.value1 instanceof rR)return SE(bE(t.value0.value0.value1.value0))((function(e){return SE(SP(t.value0.value0.value0)(e)(E_(t.value1)))((function(n){return PE(new tp(new zk(t.value0.value0.value0,n.value0,e,n.value1,!1),new Ak(e,n.value1,!1)))}))}));if(t instanceof WS&&t.value0 instanceof iR&&t.value0.value0 instanceof vA&&t.value0.value0.value1 instanceof ug&&t.value0.value1 instanceof rR)return CP(hk("lambda parameter")(hk(_E(t.value0.value0.value0))("should be annotated with a type")));if(t instanceof WS&&t.value0 instanceof iR&&t.value0.value0 instanceof gA&&t.value0.value1 instanceof rR)return CP("record wildcards should only occur in traits with interfaces implemented");if(t instanceof VS)return SE(bE(t.value2))((function(e){return SE(SP(t.value0)(e)(E_(t.value1)))((function(n){return DT(n.value1)(e)?PE(new tp(new Yk(t.value0,n.value0,n.value1),n.value1)):CP(hk("fix body expected a subtype of the annotated type, but got ")(LE(n.value1)))}))}));if(t instanceof HS)return SE(E_(t.value0))((function(e){return SE(bE(t.value1))((function(n){return DT(e.value1)(n)?PE(new tp(new Gk(e.value0,n),n)):CP(hk("annotated")(hk(EE(t.value1))(hk("is not a supertype of inferred")(LE(e.value1)))))}))}));if(t instanceof qS&&t.value0 instanceof AS){var n=function(t){return new jk(t,new Xk("$self"),!0)};return SE(E_(t.value1))((function(e){return SE(E_(t.value2))((function(t){return e.value1 instanceof Tk?PE(new tp(t.value0,t.value1)):t.value1 instanceof Tk?PE(new tp(e.value0,e.value1)):e.value1 instanceof Ak&&e.value1.value2&&t.value1 instanceof Ak&&t.value1.value2?UE(T_(e.value1.value1)(t.value1.value1))((function(){var r=e.value1.value0 instanceof Tk?t.value1.value0:t.value1.value0 instanceof Tk?e.value1.value0:new Pk(e.value1.value0,t.value1.value0);return PE(x_("$self")(new Zk(n(e.value0),n(t.value0)))(r)(new Pk(e.value1.value1,t.value1.value1)))})):UE(T_(e.value1)(t.value1))((function(){return PE(new tp(new Zk(e.value0,t.value0),new Pk(e.value1,t.value1)))}))}))}))}if(t instanceof qS&&t.value0 instanceof PS)return E_(new qS(AS.value,t.value1,new oA(t.value2,t.value1)));if(t instanceof qS&&t.value0 instanceof ES)return E_(new qS(AS.value,new oA(t.value1,t.value2),t.value2));if(t instanceof XS&&t.value0 instanceof iR&&t.value0.value0 instanceof pA&&t.value0.value0.value2 instanceof rR&&t.value0.value0.value3 instanceof yg&&t.value0.value1 instanceof rR)return SE(E_(t.value0.value0.value3.value0))((function(e){return PE(new tp(new Kk(t.value0.value0.value1,e.value1,e.value0),new Ek(t.value0.value0.value1,e.value1,!1)))}));if(t instanceof jS)return SE(E_(t.value0))((function(e){var n=e.value1 instanceof Dk?new tp(new sT(e.value1,e.value0),xT(e.value1)):new tp(e.value0,e.value1),r=y_(n.value1)(t.value1)(!1);return r instanceof cg?PE(new tp(new Jk(n.value0,t.value1),r.value0)):CP(hk("label")(hk(_E(t.value1))(hk("is absent in")(LE(e.value1)))))}));if(t instanceof zS)return SE(E_(t.value0))((function(e){return SE(E_(t.value2))((function(n){var r=y_(e.value1)(t.value1)(!0);return r instanceof cg&&DT(n.value1)(r.value0)?PE(new tp(new tT(e.value0,t.value1,r.value0,n.value0),r.value0)):CP(t.value1+"'s default value does not match its interface")}))}));if(t instanceof YS)return SE(E_(t.value0))((function(e){return SE(bE(t.value1))((function(t){return SE(S_(e.value1)(new bg(t)))((function(n){return PE(new tp(new eT(e.value0,t),n))}))}))}));if(t instanceof GS&&t.value0 instanceof iR&&t.value0.value0.value1 instanceof cg&&t.value0.value1 instanceof rR)return SE(bE(t.value0.value0.value1.value0))((function(e){return SE(TP(t.value0.value0.value0)(e)(E_(t.value1)))((function(n){return PE(new tp(new nT(t.value0.value0.value0,e,n.value0,n.value1,!1),new Lk(t.value0.value0.value0,e,n.value1)))}))}));if(t instanceof ZS&&t.value1 instanceof rR&&t.value2 instanceof rR)return SE(E_(t.value3))((function(e){return SE(SP(t.value0)(e.value1)(E_(t.value4)))((function(n){return PE(new tp(b_(t.value0)(e.value0)(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof KS&&t.value1 instanceof rR&&t.value2 instanceof rR)return SE(P_(t.value0)(t.value4)(t.value3))((function(e){return SE(SP(t.value0)(e.value1)(E_(t.value5)))((function(n){return PE(new tp(b_(t.value0)(new Yk(t.value0,e.value0,e.value1))(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof JS)return SE(E_(t.value0))((function(e){var n=e.value1 instanceof Dk?new tp(new sT(e.value1,e.value0),xT(e.value1)):new tp(e.value0,e.value1),r=WE((function(t){return function(e){return new iR(new tp(t,lk(y_(n.value1)(t)(!1))),e)}}))(rR.value)(A_(n.value1));return SE(VE(ep(SP))(E_(t.value1))(r))((function(t){return PE(new tp(b_("$open")(n.value0)(n.value1)(VE((function(e){return function(n){return b_(e.value0)(new Jk(new Xk("$open"),e.value0))(e.value1)(n)(t.value1)}}))(t.value0)(r))(t.value1),t.value1))}))}));if(t instanceof tA){var r=function(t){return function(e){return t instanceof Kk?new Pk(new Ek(t.value0,t.value1,!1),e):e}};return SE(E_(t.value0))((function(e){return SE(HE(t.value1)((function(t){return SE(E_(t.value1))((function(e){return PE(new Kk(t.value0,e.value1,e.value0))}))})))((function(n){var i=VE(r)(Tk.value)(n);return DT(e.value1)(i)?SE(eE(e.value1)(i))((function(t){var r=uk(Zk.create)(n),i=LT(t)?qE:Zk.create(new Gk(e.value0,t));return PE(new tp(i(r),e.value1))})):CP(hk("cannot safely update the record")(XE(t.value0)))}))}))}if(t instanceof eA&&t.value0 instanceof cg&&t.value0.value0.value1 instanceof cg&&t.value1 instanceof cg){var i=function(t){return wR((function(e){return t(e.value0)}))},s=function(t){return t instanceof dS&&t.value0 instanceof vS&&t.value1 instanceof vS?YE(t.value0.value0)(t.value1.value0):t instanceof dS&&t.value1 instanceof vS?YE(s(t.value0))(t.value1.value0):t instanceof dS&&t.value0 instanceof vS?YE(t.value0.value0)(s(t.value1)):t instanceof dS?YE(s(t.value0))(s(t.value1)):t instanceof vS?t.value0:rR.value},o=function(e){return function(n){if(e instanceof dS)return o(new vS(s(e)))(n);if(e instanceof mS)return new aA(e,o(e.value1)(n));if(n instanceof dA)return new dA(n.value0,o(e)(n.value1));if(n instanceof JS)return new JS(n.value0,o(e)(n.value1));if(n instanceof qS)return new qS(n.value0,o(e)(n.value1),o(e)(n.value2));if(e instanceof vS&&n instanceof XS&&n.value0 instanceof iR&&n.value0.value0 instanceof pA&&n.value0.value0.value2 instanceof rR&&n.value0.value0.value3 instanceof yg&&n.value0.value1 instanceof rR){var r=function(t){var e,n=!1;function r(e){return e instanceof iR&&e.value1 instanceof rR?(n=!0,new cg(e.value0)):e instanceof iR?void(t=e.value1):(n=!0,ug.value)}for(;!n;)e=r(t);return e}(i((function(t){return t===n.value0.value0.value1}))(e.value0));return r instanceof cg?new XS(pR(new pA(n.value0.value0.value0,n.value0.value0.value1,rR.value,new yg(o(r.value0.value1)(n.value0.value0.value3.value0))))):n}if(e instanceof vS&&n instanceof XS&&n.value0 instanceof iR&&n.value0.value0 instanceof mA&&n.value0.value1 instanceof rR){var l=function(t){if(t instanceof fS){var e=l(t.value1);return new tp(new iR(new vA("_",new cg(t.value0)),e.value0),e.value1)}return new tp(rR.value,t)},a=function(t){return function(e){if(t instanceof dA)return a(t.value1)(e);if(t instanceof JS)return a(t.value1)(e);if(t instanceof qS)return jE(a(t.value1)(e))(a(t.value2)(e));if(t instanceof XS&&t.value0 instanceof iR&&t.value0.value0 instanceof pA&&t.value0.value0.value3 instanceof yg&&t.value0.value1 instanceof rR){var n=function(t){var e,n=!1;function r(e){if(e instanceof dA)t=e.value1;else if(e instanceof JS)t=e.value1;else if(e instanceof WS)t=e.value1;else{if(!(e instanceof eA))return e instanceof XS&&e.value0 instanceof iR&&e.value0.value0 instanceof pA&&e.value0.value1 instanceof rR?(n=!0,e.value0.value0.value1):(n=!0,"$nothing");t=e.value3}}for(;!n;)e=r(t);return e}(t.value0.value0.value3.value0)===e;return n?[t.value0.value0.value1]:[]}return[]}};return FP(new XS(JE(i((function(e){return t_(e)(function(e){return a(new qS(AS.value,mg(NS.value)(t.value2),t.value3))(e)}(n.value0.value0.value0.value1))}))(e.value0))((function(t){var e=l(t.value1),r=o(e.value1)(FP(MP(n.value0.value0.value0)));return new pA(!1,t.value0,e.value0,new yg(r))}))))}if(e instanceof fS&&n instanceof WS&&n.value0 instanceof iR&&n.value0.value0 instanceof vA&&n.value0.value1 instanceof rR)return new WS(pR(new vA(n.value0.value0.value0,e_(n.value0.value0.value1)(new cg(e.value0)))),o(e.value1)(n.value1));if(e instanceof fS&&n instanceof WS&&n.value0 instanceof iR&&n.value0.value0 instanceof gA&&n.value0.value1 instanceof rR&&function(t){return function(e){var n=VE((function(t){return function(e){return t.value2?new iR(t.value0,e):e}}))(rR.value)(s(e)),r=GE(rp)(t);return ZE(KE(r))(KE(n))}}(n.value0.value0.value0)(e.value0)){var u=new BS("$wildcard"),c=function(t){return function(e){return new ZS(t.value0,rR.value,rR.value,new zS(u,t.value0,t.value1),e)}};return new WS(pR(new vA("$wildcard",new cg(e.value0))),(h=n.value0.value0.value0,function(t){return VE(c)(t)(h)})(new JS(u,o(e.value1)(n.value1))))}var h;if(e instanceof wS&&n instanceof eA&&n.value0 instanceof cg){var f=mg(mg(cS.value)(e.value0))(n.value0.value0.value1);return new eA(new cg(new tp(n.value0.value0.value0,new cg(f))),n.value1,n_(o(e.value1))(n.value2),o(e.value1)(n.value3))}if(e instanceof pS&&e.value0 instanceof iR&&n instanceof GS&&n.value0 instanceof iR&&n.value0.value1 instanceof rR){var d=(r_(e.value0.value1)(rR.value)?qE:pS.create(e.value0.value1))(TA(e.value0.value0.value0)(new gS(n.value0.value0.value0))(e.value1));return new GS(pR(new tp(n.value0.value0.value0,e_(n.value0.value0.value1)(e.value0.value0.value1))),o(d)(n.value1))}return n}};return SE(bE(t.value0.value0.value1.value0))((function(e){return SE(function(t){return dE(yE(t))((function(t){return dE(wE(t))((function(e){return rE(new tp(e,t))}))}))}(t.value1.value0))((function(n){var r=o(n.value1)(t.value3);return SE(function(){if(t.value2 instanceof cg)return SE(SP(t.value0.value0.value0)(e)(E_(t.value2.value0)))((function(n){return n.value1 instanceof Ak&&n.value1.value2?DT(e)(n.value1.value0)?SE(SP(t.value0.value0.value0)(e)(SP("super")(n.value1.value1)(E_(r))))((function(e){var i=function(t){return function(e){var n=function(t){return t instanceof dA||t instanceof JS?n(t.value1):t instanceof qS?jE(n(t.value1))(n(t.value2)):t instanceof XS&&t.value0 instanceof iR&&t.value0.value0 instanceof pA&&t.value0.value0.value0&&t.value0.value1 instanceof rR?[t.value0.value0.value1]:[]},r=function(t){return function(e){if(t instanceof Pk){var n=r(t.value1)(e),i=r(t.value0)(e);return i instanceof Tk&&n instanceof Tk?Tk.value:i instanceof Tk?n:n instanceof Tk?i:new Pk(i,n)}return t instanceof Ek&&zE(t.value0)(e)?Tk.value:t}},i=n(e);return Xm(i)?t:r(t)(i)}}(n.value1.value1)(r);return UE(T_(i)(e.value1))((function(){var r=new Pk(i,e.value1),s=b_("super")(new jk(n.value0,new Xk(t.value0.value0.value0),!0))(n.value1.value1)(new Zk(new Gk(new Xk("super"),i),e.value0))(r);return PE(new tp(s,r))}))})):CP(hk("self-type")(hk(EE(t.value0.value0.value1.value0))(hk("is not a subtype of inherited self-type")(LE(n.value1.value0))))):CP(hk("expected to inherit a trait, but got")(LE(n.value1)))}));if(t.value2 instanceof ug)return SE(SP(t.value0.value0.value0)(e)(E_(r)))((function(t){return PE(new tp(t.value0,t.value1))}));throw new Error("Failed pattern match at Language.CP.Typing (line 230, column 18 - line 251, column 23): "+[t.value2.constructor.name])}())((function(r){return DT(r.value1)(n.value0)?PE(x_(t.value0.value0.value0)(r.value0)(e)(r.value1)):CP(hk("the trait does not implement")(EE(t.value1.value0)))}))}))}))}if(t instanceof eA&&t.value0 instanceof cg&&t.value0.value0.value1 instanceof ug)return E_(new eA(new cg(new tp(t.value0.value0.value0,new cg(cS.value))),t.value1,t.value2,t.value3));if(t instanceof nA)return SE(E_(t.value0))((function(t){return t.value1 instanceof Ak&&t.value1.value2?DT(t.value1.value1)(t.value1.value0)?PE(new tp(new Yk("$self",new jk(t.value0,new Xk("$self"),!0),t.value1.value1),t.value1.value1)):CP(hk("input type is not a supertype of output type in")(hk("Trait<")(hk(LE(t.value1.value0))(hk("=>")(hk(LE(t.value1.value1))(">")))))):CP(hk("new expected a trait, but got")(LE(t.value1)))}));if(t instanceof rA)return SE(E_(t.value0))((function(e){return SE(E_(t.value1))((function(t){return e.value1 instanceof Ak&&e.value1.value2?DT(t.value1)(e.value1.value0)?PE(new tp(new jk(e.value0,t.value0,!0),e.value1.value1)):CP(hk("expected to forward to a subtype of")(LE(e.value1.value0)+hk(", but got")(LE(t.value1)))):CP(hk("expected to forward from a trait, but got")(LE(e.value1)))}))}));if(t instanceof iA){var l=function(e){return function(n){return n instanceof Pk?IE(l(e)(n.value0))(l(e)(n.value1)):n instanceof Ek&&e===n.value0?PE(rv):CP(hk("label")(hk(_E(e))(hk("is absent in")(XE(t.value0)))))}};return SE(E_(t.value0))((function(e){return SE(bE(t.value1))((function(t){var n=t instanceof Ek&&t.value1 instanceof Sk&&!t.value2?l(t.value0):ev(PE(rv));return e.value1 instanceof Ak&&e.value1.value2?UE(n(e.value1.value1))((function(){return SE(eE(e.value1.value1)(t))((function(t){var n=new Ak(e.value1.value0,t,!0);return PE(new tp(new Gk(e.value0,n),n))}))})):UE(n(e.value1))((function(){return SE(eE(e.value1)(t))((function(t){return PE(new tp(new Gk(e.value0,t),t))}))}))}))}))}return t instanceof sA?E_(new iA(t.value0,new vS(pR(new sS(t.value1,hS.value,!1))))):t instanceof oA?SE(E_(t.value0))((function(e){return SE(E_(t.value1))((function(t){return e.value1 instanceof Ak&&e.value1.value2&&t.value1 instanceof Ak&&t.value1.value2?SE(eE(e.value1.value1)(t.value1.value1))((function(t){return PE(x_("$self")(new Gk(new jk(e.value0,new Xk("$self"),!0),t))(e.value1.value0)(t))})):SE(eE(e.value1)(t.value1))((function(t){return PE(new tp(new Gk(e.value0,t),t))}))}))})):t instanceof lA?SE(E_(t.value0))((function(e){if(e.value1 instanceof Ak&&e.value1.value2){var n=y_(e.value1.value0)(t.value1)(!1);if(n instanceof cg){var r=new lA(new BS("$self"),t.value2,t.value1),i=new lA(new rA(t.value0,r),t.value1,t.value2);return SE($E(Pk.create(new Ek(t.value2,n.value0,!1)))(eE(e.value1.value0)(new Ek(t.value1,Sk.value,!1))))((function(t){return SE(SP("$self")(t)(E_(i)))((function(e){return PE(x_("$self")(e.value0)(t)(e.value1))}))}))}if(n instanceof ug){i=new lA(new rA(t.value0,new BS("$self")),t.value1,t.value2);return SE(SP("$self")(e.value1.value0)(E_(i)))((function(t){return PE(x_("$self")(t.value0)(e.value1.value0)(t.value1))}))}throw new Error("Failed pattern match at Language.CP.Typing (line 410, column 7 - line 424, column 43): "+[n.constructor.name])}return E_(new qS(AS.value,new sA(t.value0,t.value1),new XS(pR(new pA(!1,t.value2,rR.value,new yg(new jS(t.value0,t.value1)))))))})):t instanceof aA?SE(w_(t.value0))((function(e){return SE(E_(t.value1))((function(n){return DT(n.value1)(xT(e))?PE(new tp(new iT(e,n.value0),e)):CP(hk("cannot fold")(hk(XE(t.value1))(hk("to")(EE(t.value0)))))}))})):t instanceof uA?SE(w_(t.value0))((function(e){return SE(E_(t.value1))((function(n){return DT(n.value1)(e)?PE(new tp(new sT(e,n.value0),xT(e))):CP(hk("cannot unfold")(hk(XE(t.value1))(hk("to")(EE(t.value0)))))}))})):t instanceof cA?SE(E_(t.value0))((function(t){return i_(t.value1)(yk.value)||i_(t.value1)(bk.value)||i_(t.value1)(Ck.value)||i_(t.value1)(kk.value)?PE(new tp(new oT(t.value0),Ck.value)):CP(hk("cannot show")(LE(t.value1)))})):t instanceof hA?Xm(t.value0)?PE(new tp(new lT(Sk.value,[]),new Ik(Sk.value))):SE(s_(E_)(t.value0))((function(e){var n=zm(e),r=lk(Ym(n.value1));return tR((function(t){return IT(t)(r)}))(n.value1)?PE(new tp(new lT(r,n.value0),new Ik(r))):CP("elements of an array should all have the same type"+hk(", but got")(XE(new hA(t.value0))))})):t instanceof fA?wP((function(t){if(t instanceof aP)return new aP(t.value0,t.value1,!0);if(t instanceof lP)return lP.value;throw new Error("Failed pattern match at Language.CP.Typing (line 455, column 9 - line 455, column 37): "+[t.constructor.name])}))(E_(t.value0)):t instanceof dA?wP((function(e){if(e instanceof aP)return new aP(t.value0,t.value1,e.value2);if(e instanceof lP)return new aP(t.value0,t.value1,!1);throw new Error("Failed pattern match at Language.CP.Typing (line 459, column 9 - line 459, column 42): "+[e.constructor.name])}))(E_(t.value1)):CP(hk("expected a desugared term, but got")(XE(t)))},__=function(t){if(t instanceof OA){var e=JE(t.value2)((function(t){return new tp(t,t+"_")})),n=function(n){return VE(ep(yS.create))(VE(OS.create)(n)(t.value3))(e)},r=function(e){return VE(tv(TP)(Tk.value))(e)(t.value3)},i=function(t){return VE(ep(AP))(t)(e)};return u_(h_((function(t){return t.forbidDup})))((function(e){return u_(h_((function(t){return t.tyAliases})))((function(s){if(e&&vg(f_(t.value1)(s)))return d_(new uP(hk("type")(hk(_E(t.value1))("has already been defined")),lP.value));if(t.value0 instanceof kS)return u_(h_(yP))((function(e){var s=mP(i(r(kE(t.value4))))(e);if(s instanceof yg)return d_(s.value0);if(s instanceof bg)return v_((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new iR(new tp(t.value1,n(s.value0)),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 480, column 7 - line 482, column 83): "+[s.constructor.name])}));if(t.value0 instanceof TS)return u_(h_(yP))((function(e){var s=mP(i(r(TP(t.value1)(Tk.value)(kE(t.value4)))))(e);if(s instanceof yg)return d_(s.value0);if(s instanceof bg)return v_((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new iR(new tp(t.value1,n(new mS(t.value1,s.value0))),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 485, column 7 - line 487, column 95): "+[s.constructor.name])}));if(t.value0 instanceof SS)return g_(__(new OA(TS.value,t.value1+"_",t.value2,t.value3,t.value4)))((function(){var e,n,r,i=function(e){return o_((function(t){return e=RS.create(t),function(t){return e(gS.create(t))};var e}))(e)(t.value3)}((e=new gS(t.value1+"_"),n=tv(xS.create)(ug.value),r=function(t){return n(gS.create(t))},o_((function(t){return e=RS.create(t),function(t){return e(r(t))};var e}))(e)(t.value2)));return __(new OA(kS.value,t.value1,t.value2,t.value3,new dS(t.value0.value0,i)))}));throw new Error("Failed pattern match at Language.CP.Typing (line 477, column 8 - line 492, column 73): "+[t.value0.constructor.name])}))}))}return t instanceof wA&&t.value1 instanceof rR&&t.value2 instanceof rR?u_(h_((function(t){return t.forbidDup})))((function(e){return u_(h_((function(t){return t.tmBindings})))((function(n){return e&&vg(f_(t.value0)(n))?d_(new uP(hk("term")(hk(_E(t.value0))("has already been defined")),lP.value)):u_(h_(yP))((function(e){var n=function(){if(t.value3 instanceof cg)return P_(t.value0)(t.value4)(t.value3.value0);if(t.value3 instanceof ug)return E_(t.value4);throw new Error("Failed pattern match at Language.CP.Typing (line 514, column 18 - line 515, column 47): "+[t.value3.constructor.name])}(),r=mP(n)(e);if(r instanceof yg)return d_(r.value0);if(r instanceof bg){var i=vg(t.value3)?new Yk(t.value0,r.value0.value0,r.value0.value1):r.value0.value0,s=function(e){return new rT(t.value0,i,e)};return v_((function(e){var n={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.tmBindings=new iR(new tp(t.value0,new tp(r.value0.value1,s)),e.tmBindings),n}))}throw new Error("Failed pattern match at Language.CP.Typing (line 516, column 5 - line 521, column 74): "+[r.constructor.name])}))}))})):d_(new uP(hk("expected a desugared def, but got")(p_(t)),lP.value))};var L_=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),D_=function(t){var e,n=!1;function r(e){if(e.value0 instanceof rR&&e.value1 instanceof rR)return n=!0,ug.value;if(!(e.value0 instanceof rR)){if(e.value0 instanceof iR)return n=!0,new cg(new tp(e.value0.value0,new L_(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[e.constructor.name])}t=new L_(OR(e.value1),rR.value)}for(;!n;)e=r(t);return e},I_=function(t){return function(e){return new L_(t.value0,new iR(e,t.value1))}},N_=function(t){return t.value0 instanceof rR&&t.value1 instanceof rR},Q_=function(){return new L_(rR.value,rR.value)}(),M_=function(){function t(){}return t.value=new t,t}(),F_=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),$_=function(t){return function(e){if(t instanceof M_)return e;if(e instanceof M_)return t;if(t instanceof F_)return new F_(t.value0,I_(t.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,e.constructor.name])}},B_=function(t){return function(e){return function(n){var r;return(r=n,function(n){var i,s=r,o=!1;function l(r,i){var l=D_(r);if(l instanceof ug)return o=!0,function(t){return function(e){return function(n){var r,i=t,s=e,o=!1;function l(t,e,r){if(r instanceof rR)return o=!0,e;if(r instanceof iR)return i=t,s=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[t.constructor.name,e.constructor.name,r.constructor.name])}for(;!o;)r=l(i,s,n);return r}}}((function(t){return function(e){return e(t)}}))(e)(i);if(l instanceof cg)return s=l.value0.value1,void(n=new iR(t(l.value0.value0),i));throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[l.constructor.name])}for(;!o;)i=l(s,n);return i})(rR.value)}}},U_=function(t){if(t instanceof M_)return ug.value;if(t instanceof F_)return new cg(new tp(t.value0,N_(t.value1)?M_.value:B_($_)(M_.value)(t.value1)));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])},W_=function(){return M_.value}(),V_=$_,H_={append:V_},q_=function(t){return function(e){return V_(t)(new F_(e,Q_))}},X_=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},j_=dv(H_),z_=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Y_=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),G_=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Z_=function(t){var e,n=!1;function r(e){var r=function(t){return function(e){return new z_(t.value0,j_(t.value1)(e))}};if(e.value0 instanceof Y_){var i=U_(e.value1);if(i instanceof ug)return n=!0,new Y_(e.value0.value0);if(i instanceof cg)return void(t=r((0,i.value0.value0)(e.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(e.value0 instanceof G_)return n=!0,new G_(e.value0.value0,(function(t){return r(e.value0.value1(t))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!n;)e=r(t);return e},K_=function(t){var e=iv(t);return function(t){return function(n){var r,i=!1;function s(r){var s=Z_(r);if(s instanceof Y_)return i=!0,s.value0;if(!(s instanceof G_))throw new Error("Failed pattern match at Control.Monad.Free (line 178, column 10 - line 180, column 33): "+[s.constructor.name]);n=t(e(s.value1)(s.value0))}for(;!i;)r=s(n);return r}}},J_=function(t){return new z_(t,W_)},tL={Applicative0:function(){return rL},Bind1:function(){return nL}},eL={map:function(t){return function(e){return bv(nL)((n=Ov(rL),function(e){return n(t(e))}))(e);var n}}},nL={bind:function(t){return function(e){return new z_(t.value0,q_(t.value1)(e))}},Apply0:function(){return iL(0)}},rL={pure:function(t){return J_(Y_.create(t))},Apply0:function(){return iL(0)}},iL=X_("freeApply","Control.Monad.Free",(function(){return{apply:Sv(tL),Functor0:function(){return eL}}})),sL=iL(77),oL=K_(av)((function(t){return t(rv)})),lL=lg(pT),aL=lg(vT),uL=lg(MO),cL=lg(EO),hL=lg(sg),fL=lg(ig),dL=lg(og),vL=Pg(Ag),gL=Sg(Ag),pL=dv(fv),mL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),RL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),OL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),wL={show:function(t){if(t instanceof mL)return lL(t.value0);if(t instanceof RL)return lL(t.value0);if(t instanceof OL)return aL(t.value0);throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 112, column 1 - line 115, column 28): "+[t.constructor.name])}},xL=function(t){return function(e){return function(n){return AR("CP.Semantics.Common.binop: impossible binary operation "+uL(t)+" between "+lL(e)+" and "+lL(n))}}},yL=function(t){return function(e){return t instanceof aO&&e instanceof Mk?new Mk(0|-e.value0):t instanceof aO&&e instanceof Fk?new Fk(-e.value0):t instanceof uO&&e instanceof Bk?new Bk(!e.value0):t instanceof cO&&e instanceof lT?new Mk(Xp(e.value1)):t instanceof hO&&e instanceof Fk?new Fk(DR(e.value0)):AR("CP.Semantics.Common.unop: impossible unary operation "+cL(t)+" on "+lL(e))}},bL=function(t){return t instanceof $k?t:t instanceof Mk?new $k(hL(t.value0)):t instanceof Fk?new $k(fL(t.value0)):t instanceof Bk?new $k(dL(t.value0)):AR("CP.Semantics.Common.toString: impossible from "+lL(t)+" to string")},CL=function(t){return function(e){if(t instanceof Zk){var n=CL(t.value1)(e),r=CL(t.value0)(e);return r instanceof Uk&&n instanceof Uk?Uk.value:r instanceof Uk?n:n instanceof Uk?r:new Zk(r,n)}return t instanceof Kk&&e===t.value0?new Gk(t.value2,t.value1):Uk.value}},kL=function(t){var e,n=!1;function r(e){return e instanceof Tk?(n=!0,Uk.value):e instanceof Ak?(n=!0,new zk("$top",Uk.value,Tk.value,e.value1,!0)):e instanceof Ek?(n=!0,new Kk(e.value0,e.value1,Uk.value)):e instanceof Lk?(n=!0,new nT(e.value0,Tk.value,Uk.value,e.value2,!0)):e instanceof Dk?void(t=e.value1):(n=!0,AR("CP.Semantics.Common.genTopLike: cannot generate a top-like value of type "+aL(e)))}for(;!n;)e=r(t);return e},TL=function(t){return function(e){return function(n){if(t instanceof kO)return function(t){return function(e){return function(n){return t instanceof wO&&e instanceof Mk&&n instanceof Mk?new Mk(e.value0+n.value0|0):t instanceof xO&&e instanceof Mk&&n instanceof Mk?new Mk(e.value0-n.value0|0):t instanceof yO&&e instanceof Mk&&n instanceof Mk?new Mk(e.value0*n.value0|0):t instanceof bO&&e instanceof Mk&&n instanceof Mk?new Mk(vL(e.value0)(n.value0)):t instanceof CO&&e instanceof Mk&&n instanceof Mk?new Mk(gL(e.value0)(n.value0)):t instanceof wO&&e instanceof Fk&&n instanceof Fk?new Fk(e.value0+n.value0):t instanceof xO&&e instanceof Fk&&n instanceof Fk?new Fk(e.value0-n.value0):t instanceof yO&&e instanceof Fk&&n instanceof Fk?new Fk(e.value0*n.value0):t instanceof bO&&e instanceof Fk&&n instanceof Fk?new Fk(e.value0/n.value0):t instanceof CO&&e instanceof Fk&&n instanceof Fk?new Fk(function(t){return function(e){return t%e}}(e.value0)(n.value0)):xL(new kO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof TO)return function(t){return function(e){return function(n){return t instanceof vO&&e instanceof Mk&&n instanceof Mk?new Bk(e.value0===n.value0):t instanceof gO&&e instanceof Mk&&n instanceof Mk?new Bk(e.value0!==n.value0):t instanceof pO&&e instanceof Mk&&n instanceof Mk?new Bk(e.value0<n.value0):t instanceof mO&&e instanceof Mk&&n instanceof Mk?new Bk(e.value0<=n.value0):t instanceof RO&&e instanceof Mk&&n instanceof Mk?new Bk(e.value0>n.value0):t instanceof OO&&e instanceof Mk&&n instanceof Mk?new Bk(e.value0>=n.value0):t instanceof vO&&e instanceof Fk&&n instanceof Fk?new Bk(e.value0===n.value0):t instanceof gO&&e instanceof Fk&&n instanceof Fk?new Bk(e.value0!==n.value0):t instanceof pO&&e instanceof Fk&&n instanceof Fk?new Bk(e.value0<n.value0):t instanceof mO&&e instanceof Fk&&n instanceof Fk?new Bk(e.value0<=n.value0):t instanceof RO&&e instanceof Fk&&n instanceof Fk?new Bk(e.value0>n.value0):t instanceof OO&&e instanceof Fk&&n instanceof Fk?new Bk(e.value0>=n.value0):t instanceof vO&&e instanceof $k&&n instanceof $k?new Bk(e.value0===n.value0):t instanceof gO&&e instanceof $k&&n instanceof $k?new Bk(e.value0!==n.value0):t instanceof pO&&e instanceof $k&&n instanceof $k?new Bk(e.value0<n.value0):t instanceof mO&&e instanceof $k&&n instanceof $k?new Bk(e.value0<=n.value0):t instanceof RO&&e instanceof $k&&n instanceof $k?new Bk(e.value0>n.value0):t instanceof OO&&e instanceof $k&&n instanceof $k?new Bk(e.value0>=n.value0):t instanceof vO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0===n.value0):t instanceof gO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0!==n.value0):t instanceof pO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0<n.value0):t instanceof mO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0<=n.value0):t instanceof RO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0>n.value0):t instanceof OO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0>=n.value0):xL(new TO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof SO)return function(t){return function(e){return function(n){return t instanceof fO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0&&n.value0):t instanceof dO&&e instanceof Bk&&n instanceof Bk?new Bk(e.value0||n.value0):xL(new SO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof AO&&e instanceof $k&&n instanceof $k)return new $k(e.value0+n.value0);if(t instanceof AO&&e instanceof lT&&n instanceof lT)return new lT(e.value0,pL(e.value1)(n.value1));if(t instanceof PO&&e instanceof lT&&n instanceof Mk){var r=jm(e.value1)(n.value0);if(r instanceof cg)return new Gk(r.value0,e.value0);if(r instanceof ug)return AR("CP.Semantics.Common.binop: the index "+hL(n.value0)+" is out of bounds for "+lL(new lT(e.value0,e.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 28, column 41 - line 31, column 63): "+[r.constructor.name])}return xL(t)(e)(n)}}},SL=lg(pT),AL=lg(wL),PL=lg(vT),EL=vv(xg),_L=pv(Og),LL=iv(gg),DL=mv(Og),IL=Ov(rL),NL=iv(eL),QL=yv(nL),ML=pv(sL),FL=cv(eL),$L=Cv(nL),BL=iv(uv),UL=function(t){return function(e){return t instanceof hT&&!t.value3&&e instanceof mL?t.value0(new uT(iO(e.value0))):t instanceof hT&&t.value3&&e instanceof mL?new Gk(t.value0(new uT(iO(e.value0))),t.value2):t instanceof hT&&e instanceof RL?new Gk(t.value0(new uT(iO(new Gk(e.value0,t.value1)))),t.value2):t instanceof dT&&!t.value3&&e instanceof OL?t.value0(e.value0):t instanceof dT&&t.value3&&e instanceof OL?new Gk(t.value0(e.value0),t.value2(e.value0)):t instanceof Zk?new Zk(UL(t.value0)(e),UL(t.value1)(e)):AR("CP.Semantics.HOAS.paraApp: impossible application "+SL(t)+" • "+AL(e))}},WL=function(t){return t instanceof Mk||(t instanceof Fk||(t instanceof $k||(t instanceof Bk||(t instanceof Uk||(t instanceof hT||(t instanceof Zk?WL(t.value0)&&WL(t.value1):t instanceof Kk||(t instanceof dT||(t instanceof iT?WL(t.value1):t instanceof lT))))))))},VL=function(t){return function(e){if(!WL(t))return AR("CP.Semantics.HOAS.cast: "+SL(t)+" is not a value");var n=_T(e);if(n instanceof cg){var r=function(t){return t instanceof Ek&&t.value2?new cg(Uk.value):ug.value},i=VL(t)(n.value0.value1),s=VL(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return EL(_L(LL(Zk.create)(s))(i))(EL(DL(l)(i))(EL(DL(o)(s))(DL(l)(o))))}return LT(e)?new cg(function(t){var e,n=!1;function r(e){return e instanceof Tk?(n=!0,Uk.value):e instanceof Ak?(n=!0,new hT((function(t){return Uk.value}),Tk.value,e.value1,!0)):e instanceof Ek?(n=!0,new Kk(e.value0,e.value1,Uk.value)):e instanceof Lk?(n=!0,new dT((function(t){return Uk.value}),Tk.value,CT(e.value0)(e.value2),!0)):e instanceof Dk?void(t=e.value1):(n=!0,AR("CP.Semantics.HOAS.genTopLike: cannot generate a top-like value of type "+PL(e)))}for(;!n;)e=r(t);return e}(e)):t instanceof Mk&&e instanceof yk?new cg(new Mk(t.value0)):t instanceof Fk&&e instanceof bk?new cg(new Fk(t.value0)):t instanceof $k&&e instanceof Ck?new cg(new $k(t.value0)):t instanceof Bk&&e instanceof kk?new cg(new Bk(t.value0)):t instanceof hT&&e instanceof Ak&&DT(t.value2)(e.value1)?new cg(new hT(t.value0,t.value1,e.value1,!0)):t instanceof Zk?EL(VL(t.value0)(e))(VL(t.value1)(e)):t instanceof Kk&&e instanceof Ek&&t.value0===e.value0&&DT(t.value1)(e.value1)?new cg(new Kk(t.value0,e.value1,t.value2)):t instanceof dT&&e instanceof Lk&&DT(e.value1)(t.value1)&&DT(t.value2(new _k(e.value0)))(e.value2)?new cg(new dT(t.value0,t.value1,CT(e.value0)(e.value2),!0)):t instanceof iT&&e instanceof Dk&&DT(t.value0)(e)?new cg(new iT(e,t.value1)):t instanceof lT&&e instanceof Ik&&DT(t.value0)(e.value0)?new cg(new lT(e.value0,t.value1)):ug.value}},HL=function(){var t=function(e){var n=e;if(e instanceof Mk)return IL(n);n=e;if(e instanceof Fk)return IL(n);n=e;if(e instanceof $k)return IL(n);n=e;if(e instanceof Bk)return IL(n);if(e instanceof Uk)return IL(Uk.value);if(e instanceof Vk)return NL(yL(e.value0))(t(e.value1));if(e instanceof Hk)return QL(t(e.value1))((function(n){return QL(t(e.value2))((function(r){var i=TL(e.value0)(n)(r);return e.value0 instanceof PO?t(i):IL(i)}))}));if(e instanceof qk)return QL(t(e.value0))((function(n){return n instanceof Bk&&n.value0?t(e.value1):n instanceof Bk&&!n.value0?t(e.value2):AR("CP.Semantics.HOAS.eval: impossible if "+SL(n)+" ...")}));if(e instanceof jk)return QL(t(e.value0))((function(n){return t(UL(n)((e.value2?RL.create:mL.create)(e.value1)))}));n=e;if(e instanceof hT)return IL(n);n=e;if(e instanceof fT)return t(e.value0(n));if(e instanceof Gk)return QL((r=function(e){var n,r=!1;function i(n){if(!(n instanceof Gk))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=VL(n)(e.value1);if(r instanceof cg)return t(r.value0);if(r instanceof ug)return AR("CP.Semantics.HOAS.eval: impossible casting "+SL(n)+" : "+PL(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 47, column 7 - line 50, column 75): "+[r.constructor.name])}));if(e instanceof Zk)return ML(NL(Zk.create)(t(e.value0)))(t(e.value1));if(e instanceof Kk)return IL(new Kk(e.value0,e.value1,new uT(iO(e.value2))));if(e instanceof Jk)return QL(FL(NL(CL)(t(e.value0)))(e.value1))(t);if(e instanceof tT)return QL(t(e.value0))((function(n){var r=VL(n)(new Ek(e.value1,e.value2,!1));if(r instanceof cg)return t(new Jk(r.value0,e.value1));if(r instanceof ug)return t(e.value3);throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 59, column 7 - line 61, column 25): "+[r.constructor.name])}));if(e instanceof eT)return QL(FL(NL(UL)(t(e.value0)))(new OL(e.value1)))(t);n=e;if(e instanceof dT)return IL(n);if(e instanceof iT)return NL(iT.create(e.value0))(t(e.value1));if(e instanceof sT){var r=function(n){return n instanceof Zk?$L(r)(t)(new Gk(n,e.value0)):n instanceof iT?t(new Gk(n.value1,xT(e.value0))):AR("CP.Semantics.HOAS.eval: impossible unfold "+SL(n))};return LT(e.value0)?IL(Uk.value):QL(t(e.value1))(r)}if(e instanceof oT)return NL(bL)(t(e.value0));if(e instanceof lT)return IL(new lT(e.value0,BL((function(t){return uT.create(iO(t))}))(e.value1)));if(e instanceof uT){n=oO(e.value0);return sO(e.value0)?IL(n):QL(t(n))((function(t){return IL(lO(t)(e.value0))}))}return AR("CP.Semantics.HOAS.eval: well-typed programs don't get stuck, but got "+SL(e))};return function(e){return oL(t(AT(e)))}}(),qL=iv(gg),XL={lift:function(t){var e=function(t){var e=yv(t.Bind1()),n=Ov(t.Applicative0());return function(t){return function(r){return e(r)((function(e){return n(t(e))}))}}}(t)(cg.create);return function(t){return e(t)}}},jL=function(t){var e=iv(t);return{map:function(t){return function(n){return e(qL(t))(n)}}}},zL=function(t){return{Applicative0:function(){return ZL(t)},Bind1:function(){return YL(t)}}},YL=function(t){var e=yv(t.Bind1()),n=Ov(t.Applicative0());return{bind:function(t){return function(r){return e(t)((function(t){if(t instanceof ug)return n(ug.value);if(t instanceof cg)return r(t.value0);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 54, column 11 - line 56, column 42): "+[t.constructor.name])}))}},Apply0:function(){return GL(t)}}},GL=function(t){var e=jL(t.Bind1().Apply0().Functor0());return{apply:Sv(zL(t)),Functor0:function(){return e}}},ZL=function(t){return{pure:(e=Ov(t.Applicative0()),function(t){return e(cg.create(t))}),Apply0:function(){return GL(t)}};var e},KL=function(t){var e=t.Bind1(),n=yv(e),r=Ov(t.Applicative0()),i=jL(e.Apply0().Functor0());return{alt:function(t){return function(e){return n(t)((function(t){return t instanceof ug?e:r(t)}))}},Functor0:function(){return i}}},JL=function(t){var e=KL(t);return{empty:Ov(t.Applicative0())(ug.value),Alt0:function(){return e}}},tD=KR(Yv),eD=lg(pT),nD=lg(wL),rD=ZR(Yv),iD=lg(hg(RT)),sD=Rp(XL),oD=GR(Yv),lD=dv(fv),aD=lg(sg),uD=function(t){return function(e){return t instanceof cO&&e instanceof cT&&e.value1 instanceof lT?new Mk(Xp(e.value1.value1)):yL(t)(e)}},cD=function(t){return function(e){if(t instanceof Zk){var n=cD(t.value1)(e),r=cD(t.value0)(e);return r instanceof Uk&&n instanceof Uk?Uk.value:r instanceof Uk?n:n instanceof Uk?r:new Zk(r,n)}return t instanceof cT&&t.value1 instanceof Kk&&e===t.value1.value0?new cT(t.value0,new Gk(t.value1.value2,t.value1.value1)):Uk.value}},hD=function(t){return function(e){return t instanceof cT&&t.value1 instanceof zk&&!t.value1.value4&&e instanceof mL?new cT(tD(t.value1.value0)(new Nk(e.value0))(t.value0),t.value1.value1):t instanceof cT&&t.value1 instanceof zk&&t.value1.value4&&e instanceof mL?new cT(tD(t.value1.value0)(new Nk(e.value0))(t.value0),new Gk(t.value1.value1,t.value1.value3)):t instanceof cT&&t.value1 instanceof zk&&e instanceof RL?new cT(tD(t.value1.value0)(new Nk(new Gk(e.value0,t.value1.value2)))(t.value0),new Gk(t.value1.value1,t.value1.value3)):t instanceof cT&&t.value1 instanceof nT&&!t.value1.value4&&e instanceof OL?new cT(tD(t.value1.value0)(new Qk(new cg(e.value0)))(t.value0),t.value1.value2):t instanceof cT&&t.value1 instanceof nT&&t.value1.value4&&e instanceof OL?new cT(tD(t.value1.value0)(new Qk(new cg(e.value0)))(t.value0),new Gk(t.value1.value2,t.value1.value3)):t instanceof Zk?new Zk(hD(t.value0)(e),hD(t.value1)(e)):AR("CP.Semantics.Closure.paraApp: impossible application "+eD(t)+" • "+nD(e))}},fD=function(t){return t instanceof Mk||(t instanceof Fk||(t instanceof $k||(t instanceof Bk||(t instanceof Uk||(t instanceof Zk?fD(t.value0)&&fD(t.value1):t instanceof iT?fD(t.value1):t instanceof cT&&t.value1 instanceof Kk||(t instanceof cT&&t.value1 instanceof zk||(t instanceof cT&&t.value1 instanceof nT||t instanceof cT&&t.value1 instanceof lT)))))))},dD=function(t){var e=t.Bind1(),n=e.Apply0(),r=Ap(n.Functor0()),i=cv(r),s=pv(Pp(n)),o=iv(r),l=yv(Ep(e)),a=Wg(Dp(t)),u=Ov(_p(t.Applicative0())),c=Ug(Ip(t));return function(e){return e instanceof Ak?i(s(o(Ak.create)(dD(t)(e.value0)))(dD(t)(e.value1)))(e.value2):e instanceof Pk?s(o(Pk.create)(dD(t)(e.value0)))(dD(t)(e.value1)):e instanceof Ek?i(o(Ek.create(e.value0))(dD(t)(e.value1)))(e.value2):e instanceof _k?l(a)((function(n){var r=rD(e.value0)(n);return r instanceof cg&&r.value0 instanceof Qk&&r.value0.value0 instanceof ug?u(new _k(e.value0)):r instanceof cg&&r.value0 instanceof Qk&&r.value0.value0 instanceof cg?dD(t)(r.value0.value0.value0):AR("CP.Semantics.Closure.expand: "+e.value0+" is "+iD(r))})):e instanceof Lk?l(dD(t)(e.value1))((function(n){return l(c((function(t){return tD(e.value0)(new Qk(ug.value))(t)}))(dD(t)(e.value2)))((function(t){return u(new Lk(e.value0,n,t))}))})):e instanceof Dk?l(c((function(t){return tD(e.value0)(new Qk(ug.value))(t)}))(dD(t)(e.value1)))((function(t){return u(new Dk(e.value0,t))})):e instanceof Ik?o(Ik.create)(dD(t)(e.value0)):u(e)}},vD=function(t){var e=yv(Ep(t.Bind1())),n=Wg(Dp(t)),r=Ov(_p(t.Applicative0()));return function(t){return e(n)((function(e){return r(new cT(e,t))}))}},gD=function(t){var e=Lp(t),n=Ov(ZL(e)),r=vv(KL(e)),i=yv(YL(e)),s=sD(e),o=Ug(Ip(t)),l=dD(t),a=Op(JL(e)),u=GL(e),c=pv(u),h=iv(jL(Ap(t.Bind1().Apply0().Functor0()))),f=mv(u);return function(t){return function(e){var u=function(t){return function(e){if(!fD(t))return AR("CP.Semantics.Closure.cast: "+eD(t)+" is not a value");var d=_T(e);if(d instanceof cg){var v=function(t){return t instanceof Ek&&t.value2?n(Uk.value):a},g=u(t)(d.value0.value1),p=u(t)(d.value0.value0),m=v(d.value0.value1),R=v(d.value0.value0);return r(c(h(Zk.create)(p))(g))(r(f(R)(g))(r(f(m)(p))(f(R)(m))))}return LT(e)?n(kL(e)):t instanceof Zk?r(u(t.value0)(e))(u(t.value1)(e)):t instanceof Mk&&e instanceof yk?n(new Mk(t.value0)):t instanceof Fk&&e instanceof bk?n(new Fk(t.value0)):t instanceof $k&&e instanceof Ck?n(new $k(t.value0)):t instanceof Bk&&e instanceof kk?n(new Bk(t.value0)):t instanceof iT&&e instanceof Dk&&DT(t.value0)(e)?n(new iT(e,t.value1)):t instanceof cT&&t.value1 instanceof Kk&&e instanceof Ek?i(s(o(ev(t.value0))(l(t.value1.value1))))((function(r){return t.value1.value0===e.value0&&DT(r)(e.value1)?n(new cT(t.value0,new Kk(e.value0,e.value1,t.value1.value2))):a})):t instanceof cT&&t.value1 instanceof zk&&e instanceof Ak?i(s(o(ev(t.value0))(l(t.value1.value2))))((function(r){return i(s(o(ev(t.value0))(l(t.value1.value3))))((function(i){return DT(i)(e.value1)?n(new cT(t.value0,new zk(t.value1.value0,t.value1.value1,r,e.value1,!0))):a}))})):t instanceof cT&&t.value1 instanceof nT&&e instanceof Lk?i(s(o(ev(t.value0))(l(t.value1.value1))))((function(r){var u=tD(t.value1.value0)(new Qk(ug.value))(t.value0);return i(s(o(ev(u))(l(t.value1.value3))))((function(i){return t.value1.value0===e.value0&&DT(e.value1)(r)&&DT(i)(e.value2)?n(new cT(u,new nT(e.value0,r,t.value1.value2,e.value2,!0))):a}))})):t instanceof cT&&t.value1 instanceof lT&&e instanceof Ik?i(s(o(ev(t.value0))(l(t.value1.value0))))((function(r){return DT(r)(e.value0)?n(new cT(t.value0,new lT(e.value0,t.value1.value1))):a})):a}};return u(t)(e)}}},pD=function(t){return function(e){return function(n){if(t instanceof AO&&e instanceof cT&&e.value1 instanceof lT&&n instanceof cT&&n.value1 instanceof lT)return new cT(oD(e.value0)(n.value0),new lT(e.value1.value0,lD(e.value1.value1)(n.value1.value1)));if(t instanceof PO&&e instanceof cT&&e.value1 instanceof lT&&n instanceof Mk){var r=jm(e.value1.value1)(n.value0);if(r instanceof cg)return new cT(e.value0,new Gk(r.value0,e.value1.value0));if(r instanceof ug)return AR("CP.Semantics.Closure.binop': the index "+aD(n.value0)+" is out of bounds for "+eD(new lT(e.value1.value0,e.value1.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Closure (line 159, column 58 - line 162, column 63): "+[r.constructor.name])}return TL(t)(e)(n)}}},mD=Ov(_p(rL)),RD=Ap(eL),OD=iv(RD),wD=Ep(nL),xD=yv(wD),yD=lg(pT),bD=Wg(Dp(tL)),CD=ZR(Yv),kD=lg(rg),TD=lg(hg(RT)),SD=vD(tL),AD=Ug(Ip(tL)),PD=KR(Yv),ED=dD(tL),_D=gD(tL),LD=lg(vT),DD=pv(Pp(sL)),ID=cv(RD),ND=Cv(wD),QD=lg(pT),MD=lg(wL),FD=vv(xg),$D=pv(Og),BD=iv(gg),UD=mv(Og),WD=function(t){return function(e){return t instanceof zk&&!t.value4&&e instanceof mL?TT(t.value0)(e.value0)(t.value1):t instanceof zk&&t.value4&&e instanceof mL?new Gk(TT(t.value0)(e.value0)(t.value1),t.value3):t instanceof zk&&e instanceof RL?new Gk(TT(t.value0)(new Gk(e.value0,t.value2))(t.value1),t.value3):t instanceof nT&&!t.value4&&e instanceof OL?kT(t.value0)(e.value0)(t.value2):t instanceof nT&&t.value4&&e instanceof OL?new Gk(kT(t.value0)(e.value0)(t.value2),wT(t.value0)(e.value0)(t.value3)):t instanceof Zk?new Zk(WD(t.value0)(e),WD(t.value1)(e)):AR("CP.Semantics.Subst.paraApp: impossible application "+QD(t)+" • "+MD(e))}},VD=function(t){return t instanceof Mk||(t instanceof Fk||(t instanceof $k||(t instanceof Bk||(t instanceof Uk||(t instanceof zk||(t instanceof Zk?VD(t.value0)&&VD(t.value1):t instanceof Kk||(t instanceof nT||(t instanceof iT?VD(t.value1):t instanceof lT))))))))},HD=function(t){return function(e){if(!VD(t))return AR("CP.Semantics.Subst.cast: "+QD(t)+" is not a value");var n=_T(e);if(n instanceof cg){var r=function(t){return t instanceof Ek&&t.value2?new cg(Uk.value):ug.value},i=HD(t)(n.value0.value1),s=HD(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return FD($D(BD(Zk.create)(s))(i))(FD(UD(l)(i))(FD(UD(o)(s))(UD(l)(o))))}return LT(e)?new cg(kL(e)):t instanceof Mk&&e instanceof yk?new cg(new Mk(t.value0)):t instanceof Fk&&e instanceof bk?new cg(new Fk(t.value0)):t instanceof $k&&e instanceof Ck?new cg(new $k(t.value0)):t instanceof Bk&&e instanceof kk?new cg(new Bk(t.value0)):t instanceof zk&&e instanceof Ak&&DT(t.value3)(e.value1)?new cg(new zk(t.value0,t.value1,t.value2,e.value1,!0)):t instanceof Zk?FD(HD(t.value0)(e))(HD(t.value1)(e)):t instanceof Kk&&e instanceof Ek&&t.value0===e.value0&&DT(t.value1)(e.value1)?new cg(new Kk(t.value0,e.value1,t.value2)):t instanceof nT&&e instanceof Lk&&DT(e.value1)(t.value1)&&DT(wT(t.value0)(new _k(e.value0))(t.value3))(e.value2)?new cg(new nT(e.value0,t.value1,kT(t.value0)(new _k(e.value0))(t.value2),e.value2,!0)):t instanceof iT&&e instanceof Dk&&DT(t.value0)(e)?new cg(new iT(e,t.value1)):t instanceof lT&&e instanceof Ik&&DT(t.value0)(e.value0)?new cg(new lT(e.value0,t.value1)):ug.value}},qD=function(t){if(t instanceof Vk)return VD(t.value1)?yL(t.value0)(t.value1):new Vk(t.value0,qD(t.value1));if(t instanceof Hk)return VD(t.value1)&&VD(t.value2)?TL(t.value0)(t.value1)(t.value2):VD(t.value1)?new Hk(t.value0,t.value1,qD(t.value2)):new Hk(t.value0,qD(t.value1),t.value2);if(t instanceof qk&&t.value0 instanceof Bk&&t.value0.value0)return t.value1;if(t instanceof qk&&t.value0 instanceof Bk&&!t.value0.value0)return t.value2;if(t instanceof qk)return new qk(qD(t.value0),t.value1,t.value2);if(t instanceof jk)return VD(t.value0)?WD(t.value0)((t.value2?RL.create:mL.create)(t.value1)):new jk(qD(t.value0),t.value1,t.value2);if(t instanceof Yk)return TT(t.value0)(t)(t.value1);if(t instanceof Gk&&t.value0 instanceof Gk)return new Gk(t.value0.value0,t.value1);if(t instanceof Gk)return VD(t.value0)?lk(HD(t.value0)(t.value1)):new Gk(qD(t.value0),t.value1);if(t instanceof Zk)return VD(t.value0)?new Zk(t.value0,qD(t.value1)):VD(t.value1)?new Zk(qD(t.value0),t.value1):new Zk(qD(t.value0),qD(t.value1));if(t instanceof Jk)return VD(t.value0)?CL(t.value0)(t.value1):new Jk(qD(t.value0),t.value1);if(t instanceof tT){if(VD(t.value0)){if((e=HD(t.value0)(new Ek(t.value1,t.value2,!1)))instanceof cg)return new Jk(e.value0,t.value1);if(e instanceof ug)return t.value3;throw new Error("Failed pattern match at Language.CP.Semantics.Subst (line 40, column 18 - line 41, column 65): "+[e.constructor.name])}return new tT(qD(t.value0),t.value1,t.value2,t.value3)}if(t instanceof eT)return VD(t.value0)?WD(t.value0)(new OL(t.value1)):new eT(qD(t.value0),t.value1);if(t instanceof rT)return TT(t.value0)(t.value1)(t.value2);if(t instanceof iT)return new iT(t.value0,qD(t.value1));if(t instanceof sT&&LT(t.value0))return Uk.value;var e=function(e){var n=function(e){return t instanceof sT?new sT(t.value0,qD(t.value1)):t instanceof oT?VD(t.value0)?bL(t.value0):new oT(qD(t.value0)):t instanceof aT?qD(t.value0):AR("CP.Semantics.Subst.step: well-typed programs don't get stuck, but got "+QD(t))};return t instanceof sT&&t.value1 instanceof Zk?new sT(t.value0,new Gk(t.value1,t.value0)):n()};return t instanceof sT&&t.value1 instanceof iT?new Gk(t.value1.value1,xT(t.value0)):e(!0)},XD=Ov(rL),jD=iv(eL),zD=yv(nL),YD=lg(pT),GD=lg(vT),ZD=pv(sL),KD=cv(eL),JD=Cv(nL),tI=iv(uv),eI=function(){var t=function(e){var n=e;if(e instanceof Mk)return XD(n);n=e;if(e instanceof Fk)return XD(n);n=e;if(e instanceof $k)return XD(n);n=e;if(e instanceof Bk)return XD(n);if(e instanceof Uk)return XD(Uk.value);if(e instanceof Vk)return jD(yL(e.value0))(t(e.value1));if(e instanceof Hk)return zD(t(e.value1))((function(n){return zD(t(e.value2))((function(r){var i=TL(e.value0)(n)(r);return e.value0 instanceof PO?t(i):XD(i)}))}));if(e instanceof qk)return zD(t(e.value0))((function(n){return n instanceof Bk&&n.value0?t(e.value1):n instanceof Bk&&!n.value0?t(e.value2):AR("CP.Semantics.NaturalSubst.eval: impossible if "+YD(n)+" ...")}));if(e instanceof jk)return zD(t(e.value0))((function(n){var r=e.value2?RL.create:mL.create;return t(WD(n)(r(new uT(iO(e.value1)))))}));n=e;if(e instanceof zk)return XD(n);if(e instanceof Yk){var r=iO(e);return zD(t(TT(e.value0)(new uT(r))(e.value1)))((function(t){return XD(lO(t)(r))}))}if(e instanceof Gk)return zD((i=function(e){var n,r=!1;function i(n){if(!(n instanceof Gk))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=HD(n)(e.value1);if(r instanceof cg)return t(r.value0);if(r instanceof ug)return AR("CP.Semantics.NaturalSubst.eval: impossible casting "+YD(n)+" : "+GD(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 50, column 7 - line 53, column 75): "+[r.constructor.name])}));if(e instanceof Zk)return ZD(jD(Zk.create)(t(e.value0)))(t(e.value1));if(e instanceof Kk)return XD(new Kk(e.value0,e.value1,new uT(iO(e.value2))));if(e instanceof Jk)return zD(KD(jD(CL)(t(e.value0)))(e.value1))(t);if(e instanceof tT)return zD(t(e.value0))((function(n){var r=HD(n)(new Ek(e.value1,e.value2,!1));if(r instanceof cg)return t(new Jk(r.value0,e.value1));if(r instanceof ug)return t(e.value3);throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 62, column 7 - line 64, column 25): "+[r.constructor.name])}));if(e instanceof eT)return zD(KD(jD(WD)(t(e.value0)))(new OL(e.value1)))(t);n=e;if(e instanceof nT)return XD(n);if(e instanceof rT)return t(TT(e.value0)(new uT(iO(e.value1)))(e.value2));if(e instanceof iT)return jD(iT.create(e.value0))(t(e.value1));if(e instanceof sT){var i=function(n){return n instanceof Zk?JD(i)(t)(new Gk(n,e.value0)):n instanceof iT?t(new Gk(n.value1,xT(e.value0))):AR("CP.Semantics.NaturalSubst.eval: impossible unfold "+YD(n))};return LT(e.value0)?XD(Uk.value):zD(t(e.value1))(i)}if(e instanceof oT)return jD(bL)(t(e.value0));if(e instanceof lT)return XD(new lT(e.value0,tI((function(t){return uT.create(iO(t))}))(e.value1)));if(e instanceof aT)return t(e.value0);if(e instanceof uT){n=oO(e.value0);return sO(e.value0)?XD(n):zD(t(n))((function(t){return XD(lO(t)(e.value0))}))}return AR("CP.Semantics.NaturalSubst.eval: well-typed programs don't get stuck, but got "+YD(e))};return function(e){return oL(t(e))}}(),nI=function(t){return function(e){return t(e)}},rI=function(t){var e=iv(t);return{map:function(t){return nI(e((function(e){return new tp(t(e.value0),e.value1)})))}}},iI=function(t){var e=dv(t);return function(t){var n=pv(t),r=t.Functor0(),i=iv(r),s=rI(r);return{apply:function(t){return function(r){return n(i((function(t){return function(n){return new tp(t.value0(n.value0),e(t.value1)(n.value1))}}))(t))(r)}},Functor0:function(){return s}}}},sI=function(t){var e=dv(t),n=iI(t);return function(t){var r=yv(t),i=t.Apply0(),s=iv(i.Functor0()),o=n(i);return{bind:function(t){return function(n){return r(t)((function(t){var r=n(t.value0);return s((function(n){return new tp(n.value0,e(t.value1)(n.value1))}))(r)}))}},Apply0:function(){return o}}}},oI=function(t){var e=_g(t),n=iI(t.Semigroup0());return function(t){var r=Ov(t),i=n(t.Apply0());return{pure:function(t){return r(new tp(t,e))},Apply0:function(){return i}}}},lI=function(t){var e=oI(t),n=sI(t.Semigroup0());return function(t){var r=e(t.Applicative0()),i=n(t.Bind1());return{Applicative0:function(){return r},Bind1:function(){return i}}}},aI=function(t){var e=t.Semigroup0(),n=lI(t);return function(t){var r,i,s=n(t);return{tell:(r=Ov(t.Applicative0()),i=tp.create(rv),function(t){return r(i(t))}),Semigroup0:function(){return e},Monad1:function(){return s}}}},uI=bp(),cI=function(t){return uI(t)},hI=ap(aI(bm(Jd))(Yg)),fI=rI(qg),dI=lv(fI),vI=ym(Gd),gI=iI(vI)(Xg),pI=pv(gI),mI=cv(fI),RI=lg(pT),OI=yv(sI(vI)(jg)),wI=mv(gI),xI=function(t){return function(e){return t+e}},yI=function(t){return hI(xI("→ Step-"+t+"\n"))},bI=function(t){return hI(xI("↓ Step-"+t+"\n"))},CI=function(t){if(t instanceof Vk)return VD(t.value1)?dI(bI("UnaryV"))(yL(t.value0)(t.value1)):pI(dI(yI("Unary"))(Vk.create(t.value0)))(CI(t.value1));if(t instanceof Hk)return VD(t.value1)&&VD(t.value2)?dI(bI("BinaryV"))(TL(t.value0)(t.value1)(t.value2)):VD(t.value1)?pI(dI(yI("BinaryR"))(Hk.create(t.value0)(t.value1)))(CI(t.value2)):mI(pI(dI(yI("BinaryL"))(Hk.create(t.value0)))(CI(t.value1)))(t.value2);if(t instanceof qk&&t.value0 instanceof Bk&&t.value0.value0)return dI(bI("IfTrue"))(t.value1);if(t instanceof qk&&t.value0 instanceof Bk&&!t.value0.value0)return dI(bI("IfFalse"))(t.value2);if(t instanceof qk)return mI(mI(pI(dI(yI("If"))(qk.create))(CI(t.value0)))(t.value1))(t.value2);if(t instanceof jk)return VD(t.value0)?dI(bI("PApp"))(WD(t.value0)((t.value2?RL.create:mL.create)(t.value1))):mI(mI(pI(dI(yI("AppL"))(jk.create))(CI(t.value0)))(t.value1))(t.value2);if(t instanceof Yk)return dI(bI("Fix"))(TT(t.value0)(t)(t.value1));if(t instanceof Gk&&t.value0 instanceof Gk)return dI(bI("AnnoAnno"))(new Gk(t.value0.value0,t.value1));if(t instanceof Gk)return VD(t.value0)?dI(bI("AnnoV"))(lk(HD(t.value0)(t.value1))):mI(pI(dI(yI("Anno"))(Gk.create))(CI(t.value0)))(t.value1);if(t instanceof Zk)return VD(t.value0)?pI(dI(yI("MergeR"))(Zk.create(t.value0)))(CI(t.value1)):VD(t.value1)?mI(pI(dI(yI("MergeL"))(Zk.create))(CI(t.value0)))(t.value1):pI(pI(dI(yI("Merge"))(Zk.create))(CI(t.value0)))(CI(t.value1));if(t instanceof Jk)return VD(t.value0)?dI(bI("PProj"))(CL(t.value0)(t.value1)):mI(pI(dI(yI("Proj"))(Jk.create))(CI(t.value0)))(t.value1);if(t instanceof tT){if(VD(t.value0)){if((e=HD(t.value0)(new Ek(t.value1,t.value2,!1)))instanceof cg)return dI(bI("OptProjL"))(new Jk(e.value0,t.value1));if(e instanceof ug)return dI(bI("OptProjR"))(t.value3);throw new Error("Failed pattern match at Language.CP.Semantics.StepTrace (line 65, column 18 - line 67, column 58): "+[e.constructor.name])}return mI(mI(mI(pI(dI(yI("OptProj"))(tT.create))(CI(t.value0)))(t.value1))(t.value2))(t.value3)}if(t instanceof eT)return VD(t.value0)?dI(bI("PTApp"))(WD(t.value0)(new OL(t.value1))):mI(pI(dI(yI("TApp"))(eT.create))(CI(t.value0)))(t.value1);if(t instanceof rT)return dI(bI("Def"))(TT(t.value0)(t.value1)(t.value2));if(t instanceof iT)return pI(dI(yI("Fold"))(iT.create(t.value0)))(CI(t.value1));if(t instanceof sT&&LT(t.value0))return dI(bI("UnfoldTop"))(Uk.value);var e=function(e){var n=function(e){return t instanceof sT?pI(dI(yI("Unfold"))(sT.create(t.value0)))(CI(t.value1)):t instanceof oT?VD(t.value0)?dI(bI("ToStringV"))(bL(t.value0)):pI(dI(yI("ToString"))(oT.create))(CI(t.value0)):t instanceof aT?CI(t.value0):AR("CP.Semantics.StepTrace.step: well-typed programs don't get stuck, but got "+RI(t))};return t instanceof sT&&t.value1 instanceof Zk?dI(bI("UnfoldMerge"))(new sT(t.value0,new Gk(t.value1,t.value0))):n()};return t instanceof sT&&t.value1 instanceof iT?mI(dI(bI("UnfoldFold"))(Gk.create(t.value1.value1)))(xT(t.value0)):e(!0)},kI=function(){var t=function(e){return VD(e)?dI(hI(xI(RI(e)+"\n")))(e):OI(wI(hI(xI(RI(e)+"\n")))(CI(e)))(t)},e=pm(mm)(bp());return function(n){return e(cI(t(n)))}}(),TI=Am(oR),SI=iv(sR),AI=fp(Yg),PI=yv(Up(AI)),EI=Ov(Vp(AI)),_I=lp(Hp(AI)),LI=lg(pT),DI=lg(VA),II=lg(MA),NI=lg(gP),QI=Ov(Ng),MI=function(t){return function(e){return TI(nv)(t)(SI((function(t){return np(np(t))}))(e))}},FI=function(t){var e=function(t){return new xA(NP($P)(t.value0),FP(t.value1))}(t);return PI(function(t){return PI(function(t){return g_(R_(__)(t.value0))((function(){return u_(h_(yP))((function(e){var n=mP(E_(t.value1))(e);if(n instanceof yg)return d_(n.value0);if(n instanceof bg)return O_(new tp(new aT(n.value0.value0),n.value0.value1));throw new Error("Failed pattern match at Language.CP.Typing (line 528, column 3 - line 530, column 47): "+[n.constructor.name])}))}))}(t))((function(t){return PI(_I((function(t){return t.tmBindings})))((function(e){return EI(MI(t.value0)(e))}))}))}(e))((function(n){return PI(_I((function(t){return t.mode})))((function(r){return EI(function(){if(r instanceof cP)return LI(function(t){var e,n=!1;function r(e){if(VD(e))return n=!0,e;t=qD(e)}for(;!n;)e=r(t);return e}(n));if(r instanceof hP){var i=kI(n);return DI(t)+"\n⇣ Desugar\n"+II(e.value1)+"\n↯ Elaborate\n"+i.value1("")}if(r instanceof fP)return LI(eI(n));if(r instanceof dP)return LI(HL(n));if(r instanceof vP)return LI(function(t){var e=function(t){var n=t;if(t instanceof Mk)return mD(n);if(n=t,t instanceof Fk)return mD(n);if(n=t,t instanceof $k)return mD(n);if(n=t,t instanceof Bk)return mD(n);if(t instanceof Uk)return mD(Uk.value);if(t instanceof Vk)return OD(uD(t.value0))(e(t.value1));if(t instanceof Hk)return xD(e(t.value1))((function(n){return xD(e(t.value2))((function(r){var i=pD(t.value0)(n)(r);return t.value0 instanceof PO?e(i):mD(i)}))}));if(t instanceof qk)return xD(e(t.value0))((function(n){return n instanceof Bk&&n.value0?e(t.value1):n instanceof Bk&&!n.value0?e(t.value2):AR("CP.Semantics.NaturalClosure.eval: impossible if "+yD(n)+" ...")}));if(t instanceof Xk)return xD(bD)((function(n){var r=CD(t.value0)(n);return r instanceof cg&&r.value0 instanceof Nk?e(r.value0.value0):AR("CP.Semantics.NaturalClosure.eval: variable "+kD(t.value0)+" is "+TD(r))}));if(t instanceof jk)return xD(e(t.value0))((function(n){return xD(SD(t.value1))((function(r){var i=t.value2?RL.create:mL.create;return e(hD(n)(i(new uT(iO(r)))))}))}));if(n=t,t instanceof zk)return SD(n);if(t instanceof Yk)return AD((function(e){return PD(t.value0)(new Nk(t.value1))(e)}))(e(t.value1));if(t instanceof Gk)return xD((r=function(t){var n,r=!1;function i(n){if(!(n instanceof Gk))return r=!0,e(n);t=n.value0}for(;!r;)n=i(t);return n})(t.value0))((function(n){return xD(ED(t.value1))((function(r){return xD(_D(n)(r))((function(r){if(r instanceof cg)return e(r.value0);if(r instanceof ug)return AR("CP.Semantics.NaturalClosure.eval: impossible casting "+yD(n)+" : "+LD(t.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 58, column 7 - line 61, column 75): "+[r.constructor.name])}))}))}));if(t instanceof Zk)return DD(OD(Zk.create)(e(t.value0)))(e(t.value1));if(n=t,t instanceof Kk)return SD(n);if(t instanceof Jk)return xD(ID(OD(cD)(e(t.value0)))(t.value1))(e);if(t instanceof tT)return xD(e(t.value0))((function(n){return xD(ED(t.value2))((function(r){return xD(_D(n)(new Ek(t.value1,r,!1)))((function(n){if(n instanceof cg)return e(new Jk(n.value0,t.value1));if(n instanceof ug)return e(t.value3);throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 72, column 7 - line 74, column 25): "+[n.constructor.name])}))}))}));if(t instanceof eT)return xD(e(t.value0))((function(n){return xD(ED(t.value1))((function(t){return e(hD(n)(new OL(t)))}))}));if(n=t,t instanceof nT)return SD(n);if(t instanceof rT)return xD(SD(t.value1))((function(n){return AD((function(e){return PD(t.value0)(new Nk(new uT(iO(n))))(e)}))(e(t.value2))}));if(t instanceof iT)return OD(iT.create(t.value0))(e(t.value1));if(t instanceof sT){var r=function(n){return n instanceof Zk?ND(r)(e)(new Gk(n,t.value0)):n instanceof iT?e(new Gk(n.value1,xT(t.value0))):AR("CP.Semantics.NaturalClosure.eval: impossible unfold "+yD(n))};return LT(t.value0)?mD(Uk.value):xD(e(t.value1))(r)}return t instanceof oT?OD(bL)(e(t.value0)):(n=t,t instanceof lT?SD(n):t instanceof aT?e(t.value0):t instanceof uT?(n=oO(t.value0),sO(t.value0)?mD(n):xD(e(n))((function(e){return mD(lO(e)(t.value0))}))):t instanceof cT&&t.value1 instanceof Kk||t instanceof cT&&t.value1 instanceof zk||t instanceof cT&&t.value1 instanceof nT||t instanceof cT&&t.value1 instanceof lT?mD(t):t instanceof cT?AD(ev(t.value0))(e(t.value1)):AR("CP.Semantics.NaturalClosure.eval: well-typed programs don't get stuck, but got "+yD(t)))};return oL(e(t)(nO))}(n));throw new Error("Failed pattern match at Language.CP (line 63, column 10 - line 69, column 37): "+[r.constructor.name])}())}))}))},$I=function(t){var e=function(t){return function(e){return ER(t(e))}}(FI(t))(xP);if(e instanceof yg)return $g(NI(e.value0));if(e instanceof bg)return QI(e.value0.value0);throw new Error("Failed pattern match at Language.CP (line 84, column 17 - line 86, column 37): "+[e.constructor.name])},BI={92:()=>{}},UI={};function WI(t){var e=UI[t];if(void 0!==e)return e.exports;var n=UI[t]={exports:{}};return BI[t](n,n.exports,WI),n.exports}WI.d=(t,e)=>{for(var n in e)WI.o(e,n)&&!WI.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},WI.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var VI={};(()=>{WI.d(VI,{dx:()=>j,q2:()=>Tt,FO:()=>xe,xf:()=>Ce,Gy:()=>Ae,s4:()=>_t,c7:()=>Le,_7:()=>oe,gp:()=>me,cK:()=>St,zs:()=>ge,AV:()=>Ce,Xp:()=>m,VS:()=>R,ul:()=>X,hW:()=>Qt,x1:()=>zt,z5:()=>Jt,oN:()=>ce,TB:()=>he,u1:()=>fe,_b:()=>Ie,$F:()=>ee,_T:()=>Me,db:()=>ne,Zx:()=>Kt,_x:()=>It,r8:()=>N,JI:()=>E,TP:()=>_,WU:()=>t,Nj:()=>a,ZP:()=>Ve});class t{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function e(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=-1,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1;const n=Math.round(Math.random()*Math.pow(2,32));function r(t){if(!t)return 0;const e=typeof t,r="string"===e?t:!("object"!==e||!t.toString)&&t.toString();if(!r)return 0;let i,s;const o=3&r.length,l=r.length-o;let a=n;const u=3432918353,c=461845907;let h=0;for(;h<l;)s=255&r.charCodeAt(h)|(255&r.charCodeAt(++h))<<8|(255&r.charCodeAt(++h))<<16|(255&r.charCodeAt(++h))<<24,++h,s=(65535&s)*u+(((s>>>16)*u&65535)<<16)&4294967295,s=s<<15|s>>>17,s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295,a^=s,a=a<<13|a>>>19,i=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=27492+(65535&i)+((58964+(i>>>16)&65535)<<16);switch(s=0,o){case 3:s^=(255&r.charCodeAt(h+2))<<16;case 2:s^=(255&r.charCodeAt(h+1))<<8;case 1:s^=255&r.charCodeAt(h),s=(65535&s)*u+(((s>>>16)*u&65535)<<16)&4294967295,s=s<<15|s>>>17,s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295,a^=s}return a^=r.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0}class i{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=r(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new i;return t.update.apply(t,arguments),t.finish()}}function s(t){return t?"string"==typeof t?r(t):t.hashCode():-1}function o(t,e){return t?t.equals(e):t===e}function l(t){return null===t?"null":t}function a(t){return Array.isArray(t)?"["+t.map(l).join(", ")+"]":"null"}const u="h-";class c{constructor(t,e){this.data={},this.hashFunction=t||s,this.equalsFunction=e||o}add(t){const e=u+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e];return n.push(t),t}return this.data[e]=[t],t}has(t){return null!=this.get(t)}get(t){const e=u+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e]}return null}values(){return Object.keys(this.data).filter((t=>t.startsWith(u))).flatMap((t=>this.data[t]),this)}toString(){return a(this.values())}get length(){return Object.keys(this.data).filter((t=>t.startsWith(u))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}class h{hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===h.NONE)return e;if(null===e||e===h.NONE)return t;const n=new f(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===h.NONE||e===h.NONE)return h.NONE;const n=new d(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class f extends h{constructor(t,e){super();const n=new c;t instanceof f?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof f?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=v(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof f&&e(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,null===o)return null;o!==h.NONE&&r.push(o)}if(!n)return this;if(0===r.length)return h.NONE;let i=null;return r.map((function(t){i=null===i?t:h.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class d extends h{constructor(t,e){super();const n=new c;t instanceof d?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof d?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=v(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof d&&e(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,o===h.NONE)return h.NONE;null!==o&&r.push(o)}return n?(0===r.length||r.map((function(t){return t})),null):this}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function v(t){const e=[];return t.values().map((function(t){t instanceof h.PrecedencePredicate&&e.push(t)})),e}function g(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class p{constructor(t,e){this.checkContext(t,e),t=g(t),e=g(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:h.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof p&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new i;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof p&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==h.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class m{constructor(t,e){this.start=t,this.stop=e}clone(){return new m(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}m.INVALID_INTERVAL=new m(-1,-2);class R{constructor(){this.intervals=null,this.readOnly=!1}first(e){return null===this.intervals||0===this.intervals.length?t.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new m(t,t+1))}addRange(t,e){this.addInterval(new m(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new m(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new m(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new m(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new R;return n.addInterval(new m(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new m(n.start,t.start);const r=new m(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new m(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new m(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new m(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new m(n.start,n.stop-1));if(t<n.stop-1){const r=new m(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const e=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===t.EOF?e.push("<EOF>"):e.push("'"+String.fromCharCode(r.start)+"'"):e.push("'"+String.fromCharCode(r.start)+"'..'"+String.fromCharCode(r.stop-1)+"'")}return e.length>1?"{"+e.join(", ")+"}":e[0]}toIndexString(){const e=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===t.EOF?e.push("<EOF>"):e.push(r.start.toString()):e.push(r.start.toString()+".."+(r.stop-1).toString())}return e.length>1?"{"+e.join(", ")+"}":e[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(e,n,r){return r===t.EOF?"<EOF>":r===t.EPSILON?"<EPSILON>":e[r]||n[r]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class O{constructor(){this.atn=null,this.stateNumber=O.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof O&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}O.INVALID_TYPE=0,O.BASIC=1,O.RULE_START=2,O.BLOCK_START=3,O.PLUS_BLOCK_START=4,O.STAR_BLOCK_START=5,O.TOKEN_START=6,O.RULE_STOP=7,O.BLOCK_END=8,O.STAR_LOOP_BACK=9,O.STAR_LOOP_ENTRY=10,O.PLUS_LOOP_BACK=11,O.LOOP_END=12,O.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],O.INVALID_STATE_NUMBER=-1;class w extends O{constructor(){return super(),this.stateType=O.RULE_STOP,this}}class x{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}x.EPSILON=1,x.RANGE=2,x.RULE=3,x.PREDICATE=4,x.ATOM=5,x.ACTION=6,x.SET=7,x.NOT_SET=8,x.WILDCARD=9,x.PRECEDENCE=10,x.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],x.serializationTypes={EpsilonTransition:x.EPSILON,RangeTransition:x.RANGE,RuleTransition:x.RULE,PredicateTransition:x.PREDICATE,AtomTransition:x.ATOM,ActionTransition:x.ACTION,SetTransition:x.SET,NotSetTransition:x.NOT_SET,WildcardTransition:x.WILDCARD,PrecedencePredicateTransition:x.PRECEDENCE};class y extends x{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=x.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class b extends x{constructor(e,n){super(e),this.serializationType=x.SET,null!=n?this.label=n:(this.label=new R,this.label.addOne(t.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class C extends b{constructor(t,e){super(t,e),this.serializationType=x.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class k extends x{constructor(t){super(t),this.serializationType=x.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class T extends x{constructor(t){super(t)}}class S{}class A extends S{}class P extends A{}class E extends P{get ruleContext(){throw new Error("missing interface implementation")}}class _ extends P{}class L extends _{}const D={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=D.getNodeText(t,e);r=function(t,e){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let s="("+r+" ";i>0&&(r=D.toStringTree(t.getChild(0),e),s=s.concat(r));for(let n=1;n<i;n++)r=D.toStringTree(t.getChild(n),e),s=s.concat(" "+r);return s=s.concat(")"),s},getNodeText:function(e,n,r){if(n=n||null,null!==(r=r||null)&&(n=r.ruleNames),null!==n){if(e instanceof E){const t=e.ruleContext.getAltNumber();return 0!=t?n[e.ruleIndex]+":"+t:n[e.ruleIndex]}if(e instanceof L)return e.toString();if(e instanceof _&&null!==e.symbol)return e.symbol.text}const i=e.getPayload();return i instanceof t?i.text:e.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return D.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return D.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return D._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof _?t.symbol.type===e&&r.push(t):!n&&t instanceof E&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)D._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(D.descendants(t.getChild(n)));return e}},I=D;class N extends E{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return m.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return I.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class Q{constructor(t){this.cachedHashCode=t}isEmpty(){return this===Q.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===Q.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}Q.EMPTY=null,Q.EMPTY_RETURN_STATE=2147483647,Q.globalNodeCount=1,Q.id=Q.globalNodeCount,Q.trace_atn_sim=!1;class M extends Q{constructor(t,e){const n=new i;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===Q.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof M&&this.hashCode()===t.hashCode()&&e(this.returnStates,t.returnStates)&&e(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==Q.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class F extends Q{constructor(t,e){let n=0;const r=new i;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof F&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===Q.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===Q.EMPTY_RETURN_STATE&&null===t?Q.EMPTY:new F(t,e)}}class $ extends F{constructor(){super(null,Q.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}Q.EMPTY=new $;const B="h-";class U{constructor(t,e){this.data={},this.hashFunction=t||s,this.equalsFunction=e||o}set(t,e){const n=B+this.hashFunction(t);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(t,i.key)){const t=i.value;return i.value=e,t}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}containsKey(t){const e=B+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return!0}}return!1}get(t){const e=B+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((t=>t.startsWith(B))).flatMap((t=>this.data[t]),this)}getKeys(){return this.entries().map((t=>t.key))}getValues(){return this.entries().map((t=>t.value))}toString(){return"["+this.entries().map((t=>"{"+t.key+":"+t.value+"}")).join(", ")+"]"}get length(){return Object.keys(this.data).filter((t=>t.startsWith(B))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}function W(t,e){if(null==e&&(e=N.EMPTY),null===e.parentCtx||e===N.EMPTY)return Q.EMPTY;const n=W(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return F.create(n,r.followState.stateNumber)}function V(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,s=[];for(let r=0;r<s.length;r++){const o=V(t.getParent(r),e,n);if(i||o!==t.getParent(r)){if(!i){s=[];for(let e=0;e<t.length;e++)s[e]=t.getParent(e);i=!0}s[r]=o}}if(!i)return e.add(t),n.set(t,t),t;let o=null;return o=0===s.length?Q.EMPTY:1===s.length?F.create(s[0],t.getReturnState(0)):new M(s,t.returnStates),e.add(o),n.set(o,o),n.set(t,o),o}function H(t,e,n,r){if(t===e)return t;if(t instanceof F&&e instanceof F)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===Q.EMPTY)return Q.EMPTY;if(e===Q.EMPTY)return Q.EMPTY}else{if(t===Q.EMPTY&&e===Q.EMPTY)return Q.EMPTY;if(t===Q.EMPTY){const t=[e.returnState,Q.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new M(n,t)}if(e===Q.EMPTY){const e=[t.returnState,Q.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new M(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=H(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const s=F.create(i,t.returnState);return null!==r&&r.set(t,e,s),s}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const s=new M([n,n],i);return null!==r&&r.set(t,e,s),s}const i=[t.returnState,e.returnState];let s=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,s=[e.parentCtx,t.parentCtx]);const o=new M(s,i);return null!==r&&r.set(t,e,o),o}}(t,e,n,r);if(n){if(t instanceof $)return t;if(e instanceof $)return e}return t instanceof F&&(t=new M([t.getParent()],[t.returnState])),e instanceof F&&(e=new M([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return Q.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n;if(n=r.get(e,t),null!==n)return Q.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n}let i=0,s=0,o=0,l=new Array(t.returnStates.length+e.returnStates.length).fill(0),a=new Array(t.returnStates.length+e.returnStates.length).fill(null);for(;i<t.returnStates.length&&s<e.returnStates.length;){const u=t.parents[i],c=e.parents[s];if(t.returnStates[i]===e.returnStates[s]){const e=t.returnStates[i];e===Q.EMPTY_RETURN_STATE&&null===u&&null===c||null!==u&&null!==c&&u===c?(a[o]=u,l[o]=e):(a[o]=H(u,c,n,r),l[o]=e),i+=1,s+=1}else t.returnStates[i]<e.returnStates[s]?(a[o]=u,l[o]=t.returnStates[i],i+=1):(a[o]=c,l[o]=e.returnStates[s],s+=1);o+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)a[o]=t.parents[e],l[o]=t.returnStates[e],o+=1;else for(let t=s;t<e.returnStates.length;t++)a[o]=e.parents[t],l[o]=e.returnStates[t],o+=1;if(o<a.length){if(1===o){const n=F.create(a[0],l[0]);return null!==r&&r.set(t,e,n),n}a=a.slice(0,o),l=l.slice(0,o)}const u=new M(a,l);return u.equals(t)?(null!==r&&r.set(t,e,t),Q.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):u.equals(e)?(null!==r&&r.set(t,e,e),Q.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){const e=new U;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(a),null!==r&&r.set(t,e,u),Q.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+u),u)}(t,e,n,r)}class q{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){Object.keys(t.data).map((t=>this.add(t)),this)}remove(t){delete this.data[t]}has(t){return!0===this.data[t]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return i.hashStuff(this.values())}equals(t){return t instanceof q&&e(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class X{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new R;const e=new c,i=!1;this._LOOK(t.transition(r).target,null,Q.EMPTY,n[r],e,new q,i,!1),(0===n[r].length||n[r].contains(X.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new R,i=null!==(n=n||null)?W(t.atn,n):null;return this._LOOK(t,e,i,r,new c,new q,!0,!0),r}_LOOK(e,n,r,i,s,o,l,a){const u=new p({state:e,alt:0,context:r},null);if(!s.has(u)){if(s.add(u),e===n){if(null===r)return void i.addOne(t.EPSILON);if(r.isEmpty()&&a)return void i.addOne(t.EOF)}if(e instanceof w){if(null===r)return void i.addOne(t.EPSILON);if(r.isEmpty()&&a)return void i.addOne(t.EOF);if(r!==Q.EMPTY){const t=o.has(e.ruleIndex);try{o.remove(e.ruleIndex);for(let t=0;t<r.length;t++){const e=this.atn.states[r.getReturnState(t)];this._LOOK(e,n,r.getParent(t),i,s,o,l,a)}}finally{t&&o.add(e.ruleIndex)}return}}for(let u=0;u<e.transitions.length;u++){const c=e.transitions[u];if(c.constructor===y){if(o.has(c.target.ruleIndex))continue;const t=F.create(r,c.followState.stateNumber);try{o.add(c.target.ruleIndex),this._LOOK(c.target,n,t,i,s,o,l,a)}finally{o.remove(c.target.ruleIndex)}}else if(c instanceof T)l?this._LOOK(c.target,n,r,i,s,o,l,a):i.addOne(X.HIT_PRED);else if(c.isEpsilon)this._LOOK(c.target,n,r,i,s,o,l,a);else if(c.constructor===k)i.addRange(t.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let e=c.label;null!==e&&(c instanceof C&&(e=e.complement(t.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(e))}}}}}X.HIT_PRED=t.INVALID_TYPE;class j{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new X(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(e,n){if(e<0||e>=this.states.length)throw"Invalid state number.";const r=this.states[e];let i=this.nextTokens(r);if(!i.contains(t.EPSILON))return i;const s=new R;for(s.addSet(i),s.removeOne(t.EPSILON);null!==n&&n.invokingState>=0&&i.contains(t.EPSILON);){const e=this.states[n.invokingState].transitions[0];i=this.nextTokens(e.followState),s.addSet(i),s.removeOne(t.EPSILON),n=n.parentCtx}return i.contains(t.EPSILON)&&s.addOne(t.EOF),s}}j.INVALID_ALT_NUMBER=0;class z extends O{constructor(){super(),this.stateType=O.BASIC}}class Y extends O{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class G extends Y{constructor(){return super(),this.endState=null,this}}class Z extends O{constructor(){return super(),this.stateType=O.BLOCK_END,this.startState=null,this}}class K extends O{constructor(){return super(),this.stateType=O.LOOP_END,this.loopBackState=null,this}}class J extends O{constructor(){return super(),this.stateType=O.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class tt extends Y{constructor(){return super(),this.stateType=O.TOKEN_START,this}}class et extends Y{constructor(){return super(),this.stateType=O.PLUS_LOOP_BACK,this}}class nt extends O{constructor(){return super(),this.stateType=O.STAR_LOOP_BACK,this}}class rt extends Y{constructor(){return super(),this.stateType=O.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class it extends G{constructor(){return super(),this.stateType=O.PLUS_BLOCK_START,this.loopBackState=null,this}}class st extends G{constructor(){return super(),this.stateType=O.STAR_BLOCK_START,this}}class ot extends G{constructor(){return super(),this.stateType=O.BLOCK_START,this}}class lt extends x{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=x.ATOM}makeLabel(){const t=new R;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class at extends x{constructor(t,e,n){super(t),this.serializationType=x.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new R;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class ut extends x{constructor(t,e,n,r){super(t),this.serializationType=x.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class ct extends x{constructor(t,e){super(t),this.serializationType=x.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class ht extends h{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof ht&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}h.NONE=new ht;class ft extends T{constructor(t,e,n,r){super(t),this.serializationType=x.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new ht(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class dt extends h{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?h.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof dt&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}h.PrecedencePredicate=dt;class vt extends T{constructor(t,e){super(t),this.serializationType=x.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new dt(this.precedence)}toString(){return this.precedence+" >= _p"}}class gt{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}gt.defaultOptions=new gt,gt.defaultOptions.readOnly=!0;class pt{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class mt extends pt{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}mt.INSTANCE=new mt;class Rt extends pt{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof Rt&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Ot extends pt{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Ot&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class wt extends pt{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}wt.INSTANCE=new wt;class xt extends pt{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof xt&&this.type===t.type}toString(){return"type("+this.type+")"}}class yt extends pt{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof yt&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class bt extends pt{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}bt.INSTANCE=new bt;class Ct extends pt{constructor(t){super(2),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Ct&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function kt(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class Tt{constructor(t){null==t&&(t=gt.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new j(t,e)}readStates(t,e){let n,r,i;const s=[],o=[],l=this.readInt();for(let n=0;n<l;n++){const n=this.readInt();if(n===O.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===O.LOOP_END){const t=this.readInt();s.push([i,t])}else if(i instanceof G){const t=this.readInt();o.push([i,t])}t.addState(i)}for(n=0;n<s.length;n++)r=s[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<o.length;n++)r=o[n],r[0].endState=t.states[r[1]];let a=this.readInt();for(n=0;n<a;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(e,n){let r;const i=this.readInt();for(0===e.grammarType&&(e.ruleToTokenType=kt(i,0)),e.ruleToStartState=kt(i,0),r=0;r<i;r++){const i=this.readInt();if(e.ruleToStartState[r]=e.states[i],0===e.grammarType){let i=this.readInt();n&&65535===i&&(i=t.EOF),e.ruleToTokenType[r]=i}}for(e.ruleToStopState=kt(i,0),r=0;r<e.states.length;r++){const t=e.states[r];t instanceof w&&(e.ruleToStopState[t.ruleIndex]=t,e.ruleToStartState[t.ruleIndex].stopState=t)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new R;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,s,o;const l=this.readInt();for(n=0;n<l;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),o=this.readInt(),l=this.readInt(),a=this.readInt();s=this.edgeFactory(t,i,n,r,o,l,a,e),t.states[n].addTransition(s)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof y))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),s=new ct(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(s)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof G){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof et)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof it&&(o.loopBackState=i);else if(i instanceof nt)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof rt&&(o.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=kt(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,s)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new ot;i.ruleIndex=e,t.addState(i);const s=new Z;s.ruleIndex=e,t.addState(s),i.endState=s,t.defineDecisionState(i),s.startState=i;let o=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){l=r,o=r.loopBackState.transitions[0];break}if(null===o)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==o&&e.target===l&&(e.target=s)}}const a=t.ruleToStartState[e],u=a.transitions.length;for(;u>0;)i.addTransition(a.transitions[u-1]),a.transitions=a.transitions.slice(-1);t.ruleToStartState[e].addTransition(new ct(i)),s.addTransition(new ct(l));const c=new z;t.addState(c),c.addTransition(new lt(s,t.ruleToTokenType[e])),i.addTransition(new ct(c))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof rt))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof K&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof w?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof rt&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof K&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof w&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof it)this.checkCondition(null!==n.loopBackState);else if(n instanceof rt)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof st)this.checkCondition(n.transitions[1].target instanceof K),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof K))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof st),this.checkCondition(n.nonGreedy)}else n instanceof nt?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof rt)):n instanceof K?this.checkCondition(null!==n.loopBackState):n instanceof J?this.checkCondition(null!==n.stopState):n instanceof G?this.checkCondition(null!==n.endState):n instanceof Z?this.checkCondition(null!==n.startState):n instanceof Y?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof w)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(e,n,r,i,s,o,l,a){const u=e.states[i];switch(n){case x.EPSILON:return new ct(u);case x.RANGE:return new at(u,0!==l?t.EOF:s,o);case x.RULE:return new y(e.states[s],o,l,u);case x.PREDICATE:return new ft(u,s,o,0!==l);case x.PRECEDENCE:return new vt(u,s);case x.ATOM:return new lt(u,0!==l?t.EOF:s);case x.ACTION:return new ut(u,s,o,0!==l);case x.SET:return new b(u,a[s]);case x.NOT_SET:return new C(u,a[s]);case x.WILDCARD:return new k(u);default:throw"The specified transition type: "+n+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[O.INVALID_TYPE]=null,t[O.BASIC]=()=>new z,t[O.RULE_START]=()=>new J,t[O.BLOCK_START]=()=>new ot,t[O.PLUS_BLOCK_START]=()=>new it,t[O.STAR_BLOCK_START]=()=>new st,t[O.TOKEN_START]=()=>new tt,t[O.RULE_STOP]=()=>new w,t[O.BLOCK_END]=()=>new Z,t[O.STAR_LOOP_BACK]=()=>new nt,t[O.STAR_LOOP_ENTRY]=()=>new rt,t[O.PLUS_LOOP_BACK]=()=>new et,t[O.LOOP_END]=()=>new K,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new Rt(t),t[1]=(t,e)=>new Ot(t,e),t[2]=(t,e)=>new Ct(t),t[3]=(t,e)=>wt.INSTANCE,t[4]=(t,e)=>bt.INSTANCE,t[5]=(t,e)=>new yt(t),t[6]=(t,e)=>mt.INSTANCE,t[7]=(t,e)=>new xt(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class St{syntaxError(t,e,n,r,i,s){}reportAmbiguity(t,e,n,r,i,s,o){}reportAttemptingFullContext(t,e,n,r,i,s){}reportContextSensitivity(t,e,n,r,i,s){}}class At extends St{constructor(){super()}syntaxError(t,e,n,r,i,s){console.error("line "+n+":"+r+" "+i)}}At.INSTANCE=new At;class Pt extends St{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,s){this.delegates.map((o=>o.syntaxError(t,e,n,r,i,s)))}reportAmbiguity(t,e,n,r,i,s,o){this.delegates.map((l=>l.reportAmbiguity(t,e,n,r,i,s,o)))}reportAttemptingFullContext(t,e,n,r,i,s){this.delegates.map((o=>o.reportAttemptingFullContext(t,e,n,r,i,s)))}reportContextSensitivity(t,e,n,r,i,s){this.delegates.map((o=>o.reportContextSensitivity(t,e,n,r,i,s)))}}class Et{constructor(){this._listeners=[At.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.1";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const e=this.getTokenNames();if(null===e)throw"The current recognizer does not provide a list of token names.";let n=this.tokenTypeMapCache[e];return void 0===n&&(n=e.reduce((function(t,e,n){t[e]=n})),n.EOF=t.EOF,this.tokenTypeMapCache[e]=n),n}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(e){const n=this.getTokenTypeMap()[e];return void 0!==n?n:t.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(e){if(null===e)return"<no token>";let n=e.text;return null===n&&(n=e.type===t.EOF?"<EOF>":"<"+e.type+">"),n=n.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+n+"'"}getErrorListenerDispatch(){return new Pt(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}Et.tokenTypeMapCache={},Et.ruleIndexMapCache={};class _t extends t{constructor(e,n,r,i,s){super(),this.source=void 0!==e?e:_t.EMPTY_SOURCE,this.type=void 0!==n?n:null,this.channel=void 0!==r?r:t.DEFAULT_CHANNEL,this.start=void 0!==i?i:-1,this.stop=void 0!==s?s:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=e[0].line,this.column=e[0].column):this.column=-1}clone(){const t=new _t(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(e){const n=new _t(this.source,e,this.channel,this.start,this.stop);return n.tokenIndex=this.tokenIndex,n.line=this.line,n.column=this.column,e===t.EOF&&(n.text=""),n}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}_t.EMPTY_SOURCE=[null,null];class Lt{}class Dt extends Lt{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,s,o,l){const a=new _t(t,e,r,i,s);return a.line=o,a.column=l,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(i,s)),a}createThin(t,e){const n=new _t(null,t);return n.text=e,n}}Dt.DEFAULT=new Dt;class It extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,It),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class Nt extends It{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new m(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class Qt extends Et{constructor(e){super(),this._input=e,this._factory=Dt.DEFAULT,this._tokenFactorySourcePair=[this,e],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=t.DEFAULT_CHANNEL,this._type=t.INVALID_TYPE,this._modeStack=[],this._mode=Qt.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=t.INVALID_TYPE,this._channel=t.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=Qt.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const e=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=t.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=t.INVALID_TYPE;let n=Qt.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof It))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===t.EOF&&(this._hitEOF=!0),this._type===t.INVALID_TYPE&&(this._type=n),this._type===Qt.SKIP){e=!0;break}if(this._type!==Qt.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(e)}}skip(){this._type=Qt.SKIP}more(){this._type=Qt.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const e=this.column,n=this.line,r=this._factory.create(this._tokenFactorySourcePair,t.EOF,null,t.DEFAULT_CHANNEL,this._input.index,this._input.index-1,n,e);return this.emitToken(r),r}getCharIndex(){return this._input.index}getAllTokens(){const e=[];let n=this.nextToken();for(;n.type!==t.EOF;)e.push(n),n=this.nextToken();return e}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(e){return e.charCodeAt(0)===t.EOF?"<EOF>":"\n"===e?"\\n":"\t"===e?"\\t":"\r"===e?"\\r":e}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(e){this._input.LA(1)!==t.EOF&&(e instanceof Nt?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function Mt(t){return t.hashCodeForConfigSet()}function Ft(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Qt.DEFAULT_MODE=0,Qt.MORE=-2,Qt.SKIP=-3,Qt.DEFAULT_TOKEN_CHANNEL=t.DEFAULT_CHANNEL,Qt.HIDDEN=t.HIDDEN_CHANNEL,Qt.MIN_CHAR_VALUE=0,Qt.MAX_CHAR_VALUE=1114111;class $t{constructor(t){this.configLookup=new c(Mt,Ft),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==h.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=H(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new c;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==h.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof $t&&e(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new i;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new c}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return a(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==j.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class Bt{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new $t),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new c;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof Bt&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new i;return t.update(this.configs),t.finish()}}class Ut{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new U;return V(t,this.sharedContextCache,e)}}Ut.ERROR=new Bt(2147483647,new $t);class Wt extends $t{constructor(){super(),this.configLookup=new c}}class Vt extends p{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=Vt.prototype.hashCode,this.equalsForConfigSet=Vt.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof Vt&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof Y&&e.nonGreedy}}class Ht extends pt{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof Ht&&this.offset===t.offset&&this.action===t.action}}class qt{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=i.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof Ht||(null===e&&(e=this.lexerActions.concat([])),e[n]=new Ht(t,this.lexerActions[n]));return null===e?this:new qt(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let s=0;s<this.lexerActions.length;s++){let o=this.lexerActions[s];if(o instanceof Ht){const t=o.offset;e.seek(n+t),o=o.action,r=n+t!==i}else o.isPositionDependent&&(e.seek(i),r=!1);o.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof qt){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new qt([e]);const n=t.lexerActions.concat([e]);return new qt(n)}}function Xt(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class jt{constructor(){Xt(this)}reset(){Xt(this)}}class zt extends Ut{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=Qt.DEFAULT_MODE,this.prevAccept=new jt}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const n=this.decisionToDFA[e];return null===n.s0?this.matchATN(t):this.execATN(t,n.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Qt.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];zt.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const s=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=s);const o=this.execATN(t,s);return zt.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),o}execATN(e,n){zt.debug&&console.log("start state closure="+n.configs),n.isAcceptState&&this.captureSimState(this.prevAccept,e,n);let r=e.LA(1),i=n;for(;;){zt.debug&&console.log("execATN loop starting closure: "+i.configs);let n=this.getExistingTargetState(i,r);if(null===n&&(n=this.computeTargetState(e,i,r)),n===Ut.ERROR)break;if(r!==t.EOF&&this.consume(e),n.isAcceptState&&(this.captureSimState(this.prevAccept,e,n),r===t.EOF))break;r=e.LA(1),i=n}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(t,e){if(null===t.edges||e<zt.MIN_DFA_EDGE||e>zt.MAX_DFA_EDGE)return null;let n=t.edges[e-zt.MIN_DFA_EDGE];return void 0===n&&(n=null),zt.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new Wt;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Ut.ERROR),Ut.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(e,n,r,i){if(null!==this.prevAccept.dfaState){const t=e.dfaState.lexerActionExecutor;return this.accept(n,t,this.startIndex,e.index,e.line,e.column),e.dfaState.prediction}if(i===t.EOF&&n.index===this.startIndex)return t.EOF;throw new Nt(this.recog,n,this.startIndex,r)}getReachableConfigSet(e,n,r,i){let s=j.INVALID_ALT_NUMBER;for(let o=0;o<n.items.length;o++){const l=n.items[o],a=l.alt===s;if(!a||!l.passedThroughNonGreedyDecision){zt.debug&&console.log("testing %s at %s\n",this.getTokenName(i),l.toString(this.recog,!0));for(let n=0;n<l.state.transitions.length;n++){const o=l.state.transitions[n],u=this.getReachableTarget(o,i);if(null!==u){let n=l.lexerActionExecutor;null!==n&&(n=n.fixOffsetBeforeMatch(e.index-this.startIndex));const o=i===t.EOF,c=new Vt({state:u,lexerActionExecutor:n},l);this.closure(e,c,r,a,!0,o)&&(s=l.alt)}}}}}accept(t,e,n,r,i,s){zt.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,Qt.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=Q.EMPTY,r=new Wt;for(let i=0;i<e.transitions.length;i++){const s=e.transitions[i].target,o=new Vt({state:s,alt:i+1,context:n},null);this.closure(t,o,r,!1,!1,!1)}return r}closure(t,e,n,r,i,s){let o=null;if(zt.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof w){if(zt.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new Vt({state:e.state,context:Q.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let l=0;l<e.context.length;l++)if(e.context.getReturnState(l)!==Q.EMPTY_RETURN_STATE){const a=e.context.getParent(l),u=this.atn.states[e.context.getReturnState(l)];o=new Vt({state:u,context:a},e),r=this.closure(t,o,n,r,i,s)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let l=0;l<e.state.transitions.length;l++){const a=e.state.transitions[l];o=this.getEpsilonTarget(t,e,a,n,i,s),null!==o&&(r=this.closure(t,o,n,r,i,s))}return r}getEpsilonTarget(e,n,r,i,s,o){let l=null;if(r.serializationType===x.RULE){const t=F.create(n.context,r.followState.stateNumber);l=new Vt({state:r.target,context:t},n)}else{if(r.serializationType===x.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(r.serializationType===x.PREDICATE)zt.debug&&console.log("EVAL rule "+r.ruleIndex+":"+r.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,r.ruleIndex,r.predIndex,s)&&(l=new Vt({state:r.target},n));else if(r.serializationType===x.ACTION)if(null===n.context||n.context.hasEmptyPath()){const t=qt.append(n.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);l=new Vt({state:r.target,lexerActionExecutor:t},n)}else l=new Vt({state:r.target},n);else r.serializationType===x.EPSILON?l=new Vt({state:r.target},n):r.serializationType!==x.ATOM&&r.serializationType!==x.RANGE&&r.serializationType!==x.SET||o&&r.matches(t.EOF,0,Qt.MAX_CHAR_VALUE)&&(l=new Vt({state:r.target},n))}return l}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,s=this.line,o=t.index,l=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=s,t.seek(o),t.release(l)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<zt.MIN_DFA_EDGE||e>zt.MAX_DFA_EDGE||(zt.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-zt.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new Bt(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof w){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const s=e;return s.stateNumber=r.states.length,t.setReadonly(!0),s.configs=t,r.states.add(s),s}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}zt.debug=!1,zt.dfa_debug=!1,zt.MIN_DFA_EDGE=0,zt.MAX_DFA_EDGE=127;class Yt{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class Gt{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const Zt={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Zt.allConfigsInRuleStopStates(e))return!0;if(t===Zt.SLL&&e.hasSemanticContext){const t=new $t;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new p({semanticContext:h.NONE},r),t.add(r)}e=t}const n=Zt.getConflictingAltSubsets(e);return Zt.hasConflictingAltSet(n)&&!Zt.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof w)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof w))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Zt.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Zt.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=Zt.getAlts(t);return 1===e.length?e.minValue():j.INVALID_ALT_NUMBER},getAlts:function(t){const e=new q;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new U;return e.hashFunction=function(t){i.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new q,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new Gt;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new q,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=Zt.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return j.INVALID_ALT_NUMBER}return e}},Kt=Zt;class Jt extends It{constructor(t,e,n,r,i,s){s=s||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:s}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class te{constructor(t){this.defaultMapCtor=t||U,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}class ee extends Ut{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=Kt.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),s=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=N.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let s=this.computeStartState(r.atnStartState,N.EMPTY,i);r.precedenceDfa?(r.s0.configs=s,s=this.applyPrecedenceFilter(s),e=this.addDFAState(r,new Bt(null,s)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new Bt(null,s)),r.s0=e)}const i=this.execATN(r,e,t,s,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),i}finally{this._dfa=null,this.mergeCache=null,t.seek(s),t.release(i)}}execATN(e,n,r,i,s){let o;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+e.decision+", DFA state "+n+", LA(1)=="+this.getLookaheadName(r)+" line "+r.LT(1).line+":"+r.LT(1).column);let l=n;this.debug&&console.log("s0 = "+n);let a=r.LA(1);for(;;){let n=this.getExistingTargetState(l,a);if(null===n&&(n=this.computeTargetState(e,l,a)),n===Ut.ERROR){const t=this.noViableAlt(r,s,l.configs,i);if(r.seek(i),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(l.configs,s),o!==j.INVALID_ALT_NUMBER)return o;throw t}if(n.requiresFullContext&&this.predictionMode!==Kt.SLL){let t=null;if(null!==n.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const e=r.index;if(e!==i&&r.seek(i),t=this.evalSemanticContext(n.predicates,s,!0),1===t.length)return this.debug&&console.log("Full LL avoided"),t.minValue();e!==i&&r.seek(e)}this.dfa_debug&&console.log("ctx sensitive state "+s+" in "+n);const l=!0,a=this.computeStartState(e.atnStartState,s,l);return this.reportAttemptingFullContext(e,t,n.configs,i,r.index),o=this.execATNWithFullContext(e,n,a,r,i,s),o}if(n.isAcceptState){if(null===n.predicates)return n.prediction;const t=r.index;r.seek(i);const o=this.evalSemanticContext(n.predicates,s,!0);if(0===o.length)throw this.noViableAlt(r,s,n.configs,i);return 1===o.length||this.reportAmbiguity(e,n,i,t,!1,o,n.configs),o.minValue()}l=n,a!==t.EOF&&(r.consume(),a=r.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Ut.ERROR),Ut.ERROR;let i=new Bt(null,r);const s=this.getUniqueAlt(r);if(this.debug){const t=Kt.getConflictingAltSubsets(r);console.log("SLL altSubSets="+a(t)+", configs="+r+", predict="+s+", allSubsetsConflict="+Kt.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return s!==j.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=s,i.prediction=s):Kt.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=j.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=j.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(e,n,r,i,s,o){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+r);let l,a=!1,u=r;i.seek(s);let c=i.LA(1),h=-1;for(;;){if(l=this.computeReachSet(u,c,!0),null===l){const t=this.noViableAlt(i,o,u,s);i.seek(s);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u,o);if(e!==j.INVALID_ALT_NUMBER)return e;throw t}const e=Kt.getConflictingAltSubsets(l);if(this.debug&&console.log("LL altSubSets="+e+", predict="+Kt.getUniqueAlt(e)+", resolvesToJustOneViableAlt="+Kt.resolvesToJustOneViableAlt(e)),l.uniqueAlt=this.getUniqueAlt(l),l.uniqueAlt!==j.INVALID_ALT_NUMBER){h=l.uniqueAlt;break}if(this.predictionMode!==Kt.LL_EXACT_AMBIG_DETECTION){if(h=Kt.resolvesToJustOneViableAlt(e),h!==j.INVALID_ALT_NUMBER)break}else if(Kt.allSubsetsConflict(e)&&Kt.allSubsetsEqual(e)){a=!0,h=Kt.getSingleViableAlt(e);break}u=l,c!==t.EOF&&(i.consume(),c=i.LA(1))}return l.uniqueAlt!==j.INVALID_ALT_NUMBER?(this.reportContextSensitivity(e,h,l,s,i.index),h):(this.reportAmbiguity(e,n,s,i.index,a,null,l),h)}computeReachSet(e,n,r){this.debug&&console.log("in computeReachSet, starting closure: "+e),null===this.mergeCache&&(this.mergeCache=new te);const i=new $t(r);let s=null;for(let o=0;o<e.items.length;o++){const l=e.items[o];if(this.debug&&console.log("testing "+this.getTokenName(n)+" at "+l),l.state instanceof w)(r||n===t.EOF)&&(null===s&&(s=[]),s.push(l),this.debug_add&&console.log("added "+l+" to skippedStopStates"));else for(let t=0;t<l.state.transitions.length;t++){const e=l.state.transitions[t],r=this.getReachableTarget(e,n);if(null!==r){const t=new p({state:r},l);i.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let o=null;if(null===s&&n!==t.EOF&&(1===i.items.length||this.getUniqueAlt(i)!==j.INVALID_ALT_NUMBER)&&(o=i),null===o){o=new $t(r);const e=new c,s=n===t.EOF;for(let t=0;t<i.items.length;t++)this.closure(i.items[t],o,e,!1,r,s)}if(n===t.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===i)),!(null===s||r&&Kt.hasConfigInRuleStopState(o)))for(let t=0;t<s.length;t++)o.add(s[t],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+e+" -> "+o),0===o.items.length?null:o}removeAllConfigsNotInRuleStopState(e,n){if(Kt.allConfigsInRuleStopStates(e))return e;const r=new $t(e.fullCtx);for(let i=0;i<e.items.length;i++){const s=e.items[i];if(s.state instanceof w)r.add(s,this.mergeCache);else if(n&&s.state.epsilonOnlyTransitions&&this.atn.nextTokens(s.state).contains(t.EPSILON)){const t=this.atn.ruleToStopState[s.state.ruleIndex];r.add(new p({state:t},s),this.mergeCache)}}return r}computeStartState(t,e,n){const r=W(this.atn,e),i=new $t(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(let e=0;e<t.transitions.length;e++){const s=t.transitions[e].target,o=new p({state:s,alt:e+1,context:r},null),l=new c;this.closure(o,i,l,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new $t(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const s=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==s&&(n[e.state.stateNumber]=e.context,s!==e.semanticContext?r.add(new p({semanticContext:s},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.has(i.alt)&&(r[i.alt]=h.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=h.NONE:e!==h.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+a(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const s=e[i];null!==t&&t.has(i)&&n.push(new Yt(s,i)),s!==h.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let s=this.getAltThatFinishedDecisionEntryRule(r);return s!==j.INVALID_ALT_NUMBER||i.items.length>0&&(s=this.getAltThatFinishedDecisionEntryRule(i),s!==j.INVALID_ALT_NUMBER)?s:j.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof w&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?j.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new $t(t.fullCtx),r=new $t(t.fullCtx);for(let i=0;i<t.items.length;i++){const s=t.items[i];s.semanticContext!==h.NONE?s.semanticContext.evaluate(this.parser,e)?n.add(s):r.add(s):n.add(s)}return[n,r]}evalSemanticContext(t,e,n){const r=new q;for(let i=0;i<t.length;i++){const s=t[i];if(s.pred===h.NONE){if(r.add(s.alt),!n)break;continue}const o=s.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+s.alt),r.add(s.alt),!n))break}return r}closure(t,e,n,r,i,s){this.closureCheckingStopState(t,e,n,r,i,0,s)}closureCheckingStopState(t,e,n,r,i,s,o){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof w){if(!t.context.isEmpty()){for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===Q.EMPTY_RETURN_STATE){if(i){e.add(new p({state:t.state,context:Q.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,s,o);continue}const a=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),c={state:a,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new p(c,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,s-1,o)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,s,o)}closure_(t,e,n,r,i,s,o){const l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let a=0;a<l.transitions.length;a++){if(0===a&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=l.transitions[a],c=r&&!(u instanceof ut),h=this.getEpsilonTarget(t,u,c,0===s,i,o);if(null!==h){let r=s;if(t.state instanceof w){if(null!==this._dfa&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.add(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.add(h)!==h)continue;u instanceof y&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,c,i,r,o)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==O.STAR_LOOP_ENTRY)return!1;if(e.stateType!==O.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),s=this.atn.states[n];if(1!==s.transitions.length||!s.transitions[0].isEpsilon)return!1;const o=s.transitions[0].target;if(!(s.stateType===O.BLOCK_END&&o===e||s===i||o===i||o.stateType===O.BLOCK_END&&1===o.transitions.length&&o.transitions[0].isEpsilon&&o.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(e,n,r,i,s,o){switch(n.serializationType){case x.RULE:return this.ruleTransition(e,n);case x.PRECEDENCE:return this.precedenceTransition(e,n,r,i,s);case x.PREDICATE:return this.predTransition(e,n,r,i,s);case x.ACTION:return this.actionTransition(e,n);case x.EPSILON:return new p({state:n.target},e);case x.ATOM:case x.RANGE:case x.SET:return o&&n.matches(t.EOF,0,1)?new p({state:n.target},e):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new p({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+a(this.parser.getRuleInvocationStack())));let s=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new p({state:e.target},t))}else{const n=h.andContext(t.semanticContext,e.getPredicate());s=new p({state:e.target,semanticContext:n},t)}else s=new p({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+a(this.parser.getRuleInvocationStack())));let s=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new p({state:e.target},t))}else{const n=h.andContext(t.semanticContext,e.getPredicate());s=new p({state:e.target,semanticContext:n},t)}else s=new p({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=F.create(t.context,n.stateNumber);return new p({state:e.target,context:r},t)}getConflictingAlts(t){const e=Kt.getConflictingAltSubsets(t);return Kt.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==j.INVALID_ALT_NUMBER?(e=new q,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(e){if(e===t.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(e>=this.parser.literalNames.length&&e>=this.parser.symbolicNames.length))return(this.parser.literalNames[e]||this.parser.symbolicNames[e])+"<"+e+">";console.log(e+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+e}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof lt?r="Atom "+this.getTokenName(t.label):t instanceof b&&(r=(t instanceof C?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new Jt(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=j.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===j.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return j.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===Ut.ERROR)return e;const n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new m(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new m(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,s,o){if(this.debug||this.retry_debug){const t=new m(n,r+1);console.log("reportAmbiguity "+s+":"+o+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,i,s,o)}}class ne{constructor(){this.cache=new U}add(t){if(t===Q.EMPTY)return Q.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const re={ATN:j,ATNDeserializer:Tt,LexerATNSimulator:zt,ParserATNSimulator:ee,PredictionMode:Kt,PredictionContextCache:ne};class ie{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+a(t.predicates):e+"=>"+t.prediction.toString():e}}class se extends ie{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class oe{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new c,this.s0=null,this.precedenceDfa=!1,t instanceof rt&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new Bt(null,new $t);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new c,t){const t=new Bt(null,new $t);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new ie(this,t,e).toString()}toLexerString(){return null===this.s0?"":new se(this).toString()}get states(){return this._states}}const le={DFA:oe,DFASerializer:ie,LexerDFASerializer:se,PredPrediction:Yt},ae={PredictionContext:Q},ue={Interval:m,IntervalSet:R};class ce{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class he{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class fe{walk(t,e){if(e instanceof L||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof _)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}fe.DEFAULT=new fe;const de={Trees:I,RuleNode:E,ErrorNode:L,TerminalNode:_,ParseTreeListener:ce,ParseTreeVisitor:he,ParseTreeWalker:fe};class ve extends It{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class ge extends It{constructor(t,e,n){super({message:pe(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof ft?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function pe(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class me extends St{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,s,o){if(this.exactOnly&&!i)return;const l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(s,o)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,n,r,i,s){const o="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(o)}reportContextSensitivity(t,e,n,r,i,s){const o="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(o)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const s=i[r]||null;return null===s||0===s.length?""+n:`${n} (${s})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new q;for(let t=0;t<e.items.length;t++)n.add(e.items[t].alt);return`{${n.values().join(", ")}}`}}class Re extends Error{constructor(){super(),Error.captureStackTrace(this,Re)}}class Oe{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class we extends Oe{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Jt?this.reportNoViableAlternative(t,e):e instanceof ve?this.reportInputMismatch(t,e):e instanceof ge?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(e){if(this.inErrorRecoveryMode(e))return;const n=e._interp.atn.states[e.state],r=e.getTokenStream().LA(1),i=e.atn.nextTokens(n);if(i.contains(r))return this.nextTokensContext=null,void(this.nextTokenState=O.INVALID_STATE_NUMBER);if(i.contains(t.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=e._ctx,this.nextTokensState=e._stateNumber);else switch(n.stateType){case O.BLOCK_START:case O.STAR_BLOCK_START:case O.PLUS_BLOCK_START:case O.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(e))return;throw new ve(e);case O.PLUS_LOOP_BACK:case O.STAR_LOOP_BACK:{this.reportUnwantedToken(e);const t=new R;t.addSet(e.getExpectedTokens());const n=t.addSet(this.getErrorRecoverySet(e));this.consumeUntil(e,n)}}}reportNoViableAlternative(e,n){const r=e.getTokenStream();let i;i=null!==r?n.startToken.type===t.EOF?"<EOF>":r.getText(new m(n.startToken.tokenIndex,n.offendingToken.tokenIndex)):"<unknown input>";const s="no viable alternative at input "+this.escapeWSAndQuote(i);e.notifyErrorListeners(s,n.offendingToken,n)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new ve(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(e){const n=e.getCurrentToken(),r=this.getExpectedTokens(e).first();let i;i=r===t.EOF?"<missing EOF>":"<missing "+e.literalNames[r]+">";let s=n;const o=e.getTokenStream().LT(-1);return s.type===t.EOF&&null!==o&&(s=o),e.getTokenFactory().create(s.source,r,i,t.DEFAULT_CHANNEL,-1,-1,s.line,s.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(e){if(null===e)return"<no token>";let n=e.text;return null===n&&(n=e.type===t.EOF?"<EOF>":"<"+e.type+">"),this.escapeWSAndQuote(n)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(e){const n=e._interp.atn;let r=e._ctx;const i=new R;for(;null!==r&&r.invokingState>=0;){const t=n.states[r.invokingState].transitions[0],e=n.nextTokens(t.followState);i.addSet(e),r=r.parentCtx}return i.removeOne(t.EPSILON),i}consumeUntil(e,n){let r=e.getTokenStream().LA(1);for(;r!==t.EOF&&!n.contains(r);)e.consume(),r=e.getTokenStream().LA(1)}}class xe extends we{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new Re(e)}recoverInline(t){this.recover(t,new ve(t))}sync(t){}}const ye={RecognitionException:It,NoViableAltException:Jt,LexerNoViableAltException:Nt,InputMismatchException:ve,FailedPredicateException:ge,DiagnosticErrorListener:me,BailErrorStrategy:xe,DefaultErrorStrategy:we,ErrorListener:St};class be{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++)this.data[t]=this.strdata.charCodeAt(t)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(e){if(0===e)return 0;e<0&&(e+=1);const n=this._index+e-1;return n<0||n>=this._size?t.EOF:this.data[n]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class Ce extends be{constructor(t,e){super(t,e)}}var ke=WI(92);const Te="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class Se extends Ce{static fromPath(t,e,n){if(!Te)throw new Error("FileStream is only available when running in Node!");ke.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new be(e,!0)),n(t,r)}))}constructor(t,e,n){if(!Te)throw new Error("FileStream is only available when running in Node!");super(ke.readFileSync(t,e||"utf-8"),n),this.fileName=t}}const Ae={fromString:function(t){return new be(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new be(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new be(t.toString(e),!0)},fromPath:function(t,e,n){Se.fromPath(t,e,n)},fromPathSync:function(t,e){return new Se(t,e)}},Pe={arrayToString:a,stringToCharArray:function(t){let e=new Uint16Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};class Ee{}class _e extends Ee{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let e=!1;if(e=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!e&&this.LA(1)===t.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(e){if(this.fetchedEOF)return 0;for(let n=0;n<e;n++){const e=this.tokenSource.nextToken();if(e.tokenIndex=this.tokens.length,this.tokens.push(e),e.type===t.EOF)return this.fetchedEOF=!0,n+1}return e}getTokens(e,n,r){if(void 0===r&&(r=null),e<0||n<0)return null;this.lazyInit();const i=[];n>=this.tokens.length&&(n=this.tokens.length-1);for(let s=e;s<n;s++){const e=this.tokens[s];if(e.type===t.EOF)break;(null===r||r.contains(e.type))&&i.push(e)}return i}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(e,n){if(this.sync(e),e>=this.tokens.length)return-1;let r=this.tokens[e];for(;r.channel!==this.channel;){if(r.type===t.EOF)return-1;e+=1,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,Qt.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,Qt.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==Qt.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(e){this.lazyInit(),this.fill(),e||(e=new m(0,this.tokens.length-1));let n=e.start;n instanceof t&&(n=n.tokenIndex);let r=e.stop;if(r instanceof t&&(r=r.tokenIndex),null===n||null===r||n<0||r<0)return"";r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let e=n;e<r+1;e++){const n=this.tokens[e];if(n.type===t.EOF)break;i+=n.text}return i}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(_e,"size",{get:function(){return this.tokens.length}});class Le extends _e{constructor(e,n){super(e),this.channel=void 0===n?t.DEFAULT_CHANNEL:n}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let n=0;n<this.tokens.length;n++){const r=this.tokens[n];if(r.channel===this.channel&&(e+=1),r.type===t.EOF)break}return e}}class De extends ce{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class Ie extends Et{constructor(t){super(),this._input=null,this._errHandler=new we,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new gt;n.generateRuleBypassTransitions=!0,e=new Tt(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,i,t,n)}consume(){const e=this.getCurrentToken();e.type!==t.EOF&&this.getInputStream().consume();const n=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||n){let t;t=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(e):this._ctx.addTokenNode(e),t.invokingState=this.state,n&&this._parseListeners.forEach((function(e){t instanceof L||void 0!==t.isErrorNode&&t.isErrorNode()?e.visitErrorNode(t):t instanceof _&&e.visitTerminal(t)}))}return e}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(e){const n=this._interp.atn;let r=this._ctx;const i=n.states[this.state];let s=n.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(t.EPSILON))return!1;for(;null!==r&&r.invokingState>=0&&s.contains(t.EPSILON);){const t=n.states[r.invokingState].transitions[0];if(s=n.nextTokens(t.followState),s.contains(e))return!0;r=r.parentCtx}return!(!s.contains(t.EPSILON)||e!==t.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.sourceName}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new De(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}Ie.bypassAltsAtnCache={};class Ne extends _{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return m.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new m(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===t.EOF?"<EOF>":this.symbol.text}}class Qe extends Ne{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class Me extends N{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof Qe&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new Ne(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new Qe(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof _&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof _&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?m.INVALID_INTERVAL:new m(this.start.tokenIndex,this.stop.tokenIndex)}}N.EMPTY=new Me;class Fe{static DEFAULT_PROGRAM_NAME="default";constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),s=new Ue(this.tokens,n,i.length,e);i.push(s)}insertBefore(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;const i=this.getProgram(r),s=new Be(this.tokens,n,i.length,e);i.push(s)}replaceSingle(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,n)}replace(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fe.DEFAULT_PROGRAM_NAME;if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(r),s=new We(this.tokens,t,e,i.length,n);i.push(s)}delete(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.DEFAULT_PROGRAM_NAME;void 0===e&&(e=t),this.replace(t,e,null,n)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(e){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.DEFAULT_PROGRAM_NAME;n=e instanceof m?e:new m(0,this.tokens.size-1),"string"==typeof e&&(r=e);const i=this.programs.get(r);let s=n.start,o=n.stop;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),null==i||0===i.length)return this.tokens.getText(new m(s,o));let l=[],a=this.reduceToSingleOperationPerIndex(i),u=s;for(;u<=o&&u<this.tokens.size;){let e=a.get(u);a.delete(u);let n=this.tokens.get(u);null==e?(n.type!==t.EOF&&l.push(String(n.text)),u++):u=e.execute(l)}if(o===this.tokens.size-1)for(const t of a.values())t.index>=this.tokens.size-1&&l.push(t.text.toString());return l.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof We))continue;let r=n,i=this.getKindOfOps(t,Be,e);for(let e of i)e.index===r.index?(t[e.instructionIndex]=void 0,r.text=e.text.toString()+(null!=r.text?r.text.toString():"")):e.index>r.index&&e.index<=r.lastIndex&&(t[e.instructionIndex]=void 0);let s=this.getKindOfOps(t,We,e);for(let e of s){if(e.index>=r.index&&e.lastIndex<=r.lastIndex){t[e.instructionIndex]=void 0;continue}let n=e.lastIndex<r.index||e.index>r.lastIndex;if(null!=e.text||null!=r.text||n){if(!n)throw new Error(`replace op boundaries of ${r} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,r.index=Math.min(e.index,r.index),r.lastIndex=Math.max(e.lastIndex,r.lastIndex)}}for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof Be))continue;let r=n,i=this.getKindOfOps(t,Be,e);for(let e of i)e.index===r.index&&(e instanceof Ue?(r.text=this.catOpText(e.text,r.text),t[e.instructionIndex]=void 0):e instanceof Be&&(r.text=this.catOpText(r.text,e.text),t[e.instructionIndex]=void 0));let s=this.getKindOfOps(t,We,e);for(let n of s)if(r.index!==n.index){if(r.index>=n.index&&r.index<=n.lastIndex)throw new Error(`insert op ${r} within boundaries of previous ${n}`)}else n.text=this.catOpText(r.text,n.text),t[e]=void 0}let e=new Map;for(let n of t)if(null!=n){if(null!=e.get(n.index))throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}getKindOfOps(t,e,n){return t.slice(0,n).filter((t=>t&&t instanceof e))}}class $e{constructor(t,e,n,r){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=void 0===r?"":r}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class Be extends $e{constructor(t,e,n,r){super(t,e,n,r)}execute(e){return this.text&&e.push(this.text.toString()),this.tokens.get(this.index).type!==t.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}}class Ue extends Be{constructor(t,e,n,r){super(t,e+1,n,r)}}class We extends $e{constructor(t,e,n,r,i){super(t,e,r,i),this.lastIndex=n}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const Ve={atn:re,dfa:le,context:ae,misc:ue,tree:de,error:ye,Token:t,CommonToken:_t,CharStreams:Ae,CharStream:Ce,InputStream:Ce,CommonTokenStream:Le,Lexer:Qt,Parser:Ie,ParserRuleContext:Me,Interval:m,IntervalSet:R,LL1Analyzer:X,Utils:Pe,TokenStreamRewriter:Fe}})();var HI=VI.ZP;const qI=(new HI.atn.ATNDeserializer).deserialize([4,0,101,706,6,-1,6,-1,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,2,99,7,99,2,100,7,100,2,101,7,101,1,0,4,0,209,8,0,11,0,12,0,210,1,0,1,0,1,1,1,1,1,1,1,1,4,1,219,8,1,11,1,12,1,220,1,1,1,1,1,2,1,2,1,2,1,2,5,2,229,8,2,10,2,12,2,232,9,2,1,2,1,2,1,2,1,2,1,2,1,3,4,3,240,8,3,11,3,12,3,241,1,3,1,3,4,3,246,8,3,11,3,12,3,247,3,3,250,8,3,1,3,1,3,3,3,254,8,3,1,3,4,3,257,8,3,11,3,12,3,258,3,3,261,8,3,1,3,1,3,1,3,1,3,3,3,267,8,3,1,3,4,3,270,8,3,11,3,12,3,271,1,3,1,3,1,3,1,3,3,3,278,8,3,1,3,4,3,281,8,3,11,3,12,3,282,3,3,285,8,3,1,4,1,4,1,4,1,4,5,4,291,8,4,10,4,12,4,294,9,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,24,1,25,1,25,1,25,1,25,1,26,1,26,1,26,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,29,1,29,1,29,1,29,1,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,35,1,35,1,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,37,1,37,1,37,3,37,493,8,37,1,38,1,38,1,39,1,39,5,39,499,8,39,10,39,12,39,502,9,39,1,40,1,40,5,40,506,8,40,10,40,12,40,509,9,40,1,41,1,41,1,41,1,42,1,42,1,43,1,43,1,43,1,44,1,44,1,44,1,45,1,45,1,45,1,46,1,46,1,46,1,47,1,47,1,47,1,48,1,48,1,48,1,49,1,49,1,50,1,50,1,51,1,51,1,52,1,52,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,1,57,1,57,1,57,1,58,1,58,1,58,1,59,1,59,1,60,1,60,1,61,1,61,1,61,1,62,1,62,1,62,1,63,1,63,1,63,1,64,1,64,1,64,1,65,1,65,1,66,1,66,1,66,1,67,1,67,1,67,1,68,1,68,1,69,1,69,1,70,1,70,1,70,3,70,587,8,70,1,71,1,71,1,71,1,72,1,72,1,72,1,73,1,73,1,74,1,74,1,75,1,75,1,76,1,76,1,77,1,77,1,77,1,78,1,78,1,79,1,79,1,80,1,80,1,81,1,81,1,82,1,82,1,82,1,82,1,83,1,83,1,83,1,83,1,84,1,84,1,84,1,84,1,85,1,85,1,85,1,85,1,86,1,86,1,86,1,86,1,87,1,87,1,87,3,87,637,8,87,1,87,1,87,1,88,1,88,1,88,1,88,1,88,1,89,1,89,1,89,1,90,4,90,650,8,90,11,90,12,90,651,1,91,1,91,1,91,1,91,1,92,1,92,1,92,1,92,1,93,1,93,1,93,1,93,1,94,1,94,1,94,1,94,1,95,1,95,1,95,1,95,1,96,1,96,1,96,3,96,677,8,96,1,97,1,97,1,97,1,97,1,97,1,97,1,98,1,98,1,98,1,98,1,98,1,99,4,99,691,8,99,11,99,12,99,692,1,99,1,99,1,100,1,100,1,100,1,100,1,100,1,101,1,101,1,101,1,101,1,101,1,230,0,102,3,1,5,2,7,3,9,4,11,5,13,6,15,7,17,8,19,9,21,10,23,11,25,12,27,13,29,14,31,15,33,16,35,17,37,18,39,19,41,20,43,21,45,22,47,23,49,24,51,25,53,26,55,27,57,28,59,29,61,30,63,31,65,32,67,33,69,34,71,35,73,36,75,37,77,0,79,38,81,39,83,40,85,41,87,42,89,43,91,44,93,45,95,46,97,47,99,48,101,49,103,50,105,51,107,52,109,53,111,54,113,55,115,56,117,57,119,58,121,59,123,60,125,61,127,62,129,63,131,64,133,65,135,66,137,67,139,68,141,69,143,70,145,71,147,72,149,73,151,74,153,75,155,76,157,77,159,78,161,79,163,80,165,81,167,82,169,83,171,84,173,85,175,86,177,87,179,88,181,89,183,90,185,91,187,92,189,93,191,94,193,95,195,96,197,97,199,98,201,99,203,100,205,101,3,0,1,2,13,3,0,9,10,13,13,32,32,1,0,10,10,1,0,48,57,2,0,69,69,101,101,2,0,43,43,45,45,3,0,48,57,65,70,97,102,1,0,48,55,4,0,10,10,13,13,34,34,92,92,3,0,48,57,65,90,97,122,1,0,97,122,1,0,65,90,2,0,92,93,96,96,4,0,40,40,91,93,96,96,123,123,728,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,79,1,0,0,0,0,81,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,0,101,1,0,0,0,0,103,1,0,0,0,0,105,1,0,0,0,0,107,1,0,0,0,0,109,1,0,0,0,0,111,1,0,0,0,0,113,1,0,0,0,0,115,1,0,0,0,0,117,1,0,0,0,0,119,1,0,0,0,0,121,1,0,0,0,0,123,1,0,0,0,0,125,1,0,0,0,0,127,1,0,0,0,0,129,1,0,0,0,0,131,1,0,0,0,0,133,1,0,0,0,0,135,1,0,0,0,0,137,1,0,0,0,0,139,1,0,0,0,0,141,1,0,0,0,0,143,1,0,0,0,0,145,1,0,0,0,0,147,1,0,0,0,0,149,1,0,0,0,0,151,1,0,0,0,0,153,1,0,0,0,0,155,1,0,0,0,0,157,1,0,0,0,0,159,1,0,0,0,0,161,1,0,0,0,0,163,1,0,0,0,0,165,1,0,0,0,0,167,1,0,0,0,0,169,1,0,0,0,0,171,1,0,0,0,0,173,1,0,0,0,0,175,1,0,0,0,1,177,1,0,0,0,1,179,1,0,0,0,1,181,1,0,0,0,1,183,1,0,0,0,1,185,1,0,0,0,1,187,1,0,0,0,2,189,1,0,0,0,2,191,1,0,0,0,2,193,1,0,0,0,2,195,1,0,0,0,2,197,1,0,0,0,2,199,1,0,0,0,2,201,1,0,0,0,2,203,1,0,0,0,2,205,1,0,0,0,3,208,1,0,0,0,5,214,1,0,0,0,7,224,1,0,0,0,9,284,1,0,0,0,11,286,1,0,0,0,13,297,1,0,0,0,15,302,1,0,0,0,17,312,1,0,0,0,19,320,1,0,0,0,21,327,1,0,0,0,23,330,1,0,0,0,25,334,1,0,0,0,27,341,1,0,0,0,29,346,1,0,0,0,31,353,1,0,0,0,33,357,1,0,0,0,35,361,1,0,0,0,37,367,1,0,0,0,39,373,1,0,0,0,41,384,1,0,0,0,43,393,1,0,0,0,45,397,1,0,0,0,47,401,1,0,0,0,49,404,1,0,0,0,51,409,1,0,0,0,53,414,1,0,0,0,55,418,1,0,0,0,57,425,1,0,0,0,59,430,1,0,0,0,61,433,1,0,0,0,63,438,1,0,0,0,65,447,1,0,0,0,67,452,1,0,0,0,69,459,1,0,0,0,71,468,1,0,0,0,73,473,1,0,0,0,75,479,1,0,0,0,77,492,1,0,0,0,79,494,1,0,0,0,81,496,1,0,0,0,83,503,1,0,0,0,85,510,1,0,0,0,87,513,1,0,0,0,89,515,1,0,0,0,91,518,1,0,0,0,93,521,1,0,0,0,95,524,1,0,0,0,97,527,1,0,0,0,99,530,1,0,0,0,101,533,1,0,0,0,103,535,1,0,0,0,105,537,1,0,0,0,107,539,1,0,0,0,109,541,1,0,0,0,111,543,1,0,0,0,113,545,1,0,0,0,115,547,1,0,0,0,117,549,1,0,0,0,119,552,1,0,0,0,121,555,1,0,0,0,123,557,1,0,0,0,125,559,1,0,0,0,127,562,1,0,0,0,129,565,1,0,0,0,131,568,1,0,0,0,133,571,1,0,0,0,135,573,1,0,0,0,137,576,1,0,0,0,139,579,1,0,0,0,141,581,1,0,0,0,143,586,1,0,0,0,145,588,1,0,0,0,147,591,1,0,0,0,149,594,1,0,0,0,151,596,1,0,0,0,153,598,1,0,0,0,155,600,1,0,0,0,157,602,1,0,0,0,159,605,1,0,0,0,161,607,1,0,0,0,163,609,1,0,0,0,165,611,1,0,0,0,167,613,1,0,0,0,169,617,1,0,0,0,171,621,1,0,0,0,173,625,1,0,0,0,175,629,1,0,0,0,177,633,1,0,0,0,179,640,1,0,0,0,181,645,1,0,0,0,183,649,1,0,0,0,185,653,1,0,0,0,187,657,1,0,0,0,189,661,1,0,0,0,191,665,1,0,0,0,193,669,1,0,0,0,195,673,1,0,0,0,197,678,1,0,0,0,199,684,1,0,0,0,201,690,1,0,0,0,203,696,1,0,0,0,205,701,1,0,0,0,207,209,7,0,0,0,208,207,1,0,0,0,209,210,1,0,0,0,210,208,1,0,0,0,210,211,1,0,0,0,211,212,1,0,0,0,212,213,6,0,0,0,213,4,1,0,0,0,214,215,5,45,0,0,215,216,5,45,0,0,216,218,1,0,0,0,217,219,8,1,0,0,218,217,1,0,0,0,219,220,1,0,0,0,220,218,1,0,0,0,220,221,1,0,0,0,221,222,1,0,0,0,222,223,6,1,0,0,223,6,1,0,0,0,224,225,5,123,0,0,225,226,5,45,0,0,226,230,1,0,0,0,227,229,9,0,0,0,228,227,1,0,0,0,229,232,1,0,0,0,230,231,1,0,0,0,230,228,1,0,0,0,231,233,1,0,0,0,232,230,1,0,0,0,233,234,5,45,0,0,234,235,5,125,0,0,235,236,1,0,0,0,236,237,6,2,0,0,237,8,1,0,0,0,238,240,7,2,0,0,239,238,1,0,0,0,240,241,1,0,0,0,241,239,1,0,0,0,241,242,1,0,0,0,242,249,1,0,0,0,243,245,5,46,0,0,244,246,7,2,0,0,245,244,1,0,0,0,246,247,1,0,0,0,247,245,1,0,0,0,247,248,1,0,0,0,248,250,1,0,0,0,249,243,1,0,0,0,249,250,1,0,0,0,250,260,1,0,0,0,251,253,7,3,0,0,252,254,7,4,0,0,253,252,1,0,0,0,253,254,1,0,0,0,254,256,1,0,0,0,255,257,7,2,0,0,256,255,1,0,0,0,257,258,1,0,0,0,258,256,1,0,0,0,258,259,1,0,0,0,259,261,1,0,0,0,260,251,1,0,0,0,260,261,1,0,0,0,261,285,1,0,0,0,262,263,5,48,0,0,263,267,5,120,0,0,264,265,5,48,0,0,265,267,5,88,0,0,266,262,1,0,0,0,266,264,1,0,0,0,267,269,1,0,0,0,268,270,7,5,0,0,269,268,1,0,0,0,270,271,1,0,0,0,271,269,1,0,0,0,271,272,1,0,0,0,272,285,1,0,0,0,273,274,5,48,0,0,274,278,5,111,0,0,275,276,5,48,0,0,276,278,5,79,0,0,277,273,1,0,0,0,277,275,1,0,0,0,278,280,1,0,0,0,279,281,7,6,0,0,280,279,1,0,0,0,281,282,1,0,0,0,282,280,1,0,0,0,282,283,1,0,0,0,283,285,1,0,0,0,284,239,1,0,0,0,284,266,1,0,0,0,284,277,1,0,0,0,285,10,1,0,0,0,286,292,5,34,0,0,287,291,8,7,0,0,288,289,5,92,0,0,289,291,9,0,0,0,290,287,1,0,0,0,290,288,1,0,0,0,291,294,1,0,0,0,292,290,1,0,0,0,292,293,1,0,0,0,293,295,1,0,0,0,294,292,1,0,0,0,295,296,5,34,0,0,296,12,1,0,0,0,297,298,5,116,0,0,298,299,5,121,0,0,299,300,5,112,0,0,300,301,5,101,0,0,301,14,1,0,0,0,302,303,5,105,0,0,303,304,5,110,0,0,304,305,5,116,0,0,305,306,5,101,0,0,306,307,5,114,0,0,307,308,5,102,0,0,308,309,5,97,0,0,309,310,5,99,0,0,310,311,5,101,0,0,311,16,1,0,0,0,312,313,5,101,0,0,313,314,5,120,0,0,314,315,5,116,0,0,315,316,5,101,0,0,316,317,5,110,0,0,317,318,5,100,0,0,318,319,5,115,0,0,319,18,1,0,0,0,320,321,5,102,0,0,321,322,5,111,0,0,322,323,5,114,0,0,323,324,5,97,0,0,324,325,5,108,0,0,325,326,5,108,0,0,326,20,1,0,0,0,327,328,5,109,0,0,328,329,5,117,0,0,329,22,1,0,0,0,330,331,5,73,0,0,331,332,5,110,0,0,332,333,5,116,0,0,333,24,1,0,0,0,334,335,5,68,0,0,335,336,5,111,0,0,336,337,5,117,0,0,337,338,5,98,0,0,338,339,5,108,0,0,339,340,5,101,0,0,340,26,1,0,0,0,341,342,5,66,0,0,342,343,5,111,0,0,343,344,5,111,0,0,344,345,5,108,0,0,345,28,1,0,0,0,346,347,5,83,0,0,347,348,5,116,0,0,348,349,5,114,0,0,349,350,5,105,0,0,350,351,5,110,0,0,351,352,5,103,0,0,352,30,1,0,0,0,353,354,5,84,0,0,354,355,5,111,0,0,355,356,5,112,0,0,356,32,1,0,0,0,357,358,5,66,0,0,358,359,5,111,0,0,359,360,5,116,0,0,360,34,1,0,0,0,361,362,5,84,0,0,362,363,5,114,0,0,363,364,5,97,0,0,364,365,5,105,0,0,365,366,5,116,0,0,366,36,1,0,0,0,367,368,5,116,0,0,368,369,5,114,0,0,369,370,5,97,0,0,370,371,5,105,0,0,371,372,5,116,0,0,372,38,1,0,0,0,373,374,5,105,0,0,374,375,5,109,0,0,375,376,5,112,0,0,376,377,5,108,0,0,377,378,5,101,0,0,378,379,5,109,0,0,379,380,5,101,0,0,380,381,5,110,0,0,381,382,5,116,0,0,382,383,5,115,0,0,383,40,1,0,0,0,384,385,5,105,0,0,385,386,5,110,0,0,386,387,5,104,0,0,387,388,5,101,0,0,388,389,5,114,0,0,389,390,5,105,0,0,390,391,5,116,0,0,391,392,5,115,0,0,392,42,1,0,0,0,393,394,5,110,0,0,394,395,5,101,0,0,395,396,5,119,0,0,396,44,1,0,0,0,397,398,5,102,0,0,398,399,5,105,0,0,399,400,5,120,0,0,400,46,1,0,0,0,401,402,5,105,0,0,402,403,5,102,0,0,403,48,1,0,0,0,404,405,5,116,0,0,405,406,5,104,0,0,406,407,5,101,0,0,407,408,5,110,0,0,408,50,1,0,0,0,409,410,5,101,0,0,410,411,5,108,0,0,411,412,5,115,0,0,412,413,5,101,0,0,413,52,1,0,0,0,414,415,5,108,0,0,415,416,5,101,0,0,416,417,5,116,0,0,417,54,1,0,0,0,418,419,5,108,0,0,419,420,5,101,0,0,420,421,5,116,0,0,421,422,5,114,0,0,422,423,5,101,0,0,423,424,5,99,0,0,424,56,1,0,0,0,425,426,5,111,0,0,426,427,5,112,0,0,427,428,5,101,0,0,428,429,5,110,0,0,429,58,1,0,0,0,430,431,5,105,0,0,431,432,5,110,0,0,432,60,1,0,0,0,433,434,5,119,0,0,434,435,5,105,0,0,435,436,5,116,0,0,436,437,5,104,0,0,437,62,1,0,0,0,438,439,5,116,0,0,439,440,5,111,0,0,440,441,5,83,0,0,441,442,5,116,0,0,442,443,5,114,0,0,443,444,5,105,0,0,444,445,5,110,0,0,445,446,5,103,0,0,446,64,1,0,0,0,447,448,5,102,0,0,448,449,5,111,0,0,449,450,5,108,0,0,450,451,5,100,0,0,451,66,1,0,0,0,452,453,5,117,0,0,453,454,5,110,0,0,454,455,5,102,0,0,455,456,5,111,0,0,456,457,5,108,0,0,457,458,5,100,0,0,458,68,1,0,0,0,459,460,5,111,0,0,460,461,5,118,0,0,461,462,5,101,0,0,462,463,5,114,0,0,463,464,5,114,0,0,464,465,5,105,0,0,465,466,5,100,0,0,466,467,5,101,0,0,467,70,1,0,0,0,468,469,5,116,0,0,469,470,5,114,0,0,470,471,5,117,0,0,471,472,5,101,0,0,472,72,1,0,0,0,473,474,5,102,0,0,474,475,5,97,0,0,475,476,5,108,0,0,476,477,5,115,0,0,477,478,5,101,0,0,478,74,1,0,0,0,479,480,5,117,0,0,480,481,5,110,0,0,481,482,5,100,0,0,482,483,5,101,0,0,483,484,5,102,0,0,484,485,5,105,0,0,485,486,5,110,0,0,486,487,5,101,0,0,487,488,5,100,0,0,488,76,1,0,0,0,489,493,7,8,0,0,490,493,3,79,38,0,491,493,5,39,0,0,492,489,1,0,0,0,492,490,1,0,0,0,492,491,1,0,0,0,493,78,1,0,0,0,494,495,5,95,0,0,495,80,1,0,0,0,496,500,7,9,0,0,497,499,3,77,37,0,498,497,1,0,0,0,499,502,1,0,0,0,500,498,1,0,0,0,500,501,1,0,0,0,501,82,1,0,0,0,502,500,1,0,0,0,503,507,7,10,0,0,504,506,3,77,37,0,505,504,1,0,0,0,506,509,1,0,0,0,507,505,1,0,0,0,507,508,1,0,0,0,508,84,1,0,0,0,509,507,1,0,0,0,510,511,5,40,0,0,511,512,5,41,0,0,512,86,1,0,0,0,513,514,5,92,0,0,514,88,1,0,0,0,515,516,5,47,0,0,516,517,5,92,0,0,517,90,1,0,0,0,518,519,5,92,0,0,519,520,5,45,0,0,520,92,1,0,0,0,521,522,5,92,0,0,522,523,5,92,0,0,523,94,1,0,0,0,524,525,5,45,0,0,525,526,5,62,0,0,526,96,1,0,0,0,527,528,5,61,0,0,528,529,5,62,0,0,529,98,1,0,0,0,530,531,5,60,0,0,531,532,5,45,0,0,532,100,1,0,0,0,533,534,5,38,0,0,534,102,1,0,0,0,535,536,5,43,0,0,536,104,1,0,0,0,537,538,5,45,0,0,538,106,1,0,0,0,539,540,5,42,0,0,540,108,1,0,0,0,541,542,5,47,0,0,542,110,1,0,0,0,543,544,5,37,0,0,544,112,1,0,0,0,545,546,5,8730,0,0,546,114,1,0,0,0,547,548,5,33,0,0,548,116,1,0,0,0,549,550,5,38,0,0,550,551,5,38,0,0,551,118,1,0,0,0,552,553,5,124,0,0,553,554,5,124,0,0,554,120,1,0,0,0,555,556,5,60,0,0,556,122,1,0,0,0,557,558,5,62,0,0,558,124,1,0,0,0,559,560,5,60,0,0,560,561,5,61,0,0,561,126,1,0,0,0,562,563,5,62,0,0,563,564,5,61,0,0,564,128,1,0,0,0,565,566,5,61,0,0,566,567,5,61,0,0,567,130,1,0,0,0,568,569,5,33,0,0,569,570,5,61,0,0,570,132,1,0,0,0,571,572,5,35,0,0,572,134,1,0,0,0,573,574,5,33,0,0,574,575,5,33,0,0,575,136,1,0,0,0,576,577,5,43,0,0,577,578,5,43,0,0,578,138,1,0,0,0,579,580,5,94,0,0,580,140,1,0,0,0,581,582,5,64,0,0,582,142,1,0,0,0,583,587,5,44,0,0,584,585,5,44,0,0,585,587,5,44,0,0,586,583,1,0,0,0,586,584,1,0,0,0,587,144,1,0,0,0,588,589,5,43,0,0,589,590,5,44,0,0,590,146,1,0,0,0,591,592,5,44,0,0,592,593,5,43,0,0,593,148,1,0,0,0,594,595,5,61,0,0,595,150,1,0,0,0,596,597,5,59,0,0,597,152,1,0,0,0,598,599,5,58,0,0,599,154,1,0,0,0,600,601,5,46,0,0,601,156,1,0,0,0,602,603,5,46,0,0,603,604,5,46,0,0,604,158,1,0,0,0,605,606,5,36,0,0,606,160,1,0,0,0,607,608,5,63,0,0,608,162,1,0,0,0,609,610,5,91,0,0,610,164,1,0,0,0,611,612,5,93,0,0,612,166,1,0,0,0,613,614,5,123,0,0,614,615,1,0,0,0,615,616,6,82,1,0,616,168,1,0,0,0,617,618,5,125,0,0,618,619,1,0,0,0,619,620,6,83,2,0,620,170,1,0,0,0,621,622,5,40,0,0,622,623,1,0,0,0,623,624,6,84,1,0,624,172,1,0,0,0,625,626,5,41,0,0,626,627,1,0,0,0,627,628,6,85,2,0,628,174,1,0,0,0,629,630,5,96,0,0,630,631,1,0,0,0,631,632,6,86,3,0,632,176,1,0,0,0,633,636,5,92,0,0,634,637,3,81,39,0,635,637,3,83,40,0,636,634,1,0,0,0,636,635,1,0,0,0,637,638,1,0,0,0,638,639,6,87,4,0,639,178,1,0,0,0,640,641,5,92,0,0,641,642,5,40,0,0,642,643,1,0,0,0,643,644,6,88,1,0,644,180,1,0,0,0,645,646,5,92,0,0,646,647,5,92,0,0,647,182,1,0,0,0,648,650,8,11,0,0,649,648,1,0,0,0,650,651,1,0,0,0,651,649,1,0,0,0,651,652,1,0,0,0,652,184,1,0,0,0,653,654,5,93,0,0,654,655,1,0,0,0,655,656,6,91,2,0,656,186,1,0,0,0,657,658,5,96,0,0,658,659,1,0,0,0,659,660,6,92,2,0,660,188,1,0,0,0,661,662,5,91,0,0,662,663,1,0,0,0,663,664,6,93,3,0,664,190,1,0,0,0,665,666,5,40,0,0,666,667,1,0,0,0,667,668,6,94,1,0,668,192,1,0,0,0,669,670,5,123,0,0,670,671,1,0,0,0,671,672,6,95,1,0,672,194,1,0,0,0,673,676,5,92,0,0,674,677,3,81,39,0,675,677,3,83,40,0,676,674,1,0,0,0,676,675,1,0,0,0,677,196,1,0,0,0,678,679,5,92,0,0,679,680,5,40,0,0,680,681,1,0,0,0,681,682,6,97,2,0,682,683,6,97,1,0,683,198,1,0,0,0,684,685,5,92,0,0,685,686,5,92,0,0,686,687,1,0,0,0,687,688,6,98,2,0,688,200,1,0,0,0,689,691,8,12,0,0,690,689,1,0,0,0,691,692,1,0,0,0,692,690,1,0,0,0,692,693,1,0,0,0,693,694,1,0,0,0,694,695,6,99,2,0,695,202,1,0,0,0,696,697,5,93,0,0,697,698,1,0,0,0,698,699,6,100,2,0,699,700,6,100,2,0,700,204,1,0,0,0,701,702,5,96,0,0,702,703,1,0,0,0,703,704,6,101,2,0,704,705,6,101,2,0,705,206,1,0,0,0,27,0,1,2,210,220,230,241,247,249,253,258,260,266,271,277,282,284,290,292,492,500,507,586,636,651,676,692,5,6,0,0,5,0,0,4,0,0,5,1,0,5,2,0]),XI=qI.decisionToState.map(((t,e)=>new HI.dfa.DFA(t,e)));class jI extends HI.Lexer{static grammarFileName="CPLexer.g4";static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static modeNames=["DEFAULT_MODE","DOC_MODE","CMD_MODE"];static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Not","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","IdChar","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Not","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];constructor(t){super(t),this._interp=new HI.atn.LexerATNSimulator(this,qI,XI,new HI.atn.PredictionContextCache)}}jI.EOF=HI.Token.EOF,jI.Whitespaces=1,jI.LineComment=2,jI.BlockComment=3,jI.IntLit=4,jI.StringLit=5,jI.Type=6,jI.Interface=7,jI.Extends=8,jI.ForAll=9,jI.Mu=10,jI.Int=11,jI.Double=12,jI.Bool=13,jI.String=14,jI.Top=15,jI.Bot=16,jI.TraitType=17,jI.Trait=18,jI.Implements=19,jI.Inherits=20,jI.New=21,jI.Fix=22,jI.If=23,jI.Then=24,jI.Else=25,jI.Let=26,jI.LetRec=27,jI.Open=28,jI.In=29,jI.With=30,jI.ToString=31,jI.Fold=32,jI.Unfold=33,jI.Override=34,jI.True_=35,jI.False_=36,jI.Undefined_=37,jI.Underscore=38,jI.LowerId=39,jI.UpperId=40,jI.Unit=41,jI.Backslash=42,jI.SlashBackslash=43,jI.BackslashMinus=44,jI.DoubleBackslashes=45,jI.Arrow=46,jI.FatArrow=47,jI.LeftArrow=48,jI.Intersect=49,jI.Plus=50,jI.Minus=51,jI.Asterisk=52,jI.Slash=53,jI.Modulo=54,jI.Sqrt=55,jI.Not=56,jI.And=57,jI.Or=58,jI.Less=59,jI.Greater=60,jI.LessEqual=61,jI.GreaterEqual=62,jI.Equal=63,jI.NotEqual=64,jI.Length=65,jI.Index=66,jI.Append=67,jI.Forward=68,jI.At=69,jI.Merge=70,jI.LeftistMerge=71,jI.RightistMerge=72,jI.Assign=73,jI.Semicolon=74,jI.Colon=75,jI.Dot=76,jI.DotDot=77,jI.Dollar=78,jI.Question=79,jI.BracketOpen=80,jI.BracketClose=81,jI.BraceOpen=82,jI.BraceClose=83,jI.ParenOpen=84,jI.ParenClose=85,jI.BacktickOpen=86,jI.Command=87,jI.Interpolation=88,jI.NewLine=89,jI.PlainText=90,jI.BracketCloseInDoc=91,jI.BacktickClose=92,jI.BracketOpenAsArg=93,jI.ParenOpenAsArg=94,jI.BraceOpenAsArg=95,jI.CommandAfterCmd=96,jI.InterpolationAfterCmd=97,jI.NewLineAfterCmd=98,jI.PlainTextAfterCmd=99,jI.BracketCloseAfterCmd=100,jI.BacktickCloseAfterCmd=101,jI.DOC_MODE=1,jI.CMD_MODE=2;class zI extends HI.tree.ParseTreeVisitor{visitProgram(t){return this.visitChildren(t)}visitDefinition(t){return this.visitChildren(t)}visitInterfaceDef(t){return this.visitChildren(t)}visitTypeDef(t){return this.visitChildren(t)}visitTermDef(t){return this.visitChildren(t)}visitType(t){return this.visitChildren(t)}visitBtype(t){return this.visitChildren(t)}visitAtype(t){return this.visitChildren(t)}visitRecordType(t){return this.visitChildren(t)}visitRecordTypeField(t){return this.visitChildren(t)}visitExpression(t){return this.visitChildren(t)}visitOpexpr(t){return this.visitChildren(t)}visitLexpr(t){return this.visitChildren(t)}visitLambda(t){return this.visitChildren(t)}visitBigLambda(t){return this.visitChildren(t)}visitLetIn(t){return this.visitChildren(t)}visitLetRec(t){return this.visitChildren(t)}visitOpenIn(t){return this.visitChildren(t)}visitIfElse(t){return this.visitChildren(t)}visitTrait(t){return this.visitChildren(t)}visitNewTrait(t){return this.visitChildren(t)}visitFixpoint(t){return this.visitChildren(t)}visitToStr(t){return this.visitChildren(t)}visitFold(t){return this.visitChildren(t)}visitUnfold(t){return this.visitChildren(t)}visitFexpr(t){return this.visitChildren(t)}visitExcludexpr(t){return this.visitChildren(t)}visitRenamexpr(t){return this.visitChildren(t)}visitDotexpr(t){return this.visitChildren(t)}visitAexpr(t){return this.visitChildren(t)}visitArray(t){return this.visitChildren(t)}visitRecord(t){return this.visitChildren(t)}visitRecordField(t){return this.visitChildren(t)}visitMethodPattern(t){return this.visitChildren(t)}visitDefaultPattern(t){return this.visitChildren(t)}visitRecordUpdate(t){return this.visitChildren(t)}visitTypeArg(t){return this.visitChildren(t)}visitTypeParam(t){return this.visitChildren(t)}visitTermParam(t){return this.visitChildren(t)}visitWildcard(t){return this.visitChildren(t)}visitSelfAnno(t){return this.visitChildren(t)}visitSort(t){return this.visitChildren(t)}visitTypeNameDecl(t){return this.visitChildren(t)}visitTypeName(t){return this.visitChildren(t)}visitTermNameDecl(t){return this.visitChildren(t)}visitCtorName(t){return this.visitChildren(t)}visitTermName(t){return this.visitChildren(t)}visitLabelDecl(t){return this.visitChildren(t)}visitLabel(t){return this.visitChildren(t)}visitDocument(t){return this.visitChildren(t)}visitDocElement(t){return this.visitChildren(t)}visitCommand(t){return this.visitChildren(t)}visitInterpolation(t){return this.visitChildren(t)}visitNewline(t){return this.visitChildren(t)}visitPlaintext(t){return this.visitChildren(t)}visitDocArg(t){return this.visitChildren(t)}visitRecordArgField(t){return this.visitChildren(t)}}const YI=(new HI.atn.ATNDeserializer).deserialize([4,1,101,782,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,1,0,5,0,116,8,0,10,0,12,0,119,9,0,1,0,1,0,1,0,1,1,1,1,1,1,3,1,127,8,1,1,2,1,2,1,2,1,2,1,2,1,2,5,2,135,8,2,10,2,12,2,138,9,2,1,2,5,2,141,8,2,10,2,12,2,144,9,2,1,2,1,2,3,2,148,8,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,5,3,159,8,3,10,3,12,3,162,9,3,1,3,5,3,165,8,3,10,3,12,3,168,9,3,1,3,1,3,1,3,1,3,1,4,1,4,5,4,176,8,4,10,4,12,4,179,9,4,1,4,5,4,182,8,4,10,4,12,4,185,9,4,1,4,1,4,3,4,189,8,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,4,5,198,8,5,11,5,12,5,199,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,3,5,215,8,5,1,5,1,5,1,5,1,5,5,5,221,8,5,10,5,12,5,224,9,5,3,5,226,8,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,237,8,5,10,5,12,5,240,9,5,1,6,1,6,1,6,1,6,1,6,5,6,247,8,6,10,6,12,6,250,9,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,3,7,268,8,7,1,8,1,8,1,8,1,8,5,8,274,8,8,10,8,12,8,277,9,8,1,8,3,8,280,8,8,1,8,1,8,1,9,1,9,3,9,286,8,9,1,9,1,9,1,9,1,10,1,10,1,10,3,10,294,8,10,1,11,1,11,1,11,1,11,3,11,300,8,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,5,11,329,8,11,10,11,12,11,332,9,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,3,12,347,8,12,1,13,1,13,4,13,351,8,13,11,13,12,13,352,1,13,1,13,1,13,1,14,1,14,4,14,360,8,14,11,14,12,14,361,1,14,1,14,1,14,1,15,1,15,1,15,5,15,370,8,15,10,15,12,15,373,9,15,1,15,5,15,376,8,15,10,15,12,15,379,9,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,5,16,389,8,16,10,16,12,16,392,9,16,1,16,5,16,395,8,16,10,16,12,16,398,9,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,3,19,421,8,19,1,19,1,19,3,19,425,8,19,1,19,1,19,3,19,429,8,19,1,19,1,19,1,19,1,19,3,19,435,8,19,1,19,1,19,3,19,439,8,19,1,19,1,19,3,19,443,8,19,1,19,1,19,3,19,447,8,19,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,25,1,25,3,25,472,8,25,1,25,1,25,5,25,476,8,25,10,25,12,25,479,9,25,1,26,1,26,1,26,1,26,1,26,3,26,486,8,26,1,27,1,27,1,27,1,27,1,27,1,27,1,27,3,27,495,8,27,1,28,1,28,1,28,5,28,500,8,28,10,28,12,28,503,9,28,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,1,29,3,29,522,8,29,1,30,1,30,1,30,1,30,5,30,528,8,30,10,30,12,30,531,9,30,1,30,3,30,534,8,30,1,30,1,30,1,31,1,31,1,31,1,31,3,31,542,8,31,1,31,1,31,5,31,546,8,31,10,31,12,31,549,9,31,1,31,1,31,1,31,3,31,554,8,31,3,31,556,8,31,1,31,1,31,1,32,3,32,561,8,32,1,32,3,32,564,8,32,1,32,1,32,5,32,568,8,32,10,32,12,32,571,9,32,1,32,1,32,1,32,1,33,3,33,577,8,33,1,33,1,33,1,33,3,33,582,8,33,1,33,1,33,1,33,5,33,587,8,33,10,33,12,33,590,9,33,1,33,1,33,1,33,1,33,5,33,596,8,33,10,33,12,33,599,9,33,1,33,1,33,1,33,1,34,1,34,3,34,606,8,34,1,34,1,34,1,34,5,34,611,8,34,10,34,12,34,614,9,34,1,34,1,34,1,34,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,5,35,628,8,35,10,35,12,35,631,9,35,1,35,1,35,1,35,1,35,3,35,637,8,35,1,35,1,35,1,36,1,36,1,36,1,37,1,37,1,37,1,37,1,37,1,37,1,37,3,37,651,8,37,1,38,1,38,1,38,1,38,1,38,3,38,658,8,38,1,38,1,38,1,38,1,38,1,38,3,38,665,8,38,1,39,1,39,1,39,1,39,1,39,1,39,1,39,5,39,674,8,39,10,39,12,39,677,9,39,1,39,1,39,1,39,1,40,1,40,1,40,1,40,3,40,686,8,40,1,40,1,40,1,41,1,41,1,41,3,41,693,8,41,1,42,1,42,1,43,1,43,1,44,1,44,1,45,1,45,1,46,1,46,1,47,1,47,1,48,1,48,1,49,1,49,5,49,711,8,49,10,49,12,49,714,9,49,1,49,1,49,1,50,1,50,1,50,1,50,3,50,722,8,50,1,51,1,51,5,51,726,8,51,10,51,12,51,729,9,51,1,51,5,51,732,8,51,10,51,12,51,735,9,51,1,52,1,52,1,52,1,52,1,53,1,53,1,54,1,54,1,55,1,55,5,55,747,8,55,10,55,12,55,750,9,55,1,55,1,55,1,55,1,55,1,55,1,55,1,55,1,55,1,55,5,55,761,8,55,10,55,12,55,764,9,55,1,55,3,55,767,8,55,1,55,3,55,770,8,55,1,56,1,56,5,56,774,8,56,10,56,12,56,777,9,56,1,56,1,56,1,56,1,56,0,2,10,22,57,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,0,12,3,0,51,51,55,56,65,65,1,0,52,54,1,0,50,51,1,0,59,64,2,0,44,44,70,72,1,0,39,40,2,0,92,92,101,101,2,0,87,87,96,96,2,0,88,88,97,97,2,0,89,89,98,98,2,0,90,90,99,99,2,0,91,91,100,100,851,0,117,1,0,0,0,2,126,1,0,0,0,4,128,1,0,0,0,6,152,1,0,0,0,8,173,1,0,0,0,10,225,1,0,0,0,12,241,1,0,0,0,14,267,1,0,0,0,16,269,1,0,0,0,18,283,1,0,0,0,20,290,1,0,0,0,22,299,1,0,0,0,24,346,1,0,0,0,26,348,1,0,0,0,28,357,1,0,0,0,30,366,1,0,0,0,32,385,1,0,0,0,34,406,1,0,0,0,36,411,1,0,0,0,38,446,1,0,0,0,40,448,1,0,0,0,42,451,1,0,0,0,44,458,1,0,0,0,46,461,1,0,0,0,48,465,1,0,0,0,50,471,1,0,0,0,52,480,1,0,0,0,54,487,1,0,0,0,56,496,1,0,0,0,58,521,1,0,0,0,60,523,1,0,0,0,62,537,1,0,0,0,64,560,1,0,0,0,66,576,1,0,0,0,68,605,1,0,0,0,70,618,1,0,0,0,72,640,1,0,0,0,74,650,1,0,0,0,76,664,1,0,0,0,78,666,1,0,0,0,80,681,1,0,0,0,82,689,1,0,0,0,84,694,1,0,0,0,86,696,1,0,0,0,88,698,1,0,0,0,90,700,1,0,0,0,92,702,1,0,0,0,94,704,1,0,0,0,96,706,1,0,0,0,98,708,1,0,0,0,100,721,1,0,0,0,102,723,1,0,0,0,104,736,1,0,0,0,106,740,1,0,0,0,108,742,1,0,0,0,110,769,1,0,0,0,112,771,1,0,0,0,114,116,3,2,1,0,115,114,1,0,0,0,116,119,1,0,0,0,117,115,1,0,0,0,117,118,1,0,0,0,118,120,1,0,0,0,119,117,1,0,0,0,120,121,3,20,10,0,121,122,5,0,0,1,122,1,1,0,0,0,123,127,3,4,2,0,124,127,3,6,3,0,125,127,3,8,4,0,126,123,1,0,0,0,126,124,1,0,0,0,126,125,1,0,0,0,127,3,1,0,0,0,128,129,5,7,0,0,129,136,3,84,42,0,130,131,5,59,0,0,131,132,3,84,42,0,132,133,5,60,0,0,133,135,1,0,0,0,134,130,1,0,0,0,135,138,1,0,0,0,136,134,1,0,0,0,136,137,1,0,0,0,137,142,1,0,0,0,138,136,1,0,0,0,139,141,3,84,42,0,140,139,1,0,0,0,141,144,1,0,0,0,142,140,1,0,0,0,142,143,1,0,0,0,143,147,1,0,0,0,144,142,1,0,0,0,145,146,5,8,0,0,146,148,3,12,6,0,147,145,1,0,0,0,147,148,1,0,0,0,148,149,1,0,0,0,149,150,3,16,8,0,150,151,5,74,0,0,151,5,1,0,0,0,152,153,5,6,0,0,153,160,3,84,42,0,154,155,5,59,0,0,155,156,3,84,42,0,156,157,5,60,0,0,157,159,1,0,0,0,158,154,1,0,0,0,159,162,1,0,0,0,160,158,1,0,0,0,160,161,1,0,0,0,161,166,1,0,0,0,162,160,1,0,0,0,163,165,3,84,42,0,164,163,1,0,0,0,165,168,1,0,0,0,166,164,1,0,0,0,166,167,1,0,0,0,167,169,1,0,0,0,168,166,1,0,0,0,169,170,5,73,0,0,170,171,3,10,5,0,171,172,5,74,0,0,172,7,1,0,0,0,173,177,3,88,44,0,174,176,3,74,37,0,175,174,1,0,0,0,176,179,1,0,0,0,177,175,1,0,0,0,177,178,1,0,0,0,178,183,1,0,0,0,179,177,1,0,0,0,180,182,3,76,38,0,181,180,1,0,0,0,182,185,1,0,0,0,183,181,1,0,0,0,183,184,1,0,0,0,184,188,1,0,0,0,185,183,1,0,0,0,186,187,5,75,0,0,187,189,3,10,5,0,188,186,1,0,0,0,188,189,1,0,0,0,189,190,1,0,0,0,190,191,5,73,0,0,191,192,3,20,10,0,192,193,5,74,0,0,193,9,1,0,0,0,194,195,6,5,-1,0,195,197,5,9,0,0,196,198,3,74,37,0,197,196,1,0,0,0,198,199,1,0,0,0,199,197,1,0,0,0,199,200,1,0,0,0,200,201,1,0,0,0,201,202,5,76,0,0,202,203,3,10,5,4,203,226,1,0,0,0,204,205,5,10,0,0,205,206,3,84,42,0,206,207,5,76,0,0,207,208,3,10,5,3,208,226,1,0,0,0,209,210,5,17,0,0,210,211,5,59,0,0,211,214,3,10,5,0,212,213,5,47,0,0,213,215,3,10,5,0,214,212,1,0,0,0,214,215,1,0,0,0,215,216,1,0,0,0,216,217,5,60,0,0,217,226,1,0,0,0,218,222,3,12,6,0,219,221,3,12,6,0,220,219,1,0,0,0,221,224,1,0,0,0,222,220,1,0,0,0,222,223,1,0,0,0,223,226,1,0,0,0,224,222,1,0,0,0,225,194,1,0,0,0,225,204,1,0,0,0,225,209,1,0,0,0,225,218,1,0,0,0,226,238,1,0,0,0,227,228,10,7,0,0,228,229,5,49,0,0,229,237,3,10,5,8,230,231,10,6,0,0,231,232,5,42,0,0,232,237,3,10,5,7,233,234,10,5,0,0,234,235,5,46,0,0,235,237,3,10,5,5,236,227,1,0,0,0,236,230,1,0,0,0,236,233,1,0,0,0,237,240,1,0,0,0,238,236,1,0,0,0,238,239,1,0,0,0,239,11,1,0,0,0,240,238,1,0,0,0,241,248,3,14,7,0,242,243,5,59,0,0,243,244,3,82,41,0,244,245,5,60,0,0,245,247,1,0,0,0,246,242,1,0,0,0,247,250,1,0,0,0,248,246,1,0,0,0,248,249,1,0,0,0,249,13,1,0,0,0,250,248,1,0,0,0,251,268,5,11,0,0,252,268,5,12,0,0,253,268,5,13,0,0,254,268,5,14,0,0,255,268,5,15,0,0,256,268,5,16,0,0,257,268,3,86,43,0,258,268,3,16,8,0,259,260,5,80,0,0,260,261,3,10,5,0,261,262,5,81,0,0,262,268,1,0,0,0,263,264,5,84,0,0,264,265,3,10,5,0,265,266,5,85,0,0,266,268,1,0,0,0,267,251,1,0,0,0,267,252,1,0,0,0,267,253,1,0,0,0,267,254,1,0,0,0,267,255,1,0,0,0,267,256,1,0,0,0,267,257,1,0,0,0,267,258,1,0,0,0,267,259,1,0,0,0,267,263,1,0,0,0,268,15,1,0,0,0,269,275,5,82,0,0,270,271,3,18,9,0,271,272,5,74,0,0,272,274,1,0,0,0,273,270,1,0,0,0,274,277,1,0,0,0,275,273,1,0,0,0,275,276,1,0,0,0,276,279,1,0,0,0,277,275,1,0,0,0,278,280,3,18,9,0,279,278,1,0,0,0,279,280,1,0,0,0,280,281,1,0,0,0,281,282,5,83,0,0,282,17,1,0,0,0,283,285,3,94,47,0,284,286,5,79,0,0,285,284,1,0,0,0,285,286,1,0,0,0,286,287,1,0,0,0,287,288,5,75,0,0,288,289,3,10,5,0,289,19,1,0,0,0,290,293,3,22,11,0,291,292,5,75,0,0,292,294,3,10,5,0,293,291,1,0,0,0,293,294,1,0,0,0,294,21,1,0,0,0,295,296,6,11,-1,0,296,300,3,24,12,0,297,298,7,0,0,0,298,300,3,22,11,10,299,295,1,0,0,0,299,297,1,0,0,0,300,330,1,0,0,0,301,302,10,9,0,0,302,303,5,66,0,0,303,329,3,22,11,10,304,305,10,8,0,0,305,306,7,1,0,0,306,329,3,22,11,9,307,308,10,7,0,0,308,309,7,2,0,0,309,329,3,22,11,8,310,311,10,6,0,0,311,312,5,67,0,0,312,329,3,22,11,7,313,314,10,5,0,0,314,315,7,3,0,0,315,329,3,22,11,6,316,317,10,4,0,0,317,318,5,57,0,0,318,329,3,22,11,4,319,320,10,3,0,0,320,321,5,58,0,0,321,329,3,22,11,3,322,323,10,2,0,0,323,324,5,68,0,0,324,329,3,22,11,3,325,326,10,1,0,0,326,327,7,4,0,0,327,329,3,22,11,2,328,301,1,0,0,0,328,304,1,0,0,0,328,307,1,0,0,0,328,310,1,0,0,0,328,313,1,0,0,0,328,316,1,0,0,0,328,319,1,0,0,0,328,322,1,0,0,0,328,325,1,0,0,0,329,332,1,0,0,0,330,328,1,0,0,0,330,331,1,0,0,0,331,23,1,0,0,0,332,330,1,0,0,0,333,347,3,50,25,0,334,347,3,26,13,0,335,347,3,28,14,0,336,347,3,30,15,0,337,347,3,32,16,0,338,347,3,34,17,0,339,347,3,36,18,0,340,347,3,38,19,0,341,347,3,40,20,0,342,347,3,42,21,0,343,347,3,44,22,0,344,347,3,46,23,0,345,347,3,48,24,0,346,333,1,0,0,0,346,334,1,0,0,0,346,335,1,0,0,0,346,336,1,0,0,0,346,337,1,0,0,0,346,338,1,0,0,0,346,339,1,0,0,0,346,340,1,0,0,0,346,341,1,0,0,0,346,342,1,0,0,0,346,343,1,0,0,0,346,344,1,0,0,0,346,345,1,0,0,0,347,25,1,0,0,0,348,350,5,42,0,0,349,351,3,76,38,0,350,349,1,0,0,0,351,352,1,0,0,0,352,350,1,0,0,0,352,353,1,0,0,0,353,354,1,0,0,0,354,355,5,46,0,0,355,356,3,20,10,0,356,27,1,0,0,0,357,359,5,43,0,0,358,360,3,74,37,0,359,358,1,0,0,0,360,361,1,0,0,0,361,359,1,0,0,0,361,362,1,0,0,0,362,363,1,0,0,0,363,364,5,76,0,0,364,365,3,20,10,0,365,29,1,0,0,0,366,367,5,26,0,0,367,371,3,88,44,0,368,370,3,74,37,0,369,368,1,0,0,0,370,373,1,0,0,0,371,369,1,0,0,0,371,372,1,0,0,0,372,377,1,0,0,0,373,371,1,0,0,0,374,376,3,76,38,0,375,374,1,0,0,0,376,379,1,0,0,0,377,375,1,0,0,0,377,378,1,0,0,0,378,380,1,0,0,0,379,377,1,0,0,0,380,381,5,73,0,0,381,382,3,20,10,0,382,383,5,29,0,0,383,384,3,20,10,0,384,31,1,0,0,0,385,386,5,27,0,0,386,390,3,88,44,0,387,389,3,74,37,0,388,387,1,0,0,0,389,392,1,0,0,0,390,388,1,0,0,0,390,391,1,0,0,0,391,396,1,0,0,0,392,390,1,0,0,0,393,395,3,76,38,0,394,393,1,0,0,0,395,398,1,0,0,0,396,394,1,0,0,0,396,397,1,0,0,0,397,399,1,0,0,0,398,396,1,0,0,0,399,400,5,75,0,0,400,401,3,10,5,0,401,402,5,73,0,0,402,403,3,20,10,0,403,404,5,29,0,0,404,405,3,20,10,0,405,33,1,0,0,0,406,407,5,28,0,0,407,408,3,20,10,0,408,409,5,29,0,0,409,410,3,20,10,0,410,35,1,0,0,0,411,412,5,23,0,0,412,413,3,20,10,0,413,414,5,24,0,0,414,415,3,20,10,0,415,416,5,25,0,0,416,417,3,20,10,0,417,37,1,0,0,0,418,420,5,18,0,0,419,421,3,80,40,0,420,419,1,0,0,0,420,421,1,0,0,0,421,424,1,0,0,0,422,423,5,19,0,0,423,425,3,10,5,0,424,422,1,0,0,0,424,425,1,0,0,0,425,428,1,0,0,0,426,427,5,20,0,0,427,429,3,22,11,0,428,426,1,0,0,0,428,429,1,0,0,0,429,430,1,0,0,0,430,431,5,47,0,0,431,447,3,22,11,0,432,434,5,18,0,0,433,435,3,80,40,0,434,433,1,0,0,0,434,435,1,0,0,0,435,438,1,0,0,0,436,437,5,20,0,0,437,439,3,22,11,0,438,436,1,0,0,0,438,439,1,0,0,0,439,442,1,0,0,0,440,441,5,19,0,0,441,443,3,10,5,0,442,440,1,0,0,0,442,443,1,0,0,0,443,444,1,0,0,0,444,445,5,47,0,0,445,447,3,22,11,0,446,418,1,0,0,0,446,432,1,0,0,0,447,39,1,0,0,0,448,449,5,21,0,0,449,450,3,22,11,0,450,41,1,0,0,0,451,452,5,22,0,0,452,453,3,88,44,0,453,454,5,75,0,0,454,455,3,10,5,0,455,456,5,76,0,0,456,457,3,22,11,0,457,43,1,0,0,0,458,459,5,31,0,0,459,460,3,56,28,0,460,45,1,0,0,0,461,462,5,32,0,0,462,463,3,72,36,0,463,464,3,56,28,0,464,47,1,0,0,0,465,466,5,33,0,0,466,467,3,72,36,0,467,468,3,56,28,0,468,49,1,0,0,0,469,472,3,90,45,0,470,472,3,52,26,0,471,469,1,0,0,0,471,470,1,0,0,0,472,477,1,0,0,0,473,476,3,52,26,0,474,476,3,72,36,0,475,473,1,0,0,0,475,474,1,0,0,0,476,479,1,0,0,0,477,475,1,0,0,0,477,478,1,0,0,0,478,51,1,0,0,0,479,477,1,0,0,0,480,485,3,54,27,0,481,482,5,45,0,0,482,486,3,12,6,0,483,484,5,42,0,0,484,486,3,96,48,0,485,481,1,0,0,0,485,483,1,0,0,0,485,486,1,0,0,0,486,53,1,0,0,0,487,494,3,56,28,0,488,489,5,80,0,0,489,490,3,96,48,0,490,491,5,48,0,0,491,492,3,94,47,0,492,493,5,81,0,0,493,495,1,0,0,0,494,488,1,0,0,0,494,495,1,0,0,0,495,55,1,0,0,0,496,501,3,58,29,0,497,498,5,76,0,0,498,500,3,96,48,0,499,497,1,0,0,0,500,503,1,0,0,0,501,499,1,0,0,0,501,502,1,0,0,0,502,57,1,0,0,0,503,501,1,0,0,0,504,522,3,92,46,0,505,522,5,4,0,0,506,522,5,5,0,0,507,522,3,98,49,0,508,522,5,41,0,0,509,522,5,35,0,0,510,522,5,36,0,0,511,522,5,37,0,0,512,522,3,60,30,0,513,522,3,62,31,0,514,522,3,70,35,0,515,516,5,78,0,0,516,522,3,90,45,0,517,518,5,84,0,0,518,519,3,20,10,0,519,520,5,85,0,0,520,522,1,0,0,0,521,504,1,0,0,0,521,505,1,0,0,0,521,506,1,0,0,0,521,507,1,0,0,0,521,508,1,0,0,0,521,509,1,0,0,0,521,510,1,0,0,0,521,511,1,0,0,0,521,512,1,0,0,0,521,513,1,0,0,0,521,514,1,0,0,0,521,515,1,0,0,0,521,517,1,0,0,0,522,59,1,0,0,0,523,529,5,80,0,0,524,525,3,20,10,0,525,526,5,74,0,0,526,528,1,0,0,0,527,524,1,0,0,0,528,531,1,0,0,0,529,527,1,0,0,0,529,530,1,0,0,0,530,533,1,0,0,0,531,529,1,0,0,0,532,534,3,20,10,0,533,532,1,0,0,0,533,534,1,0,0,0,534,535,1,0,0,0,535,536,5,81,0,0,536,61,1,0,0,0,537,547,5,82,0,0,538,542,3,64,32,0,539,542,3,66,33,0,540,542,3,68,34,0,541,538,1,0,0,0,541,539,1,0,0,0,541,540,1,0,0,0,542,543,1,0,0,0,543,544,5,74,0,0,544,546,1,0,0,0,545,541,1,0,0,0,546,549,1,0,0,0,547,545,1,0,0,0,547,548,1,0,0,0,548,555,1,0,0,0,549,547,1,0,0,0,550,554,3,64,32,0,551,554,3,66,33,0,552,554,3,68,34,0,553,550,1,0,0,0,553,551,1,0,0,0,553,552,1,0,0,0,554,556,1,0,0,0,555,553,1,0,0,0,555,556,1,0,0,0,556,557,1,0,0,0,557,558,5,83,0,0,558,63,1,0,0,0,559,561,5,34,0,0,560,559,1,0,0,0,560,561,1,0,0,0,561,563,1,0,0,0,562,564,3,80,40,0,563,562,1,0,0,0,563,564,1,0,0,0,564,565,1,0,0,0,565,569,3,94,47,0,566,568,3,76,38,0,567,566,1,0,0,0,568,571,1,0,0,0,569,567,1,0,0,0,569,570,1,0,0,0,570,572,1,0,0,0,571,569,1,0,0,0,572,573,5,73,0,0,573,574,3,20,10,0,574,65,1,0,0,0,575,577,5,34,0,0,576,575,1,0,0,0,576,577,1,0,0,0,577,581,1,0,0,0,578,579,3,80,40,0,579,580,5,69,0,0,580,582,1,0,0,0,581,578,1,0,0,0,581,582,1,0,0,0,582,583,1,0,0,0,583,584,5,84,0,0,584,588,3,94,47,0,585,587,3,76,38,0,586,585,1,0,0,0,587,590,1,0,0,0,588,586,1,0,0,0,588,589,1,0,0,0,589,591,1,0,0,0,590,588,1,0,0,0,591,592,5,85,0,0,592,593,5,76,0,0,593,597,3,94,47,0,594,596,3,76,38,0,595,594,1,0,0,0,596,599,1,0,0,0,597,595,1,0,0,0,597,598,1,0,0,0,598,600,1,0,0,0,599,597,1,0,0,0,600,601,5,73,0,0,601,602,3,20,10,0,602,67,1,0,0,0,603,606,5,38,0,0,604,606,3,80,40,0,605,603,1,0,0,0,605,604,1,0,0,0,606,607,1,0,0,0,607,608,5,76,0,0,608,612,3,94,47,0,609,611,3,76,38,0,610,609,1,0,0,0,611,614,1,0,0,0,612,610,1,0,0,0,612,613,1,0,0,0,613,615,1,0,0,0,614,612,1,0,0,0,615,616,5,73,0,0,616,617,3,20,10,0,617,69,1,0,0,0,618,619,5,82,0,0,619,620,3,20,10,0,620,629,5,30,0,0,621,622,3,94,47,0,622,623,5,73,0,0,623,624,3,20,10,0,624,625,1,0,0,0,625,626,5,74,0,0,626,628,1,0,0,0,627,621,1,0,0,0,628,631,1,0,0,0,629,627,1,0,0,0,629,630,1,0,0,0,630,636,1,0,0,0,631,629,1,0,0,0,632,633,3,94,47,0,633,634,5,73,0,0,634,635,3,20,10,0,635,637,1,0,0,0,636,632,1,0,0,0,636,637,1,0,0,0,637,638,1,0,0,0,638,639,5,83,0,0,639,71,1,0,0,0,640,641,5,69,0,0,641,642,3,12,6,0,642,73,1,0,0,0,643,651,3,84,42,0,644,645,5,84,0,0,645,646,3,84,42,0,646,647,5,52,0,0,647,648,3,10,5,0,648,649,5,85,0,0,649,651,1,0,0,0,650,643,1,0,0,0,650,644,1,0,0,0,651,75,1,0,0,0,652,665,3,88,44,0,653,665,5,38,0,0,654,657,5,84,0,0,655,658,3,88,44,0,656,658,5,38,0,0,657,655,1,0,0,0,657,656,1,0,0,0,658,659,1,0,0,0,659,660,5,75,0,0,660,661,3,10,5,0,661,662,5,85,0,0,662,665,1,0,0,0,663,665,3,78,39,0,664,652,1,0,0,0,664,653,1,0,0,0,664,654,1,0,0,0,664,663,1,0,0,0,665,77,1,0,0,0,666,675,5,82,0,0,667,668,3,94,47,0,668,669,5,73,0,0,669,670,3,20,10,0,670,671,1,0,0,0,671,672,5,74,0,0,672,674,1,0,0,0,673,667,1,0,0,0,674,677,1,0,0,0,675,673,1,0,0,0,675,676,1,0,0,0,676,678,1,0,0,0,677,675,1,0,0,0,678,679,5,77,0,0,679,680,5,83,0,0,680,79,1,0,0,0,681,682,5,80,0,0,682,685,3,88,44,0,683,684,5,75,0,0,684,686,3,10,5,0,685,683,1,0,0,0,685,686,1,0,0,0,686,687,1,0,0,0,687,688,5,81,0,0,688,81,1,0,0,0,689,692,3,10,5,0,690,691,5,47,0,0,691,693,3,10,5,0,692,690,1,0,0,0,692,693,1,0,0,0,693,83,1,0,0,0,694,695,5,40,0,0,695,85,1,0,0,0,696,697,5,40,0,0,697,87,1,0,0,0,698,699,5,39,0,0,699,89,1,0,0,0,700,701,5,40,0,0,701,91,1,0,0,0,702,703,7,5,0,0,703,93,1,0,0,0,704,705,7,5,0,0,705,95,1,0,0,0,706,707,7,5,0,0,707,97,1,0,0,0,708,712,5,86,0,0,709,711,3,100,50,0,710,709,1,0,0,0,711,714,1,0,0,0,712,710,1,0,0,0,712,713,1,0,0,0,713,715,1,0,0,0,714,712,1,0,0,0,715,716,7,6,0,0,716,99,1,0,0,0,717,722,3,102,51,0,718,722,3,104,52,0,719,722,3,106,53,0,720,722,3,108,54,0,721,717,1,0,0,0,721,718,1,0,0,0,721,719,1,0,0,0,721,720,1,0,0,0,722,101,1,0,0,0,723,727,7,7,0,0,724,726,3,72,36,0,725,724,1,0,0,0,726,729,1,0,0,0,727,725,1,0,0,0,727,728,1,0,0,0,728,733,1,0,0,0,729,727,1,0,0,0,730,732,3,110,55,0,731,730,1,0,0,0,732,735,1,0,0,0,733,731,1,0,0,0,733,734,1,0,0,0,734,103,1,0,0,0,735,733,1,0,0,0,736,737,7,8,0,0,737,738,3,20,10,0,738,739,5,85,0,0,739,105,1,0,0,0,740,741,7,9,0,0,741,107,1,0,0,0,742,743,7,10,0,0,743,109,1,0,0,0,744,748,5,93,0,0,745,747,3,100,50,0,746,745,1,0,0,0,747,750,1,0,0,0,748,746,1,0,0,0,748,749,1,0,0,0,749,751,1,0,0,0,750,748,1,0,0,0,751,770,7,11,0,0,752,753,5,94,0,0,753,754,3,20,10,0,754,755,5,85,0,0,755,770,1,0,0,0,756,762,5,95,0,0,757,758,3,112,56,0,758,759,5,74,0,0,759,761,1,0,0,0,760,757,1,0,0,0,761,764,1,0,0,0,762,760,1,0,0,0,762,763,1,0,0,0,763,766,1,0,0,0,764,762,1,0,0,0,765,767,3,112,56,0,766,765,1,0,0,0,766,767,1,0,0,0,767,768,1,0,0,0,768,770,5,83,0,0,769,744,1,0,0,0,769,752,1,0,0,0,769,756,1,0,0,0,770,111,1,0,0,0,771,775,3,94,47,0,772,774,3,76,38,0,773,772,1,0,0,0,774,777,1,0,0,0,775,773,1,0,0,0,775,776,1,0,0,0,776,778,1,0,0,0,777,775,1,0,0,0,778,779,5,73,0,0,779,780,3,20,10,0,780,113,1,0,0,0,78,117,126,136,142,147,160,166,177,183,188,199,214,222,225,236,238,248,267,275,279,285,293,299,328,330,346,352,361,371,377,390,396,420,424,428,434,438,442,446,471,475,477,485,494,501,521,529,533,541,547,553,555,560,563,569,576,581,588,597,605,612,629,636,650,657,664,675,685,692,712,721,727,733,748,762,766,769,775]),GI=YI.decisionToState.map(((t,e)=>new HI.dfa.DFA(t,e))),ZI=new HI.atn.PredictionContextCache;class KI extends HI.Parser{static grammarFileName="CPParser.g4";static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Not","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["program","definition","interfaceDef","typeDef","termDef","type","btype","atype","recordType","recordTypeField","expression","opexpr","lexpr","lambda","bigLambda","letIn","letRec","openIn","ifElse","trait","newTrait","fixpoint","toStr","fold","unfold","fexpr","excludexpr","renamexpr","dotexpr","aexpr","array","record","recordField","methodPattern","defaultPattern","recordUpdate","typeArg","typeParam","termParam","wildcard","selfAnno","sort","typeNameDecl","typeName","termNameDecl","ctorName","termName","labelDecl","label","document","docElement","command","interpolation","newline","plaintext","docArg","recordArgField"];constructor(t){super(t),this._interp=new HI.atn.ParserATNSimulator(this,YI,GI,ZI),this.ruleNames=KI.ruleNames,this.literalNames=KI.literalNames,this.symbolicNames=KI.symbolicNames}sempred(t,e,n){switch(e){case 5:return this.type_sempred(t,n);case 11:return this.opexpr_sempred(t,n);default:throw"No predicate with index:"+e}}type_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,7);case 1:return this.precpred(this._ctx,6);case 2:return this.precpred(this._ctx,5);default:throw"No predicate with index:"+e}}opexpr_sempred(t,e){switch(e){case 3:return this.precpred(this._ctx,9);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,7);case 6:return this.precpred(this._ctx,6);case 7:return this.precpred(this._ctx,5);case 8:return this.precpred(this._ctx,4);case 9:return this.precpred(this._ctx,3);case 10:return this.precpred(this._ctx,2);case 11:return this.precpred(this._ctx,1);default:throw"No predicate with index:"+e}}program(){let t=new JI(this,this._ctx,this.state);this.enterRule(t,0,KI.RULE_program);try{this.enterOuterAlt(t,1),this.state=117,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,0,this._ctx);2!=e&&e!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=114,this.definition()),this.state=119,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,0,this._ctx);this.state=120,this.expression(),this.state=121,this.match(KI.EOF)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}definition(){let t=new tN(this,this._ctx,this.state);this.enterRule(t,2,KI.RULE_definition);try{switch(this.state=126,this._errHandler.sync(this),this._input.LA(1)){case 7:this.enterOuterAlt(t,1),this.state=123,this.interfaceDef();break;case 6:this.enterOuterAlt(t,2),this.state=124,this.typeDef();break;case 39:this.enterOuterAlt(t,3),this.state=125,this.termDef();break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interfaceDef(){let t=new eN(this,this._ctx,this.state);this.enterRule(t,4,KI.RULE_interfaceDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=128,this.match(KI.Interface),this.state=129,this.typeNameDecl(),this.state=136,this._errHandler.sync(this),e=this._input.LA(1);59===e;)this.state=130,this.match(KI.Less),this.state=131,this.typeNameDecl(),this.state=132,this.match(KI.Greater),this.state=138,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=142,this._errHandler.sync(this),e=this._input.LA(1);40===e;)this.state=139,this.typeNameDecl(),this.state=144,this._errHandler.sync(this),e=this._input.LA(1);this.state=147,this._errHandler.sync(this),8===(e=this._input.LA(1))&&(this.state=145,this.match(KI.Extends),this.state=146,this.btype()),this.state=149,this.recordType(),this.state=150,this.match(KI.Semicolon)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeDef(){let t=new nN(this,this._ctx,this.state);this.enterRule(t,6,KI.RULE_typeDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=152,this.match(KI.Type),this.state=153,this.typeNameDecl(),this.state=160,this._errHandler.sync(this),e=this._input.LA(1);59===e;)this.state=154,this.match(KI.Less),this.state=155,this.typeNameDecl(),this.state=156,this.match(KI.Greater),this.state=162,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=166,this._errHandler.sync(this),e=this._input.LA(1);40===e;)this.state=163,this.typeNameDecl(),this.state=168,this._errHandler.sync(this),e=this._input.LA(1);this.state=169,this.match(KI.Assign),this.state=170,this.type(0),this.state=171,this.match(KI.Semicolon)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termDef(){let t=new rN(this,this._ctx,this.state);this.enterRule(t,8,KI.RULE_termDef);var e=0;try{this.enterOuterAlt(t,1),this.state=173,this.termNameDecl(),this.state=177,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,7,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=174,this.typeParam()),this.state=179,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,7,this._ctx);for(this.state=183,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=180,this.termParam(),this.state=185,this._errHandler.sync(this),e=this._input.LA(1);this.state=188,this._errHandler.sync(this),75===(e=this._input.LA(1))&&(this.state=186,this.match(KI.Colon),this.state=187,this.type(0)),this.state=190,this.match(KI.Assign),this.state=191,this.expression(),this.state=192,this.match(KI.Semicolon)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}type(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new iN(this,this._ctx,n),i=r;this.enterRecursionRule(r,10,KI.RULE_type,t);var s=0;try{switch(this.enterOuterAlt(r,1),this.state=225,this._errHandler.sync(this),this._input.LA(1)){case 9:this.state=195,this.match(KI.ForAll),this.state=197,this._errHandler.sync(this),s=this._input.LA(1);do{this.state=196,this.typeParam(),this.state=199,this._errHandler.sync(this),s=this._input.LA(1)}while(40===s||84===s);this.state=201,this.match(KI.Dot),this.state=202,this.type(4);break;case 10:this.state=204,this.match(KI.Mu),this.state=205,this.typeNameDecl(),this.state=206,this.match(KI.Dot),this.state=207,this.type(3);break;case 17:this.state=209,this.match(KI.TraitType),this.state=210,this.match(KI.Less),this.state=211,this.type(0),this.state=214,this._errHandler.sync(this),47===(s=this._input.LA(1))&&(this.state=212,this.match(KI.FatArrow),this.state=213,this.type(0)),this.state=216,this.match(KI.Greater);break;case 11:case 12:case 13:case 14:case 15:case 16:case 40:case 80:case 82:case 84:this.state=218,this.btype(),this.state=222,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,12,this._ctx);2!=o&&o!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=219,this.btype()),this.state=224,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,12,this._ctx);break;default:throw new HI.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=238,this._errHandler.sync(this);for(o=this._interp.adaptivePredict(this._input,15,this._ctx);2!=o&&o!=HI.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=236,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:if(r=new iN(this,e,n),this.pushNewRecursionContext(r,10,KI.RULE_type),this.state=227,!this.precpred(this._ctx,7))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=228,this.match(KI.Intersect),this.state=229,this.type(8);break;case 2:if(r=new iN(this,e,n),this.pushNewRecursionContext(r,10,KI.RULE_type),this.state=230,!this.precpred(this._ctx,6))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=231,this.match(KI.Backslash),this.state=232,this.type(7);break;case 3:if(r=new iN(this,e,n),this.pushNewRecursionContext(r,10,KI.RULE_type),this.state=233,!this.precpred(this._ctx,5))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=234,this.match(KI.Arrow),this.state=235,this.type(5)}this.state=240,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,15,this._ctx)}}catch(t){if(!(t instanceof HI.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}btype(){let t=new sN(this,this._ctx,this.state);this.enterRule(t,12,KI.RULE_btype);try{this.enterOuterAlt(t,1),this.state=241,this.atype(),this.state=248,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=242,this.match(KI.Less),this.state=243,this.sort(),this.state=244,this.match(KI.Greater)),this.state=250,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}atype(){let t=new oN(this,this._ctx,this.state);this.enterRule(t,14,KI.RULE_atype);try{switch(this.state=267,this._errHandler.sync(this),this._input.LA(1)){case 11:this.enterOuterAlt(t,1),this.state=251,this.match(KI.Int);break;case 12:this.enterOuterAlt(t,2),this.state=252,this.match(KI.Double);break;case 13:this.enterOuterAlt(t,3),this.state=253,this.match(KI.Bool);break;case 14:this.enterOuterAlt(t,4),this.state=254,this.match(KI.String);break;case 15:this.enterOuterAlt(t,5),this.state=255,this.match(KI.Top);break;case 16:this.enterOuterAlt(t,6),this.state=256,this.match(KI.Bot);break;case 40:this.enterOuterAlt(t,7),this.state=257,this.typeName();break;case 82:this.enterOuterAlt(t,8),this.state=258,this.recordType();break;case 80:this.enterOuterAlt(t,9),this.state=259,this.match(KI.BracketOpen),this.state=260,this.type(0),this.state=261,this.match(KI.BracketClose);break;case 84:this.enterOuterAlt(t,10),this.state=263,this.match(KI.ParenOpen),this.state=264,this.type(0),this.state=265,this.match(KI.ParenClose);break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordType(){let t=new lN(this,this._ctx,this.state);this.enterRule(t,16,KI.RULE_recordType);var e=0;try{this.enterOuterAlt(t,1),this.state=269,this.match(KI.BraceOpen),this.state=275,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,18,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=270,this.recordTypeField(),this.state=271,this.match(KI.Semicolon)),this.state=277,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,18,this._ctx);this.state=279,this._errHandler.sync(this),39!==(e=this._input.LA(1))&&40!==e||(this.state=278,this.recordTypeField()),this.state=281,this.match(KI.BraceClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordTypeField(){let t=new aN(this,this._ctx,this.state);this.enterRule(t,18,KI.RULE_recordTypeField);try{this.enterOuterAlt(t,1),this.state=283,this.labelDecl(),this.state=285,this._errHandler.sync(this),79===this._input.LA(1)&&(this.state=284,this.match(KI.Question)),this.state=287,this.match(KI.Colon),this.state=288,this.type(0)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}expression(){let t=new uN(this,this._ctx,this.state);this.enterRule(t,20,KI.RULE_expression);try{this.enterOuterAlt(t,1),this.state=290,this.opexpr(0),this.state=293,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,21,this._ctx)&&(this.state=291,this.match(KI.Colon),this.state=292,this.type(0))}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}opexpr(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new cN(this,this._ctx,n),i=r;const s=22;this.enterRecursionRule(r,22,KI.RULE_opexpr,t);var o=0;try{switch(this.enterOuterAlt(r,1),this.state=299,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 18:case 21:case 22:case 23:case 26:case 27:case 28:case 31:case 32:case 33:case 35:case 36:case 37:case 39:case 40:case 41:case 42:case 43:case 78:case 80:case 82:case 84:case 86:this.state=296,this.lexpr();break;case 51:case 55:case 56:case 65:this.state=297,0!=((o=this._input.LA(1))-51&-32)||0==(1<<o-51&16433)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=298,this.opexpr(10);break;default:throw new HI.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=330,this._errHandler.sync(this);for(var l=this._interp.adaptivePredict(this._input,24,this._ctx);2!=l&&l!=HI.atn.ATN.INVALID_ALT_NUMBER;){if(1===l)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=328,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=301,!this.precpred(this._ctx,9))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 9)");this.state=302,this.match(KI.Index),this.state=303,this.opexpr(10);break;case 2:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=304,!this.precpred(this._ctx,8))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=305,0!=((o=this._input.LA(1))-52&-32)||0==(1<<o-52&7)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=306,this.opexpr(9);break;case 3:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=307,!this.precpred(this._ctx,7))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=308,50!==(o=this._input.LA(1))&&51!==o?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=309,this.opexpr(8);break;case 4:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=310,!this.precpred(this._ctx,6))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=311,this.match(KI.Append),this.state=312,this.opexpr(7);break;case 5:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=313,!this.precpred(this._ctx,5))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=314,0!=((o=this._input.LA(1))-59&-32)||0==(1<<o-59&63)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=315,this.opexpr(6);break;case 6:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=316,!this.precpred(this._ctx,4))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=317,this.match(KI.And),this.state=318,this.opexpr(4);break;case 7:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=319,!this.precpred(this._ctx,3))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)");this.state=320,this.match(KI.Or),this.state=321,this.opexpr(3);break;case 8:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=322,!this.precpred(this._ctx,2))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=323,this.match(KI.Forward),this.state=324,this.opexpr(3);break;case 9:if(r=new cN(this,e,n),this.pushNewRecursionContext(r,s,KI.RULE_opexpr),this.state=325,!this.precpred(this._ctx,1))throw new HI.error.FailedPredicateException(this,"this.precpred(this._ctx, 1)");this.state=326,0!=((o=this._input.LA(1))-44&-32)||0==(1<<o-44&469762049)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=327,this.opexpr(2)}this.state=332,this._errHandler.sync(this),l=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof HI.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}lexpr(){let t=new hN(this,this._ctx,this.state);this.enterRule(t,24,KI.RULE_lexpr);try{switch(this.state=346,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 35:case 36:case 37:case 39:case 40:case 41:case 78:case 80:case 82:case 84:case 86:this.enterOuterAlt(t,1),this.state=333,this.fexpr();break;case 42:this.enterOuterAlt(t,2),this.state=334,this.lambda();break;case 43:this.enterOuterAlt(t,3),this.state=335,this.bigLambda();break;case 26:this.enterOuterAlt(t,4),this.state=336,this.letIn();break;case 27:this.enterOuterAlt(t,5),this.state=337,this.letRec();break;case 28:this.enterOuterAlt(t,6),this.state=338,this.openIn();break;case 23:this.enterOuterAlt(t,7),this.state=339,this.ifElse();break;case 18:this.enterOuterAlt(t,8),this.state=340,this.trait();break;case 21:this.enterOuterAlt(t,9),this.state=341,this.newTrait();break;case 22:this.enterOuterAlt(t,10),this.state=342,this.fixpoint();break;case 31:this.enterOuterAlt(t,11),this.state=343,this.toStr();break;case 32:this.enterOuterAlt(t,12),this.state=344,this.fold();break;case 33:this.enterOuterAlt(t,13),this.state=345,this.unfold();break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}lambda(){let t=new fN(this,this._ctx,this.state);this.enterRule(t,26,KI.RULE_lambda);var e=0;try{this.enterOuterAlt(t,1),this.state=348,this.match(KI.Backslash),this.state=350,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=349,this.termParam(),this.state=352,this._errHandler.sync(this),e=this._input.LA(1)}while(38===e||39===e||82===e||84===e);this.state=354,this.match(KI.Arrow),this.state=355,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}bigLambda(){let t=new dN(this,this._ctx,this.state);this.enterRule(t,28,KI.RULE_bigLambda);var e=0;try{this.enterOuterAlt(t,1),this.state=357,this.match(KI.SlashBackslash),this.state=359,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=358,this.typeParam(),this.state=361,this._errHandler.sync(this),e=this._input.LA(1)}while(40===e||84===e);this.state=363,this.match(KI.Dot),this.state=364,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letIn(){let t=new vN(this,this._ctx,this.state);this.enterRule(t,30,KI.RULE_letIn);var e=0;try{this.enterOuterAlt(t,1),this.state=366,this.match(KI.Let),this.state=367,this.termNameDecl(),this.state=371,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,28,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=368,this.typeParam()),this.state=373,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,28,this._ctx);for(this.state=377,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=374,this.termParam(),this.state=379,this._errHandler.sync(this),e=this._input.LA(1);this.state=380,this.match(KI.Assign),this.state=381,this.expression(),this.state=382,this.match(KI.In),this.state=383,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letRec(){let t=new gN(this,this._ctx,this.state);this.enterRule(t,32,KI.RULE_letRec);var e=0;try{this.enterOuterAlt(t,1),this.state=385,this.match(KI.LetRec),this.state=386,this.termNameDecl(),this.state=390,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,30,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=387,this.typeParam()),this.state=392,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,30,this._ctx);for(this.state=396,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=393,this.termParam(),this.state=398,this._errHandler.sync(this),e=this._input.LA(1);this.state=399,this.match(KI.Colon),this.state=400,this.type(0),this.state=401,this.match(KI.Assign),this.state=402,this.expression(),this.state=403,this.match(KI.In),this.state=404,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}openIn(){let t=new pN(this,this._ctx,this.state);this.enterRule(t,34,KI.RULE_openIn);try{this.enterOuterAlt(t,1),this.state=406,this.match(KI.Open),this.state=407,this.expression(),this.state=408,this.match(KI.In),this.state=409,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ifElse(){let t=new mN(this,this._ctx,this.state);this.enterRule(t,36,KI.RULE_ifElse);try{this.enterOuterAlt(t,1),this.state=411,this.match(KI.If),this.state=412,this.expression(),this.state=413,this.match(KI.Then),this.state=414,this.expression(),this.state=415,this.match(KI.Else),this.state=416,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}trait(){let t=new RN(this,this._ctx,this.state);this.enterRule(t,38,KI.RULE_trait);try{switch(this.state=446,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,38,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=418,this.match(KI.Trait),this.state=420,this._errHandler.sync(this),80===this._input.LA(1)&&(this.state=419,this.selfAnno()),this.state=424,this._errHandler.sync(this),19===this._input.LA(1)&&(this.state=422,this.match(KI.Implements),this.state=423,this.type(0)),this.state=428,this._errHandler.sync(this),20===this._input.LA(1)&&(this.state=426,this.match(KI.Inherits),this.state=427,this.opexpr(0)),this.state=430,this.match(KI.FatArrow),this.state=431,this.opexpr(0);break;case 2:this.enterOuterAlt(t,2),this.state=432,this.match(KI.Trait),this.state=434,this._errHandler.sync(this),80===this._input.LA(1)&&(this.state=433,this.selfAnno()),this.state=438,this._errHandler.sync(this),20===this._input.LA(1)&&(this.state=436,this.match(KI.Inherits),this.state=437,this.opexpr(0)),this.state=442,this._errHandler.sync(this),19===this._input.LA(1)&&(this.state=440,this.match(KI.Implements),this.state=441,this.type(0)),this.state=444,this.match(KI.FatArrow),this.state=445,this.opexpr(0)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newTrait(){let t=new ON(this,this._ctx,this.state);this.enterRule(t,40,KI.RULE_newTrait);try{this.enterOuterAlt(t,1),this.state=448,this.match(KI.New),this.state=449,this.opexpr(0)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fixpoint(){let t=new wN(this,this._ctx,this.state);this.enterRule(t,42,KI.RULE_fixpoint);try{this.enterOuterAlt(t,1),this.state=451,this.match(KI.Fix),this.state=452,this.termNameDecl(),this.state=453,this.match(KI.Colon),this.state=454,this.type(0),this.state=455,this.match(KI.Dot),this.state=456,this.opexpr(0)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}toStr(){let t=new xN(this,this._ctx,this.state);this.enterRule(t,44,KI.RULE_toStr);try{this.enterOuterAlt(t,1),this.state=458,this.match(KI.ToString),this.state=459,this.dotexpr()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fold(){let t=new yN(this,this._ctx,this.state);this.enterRule(t,46,KI.RULE_fold);try{this.enterOuterAlt(t,1),this.state=461,this.match(KI.Fold),this.state=462,this.typeArg(),this.state=463,this.dotexpr()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}unfold(){let t=new bN(this,this._ctx,this.state);this.enterRule(t,48,KI.RULE_unfold);try{this.enterOuterAlt(t,1),this.state=465,this.match(KI.Unfold),this.state=466,this.typeArg(),this.state=467,this.dotexpr()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fexpr(){let t=new CN(this,this._ctx,this.state);this.enterRule(t,50,KI.RULE_fexpr);try{switch(this.enterOuterAlt(t,1),this.state=471,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,39,this._ctx)){case 1:this.state=469,this.ctorName();break;case 2:this.state=470,this.excludexpr()}this.state=477,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,41,this._ctx);2!=e&&e!=HI.atn.ATN.INVALID_ALT_NUMBER;){if(1===e)switch(this.state=475,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 35:case 36:case 37:case 39:case 40:case 41:case 78:case 80:case 82:case 84:case 86:this.state=473,this.excludexpr();break;case 69:this.state=474,this.typeArg();break;default:throw new HI.error.NoViableAltException(this)}this.state=479,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,41,this._ctx)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}excludexpr(){let t=new kN(this,this._ctx,this.state);this.enterRule(t,52,KI.RULE_excludexpr);try{this.enterOuterAlt(t,1),this.state=480,this.renamexpr(),this.state=485,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,42,this._ctx);1===e?(this.state=481,this.match(KI.DoubleBackslashes),this.state=482,this.btype()):2===e&&(this.state=483,this.match(KI.Backslash),this.state=484,this.label())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}renamexpr(){let t=new TN(this,this._ctx,this.state);this.enterRule(t,54,KI.RULE_renamexpr);try{this.enterOuterAlt(t,1),this.state=487,this.dotexpr(),this.state=494,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,43,this._ctx)&&(this.state=488,this.match(KI.BracketOpen),this.state=489,this.label(),this.state=490,this.match(KI.LeftArrow),this.state=491,this.labelDecl(),this.state=492,this.match(KI.BracketClose))}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}dotexpr(){let t=new SN(this,this._ctx,this.state);this.enterRule(t,56,KI.RULE_dotexpr);try{this.enterOuterAlt(t,1),this.state=496,this.aexpr(),this.state=501,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,44,this._ctx);2!=e&&e!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=497,this.match(KI.Dot),this.state=498,this.label()),this.state=503,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,44,this._ctx)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}aexpr(){let t=new AN(this,this._ctx,this.state);this.enterRule(t,58,KI.RULE_aexpr);try{switch(this.state=521,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,45,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=504,this.termName();break;case 2:this.enterOuterAlt(t,2),this.state=505,this.match(KI.IntLit);break;case 3:this.enterOuterAlt(t,3),this.state=506,this.match(KI.StringLit);break;case 4:this.enterOuterAlt(t,4),this.state=507,this.document();break;case 5:this.enterOuterAlt(t,5),this.state=508,this.match(KI.Unit);break;case 6:this.enterOuterAlt(t,6),this.state=509,this.match(KI.True_);break;case 7:this.enterOuterAlt(t,7),this.state=510,this.match(KI.False_);break;case 8:this.enterOuterAlt(t,8),this.state=511,this.match(KI.Undefined_);break;case 9:this.enterOuterAlt(t,9),this.state=512,this.array();break;case 10:this.enterOuterAlt(t,10),this.state=513,this.record();break;case 11:this.enterOuterAlt(t,11),this.state=514,this.recordUpdate();break;case 12:this.enterOuterAlt(t,12),this.state=515,this.match(KI.Dollar),this.state=516,this.ctorName();break;case 13:this.enterOuterAlt(t,13),this.state=517,this.match(KI.ParenOpen),this.state=518,this.expression(),this.state=519,this.match(KI.ParenClose)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}array(){let t=new PN(this,this._ctx,this.state);this.enterRule(t,60,KI.RULE_array);var e=0;try{this.enterOuterAlt(t,1),this.state=523,this.match(KI.BracketOpen),this.state=529,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,46,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=524,this.expression(),this.state=525,this.match(KI.Semicolon)),this.state=531,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,46,this._ctx);this.state=533,this._errHandler.sync(this),(0==(-32&(e=this._input.LA(1)))&&0!=(1<<e&2632187952)||0==(e-32&-32)&&0!=(1<<e-32&25694139)||0==(e-65&-32)&&0!=(1<<e-65&2793473))&&(this.state=532,this.expression()),this.state=535,this.match(KI.BracketClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}record(){let t=new EN(this,this._ctx,this.state);this.enterRule(t,62,KI.RULE_record);var e=0;try{this.enterOuterAlt(t,1),this.state=537,this.match(KI.BraceOpen),this.state=547,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,49,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;){if(1===n){switch(this.state=541,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,48,this._ctx)){case 1:this.state=538,this.recordField();break;case 2:this.state=539,this.methodPattern();break;case 3:this.state=540,this.defaultPattern()}this.state=543,this.match(KI.Semicolon)}this.state=549,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,49,this._ctx)}if(this.state=555,this._errHandler.sync(this),0==((e=this._input.LA(1))-34&-32)&&0!=(1<<e-34&113)||80===e||84===e)switch(this.state=553,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,50,this._ctx)){case 1:this.state=550,this.recordField();break;case 2:this.state=551,this.methodPattern();break;case 3:this.state=552,this.defaultPattern()}this.state=557,this.match(KI.BraceClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordField(){let t=new _N(this,this._ctx,this.state);this.enterRule(t,64,KI.RULE_recordField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=560,this._errHandler.sync(this),34===(e=this._input.LA(1))&&(this.state=559,this.match(KI.Override)),this.state=563,this._errHandler.sync(this),80===(e=this._input.LA(1))&&(this.state=562,this.selfAnno()),this.state=565,this.labelDecl(),this.state=569,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=566,this.termParam(),this.state=571,this._errHandler.sync(this),e=this._input.LA(1);this.state=572,this.match(KI.Assign),this.state=573,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}methodPattern(){let t=new LN(this,this._ctx,this.state);this.enterRule(t,66,KI.RULE_methodPattern);var e=0;try{for(this.enterOuterAlt(t,1),this.state=576,this._errHandler.sync(this),34===(e=this._input.LA(1))&&(this.state=575,this.match(KI.Override)),this.state=581,this._errHandler.sync(this),80===(e=this._input.LA(1))&&(this.state=578,this.selfAnno(),this.state=579,this.match(KI.At)),this.state=583,this.match(KI.ParenOpen),this.state=584,this.labelDecl(),this.state=588,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=585,this.termParam(),this.state=590,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=591,this.match(KI.ParenClose),this.state=592,this.match(KI.Dot),this.state=593,this.labelDecl(),this.state=597,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=594,this.termParam(),this.state=599,this._errHandler.sync(this),e=this._input.LA(1);this.state=600,this.match(KI.Assign),this.state=601,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}defaultPattern(){let t=new DN(this,this._ctx,this.state);this.enterRule(t,68,KI.RULE_defaultPattern);var e=0;try{switch(this.enterOuterAlt(t,1),this.state=605,this._errHandler.sync(this),this._input.LA(1)){case 38:this.state=603,this.match(KI.Underscore);break;case 80:this.state=604,this.selfAnno();break;default:throw new HI.error.NoViableAltException(this)}for(this.state=607,this.match(KI.Dot),this.state=608,this.labelDecl(),this.state=612,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=609,this.termParam(),this.state=614,this._errHandler.sync(this),e=this._input.LA(1);this.state=615,this.match(KI.Assign),this.state=616,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordUpdate(){let t=new IN(this,this._ctx,this.state);this.enterRule(t,70,KI.RULE_recordUpdate);var e=0;try{this.enterOuterAlt(t,1),this.state=618,this.match(KI.BraceOpen),this.state=619,this.expression(),this.state=620,this.match(KI.With),this.state=629,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,61,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=621,this.labelDecl(),this.state=622,this.match(KI.Assign),this.state=623,this.expression(),this.state=625,this.match(KI.Semicolon)),this.state=631,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,61,this._ctx);this.state=636,this._errHandler.sync(this),39!==(e=this._input.LA(1))&&40!==e||(this.state=632,this.labelDecl(),this.state=633,this.match(KI.Assign),this.state=634,this.expression()),this.state=638,this.match(KI.BraceClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeArg(){let t=new NN(this,this._ctx,this.state);this.enterRule(t,72,KI.RULE_typeArg);try{this.enterOuterAlt(t,1),this.state=640,this.match(KI.At),this.state=641,this.btype()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeParam(){let t=new QN(this,this._ctx,this.state);this.enterRule(t,74,KI.RULE_typeParam);try{switch(this.state=650,this._errHandler.sync(this),this._input.LA(1)){case 40:this.enterOuterAlt(t,1),this.state=643,this.typeNameDecl();break;case 84:this.enterOuterAlt(t,2),this.state=644,this.match(KI.ParenOpen),this.state=645,this.typeNameDecl(),this.state=646,this.match(KI.Asterisk),this.state=647,this.type(0),this.state=648,this.match(KI.ParenClose);break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termParam(){let t=new MN(this,this._ctx,this.state);this.enterRule(t,76,KI.RULE_termParam);try{switch(this.state=664,this._errHandler.sync(this),this._input.LA(1)){case 39:this.enterOuterAlt(t,1),this.state=652,this.termNameDecl();break;case 38:this.enterOuterAlt(t,2),this.state=653,this.match(KI.Underscore);break;case 84:switch(this.enterOuterAlt(t,3),this.state=654,this.match(KI.ParenOpen),this.state=657,this._errHandler.sync(this),this._input.LA(1)){case 39:this.state=655,this.termNameDecl();break;case 38:this.state=656,this.match(KI.Underscore);break;default:throw new HI.error.NoViableAltException(this)}this.state=659,this.match(KI.Colon),this.state=660,this.type(0),this.state=661,this.match(KI.ParenClose);break;case 82:this.enterOuterAlt(t,4),this.state=663,this.wildcard();break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}wildcard(){let t=new FN(this,this._ctx,this.state);this.enterRule(t,78,KI.RULE_wildcard);var e=0;try{for(this.enterOuterAlt(t,1),this.state=666,this.match(KI.BraceOpen),this.state=675,this._errHandler.sync(this),e=this._input.LA(1);39===e||40===e;)this.state=667,this.labelDecl(),this.state=668,this.match(KI.Assign),this.state=669,this.expression(),this.state=671,this.match(KI.Semicolon),this.state=677,this._errHandler.sync(this),e=this._input.LA(1);this.state=678,this.match(KI.DotDot),this.state=679,this.match(KI.BraceClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}selfAnno(){let t=new $N(this,this._ctx,this.state);this.enterRule(t,80,KI.RULE_selfAnno);try{this.enterOuterAlt(t,1),this.state=681,this.match(KI.BracketOpen),this.state=682,this.termNameDecl(),this.state=685,this._errHandler.sync(this),75===this._input.LA(1)&&(this.state=683,this.match(KI.Colon),this.state=684,this.type(0)),this.state=687,this.match(KI.BracketClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}sort(){let t=new BN(this,this._ctx,this.state);this.enterRule(t,82,KI.RULE_sort);try{this.enterOuterAlt(t,1),this.state=689,this.type(0),this.state=692,this._errHandler.sync(this),47===this._input.LA(1)&&(this.state=690,this.match(KI.FatArrow),this.state=691,this.type(0))}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeNameDecl(){let t=new UN(this,this._ctx,this.state);this.enterRule(t,84,KI.RULE_typeNameDecl);try{this.enterOuterAlt(t,1),this.state=694,this.match(KI.UpperId)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeName(){let t=new WN(this,this._ctx,this.state);this.enterRule(t,86,KI.RULE_typeName);try{this.enterOuterAlt(t,1),this.state=696,this.match(KI.UpperId)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termNameDecl(){let t=new VN(this,this._ctx,this.state);this.enterRule(t,88,KI.RULE_termNameDecl);try{this.enterOuterAlt(t,1),this.state=698,this.match(KI.LowerId)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ctorName(){let t=new HN(this,this._ctx,this.state);this.enterRule(t,90,KI.RULE_ctorName);try{this.enterOuterAlt(t,1),this.state=700,this.match(KI.UpperId)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termName(){let t=new qN(this,this._ctx,this.state);this.enterRule(t,92,KI.RULE_termName);var e=0;try{this.enterOuterAlt(t,1),this.state=702,39!==(e=this._input.LA(1))&&40!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}labelDecl(){let t=new XN(this,this._ctx,this.state);this.enterRule(t,94,KI.RULE_labelDecl);var e=0;try{this.enterOuterAlt(t,1),this.state=704,39!==(e=this._input.LA(1))&&40!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}label(){let t=new jN(this,this._ctx,this.state);this.enterRule(t,96,KI.RULE_label);var e=0;try{this.enterOuterAlt(t,1),this.state=706,39!==(e=this._input.LA(1))&&40!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}document(){let t=new zN(this,this._ctx,this.state);this.enterRule(t,98,KI.RULE_document);var e=0;try{for(this.enterOuterAlt(t,1),this.state=708,this.match(KI.BacktickOpen),this.state=712,this._errHandler.sync(this),e=this._input.LA(1);0==(e-87&-32)&&0!=(1<<e-87&7695);)this.state=709,this.docElement(),this.state=714,this._errHandler.sync(this),e=this._input.LA(1);this.state=715,92!==(e=this._input.LA(1))&&101!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docElement(){let t=new YN(this,this._ctx,this.state);this.enterRule(t,100,KI.RULE_docElement);try{switch(this.state=721,this._errHandler.sync(this),this._input.LA(1)){case 87:case 96:this.enterOuterAlt(t,1),this.state=717,this.command();break;case 88:case 97:this.enterOuterAlt(t,2),this.state=718,this.interpolation();break;case 89:case 98:this.enterOuterAlt(t,3),this.state=719,this.newline();break;case 90:case 99:this.enterOuterAlt(t,4),this.state=720,this.plaintext();break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}command(){let t=new GN(this,this._ctx,this.state);this.enterRule(t,102,KI.RULE_command);var e=0;try{for(this.enterOuterAlt(t,1),this.state=723,87!==(e=this._input.LA(1))&&96!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=727,this._errHandler.sync(this),e=this._input.LA(1);69===e;)this.state=724,this.typeArg(),this.state=729,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=733,this._errHandler.sync(this),e=this._input.LA(1);0==(e-93&-32)&&0!=(1<<e-93&7);)this.state=730,this.docArg(),this.state=735,this._errHandler.sync(this),e=this._input.LA(1)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interpolation(){let t=new ZN(this,this._ctx,this.state);this.enterRule(t,104,KI.RULE_interpolation);var e=0;try{this.enterOuterAlt(t,1),this.state=736,88!==(e=this._input.LA(1))&&97!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=737,this.expression(),this.state=738,this.match(KI.ParenClose)}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newline(){let t=new KN(this,this._ctx,this.state);this.enterRule(t,106,KI.RULE_newline);var e=0;try{this.enterOuterAlt(t,1),this.state=740,89!==(e=this._input.LA(1))&&98!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}plaintext(){let t=new JN(this,this._ctx,this.state);this.enterRule(t,108,KI.RULE_plaintext);var e=0;try{this.enterOuterAlt(t,1),this.state=742,90!==(e=this._input.LA(1))&&99!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docArg(){let t=new tQ(this,this._ctx,this.state);this.enterRule(t,110,KI.RULE_docArg);var e=0;try{switch(this.state=769,this._errHandler.sync(this),this._input.LA(1)){case 93:for(this.enterOuterAlt(t,1),this.state=744,this.match(KI.BracketOpenAsArg),this.state=748,this._errHandler.sync(this),e=this._input.LA(1);0==(e-87&-32)&&0!=(1<<e-87&7695);)this.state=745,this.docElement(),this.state=750,this._errHandler.sync(this),e=this._input.LA(1);this.state=751,91!==(e=this._input.LA(1))&&100!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume());break;case 94:this.enterOuterAlt(t,2),this.state=752,this.match(KI.ParenOpenAsArg),this.state=753,this.expression(),this.state=754,this.match(KI.ParenClose);break;case 95:this.enterOuterAlt(t,3),this.state=756,this.match(KI.BraceOpenAsArg),this.state=762,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,74,this._ctx);2!=n&&n!=HI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=757,this.recordArgField(),this.state=758,this.match(KI.Semicolon)),this.state=764,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,74,this._ctx);this.state=766,this._errHandler.sync(this),39!==(e=this._input.LA(1))&&40!==e||(this.state=765,this.recordArgField()),this.state=768,this.match(KI.BraceClose);break;default:throw new HI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordArgField(){let t=new eQ(this,this._ctx,this.state);this.enterRule(t,112,KI.RULE_recordArgField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=771,this.labelDecl(),this.state=775,this._errHandler.sync(this),e=this._input.LA(1);38===e||39===e||82===e||84===e;)this.state=772,this.termParam(),this.state=777,this._errHandler.sync(this),e=this._input.LA(1);this.state=778,this.match(KI.Assign),this.state=779,this.expression()}catch(e){if(!(e instanceof HI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}KI.EOF=HI.Token.EOF,KI.Whitespaces=1,KI.LineComment=2,KI.BlockComment=3,KI.IntLit=4,KI.StringLit=5,KI.Type=6,KI.Interface=7,KI.Extends=8,KI.ForAll=9,KI.Mu=10,KI.Int=11,KI.Double=12,KI.Bool=13,KI.String=14,KI.Top=15,KI.Bot=16,KI.TraitType=17,KI.Trait=18,KI.Implements=19,KI.Inherits=20,KI.New=21,KI.Fix=22,KI.If=23,KI.Then=24,KI.Else=25,KI.Let=26,KI.LetRec=27,KI.Open=28,KI.In=29,KI.With=30,KI.ToString=31,KI.Fold=32,KI.Unfold=33,KI.Override=34,KI.True_=35,KI.False_=36,KI.Undefined_=37,KI.Underscore=38,KI.LowerId=39,KI.UpperId=40,KI.Unit=41,KI.Backslash=42,KI.SlashBackslash=43,KI.BackslashMinus=44,KI.DoubleBackslashes=45,KI.Arrow=46,KI.FatArrow=47,KI.LeftArrow=48,KI.Intersect=49,KI.Plus=50,KI.Minus=51,KI.Asterisk=52,KI.Slash=53,KI.Modulo=54,KI.Sqrt=55,KI.Not=56,KI.And=57,KI.Or=58,KI.Less=59,KI.Greater=60,KI.LessEqual=61,KI.GreaterEqual=62,KI.Equal=63,KI.NotEqual=64,KI.Length=65,KI.Index=66,KI.Append=67,KI.Forward=68,KI.At=69,KI.Merge=70,KI.LeftistMerge=71,KI.RightistMerge=72,KI.Assign=73,KI.Semicolon=74,KI.Colon=75,KI.Dot=76,KI.DotDot=77,KI.Dollar=78,KI.Question=79,KI.BracketOpen=80,KI.BracketClose=81,KI.BraceOpen=82,KI.BraceClose=83,KI.ParenOpen=84,KI.ParenClose=85,KI.BacktickOpen=86,KI.Command=87,KI.Interpolation=88,KI.NewLine=89,KI.PlainText=90,KI.BracketCloseInDoc=91,KI.BacktickClose=92,KI.BracketOpenAsArg=93,KI.ParenOpenAsArg=94,KI.BraceOpenAsArg=95,KI.CommandAfterCmd=96,KI.InterpolationAfterCmd=97,KI.NewLineAfterCmd=98,KI.PlainTextAfterCmd=99,KI.BracketCloseAfterCmd=100,KI.BacktickCloseAfterCmd=101,KI.RULE_program=0,KI.RULE_definition=1,KI.RULE_interfaceDef=2,KI.RULE_typeDef=3,KI.RULE_termDef=4,KI.RULE_type=5,KI.RULE_btype=6,KI.RULE_atype=7,KI.RULE_recordType=8,KI.RULE_recordTypeField=9,KI.RULE_expression=10,KI.RULE_opexpr=11,KI.RULE_lexpr=12,KI.RULE_lambda=13,KI.RULE_bigLambda=14,KI.RULE_letIn=15,KI.RULE_letRec=16,KI.RULE_openIn=17,KI.RULE_ifElse=18,KI.RULE_trait=19,KI.RULE_newTrait=20,KI.RULE_fixpoint=21,KI.RULE_toStr=22,KI.RULE_fold=23,KI.RULE_unfold=24,KI.RULE_fexpr=25,KI.RULE_excludexpr=26,KI.RULE_renamexpr=27,KI.RULE_dotexpr=28,KI.RULE_aexpr=29,KI.RULE_array=30,KI.RULE_record=31,KI.RULE_recordField=32,KI.RULE_methodPattern=33,KI.RULE_defaultPattern=34,KI.RULE_recordUpdate=35,KI.RULE_typeArg=36,KI.RULE_typeParam=37,KI.RULE_termParam=38,KI.RULE_wildcard=39,KI.RULE_selfAnno=40,KI.RULE_sort=41,KI.RULE_typeNameDecl=42,KI.RULE_typeName=43,KI.RULE_termNameDecl=44,KI.RULE_ctorName=45,KI.RULE_termName=46,KI.RULE_labelDecl=47,KI.RULE_label=48,KI.RULE_document=49,KI.RULE_docElement=50,KI.RULE_command=51,KI.RULE_interpolation=52,KI.RULE_newline=53,KI.RULE_plaintext=54,KI.RULE_docArg=55,KI.RULE_recordArgField=56;class JI extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_program}expression(){return this.getTypedRuleContext(uN,0)}EOF(){return this.getToken(KI.EOF,0)}definition=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof zI?t.visitProgram(this):t.visitChildren(this)}}class tN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_definition}interfaceDef(){return this.getTypedRuleContext(eN,0)}typeDef(){return this.getTypedRuleContext(nN,0)}termDef(){return this.getTypedRuleContext(rN,0)}accept(t){return t instanceof zI?t.visitDefinition(this):t.visitChildren(this)}}class eN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_interfaceDef}Interface(){return this.getToken(KI.Interface,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(UN):this.getTypedRuleContext(UN,t)};recordType(){return this.getTypedRuleContext(lN,0)}Semicolon(){return this.getToken(KI.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Less):this.getToken(KI.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Greater):this.getToken(KI.Greater,t)};Extends(){return this.getToken(KI.Extends,0)}btype(){return this.getTypedRuleContext(sN,0)}accept(t){return t instanceof zI?t.visitInterfaceDef(this):t.visitChildren(this)}}class nN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_typeDef}Type(){return this.getToken(KI.Type,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(UN):this.getTypedRuleContext(UN,t)};Assign(){return this.getToken(KI.Assign,0)}type(){return this.getTypedRuleContext(iN,0)}Semicolon(){return this.getToken(KI.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Less):this.getToken(KI.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Greater):this.getToken(KI.Greater,t)};accept(t){return t instanceof zI?t.visitTypeDef(this):t.visitChildren(this)}}class rN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_termDef}termNameDecl(){return this.getTypedRuleContext(VN,0)}Assign(){return this.getToken(KI.Assign,0)}expression(){return this.getTypedRuleContext(uN,0)}Semicolon(){return this.getToken(KI.Semicolon,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(QN):this.getTypedRuleContext(QN,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}accept(t){return t instanceof zI?t.visitTermDef(this):t.visitChildren(this)}}class iN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_type}ForAll(){return this.getToken(KI.ForAll,0)}Dot(){return this.getToken(KI.Dot,0)}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iN):this.getTypedRuleContext(iN,t)};typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(QN):this.getTypedRuleContext(QN,t)};Mu(){return this.getToken(KI.Mu,0)}typeNameDecl(){return this.getTypedRuleContext(UN,0)}TraitType(){return this.getToken(KI.TraitType,0)}Less(){return this.getToken(KI.Less,0)}Greater(){return this.getToken(KI.Greater,0)}FatArrow(){return this.getToken(KI.FatArrow,0)}btype=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(sN):this.getTypedRuleContext(sN,t)};Intersect(){return this.getToken(KI.Intersect,0)}Backslash(){return this.getToken(KI.Backslash,0)}Arrow(){return this.getToken(KI.Arrow,0)}accept(t){return t instanceof zI?t.visitType(this):t.visitChildren(this)}}class sN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_btype}atype(){return this.getTypedRuleContext(oN,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Less):this.getToken(KI.Less,t)};sort=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(BN):this.getTypedRuleContext(BN,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Greater):this.getToken(KI.Greater,t)};accept(t){return t instanceof zI?t.visitBtype(this):t.visitChildren(this)}}class oN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_atype}Int(){return this.getToken(KI.Int,0)}Double(){return this.getToken(KI.Double,0)}Bool(){return this.getToken(KI.Bool,0)}String(){return this.getToken(KI.String,0)}Top(){return this.getToken(KI.Top,0)}Bot(){return this.getToken(KI.Bot,0)}typeName(){return this.getTypedRuleContext(WN,0)}recordType(){return this.getTypedRuleContext(lN,0)}BracketOpen(){return this.getToken(KI.BracketOpen,0)}type(){return this.getTypedRuleContext(iN,0)}BracketClose(){return this.getToken(KI.BracketClose,0)}ParenOpen(){return this.getToken(KI.ParenOpen,0)}ParenClose(){return this.getToken(KI.ParenClose,0)}accept(t){return t instanceof zI?t.visitAtype(this):t.visitChildren(this)}}class lN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_recordType}BraceOpen(){return this.getToken(KI.BraceOpen,0)}BraceClose(){return this.getToken(KI.BraceClose,0)}recordTypeField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aN):this.getTypedRuleContext(aN,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Semicolon):this.getToken(KI.Semicolon,t)};accept(t){return t instanceof zI?t.visitRecordType(this):t.visitChildren(this)}}class aN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_recordTypeField}labelDecl(){return this.getTypedRuleContext(XN,0)}Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}Question(){return this.getToken(KI.Question,0)}accept(t){return t instanceof zI?t.visitRecordTypeField(this):t.visitChildren(this)}}class uN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_expression}opexpr(){return this.getTypedRuleContext(cN,0)}Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}accept(t){return t instanceof zI?t.visitExpression(this):t.visitChildren(this)}}class cN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_opexpr}lexpr(){return this.getTypedRuleContext(hN,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};Minus(){return this.getToken(KI.Minus,0)}Not(){return this.getToken(KI.Not,0)}Length(){return this.getToken(KI.Length,0)}Sqrt(){return this.getToken(KI.Sqrt,0)}Index(){return this.getToken(KI.Index,0)}Asterisk(){return this.getToken(KI.Asterisk,0)}Slash(){return this.getToken(KI.Slash,0)}Modulo(){return this.getToken(KI.Modulo,0)}Plus(){return this.getToken(KI.Plus,0)}Append(){return this.getToken(KI.Append,0)}Less(){return this.getToken(KI.Less,0)}Greater(){return this.getToken(KI.Greater,0)}LessEqual(){return this.getToken(KI.LessEqual,0)}GreaterEqual(){return this.getToken(KI.GreaterEqual,0)}Equal(){return this.getToken(KI.Equal,0)}NotEqual(){return this.getToken(KI.NotEqual,0)}And(){return this.getToken(KI.And,0)}Or(){return this.getToken(KI.Or,0)}Forward(){return this.getToken(KI.Forward,0)}Merge(){return this.getToken(KI.Merge,0)}LeftistMerge(){return this.getToken(KI.LeftistMerge,0)}RightistMerge(){return this.getToken(KI.RightistMerge,0)}BackslashMinus(){return this.getToken(KI.BackslashMinus,0)}accept(t){return t instanceof zI?t.visitOpexpr(this):t.visitChildren(this)}}class hN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_lexpr}fexpr(){return this.getTypedRuleContext(CN,0)}lambda(){return this.getTypedRuleContext(fN,0)}bigLambda(){return this.getTypedRuleContext(dN,0)}letIn(){return this.getTypedRuleContext(vN,0)}letRec(){return this.getTypedRuleContext(gN,0)}openIn(){return this.getTypedRuleContext(pN,0)}ifElse(){return this.getTypedRuleContext(mN,0)}trait(){return this.getTypedRuleContext(RN,0)}newTrait(){return this.getTypedRuleContext(ON,0)}fixpoint(){return this.getTypedRuleContext(wN,0)}toStr(){return this.getTypedRuleContext(xN,0)}fold(){return this.getTypedRuleContext(yN,0)}unfold(){return this.getTypedRuleContext(bN,0)}accept(t){return t instanceof zI?t.visitLexpr(this):t.visitChildren(this)}}class fN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_lambda}Backslash(){return this.getToken(KI.Backslash,0)}Arrow(){return this.getToken(KI.Arrow,0)}expression(){return this.getTypedRuleContext(uN,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitLambda(this):t.visitChildren(this)}}class dN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_bigLambda}SlashBackslash(){return this.getToken(KI.SlashBackslash,0)}Dot(){return this.getToken(KI.Dot,0)}expression(){return this.getTypedRuleContext(uN,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(QN):this.getTypedRuleContext(QN,t)};accept(t){return t instanceof zI?t.visitBigLambda(this):t.visitChildren(this)}}class vN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_letIn}Let(){return this.getToken(KI.Let,0)}termNameDecl(){return this.getTypedRuleContext(VN,0)}Assign(){return this.getToken(KI.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};In(){return this.getToken(KI.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(QN):this.getTypedRuleContext(QN,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitLetIn(this):t.visitChildren(this)}}class gN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_letRec}LetRec(){return this.getToken(KI.LetRec,0)}termNameDecl(){return this.getTypedRuleContext(VN,0)}Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}Assign(){return this.getToken(KI.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};In(){return this.getToken(KI.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(QN):this.getTypedRuleContext(QN,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitLetRec(this):t.visitChildren(this)}}class pN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_openIn}Open(){return this.getToken(KI.Open,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};In(){return this.getToken(KI.In,0)}accept(t){return t instanceof zI?t.visitOpenIn(this):t.visitChildren(this)}}class mN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_ifElse}If(){return this.getToken(KI.If,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};Then(){return this.getToken(KI.Then,0)}Else(){return this.getToken(KI.Else,0)}accept(t){return t instanceof zI?t.visitIfElse(this):t.visitChildren(this)}}class RN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_trait}Trait(){return this.getToken(KI.Trait,0)}FatArrow(){return this.getToken(KI.FatArrow,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};selfAnno(){return this.getTypedRuleContext($N,0)}Implements(){return this.getToken(KI.Implements,0)}type(){return this.getTypedRuleContext(iN,0)}Inherits(){return this.getToken(KI.Inherits,0)}accept(t){return t instanceof zI?t.visitTrait(this):t.visitChildren(this)}}class ON extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_newTrait}New(){return this.getToken(KI.New,0)}opexpr(){return this.getTypedRuleContext(cN,0)}accept(t){return t instanceof zI?t.visitNewTrait(this):t.visitChildren(this)}}class wN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_fixpoint}Fix(){return this.getToken(KI.Fix,0)}termNameDecl(){return this.getTypedRuleContext(VN,0)}Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}Dot(){return this.getToken(KI.Dot,0)}opexpr(){return this.getTypedRuleContext(cN,0)}accept(t){return t instanceof zI?t.visitFixpoint(this):t.visitChildren(this)}}class xN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_toStr}ToString(){return this.getToken(KI.ToString,0)}dotexpr(){return this.getTypedRuleContext(SN,0)}accept(t){return t instanceof zI?t.visitToStr(this):t.visitChildren(this)}}class yN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_fold}Fold(){return this.getToken(KI.Fold,0)}typeArg(){return this.getTypedRuleContext(NN,0)}dotexpr(){return this.getTypedRuleContext(SN,0)}accept(t){return t instanceof zI?t.visitFold(this):t.visitChildren(this)}}class bN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_unfold}Unfold(){return this.getToken(KI.Unfold,0)}typeArg(){return this.getTypedRuleContext(NN,0)}dotexpr(){return this.getTypedRuleContext(SN,0)}accept(t){return t instanceof zI?t.visitUnfold(this):t.visitChildren(this)}}class CN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_fexpr}ctorName(){return this.getTypedRuleContext(HN,0)}excludexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(kN):this.getTypedRuleContext(kN,t)};typeArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(NN):this.getTypedRuleContext(NN,t)};accept(t){return t instanceof zI?t.visitFexpr(this):t.visitChildren(this)}}class kN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_excludexpr}renamexpr(){return this.getTypedRuleContext(TN,0)}DoubleBackslashes(){return this.getToken(KI.DoubleBackslashes,0)}btype(){return this.getTypedRuleContext(sN,0)}Backslash(){return this.getToken(KI.Backslash,0)}label(){return this.getTypedRuleContext(jN,0)}accept(t){return t instanceof zI?t.visitExcludexpr(this):t.visitChildren(this)}}class TN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_renamexpr}dotexpr(){return this.getTypedRuleContext(SN,0)}BracketOpen(){return this.getToken(KI.BracketOpen,0)}label(){return this.getTypedRuleContext(jN,0)}LeftArrow(){return this.getToken(KI.LeftArrow,0)}labelDecl(){return this.getTypedRuleContext(XN,0)}BracketClose(){return this.getToken(KI.BracketClose,0)}accept(t){return t instanceof zI?t.visitRenamexpr(this):t.visitChildren(this)}}class SN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_dotexpr}aexpr(){return this.getTypedRuleContext(AN,0)}Dot=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Dot):this.getToken(KI.Dot,t)};label=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jN):this.getTypedRuleContext(jN,t)};accept(t){return t instanceof zI?t.visitDotexpr(this):t.visitChildren(this)}}class AN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_aexpr}termName(){return this.getTypedRuleContext(qN,0)}IntLit(){return this.getToken(KI.IntLit,0)}StringLit(){return this.getToken(KI.StringLit,0)}document(){return this.getTypedRuleContext(zN,0)}Unit(){return this.getToken(KI.Unit,0)}True_(){return this.getToken(KI.True_,0)}False_(){return this.getToken(KI.False_,0)}Undefined_(){return this.getToken(KI.Undefined_,0)}array(){return this.getTypedRuleContext(PN,0)}record(){return this.getTypedRuleContext(EN,0)}recordUpdate(){return this.getTypedRuleContext(IN,0)}Dollar(){return this.getToken(KI.Dollar,0)}ctorName(){return this.getTypedRuleContext(HN,0)}ParenOpen(){return this.getToken(KI.ParenOpen,0)}expression(){return this.getTypedRuleContext(uN,0)}ParenClose(){return this.getToken(KI.ParenClose,0)}accept(t){return t instanceof zI?t.visitAexpr(this):t.visitChildren(this)}}class PN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_array}BracketOpen(){return this.getToken(KI.BracketOpen,0)}BracketClose(){return this.getToken(KI.BracketClose,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Semicolon):this.getToken(KI.Semicolon,t)};accept(t){return t instanceof zI?t.visitArray(this):t.visitChildren(this)}}class EN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_record}BraceOpen(){return this.getToken(KI.BraceOpen,0)}BraceClose(){return this.getToken(KI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Semicolon):this.getToken(KI.Semicolon,t)};recordField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(_N):this.getTypedRuleContext(_N,t)};methodPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(LN):this.getTypedRuleContext(LN,t)};defaultPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(DN):this.getTypedRuleContext(DN,t)};accept(t){return t instanceof zI?t.visitRecord(this):t.visitChildren(this)}}class _N extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_recordField}labelDecl(){return this.getTypedRuleContext(XN,0)}Assign(){return this.getToken(KI.Assign,0)}expression(){return this.getTypedRuleContext(uN,0)}Override(){return this.getToken(KI.Override,0)}selfAnno(){return this.getTypedRuleContext($N,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitRecordField(this):t.visitChildren(this)}}class LN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_methodPattern}ParenOpen(){return this.getToken(KI.ParenOpen,0)}labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(XN):this.getTypedRuleContext(XN,t)};ParenClose(){return this.getToken(KI.ParenClose,0)}Dot(){return this.getToken(KI.Dot,0)}Assign(){return this.getToken(KI.Assign,0)}expression(){return this.getTypedRuleContext(uN,0)}Override(){return this.getToken(KI.Override,0)}selfAnno(){return this.getTypedRuleContext($N,0)}At(){return this.getToken(KI.At,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitMethodPattern(this):t.visitChildren(this)}}class DN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_defaultPattern}Dot(){return this.getToken(KI.Dot,0)}labelDecl(){return this.getTypedRuleContext(XN,0)}Assign(){return this.getToken(KI.Assign,0)}expression(){return this.getTypedRuleContext(uN,0)}Underscore(){return this.getToken(KI.Underscore,0)}selfAnno(){return this.getTypedRuleContext($N,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitDefaultPattern(this):t.visitChildren(this)}}class IN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_recordUpdate}BraceOpen(){return this.getToken(KI.BraceOpen,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};With(){return this.getToken(KI.With,0)}BraceClose(){return this.getToken(KI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Semicolon):this.getToken(KI.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(XN):this.getTypedRuleContext(XN,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Assign):this.getToken(KI.Assign,t)};accept(t){return t instanceof zI?t.visitRecordUpdate(this):t.visitChildren(this)}}class NN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_typeArg}At(){return this.getToken(KI.At,0)}btype(){return this.getTypedRuleContext(sN,0)}accept(t){return t instanceof zI?t.visitTypeArg(this):t.visitChildren(this)}}class QN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_typeParam}typeNameDecl(){return this.getTypedRuleContext(UN,0)}ParenOpen(){return this.getToken(KI.ParenOpen,0)}Asterisk(){return this.getToken(KI.Asterisk,0)}type(){return this.getTypedRuleContext(iN,0)}ParenClose(){return this.getToken(KI.ParenClose,0)}accept(t){return t instanceof zI?t.visitTypeParam(this):t.visitChildren(this)}}class MN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_termParam}termNameDecl(){return this.getTypedRuleContext(VN,0)}Underscore(){return this.getToken(KI.Underscore,0)}ParenOpen(){return this.getToken(KI.ParenOpen,0)}Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}ParenClose(){return this.getToken(KI.ParenClose,0)}wildcard(){return this.getTypedRuleContext(FN,0)}accept(t){return t instanceof zI?t.visitTermParam(this):t.visitChildren(this)}}class FN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_wildcard}BraceOpen(){return this.getToken(KI.BraceOpen,0)}DotDot(){return this.getToken(KI.DotDot,0)}BraceClose(){return this.getToken(KI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Semicolon):this.getToken(KI.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(XN):this.getTypedRuleContext(XN,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Assign):this.getToken(KI.Assign,t)};expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};accept(t){return t instanceof zI?t.visitWildcard(this):t.visitChildren(this)}}class $N extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_selfAnno}BracketOpen(){return this.getToken(KI.BracketOpen,0)}termNameDecl(){return this.getTypedRuleContext(VN,0)}BracketClose(){return this.getToken(KI.BracketClose,0)}Colon(){return this.getToken(KI.Colon,0)}type(){return this.getTypedRuleContext(iN,0)}accept(t){return t instanceof zI?t.visitSelfAnno(this):t.visitChildren(this)}}class BN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_sort}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iN):this.getTypedRuleContext(iN,t)};FatArrow(){return this.getToken(KI.FatArrow,0)}accept(t){return t instanceof zI?t.visitSort(this):t.visitChildren(this)}}class UN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_typeNameDecl}UpperId(){return this.getToken(KI.UpperId,0)}accept(t){return t instanceof zI?t.visitTypeNameDecl(this):t.visitChildren(this)}}class WN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_typeName}UpperId(){return this.getToken(KI.UpperId,0)}accept(t){return t instanceof zI?t.visitTypeName(this):t.visitChildren(this)}}class VN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_termNameDecl}LowerId(){return this.getToken(KI.LowerId,0)}accept(t){return t instanceof zI?t.visitTermNameDecl(this):t.visitChildren(this)}}class HN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_ctorName}UpperId(){return this.getToken(KI.UpperId,0)}accept(t){return t instanceof zI?t.visitCtorName(this):t.visitChildren(this)}}class qN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_termName}LowerId(){return this.getToken(KI.LowerId,0)}UpperId(){return this.getToken(KI.UpperId,0)}accept(t){return t instanceof zI?t.visitTermName(this):t.visitChildren(this)}}class XN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_labelDecl}LowerId(){return this.getToken(KI.LowerId,0)}UpperId(){return this.getToken(KI.UpperId,0)}accept(t){return t instanceof zI?t.visitLabelDecl(this):t.visitChildren(this)}}class jN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_label}LowerId(){return this.getToken(KI.LowerId,0)}UpperId(){return this.getToken(KI.UpperId,0)}accept(t){return t instanceof zI?t.visitLabel(this):t.visitChildren(this)}}class zN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_document}BacktickOpen(){return this.getToken(KI.BacktickOpen,0)}BacktickClose(){return this.getToken(KI.BacktickClose,0)}BacktickCloseAfterCmd(){return this.getToken(KI.BacktickCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(YN):this.getTypedRuleContext(YN,t)};accept(t){return t instanceof zI?t.visitDocument(this):t.visitChildren(this)}}class YN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_docElement}command(){return this.getTypedRuleContext(GN,0)}interpolation(){return this.getTypedRuleContext(ZN,0)}newline(){return this.getTypedRuleContext(KN,0)}plaintext(){return this.getTypedRuleContext(JN,0)}accept(t){return t instanceof zI?t.visitDocElement(this):t.visitChildren(this)}}class GN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_command}Command(){return this.getToken(KI.Command,0)}CommandAfterCmd(){return this.getToken(KI.CommandAfterCmd,0)}typeArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(NN):this.getTypedRuleContext(NN,t)};docArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tQ):this.getTypedRuleContext(tQ,t)};accept(t){return t instanceof zI?t.visitCommand(this):t.visitChildren(this)}}class ZN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_interpolation}expression(){return this.getTypedRuleContext(uN,0)}ParenClose(){return this.getToken(KI.ParenClose,0)}Interpolation(){return this.getToken(KI.Interpolation,0)}InterpolationAfterCmd(){return this.getToken(KI.InterpolationAfterCmd,0)}accept(t){return t instanceof zI?t.visitInterpolation(this):t.visitChildren(this)}}class KN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_newline}NewLine(){return this.getToken(KI.NewLine,0)}NewLineAfterCmd(){return this.getToken(KI.NewLineAfterCmd,0)}accept(t){return t instanceof zI?t.visitNewline(this):t.visitChildren(this)}}class JN extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_plaintext}PlainText(){return this.getToken(KI.PlainText,0)}PlainTextAfterCmd(){return this.getToken(KI.PlainTextAfterCmd,0)}accept(t){return t instanceof zI?t.visitPlaintext(this):t.visitChildren(this)}}class tQ extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_docArg}BracketOpenAsArg(){return this.getToken(KI.BracketOpenAsArg,0)}BracketCloseInDoc(){return this.getToken(KI.BracketCloseInDoc,0)}BracketCloseAfterCmd(){return this.getToken(KI.BracketCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(YN):this.getTypedRuleContext(YN,t)};ParenOpenAsArg(){return this.getToken(KI.ParenOpenAsArg,0)}expression(){return this.getTypedRuleContext(uN,0)}ParenClose(){return this.getToken(KI.ParenClose,0)}BraceOpenAsArg(){return this.getToken(KI.BraceOpenAsArg,0)}BraceClose(){return this.getToken(KI.BraceClose,0)}recordArgField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(eQ):this.getTypedRuleContext(eQ,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(KI.Semicolon):this.getToken(KI.Semicolon,t)};accept(t){return t instanceof zI?t.visitDocArg(this):t.visitChildren(this)}}class eQ extends HI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=KI.RULE_recordArgField}labelDecl(){return this.getTypedRuleContext(XN,0)}Assign(){return this.getToken(KI.Assign,0)}expression(){return this.getTypedRuleContext(uN,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(MN):this.getTypedRuleContext(MN,t)};accept(t){return t instanceof zI?t.visitRecordArgField(this):t.visitChildren(this)}}KI.ProgramContext=JI,KI.DefinitionContext=tN,KI.InterfaceDefContext=eN,KI.TypeDefContext=nN,KI.TermDefContext=rN,KI.TypeContext=iN,KI.BtypeContext=sN,KI.AtypeContext=oN,KI.RecordTypeContext=lN,KI.RecordTypeFieldContext=aN,KI.ExpressionContext=uN,KI.OpexprContext=cN,KI.LexprContext=hN,KI.LambdaContext=fN,KI.BigLambdaContext=dN,KI.LetInContext=vN,KI.LetRecContext=gN,KI.OpenInContext=pN,KI.IfElseContext=mN,KI.TraitContext=RN,KI.NewTraitContext=ON,KI.FixpointContext=wN,KI.ToStrContext=xN,KI.FoldContext=yN,KI.UnfoldContext=bN,KI.FexprContext=CN,KI.ExcludexprContext=kN,KI.RenamexprContext=TN,KI.DotexprContext=SN,KI.AexprContext=AN,KI.ArrayContext=PN,KI.RecordContext=EN,KI.RecordFieldContext=_N,KI.MethodPatternContext=LN,KI.DefaultPatternContext=DN,KI.RecordUpdateContext=IN,KI.TypeArgContext=NN,KI.TypeParamContext=QN,KI.TermParamContext=MN,KI.WildcardContext=FN,KI.SelfAnnoContext=$N,KI.SortContext=BN,KI.TypeNameDeclContext=UN,KI.TypeNameContext=WN,KI.TermNameDeclContext=VN,KI.CtorNameContext=HN,KI.TermNameContext=qN,KI.LabelDeclContext=XN,KI.LabelContext=jN,KI.DocumentContext=zN,KI.DocElementContext=YN,KI.CommandContext=GN,KI.InterpolationContext=ZN,KI.NewlineContext=KN,KI.PlaintextContext=JN,KI.DocArgContext=tQ,KI.RecordArgFieldContext=eQ;class nQ extends zI{listify(t){let e=rR.value;for(const n of t.reverse())e=new iR(n,e);return e}visitProgram(t){const e=this.listify(t.definition().map(this.visitDefinition,this)),n=this.visitExpression(t.expression());return new xA(e,n)}visitDefinition(t){const e=t.typeDef(),n=t.termDef(),r=t.interfaceDef();return e?this.visitTypeDef(e):n?this.visitTermDef(n):this.visitInterfaceDef(r)}visitInterfaceDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=t.Extends()?new SS(this.visitBtype(t.btype())):TS.value,l=this.visitRecordType(t.recordType());return new OA(o,n,i,s,l)}visitTypeDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=this.visitType(t.type());return new OA(kS.value,n,i,s,o)}visitTermDef(t){const e=this.visitTermNameDecl(t.termNameDecl()),n=this.listify(t.typeParam().map(this.visitTypeParam,this)),r=this.listify(t.termParam().map(this.visitTermParam,this)),i=t.type()?new cg(this.visitType(t.type())):ug.value,s=this.visitExpression(t.expression());return new wA(e,n,r,i,s)}visitType(t){if(t.Intersect())return new dS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Arrow())return new fS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Backslash())return new CS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Mu())return new mS(this.visitTypeNameDecl(t.typeNameDecl()),this.visitType(t.type(0)));if(t.ForAll())return new pS(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitType(t.type(0)));if(t.TraitType()){let e,n;return t.FatArrow()?(e=new cg(this.visitType(t.type(0))),n=this.visitType(t.type(1))):(e=ug.value,n=this.visitType(t.type(0))),new wS(e,n)}{let e=this.visitBtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++)e=new RS(e,this.visitBtype(t.getChild(n)));return e}}visitBtype(t){let e=this.visitAtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++){const r=t.getChild(n);r.ruleIndex===KI.RULE_sort&&(e=new RS(e,this.visitSort(r)))}return e}visitAtype(t){if(t.getChild(0).symbol)switch(t.getChild(0).symbol.type){case KI.Int:return oS.value;case KI.Double:return lS.value;case KI.Bool:return uS.value;case KI.String:return aS.value;case KI.Top:return cS.value;case KI.Bot:return hS.value;case KI.BracketOpen:return new bS(this.visitType(t.type()));case KI.ParenOpen:return this.visitType(t.type());default:console.error("Error at Atype")}else switch(t.getChild(0).ruleIndex){case KI.RULE_typeName:return this.visitTypeName(t.typeName());case KI.RULE_recordType:return this.visitRecordType(t.recordType());default:console.error("Error at Atype")}}visitRecordType(t){return new vS(this.listify(t.recordTypeField().map(this.visitRecordTypeField,this)))}visitRecordTypeField(t){return new sS(this.visitLabelDecl(t.labelDecl()),this.visitType(t.type()),null!==t.Question())}visitExpression(t){const e={line:t.start.line,column:t.start.column},n=this.visitOpexpr(t.opexpr());let r;return r=t.Colon()?new HS(n,this.visitType(t.type())):n,new dA(e,r)}visitOpexpr(t){let e;switch(t.getChildCount()){case 1:return this.visitLexpr(t.lexpr());case 2:switch(t.getChild(0).symbol.type){case KI.Minus:e=aO.value;break;case KI.Not:e=uO.value;break;case KI.Length:e=cO.value;break;case KI.Sqrt:e=hO.value;break;default:console.error("Error at Unary Opexpr")}return new MS(e,this.visitOpexpr(t.opexpr(0)));default:const n=this.visitOpexpr(t.opexpr(0)),r=this.visitOpexpr(t.opexpr(1));switch(t.getChild(1).symbol.type){case KI.Index:e=PO.value;break;case KI.Asterisk:e=new kO(yO.value);break;case KI.Slash:e=new kO(bO.value);break;case KI.Modulo:e=new kO(CO.value);break;case KI.Plus:e=new kO(wO.value);break;case KI.Minus:e=new kO(xO.value);break;case KI.Append:e=AO.value;break;case KI.Less:e=new TO(pO.value);break;case KI.Greater:e=new TO(RO.value);break;case KI.LessEqual:e=new TO(mO.value);break;case KI.GreaterEqual:e=new TO(OO.value);break;case KI.Equal:e=new TO(vO.value);break;case KI.NotEqual:e=new TO(gO.value);break;case KI.And:e=new SO(fO.value);break;case KI.Or:e=new SO(dO.value);break;case KI.Forward:return new rA(n,r);case KI.Merge:return new qS(AS.value,n,r);case KI.LeftistMerge:return new qS(PS.value,n,r);case KI.RightistMerge:return new qS(ES.value,n,r);case KI.BackslashMinus:return new oA(n,r);default:console.error("Error at Binary Opexpr")}return new FS(e,n,r)}}visitLexpr(t){switch(t.getChild(0).ruleIndex){case KI.RULE_fexpr:return this.visitFexpr(t.fexpr());case KI.RULE_lambda:return this.visitLambda(t.lambda());case KI.RULE_bigLambda:return this.visitBigLambda(t.bigLambda());case KI.RULE_letIn:return this.visitLetIn(t.letIn());case KI.RULE_letRec:return this.visitLetRec(t.letRec());case KI.RULE_openIn:return this.visitOpenIn(t.openIn());case KI.RULE_ifElse:return this.visitIfElse(t.ifElse());case KI.RULE_trait:return this.visitTrait(t.trait());case KI.RULE_newTrait:return this.visitNewTrait(t.newTrait());case KI.RULE_fixpoint:return this.visitFixpoint(t.fixpoint());case KI.RULE_toStr:return this.visitToStr(t.toStr());case KI.RULE_fold:return this.visitFold(t.fold());case KI.RULE_unfold:return this.visitUnfold(t.unfold());default:console.error("Error at Lexpr")}}visitLambda(t){return new WS(this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression()))}visitBigLambda(t){return new GS(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitExpression(t.expression()))}visitLetIn(t){return new ZS(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitLetRec(t){return new KS(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitType(t.type()),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitOpenIn(t){return new JS(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitIfElse(t){return new $S(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)),this.visitExpression(t.expression(2)))}visitTrait(t){return new eA(t.selfAnno()?new cg(this.visitSelfAnno(t.selfAnno())):ug.value,t.type()?new cg(this.visitType(t.type())):ug.value,2===t.opexpr().length?new cg(this.visitOpexpr(t.opexpr(0))):ug.value,2===t.opexpr().length?this.visitOpexpr(t.opexpr(1)):this.visitOpexpr(t.opexpr(0)))}visitNewTrait(t){return new nA(this.visitOpexpr(t.opexpr()))}visitFixpoint(t){return new VS(this.visitTermNameDecl(t.termNameDecl()),this.visitOpexpr(t.opexpr()),this.visitType(t.type()))}visitToStr(t){return new cA(this.visitDotexpr(t.dotexpr()))}visitFold(t){return new aA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitUnfold(t){return new uA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitFexpr(t){const e=t.getChild(0);let n,r;switch(e.ruleIndex){case KI.RULE_ctorName:n=new BS(this.visitCtorName(e)),r=!0;break;case KI.RULE_excludexpr:n=this.visitExcludexpr(e),r=!1;break;default:console.error("Error at Fexpr")}for(let e=1;e<t.getChildCount();e++){const r=t.getChild(e);n=r.ruleIndex===KI.RULE_excludexpr?new US(n,this.visitExcludexpr(r)):new YS(n,this.visitTypeArg(r))}return r?new nA(n):n}visitExcludexpr(t){const e=this.visitRenamexpr(t.renamexpr());return t.DoubleBackslashes()?new iA(e,this.visitBtype(t.btype())):t.Backslash()?new sA(e,this.visitLabel(t.label())):e}visitRenamexpr(t){const e=this.visitDotexpr(t.dotexpr());return t.label()?new lA(e,this.visitLabel(t.label()),this.visitLabelDecl(t.labelDecl())):e}visitDotexpr(t){let e=this.visitAexpr(t.aexpr());for(let n=0;n<t.label().length;n++)e=new jS(e,this.visitLabel(t.label(n)));return e}visitAexpr(t){let e=t.getChild(0);switch(e.ruleIndex){case KI.RULE_termName:return this.visitTermName(t.termName());case KI.RULE_document:return this.visitDocument(t.document());case KI.RULE_array:return this.visitArray(t.array());case KI.RULE_record:return this.visitRecord(t.record());case KI.RULE_recordUpdate:return this.visitRecordUpdate(t.recordUpdate());default:switch(e.symbol.type){case KI.IntLit:let n=e.getText();return n.includes(".")||n.includes("e")||n.includes("E")?new LS(parseFloat(n)):"Xx".includes(n[1])?new _S(parseInt(n.slice(2),16)):"Oo".includes(n[1])?new _S(parseInt(n.slice(2),8)):new _S(parseInt(n));case KI.StringLit:const r="'\"\\bfnrtv",i="'\"\\\b\f\n\r\t\v",s=e.getText().slice(1,-1);let o="";for(let t=0;t<s.length;t++)if("\\"==s[t]){t++;for(let e=0;e<r.length;e++)s[t]===r[e]&&(o+=i[e])}else o+=s[t];return new DS(o);case KI.Unit:return NS.value;case KI.True_:return new IS(!0);case KI.False_:return new IS(!1);case KI.Undefined_:return QS.value;case KI.Dollar:return new BS(this.visitCtorName(t.ctorName()));case KI.ParenOpen:return this.visitExpression(t.expression());default:console.error("error at Aexpr")}}}visitArray(t){return new hA(t.expression().map(this.visitExpression,this))}visitRecord(t){const e=[];for(let n=0;n<t.getChildCount();n++){let r=t.getChild(n);switch(r.ruleIndex){case KI.RULE_recordField:e.push(this.visitRecordField(r));break;case KI.RULE_methodPattern:e.push(this.visitMethodPattern(r));break;case KI.RULE_defaultPattern:e.push(this.visitDefaultPattern(r));break;default:continue}}return new XS(this.listify(e))}visitRecordField(t){return new pA(null!==t.Override(),this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),new yg(this.visitExpression(t.expression())))}visitRecordUpdate(t){const e=[];for(let n=0;n<t.labelDecl().length;n++)e.push(new tp(this.visitLabelDecl(t.labelDecl(n)),this.visitExpression(t.expression(n+1))));return new tA(this.visitExpression(t.expression(0)),this.listify(e))}visitMethodPattern(t){let e=[],n=[],r=!1;for(let i=0;i<t.getChildCount();i++)t.getChild(i).symbol&&t.getChild(i).symbol.type===KI.Dot&&(r=!0),t.getChild(i).ruleIndex===KI.RULE_termParam&&(r?n.push(this.visitTermParam(t.getChild(i))):e.push(this.visitTermParam(t.getChild(i))));return new pA(null!==t.Override(),this.visitLabelDecl(t.labelDecl(0)),this.listify(e),new bg(new RA(t.selfAnno()?new cg(this.visitSelfAnno(t.selfAnno())):ug.value,this.visitLabelDecl(t.labelDecl(1)),this.listify(n),this.visitExpression(t.expression()))))}visitDefaultPattern(t){return new mA(new RA(t.selfAnno()?new cg(this.visitSelfAnno(t.selfAnno())):ug.value,this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression())))}visitTypeArg(t){return this.visitBtype(t.btype())}visitTypeParam(t){return new tp(this.visitTypeNameDecl(t.typeNameDecl()),t.type()?new cg(this.visitType(t.type())):ug.value)}visitTermParam(t){switch(t.getChildCount()){case 1:switch(t.getChild(0).ruleIndex){case KI.RULE_termNameDecl:return new vA(this.visitTermNameDecl(t.termNameDecl()),ug.value);case KI.RULE_Underscore:return new vA("_",ug.value);case KI.RULE_wildcard:return this.visitWildcard(t.wildcard());default:console.error("Error at TermParam")}case 5:return new vA(null===t.termNameDecl()?"_":this.visitTermNameDecl(t.termNameDecl()),new cg(this.visitType(t.type())));default:console.error("Error at TermParam")}}visitWildcard(t){const e=t.labelDecl().map(this.visitLabelDecl,this),n=t.expression().map(this.visitExpression,this),r=[];for(let t=0;t<e.length;t++)r.push(new tp(e[t],n[t]));return new gA(this.listify(r))}visitSelfAnno(t){return new tp(this.visitTermNameDecl(t.termNameDecl()),t.type()?new cg(this.visitType(t.type())):ug.value)}visitSort(t){let e,n;return t.FatArrow()?(e=this.visitType(t.type(0)),n=new cg(this.visitType(t.type(1)))):(e=this.visitType(t.type(0)),n=ug.value),new xS(e,n)}visitTypeNameDecl(t){return t.getText()}visitTypeName(t){return new gS(t.getText())}visitTermNameDecl(t){return t.getText()}visitCtorName(t){return t.getText()}visitTermName(t){switch(t.getChild(0).symbol.type){case KI.LowerId:return new BS(t.getText());case KI.UpperId:return new nA(new BS(t.getText()));default:console.error("Error at TermName")}}visitLabelDecl(t){return t.getText()}visitLabel(t){return t.getText()}visitDocument(t){const e={line:t.start.line,column:t.start.column},n=t.docElement();let r;if(0===n.length)r=new nA(new US(new BS("Str"),new DS("")));else{r=this.visitDocElement(n[0]);for(const t of n.slice(1))r=new nA(new US(new US(new BS("Comp"),r),this.visitDocElement(t)))}return new dA(e,new fA(r))}visitDocElement(t){const e=t.getChild(0);switch(e.ruleIndex){case KI.RULE_command:return this.visitCommand(e);case KI.RULE_interpolation:return this.visitInterpolation(e);case KI.RULE_newline:return this.visitNewline(e);case KI.RULE_plaintext:return this.visitPlaintext(e);default:console.error("Error at DocElement")}}visitCommand(t){const e={line:t.start.line,column:t.start.column},n=t.getChild(0).getText().slice(1),r=t.typeArg().map(this.visitTypeArg,this),i=t.docArg().map(this.visitDocArg,this);let s=new BS(n);for(const t of r)s=new YS(s,t);for(const t of i)s=new US(s,t);return n[0].toUpperCase()===n[0]?new dA(e,new nA(s)):new dA(e,s)}visitInterpolation(t){return new nA(new US(new BS("Str"),new cA(this.visitExpression(t.expression()))))}visitNewline(t){return new nA(new BS("Endl"))}visitPlaintext(t){return new nA(new US(new BS("Str"),new DS(t.getText())))}visitDocArg(t){switch(t.getChild(0).symbol.type){case KI.BracketOpenAsArg:return this.visitDocument(t);case KI.ParenOpenAsArg:return this.visitExpression(t.expression());case KI.BraceOpenAsArg:return new XS(this.listify(t.recordArgField().map(this.visitRecordArgField,this)));default:console.error("Error at DocArg")}}visitRecordArgField(t){const e=this.listify(t.termParam().map(this.visitTermParam,this));return new pA(!1,this.visitLabelDecl(t.labelDecl()),e,new yg(this.visitExpression(t.expression())))}}class rQ extends jI{constructor(t){super(t)}popMode(){return 0===this._modeStack.length?(this._interp.debug&&console.log("Mode stack is empty. Mode remains unchanged."),this._mode):(this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode)}}class iQ extends HI.error.ErrorListener{constructor(){super()}syntaxError(t,e,n,r,i,s){throw"SyntaxError at line "+n+":"+r+"\n"+i.charAt(0).toUpperCase()+i.slice(1)}}const sQ=new class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}(Wl.define({parser:Yd.configure({props:[sa.add({RecordType:fa(),Record:fa()}),va.add({RecordType:t=>({from:t.from+1,to:t.to-1}),Record:t=>({from:t.from+1,to:t.to-1}),Document:t=>({from:t.from+1,to:t.to-1})}),vl({"type interface extends let letrec trait implements inherits":Nl.definitionKeyword,"if then else new fix open in with toString fold unfold forall mu Int Double Bool String Top Bot Trait":Nl.keyword,override:Nl.modifier,"true false undefined":Nl.atom,Unit:Nl.unit,TermName:Nl.variableName,TermNameDecl:Nl.definition(Nl.variableName),Label:Nl.propertyName,LabelDecl:Nl.definition(Nl.propertyName),LineComment:Nl.lineComment,BlockComment:Nl.blockComment,Number:Nl.number,String:Nl.string,Document:Nl.docString,TypeOp:Nl.typeOperator,ArithOp:Nl.arithmeticOperator,LogicOp:Nl.logicOperator,CompareOp:Nl.compareOperator,MergeOp:Nl.operator,TraitArrow:Nl.definition(Nl.punctuation),"( )":Nl.paren,"{ }":Nl.brace,"[ ]":Nl.squareBracket,"< >":Nl.angleBracket,".":Nl.derefOperator,";":Nl.separator})]}),languageData:{closeBrackets:{brackets:["{","(","[",'"',"`"]},commentTokens:{line:"--",block:{open:"{-",close:"-}"}}}})),oQ=new J;function lQ(t,e){const n={key:"Mod-Enter",run:()=>(e(),!0)};return Tt.create({doc:t,extensions:[Wi.lineWrapping,Tt.tabSize.of(2),Gi.of([Hc,n]),oQ.of([]),bd]})}function aQ(t,e){return new Wi({state:t,parent:e})}function uQ(t){return $I(function(t){const e=new HI.InputStream(t),n=new rQ(e);n.removeErrorListeners(),n.addErrorListener(new iQ);const r=new HI.CommonTokenStream(n),i=new KI(r);return i.buildParseTrees=!0,i.removeErrorListeners(),i.addErrorListener(new iQ),i.program().accept(new nQ)}(t))()}bundle=e})();