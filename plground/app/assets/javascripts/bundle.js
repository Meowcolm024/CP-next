var bundle;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{cp:()=>yN,editorState:()=>kN,editorView:()=>CN,interpret:()=>TN,language:()=>bN});class n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=h(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),i.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=h(this,t,e);let n=[];return this.decompose(t,e,n,0),i.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new l(this),i=new l(t);for(let t=e,s=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(t=1){return new l(this,t)}iterRange(t,e=this.length){return new a(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):i.from(r.split(t,[])):n.empty}}class r extends n{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.text[i],o=r+s.length;if((e?n:o)>=t)return new c(r,o,n,s);r=o+1,n++}}decompose(t,e,n,i){let l=t<=0&&e>=this.length?this:new r(o(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=s(l.text,t.text.slice(),0,l.length);if(e.length<=32)n.push(new r(e,t.length+l.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(l)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);[t,e]=h(this,t,e);let l=s(this.text,s(n.text,o(this.text,0,t)),e),a=this.length+n.length-(e-t);return l.length<=32?new r(l,a):i.from(r.split(l,[]),a)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<=e&&s<this.text.length;s++){let o=this.text[s],l=i+o.length;i>t&&s&&(r+=n),t<l&&e>i&&(r+=o.slice(Math.max(0,t-i),e-i)),i=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let s of t)n.push(s),i+=s.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class i extends n{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.children[i],o=r+s.length,l=n+s.lines-1;if((e?l:o)>=t)return s.lineInner(t,e,n,r);r=o+1,n=l+1}}decompose(t,e,n,r){for(let i=0,s=0;s<=e&&i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(t<=l&&e>=s){let i=r&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!i?n.push(o):o.decompose(t-s,e-s,n,i)}s=l+1}}replace(t,e,n){if([t,e]=h(this,t,e),n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(t>=s&&e<=l){let a=o.replace(t-s,e-s,n),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let s=this.children.slice();return s[r]=a,new i(s,this.length-(e-t)+n.length)}return super.replace(s,l,a)}s=l+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<this.children.length&&s<=e;i++){let o=this.children[i],l=s+o.length;s>t&&i&&(r+=n),t<l&&e>s&&(r+=o.sliceString(t-s,e-s,n)),s=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof i))return 0;let n=0,[r,s,o,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,s+=e){if(r==o||s==l)return n;let i=this.children[r],a=t.children[s];if(i!=a)return n+i.scanIdentical(a,e);n+=i.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let s=Math.max(32,n>>5),o=s<<1,l=s>>1,a=[],u=0,c=-1,h=[];function f(t){let e;if(t.lines>o&&t instanceof i)for(let e of t.children)f(e);else t.lines>l&&(u>l||!u)?(d(),a.push(t)):t instanceof r&&u&&(e=h[h.length-1])instanceof r&&t.lines+e.lines<=32?(u+=t.lines,c+=t.length+1,h[h.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(u+t.lines>s&&d(),u+=t.lines,c+=t.length+1,h.push(t))}function d(){0!=u&&(a.push(1==h.length?h[0]:i.from(h,c)),c=-1,u=h.length=0)}for(let e of t)f(e);return d(),1==a.length?a[0]:new i(a,e)}}function s(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let l=t[s],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function o(t,e,n){return s(t,[""],e,n)}n.empty=new r([""],0);class l{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof r?i.text.length:i.children.length;if(o==(e>0?l:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=i.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class a{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new l(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=a.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class c{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function h(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}let f="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<f.length;t++)f[t]+=f[t-1];function d(t){for(let e=1;e<f.length;e+=2)if(f[e]>t)return f[e-1]<=t;return!1}function v(t){return t>=127462&&t<=127487}const g=8205;function p(t,e,n=!0,r=!0){return(n?m:R)(t,e,r)}function m(t,e,n){if(e==t.length)return e;e&&O(t.charCodeAt(e))&&w(t.charCodeAt(e-1))&&e--;let r=x(t,e);for(e+=b(r);e<t.length;){let i=x(t,e);if(r==g||i==g||n&&d(i))e+=b(i),r=i;else{if(!v(i))break;{let n=0,r=e-2;for(;r>=0&&v(x(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function R(t,e,n){for(;e>0;){let r=m(t,e-2,n);if(r<e)return r;e--}return 0}function O(t){return t>=56320&&t<57344}function w(t){return t>=55296&&t<56320}function x(t,e){let n=t.charCodeAt(e);if(!w(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return O(r)?r-56320+(n-55296<<10)+65536:n}function y(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function b(t){return t<65536?1:2}const k=/\r\n?|\n/;var C=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(C||(C={}));class T{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];s<0?(t(n,r,i),r+=i):r+=s,n+=i}}iterChangedRanges(t,e=!1){_(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new T(t)}composeDesc(t){return this.empty?t:t.empty?this:L(this,t)}mapDesc(t,e=!1){return t.empty?this:E(this,t,e)}mapPos(t,e=-1,n=C.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],a=r+o;if(l<0){if(a>t)return i+(t-r);i+=o}else{if(n!=C.Simple&&a>=t&&(n==C.TrackDel&&r<t&&a>t||n==C.TrackBefore&&r<t||n==C.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!o)return t==r||e<0?i:i+l;i+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new T(t)}static create(t){return new T(t)}}class S extends T{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return _(this,((e,n,r,i,s)=>t=t.replace(r,r+(n-e),s)),!1),t}mapDesc(t,e=!1){return E(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,s=0;i<e.length;i+=2){let o=e[i],l=e[i+1];if(l>=0){e[i]=l,e[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(n.empty);r.push(o?t.slice(s,s+o):n.empty)}s+=o}return new S(e,r)}compose(t){return this.empty?t:t.empty?this:L(this,t,!0)}map(t,e=!1){return t.empty?this:E(this,t,e,!0)}iterChanges(t,e=!1){_(this,t,e)}get desc(){return T.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new D(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,l-o);A(r,t,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;A(e,t,s),s>0&&P(n,e,i.text),i.forward(t),o+=t}let a=t[s++];for(;o<a;){if(i.done)break t;let t=Math.min(i.len,a-o);A(e,t,-1),A(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),o+=t}}return{changes:new S(e,n),filtered:T.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],s=[],o=0,l=null;function a(t=!1){if(!t&&!i.length)return;o<e&&A(i,e-o,-1);let n=new S(i,s);l=l?l.compose(n.map(l)):n,i=[],s=[],o=0}return function t(u){if(Array.isArray(u))for(let e of u)t(e);else if(u instanceof S){if(u.length!=e)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${e})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:t,to:l=t,insert:c}=u;if(t>l||t<0||l>e)throw new RangeError(`Invalid change range ${t} to ${l} (in doc of length ${e})`);let h=c?"string"==typeof c?n.of(c.split(r||k)):c:n.empty,f=h.length;if(t==l&&0==f)return;t<o&&a(),t>o&&A(i,t-o,-1),A(i,l-t,f),P(s,i,h),o=l}}(t),a(!l),l}static empty(t){return new S(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let s=t[i];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{for(;r.length<i;)r.push(n.empty);r[i]=n.of(s.slice(1)),e.push(s[0],r[i].length)}}}return new S(e,r)}static createSet(t,e){return new S(t,e)}}function A(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function P(t,e,r){if(0==r.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<i;)t.push(n.empty);t.push(r)}}function _(t,e,r){let i=t.inserted;for(let s=0,o=0,l=0;l<t.sections.length;){let a=t.sections[l++],u=t.sections[l++];if(u<0)s+=a,o+=a;else{let c=s,h=o,f=n.empty;for(;c+=a,h+=u,u&&i&&(f=f.append(i[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)a=t.sections[l++],u=t.sections[l++];e(s,c,o,h,f),s=c,o=h}}}function E(t,e,n,r=!1){let i=[],s=r?[]:null,o=new D(t),l=new D(e);for(let t=-1;;)if(-1==o.ins&&-1==l.ins){let t=Math.min(o.len,l.len);A(i,t,-1),o.forward(t),l.forward(t)}else if(l.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(l.len<o.len||l.len==o.len&&!n))){let e=l.len;for(A(i,l.ins,-1);e;){let n=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=n&&(A(i,0,o.ins),s&&P(s,i,o.text),t=o.i),o.forward(n),e-=n}l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?S.createSet(i,s):T.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=o.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}A(i,e,t<o.i?o.ins:0),s&&t<o.i&&P(s,i,o.text),t=o.i,o.forward(o.len-n)}}}function L(t,e,n=!1){let r=[],i=n?[]:null,s=new D(t),o=new D(e);for(let t=!1;;){if(s.done&&o.done)return i?S.createSet(r,i):T.create(r);if(0==s.ins)A(r,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=r.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;A(r,e,n,t),i&&n&&P(i,r,o.text)}else-1==o.ins?(A(r,s.off?0:s.len,e,t),i&&P(i,r,s.textBit(e))):(A(r,s.off?0:s.len,o.off?0:o.ins,t),i&&!o.off&&P(i,r,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||r.length>n),s.forward2(e),o.forward(e)}}else A(r,0,o.ins,t),i&&P(i,r,o.text),o.next()}}class D{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?n.empty:e[r].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Q{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Q(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return I.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return I.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return I.range(t.anchor,t.head)}static create(t,e,n){return new Q(t,e,n)}}class I{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:I.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new I([this.main],0)}addRange(t,e=!0){return I.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,I.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new I(t.ranges.map((t=>Q.fromJSON(t))),t.main)}static single(t,e=t){return new I([I.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return I.normalized(t.slice(),e);n=i.to}return new I(t,e)}static cursor(t,e=0,n,r){return Q.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(t,e,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return e<t?Q.create(e,t,48|i):Q.create(t,e,(e>t?8:0)|i)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?I.range(o,s):I.range(s,o))}}return new I(t,e)}}function N(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let M=0;class ${constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=M++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(t={}){return new $(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:F),!!t.static,t.enables)}of(t){return new B([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new B(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function F(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class B{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=M++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,s=t[i]>>1,o=2==this.type,l=!1,a=!1,u=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?a=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&u.push(t[n.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||H(t,u)){let e=n(t);if(o?!U(e,t.values[s],r):!r(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let l,a=e.config.address[i];if(null!=a){let i=rt(e,a);if(this.dependencies.every((n=>n instanceof $?e.facet(n)===t.facet(n):!(n instanceof V)||e.field(n,!1)==t.field(n,!1)))||(o?U(l=n(t),i,r):r(l=n(t),i)))return t.values[s]=i,0}else l=n(t);return t.values[s]=l,1}}}}function U(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function H(t,e){let n=!1;for(let r of e)1&nt(t,r)&&(n=!0);return n}function q(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),s=r.filter((t=>!(1&t))),o=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<r.length;e++){let s=rt(t,r[e]);if(2==i[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of r)nt(t,e);return t.values[o]=l(t),1},update(t,n){if(!H(t,s))return 0;let r=l(t);return e.compare(r,t.values[o])?0:(t.values[o]=r,1)},reconfigure(t,i){let s=H(t,r),a=i.config.facets[e.id],u=i.facet(e);if(a&&!s&&F(n,a))return t.values[o]=u,0;let c=l(t);return e.compare(c,u)?(t.values[o]=u,0):(t.values[o]=c,1)}}}const X=$.define({static:!0});class V{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new V(M++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(X).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,X.of({field:this,create:t})]}get extension(){return this}}const z=4,W=3,j=2,G=1;function Y(t){return e=>new K(e,t)}const Z={highest:Y(0),high:Y(G),default:Y(j),low:Y(W),lowest:Y(z)};class K{constructor(t,e){this.inner=t,this.prec=e}}class J{of(t){return new tt(this,t)}reconfigure(t){return J.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class tt{constructor(t,e){this.compartment=t,this.inner=e}}class et{constructor(t,e,n,r,i,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),s=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(t,o){let l=i.get(t);if(null!=l){if(l<=o)return;let e=r[l].indexOf(t);e>-1&&r[l].splice(e,1),t instanceof tt&&n.delete(t.compartment)}if(i.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof tt){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(t.compartment)||t.inner;n.set(t.compartment,r),s(r,o)}else if(t instanceof K)s(t.inner,t.prec);else if(t instanceof V)r[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof B)r[o].push(t),t.facet.extensions&&s(t.facet.extensions,j);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,j),r.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof V?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let o=Object.create(null),l=[],a=[];for(let t of r)o[t.id]=a.length<<1,a.push((e=>t.slot(e)));let u=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,s=u&&u[t]||[];if(e.every((t=>0==t.type)))if(o[r.id]=l.length<<1|1,F(s,e))l.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));l.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(o[t.id]=l.length<<1|1,l.push(t.value)):(o[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));o[r.id]=a.length<<1,a.push((t=>q(t,r,e)))}}let c=a.map((t=>t(o)));return new et(t,s,c,o,l,i)}}function nt(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function rt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const it=$.define(),st=$.define({combine:t=>t.some((t=>t)),static:!0}),ot=$.define({combine:t=>t.length?t[0]:void 0,static:!0}),lt=$.define(),at=$.define(),ut=$.define(),ct=$.define({combine:t=>!!t.length&&t[0]});class ht{constructor(t,e){this.type=t,this.value=e}static define(){return new ft}}class ft{of(t){return new ht(this,t)}}class dt{constructor(t){this.map=t}of(t){return new vt(this,t)}}class vt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new vt(this.type,e)}is(t){return this.type==t}static define(t={}){return new dt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}vt.reconfigure=vt.define(),vt.appendConfig=vt.define();class gt{constructor(t,e,n,r,i,s){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,n&&N(n,e.newLength),i.some((t=>t.type==gt.time))||(this.annotations=i.concat(gt.time.of(Date.now())))}static create(t,e,n,r,i,s){return new gt(t,e,n,r,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(gt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function pt(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else{if(!(i<e.length))return n;s=e[i++],o=e[i++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function mt(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=S.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:vt.mapEffects(t.effects,i).concat(vt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Rt(t,e,n){let r=e.selection,i=xt(e.annotations);return e.userEvent&&(i=i.concat(gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof S?e.changes:S.of(e.changes||[],n,t.facet(ot)),selection:r&&(r instanceof I?r:I.single(r.anchor,r.head)),effects:xt(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Ot(t,e,n){let r=Rt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let s=!!e[i].sequential;r=mt(r,Rt(t,e[i],s?r.changes.newLength:t.doc.length),s)}let i=gt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(ut),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=mt(r,Rt(e,s,t.changes.newLength),!0))}return r==t?t:gt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(lt)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:pt(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=S.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=gt.create(e,r,t.selection&&t.selection.map(i),vt.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(at);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof gt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof gt?i[0]:Ot(e,xt(i),!1)}return t}(i):i)}gt.time=ht.define(),gt.userEvent=ht.define(),gt.addToHistory=ht.define(),gt.remote=ht.define();const wt=[];function xt(t){return null==t?wt:Array.isArray(t)?t:[t]}var yt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yt||(yt={}));const bt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let kt;try{kt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}function Ct(t){return e=>{if(!/\S/.test(e))return yt.Space;if(function(t){if(kt)return kt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||bt.test(n)))return!0}return!1}(e))return yt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return yt.Word;return yt.Other}}class Tt{constructor(t,e,n,r,i,s){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)nt(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return nt(this,n),rt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Ot(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(J.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(vt.reconfigure)?(n=null,r=e.value):e.is(vt.appendConfig)&&(n=null,r=xt(r).concat(e.value));if(n)e=t.startState.values.slice();else{n=et.resolve(r,i,this);let t=new Tt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}let s=t.startState.facet(st)?t.newSelection:t.newSelection.asSingle();new Tt(n,t.newDoc,s,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:I.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],s=xt(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),l=this.changes(o.changes),a=l.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(a);let u=r.mapDesc(l,!0);i.push(o.range.map(u)),r=r.compose(a),s=vt.mapEffects(s,a).concat(vt.mapEffects(xt(o.effects),u))}return{changes:r,selection:I.create(i,e.mainIndex),effects:s}}changes(t=[]){return t instanceof S?t:S.of(t,this.doc.length,this.facet(Tt.lineSeparator))}toText(t){return n.of(t.split(this.facet(Tt.lineSeparator)||k))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(nt(this,e),rt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof V&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],s=t[e];r.push(i.init((t=>i.spec.fromJSON(s,t))))}return Tt.create({doc:t.doc,selection:I.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=et.resolve(t.extensions||[],new Map),r=t.doc instanceof n?t.doc:n.of((t.doc||"").split(e.staticFacet(Tt.lineSeparator)||k)),i=t.selection?t.selection instanceof I?t.selection:I.single(t.selection.anchor,t.selection.head):I.single(0);return N(i,r.length),e.staticFacet(st)||(i=i.asSingle()),new Tt(e,r,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Tt.tabSize)}get lineBreak(){return this.facet(Tt.lineSeparator)||"\n"}get readOnly(){return this.facet(ct)}phrase(t,...e){for(let e of this.facet(Tt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(it))for(let s of i(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&r.push(s[t]);return r}charCategorizer(t){return Ct(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=p(e,s,!1);if(i(e.slice(t,s))!=yt.Word)break;s=t}for(;o<r;){let t=p(e,o);if(i(e.slice(o,t))!=yt.Word)break;o=t}return s==o?null:I.range(s+n,o+n)}}function St(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],s=r[t];if(void 0===s)r[t]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](s,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}Tt.allowMultipleSelections=st,Tt.tabSize=$.define({combine:t=>t.length?t[0]:4}),Tt.lineSeparator=ot,Tt.readOnly=ct,Tt.phrases=$.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),Tt.languageData=it,Tt.changeFilter=lt,Tt.transactionFilter=at,Tt.transactionExtender=ut,J.reconfigure=vt.define();class At{eq(t){return this==t}range(t,e=t){return Pt.create(t,e,this)}}At.prototype.startSide=At.prototype.endSide=0,At.prototype.point=!1,At.prototype.mapMode=C.TrackDel;class Pt{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Pt(t,e,n)}}function _t(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Et{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let s=r,o=i.length;;){if(s==o)return s;let r=s+o>>1,l=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==s)return l>=0?s:o;l>=0?o=r:s=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,i);i<s;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,u,c=this.value[l],h=this.from[l]+t,f=this.to[l]+t;if(h==f){let t=e.mapPos(h,c.startSide,c.mapMode);if(null==t)continue;if(a=u=t,c.startSide!=c.endSide&&(u=e.mapPos(h,c.endSide),u<a))continue}else if(a=e.mapPos(h,c.startSide),u=e.mapPos(f,c.endSide),a>u||a==u&&c.startSide>0&&c.endSide<=0)continue;(u-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,u-a)),n.push(c),r.push(a-s),i.push(u-s))}return{mapped:n.length?new Et(r,i,n,o):null,pos:s}}}class Lt{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new Lt(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(_t)),this.isEmpty)return e.length?Lt.of(e):this;let o=new It(this,null,-1).goto(0),l=0,a=[],u=new Dt;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let t=e[l++];u.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||i<o.from||s(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||a.push(Pt.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!a.length?Lt.empty:this.nextLayer.update({add:a,filter:s,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i],l=t.touchesRange(s,s+o.length);if(!1===l)r=Math.max(r,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===l){let{mapped:i,pos:l}=o.map(s,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(l))}}let i=this.nextLayer.map(t);return 0==e.length?i:new Lt(n,e,i||Lt.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r];if(e>=i&&t<=i+s.length&&!1===s.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Nt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Nt.from(t).goto(e)}static compare(t,e,n,r,i=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),l=Qt(s,o,n),a=new $t(s,l,i),u=new $t(o,l,i);n.iterGaps(((t,e,n)=>Ft(a,t,u,e,n,r))),n.empty&&0==n.length&&Ft(a,0,u,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=999999999);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=s.length)return!1;if(!i.length)return!0;let o=Qt(i,s),l=new $t(i,o,0).goto(n),a=new $t(s,o,0).goto(n);for(;;){if(l.to!=a.to||!Bt(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>r)return!0;l.next(),a.next()}}static spans(t,e,n,r,i=-1){let s=new $t(t,null,i).goto(e),o=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),i=s.pointFrom<e?n.length+1:s.point.startSide<0?n.length:Math.min(n.length,l);r.point(o,t,s.point,n,i,s.pointRank),l=Math.min(s.openEnd(t),n.length)}else t>o&&(r.span(o,t,s.active,l),l=s.openEnd(t));if(s.to>n)return l+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(t,e=!1){let n=new Dt;for(let r of t instanceof Pt?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(_t(e,r)>0)return t.slice().sort(_t);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}static join(t){if(!t.length)return Lt.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let r=t[n];r!=Lt.empty;r=r.nextLayer)e=new Lt(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}Lt.empty=new Lt([],[],null,-1),Lt.empty.nextLayer=Lt.empty;class Dt{finishChunk(t){this.chunks.push(new Et(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Dt)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Lt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Lt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Qt(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=r.get(t.chunk[e]);null==s||(n?n.mapPos(s):s)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(s,s+t.chunk[e].length))||i.add(t.chunk[e])}return i}class It{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Nt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let s=t[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new It(s,e,n,i));return 1==r.length?r[0]:new Nt(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Mt(this.heap,0)}}}function Mt(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class $t{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Nt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ut(this.active,t),Ut(this.activeTo,t),Ut(this.activeRank,t),this.minActive=qt(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&(i-this.activeRank[e]||r-this.activeTo[e])>0;)e++;Ht(this.active,e,n),Ht(this.activeTo,e,r),Ht(this.activeRank,e,i),t&&Ht(t,e,this.cursor.from),this.minActive=qt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Ut(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Ft(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,l=r,a=r-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,r=e<0?t.to+a:n.to,i=Math.min(r,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Bt(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,i,t.point,n.point):i>l&&!Bt(t.active,n.active)&&s.compareRange(l,i,t.active,n.active),r>o)break;l=r,e<=0&&t.next(),e>=0&&n.next()}}function Bt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ut(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Ht(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function qt(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Xt(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=p(t,i));return r}function Vt(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=p(t,r)}return!0===r?-1:t.length}const zt="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Wt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Gt{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,s,o){let l=[],a=/^@(\w+)\b/.exec(t[0]),u=a&&"keyframes"==a[1];if(a&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),o,l,u)}else null!=o&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(l.length||u)&&s.push((!n||a||o?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=jt[zt]||1;return jt[zt]=t+1,"ͼ"+t.toString(36)}static mount(t,e,n){let r=t[Wt],i=n&&n.nonce;r?i&&r.setNonce(i):r=new Zt(t,i),r.mount(Array.isArray(e)?e:[e])}}let Yt=new Map;class Zt{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let e=Yt.get(n);if(e)return t.adoptedStyleSheets=[e.sheet,...t.adoptedStyleSheets],t[Wt]=e;this.sheet=new r.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],Yt.set(n,this)}else{this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);let r=t.head||t;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],t[Wt]=this}mount(t){let e=this.sheet,n=0,r=0;for(let i=0;i<t.length;i++){let s=t[i],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),e)for(let t=0;t<s.rules.length;t++)e.insertRule(s.rules[t],n++)}else{for(;r<o;)n+=this.modules[r++].rules.length;n+=s.rules.length,r++}}if(!e){let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var Kt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},te="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ee="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ne=0;ne<10;ne++)Kt[48+ne]=Kt[96+ne]=String(ne);for(ne=1;ne<=24;ne++)Kt[ne+111]="F"+ne;for(ne=65;ne<=90;ne++)Kt[ne]=String.fromCharCode(ne+32),Jt[ne]=String.fromCharCode(ne);for(var re in Kt)Jt.hasOwnProperty(re)||(Jt[re]=Kt[re]);function ie(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function se(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function oe(t,e){if(!e.anchorNode)return!1;try{return se(t,e.anchorNode)}catch(t){return!1}}function le(t){return 3==t.nodeType?Oe(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ae(t,e,n,r){return!!n&&(ce(t,e,n,r,-1)||ce(t,e,n,r,1))}function ue(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ce(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:he(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=ue(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?he(t):0}}}function he(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function fe(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function de(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function ve(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class ge{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?he(e):0),n,Math.min(t.focusOffset,n?he(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let pe,me=null;function Re(t){if(t.setActive)return t.setActive();if(me)return t.focus(me);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==me?{get preventScroll(){return me={preventScroll:!0},!0}}:void 0),!me){me=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function Oe(t,e,n=e){let r=pe||(pe=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function we(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function xe(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function ye(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class be{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new be(t.parentNode,ue(t),e)}static after(t,e){return new be(t.parentNode,ue(t)+1,e)}}const ke=[];class Ce{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,r=this.dom,i=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=i?i.nextSibling:r.firstChild)){let t=Ce.get(n);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t,e),s.flags&=-8}if(n=i?i.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&n!=s.dom&&(e.written=!0),s.dom.parentNode==r)for(;n&&n!=s.dom;)n=Te(n);else r.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:r.firstChild,n&&e&&e.node==r&&(e.written=!0);n;)n=Te(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==he(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ce.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,s=-1,o=-1;for(let l=0,a=n,u=n;l<this.children.length;l++){let n=this.children[l],c=a+n.length;if(a<t&&c>e)return n.domBoundsAround(t,e,a);if(c>=t&&-1==r&&(r=l,i=a),a>e&&n.dom.parentNode==this.dom){s=l,o=u;break}u=c,a=c+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=ke){this.markDirty();for(let r=t;r<e;r++){let t=this.children[r];t.parent==this&&n.indexOf(t)<0&&t.destroy()}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Se(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,i,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function Te(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Ce.prototype.breakAfter=0;class Se{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Ae(t,e,n,r,i,s,o,l,a){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,0==n,l,a))){if(r<u.length){let t=u[r];t&&(i<t.length||t.breakAfter&&(null==h?void 0:h.breakAfter))?(e==r&&(t=t.split(i),i=0),!f&&h&&t.merge(0,i,h,!0,0,a)?s[s.length-1]=t:((i||t.children.length&&!t.children[0].length)&&t.merge(0,i,null,!1,0,a),s.push(t))):(null==t?void 0:t.breakAfter)&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,l,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),a=s.length?0:l;else{if(!u[e].become(s[0]))break;e++,s.shift(),l=s.length?0:a}!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Pe(t,e,n,r,i,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h,Ae(t,u,c,l,a,r,0,i,s)}let _e="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Ee="undefined"!=typeof document?document:{documentElement:{style:{}}};const Le=/Edge\/(\d+)/.exec(_e.userAgent),De=/MSIE \d/.test(_e.userAgent),Qe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_e.userAgent),Ie=!!(De||Qe||Le),Ne=!Ie&&/gecko\/(\d+)/i.test(_e.userAgent),Me=!Ie&&/Chrome\/(\d+)/.exec(_e.userAgent),$e="webkitFontSmoothing"in Ee.documentElement.style,Fe=!Ie&&/Apple Computer/.test(_e.vendor),Be=Fe&&(/Mobile\/\w+/.test(_e.userAgent)||_e.maxTouchPoints>2);var Ue={mac:Be||/Mac/.test(_e.platform),windows:/Win/.test(_e.platform),linux:/Linux|X11/.test(_e.platform),ie:Ie,ie_version:De?Ee.documentMode||6:Qe?+Qe[1]:Le?+Le[1]:0,gecko:Ne,gecko_version:Ne?+(/Firefox\/(\d+)/.exec(_e.userAgent)||[0,0])[1]:0,chrome:!!Me,chrome_version:Me?+Me[1]:0,ios:Be,android:/Android\b/.test(_e.userAgent),webkit:$e,safari:Fe,webkit_version:$e?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=Ee.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class He extends Ce{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof He)||this.length-(e-t)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new He(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new be(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;0==e&&n<0||e==r&&n>=0?Ue.chrome||Ue.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let l=Oe(t,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:n>=0)?0:l.length-1];Ue.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,(t=>t.width))||a);return o?fe(a,o<0):a||null}(this.dom,t,e)}}class qe extends Ce{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(xe(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,i,s){return(!n||!(!(n instanceof qe&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&s<=0))&&(Pe(this,t,e,n?n.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,r=-1,i=0;for(let s of this.children){let o=n+s.length;o>t&&e.push(n<t?s.split(t-n):s),r<0&&n>=t&&(r=i),n=o,i++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new qe(this.mark,e,s)}domAtPos(t){return ze(this,t)}coordsAt(t,e){return je(this,t,e)}}class Xe extends Ce{static create(t,e,n){return new Xe(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=Xe.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof Xe&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof Xe&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return n.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):n.empty}domAtPos(t){return(this.length?0==t:this.side>0)?be.before(this.dom):be.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?r.length-1:0;i=r[e],!(t>0?0==e:e==r.length-1||i.top<i.bottom);e+=s?-1:1);return fe(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ve extends Ce{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Ve&&t.side==this.side}split(){return new Ve(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?be.before(this.dom):be.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.empty}get isHidden(){return!0}}function ze(t,e){let n=t.dom,{children:r}=t,i=0;for(let t=0;i<r.length;i++){let s=r[i],o=t+s.length;if(!(o==t&&s.getSide()<=0)){if(e>t&&e<o&&s.dom.parentNode==n)return s.domAtPos(e-t);if(e<=t)break;t=o}}for(let t=i;t>0;t--){let e=r[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=i;t<r.length;t++){let e=r[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new be(n,0)}function We(t,e,n){let r,{children:i}=t;n>0&&e instanceof qe&&i.length&&(r=i[i.length-1])instanceof qe&&r.mark.eq(e.mark)?We(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function je(t,e,n){let r=null,i=-1,s=null,o=-1;!function t(e,l){for(let a=0,u=0;a<e.children.length&&u<=l;a++){let c=e.children[a],h=u+c.length;h>=l&&(c.children.length?t(c,l-u):(!s||s.isHidden&&n>0)&&(h>l||u==h&&c.getSide()>0)?(s=c,o=l-u):(u<l||u==h&&c.getSide()<0&&!c.isHidden)&&(r=c,i=l-u)),u=h}}(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=le(e);return n[n.length-1]||null}(t)}function Ge(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}He.prototype.children=Xe.prototype.children=Ve.prototype.children=ke;const Ye=Object.create(null);function Ze(t,e,n){if(t==e)return!0;t||(t=Ye),e||(e=Ye);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(-1==i.indexOf(s)||t[s]!==e[s]))return!1;return!0}function Ke(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,"style"==i?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,"style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Je(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class tn extends Ce{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,s){if(n){if(!(n instanceof tn))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Pe(this,t,e,n?n.children.slice():[],i,s),!0}split(t){let e=new tn;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Ze(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){We(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=Ge(e,this.attrs||{})),n&&(this.attrs=Ge({class:n},this.attrs||{}))}domAtPos(t){return ze(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(xe(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Ke(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&Ce.get(r)instanceof qe;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Ce.get(r))||void 0===n?void 0:n.isEditable)||Ue.ios&&this.children.some((t=>t instanceof He))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof He)||/[^ -~]/.test(n.text))return null;let r=le(n.dom);if(1!=r.length)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=je(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let r=(e-t.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(t){return!1}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let i=t.children[n],s=r+i.length;if(s>=e){if(i instanceof tn)return i;if(s>e)break}r=s+i.breakAfter}return null}}class en extends Ce{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof en&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?be.before(this.dom):be.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new en(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return ke}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.empty}domBoundsAround(){return null}become(t){return t instanceof en&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class nn{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var rn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(rn||(rn={}));class sn extends At{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new on(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new an(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,r=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:i,end:s}=un(t,r);e=(i?r?-3e8:-1:5e8)-1,n=1+(s?r?2e8:1:-6e8)}return new an(t,e,n,r,t.widget||null,!0)}static line(t){return new ln(t)}static set(t,e=!1){return Lt.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}sn.none=Lt.empty;class on extends sn{constructor(t){let{start:e,end:n}=un(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof on&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&Ze(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}on.prototype.point=!1;class ln extends sn{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof ln&&this.spec.class==t.spec.class&&Ze(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}ln.prototype.mapMode=C.TrackBefore,ln.prototype.point=!0;class an extends sn{constructor(t,e,n,r,i,s){super(e,n,i,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?C.TrackBefore:C.TrackAfter:C.TrackDel}get type(){return this.startSide!=this.endSide?rn.WidgetRange:this.startSide<=0?rn.WidgetBefore:rn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof an&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function un(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function cn(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}an.prototype.point=!0;class hn{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof en&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new tn),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(fn(new Ve(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof en||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(fn(new He(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i,s){if(this.disallowBlockEffectsFor[s]&&n instanceof an){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof an)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new en(n.widget||new dn("div"),o,n));else{let s=Xe.create(n.widget||new dn("span"),o,o?0:n.startSide),l=this.atCursorPos&&!s.isEditable&&i<=r.length&&(t<e||n.startSide>0),a=!s.isEditable&&(t<e||i>r.length||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(fn(new Ve(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(fn(s,r),i),this.atCursorPos=a,this.pendingBuffer=a?t<e||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r,i){let s=new hn(t,e,n,i);return s.openEnd=Lt.spans(r,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function fn(t,e){for(let n of e)t=new qe(n,[t],t.length);return t}class dn extends nn{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}var vn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(vn||(vn={}));const gn=vn.LTR,pn=vn.RTL;function mn(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Rn=mn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),On=mn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),wn=Object.create(null),xn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);wn[e]=n,wn[n]=-e}function yn(t){return t<=247?Rn[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?On[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const bn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class kn{get dir(){return this.level%2?pn:gn}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,r){let i=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(i<0||(0!=r?r<0?o.from<e:o.to>e:t[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function Cn(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Cn(r.inner,i.inner))return!1}return!0}const Tn=[];function Sn(t,e,n,r,i,s,o){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<n;){let e=!0,c=!1;if(u==s.length||a<s[u].from){let t=Tn[a];t!=l&&(e=!1,c=16==t)}let h=e||1!=l?null:[],f=e?r:r+1,d=a;t:for(;;)if(u<s.length&&d==s[u].from){if(c)break t;let v=s[u];if(!e)for(let t=v.to,e=u+1;;){if(t==n)break t;if(!(e<s.length&&s[e].from==t)){if(Tn[t]==l)break t;break}t=s[e++].to}if(u++,h)h.push(v);else{v.from>a&&o.push(new kn(a,v.from,f)),An(t,v.direction==gn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.to}d=v.to}else{if(d==n||(e?Tn[d]!=l:Tn[d]==l))break;d++}h?Sn(t,a,d,r+1,i,h,o):a<d&&o.push(new kn(a,d,f)),a=d}else for(let a=n,u=s.length;a>e;){let n=!0,c=!1;if(!u||a>s[u-1].to){let t=Tn[a-1];t!=l&&(n=!1,c=16==t)}let h=n||1!=l?null:[],f=n?r:r+1,d=a;t:for(;;)if(u&&d==s[u-1].to){if(c)break t;let v=s[--u];if(!n)for(let t=v.from,n=u;;){if(t==e)break t;if(!n||s[n-1].to!=t){if(Tn[t-1]==l)break t;break}t=s[--n].from}if(h)h.push(v);else{v.to<a&&o.push(new kn(v.to,a,f)),An(t,v.direction==gn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.from}d=v.from}else{if(d==e||(n?Tn[d-1]!=l:Tn[d-1]==l))break;d--}h?Sn(t,d,a,r+1,i,h,o):d<a&&o.push(new kn(d,a,f)),a=d}}function An(t,e,n,r,i,s,o){let l=e%2?2:1;!function(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,l=s<r.length?r[s].from:n,a=s?256:i;for(let e=o,n=a,r=a;e<l;e++){let i=yn(t.charCodeAt(e));512==i?i=n:8==i&&4==r&&(i=16),Tn[e]=4==i?2:i,7&i&&(r=i),n=i}for(let t=o,e=a,r=a;t<l;t++){let i=Tn[t];if(128==i)t<l-1&&e==Tn[t+1]&&24&e?i=Tn[t]=e:Tn[t]=256;else if(64==i){let i=t+1;for(;i<l&&64==Tn[i];)i++;let s=t&&8==e||i<n&&8==Tn[i]?1==r?1:8:256;for(let e=t;e<i;e++)Tn[e]=s;t=i-1}else 8==i&&1==r&&(Tn[t]=1);e=i,7&i&&(r=i)}}}(t,i,s,r,l),function(t,e,n,r,i){let s=1==i?2:1;for(let o=0,l=0,a=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let e,n,r,o=u;o<c;o++)if(n=wn[e=t.charCodeAt(o)])if(n<0){for(let t=l-3;t>=0;t-=3)if(xn[t+1]==-n){let e=xn[t+2],n=2&e?i:4&e?1&e?s:i:0;n&&(Tn[o]=Tn[xn[t]]=n),l=t;break}}else{if(189==xn.length)break;xn[l++]=o,xn[l++]=e,xn[l++]=a}else if(2==(r=Tn[o])||1==r){let t=r==i;a=t?0:1;for(let e=l-3;e>=0;e-=3){let n=xn[e+2];if(2&n)break;if(t)xn[e+2]|=2;else{if(4&n)break;xn[e+2]|=4}}}}}(t,i,s,r,l),function(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let a=o;a<l;){let o=Tn[a];if(256==o){let o=a+1;for(;;)if(o==l){if(i==n.length)break;o=n[i++].to,l=i<n.length?n[i].from:e}else{if(256!=Tn[o])break;o++}let u=1==s,c=u==(1==(o<e?Tn[o]:r))?u?1:2:r;for(let e=o,r=i,s=r?n[r-1].to:t;e>a;)e==s&&(e=n[--r].from,s=r?n[r-1].to:t),Tn[--e]=c;a=o}else s=o,a++}}}(i,s,r,l),Sn(t,i,s,e,n,r,o)}function Pn(t,e,n){if(!t)return[new kn(0,0,e==pn?1:0)];if(e==gn&&!n.length&&!bn.test(t))return _n(t.length);if(n.length)for(;t.length>Tn.length;)Tn[Tn.length]=256;let r=[],i=e==gn?0:1;return An(t,i,i,n,0,t.length,r),r}function _n(t){return[new kn(0,t,0)]}let En="";function Ln(t,e,n,r,i){var s;let o=r.head-t.from,l=kn.find(e,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc),a=e[l],u=a.side(i,n);if(o==u){let t=l+=i?1:-1;if(t<0||t>=e.length)return null;a=e[l=t],o=a.side(!i,n),u=a.side(i,n)}let c=p(t.text,o,a.forward(i,n));(c<a.from||c>a.to)&&(c=u),En=t.text.slice(Math.min(o,c),Math.max(o,c));let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<a.level?I.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):I.cursor(c+t.from,a.forward(i,n)?-1:1,a.level)}function Dn(t,e,n){for(let r=e;r<n;r++){let e=yn(t.charCodeAt(r));if(1==e)return gn;if(2==e||4==e)return pn}return gn}const Qn=$.define(),In=$.define(),Nn=$.define(),Mn=$.define(),$n=$.define(),Fn=$.define(),Bn=$.define(),Un=$.define({combine:t=>t.some((t=>t))}),Hn=$.define({combine:t=>t.some((t=>t))});class qn{constructor(t,e="nearest",n="nearest",r=5,i=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=s}map(t){return t.empty?this:new qn(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new qn(I.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Xn=vt.define({map:(t,e)=>t.map(e)});function Vn(t,e,n){let r=t.facet(Mn);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const zn=$.define({combine:t=>!t.length||t[0]});let Wn=0;const jn=$.define();class Gn{constructor(t,e,n,r,i){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:i,decorations:s}=e||{};return new Gn(Wn++,t,n,r,(t=>{let e=[jn.of(t)];return s&&e.push(Jn.of((e=>{let n=e.plugin(t);return n?s(n):sn.none}))),i&&e.push(i(t)),e}))}static fromClass(t,e){return Gn.define((e=>new t(e)),e)}}class Yn{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(Vn(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Vn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){Vn(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Zn=$.define(),Kn=$.define(),Jn=$.define(),tr=$.define(),er=$.define(),nr=$.define();function rr(t,e){let n=t.state.facet(nr);if(!n.length)return n;let r=n.map((e=>e instanceof Function?e(t):e)),i=[];return Lt.spans(r,e.from,e.to,{point(){},span(t,n,r,s){let o=t-e.from,l=n-e.from,a=i;for(let t=r.length-1;t>=0;t--,s--){let n,i=r[t].spec.bidiIsolate;if(null==i&&(i=Dn(e.text,o,l)),s>0&&a.length&&(n=a[a.length-1]).to==o&&n.direction==i)n.to=l,a=n.inner;else{let t={from:o,to:l,direction:i,inner:[]};a.push(t),a=t.inner}}}}),i}const ir=$.define();function sr(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(ir)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const or=$.define();class lr{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new lr(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,s=0,o=0;;r++){let l=r==t.length?null:t[r],a=s-o,u=l?l.fromB:1e9;for(;i<e.length&&e[i]<u;){let t=e[i],r=e[i+1],s=Math.max(o,t),l=Math.min(u,r);if(s<=l&&new lr(s+a,l+a,s,l).addToSet(n),r>u)break;i+=2}if(!l)return n;new lr(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,o=l.toB}}}class ar{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=S.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new lr(t,e,n,i)))),this.changedRanges=r}static create(t,e,n){return new ar(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class ur extends Ce{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new tn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new lr(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?r=this.domChanged.newSel.head:function(t,e){let n=!1;e&&t.iterChangedRanges(((t,r)=>{t<e.to&&r>e.from&&(n=!0)}));return n}(t.changes,this.hasComposition)||t.selectionSet||(r=t.state.selection.main.head));let i=r>-1?function(t,e,n){let r=hr(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,l=i.nodeValue;if(/[\n\r]/.test(l))return null;if(t.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new lr(a.mapPos(s),a.mapPos(o),s,o),c=[];for(let e=i.parentNode;;e=e.parentNode){let n=Ce.get(e);if(n instanceof qe)c.push({node:e,deco:n.mark});else{if(n instanceof tn||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new on({inclusive:!0,attributes:Je(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:r}=this.hasComposition;n=new lr(e,r,t.changes.mapPos(e,-1),t.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Ue.ie||Ue.chrome)&&!i&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,n){let r=new dr;return Lt.compare(t,e,n,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return n=lr.extendWithRanges(n,s),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,i),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=Ue.chrome||Ue.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||r.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof en&&t.widget instanceof cr&&i.push(t.dom);r.updateGaps(i)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,i=this.childCursor(e);for(let t=r.length-1;;t--){let e=t>=0?r[t]:null;if(!e)break;let s,o,l,a,{fromA:u,toA:c,fromB:h,toB:f}=e;if(n&&n.range.fromB<f&&n.range.toB>h){let t=hn.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=hn.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,l=t.openStart,a=e.openEnd;let r=this.compositionView(n);e.breakAtStart?r.breakAfter=1:e.content.length&&r.merge(r.length,r.length,e.content[0],!1,e.openStart,0)&&(r.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&r.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(r).concat(e.content)}else({content:s,breakAtStart:o,openStart:l,openEnd:a}=hn.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:d,off:v}=i.findPos(c,1),{i:g,off:p}=i.findPos(u,-1);Ae(this,g,p,d,v,s,o,l,a)}n&&this.fixCompositionDOM(n)}compositionView(t){let e=new He(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new qe(n,[e],e.length);let n=new tn;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=Ce.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let i=t.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],e(i>=0?t.marks[i].node:t.text,r)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&oe(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||i))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),a=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(Ue.gecko&&o.empty&&!this.hasComposition&&(1==(u=l).node.nodeType&&u.node.firstChild&&(0==u.offset||"false"==u.node.childNodes[u.offset-1].contentEditable)&&(u.offset==u.node.childNodes.length||"false"==u.node.childNodes[u.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null))),l=a=new be(t,0),s=!0}var u;let c=this.view.observer.selectionRange;!s&&c.focusNode&&(ae(l.node,l.offset,c.anchorNode,c.anchorOffset)&&ae(a.node,a.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,o))||(this.view.observer.ignore((()=>{Ue.android&&Ue.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=ie(this.view.root);if(t)if(o.empty){if(Ue.gecko){let t=(e=l.node,r=l.offset,1!=e.nodeType?0:(r&&"false"==e.childNodes[r-1].contentEditable?1:0)|(r<e.childNodes.length&&"false"==e.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=fr(l.node,l.offset,1==t?1:-1);e&&(l=new be(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=o.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=o.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(a.node,a.offset)}catch(t){}}else{let e=document.createRange();o.anchor>o.head&&([l,a]=[a,l]),e.setEnd(a.node,a.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}else;var e,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,a)),this.impreciseAnchor=l.precise?null:new be(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new be(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&ae(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=ie(t.root),{anchorNode:r,anchorOffset:i}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let s=tn.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let l=this.coordsAt(e.head,-1),a=this.coordsAt(e.head,1);if(!l||!a||l.bottom>a.top)return;let u=this.domAtPos(e.head+e.assoc);n.collapse(u.node,u.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&n.collapse(r,i)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let r=t.offset;!e&&r<n.childNodes.length;r++){let t=Ce.get(n.childNodes[r]);t instanceof tn&&(e=t.domAtPos(0))}for(let r=t.offset-1;!e&&r>=0;r--){let t=Ce.get(n.childNodes[r]);t instanceof tn&&(e=t.domAtPos(t.length))}return e?new be(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Ce.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof tn)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],l=i-o.breakAfter,a=l-o.length;if(l<t)break;a<=t&&(a<t||o.covers(-1))&&(l>t||o.covers(1))&&(!n||o instanceof tn&&!(n instanceof tn&&e>=0))&&(n=o,r=a),i=a}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof tn))return null;for(;r.children.length;){let{i:t,off:e}=r.childPos(n,1);for(;;t++){if(t==r.children.length)return null;if((r=r.children[t]).length)break}n=e}if(!(r instanceof He))return null;let i=p(r.text,n);if(i==n)return null;let s=Oe(r.dom,n,i).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(t==s.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==vn.LTR;for(let t=0,a=0;a<this.children.length;a++){let u=this.children[a],c=t+u.length;if(c>r)break;if(t>=n){let n=u.dom.getBoundingClientRect();if(e.push(n.height),s){let e=u.dom.lastChild,r=e?le(e):[];if(r.length){let e=r[r.length-1],s=l?e.right-n.left:n.right-e.left;s>o&&(o=s,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+u.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?vn.RTL:vn.LTR}measureTextSize(){for(let t of this.children)if(t instanceof tn){let e=t.measureTextSize();if(e)return e}let t,e,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=le(r.firstChild)[0];t=r.getBoundingClientRect().height,e=i?i.width/27:7,n=i?i.height:t,r.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Se(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],s=i?i.from-1:this.length;if(s>n){let r=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(sn.replace({widget:new cr(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!i)break;n=i.to+1}return sn.set(t)}updateDeco(){let t=this.view.state.facet(Jn).map(((t,e)=>(this.dynamicDecorationMap[e]="function"==typeof t)?t(this.view):t)),e=!1,n=this.view.state.facet(tr).map(((t,n)=>{let r="function"==typeof t;return r&&(e=!0),r?t(this.view):t}));n.length&&(this.dynamicDecorationMap[t.length]=e,t.push(Lt.join(n)));for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}let e,{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,e.left),top:Math.min(r.top,e.top),right:Math.max(r.right,e.right),bottom:Math.max(r.bottom,e.bottom)});let i=sr(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;!function(t,e,n,r,i,s,o,l){let a=t.ownerDocument,u=a.defaultView||window;for(let c=t,h=!1;c&&!h;)if(1==c.nodeType){let t,f=c==a.body,d=1,v=1;if(f)t=de(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:d,scaleY:v}=ve(c,e)),t={left:e.left,right:e.left+c.clientWidth*d,top:e.top,bottom:e.top+c.clientHeight*v}}let g=0,p=0;if("nearest"==i)e.top<t.top?(p=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+p&&(p=e.bottom-t.bottom+p+o)):e.bottom>t.bottom&&(p=e.bottom-t.bottom+o,n<0&&e.top-p<t.top&&(p=-(t.top+p-e.top+o)));else{let r=e.bottom-e.top,s=t.bottom-t.top;p=("center"==i&&r<=s?e.top+r/2-s/2:"start"==i||"center"==i&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==r?e.left<t.left?(g=-(t.left-e.left+s),n>0&&e.right>t.right+g&&(g=e.right-t.right+g+s)):e.right>t.right&&(g=e.right-t.right+s,n<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+s))):g=("center"==r?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==r==l?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||p)if(f)u.scrollBy(g,p);else{let t=0,n=0;if(p){let t=c.scrollTop;c.scrollTop+=p/v,n=(c.scrollTop-t)*v}if(g){let e=c.scrollLeft;c.scrollLeft+=g/d,t=(c.scrollLeft-e)*d}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(r="nearest"),n&&Math.abs(n-p)<1&&(i="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==vn.LTR)}}class cr extends nn{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function hr(t,e){let n=t.observer.selectionRange,r=n.focusNode&&fr(n.focusNode,n.focusOffset,0);if(!r)return null;let i=e-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function fr(t,e,n){if(n<=0)for(let n=t,r=e;;){if(3==n.nodeType)return{node:n,offset:r};if(!(1==n.nodeType&&r>0))break;n=n.childNodes[r-1],r=he(n)}if(n>=0)for(let r=t,i=e;;){if(3==r.nodeType)return{node:r,offset:i};if(!(1==r.nodeType&&i<r.childNodes.length&&n>=0))break;r=r.childNodes[i],i=0}return null}let dr=class{constructor(){this.changes=[]}compareRange(t,e){cn(t,e,this.changes)}comparePoint(t,e){cn(t,e,this.changes)}};function vr(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function gr(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function pr(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function mr(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Rr(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Or(t,e,n){let r,i,s,o,l,a,u,c,h=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=le(f);for(let d=0;d<t.length;d++){let v=t[d];i&&pr(i,v)&&(v=mr(Rr(v,i.bottom),i.top));let g=vr(e,v),p=gr(n,v);if(0==g&&0==p)return 3==f.nodeType?wr(f,e,n):Or(f,e,n);if(!r||o>p||o==p&&s>g){r=f,i=v,s=g,o=p;let l=p?n<v.top?-1:1:g?e<v.left?-1:1:0;h=!l||(l>0?d<t.length-1:d>0)}0==g?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=f,u=v):n<v.top&&(!c||c.top>v.top)&&(a=f,c=v):u&&pr(u,v)?u=Rr(u,v.bottom):c&&pr(c,v)&&(c=mr(c,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):c&&c.top<=n&&(r=a,i=c),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?wr(r,f,n):h&&"false"!=r.contentEditable?Or(r,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function wr(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<r;l++){let r=Oe(t,l,l+1).getClientRects();for(let a=0;a<r.length;a++){let u=r[a];if(u.top==u.bottom)continue;o||(o=e-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<s){let n=e>=(u.left+u.right)/2,r=n;if(Ue.chrome||Ue.gecko){Oe(t,l).getBoundingClientRect().left==u.right&&(r=!n)}if(c<=0)return{node:t,offset:l+(r?1:0)};i=l+(r?1:0),s=c}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function xr(t,e,n,r=-1){var i,s;let o,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,i=!1;o=t.elementAtHeight(f),o.type!=rn.Text;)for(;f=r>0?o.bottom+e:o.top-e,!(f>=0&&f<=u);){if(i)return n?null:0;i=!0,r=-r}h=a+f;let d=o.from;if(d<t.viewport.from)return 0==t.viewport.from?0:n?null:yr(t,l,o,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:yr(t,l,o,c,h);let v=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:v,p=g.elementFromPoint(c,h);p&&!t.contentDOM.contains(p)&&(p=null),p||(c=Math.max(l.left+1,Math.min(l.right-1,c)),p=g.elementFromPoint(c,h),p&&!t.contentDOM.contains(p)&&(p=null));let m,R=-1;if(p&&0!=(null===(i=t.docView.nearest(p))||void 0===i?void 0:i.isEditable))if(v.caretPositionFromPoint){let t=v.caretPositionFromPoint(c,h);t&&({offsetNode:m,offset:R}=t)}else if(v.caretRangeFromPoint){let e=v.caretRangeFromPoint(c,h);e&&(({startContainer:m,startOffset:R}=e),(!t.contentDOM.contains(m)||Ue.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return Oe(t,r-1,r).getBoundingClientRect().left>n}(m,R,c)||Ue.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}let r=1==t.nodeType?t.getBoundingClientRect():Oe(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(m,R,c))&&(m=void 0))}if(!m||!t.docView.dom.contains(m)){let e=tn.find(t.docView,d);if(!e)return f>o.top+o.height/2?o.to:o.from;({node:m,offset:R}=Or(e.dom,c,h))}let O=t.docView.nearest(m);if(!O)return null;if(O.isWidget&&1==(null===(s=O.dom)||void 0===s?void 0:s.nodeType)){let t=O.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?O.posAtStart:O.posAtEnd}return O.localPosFromDOM(m,R)+O.posAtStart}function yr(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((i-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Vt(o,s,t.state.tabSize)}function br(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==rn.Text))return t;return n}function kr(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let l=e,a=null;;){let e=Ln(i,s,o,l,n),u=En;if(!e){if(i.number==(n?t.state.doc.lines:1))return l;u="\n",i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),e=t.visualLineSide(i,!n)}if(a){if(!a(u))return l}else{if(!r)return e;a=r(u)}l=e}}function Cr(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,((t,i,s)=>{if(e>t&&e<i){let s=r||n||(e-t<i-e?-1:1);e=s<0?t:i,r=s}}));if(!r)return e}}function Tr(t,e,n){let r=Cr(t.state.facet(er).map((e=>e(t))),n.from,e.head>n.from?-1:1);return r==n.from?n:I.cursor(r,r<n.from?1:-1)}class Sr{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Ue.safari&&t.contentDOM.addEventListener("input",(()=>null)),Ue.gecko&&function(t){ti.has(t)||(ti.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Ce.get(r))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Pr(t),n=this.handlers,r=this.view.contentDOM;for(let t in e)if("scroll"!=t){let i=!e[t].handlers.length,s=n[t];s&&i!=!s.handlers.length&&(r.removeEventListener(t,this.handleEvent),s=null),s||r.addEventListener(t,this.handleEvent,{passive:i})}for(let t in n)"scroll"==t||e[t]||r.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=t.keyCode&&Lr.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),Ue.android&&Ue.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Ue.ios||t.synthetic||t.altKey||t.metaKey||!((e=_r.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Er.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,we(this.view.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Ue.safari&&!Ue.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ar(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(t){Vn(n.state,t)}}}function Pr(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let r in t.domEventHandlers){let i=t.domEventHandlers[r];i&&n(r).handlers.push(Ar(e.value,i))}if(t&&t.domEventObservers)for(let r in t.domEventObservers){let i=t.domEventObservers[r];i&&n(r).observers.push(Ar(e.value,i))}}for(let t in Ir)n(t).handlers.push(Ir[t]);for(let t in Nr)n(t).observers.push(Nr[t]);return e}const _r=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Er="dthko",Lr=[16,17,18,20,91,92,224,225];function Dr(t){return.7*Math.max(0,t)+8}class Qr{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=function(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM),this.atoms=t.state.facet(er).map((e=>e(t)));let i=t.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Tt.allowMultipleSelections)&&function(t,e){let n=t.state.facet(Qn);return n.length?n[0](e):Ue.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=ie(t.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=jr(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){var e;if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let n=0,r=0,i=(null===(e=this.scrollParent)||void 0===e?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=sr(this.view);t.clientX-s.left<=i.left+6?n=-Dr(i.left-t.clientX):t.clientX+s.right>=i.right-6&&(n=Dr(t.clientX-i.right)),t.clientY-s.top<=i.top+6?r=-Dr(i.top-t.clientY):t.clientY+s.bottom>=i.bottom-6&&(r=Dr(t.clientY-i.bottom)),this.setScrollSpeed(n,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],i=null;if(r.empty){let t=Cr(this.atoms,r.from,0);t!=r.from&&(i=I.cursor(t,-1))}else{let t=Cr(this.atoms,r.from,-1),e=Cr(this.atoms,r.to,1);t==r.from&&e==r.to||(i=I.range(r.from==r.anchor?t:e,r.from==r.head?t:e))}i&&(e||(e=t.ranges.slice()),e[n]=i)}return e?I.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Ir=Object.create(null),Nr=Object.create(null),Mr=Ue.ie&&Ue.ie_version<15||Ue.ios&&Ue.webkit_version<604;function $r(t,e){let n,{state:r}=t,i=1,s=r.toText(e),o=s.lines==r.selection.ranges.length,l=null!=Yr&&r.selection.ranges.every((t=>t.empty))&&Yr==s.toString();if(l){let t=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==t)return{range:n};t=l.from;let a=r.toText((o?s.line(i++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:a},range:I.cursor(n.from+a.length)}}))}else n=o?r.changeByRange((t=>{let e=s.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:I.cursor(t.from+e.length)}})):r.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Fr(t,e,n,r){if(1==r)return I.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(0==i.length)return I.cursor(e);0==s?n=1:s==i.length&&(n=-1);let o=s,l=s;n<0?o=p(i.text,s,!1):l=p(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let t=p(i.text,o,!1);if(r(i.text.slice(t,o))!=a)break;o=t}for(;l<i.length;){let t=p(i.text,l);if(r(i.text.slice(l,t))!=a)break;l=t}return I.range(o+i.from,l+i.from)}(t.state,e,n);{let n=tn.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),i=n?n.posAtStart:r.from,s=n?n.posAtEnd:r.to;return s<t.state.doc.length&&s==r.to&&s++,I.range(i,s)}}Nr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Ir.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&(t.inputState.lastEscPress=Date.now()),!1),Nr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Nr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Ir.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(Nn))if(n=r(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=qr(t,e),r=jr(e),i=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),i=i.map(t.changes))},get(e,s,o){let l,a=qr(t,e),u=Fr(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let e=Fr(t,n.pos,n.bias,r),i=Math.min(e.from,u.from),s=Math.max(e.to,u.to);u=i<u.from?I.range(i,s):I.range(s,i)}return s?i.replaceRange(i.main.extend(u.from,u.to)):o&&1==r&&i.ranges.length>1&&(l=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return I.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(i,a.pos))?l:o?i.addRange(u):I.create([u])}}}(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Qr(t,e,n,r)),r&&t.observer.ignore((()=>Re(t.contentDOM)));let i=t.inputState.mouseSelection;if(i)return i.start(e),!1===i.dragging}return!1};let Br=(t,e)=>t>=e.top&&t<=e.bottom,Ur=(t,e,n)=>Br(e,n)&&t>=n.left&&t<=n.right;function Hr(t,e,n,r){let i=tn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Ur(n,r,o))return-1;let l=i.coordsAt(s,1);return l&&Ur(n,r,l)?1:o&&Br(r,o)?-1:1}function qr(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Hr(t,n,e.clientX,e.clientY)}}const Xr=Ue.ie&&Ue.ie_version<=11;let Vr=null,zr=0,Wr=0;function jr(t){if(!Xr)return t.detail;let e=Vr,n=Wr;return Vr=t,Wr=Date.now(),zr=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(zr+1)%3:1}function Gr(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&function(t,e){let n=t.state.facet(In);return n.length?n[0](e):Ue.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,l={from:i,insert:n},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Ir.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let t=r.posAtStart,e=t+r.length;(t>=n.to||e<=n.from)&&(n=I.range(t,e))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1},Ir.dragend=t=>(t.inputState.draggedContent=null,!1),Ir.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&Gr(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),s()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return Gr(t,e,n,!0),!0}return!1},Ir.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Mr?null:e.clipboardData;return n?($r(t,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),$r(t,n.value)}),50)}(t),!1)};let Yr=null;Ir.copy=Ir.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let s=t.doc.lineAt(r);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}(t.state);if(!n&&!i)return!1;Yr=i?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=Mr?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),!1)};const Zr=ht.define();function Kr(t,e){let n=[];for(let r of t.facet(Bn)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:Zr.of(!0)}):null}function Jr(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=Kr(t.state,e);n?t.dispatch(n):t.update([])}}),10)}Nr.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Jr(t)},Nr.blur=t=>{t.observer.clearSelectionRange(),Jr(t)},Nr.compositionstart=Nr.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)},Nr.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ue.chrome&&Ue.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50)},Nr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Ir.beforeinput=(t,e)=>{var n;let r;if(Ue.chrome&&Ue.android&&(r=_r.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return!1};const ti=new Set;const ei=["pre-wrap","normal","pre-line","break-spaces"];class ni{constructor(t){this.lineWrapping=t,this.doc=n.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return ei.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,i,s){let o=ei.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=i,l){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class ri{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class ii{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?rn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof an?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new ii(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var si=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(si||(si={}));const oi=.001;class li{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>oi&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return li.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this,s=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:l,toA:a,fromB:u,toB:c}=r[o],h=i.lineAt(l,si.ByPosNoHeight,n.setDoc(e),0,0),f=h.to>=a?h:i.lineAt(a,si.ByPosNoHeight,n,0,0);for(c+=f.to-a,a=f.to;o>0&&h.from<=r[o-1].toA;)l=r[o-1].fromA,u=r[o-1].fromB,o--,l<h.from&&(h=i.lineAt(l,si.ByPosNoHeight,n,0,0));u+=h.from-l,l=h.from;let d=di.build(n.setDoc(s),t,u,c);i=i.replace(l,a,d)}return i.updateHeight(n,0)}static empty(){return new ui(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new hi(li.of(t.slice(0,e)),s,li.of(t.slice(n)))}}li.prototype.size=1;class ai extends li{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new ii(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,s){t<=i+this.length&&e>=i&&s(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ui extends ai{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new ii(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof ui||r instanceof ci&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof ci?r=new ui(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):li.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ci extends li{constructor(t){super(t,0)}heightMetrics(t,e){let n,r=t.doc.lineAt(e).number,i=t.doc.lineAt(e+this.length).number,s=i-r+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);n=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else n=this.height/s;return{firstLine:r,lastLine:i,perLine:n,perChar:o}}blockAt(t,e,n,r){let{firstLine:i,lastLine:s,perLine:o,perChar:l}=this.heightMetrics(e,r);if(e.lineWrapping){let i=r+Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length),s=e.doc.lineAt(i),a=o+s.length*l,u=Math.max(n,t-a/2);return new ii(s.from,s.length,u,a,0)}{let r=Math.max(0,Math.min(s-i,Math.floor((t-n)/o))),{from:l,length:a}=e.doc.line(i+r);return new ii(l,a,n+o*r,o,0)}}lineAt(t,e,n,r,i){if(e==si.ByHeight)return this.blockAt(t,n,r,i);if(e==si.ByPosNoHeight){let{from:e,to:r}=n.doc.lineAt(t);return new ii(e,r-e,0,0,0)}let{firstLine:s,perLine:o,perChar:l}=this.heightMetrics(n,i),a=n.doc.lineAt(t),u=o+a.length*l,c=a.number-s,h=r+o*c+l*(a.from-i-c);return new ii(a.from,a.length,Math.max(r,Math.min(h,r+this.height-u)),u,0)}forEachLine(t,e,n,r,i,s){t=Math.max(t,i),e=Math.min(e,i+this.length);let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(n,i);for(let u=t,c=r;u<=e;){let e=n.doc.lineAt(u);if(u==t){let n=e.number-o;c+=l*n+a*(t-i-n)}let r=l+a*e.length;s(new ii(e.from,e.length,c,r,0)),c+=r,u=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof ci?n[n.length-1]=new ci(t.length+r):n.push(null,new ci(r-1))}if(t>0){let e=n[0];e instanceof ci?n[0]=new ci(t+e.length):n.unshift(new ci(t-1),null)}return li.of(n)}decomposeLeft(t,e){e.push(new ci(t-1),null)}decomposeRight(t,e){e.push(null,new ci(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],s=Math.max(e,r.from),o=-1;for(r.from>e&&n.push(new ci(r.from-e-1).updateHeight(t,e));s<=i&&r.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==o?o=i:Math.abs(i-o)>=oi&&(o=-2);let l=new ui(e,i);l.outdated=!1,n.push(l),s+=e+1}s<=i&&n.push(null,new ci(i-s).updateHeight(t,s));let l=li.of(n);return(o<0||Math.abs(l.height-this.height)>=oi||Math.abs(o-this.heightMetrics(t,e).perLine)>=oi)&&(t.heightChanged=!0),l}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class hi extends li{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let s=r+this.left.height,o=i+this.left.length+this.break,l=e==si.ByHeight?t<s:t<o,a=l?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,s,o);if(this.break||(l?a.to<o:a.from>o))return a;let u=e==si.ByPosNoHeight?si.ByPosNoHeight:si.ByPos;return l?a.join(this.right.lineAt(o,u,n,s,o)):this.left.lineAt(o,u,n,r,i).join(a)}forEachLine(t,e,n,r,i,s){let o=r+this.left.height,l=i+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,i,s),e>=l&&this.right.forEachLine(t,e,n,o,l,s);else{let a=this.lineAt(l,si.ByPos,n,r,i);t<a.from&&this.left.forEachLine(t,a.from-1,n,r,i,s),a.to>=t&&a.from<=e&&s(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,o,l,s)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let s=i.length;for(let t of n)i.push(t);if(t>0&&fi(i,s-1),e<this.length){let t=i.length;this.decomposeRight(e,i),fi(i,t)}return li.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?li.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:s}=this,o=e+i.length+this.break,l=null;return r&&r.from<=e+i.length&&r.more?l=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=o+s.length&&r.more?l=s=s.updateHeight(t,o,n,r):s.updateHeight(t,o,n),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function fi(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof ci&&(r=t[e+1])instanceof ci&&t.splice(e-1,3,new ci(n.length+1+r.length))}class di{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof ui?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new ui(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new ai(s,r,n)):(s||i||r>=5)&&this.addLineDeco(r,i,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new ui(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new ci(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof ui)return t;let e=new ui(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof ui||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ui(0,-1));let n=t;for(let t of this.nodes)t instanceof ui&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let i=new di(n,t);return Lt.spans(e,n,r,i,0),i.finish(n)}}class vi{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&cn(t,e,this.changes,5)}}function gi(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=r.body;)if(1==e.nodeType){let n=e,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();s=Math.max(s,r.left),o=Math.min(o,r.right),l=Math.max(l,r.top),a=e==t.parentNode?r.bottom:Math.min(a,r.bottom)}e="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function pi(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class mi{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t,e){return sn.replace({widget:new Ri(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Ri extends nn{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Oi{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ki,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=vn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(Kn).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new ni(e),this.stateDeco=t.facet(Jn).filter((t=>"function"!=typeof t)),this.heightMap=li.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle.setDoc(t.doc),[new lr(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=sn.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineBlockAt(r);t.push(new wi(e,n))}}this.viewports=t.sort(((t,e)=>t.from-e.from)),this.scaler=this.heightMap.height<=7e6?ki:new Ci(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(1==this.scaler.scale?t:Ti(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Jn).filter((t=>"function"!=typeof t));let r=t.changedRanges,i=lr.extendWithRanges(r,function(t,e,n){let r=new vi;return Lt.compare(t,e,n,r,0),r.changes}(n,this.stateDeco,t?t.changes:S.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=s&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=i.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let a=!t.changes.empty||2&t.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(Hn)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?vn.RTL:vn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=e.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let{scaleX:t,scaleY:n}=ve(e,l);this.scaleX==t&&this.scaleY==n||(this.scaleX=t,this.scaleY=n,u|=8,o=a=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==f||(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=8);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=ye(t.scrollDOM);let v=(this.printing?pi:gi)(e,this.paddingTop),g=v.top-this.pixelViewport.top,p=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let R=l.width;if(this.contentDOMWidth==R&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,u|=8),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(o=!0),o||i.lineWrapping&&Math.abs(R-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:r,textHeight:l}=t.docView.measureTextSize();o=n>0&&i.refresh(s,n,r,l,R/r,e),o&&(t.docView.minWidth=0,u|=8)}g>0&&p>0?c=Math.max(g,p):g<0&&p<0&&(c=Math.min(g,p)),i.heightChanged=!1;for(let r of this.viewports){let s=r.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(r);this.heightMap=(o?li.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle,[new lr(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new ri(r.from,s))}i.heightChanged&&(u|=2)}let O=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&u||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,l=new wi(r.lineAt(s-1e3*n,si.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),si.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(t,si.ByPos,i,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-s,l=new wi(r.lineAt(n-500,si.ByHeight,i,0,0).from,r.lineAt(n+s+500,si.ByHeight,i,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new wi(this.heightMap.lineAt(n,si.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,si.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,si.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(e,si.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||r<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>s-2e3&&i<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new mi(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,s=r<<1;if(this.defaultTextDirection!=vn.LTR&&!n)return[];let o=[],l=(r,s,a,u)=>{if(s-r<i)return;let c=this.state.selection.main,h=[c.from];c.empty||h.push(c.to);for(let t of h)if(t>r&&t<s)return l(r,t-10,a,u),void l(t+10,s,a,u);let f=function(t,e){for(let n of t)if(e(n))return n;return}(t,(t=>t.from>=a.from&&t.to<=a.to&&Math.abs(t.from-r)<i&&Math.abs(t.to-s)<i&&!h.some((e=>t.from<e&&t.to>e))));if(!f){if(s<a.to&&e&&n&&e.visibleRanges.some((t=>t.from<=s&&t.to>=s))){let t=e.moveToLineBoundary(I.cursor(s),!1,!0).head;t>r&&(s=t)}f=new mi(r,s,this.gapSize(a,r,s,u))}o.push(f)};for(let t of this.viewportLines){if(t.length<s)continue;let e=xi(t.from,t.to,this.stateDeco);if(e.total<s)continue;let i,o,a=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,s,l=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let r=bi(e,a),i=((this.visibleBottom-this.visibleTop)/2+l)/t.height;n=r-i,s=r+i}else n=(this.visibleTop-t.top-l)/t.height,s=(this.visibleBottom-t.top+l)/t.height;i=yi(e,n),o=yi(e,s)}else{let t,n,s=e.total*this.heightOracle.charWidth,l=r*this.heightOracle.charWidth;if(null!=a){let r=bi(e,a),i=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/s;t=r-i,n=r+i}else t=(this.pixelViewport.left-l)/s,n=(this.pixelViewport.right+l)/s;i=yi(e,t),o=yi(e,n)}i>t.from&&l(t.from,i,t,e),o<t.to&&l(o,t.to,t,e)}return o}gapSize(t,e,n,r){let i=bi(r,n)-bi(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){mi.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=sn.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Lt.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Ti(this.heightMap.lineAt(t,si.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return Ti(this.heightMap.lineAt(this.scaler.fromDOM(t),si.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Ti(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class wi{constructor(t,e){this.from=t,this.to=e}}function xi(t,e,n){let r=[],i=t,s=0;return Lt.spans(n,t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),s+=t-i),i=e}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function yi({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],s=i-n;if(r<=s)return n+r;r-=s}}function bi(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}const ki={toDOM:t=>t,fromDOM:t=>t,scale:1};class Ci{constructor(t,e,n){let r=0,i=0,s=0;this.viewports=n.map((({from:n,to:i})=>{let s=e.lineAt(n,si.ByPos,t,0,0).top,o=e.lineAt(i,si.ByPos,t,0,0).bottom;return r+=o-s,{from:n,to:i,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=s+(t.top-i)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return r+(t-n)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);n=i.bottom,r=i.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return n+(t-r)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);n=i.bottom,r=i.domBottom}}}function Ti(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ii(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map((t=>Ti(t,e))):t._content)}const Si=$.define({combine:t=>t.join(" ")}),Ai=$.define({combine:t=>t.indexOf(!0)>-1}),Pi=Gt.newName(),_i=Gt.newName(),Ei=Gt.newName(),Li={"&light":"."+_i,"&dark":"."+Ei};function Di(t,e,n){return new Gt(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const Qi=Di("."+Pi,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Li),Ii="￿";class Ni{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Tt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Ii}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let t=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==e)break;let s=Ce.get(r),o=Ce.get(i);(s&&o?s.breakAfter:(s?s.breakAfter:$i(r))||$i(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>t)&&this.lineBreak(),r=i}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=r.exec(e))&&(s=i.index,o=i[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=Ce.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Mi(t,n.node,n.offset)?e:0))}}function Mi(t,e,n){for(;;){if(!e||n<he(e))return!1;if(e==t)return!0;n=ue(e)+1,e=e.parentNode}}function $i(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Fi{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Bi{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:i,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=i||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;n&&(e.push(new Fi(n,r)),i==n&&s==r||e.push(new Fi(i,s)));return e}(t),n=new Ni(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?I.single(n+e,r+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=i&&i.node==e.focusNode&&i.offset==e.focusOffset||!se(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),r=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!se(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),o=t.viewport;if((Ue.ios||Ue.chrome)&&t.state.selection.main.empty&&n!=r&&(o.from>0||o.to<t.state.doc.length)){let e=Math.min(n,r),i=Math.max(n,r),s=o.from-e,l=o.to-i;0!=s&&1!=s&&0!=e||0!=l&&-1!=l&&i!=t.state.doc.length||(n=0,r=t.state.doc.length)}this.newSel=I.single(r,n)}}}function Ui(t,e){let r,{newSel:i}=e,s=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:l}=e.bounds,a=s.from,u=null;(8===o||Ue.android&&e.text.length<l-i)&&(a=s.to,u="end");let c=function(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if("end"==r){n-=o+Math.max(0,s-Math.min(o,l))-s}if(o<s&&t.length<e.length){s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s}else if(l<s){s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}(t.state.doc.sliceString(i,l,Ii),e.text,a-i,u);c&&(Ue.chrome&&13==o&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Ii+Ii&&c.toB--,r={from:i+c.from,to:i+c.toA,insert:n.of(e.text.slice(c.from,c.toB).split(Ii))})}else i&&(!t.hasFocus&&t.state.facet(zn)||i.main.eq(s))&&(i=null);if(!r&&!i)return!1;if(!r&&e.typeOver&&!s.empty&&i&&i.main.empty?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,s.to))}:(Ue.mac||Ue.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==r.insert.length&&(i=I.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}):Ue.chrome&&r&&r.from==r.to&&r.from==s.head&&"\n "==r.insert.toString()&&t.lineWrapping&&(i&&(i=I.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}),r){if(Ue.ios&&t.inputState.flushIOSKey())return!0;if(Ue.android&&(r.from==s.from&&r.to==s.to&&1==r.insert.length&&2==r.insert.lines&&we(t.contentDOM,"Enter",13)||(r.from==s.from-1&&r.to==s.to&&0==r.insert.length||8==o&&r.insert.length<r.to-r.from&&r.to>s.head)&&we(t.contentDOM,"Backspace",8)||r.from==s.from&&r.to==s.to+1&&0==r.insert.length&&we(t.contentDOM,"Delete",46)))return!0;let e,n=r.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l=()=>e||(e=function(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=s.from<e.from?i.sliceDoc(s.from,e.from):"",o=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+o))}else{let o=i.changes(e),l=n&&n.main.to<=o.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let a,u=t.state.sliceDoc(e.from,e.to),c=n&&hr(t,n.main.head);if(c){let t=e.insert.length-(e.to-e.from);a={from:c.from,to:c.to-t}}else a=t.state.doc.lineAt(s.head);let h=s.to-e.to,f=s.to-s.from;r=i.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:o,range:l||n.map(o)};let r=n.to-h,c=r-u.length;if(n.to-n.from!=f||t.state.sliceDoc(c,r)!=u||n.to>=a.from&&n.from<=a.to)return{range:n};let d=i.changes({from:c,to:r,insert:e.insert}),v=n.to-s.to;return{changes:d,range:l?I.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):n.map(d)}}))}else r={changes:o,selection:l&&i.selection.replaceRange(l)}}let o="input.type";(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1));return i.update(r,{userEvent:o,scrollIntoView:!0})}(t,r,i));return t.state.facet(Fn).some((e=>e(t,r.from,r.to,n,l)))||t.dispatch(l()),!0}if(i&&!i.main.eq(s)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}const Hi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},qi=Ue.ie&&Ue.ie_version<=11;class Xi{constructor(t){this.view=t,this.active=!1,this.selectionRange=new ge,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(Ue.ie&&Ue.ie_version<=11||Ue.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),qi&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(zn)?n.root.activeElement!=this.dom:!oe(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(t)?e||(this.selectionChanged=!1):(Ue.ie&&Ue.ie_version<=11||Ue.android&&Ue.chrome)&&!n.state.selection.main.empty&&r.focusNode&&ae(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Ue.safari&&11==t.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t){let e=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);ae(l.node,l.offset,s,o)&&([r,i,s,o]=[s,o,r,i]);return{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}(this.view)||ie(t.root);if(!e||this.selectionRange.eq(e))return!1;let n=oe(this.dom,e);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,he(n));;)if(r){if(1!=n.nodeType)return!1;let t=n.childNodes[r-1];"false"==t.contentEditable?r--:(n=t,r=he(n))}else{if(n==t)return!0;r=ue(n),n=n.parentNode}}(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Hi),qi&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),qi&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;if(t){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&we(this.dom,t.key,t.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&oe(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Bi(this.view,t,e,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=Ui(this.view,e);return this.view.state==n&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=Vi(e,t.previousSibling||t.target.previousSibling,-1),r=Vi(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Vi(t,e,n){for(;e;){let r=Ce.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}class zi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:e}=t;this.dispatchTransactions=t.dispatchTransactions||e&&(t=>t.forEach((t=>e(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new Oi(t.state||Tt.create(t)),t.scrollTo&&t.scrollTo.is(Xn)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(jn).map((t=>new Yn(t)));for(let t of this.plugins)t.update(this);this.observer=new Xi(this),this.inputState=new Sr(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ur(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...t){let e=1==t.length&&t[0]instanceof gt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,i=this.state;for(let e of t){if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}if(this.destroyed)return void(this.viewState.state=i);let s=this.hasFocus,o=0,l=null;t.some((t=>t.annotation(Zr)))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=Kr(i,s),l||(o=1));let a=this.observer.delayedAndroidKey,u=null;if(a?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(u=null)):this.observer.clear(),i.facet(Tt.phrases)!=this.state.facet(Tt.phrases))return this.setState(i);e=ar.create(this,i,t),e.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(c&&(c=c.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;c=new qn(t.empty?t:I.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Xn)&&(c=t.value.clip(this.state))}this.viewState.update(e,c),this.bidiCache=Gi.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(or)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(Si)!=e.state.facet(Si)&&(this.viewState.mustMeasureContent=!0),(n||r||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!e.empty)for(let t of this.state.facet($n))try{t(e)}catch(t){Vn(this.state,t,"update listener")}(l||u)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!Ui(this,u)&&a.force&&we(this.contentDOM,a.key,a.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Oi(t),this.plugins=t.facet(jn).map((t=>new Yn(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new ur(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(jn),n=t.state.facet(jn);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new Yn(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(ye(n))i=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(r);i=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&o||([this.measureRequests,l]=[l,this.measureRequests]);let a=l.map((t=>{try{return t.read(this)}catch(t){return Vn(this.state,t),ji}})),u=ar.create(this,this.state,[]),c=!1;u.flags|=o,e?e.flags|=o:e=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),c=this.docView.update(u));for(let t=0;t<l.length;t++)if(a[t]!=ji)try{let e=l[t];e.write&&e.write(a[t],this)}catch(t){Vn(this.state,t)}if(c&&this.docView.updateSelection(!0),!u.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(t>1||t<-1){r+=t,n.scrollTop=r/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet($n))t(e)}get themeClasses(){return Pi+" "+(this.state.facet(Ai)?Ei:_i)+" "+this.state.facet(Si)}updateAttrs(){let t=Yi(this,Zn,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(zn)?"true":"false",class:"cm-content",style:`${Ue.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),Yi(this,Kn,e);let n=this.observer.ignore((()=>{let n=Ke(this.contentDOM,this.contentAttrs,e),r=Ke(this.dom,this.editorAttrs,t);return n||r}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(zi.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(or);let t=this.state.facet(zi.cspNonce);Gt.mount(this.root,this.styleModules.concat(Qi).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Tr(this,t,kr(this,t,e,n))}moveByGroup(t,e){return Tr(this,t,kr(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return t=>{let e=r(t);return i==yt.Space&&(i=e),i==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),r=this.textDirectionAt(t.from),i=n[e?n.length-1:0];return I.cursor(i.side(e,r)+t.from,i.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let i=br(t,e.head),s=r&&i.type==rn.Text&&(t.lineWrapping||i.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(i.from),o=t.posAtCoords({x:n==(r==vn.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=o)return I.cursor(o,n?-1:1)}return I.cursor(n?i.to:i.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return Tr(this,t,function(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return I.cursor(i,e.assoc);let o,l=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)null==l&&(l=u.left-a.left),o=s<0?u.top:u.bottom;else{let e=t.viewState.lineBlockAt(i);null==l&&(l=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-e.from))),o=(s<0?e.top:e.bottom)+c}let h=a.left+l,f=null!=r?r:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=o+(f+e)*s,r=xr(t,{x:h,y:n},!1,s);if(n<a.top||n>a.bottom||(s<0?r<i:r>i)){let e=t.docView.coordsForChar(r),i=!e||n<e.top?-1:1;return I.cursor(r,i,void 0,l)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),xr(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return fe(n,i[kn.find(i,t-r.from,-1,e)].dir==vn.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Un)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Wi)return _n(t.length);let e,n=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==n&&(r.fresh||Cn(r.isolates,e=rr(this,t))))return r.order;e||(e=rr(this,t));let r=Pn(t.text,n,e);return this.bidiCache.push(new Gi(t.from,t.to,n,e,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Ue.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Re(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Xn.of(new qn("number"==typeof t?I.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return Xn.of(new qn(I.cursor(n.from),"start","start",n.top-t,e,!0))}static domEventHandlers(t){return Gn.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return Gn.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=Gt.newName(),r=[Si.of(n),or.of(Di(`.${n}`,t))];return e&&e.dark&&r.push(Ai.of(!0)),r}static baseTheme(t){return Z.lowest(or.of(Di("."+Pi,t,Li)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&Ce.get(n)||Ce.get(t);return(null===(e=null==r?void 0:r.rootView)||void 0===e?void 0:e.view)||null}}zi.styleModule=or,zi.inputHandler=Fn,zi.focusChangeEffect=Bn,zi.perLineTextDirection=Un,zi.exceptionSink=Mn,zi.updateListener=$n,zi.editable=zn,zi.mouseSelectionStyle=Nn,zi.dragMovesSelection=In,zi.clickAddsSelectionRange=Qn,zi.decorations=Jn,zi.outerDecorations=tr,zi.atomicRanges=er,zi.bidiIsolatedRanges=nr,zi.scrollMargins=ir,zi.darkTheme=Ai,zi.cspNonce=$.define({combine:t=>t.length?t[0]:""}),zi.contentAttributes=Kn,zi.editorAttributes=Zn,zi.lineWrapping=zi.contentAttributes.of({class:"cm-lineWrapping"}),zi.announce=vt.define();const Wi=4096,ji={};class Gi{constructor(t,e,n,r,i,s){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=i,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],r=t.length?t[t.length-1].dir:vn.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let s=t[i];s.dir!=r||e.touchesRange(s.from,s.to)||n.push(new Gi(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function Yi(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let e=r[i],s="function"==typeof e?e(t):e;s&&Ge(s,n)}return n}const Zi=Ue.mac?"mac":Ue.windows?"win":Ue.linux?"linux":"key";function Ki(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const Ji=Z.default(zi.domEventHandlers({keydown:(t,e)=>ss(ns(e.state),t,e,"editor")})),ts=$.define({enables:Ji}),es=new WeakMap;function ns(t){let e=t.facet(ts),n=es.get(e);return n||es.set(e,n=function(t,e=Zi){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,r,s,o,l)=>{var a,u;let c=n[t]||(n[t]=Object.create(null)),h=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,s,o,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?o=!0:i=!0}}return r&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<h.length;e++){let n=h.slice(0,e).join(" ");i(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let r=rs={view:e,prefix:n,scope:t};return setTimeout((()=>{rs==r&&(rs=null)}),is),!0}]})}let f=h.join(" ");i(f,!1);let d=c[f]||(c[f]={preventDefault:!1,stopPropagation:!1,run:(null===(u=null===(a=c._any)||void 0===a?void 0:a.run)||void 0===u?void 0:u.slice())||[]});s&&d.run.push(s),o&&(d.preventDefault=!0),l&&(d.stopPropagation=!0)};for(let r of t){let t=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let e in t)t[e].run.push(r.any)}let i=r[e]||r.key;if(i)for(let e of t)s(e,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&s(e,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let rs=null;const is=4e3;function ss(t,e,n,r){let i=function(t){var e=!(te&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ee&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Jt:Kt)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=b(x(i,0))==i.length&&" "!=i,o="",l=!1,a=!1,u=!1;rs&&rs.view==n&&rs.scope==r&&(o=rs.prefix+" ",Lr.indexOf(e.keyCode)<0&&(a=!0,rs=null));let c,h,f=new Set,d=t=>{if(t){for(let r of t.run)if(!f.has(r)&&(f.add(r),r(n,e)))return t.stopPropagation&&(u=!0),!0;t.preventDefault&&(t.stopPropagation&&(u=!0),a=!0)}return!1},v=t[r];return v&&(d(v[o+Ki(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ue.windows&&e.ctrlKey&&e.altKey)&&(c=Kt[e.keyCode])&&c!=i?(d(v[o+Ki(c,e,!0)])||e.shiftKey&&(h=Jt[e.keyCode])!=i&&h!=c&&d(v[o+Ki(h,e,!1)]))&&(l=!0):s&&e.shiftKey&&d(v[o+Ki(i,e,!0)])&&(l=!0),!l&&d(v._any)&&(l=!0)),a&&(l=!0),l&&u&&e.stopPropagation(),l}class os{constructor(t,e,n,r,i){this.className=t,this.left=e,this.top=n,this.width=r,this.height=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=ls(t);return[new os(e,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==vn.LTR,o=t.contentDOM,l=o.getBoundingClientRect(),a=ls(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=br(t,r),v=br(t,i),g=d.type==rn.Text?d:null,p=v.type==rn.Text?v:null;g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=as(t,r,g));p&&(t.lineWrapping||v.widgetLineBreaks)&&(p=as(t,i,p));if(g&&p&&g.from==p.from)return R(O(n.from,n.to,g));{let e=g?O(n.from,null,g):w(d,!1),r=p?O(null,n.to,p):w(v,!0),i=[];return(g||d).to<(p||v).from-(g&&p?1:0)||d.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<r.top?i.push(m(h,e.bottom,f,r.top)):e.bottom<r.top&&t.elementAtHeight((e.bottom+r.top)/2).type==rn.Text&&(e.bottom=r.top=(e.bottom+r.top)/2),R(e).concat(i).concat(R(r))}function m(t,n,r,i){return new os(e,t-a.left,n-a.top-.01,r-t,i-n+.01)}function R({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(m(n[i],t,n[i+1],e));return r}function O(e,n,r){let i=1e9,o=-1e9,l=[];function a(e,n,a,u,c){let d=t.coordsAtPos(e,e==r.to?-2:2),v=t.coordsAtPos(a,a==r.from?2:-2);d&&v&&(i=Math.min(d.top,v.top,i),o=Math.max(d.bottom,v.bottom,o),c==vn.LTR?l.push(s&&n?h:d.left,s&&u?f:v.right):l.push(!s&&u?h:v.left,!s&&n?f:d.right))}let u=null!=e?e:r.from,c=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>u&&r.from<c)for(let i=Math.max(r.from,u),s=Math.min(r.to,c);;){let r=t.state.doc.lineAt(i);for(let o of t.bidiSpans(r)){let t=o.from+r.from,l=o.to+r.from;if(t>=s)break;l>i&&a(Math.max(t,i),null==e&&t<=u,Math.min(l,s),null==n&&l>=c,o.dir)}if(i=r.to+1,i>=s)break}return 0==l.length&&a(u,null==e,c,null==n,t.textDirection),{top:i,bottom:o,horizontal:l}}function w(t,e){let n=l.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(t,e,n)}}function ls(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==vn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function as(t,e,n){let r=I.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:rn.Text}}class us{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(cs)!=t.state.facet(cs)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}setOrder(t){let e=0,n=t.facet(cs);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>!function(t,e){return t.constructor==e.constructor&&t.eq(e)}(t,this.drawn[e])))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const cs=$.define();function hs(t){return[Gn.define((e=>new us(e,t))),cs.of(t)]}const fs=!Ue.ios,ds=$.define({combine:t=>St(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function vs(t={}){return[ds.of(t),ps,Rs,ws,Hn.of(!0)]}function gs(t){return t.startState.facet(ds)!=t.state.facet(ds)}const ps=hs({above:!0,markers(t){let{state:e}=t,n=e.facet(ds),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||fs:n.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:I.cursor(i.head,i.head>i.anchor?-1:1);for(let i of os.forRange(t,e,n))r.push(i)}}return r},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let n=gs(t);return n&&ms(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){ms(e.state,t)},class:"cm-cursorLayer"});function ms(t,e){e.style.animationDuration=t.facet(ds).cursorBlinkRate+"ms"}const Rs=hs({above:!1,markers:t=>t.state.selection.ranges.map((e=>e.empty?[]:os.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e))),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||gs(t),class:"cm-selectionLayer"}),Os={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};fs&&(Os[".cm-line"].caretColor="transparent !important",Os[".cm-content"]={caretColor:"transparent !important"});const ws=Z.highest(zi.theme(Os)),xs=vt.define({map:(t,e)=>null==t?null:e.mapPos(t)}),ys=V.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(xs)?e.value:t),t))}),bs=Gn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(ys);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ys)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ys),n=null!=e&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ys)!=t&&this.view.dispatch({effects:xs.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function ks(t,e,n,r,i){e.lastIndex=0;for(let s,o=t.iterRange(n,r),l=n;!o.next().done;l+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(l+s.index,s)}class Cs{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:i,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(t,e,n,i)=>r(i,n,n+t[0].length,t,e);else if("function"==typeof n)this.addMatch=(t,e,r,i)=>{let s=n(t,e,r);s&&i(r,r+t[0].length,s)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,r,i)=>i(r,r+t[0].length,n)}this.boundary=i,this.maxLength=s}createDeco(t){let e=new Dt,n=e.add.bind(e);for(let{from:e,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(t,this.maxLength))ks(t.state.doc,this.regexp,e,r,((e,r)=>this.addMatch(r,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),r=Math.max(o,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let s=Math.max(i.from,n),o=Math.min(i.to,r);if(o>s){let n=t.state.doc.lineAt(s),r=n.to<o?t.state.doc.lineAt(o):n,l=Math.max(i.from,n.from),a=Math.min(i.to,r.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){l=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){a=o;break}}let u,c=[],h=(t,e,n)=>c.push(n.range(t,e));if(n==r)for(this.regexp.lastIndex=l-n.from;(u=this.regexp.exec(n.text))&&u.index<a-n.from;)this.addMatch(u,t,u.index+n.from,h);else ks(t.state.doc,this.regexp,l,a,((e,n)=>this.addMatch(n,t,e,h)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:c})}}return e}}const Ts=null!=/x/.unicode?"gu":"g",Ss=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Ts),As={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ps=null;const _s=$.define({combine(t){let e=St(t,{render:null,specialChars:Ss,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==Ps&&"undefined"!=typeof document&&document.body){let e=document.body.style;Ps=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Ps||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Ts)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ts)),e}});function Es(t={}){return[_s.of(t),Ls||(Ls=Gn.fromClass(class{constructor(t){this.view=t,this.decorations=sn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(_s)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Cs({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=x(e[0],0);if(9==s){let t=i.lineAt(r),e=n.state.tabSize,s=Xt(t.text,e,r-t.from);return sn.replace({widget:new Qs((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=sn.replace({widget:new Ds(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(_s);t.startState.facet(_s)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let Ls=null;class Ds extends nn{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(As[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Qs extends nn{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Is=sn.line({class:"cm-activeLine"}),Ns=Gn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Is.range(i.from)),e=i.from)}return sn.set(n)}},{decorations:t=>t.decorations});const Ms=2e3;function $s(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Ms?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):Xt(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function Fs(t,e){let n=$s(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,s){let o=$s(t,e);if(!o)return r;let l=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Ms||n.off>Ms||e.col<0||n.col<0){let o=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=l&&s.push(I.range(n.from+o,n.to+l))}}else{let o=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=Vt(n.text,o,t.tabSize,!0);if(r<0)s.push(I.cursor(n.to));else{let e=Vt(n.text,l,t.tabSize);s.push(I.range(n.from+r,n.from+e))}}}return s}(t.state,n,o);return l.length?s?I.create(l.concat(r.ranges)):I.create(l):r}}:null}function Bs(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return zi.mouseSelectionStyle.of(((t,n)=>e(n)?Fs(t,n):null))}const Us={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Hs={style:"cursor: crosshair"};function qs(t={}){let[e,n]=Us[t.key||"Alt"],r=Gn.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)},mousemove(t){this.set(n(t))}}});return[r,zi.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.isDown)?Hs:null}))]}const Xs="-10000px";class Vs{constructor(t,e,n,r){this.facet=e,this.createTooltipView=n,this.removeTooltipView=r,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t));let i=null;this.tooltipViews=this.tooltips.map((t=>i=n(t,i)))}update(t,e){var n;let r=t.state.facet(this.facet),i=r.filter((t=>t));if(r===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],o=e?[]:null;for(let n=0;n<i.length;n++){let r=i[n],l=-1;if(r){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==r.create&&(l=t)}if(l<0)s[n]=this.createTooltipView(r,n?s[n-1]:null),o&&(o[n]=!!r.above);else{let r=s[n]=this.tooltipViews[l];o&&(o[n]=e[l]),r.update&&r.update(t)}}}for(let t of this.tooltipViews)s.indexOf(t)<0&&(this.removeTooltipView(t),null===(n=t.destroy)||void 0===n||n.call(t));return e&&(o.forEach(((t,n)=>e[n]=t)),e.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function zs(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Ws=$.define({combine:t=>{var e,n,r;return{position:Ue.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||zs}}}),js=new WeakMap,Gs=Gn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Ws);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new Vs(t,Ks,((t,e)=>this.createTooltip(t,e)),(t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()})),this.above=this.manager.tooltips.map((t=>!!t.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Ws);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",n.dom.insertBefore(t,r)}return n.dom.style.position=this.position,n.dom.style.top=Xs,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(Ue.gecko)r=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==Xs&&"0px"==t.style.left){let e=t.getBoundingClientRect();r=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(r||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,n=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(Ws).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=t.pos[l],f=t.size[l];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){c.style.top=Xs;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,v=d?7:0,g=f.right-f.left,p=null!==(e=js.get(u))&&void 0!==e?e:f.bottom-f.top,m=u.offset||Zs,R=this.view.textDirection==vn.LTR,O=f.width>r.right-r.left?R?r.left:r.right-f.width:R?Math.min(h.left-(d?14:0)+m.x,r.right-g):Math.max(r.left,h.left-g+(d?14:0)-m.x),w=this.above[l];!a.strictSide&&(w?h.top-(f.bottom-f.top)-m.y<r.top:h.bottom+(f.bottom-f.top)+m.y>r.bottom)&&w==r.bottom-h.bottom>h.top-r.top&&(w=this.above[l]=!w);let x=(w?h.top-r.top:r.bottom-h.bottom)-v;if(x<p&&!1!==u.resize){if(x<this.view.defaultLineHeight){c.style.top=Xs;continue}js.set(u,p),c.style.height=(p=x)/s+"px"}else c.style.height&&(c.style.height="");let y=w?h.top-p-v-m.y:h.bottom+v+m.y,b=O+g;if(!0!==u.overlap)for(let t of o)t.left<b&&t.right>O&&t.top<y+p&&t.bottom>y&&(y=w?t.top-p-2-v:t.bottom+v+2);if("absolute"==this.position?(c.style.top=(y-t.parent.top)/s+"px",c.style.left=(O-t.parent.left)/i+"px"):(c.style.top=y/s+"px",c.style.left=O/i+"px"),d){let t=h.left+(R?m.x:-m.x)-(O+14-7);d.style.left=t/i+"px"}!0!==u.overlap&&o.push({left:O,top:y,right:b,bottom:y+p}),c.classList.toggle("cm-tooltip-above",w),c.classList.toggle("cm-tooltip-below",!w),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Xs}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Ys=zi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Zs={x:0,y:0},Ks=$.define({enables:[Gs,Ys]}),Js=$.define({combine:t=>t.reduce(((t,e)=>t.concat(e)),[])});class to{static create(t){return new to(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Vs(t,Js,((t,e)=>this.createHostedView(t,e)),(t=>t.dom.remove()))}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const eo=Ks.compute([Js],(t=>{let e=t.facet(Js);return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:to.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class no{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,i=1;if(n instanceof Xe)r=n.posAtStart;else{if(r=t.posAtCoords(e),null==r)return;let n=t.coordsAtPos(r);if(!n||e.y<n.top||e.y>n.bottom||e.x<n.left-t.defaultCharacterWidth||e.x>n.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(r)).find((t=>t.from<=r&&t.to>=r)),o=s&&s.dir==vn.RTL?-1:1;i=e.x<n.left?-o:o}let s=this.source(t,r,i);if(null==s?void 0:s.then){let e=this.pending={pos:r};s.then((n=>{this.pending==e&&(this.pending=null,!n||Array.isArray(n)&&!n.length||t.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(e=>Vn(t.state,e,"hover tooltip")))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(Gs),e=t?t.manager.tooltips.findIndex((t=>t.create==to.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r.length&&i&&!function(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-ro&&e.clientX<=n.right+ro&&e.clientY>=n.top-ro&&e.clientY<=n.bottom+ro}(i.dom,t)||this.pending){let{pos:i}=r[0]||this.pending,s=null!==(n=null===(e=r[0])||void 0===e?void 0:e.end)&&void 0!==n?n:i;(i==s?this.view.posAtCoords(this.lastMove)==i:function(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,l)<i)return!1;let a=t.posAtCoords({x:r,y:i},!1);return a>=e&&a<=n}(this.view,i,s,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ro=4;function io(t,e={}){let n=vt.define(),r=V.define({create:()=>[],update(t,r){if(t.length&&(e.hideOnChange&&(r.docChanged||r.selection)?t=[]:e.hideOn&&(t=t.filter((t=>!e.hideOn(r,t)))),r.docChanged)){let e=[];for(let n of t){let t=r.changes.mapPos(n.pos,-1,C.TrackDel);if(null!=t){let i=Object.assign(Object.create(null),n);i.pos=t,null!=i.end&&(i.end=r.changes.mapPos(i.end)),e.push(i)}}t=e}for(let e of r.effects)e.is(n)&&(t=e.value),e.is(oo)&&(t=[]);return t},provide:t=>Js.from(t)});return[r,Gn.define((i=>new no(i,t,r,n,e.hoverTime||300))),eo]}function so(t,e){let n=t.plugin(Gs);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const oo=vt.define();const lo=$.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function ao(t,e){let n=t.plugin(uo),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const uo=Gn.fromClass(class{constructor(t){this.input=t.state.facet(fo),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(lo);this.top=new co(t,!0,e.topContainer),this.bottom=new co(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(lo);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new co(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new co(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(fo);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],s=[],o=[];for(let n of e){let e,l=this.specs.indexOf(n);l<0?(e=n(t.view),o.push(e)):(e=this.panels[l],e.update&&e.update(t)),r.push(e),(e.top?i:s).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>zi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class co{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=ho(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=ho(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function ho(t){let e=t.nextSibling;return t.remove(),e}const fo=$.define({enables:uo});class vo extends At{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}vo.prototype.elementClass="",vo.prototype.toDOM=void 0,vo.prototype.mapMode=C.TrackBefore,vo.prototype.startSide=vo.prototype.endSide=-1,vo.prototype.point=!0;const go=$.define(),po={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Lt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},mo=$.define();function Ro(t){return[wo(),mo.of(Object.assign(Object.assign({},po),t))]}const Oo=$.define({combine:t=>t.some((t=>t))});function wo(t){let e=[xo];return t&&!1===t.fixed&&e.push(Oo.of(!0)),e}const xo=Gn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(mo).map((e=>new Co(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Oo),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Oo)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Lt.iter(this.view.state.facet(go),this.view.viewport.from),r=[],i=this.gutters.map((t=>new ko(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(t.type)){let e=!0;for(let s of t.type)if(s.type==rn.Text&&e){bo(n,r,s.from);for(let t of i)t.line(this.view,s,r);e=!1}else if(s.widget)for(let t of i)t.widget(this.view,s)}else if(t.type==rn.Text){bo(n,r,t.from);for(let e of i)e.line(this.view,t,r)}else if(t.widget)for(let e of i)e.widget(this.view,t);for(let t of i)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(mo),n=t.state.facet(mo),r=t.docChanged||t.heightChanged||t.viewportChanged||!Lt.eq(t.startState.facet(go),t.state.facet(go),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new Co(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>zi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==vn.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function yo(t){return Array.isArray(t)?t:[t]}function bo(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class ko{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=Lt.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,i=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==r.elements.length){let e=new To(t,s,i,n);r.elements.push(e),r.dom.appendChild(e.dom)}else r.elements[this.i].update(t,s,i,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];bo(this.cursor,r,e.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let s=this.gutter;(0!=r.length||s.config.renderEmptyElements)&&this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e);n&&this.addElement(t,e,[n])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Co{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,s=r.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();i=(t.top+t.bottom)/2}else i=r.clientY;let o=t.lineBlockAtHeight(i-t.documentTop);e.domEventHandlers[n](t,o,r)&&r.preventDefault()}));this.markers=yo(e.markers(t)),e.initialSpacer&&(this.spacer=new To(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=yo(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Lt.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class To{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,s=0;;){let o=s,l=i<e.length?e[i++]:null,a=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(l)){o=t,a=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!l)break;l.toDOM&&(a?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),a&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const So=$.define(),Ao=$.define({combine:t=>St(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class Po extends vo{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function _o(t,e){return t.state.facet(Ao).formatNumber(e,t.state)}const Eo=mo.compute([Ao],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(So),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Po(_o(t,t.state.doc.lineAt(e.from).number)),widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Ao)!=t.state.facet(Ao),initialSpacer:t=>new Po(_o(t,Do(t.state.doc.lines))),updateSpacer(t,e){let n=_o(e.view,Do(e.view.state.doc.lines));return n==t.number?t:new Po(n)},domEventHandlers:t.facet(Ao).domEventHandlers})));function Lo(t={}){return[Ao.of(t),wo(),Eo]}function Do(t){let e=9;for(;e<t;)e=10*e+9;return e}const Qo=new class extends vo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Io=go.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Qo.range(i)))}return Lt.of(e)}));const No=1024;let Mo=0;class $o{constructor(t,e){this.from=t,this.to=e}}class Fo{constructor(t={}){this.id=Mo++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Ho.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Fo.closedBy=new Fo({deserialize:t=>t.split(" ")}),Fo.openedBy=new Fo({deserialize:t=>t.split(" ")}),Fo.group=new Fo({deserialize:t=>t.split(" ")}),Fo.isolate=new Fo({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Fo.contextHash=new Fo({perNode:!0}),Fo.lookAhead=new Fo({perNode:!0}),Fo.mounted=new Fo({perNode:!0});class Bo{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Fo.mounted.id]}}const Uo=Object.create(null);class Ho{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):Uo,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new Ho(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Fo.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(Fo.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}Ho.none=new Ho("",Object.create(null),0,8);class qo{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let e of t){let t=e(n);t&&(r||(r=Object.assign({},n.props)),r[t[0].id]=t[1])}e.push(r?new Ho(n.name,r,n.id,n.flags):n)}return new qo(e)}}const Xo=new WeakMap,Vo=new WeakMap;var zo;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(zo||(zo={}));class Wo{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=Bo.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new ol(this.topNode,t)}cursorAt(t,e=0,n=0){let r=Xo.get(this)||this.topNode,i=new ol(r);return i.moveTo(t,e),Xo.set(this,i._tree),i}get topNode(){return new Jo(this,0,0,null)}resolve(t,e=0){let n=Zo(Xo.get(this)||this.topNode,t,e,!1);return Xo.set(this,n),n}resolveInner(t,e=0){let n=Zo(Vo.get(this)||this.topNode,t,e,!0);return Vo.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let r=t.resolveInner(e,n),i=null;for(let t=r instanceof Jo?r:r.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(i||(i=[r])).push(s.resolve(e,n)),t=s}else{let s=Bo.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new Jo(s.tree,s.overlay[0].from+t.from,-1,t);(i||(i=[r])).push(Zo(o,e,n,!1))}}return i?il(i):r}(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t,s=t.mode||0,o=(s&zo.IncludeAnonymous)>0;for(let t=this.cursor(s|zo.IncludeAnonymous);;){let s=!1;if(t.from<=i&&t.to>=r&&(!o&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&n&&(o||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:cl(Ho.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new Wo(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new Wo(Ho.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=No,reused:s=[],minRepeatType:o=r.types.length}=t,l=Array.isArray(n)?new jo(n,n.length):n,a=r.types,u=0,c=0;function h(t,e,n,R,O,w){let{id:x,start:y,end:b,size:k}=l,C=c;for(;k<0;){if(l.next(),-1==k){let e=s[x];return n.push(e),void R.push(y-t)}if(-3==k)return void(u=x);if(-4==k)return void(c=x);throw new RangeError(`Unrecognized record size: ${k}`)}let T,S,A=a[x],P=y-t;if(b-y<=i&&(S=p(l.pos-e,O))){let e=new Uint16Array(S.size-S.skip),n=l.pos-S.size,i=e.length;for(;l.pos>n;)i=m(S.start,e,i);T=new Go(e,b-S.start,r),P=S.start-t}else{let t=l.pos-k;l.next();let e=[],n=[],r=x>=o?x:-1,s=0,a=b;for(;l.pos>t;)r>=0&&l.id==r&&l.size>=0?(l.end<=a-i&&(v(e,n,y,s,l.end,a,r,C),s=e.length,a=l.end),l.next()):w>2500?f(y,t,e,n):h(y,t,e,n,r,w+1);if(r>=0&&s>0&&s<e.length&&v(e,n,y,s,y,a,r,C),e.reverse(),n.reverse(),r>-1&&s>0){let t=d(A);T=cl(A,e,n,0,e.length,0,b-y,t,t)}else T=g(A,e,n,b-y,C-b)}n.push(T),R.push(P)}function f(t,e,n,s){let o=[],a=0,u=-1;for(;l.pos>e;){let{id:t,start:e,end:n,size:r}=l;if(r>4)l.next();else{if(u>-1&&e<u)break;u<0&&(u=n-i),o.push(t,e,n),a++,l.next()}}if(a){let e=new Uint16Array(4*a),i=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-i,e[n++]=o[t+2]-i,e[n++]=n;n.push(new Go(e,o[2]-i,r)),s.push(i-t)}}function d(t){return(e,n,r)=>{let i,s,o=0,l=e.length-1;if(l>=0&&(i=e[l])instanceof Wo){if(!l&&i.type==t&&i.length==r)return i;(s=i.prop(Fo.lookAhead))&&(o=n[l]+i.length+s)}return g(t,e,n,r,o)}}function v(t,e,n,i,s,o,l,a){let u=[],c=[];for(;t.length>i;)u.push(t.pop()),c.push(e.pop()+n-s);t.push(g(r.types[l],u,c,o-s,a-o)),e.push(s-n)}function g(t,e,n,r,i=0,s){if(u){let t=[Fo.contextHash,u];s=s?[t].concat(s):[t]}if(i>25){let t=[Fo.lookAhead,i];s=s?[t].concat(s):[t]}return new Wo(t,e,n,r,s)}function p(t,e){let n=l.fork(),r=0,s=0,a=0,u=n.end-i,c={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){c.size=r,c.start=s,c.skip=a,a+=4,r+=4,n.next();continue}let l=n.pos-t;if(t<0||l<i||n.start<u)break;let h=n.id>=o?4:0,f=n.start;for(n.next();n.pos>l;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=o&&(h+=4);n.next()}s=f,r+=t,a+=h}return(e<0||r==t)&&(c.size=r,c.start=s,c.skip=a),c.size>4?c:void 0}function m(t,e,n){let{id:r,start:i,end:s,size:a}=l;if(l.next(),a>=0&&r<o){let o=n;if(a>4){let r=l.pos-(a-4);for(;l.pos>r;)n=m(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=i-t,e[--n]=r}else-3==a?u=r:-4==a&&(c=r);return n}let R=[],O=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,R,O,-1,0);let w=null!==(e=t.length)&&void 0!==e?e:R.length?O[0]+R[0].length:0;return new Wo(a[t.topID],R.reverse(),O.reverse(),w)}(t)}}Wo.empty=new Wo(Ho.none,[],[],0);class jo{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jo(this.buffer,this.index)}}class Go{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return Ho.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return i+"("+s.join(",")+")"}findChild(t,e,n,r,i){let{buffer:s}=this,o=-1;for(let l=t;l!=e&&!(Yo(i,r,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,e,n){let r=this.buffer,i=new Uint16Array(e-t),s=0;for(let o=t,l=0;o<e;){i[l++]=r[o++],i[l++]=r[o++]-n;let e=i[l++]=r[o++]-n;i[l++]=r[o++]-t,s=Math.max(s,e)}return new Go(i,s,this.set)}}function Yo(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Zo(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof Jo&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=r?0:zo.IgnoreOverlays;if(r)for(let r=t,o=r.parent;o;r=o,o=r.parent)r instanceof Jo&&r.index<0&&(null===(i=o.enter(e,n,s))||void 0===i?void 0:i.from)!=r.from&&(t=o);for(;;){let r=t.enter(e,n,s);if(!r)return t;t=r}}class Ko{cursor(t=0){return new ol(this,t)}getChild(t,e=null,n=null){let r=tl(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return tl(this,t,e,n)}resolve(t,e=0){return Zo(this,t,e,!1)}resolveInner(t,e=0){return Zo(this,t,e,!0)}matchContext(t){return el(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class Jo extends Ko{constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],u=l[t]+s.from;if(Yo(r,n,u,u+a.length))if(a instanceof Go){if(i&zo.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,e,n-u,r);if(o>-1)return new rl(new nl(s,a,t,u),null,o)}else if(i&zo.IncludeAnonymous||!a.type.isAnonymous||ll(a)){let o;if(!(i&zo.IgnoreMounts)&&(o=Bo.get(a))&&!o.overlay)return new Jo(o.tree,u,t,s);let l=new Jo(a,u,t,s);return i&zo.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,r)}}if(i&zo.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&zo.IgnoreOverlays)&&(r=Bo.get(this._tree))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new Jo(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function tl(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(null!=n)for(let t=!1;!t;)if(t=i.type.is(n),!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function el(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class nl{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class rl extends Ko{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new rl(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&zo.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new rl(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new rl(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new rl(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let s=n.buffer[this.index+1];t.push(n.slice(r,i,s)),e.push(0)}return new Wo(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function il(t){if(!t.length)return null;let e=0,n=t[0];for(let r=1;r<t.length;r++){let i=t[r];(i.from>n.from||i.to<n.to)&&(n=i,e=r)}let r=n instanceof Jo&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new sl(i,n)}class sl{constructor(t,e){this.heads=t,this.node=e}get next(){return il(this.heads)}}class ol{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Jo)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Jo?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&zo.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&zo.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&zo.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n._tree.children.length;r!=i;r+=t){let t=n._tree.children[r];if(this.mode&zo.IncludeAnonymous||t instanceof Go||!t.type.isAnonymous||ll(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new rl(this.buffer,e,this.stack[t]);return this.bufferNode=new rl(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return el(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return el(this.node,t,r);let s=n[e.buffer[this.stack[i]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function ll(t){return t.children.some((t=>t instanceof Go||!t.type.isAnonymous||ll(t)))}const al=new WeakMap;function ul(t,e){if(!t.isAnonymous||e instanceof Go||e.type!=t)return 1;let n=al.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Wo)){n=1;break}n+=ul(t,r)}al.set(e,n)}return n}function cl(t,e,n,r,i,s,o,l,a){let u=0;for(let n=r;n<i;n++)u+=ul(t,e[n]);let c=Math.ceil(1.5*u/8),h=[],f=[];return function e(n,r,i,o,l){for(let u=i;u<o;){let i=u,d=r[u],v=ul(t,n[u]);for(u++;u<o;u++){let e=ul(t,n[u]);if(v+e>=c)break;v+=e}if(u==i+1){if(v>c){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+l);continue}h.push(n[i])}else{let e=r[u-1]+n[u-1].length-d;h.push(cl(t,n,r,i,u,d,e,null,a))}f.push(d+l-s)}}(e,n,r,i,0),(l||a)(h,f,o)}class hl{constructor(t,e,n,r,i=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new hl(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,s=t.length?t[0]:null;for(let o=0,l=0,a=0;;o++){let u=o<e.length?e[o]:null,c=u?u.fromA:1e9;if(c-l>=n)for(;s&&s.from<c;){let e=s;if(l>=e.from||c<=e.to||a){let t=Math.max(e.from,l)-a,n=Math.min(e.to,c)-a;e=t>=n?null:new hl(t,n,e.tree,e.offset+a,o>0,!!u)}if(e&&r.push(e),s.to>c)break;s=i<t.length?t[i++]:null}if(!u)break;l=u.toA,a=u.toA-u.toB}return r}}class fl{startParse(t,e,n){return"string"==typeof t&&(t=new dl(t)),n=n?n.length?n.map((t=>new $o(t.from,t.to))):[new $o(0,0)]:[new $o(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}class dl{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Fo({perNode:!0});let vl=0;class gl{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=vl++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new gl([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new ml;return e=>e.modified.indexOf(t)>-1?e:ml.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let pl=0;class ml{constructor(){this.instances=[],this.id=pl++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let r=[],i=new gl(r,t,e);for(let t of e)t.instances.push(i);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of s)r.push(ml.get(e,t));return i}}function Rl(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,l=n[o];if(!l)throw new RangeError("Invalid path: "+t);let a=new wl(r,i,o>0?n.slice(0,o):null);e[l]=a.sort(e[l])}}return Ol.add(e)}const Ol=new Fo;class wl{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function xl(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:r,all:i=null}=e||{};return{style:t=>{let e=i;for(let r of t)for(let t of r.set){let r=n[t.id];if(r){e=e?e+" "+r:r;break}}return e},scope:r}}function yl(t,e,n,r=0,i=t.length){let s=new bl(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}wl.empty=new wl([],2,null);class bl{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i){let{type:s,from:o,to:l}=t;if(o>=n||l<=e)return;s.isTop&&(i=this.highlighters.filter((t=>!t.scope||t.scope(s))));let a=r,u=function(t){let e=t.type.prop(Ol);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||wl.empty,c=function(t,e){let n=null;for(let r of t){let t=r.style(e);t&&(n=n?n+" "+t:t)}return n}(i,u.tags);if(c&&(a&&(a+=" "),a+=c,1==u.mode&&(r+=(r?" ":"")+c)),this.startSpan(Math.max(e,o),a),u.opaque)return;let h=t.tree&&t.tree.prop(Fo.mounted);if(h&&h.overlay){let s=t.node.enter(h.overlay[0].from+o,1),u=this.highlighters.filter((t=>!t.scope||t.scope(h.tree.type))),c=t.firstChild();for(let f=0,d=o;;f++){let v=f<h.overlay.length?h.overlay[f]:null,g=v?v.from+o:l,p=Math.max(e,d),m=Math.min(n,g);if(p<m&&c)for(;t.from<m&&(this.highlightRange(t,p,m,r,i),this.startSpan(Math.min(m,t.to),a),!(t.to>=g)&&t.nextSibling()););if(!v||g>n)break;d=v.to+o,d>e&&(this.highlightRange(s.cursor(),Math.max(e,v.from+o),Math.min(n,d),"",u),this.startSpan(Math.min(n,d),a))}c&&t.parent()}else if(t.firstChild()){h&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i),this.startSpan(Math.min(n,t.to),a)}}while(t.nextSibling());t.parent()}}}const kl=gl.define,Cl=kl(),Tl=kl(),Sl=kl(Tl),Al=kl(Tl),Pl=kl(),_l=kl(Pl),El=kl(Pl),Ll=kl(),Dl=kl(Ll),Ql=kl(),Il=kl(),Nl=kl(),Ml=kl(Nl),$l=kl(),Fl={comment:Cl,lineComment:kl(Cl),blockComment:kl(Cl),docComment:kl(Cl),name:Tl,variableName:kl(Tl),typeName:Sl,tagName:kl(Sl),propertyName:Al,attributeName:kl(Al),className:kl(Tl),labelName:kl(Tl),namespace:kl(Tl),macroName:kl(Tl),literal:Pl,string:_l,docString:kl(_l),character:kl(_l),attributeValue:kl(_l),number:El,integer:kl(El),float:kl(El),bool:kl(Pl),regexp:kl(Pl),escape:kl(Pl),color:kl(Pl),url:kl(Pl),keyword:Ql,self:kl(Ql),null:kl(Ql),atom:kl(Ql),unit:kl(Ql),modifier:kl(Ql),operatorKeyword:kl(Ql),controlKeyword:kl(Ql),definitionKeyword:kl(Ql),moduleKeyword:kl(Ql),operator:Il,derefOperator:kl(Il),arithmeticOperator:kl(Il),logicOperator:kl(Il),bitwiseOperator:kl(Il),compareOperator:kl(Il),updateOperator:kl(Il),definitionOperator:kl(Il),typeOperator:kl(Il),controlOperator:kl(Il),punctuation:Nl,separator:kl(Nl),bracket:Ml,angleBracket:kl(Ml),squareBracket:kl(Ml),paren:kl(Ml),brace:kl(Ml),content:Ll,heading:Dl,heading1:kl(Dl),heading2:kl(Dl),heading3:kl(Dl),heading4:kl(Dl),heading5:kl(Dl),heading6:kl(Dl),contentSeparator:kl(Ll),list:kl(Ll),quote:kl(Ll),emphasis:kl(Ll),strong:kl(Ll),link:kl(Ll),monospace:kl(Ll),strikethrough:kl(Ll),inserted:kl(),deleted:kl(),changed:kl(),invalid:kl(),meta:$l,documentMeta:kl($l),annotation:kl($l),processingInstruction:kl($l),definition:gl.defineModifier(),constant:gl.defineModifier(),function:gl.defineModifier(),standard:gl.defineModifier(),local:gl.defineModifier(),special:gl.defineModifier()};xl([{tag:Fl.link,class:"tok-link"},{tag:Fl.heading,class:"tok-heading"},{tag:Fl.emphasis,class:"tok-emphasis"},{tag:Fl.strong,class:"tok-strong"},{tag:Fl.keyword,class:"tok-keyword"},{tag:Fl.atom,class:"tok-atom"},{tag:Fl.bool,class:"tok-bool"},{tag:Fl.url,class:"tok-url"},{tag:Fl.labelName,class:"tok-labelName"},{tag:Fl.inserted,class:"tok-inserted"},{tag:Fl.deleted,class:"tok-deleted"},{tag:Fl.literal,class:"tok-literal"},{tag:Fl.string,class:"tok-string"},{tag:Fl.number,class:"tok-number"},{tag:[Fl.regexp,Fl.escape,Fl.special(Fl.string)],class:"tok-string2"},{tag:Fl.variableName,class:"tok-variableName"},{tag:Fl.local(Fl.variableName),class:"tok-variableName tok-local"},{tag:Fl.definition(Fl.variableName),class:"tok-variableName tok-definition"},{tag:Fl.special(Fl.variableName),class:"tok-variableName2"},{tag:Fl.definition(Fl.propertyName),class:"tok-propertyName tok-definition"},{tag:Fl.typeName,class:"tok-typeName"},{tag:Fl.namespace,class:"tok-namespace"},{tag:Fl.className,class:"tok-className"},{tag:Fl.macroName,class:"tok-macroName"},{tag:Fl.propertyName,class:"tok-propertyName"},{tag:Fl.operator,class:"tok-operator"},{tag:Fl.comment,class:"tok-comment"},{tag:Fl.meta,class:"tok-meta"},{tag:Fl.invalid,class:"tok-invalid"},{tag:Fl.punctuation,class:"tok-punctuation"}]);var Bl;const Ul=new Fo;function Hl(t){return $.define({combine:t?e=>e.concat(t):void 0})}const ql=new Fo;class Xl{constructor(t,e,n=[],r=""){this.data=t,this.name=r,Tt.prototype.hasOwnProperty("tree")||Object.defineProperty(Tt.prototype,"tree",{get(){return Wl(this)}}),this.parser=e,this.extension=[na.of(this),Tt.languageData.of(((t,e,n)=>{let r=Vl(t,e,n),i=r.type.prop(Ul);if(!i)return[];let s=t.facet(i),o=r.type.prop(ql);if(o){let i=r.resolve(e-r.from,n);for(let e of o)if(e.test(i,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e,n=-1){return Vl(t,e,n).type.prop(Ul)==this.data}findRegions(t){let e=t.facet(na);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(Ul)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(Fo.mounted);if(i){if(i.tree.prop(Ul)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof Wo&&r(i,t.positions[n]+e)}};return r(Wl(t),0),n}get allowsNesting(){return!0}}function Vl(t,e,n){let r=t.facet(na),i=Wl(t).topNode;if(!r||r.allowsNesting)for(let t=i;t;t=t.enter(e,n,zo.ExcludeBuffers))t.type.isTop&&(i=t);return i}Xl.setState=vt.define();class zl extends Xl{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=Hl(t.languageData);return new zl(e,t.parser.configure({props:[Ul.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new zl(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Wl(t){let e=t.field(Xl.state,!1);return e?e.tree:Wo.empty}class jl{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let Gl=null;class Yl{constructor(t,e,n=[],r,i,s,o,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new Yl(t,e,[],Wo.empty,0,n,[],null)}startParse(){return this.parser.startParse(new jl(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=Wo.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(hl.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(hl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Gl;Gl=this;try{return t()}finally{Gl=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Zl(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=hl.applyChanges(n,e),r=Wo.empty,i=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&o.push({from:n,to:r})}}}return new Yl(this.parser,e,n,r,i,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=Zl(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends fl{createParse(e,n,r){let i=r[0].from,s=r[r.length-1].to,o={parsedPos:i,advance(){let e=Gl;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new Wo(Ho.none,[],[],s-i)},stoppedAt:null,stopAt(){}};return o}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return Gl}}function Zl(t,e,n){return hl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Kl{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new Kl(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=Yl.create(t.facet(na).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new Kl(n)}}Xl.state=V.define({create:Kl.init,update(t,e){for(let t of e.effects)if(t.is(Xl.setState))return t.value;return e.startState.facet(na)!=e.state.facet(na)?Kl.init(e.state):t.apply(e)}});let Jl=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(Jl=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const ta="undefined"!=typeof navigator&&(null===(Bl=navigator.scheduling)||void 0===Bl?void 0:Bl.isInputPending)?()=>navigator.scheduling.isInputPending():null,ea=Gn.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Xl.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Xl.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=Jl(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(Xl.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!ta?Math.max(25,t.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work((()=>ta&&ta()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Xl.setState.of(new Kl(i.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>Vn(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),na=$.define({combine:t=>t.length?t[0]:null,enables:t=>[Xl.state,ea,zi.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});const ra=$.define(),ia=$.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function sa(t){let e=t.facet(ia);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function oa(t,e){let n="",r=t.tabSize,i=t.facet(ia)[0];if("\t"==i){for(;e>=r;)n+="\t",e-=r;i=" "}for(let t=0;t<e;t++)n+=i;return n}function la(t,e){t instanceof Tt&&(t=new aa(t));for(let n of t.state.facet(ra)){let r=n(t,e);if(void 0!==r)return r}let n=Wl(t.state);return n.length>=e?function(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let t=[];for(let e=i;e!=r.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)r={node:t[e],next:r}}return ca(r,t,n)}(t,n,e):null}class aa{constructor(t,e={}){this.state=t,this.options=e,this.unit=sa(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(i+=s-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return Xt(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ua=new Fo;function ca(t,e,n){for(let r=t;r;r=r.next){let t=ha(r.node);if(t)return t(da.create(e,n,r))}return 0}function ha(t){let e=t.type.prop(ua);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(Fo.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>ga(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?fa:null}function fa(){return 0}class da extends aa{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new da(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(va(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return ca(this.context.next,this.base,this.pos)}}function va(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function ga(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==t.pos+o,a=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<o?n:null;t=i.to}}(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}function pa({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const ma=$.define(),Ra=new Fo;function Oa(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function wa(t,e,n){for(let r of t.facet(ma)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=Wl(t);if(r.length<n)return null;let i=null;for(let s=r.resolveStack(n,1);s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(i&&o.from<e)break;let l=o.type.prop(Ra);if(l&&(o.to<r.length-50||r.length==t.doc.length||!Oa(o))){let r=l(o,t);r&&r.from<=n&&r.from>=e&&r.to>n&&(i=r)}}return i}(t,e,n)}function xa(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const ya=vt.define({map:xa}),ba=vt.define({map:xa});function ka(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const Ca=V.define({create:()=>sn.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(ya)&&!Sa(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(La),i=r?sn.replace({widget:new Na(r(e.state,n.value))}):Ia;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(ba)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>zi.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(Ia.range(r,i))}return sn.set(e,!0)}});function Ta(t,e,n){var r;let i=null;return null===(r=t.field(Ca,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function Sa(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function Aa(t,e){return t.field(Ca,!1)?e:e.concat(vt.appendConfig.of(Da()))}function Pa(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return zi.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const _a=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of ka(t)){let n=wa(t.state,e.from,e.to);if(n)return t.dispatch({effects:Aa(t.state,[ya.of(n),Pa(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(Ca,!1))return!1;let e=[];for(let n of ka(t)){let r=Ta(t.state,n.from,n.to);r&&e.push(ba.of(r),Pa(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=wa(e,i.from,i.to);s&&n.push(ya.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:Aa(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(Ca,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(ba.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],Ea={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},La=$.define({combine:t=>St(t,Ea)});function Da(t){let e=[Ca,Ba];return t&&e.push(La.of(t)),e}function Qa(t,e){let{state:n}=t,r=n.facet(La),i=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=Ta(t.state,n.from,n.to);r&&t.dispatch({effects:ba.of(r)}),e.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const Ia=sn.replace({widget:new class extends nn{toDOM(t){return Qa(t,null)}}});class Na extends nn{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Qa(t,this.value)}}const Ma={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class $a extends vo{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function Fa(t={}){let e=Object.assign(Object.assign({},Ma),t),n=new $a(e,!0),r=new $a(e,!1),i=Gn.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(na)!=t.state.facet(na)||t.startState.field(Ca,!1)!=t.state.field(Ca,!1)||Wl(t.startState)!=Wl(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Dt;for(let i of t.viewportLineBlocks){let s=Ta(t.state,i.from,i.to)?r:wa(t.state,i.from,i.to)?n:null;s&&e.add(i.from,i.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[i,Ro({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Lt.empty},initialSpacer:()=>new $a(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let r=Ta(t.state,e.from,e.to);if(r)return t.dispatch({effects:ba.of(r)}),!0;let i=wa(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:ya.of(i)}),!0)}})}),Da()]}const Ba=zi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ua{constructor(t,e){let n;function r(t){let e=Gt.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const i="string"==typeof e.all?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof Xl?t=>t.prop(Ul)==s.data:s?t=>t==s:void 0,this.style=xl(t.map((t=>({tag:t.tag,class:t.class||r(Object.assign({},t,{tag:null}))}))),{all:i}).style,this.module=n?new Gt(n):null,this.themeType=e.themeType}static define(t,e){return new Ua(t,e||{})}}const Ha=$.define(),qa=$.define({combine:t=>t.length?[t[0]]:null});function Xa(t){let e=t.facet(Ha);return e.length?e:t.facet(qa)}function Va(t,e){let n,r=[Wa];return t instanceof Ua&&(t.module&&r.push(zi.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?r.push(qa.of(t)):n?r.push(Ha.computeN([zi.darkTheme],(e=>e.facet(zi.darkTheme)==("dark"==n)?[t]:[]))):r.push(Ha.of(t)),r}class za{constructor(t){this.markCache=Object.create(null),this.tree=Wl(t.state),this.decorations=this.buildDeco(t,Xa(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=Wl(t.state),n=Xa(t.state),r=n!=Xa(t.startState),{viewport:i}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<i.to&&!r&&e.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=i.to)}buildDeco(t,e){if(!e||!this.tree.length)return sn.none;let n=new Dt;for(let{from:r,to:i}of t.visibleRanges)yl(this.tree,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=sn.mark({class:r})))}),r,i);return n.finish()}}const Wa=Z.high(Gn.fromClass(za,{decorations:t=>t.decorations})),ja=Ua.define([{tag:Fl.meta,color:"#404740"},{tag:Fl.link,textDecoration:"underline"},{tag:Fl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Fl.emphasis,fontStyle:"italic"},{tag:Fl.strong,fontWeight:"bold"},{tag:Fl.strikethrough,textDecoration:"line-through"},{tag:Fl.keyword,color:"#708"},{tag:[Fl.atom,Fl.bool,Fl.url,Fl.contentSeparator,Fl.labelName],color:"#219"},{tag:[Fl.literal,Fl.inserted],color:"#164"},{tag:[Fl.string,Fl.deleted],color:"#a11"},{tag:[Fl.regexp,Fl.escape,Fl.special(Fl.string)],color:"#e40"},{tag:Fl.definition(Fl.variableName),color:"#00f"},{tag:Fl.local(Fl.variableName),color:"#30a"},{tag:[Fl.typeName,Fl.namespace],color:"#085"},{tag:Fl.className,color:"#167"},{tag:[Fl.special(Fl.variableName),Fl.macroName],color:"#256"},{tag:Fl.definition(Fl.propertyName),color:"#00c"},{tag:Fl.comment,color:"#940"},{tag:Fl.invalid,color:"#f00"}]),Ga=zi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Ya=1e4,Za="()[]{}",Ka=$.define({combine:t=>St(t,{afterCursor:!0,brackets:Za,maxScanDistance:Ya,renderMatch:eu})}),Ja=sn.mark({class:"cm-matchingBracket"}),tu=sn.mark({class:"cm-nonmatchingBracket"});function eu(t){let e=[],n=t.matched?Ja:tu;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const nu=V.define({create:()=>sn.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(Ka);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=au(e.state,t.head,-1,r)||t.head>0&&au(e.state,t.head-1,1,r)||r.afterCursor&&(au(e.state,t.head,1,r)||t.head<e.state.doc.length&&au(e.state,t.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return sn.set(n,!0)},provide:t=>zi.decorations.from(t)}),ru=[nu,Ga];function iu(t={}){return[Ka.of(t),ru]}const su=new Fo;function ou(t,e,n){let r=t.prop(e<0?Fo.openedBy:Fo.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function lu(t){let e=t.type.prop(su);return e?e(t.node):t}function au(t,e,n,r={}){let i=r.maxScanDistance||Ya,s=r.brackets||Za,o=Wl(t),l=o.resolveInner(e,n);for(let r=l;r;r=r.parent){let i=ou(r.type,n,s);if(i&&r.from<r.to){let o=lu(r);if(o&&(n>0?e>=o.from&&e<o.to:e>o.from&&e<=o.to))return uu(t,e,n,r,o,i,s)}}return function(t,e,n,r,i,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let l=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||r.resolveInner(l+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:u,end:{from:l+t,to:l+t+1},matched:e>>1==a>>1};h--}}n>0&&(t+=s.length)}return c.done?{start:u,matched:!1}:null}(t,e,n,o,l.type,i,s)}function uu(t,e,n,r,i,s,o){let l=r.parent,a={from:i.from,to:i.to},u=0,c=null==l?void 0:l.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==u&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=lu(c);return{start:a,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(ou(c.type,n,o))u++;else if(ou(c.type,-n,o)){if(0==u){let t=lu(c);return{start:a,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}u--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const cu=Object.create(null),hu=[Ho.none],fu=[],du=Object.create(null),vu=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])vu[t]=pu(cu,e);function gu(t,e){fu.indexOf(t)>-1||(fu.push(t),console.warn(e))}function pu(t,e){let n=[];for(let r of e.split(" ")){let e=[];for(let n of r.split(".")){let r=t[n]||Fl[n];r?"function"==typeof r?e.length?e=e.map(r):gu(n,`Modifier ${n} used at start of tag`):e.length?gu(n,`Tag ${n} used as modifier`):e=Array.isArray(r)?r:[r]:gu(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map((t=>t.id)),s=du[i];if(s)return s.id;let o=du[i]=Ho.define({id:hu.length,name:r,props:[Rl({[r]:n})]});return hu.push(o),o.id}vn.RTL,vn.LTR;function mu(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}const Ru=mu(ku,0),Ou=mu(bu,0),wu=mu(((t,e)=>bu(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}(e))),0);function xu(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const yu=50;function bu(t,e,n=e.selection.ranges){let r=n.map((t=>xu(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let s,o,l=t.sliceDoc(r-yu,r),a=t.sliceDoc(i,i+yu),u=/\s*$/.exec(l)[0].length,c=/^\s*/.exec(a)[0].length,h=l.length-u;if(l.slice(h-e.length,h)==e&&a.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};i-r<=2*yu?s=o=t.sliceDoc(r,i):(s=t.sliceDoc(r,r+yu),o=t.sliceDoc(i-yu,i));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(o)[0].length,v=o.length-d-n.length;return s.slice(f,f+e.length)==e&&o.slice(v,v+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:s,close:o}=e;t.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:t}}return null}function ku(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:t,to:s}of n){let n=r.length,o=1e9,l=xu(e,t).line;if(l){for(let n=t;n<=s;){let a=e.doc.lineAt(n);if(a.from>i&&(t==s||s>a.from)){i=a.from;let t=/^\s*/.exec(a.text)[0].length,e=t==a.length,n=a.text.slice(t,t+l.length)==l?t:-1;t<a.text.length&&t<o&&(o=t),r.push({line:a,comment:n,token:l,indent:t,empty:e,single:!1})}n=a.to+1}if(o<1e9)for(let t=n;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=o);r.length==n+1&&(r[n].single=!0)}}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:s,single:o}of r)!o&&s||t.push({from:e.from+i,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,s=r+i.length;" "==e.text[s-e.from]&&s++,t.push({from:r,to:s})}return{changes:t}}return null}const Cu=ht.define(),Tu=ht.define(),Su=$.define(),Au=$.define({combine:t=>St(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}),Pu=V.define({create:()=>zu.empty,update(t,e){let n=e.state.facet(Au),r=e.annotation(Cu);if(r){let i=Nu.fromTransaction(e,r.selection),s=r.side,o=0==s?t.undone:t.done;return o=i?Mu(o,o.length,n.minDepth,i):Uu(o,e.startState.selection),new zu(0==s?r.rest:o,0==s?o:r.rest)}let i=e.annotation(Tu);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(gt.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Nu.fromTransaction(e),o=e.annotation(gt.time),l=e.annotation(gt.userEvent);return s?t=t.addChanges(s,o,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,l,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new zu(t.done.map(Nu.fromJSON),t.undone.map(Nu.fromJSON))});function _u(t={}){return[Pu,Au.of(t),zi.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?Lu:"historyRedo"==t.inputType?Du:null;return!!n&&(t.preventDefault(),n(e))}})]}function Eu(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Pu,!1);if(!i)return!1;let s=i.pop(t,n,e);return!!s&&(r(s),!0)}}const Lu=Eu(0,!1),Du=Eu(1,!1),Qu=Eu(0,!0),Iu=Eu(1,!0);class Nu{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new Nu(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Nu(t.changes&&S.fromJSON(t.changes),[],t.mapped&&T.fromJSON(t.mapped),t.startSelection&&I.fromJSON(t.startSelection),t.selectionsAfter.map(I.fromJSON))}static fromTransaction(t,e){let n=Fu;for(let e of t.startState.facet(Su)){let r=e(t);r.length&&(n=n.concat(r))}return!n.length&&t.changes.empty?null:new Nu(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,Fu)}static selection(t){return new Nu(void 0,Fu,void 0,void 0,t)}}function Mu(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function $u(t,e){return t.length?e.length?t.concat(e):t:e}const Fu=[],Bu=200;function Uu(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Bu));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Mu(t,t.length-1,1e9,n.setSelAfter(r)))}return[Nu.selection([e])]}function Hu(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function qu(t,e){if(!t.length)return t;let n=t.length,r=Fu;for(;n;){let i=Xu(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Nu.selection(r)]:Fu}function Xu(t,e,n){let r=$u(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):Fu,n);if(!t.changes)return Nu.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Nu(i,vt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const Vu=/^(input\.type|delete)($|\.)/;class zu{constructor(t,e,n=0,r=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new zu(this.done,this.undone):this}addChanges(t,e,n,r,i){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||Vu.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&i<=o&&(r=!0)}})),r}(o.changes,t.changes))||"input.type.compose"==n)?Mu(s,s.length-1,r.minDepth,new Nu(t.changes.compose(o.changes),$u(t.effects,o.effects),o.mapped,o.startSelection,Fu)):Mu(s,s.length,r.minDepth,t),new zu(s,Fu,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Fu;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(i[i.length-1],t)?this:new zu(Uu(this.done,t),this.undone,e,n)}addMapping(t){return new zu(qu(this.done,t),qu(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],s=i.selectionsAfter[0]||e.selection;if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Cu.of({side:t,rest:Hu(r),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?Fu:r.slice(0,r.length-1);return i.mapped&&(n=qu(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Cu.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}zu.empty=new zu(Fu,Fu);const Wu=[{key:"Mod-z",run:Lu,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Du,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Du,preventDefault:!0},{key:"Mod-u",run:Qu,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Iu,preventDefault:!0}];function ju(t,e){return I.create(t.ranges.map(e),t.mainIndex)}function Gu(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yu({state:t,dispatch:e},n){let r=ju(t.selection,n);return!r.eq(t.selection,!0)&&(e(Gu(t,r)),!0)}function Zu(t,e){return I.cursor(e?t.to:t.from)}function Ku(t,e){return Yu(t,(n=>n.empty?t.moveByChar(n,e):Zu(n,e)))}function Ju(t){return t.textDirectionAt(t.state.selection.main.head)==vn.LTR}const tc=t=>Ku(t,!Ju(t)),ec=t=>Ku(t,Ju(t));function nc(t,e){return Yu(t,(n=>n.empty?t.moveByGroup(n,e):Zu(n,e)))}"undefined"!=typeof Intl&&Intl.Segmenter;function rc(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function ic(t,e,n){let r,i,s=Wl(t).resolveInner(e.head),o=n?Fo.closedBy:Fo.openedBy;for(let r=e.head;;){let e=n?s.childAfter(r):s.childBefore(r);if(!e)break;rc(t,e,o)?s=e:r=n?e.to:e.from}return i=s.type.prop(o)&&(r=n?au(t,s.from,1):au(t,s.to,-1))&&r.matched?n?r.end.to:r.end.from:n?s.to:s.from,I.cursor(i,n?-1:1)}function sc(t,e){return Yu(t,(n=>{if(!n.empty)return Zu(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const oc=t=>sc(t,!1),lc=t=>sc(t,!0);function ac(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,i=0;if(n){for(let e of t.state.facet(zi.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}e=t.scrollDOM.clientHeight-r-i}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function uc(t,e){let n,r=ac(t),{state:i}=t,s=ju(i.selection,(n=>n.empty?t.moveVertically(n,e,r.height):Zu(n,e)));if(s.eq(i.selection))return!1;if(r.selfScroll){let e=t.coordsAtPos(i.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),l=o.top+r.marginTop,a=o.bottom-r.marginBottom;e&&e.top>l&&e.bottom<a&&(n=zi.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-l}))}return t.dispatch(Gu(i,s),{effects:n}),!0}const cc=t=>uc(t,!1),hc=t=>uc(t,!0);function fc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=I.cursor(r.from+n))}return i}function dc(t,e,n){let r=!1,i=ju(t.selection,(e=>{let i=au(t,e.head,-1)||au(t,e.head,1)||e.head>0&&au(t,e.head-1,1)||e.head<t.doc.length&&au(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let s=i.start.from==e.head?i.end.to:i.end.from;return n?I.range(e.anchor,s):I.cursor(s)}));return!!r&&(e(Gu(t,i)),!0)}function vc(t,e){let n=ju(t.state.selection,(t=>{let n=e(t);return I.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(Gu(t.state,n)),!0)}function gc(t,e){return vc(t,(n=>t.moveByChar(n,e)))}const pc=t=>gc(t,!Ju(t)),mc=t=>gc(t,Ju(t));function Rc(t,e){return vc(t,(n=>t.moveByGroup(n,e)))}function Oc(t,e){return vc(t,(n=>t.moveVertically(n,e)))}const wc=t=>Oc(t,!1),xc=t=>Oc(t,!0);function yc(t,e){return vc(t,(n=>t.moveVertically(n,e,ac(t).height)))}const bc=t=>yc(t,!1),kc=t=>yc(t,!0),Cc=({state:t,dispatch:e})=>(e(Gu(t,{anchor:0})),!0),Tc=({state:t,dispatch:e})=>(e(Gu(t,{anchor:t.doc.length})),!0),Sc=({state:t,dispatch:e})=>(e(Gu(t,{anchor:t.selection.main.anchor,head:0})),!0),Ac=({state:t,dispatch:e})=>(e(Gu(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function Pc(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange((r=>{let{from:i,to:s}=r;if(i==s){let o=e(r);o<i?(n="delete.backward",o=_c(t,o,!1)):o>i&&(n="delete.forward",o=_c(t,o,!0)),i=Math.min(i,o),s=Math.max(s,o)}else i=_c(t,i,!1),s=_c(t,s,!0);return i==s?{range:r}:{changes:{from:i,to:s},range:I.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?zi.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _c(t,e,n){if(t instanceof zi)for(let r of t.state.facet(zi.atomicRanges).map((e=>e(t))))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const Ec=(t,e)=>Pc(t,(n=>{let r,i,s=n.from,{state:o}=t,l=o.doc.lineAt(s);if(!e&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(r=l.text.slice(0,s-l.from))){if("\t"==r[r.length-1])return s-1;let t=Xt(r,o.tabSize)%sa(o)||sa(o);for(let e=0;e<t&&" "==r[r.length-1-e];e++)s--;i=s}else i=p(l.text,s-l.from,e,e)+l.from,i==s&&l.number!=(e?o.doc.lines:1)?i+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(i-l.from,s-l.from))&&(i=p(l.text,i-l.from,!1,!1)+l.from);return i})),Lc=t=>Ec(t,!1),Dc=t=>Ec(t,!0),Qc=(t,e)=>Pc(t,(n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let t=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=p(s.text,r-s.from,e)+s.from,a=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(a);if(null!=t&&u!=t)break;" "==a&&r==n.head||(t=u),r=l}return r})),Ic=t=>Qc(t,!1);function Nc(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function Mc(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let e of Nc(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),o=s.length+1;if(n){r.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)i.push(I.range(Math.min(t.doc.length,n.anchor+o),Math.min(t.doc.length,n.head+o)))}else{r.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)i.push(I.range(t.anchor-o,t.head-o))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:I.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function $c(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of Nc(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Fc=Uc(!1),Bc=Uc(!0);function Uc(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=e.changeByRange((r=>{let{from:i,to:s}=r,o=e.doc.lineAt(i),l=!t&&i==s&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=Wl(t).resolveInner(e),i=r.childBefore(e),s=r.childAfter(e);return i&&s&&i.to<=e&&s.from>=e&&(n=i.type.prop(Fo.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}(e,i);t&&(i=s=(s<=o.to?o:e.doc.lineAt(s)).to);let a=new aa(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=la(a,i);for(null==u&&(u=Xt(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?({from:i,to:s}=l):i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let c=["",oa(e,u)];return l&&c.push(oa(e,a.lineIndent(o.from,-1))),{changes:{from:i,to:s,insert:n.of(c)},range:I.cursor(i+1+c[1].length)}}));return r(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Hc(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let s=t.changes(i);return{changes:i,range:I.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const qc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Hc(t,((e,n)=>{n.push({from:e.from,insert:t.facet(ia)})})),{userEvent:"input.indent"})),!0),Xc=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Hc(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=Xt(r,t.tabSize),s=0,o=oa(t,Math.max(0,i-sa(t)));for(;s<r.length&&s<o.length&&r.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0),Vc=[{key:"Ctrl-b",run:tc,shift:pc,preventDefault:!0},{key:"Ctrl-f",run:ec,shift:mc},{key:"Ctrl-p",run:oc,shift:wc},{key:"Ctrl-n",run:lc,shift:xc},{key:"Ctrl-a",run:t=>Yu(t,(e=>I.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>vc(t,(e=>I.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>Yu(t,(e=>I.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>vc(t,(e=>I.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:Dc},{key:"Ctrl-h",run:Lc},{key:"Ctrl-k",run:t=>Pc(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:Ic},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:n.of(["",""])},range:I.cursor(t.from)})));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:p(r.text,n-r.from,!1)+r.from,s=n==r.to?n+1:p(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(i,n))},range:I.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:hc}],zc=[{key:"ArrowLeft",run:tc,shift:pc,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>nc(t,!Ju(t)),shift:t=>Rc(t,!Ju(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>Yu(t,(e=>fc(t,e,!Ju(t)))),shift:t=>vc(t,(e=>fc(t,e,!Ju(t)))),preventDefault:!0},{key:"ArrowRight",run:ec,shift:mc,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>nc(t,Ju(t)),shift:t=>Rc(t,Ju(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>Yu(t,(e=>fc(t,e,Ju(t)))),shift:t=>vc(t,(e=>fc(t,e,Ju(t)))),preventDefault:!0},{key:"ArrowUp",run:oc,shift:wc,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Cc,shift:Sc},{mac:"Ctrl-ArrowUp",run:cc,shift:bc},{key:"ArrowDown",run:lc,shift:xc,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Tc,shift:Ac},{mac:"Ctrl-ArrowDown",run:hc,shift:kc},{key:"PageUp",run:cc,shift:bc},{key:"PageDown",run:hc,shift:kc},{key:"Home",run:t=>Yu(t,(e=>fc(t,e,!1))),shift:t=>vc(t,(e=>fc(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:Cc,shift:Sc},{key:"End",run:t=>Yu(t,(e=>fc(t,e,!0))),shift:t=>vc(t,(e=>fc(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:Tc,shift:Ac},{key:"Enter",run:Fc},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Lc,shift:Lc},{key:"Delete",run:Dc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ic},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Qc(t,!0)},{mac:"Mod-Backspace",run:t=>Pc(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>Pc(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat(Vc.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),Wc=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>Yu(t,(e=>ic(t.state,e,!Ju(t)))),shift:t=>vc(t,(e=>ic(t.state,e,!Ju(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>Yu(t,(e=>ic(t.state,e,Ju(t)))),shift:t=>vc(t,(e=>ic(t.state,e,Ju(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Mc(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>$c(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Mc(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>$c(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=I.create([n.main]):n.main.empty||(r=I.create([I.cursor(n.main.head)])),!!r&&(e(Gu(t,r)),!0)}},{key:"Mod-Enter",run:Bc},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=Nc(t).map((({from:e,to:n})=>I.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:I.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=ju(t.selection,(e=>{var n;for(let r=Wl(t).resolveStack(e.from,1);r;r=r.next){let{node:t}=r;if((t.from<e.from&&t.to>=e.to||t.to>e.to&&t.from<=e.from)&&(null===(n=t.parent)||void 0===n?void 0:n.parent))return I.range(t.to,t.from)}return e}));return e(Gu(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:Xc},{key:"Mod-]",run:qc},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new aa(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=Hc(t,((e,i,s)=>{let o=la(r,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],a=oa(t,o);(l!=a||s.from<e.from+l.length)&&(n[e.from]=o,i.push({from:e.from,to:e.from+l.length,insert:a}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Nc(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=ju(e.selection,(e=>t.moveVertically(e,!0))).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>dc(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=xu(t.state,n.from);return r.line?Ru(t):!!r.block&&wu(t)}},{key:"Alt-A",run:Ou}].concat(zc),jc={key:"Tab",run:qc,shift:Xc};function Gc(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)Yc(t,arguments[e]);return t}function Yc(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)Yc(t,e[n])}}const Zc="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class Kc{constructor(t,e,n=0,r=t.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(Zc(t)):Zc,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return x(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=y(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=b(t);let r=this.normalize(e);for(let t=0,i=n;;t++){let s=r.charCodeAt(t),o=this.match(s,i,this.bufferPos+this.bufferStart);if(t==r.length-1){if(o)return this.value=o,this;break}i==n&&t<e.length&&e.charCodeAt(t)==s&&i++}}}match(t,e,n){let r=null;for(let e=0;e<this.matches.length;e+=2){let i=this.matches[e],s=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?r={from:this.matches[e+1],to:n}:(this.matches[e]++,s=!0)),s||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?r={from:e,to:n}:this.matches.push(1,e)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(Kc.prototype[Symbol.iterator]=function(){return this});const Jc={from:-1,to:-1,match:/.*/.exec("")},th="gm"+(null==/x/.unicode?"":"u");class eh{constructor(t,e,n,r=0,i=t.length){if(this.text=t,this.to=i,this.curLine="",this.done=!1,this.value=Jc,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new ih(t,e,n,r,i);this.re=new RegExp(e,th+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=sh(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=sh(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const nh=new WeakMap;class rh{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=nh.get(t);if(!r||r.from>=n||r.to<=e){let r=new rh(e,t.sliceString(e,n));return nh.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:s}=r;return s>e&&(i=t.sliceString(e,s)+i,s=e),r.to<n&&(i+=t.sliceString(r.to,n)),nh.set(t,new rh(s,i)),new rh(e,i.slice(e-s,n-s))}}class ih{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=Jc,this.matchPos=sh(t,r),this.re=new RegExp(e,th+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=rh.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=sh(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=rh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function sh(t,e){if(e>=t.length)return e;let n,r=t.lineAt(e);for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function oh(t){let e=Gc("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,s,o,l,a]=n,u=l?+l.slice(1):0,c=o?+o:i.number;if(o&&a){let t=c/100;s&&(t=t*("-"==s?-1:1)+i.number/r.doc.lines),c=Math.round(r.doc.lines*t)}else o&&s&&(c=c*("-"==s?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,c))),f=I.cursor(h.from+Math.max(0,Math.min(u,h.length)));t.dispatch({effects:[lh.of(!1),zi.scrollIntoView(f.from,{y:"center"})],selection:f}),t.focus()}return{dom:Gc("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:lh.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},Gc("label",t.state.phrase("Go to line"),": ",e)," ",Gc("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(eh.prototype[Symbol.iterator]=ih.prototype[Symbol.iterator]=function(){return this});const lh=vt.define(),ah=V.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(lh)&&(t=n.value);return t},provide:t=>fo.from(t,(t=>t?oh:null))}),uh=zi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),ch={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},hh=$.define({combine:t=>St(t,ch,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function fh(t){let e=[mh,ph];return t&&e.push(hh.of(t)),e}const dh=sn.mark({class:"cm-selectionMatch"}),vh=sn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function gh(t,e,n,r){return!(0!=n&&t(e.sliceDoc(n-1,n))==yt.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==yt.Word)}const ph=Gn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(hh),{state:n}=t,r=n.selection;if(r.ranges.length>1)return sn.none;let i,s=r.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return sn.none;let t=n.wordAt(s.head);if(!t)return sn.none;o=n.charCategorizer(s.head),i=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return sn.none;if(e.wholeWords){if(i=n.sliceDoc(s.from,s.to),o=n.charCategorizer(s.head),!gh(o,n,s.from,s.to)||!function(t,e,n,r){return t(e.sliceDoc(n,n+1))==yt.Word&&t(e.sliceDoc(r-1,r))==yt.Word}(o,n,s.from,s.to))return sn.none}else if(i=n.sliceDoc(s.from,s.to),!i)return sn.none}let l=[];for(let r of t.visibleRanges){let t=new Kc(n.doc,i,r.from,r.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!o||gh(o,n,r,i))&&(s.empty&&r<=s.from&&i>=s.to?l.push(vh.range(r,i)):(r>=s.to||i<=s.from)&&l.push(dh.range(r,i)),l.length>e.maxMatches))return sn.none}}return sn.set(l)}},{decorations:t=>t.decorations}),mh=zi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const Rh=$.define({combine:t=>St(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new Wh(t),scrollToMatch:t=>zi.scrollIntoView(t)})});class Oh{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,th),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new Th(this):new yh(this)}getCursor(t,e=0,n){let r=t.doc?t:Tt.create({doc:t});return null==n&&(n=r.doc.length),this.regexp?bh(this,r,e,n):xh(this,r,e,n)}}class wh{constructor(t){this.spec=t}}function xh(t,e,n,r){return new Kc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?function(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),!(e(kh(i,n-s))==yt.Word&&e(Ch(i,n-s))==yt.Word||e(Ch(i,r-s))==yt.Word&&e(kh(i,r-s))==yt.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class yh extends wh{constructor(t){super(t)}nextMatch(t,e,n){let r=xh(this.spec,t,n,t.doc.length).nextOverlapping();return r.done&&(r=xh(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.spec.unquoted.length),i=xh(this.spec,t,n,r),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=xh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=xh(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function bh(t,e,n,r){return new eh(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(i=e.charCategorizer(e.selection.main.head),(t,e,n)=>!n[0].length||(i(kh(n.input,n.index))!=yt.Word||i(Ch(n.input,n.index))!=yt.Word)&&(i(Ch(n.input,n.index+n[0].length))!=yt.Word||i(kh(n.input,n.index+n[0].length))!=yt.Word)):void 0},n,r);var i}function kh(t,e){return t.slice(p(t,e,!1),e)}function Ch(t,e){return t.slice(e,p(t,e))}class Th extends wh{nextMatch(t,e,n){let r=bh(this.spec,t,n,t.doc.length).next();return r.done&&(r=bh(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),s=bh(this.spec,t,i,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==e||o.from>i+10))return o;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=bh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=bh(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Sh=vt.define(),Ah=vt.define(),Ph=V.define({create:t=>new _h(Uh(t).create(),null),update(t,e){for(let n of e.effects)n.is(Sh)?t=new _h(n.value.create(),t.panel):n.is(Ah)&&(t=new _h(t.query,n.value?Bh:null));return t},provide:t=>fo.from(t,(t=>t.panel))});class _h{constructor(t,e){this.query=t,this.panel=e}}const Eh=sn.mark({class:"cm-searchMatch"}),Lh=sn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Dh=Gn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ph))}update(t){let e=t.state.field(Ph);(e!=t.startState.field(Ph)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return sn.none;let{view:n}=this,r=new Dt;for(let e=0,i=n.visibleRanges,s=i.length;e<s;e++){let{from:o,to:l}=i[e];for(;e<s-1&&l>i[e+1].from-500;)l=i[++e].to;t.highlight(n.state,o,l,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?Lh:Eh)}))}return r.finish()}},{decorations:t=>t.decorations});function Qh(t){return e=>{let n=e.state.field(Ph,!1);return n&&n.query.spec.valid?t(e,n):Xh(e)}}const Ih=Qh(((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=I.single(r.from,r.to),s=t.state.facet(Rh);return t.dispatch({selection:i,effects:[Zh(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),qh(t),!0})),Nh=Qh(((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=I.single(i.from,i.to),o=t.state.facet(Rh);return t.dispatch({selection:s,effects:[Zh(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),qh(t),!0})),Mh=Qh(((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!(!n||!n.length)&&(t.dispatch({selection:I.create(n.map((t=>I.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),$h=Qh(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o,l,a=[],u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(zi.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let e=0==a.length||a[0].from>=s.to?0:s.to-s.from-l.length;o=I.single(s.from-e,s.to-e),u.push(Zh(t,s)),u.push(n.facet(Rh).scrollToMatch(o.main,t))}return t.dispatch({changes:a,selection:o,effects:u,userEvent:"input.replace"}),!0})),Fh=Qh(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:zi.announce.of(r),userEvent:"input.replace.all"}),!0}));function Bh(t){return t.state.facet(Rh).createPanel(t)}function Uh(t,e){var n,r,i,s,o;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=t.facet(Rh);return new Oh({search:(null!==(n=null==e?void 0:e.literal)&&void 0!==n?n:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==e?void 0:e.caseSensitive)&&void 0!==r?r:u.caseSensitive,literal:null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:u.literal,regexp:null!==(s=null==e?void 0:e.regexp)&&void 0!==s?s:u.regexp,wholeWord:null!==(o=null==e?void 0:e.wholeWord)&&void 0!==o?o:u.wholeWord})}function Hh(t){let e=ao(t,Bh);return e&&e.dom.querySelector("[main-field]")}function qh(t){let e=Hh(t);e&&e==t.root.activeElement&&e.select()}const Xh=t=>{let e=t.state.field(Ph,!1);if(e&&e.panel){let n=Hh(t);if(n&&n!=t.root.activeElement){let r=Uh(t.state,e.query.spec);r.valid&&t.dispatch({effects:Sh.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Ah.of(!0),e?Sh.of(Uh(t.state,e.query.spec)):vt.appendConfig.of(Jh)]});return!0},Vh=t=>{let e=t.state.field(Ph,!1);if(!e||!e.panel)return!1;let n=ao(t,Bh);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Ah.of(!1)}),!0},zh=[{key:"Mod-f",run:Xh,scope:"editor search-panel"},{key:"F3",run:Ih,shift:Nh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Ih,shift:Nh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Vh,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let e=new Kc(t.doc,t.sliceDoc(r,i));!e.next().done;){if(s.length>1e3)return!1;e.value.from==r&&(o=s.length),s.push(I.range(e.value.from,e.value.to))}return e(t.update({selection:I.create(s,o),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=ao(t,oh);if(!e){let n=[lh.of(!0)];null==t.state.field(ah,!1)&&n.push(vt.appendConfig.of([ah,uh])),t.dispatch({effects:n}),e=ao(t,oh)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=I.create(n.ranges.map((e=>t.wordAt(e.head)||I.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new Kc(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(s){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new Kc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange(I.range(i.from,i.to),!1),effects:zi.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Wh{constructor(t){this.view=t;let e=this.query=t.state.field(Ph).query.spec;function n(t,e,n){return Gc("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=Gc("input",{value:e.search,placeholder:jh(t,"Find"),"aria-label":jh(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Gc("input",{value:e.replace,placeholder:jh(t,"Replace"),"aria-label":jh(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Gc("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=Gc("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=Gc("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=Gc("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>Ih(t)),[jh(t,"next")]),n("prev",(()=>Nh(t)),[jh(t,"previous")]),n("select",(()=>Mh(t)),[jh(t,"all")]),Gc("label",null,[this.caseField,jh(t,"match case")]),Gc("label",null,[this.reField,jh(t,"regexp")]),Gc("label",null,[this.wordField,jh(t,"by word")]),...t.state.readOnly?[]:[Gc("br"),this.replaceField,n("replace",(()=>$h(t)),[jh(t,"replace")]),n("replaceAll",(()=>Fh(t)),[jh(t,"replace all")])],Gc("button",{name:"close",onclick:()=>Vh(t),"aria-label":jh(t,"close"),type:"button"},["×"])])}commit(){let t=new Oh({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Sh.of(t)}))}keydown(t){var e,n,r;e=this.view,n=t,r="search-panel",ss(ns(e.state),n,e,r)?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Nh:Ih)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),$h(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(Sh)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Rh).top}}function jh(t,e){return t.state.phrase(e)}const Gh=30,Yh=/[\s\.,:;?!]/;function Zh(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Gh),o=Math.min(i,n+Gh),l=t.state.sliceDoc(s,o);if(s!=r.from)for(let t=0;t<Gh;t++)if(!Yh.test(l[t+1])&&Yh.test(l[t])){l=l.slice(t);break}if(o!=i)for(let t=l.length-1;t>l.length-Gh;t--)if(!Yh.test(l[t-1])&&Yh.test(l[t])){l=l.slice(0,t);break}return zi.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const Kh=zi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Jh=[Ph,Z.low(Dh),Kh];class tf{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=Wl(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(of(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function ef(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function nf(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=ef(e)+ef(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:n}:null}}class rf{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function sf(t){return t.selection.main.from}function of(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const lf=ht.define();const af=new WeakMap;function uf(t){if(!Array.isArray(t))return t;let e=af.get(t);return e||af.set(t,e=nf(t)),e}const cf=vt.define(),hf=vt.define();class ff{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=x(t,e),r=b(n);this.chars.push(n);let i=t.slice(e,e+r),s=i.toUpperCase();this.folded.push(x(s==i?i.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,!0}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return!1;let{chars:e,folded:n,any:r,precise:i,byWord:s}=this;if(1==e.length){let r=x(t,0),i=b(r),s=i==t.length?0:-100;if(r==e[0]);else{if(r!=n[0])return!1;s+=-200}return this.ret(s,[0,i])}let o=t.indexOf(this.pattern);if(0==o)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=e.length,a=0;if(o<0){for(let i=0,s=Math.min(t.length,200);i<s&&a<l;){let s=x(t,i);s!=e[a]&&s!=n[a]||(r[a++]=i),i+=b(s)}if(a<l)return!1}let u=0,c=0,h=!1,f=0,d=-1,v=-1,g=/[a-z]/.test(t),p=!0;for(let r=0,a=Math.min(t.length,200),m=0;r<a&&c<l;){let a=x(t,r);o<0&&(u<l&&a==e[u]&&(i[u++]=r),f<l&&(a==e[f]||a==n[f]?(0==f&&(d=r),v=r+1,f++):f=0));let R,O=a<255?a>=48&&a<=57||a>=97&&a<=122?2:a>=65&&a<=90?1:0:(R=y(a))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!r||1==O&&g||0==m&&0!=O)&&(e[c]==a||n[c]==a&&(h=!0)?s[c++]=r:s.length&&(p=!1)),m=O,r+=b(a)}return c==l&&0==s[0]&&p?this.result((h?-200:0)-100,s,t):f==l&&0==d?this.ret(-200-t.length+(v==t.length?0:-100),[0,v]):o>-1?this.ret(-700-t.length,[o,o+this.pattern.length]):f==l?this.ret(-900-t.length,[d,v]):c==l?this.result((h?-200:0)-100-700+(p?0:-1100),s,t):2!=e.length&&this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[],i=0;for(let t of e){let e=t+(this.astral?b(x(n,t)):1);i&&r[i-1]==t?r[i-1]=e:(r[i++]=t,r[i++]=e)}return this.ret(t-n.length,r)}}const df=$.define({combine:t=>St(t,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:gf,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>vf(t(n),e(n)),optionClass:(t,e)=>n=>vf(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})});function vf(t,e){return t?e?t+" "+e:t:e}function gf(t,e,n,r,i,s){let o,l,a=t.textDirection==vn.RTL,u=a,c=!1,h="top",f=e.left-i.left,d=i.right-e.right,v=r.right-r.left,g=r.bottom-r.top;if(u&&f<Math.min(v,d)?u=!1:!u&&d<Math.min(v,f)&&(u=!0),v<=(u?f:d))o=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,l=Math.min(400,u?f:d);else{c=!0,l=Math.min(400,(a?e.right:i.right-e.left)-30);let t=i.bottom-e.bottom;t>=g||t>e.top?o=n.bottom-e.top:(h="bottom",o=e.bottom-n.top)}return{style:`${h}: ${o/((e.bottom-e.top)/s.offsetHeight)}px; max-width: ${l/((e.right-e.left)/s.offsetWidth)}px`,class:"cm-completionInfo-"+(c?a?"left-narrow":"right-narrow":u?"left":"right")}}function pf(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class mf{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:i,selected:s}=r.open,o=t.state.facet(df);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let s=t.displayLabel||t.label,o=0;for(let t=0;t<r.length;){let e=r[t++],n=r[t++];e>o&&i.appendChild(document.createTextNode(s.slice(o,e)));let l=i.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(s.slice(e,n))),l.className="cm-completionMatchedText",o=n}return o<s.length&&i.appendChild(document.createTextNode(s.slice(o))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=pf(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=t.state.field(e).open;for(let e,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(e=/-(\d+)$/.exec(i.id))&&+e[1]<r.length)return this.applyCompletion(t,r[+e[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let n=t.state.field(this.stateField,!1);n&&n.tooltip&&t.state.facet(df).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:hf.of(null)})})),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:i,selected:s,disabled:o}=n.open;r.open&&r.open.options==i||(this.range=pf(i.length,s,t.state.facet(df).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=(null===(e=r.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=pf(e.options.length,e.selected,this.view.state.facet(df).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,n)})).catch((t=>Vn(this.view.state,t,"completion info"))):this.addInfoPane(i,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:r}=t;n.appendChild(e),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.space;if(!i){let t=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return r.top>Math.min(i.bottom,e.bottom)-10||r.bottom<Math.max(i.top,e.top)+10?null:this.view.state.facet(df).positionInfo(this.view,e,r,n,i,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=n.from;s<n.to;s++){let{completion:o,match:l}=t[s],{section:a}=o;if(a){let t="string"==typeof a?a:a.name;if(t!=i&&(s>n.from||0==n.from))if(i=t,"string"!=typeof a&&a.header)r.appendChild(a.header(a));else{r.appendChild(document.createElement("completion-section")).textContent=t}}const u=r.appendChild(document.createElement("li"));u.id=e+"-"+s,u.setAttribute("role","option");let c=this.optionClass(o);c&&(u.className=c);for(let t of this.optionContent){let e=t(o,this.view.state,this.view,l);e&&u.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Rf(t,e){return n=>new mf(n,t,e)}function Of(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class wf{constructor(t,e,n,r,i,s){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new wf(this.options,bf(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,i){let s=function(t,e){let n=[],r=null,i=t=>{n.push(t);let{section:e}=t.completion;if(e){r||(r=[]);let t="string"==typeof e?e:e.name;r.some((e=>e.name==t))||r.push("string"==typeof e?{name:t}:e)}};for(let r of t)if(r.hasResult()){let t=r.result.getMatch;if(!1===r.result.filter)for(let e of r.result.options)i(new rf(e,r.source,t?t(e):[],1e9-n.length));else{let n=new ff(e.sliceDoc(r.from,r.to));for(let e of r.result.options)if(n.match(e.label)){let s=e.displayLabel?t?t(e,n.matched):[]:n.matched;i(new rf(e,r.source,s,n.score+(e.boost||0)))}}}if(r){let t=Object.create(null),e=0,i=(t,e)=>{var n,r;return(null!==(n=t.rank)&&void 0!==n?n:1e9)-(null!==(r=e.rank)&&void 0!==r?r:1e9)||(t.name<e.name?-1:1)};for(let n of r.sort(i))e-=1e5,t[n.name]=e;for(let e of n){let{section:n}=e.completion;n&&(e.score+=t["string"==typeof n?n:n.name])}}let s=[],o=null,l=e.facet(df).compareCompletions;for(let t of n.sort(((t,e)=>e.score-t.score||l(t.completion,e.completion)))){let e=t.completion;!o||o.label!=e.label||o.detail!=e.detail||null!=o.type&&null!=e.type&&o.type!=e.type||o.apply!=e.apply||o.boost!=e.boost?s.push(t):Of(t.completion)>Of(o)&&(s[s.length-1]=t),o=t.completion}return s}(t,e);if(!s.length)return r&&t.some((t=>1==t.state))?new wf(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let o=e.facet(df).selectOnOpen?0:-1;if(r&&r.selected!=o&&-1!=r.selected){let t=r.options[r.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){o=e;break}}return new wf(s,bf(n,o),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:Lf,above:i.aboveCursor},r?r.timestamp:Date.now(),o,!1)}map(t){return new wf(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class xf{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new xf(kf,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(df),r=(n.override||e.languageDataAt("autocomplete",sf(e)).map(uf)).map((e=>{let r=this.active.find((t=>t.source==e))||new Tf(e,this.active.some((t=>0!=t.state))?1:0);return r.update(t,n)}));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=this.open;i&&t.docChanged&&(i=i.map(t.changes)),t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?i=wf.build(r,e,this.id,i,n):i&&i.disabled&&!r.some((t=>1==t.state))&&(i=null),!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new Tf(t.source,0):t)));for(let e of t.effects)e.is(Pf)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new xf(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:yf}}const yf={"aria-autocomplete":"list"};function bf(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const kf=[];function Cf(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Tf{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Cf(t),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Tf(r.source,0));for(let e of t.effects)if(e.is(cf))r=new Tf(r.source,1,e.value?sf(t.state):-1);else if(e.is(hf))r=new Tf(r.source,0);else if(e.is(Af))for(let t of e.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new Tf(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(sf(t.startState))?new Tf(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Tf(this.source,this.state,t.mapPos(this.explicitPos))}}class Sf extends Tf{constructor(t,e,n,r,i){super(t,2,e),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(t,e,n){var r;let i=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),o=sf(t.state);if((this.explicitPos<0?o<=i:o<this.from)||o>s||"delete"==e&&sf(t.startState)==this.from)return new Tf(this.source,"input"==e&&n.activateOnTyping?1:0);let l,a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return"function"==typeof t?t(i,n,r,e):of(t,!0).test(i)}(this.result.validFor,t.state,i,s)?new Sf(this.source,a,this.result,i,s):this.result.update&&(l=this.result.update(this.result,i,s,new tf(t.state,o,a>=0)))?new Sf(this.source,a,l,l.from,null!==(r=l.to)&&void 0!==r?r:sf(t.state)):new Tf(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Tf(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new Sf(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}const Af=vt.define({map:(t,e)=>t.map((t=>t.map(e)))}),Pf=vt.define(),_f=V.define({create:()=>xf.start(),update:(t,e)=>t.update(e),provide:t=>[Ks.from(t,(t=>t.tooltip)),zi.contentAttributes.from(t,(t=>t.attrs))]});function Ef(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(_f).active.find((t=>t.source==e.source));return r instanceof Sf&&("string"==typeof n?t.dispatch(Object.assign(Object.assign({},function(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange((l=>l!=i&&n!=r&&t.sliceDoc(l.from+s,l.from+o)!=t.sliceDoc(n,r)?{range:l}:{changes:{from:l.from+s,to:r==i.from?l.to:l.from+o,insert:e},range:I.cursor(l.from+s+e.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,r.from,r.to)),{annotations:lf.of(e.completion)})):n(t,e.completion,r.from,r.to),!0)}const Lf=Rf(_f,Ef);function Df(t,e="option"){return n=>{let r=n.state.field(_f,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(df).interactionDelay)return!1;let i,s=1;"page"==e&&(i=so(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:o-1;return l<0?l="page"==e?0:o-1:l>=o&&(l="page"==e?o-1:0),n.dispatch({effects:Pf.of(l)}),!0}}class Qf{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const If=Gn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(_f).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(_f);if(!t.selectionSet&&!t.docChanged&&t.startState.field(_f)==e)return;let n=t.transactions.some((t=>(t.selection||t.docChanged)&&!Cf(t)));for(let e=0;e<this.running.length;e++){let r=this.running[e];if(n||r.updates.length+t.transactions.length>50&&Date.now()-r.time>1e3){for(let t of r.context.abortListeners)try{t()}catch(t){Vn(this.view.state,t)}r.context.abortListeners=null,this.running.splice(e--,1)}else r.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some((t=>t.effects.some((t=>t.is(cf)))))&&(this.pendingStart=!0);let r=this.pendingStart?50:t.state.facet(df).activateOnTypingDelay;if(this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),r):-1,0!=this.composing)for(let e of t.transactions)"input"==Cf(e)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(_f);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=sf(e),r=new tf(e,n,t.explicitPos==n),i=new Qf(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:hf.of(null)}),Vn(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(df).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(df);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new Sf(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:sf(i.updates.length?i.updates[0].startState:this.view.state));for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let s=this.view.state.field(_f).active.find((t=>t.source==i.active.source));if(s&&1==s.state)if(null==i.done){let t=new Tf(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Af.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(_f,!1);if(e&&e.tooltip&&this.view.state.facet(df).closeOnBlur){let n=e.open&&so(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:hf.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:cf.of(!1)})),20),this.composing=0}}}),Nf=zi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const Mf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},$f=vt.define({map(t,e){let n=e.mapPos(t,-1,C.TrackAfter);return null==n?void 0:n}}),Ff=new class extends At{};Ff.startSide=1,Ff.endSide=-1;const Bf=V.define({create:()=>Lt.empty,update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=n.from&&t<=n.to})}for(let n of e.effects)n.is($f)&&(t=t.update({add:[Ff.range(n.value,n.value+1)]}));return t}});const Uf="()[]{}<>";function Hf(t){for(let e=0;e<Uf.length;e+=2)if(Uf.charCodeAt(e)==t)return Uf.charAt(e+1);return y(t<128?t:t+1)}function qf(t,e){return t.languageDataAt("closeBrackets",e)[0]||Mf}const Xf="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Vf=zi.inputHandler.of(((t,e,n,r)=>{if((Xf?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==b(x(r,0))||e!=i.from||n!=i.to)return!1;let s=function(t,e){let n=qf(t,t.selection.main.head),r=n.brackets||Mf.brackets;for(let i of r){let s=Hf(x(i,0));if(e==i)return s==i?Zf(t,i,r.indexOf(i+i+i)>-1,n):Gf(t,i,s,n.before||Mf.before);if(e==s&&Wf(t,t.selection.main.from))return Yf(t,i,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)})),zf=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=qf(t,t.selection.main.head).brackets||Mf.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return b(x(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&jf(t.doc,e.head)==Hf(x(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:I.cursor(e.head-i.length)}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function Wf(t,e){let n=!1;return t.field(Bf).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function jf(t,e){let n=t.sliceString(e,e+2);return n.slice(0,b(x(n,0)))}function Gf(t,e,n,r){let i=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:$f.of(s.to+e.length),range:I.range(s.anchor+e.length,s.head+e.length)};let o=jf(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:$f.of(s.head+e.length),range:I.cursor(s.head+e.length)}:{range:i=s}}));return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Yf(t,e,n){let r=null,i=t.changeByRange((e=>e.empty&&jf(t.doc,e.head)==n?{changes:{from:e.head,to:e.head+n.length,insert:n},range:I.cursor(e.head+n.length)}:r={range:e}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Zf(t,e,n,r){let i=r.stringPrefixes||Mf.stringPrefixes,s=null,o=t.changeByRange((r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:e,from:r.to}],effects:$f.of(r.to+e.length),range:I.range(r.anchor+e.length,r.head+e.length)};let o,l=r.head,a=jf(t.doc,l);if(a==e){if(Kf(t,l))return{changes:{insert:e+e,from:l},effects:$f.of(l+e.length),range:I.cursor(l+e.length)};if(Wf(t,l)){let r=n&&t.sliceDoc(l,l+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+r.length,insert:r},range:I.cursor(l+r.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(o=Jf(t,l-2*e.length,i))>-1&&Kf(t,o))return{changes:{insert:e+e+e+e,from:l},effects:$f.of(l+e.length),range:I.cursor(l+e.length)};if(t.charCategorizer(l)(a)!=yt.Word&&Jf(t,l,i)>-1&&!function(t,e,n,r){let i=Wl(t).resolveInner(e,-1),s=r.reduce(((t,e)=>Math.max(t,e.length)),0);for(let o=0;o<5;o++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=o.indexOf(n);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let e=i.firstChild;for(;e&&e.from==i.from&&e.to-e.from>n.length+l;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let a=i.to==e&&i.parent;if(!a)break;i=a}return!1}(t,l,e,i))return{changes:{insert:e+e,from:l},effects:$f.of(l+e.length),range:I.cursor(l+e.length)}}return{range:s=r}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Kf(t,e){let n=Wl(t).resolveInner(e+1);return n.parent&&n.from==e}function Jf(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=yt.Word)return e;for(let i of n){let n=e-i.length;if(t.sliceDoc(n,e)==i&&r(t.sliceDoc(n-1,n))!=yt.Word)return n}return-1}function td(t={}){return[_f,df.of(t),If,nd,Nf]}const ed=[{key:"Ctrl-Space",run:t=>!!t.state.field(_f,!1)&&(t.dispatch({effects:cf.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(_f,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:hf.of(null)}),!0)}},{key:"ArrowDown",run:Df(!0)},{key:"ArrowUp",run:Df(!1)},{key:"PageDown",run:Df(!0,"page")},{key:"PageUp",run:Df(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(_f,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(df).interactionDelay)&&Ef(t,e.open.options[e.open.selected])}}],nd=Z.highest(ts.computeN([df],(t=>t.facet(df).defaultKeymap?[ed]:[])));class rd{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class id{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,i=n.facet(md).markerFilter;i&&(r=i(r,n));let s=sn.set(r.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?sn.widget({widget:new wd(t),diagnostic:t}).range(t.from):sn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t,inclusive:!0}).range(t.from,t.to))),!0);return new id(s,e,sd(s))}}function sd(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new rd(t,n,i.diagnostic),!1})),r}function od(t,e){let n=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(ad)))&&!t.changes.touchesRange(n.from,n.to))}function ld(t,e){return t.field(hd,!1)?e:e.concat(vt.appendConfig.of(Td))}const ad=vt.define(),ud=vt.define(),cd=vt.define(),hd=V.define({create:()=>new id(sn.none,null,null),update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=sd(n,t.selected.diagnostic,i)||sd(n,null,i)}t=new id(n,t.panel,r)}for(let n of e.effects)n.is(ad)?t=id.init(n.value,t.panel,e.state):n.is(ud)?t=new id(t.diagnostics,n.value?yd.open:null,t.selected):n.is(cd)&&(t=new id(t.diagnostics,t.panel,n.value));return t},provide:t=>[fo.from(t,(t=>t.panel)),zi.decorations.from(t,(t=>t.diagnostics))]});const fd=sn.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function dd(t,e,n){let{diagnostics:r}=t.state.field(hd),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:l})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(l.diagnostic),s=Math.min(t,s),o=Math.max(r,o))}));let l=t.state.facet(md).tooltipFilter;return l&&(i=l(i,t.state)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create:()=>({dom:vd(t,i)})}:null}function vd(t,e){return Gc("ul",{class:"cm-tooltip-lint"},e.map((e=>Od(t,e,!1))))}const gd=t=>{let e=t.state.field(hd,!1);return!(!e||!e.panel)&&(t.dispatch({effects:ud.of(!1)}),!0)},pd=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(hd,!1);e&&e.panel||t.dispatch({effects:ld(t.state,[ud.of(!0)])});let n=ao(t,yd.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(hd,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],md=$.define({combine:t=>Object.assign({sources:t.map((t=>t.source)).filter((t=>null!=t))},St(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function Rd(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function Od(t,e,n){var r;let i=n?Rd(e.actions):[];return Gc("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Gc("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let s=!1,o=r=>{if(r.preventDefault(),s)return;s=!0;let i=sd(t.state.field(hd).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:l}=n,a=i[r]?l.indexOf(i[r]):-1,u=a<0?l:[l.slice(0,a),Gc("u",l.slice(a,a+1)),l.slice(a+1)];return Gc("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${l}${a<0?"":` (access key "${i[r]})"`}.`},u)})),e.source&&Gc("div",{class:"cm-diagnosticSource"},e.source))}class wd extends nn{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Gc("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class xd{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Od(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class yd{constructor(t){this.view=t,this.items=[];this.list=Gc("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)gd(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=Rd(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=sd(this.view.state.field(hd).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=Gc("div",{class:"cm-panel-lint"},this.list,Gc("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gd(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(hd).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(hd),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let l,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){a=t;break}a<0?(l=new xd(this.view,o.diagnostic),this.items.splice(n,0,l),r=!0):(l=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),i=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new xd(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let n=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/n:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=sd(this.view.state.field(hd).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:cd.of(e)})}static open(t){return new yd(t)}}function bd(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function kd(t){return bd(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Cd=zi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:kd("#d11")},".cm-lintRange-warning":{backgroundImage:kd("orange")},".cm-lintRange-info":{backgroundImage:kd("#999")},".cm-lintRange-hint":{backgroundImage:kd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const Td=[hd,zi.decorations.compute([hd],(t=>{let{selected:e,panel:n}=t.field(hd);return e&&n&&e.from!=e.to?sn.set([fd.range(e.from,e.to)]):sn.none})),io(dd,{hideOn:od}),Cd];const Sd=(()=>[Lo(),Io,Es(),_u(),Fa(),vs(),[ys,bs],Tt.allowMultipleSelections.of(!0),Tt.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let s=n.sliceString(i.from,r);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,l=-1,a=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==l)continue;l=e.from;let n=la(o,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=oa(o,n);r!=i&&a.push({from:e.from,to:e.from+r.length,insert:i})}return a.length?[t,{changes:a,sequential:!0}]:t})),Va(ja,{fallback:!0}),iu(),[Vf,Bf],td(),Bs(),qs(),Ns,fh(),ts.of([...zf,...Wc,...zh,...Wu,..._a,...ed,...pd])])();class Ad{constructor(t,e,n,r,i,s,o,l,a,u=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=a,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new Ad(t,[],e,n,n,0,[],0,r?new Pd(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,r=65535&t,{parser:i}=this.p,s=i.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&t?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,a=this.reducePos-l;a>=2e3&&!(null===(e=this.p.parser.nodeSet.types[r])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=a):this.p.lastBigReductionSize<a&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=a));let u=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-u;if(r<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,t,c+4,!0)}if(262144&t)this.state=this.stack[o];else{let t=this.stack[o-3];this.state=i.getGoto(t,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,l)}storeNode(t,e,n,r=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,r=this.buffer.length;if(0==r&&t.parent&&(r=t.bufferBase-t.parent.bufferBase,t=t.parent),r>0&&0==t.buffer[r-4]&&t.buffer[r-1]>-1){if(e==n)return;if(t.buffer[r-2]>=e)return void(t.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n,r){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){let i=t,{parser:s}=this.p;(r>this.pos||e<=s.maxNode)&&(this.pos=r,s.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,r,4)}else this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4)}apply(t,e,n,r){65536&t?this.reduce(t):this.shift(t,e,n,r)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new Ad(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new _d(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(0==(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<e.length;i+=2)(r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t)&&n.push(e[i],r);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let r=e[t+1];n.some(((t,e)=>1&e&&t==r))||n.push(e[t],r)}e=n}let n=[];for(let t=0;t<e.length&&n.length<4;t+=2){let r=e[t+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(0==(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(r,i)=>{if(!e.includes(r))return e.push(r),t.allActions(r,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-i;if(n>1){let r=65535&e,i=this.stack.length-3*n;if(i>=0&&t.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let t=n(e,i+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Pd(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Pd{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class _d{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Ed{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Ed(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Ed(this.stack,this.pos,this.index)}}function Ld(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let e=t.charCodeAt(r++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,n=!0),s+=i,n)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Dd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Qd=new Dd;class Id{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Qd,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,i=this.pos+t;for(;i<n.from;){if(!r)return null;let t=this.ranges[--r];i-=n.from-t.to,n=t}for(;e<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let t=this.ranges[++r];i+=t.from-n.to,n=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,r=this.chunkOff+t;if(r>=0&&r<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(t,1);if(null==r)return-1;if(e=r,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,r=this.range;for(;r.to<=e;)r=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Qd,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class Nd{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;Md(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}Nd.prototype.contextual=Nd.prototype.fallback=Nd.prototype.extend=!1;Nd.prototype.fallback=Nd.prototype.extend=!1;function Md(t,e,n,r,i,s){let o=0,l=1<<r,{dialect:a}=n.p.parser;t:for(;0!=(l&t[o]);){let n=t[o+1];for(let r=o+3;r<n;r+=2)if((t[r+1]&l)>0){let n=t[r];if(a.allows(n)&&(-1==e.token.value||e.token.value==n||Fd(n,e.token.value,i,s))){e.acceptToken(n);break}}let r=e.next,u=0,c=t[o+2];if(!(e.next<0&&c>u&&65535==t[n+3*c-3])){for(;u<c;){let i=u+c>>1,s=n+i+(i<<1),l=t[s],a=t[s+1]||65536;if(r<l)c=i;else{if(!(r>=a)){o=t[s+2],e.advance();continue t}u=i+1}}break}o=t[n+3*c-1]}}function $d(t,e,n){for(let r,i=e;65535!=(r=t[i]);i++)if(r==n)return i-e;return-1}function Fd(t,e,n,r){let i=$d(n,r,e);return i<0||$d(n,r,t)<i}const Bd="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Ud=null;function Hd(t,e,n){let r=t.cursor(zo.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class qd{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Hd(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Hd(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],s=this.start[e]+n.positions[r];if(s>t)return this.nextStart=s,null;if(i instanceof Wo){if(s==t){if(s<this.safeFrom)return null;let t=s+i.length;if(t<=this.safeTo){let e=i.prop(Fo.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,s+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+i.length}}}class Xd{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new Dd))}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:i}=r,s=r.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let r=0;r<i.length;r++){if(0==(1<<r&s))continue;let a=i[r],u=this.tokens[r];if((!n||a.fallback)&&((a.contextual||u.start!=t.pos||u.mask!=s||u.context!=o)&&(this.updateCachedToken(u,a,t),u.mask=s,u.context=o),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),0!=u.value)){let r=e;if(u.extended>-1&&(e=this.addActions(t,u.extended,u.end,e)),e=this.addActions(t,u.value,u.end,e),!a.extend&&(n=u,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),n||t.pos!=this.stream.end||(n=new Dd,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Dd,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){let r=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(r,t),n),t.value>-1){let{parser:e}=n.p;for(let r=0;r<e.specialized.length;r++)if(e.specialized[r]==t.value){let i=e.specializers[r](this.stream.read(t.start,t.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,n,r){for(let e=0;e<r;e+=3)if(this.actions[e]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:i}=t,{parser:s}=t.p,{data:o}=s;for(let t=0;t<2;t++)for(let l=s.stateSlot(i,t?2:1);;l+=3){if(65535==o[l]){if(1!=o[l+1]){0==r&&2==o[l+1]&&(r=this.putAction(Gd(o,l+2),e,n,r));break}l=Gd(o,l+2)}o[l]==e&&(r=this.putAction(Gd(o,l+1),e,n,r))}return r}}class Vd{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Id(e,r),this.tokens=new Xd(t,this.stream),this.topTerm=t.top[1];let{from:i}=r[0];this.stacks=[Ad.start(this,t.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*t.bufferLength?new qd(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!i.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return Bd&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw Bd&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(n)return Bd&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort(((t,e)=>e.score-t.score));i.length>t;)i.pop();i.some((t=>t.reducePos>r))&&this.recovering--}else if(i.length>1){t:for(let t=0;t<i.length-1;t++){let e=i[t];for(let n=t+1;n<i.length;n++){let r=i[n];if(e.sameState(r)||e.buffer.length>500&&r.buffer.length>500){if(!((e.score-r.score||e.buffer.length-r.buffer.length)>0)){i.splice(t--,1);continue t}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:i}=this,s=Bd?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?i.getGoto(t.state,o.type.id):-1;if(r>-1&&o.length&&(!e||(o.prop(Fo.contextHash)||0)==n))return t.useNode(o,r),Bd&&console.log(s+this.stackID(t)+` (via reuse of ${i.getName(o.type.id)})`),!0;if(!(o instanceof Wo)||0==o.children.length||o.positions[0]>0)break;let l=o.children[0];if(!(l instanceof Wo&&0==o.positions[0]))break;o=l}}let o=i.stateSlot(t.state,4);if(o>0)return t.reduce(o),Bd&&console.log(s+this.stackID(t)+` (via always-reduce ${i.getName(65535&o)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let o=0;o<l.length;){let a=l[o++],u=l[o++],c=l[o++],h=o==l.length||!n,f=h?t:t.split(),d=this.tokens.mainToken;if(f.apply(a,u,d?d.start:f.pos,c),Bd&&console.log(s+this.stackID(f)+` (via ${0==(65536&a)?"shift":`reduce of ${i.getName(65535&a)}`} for ${i.getName(u)} @ ${r}${f==t?"":", split"})`),h)return!0;f.pos>r?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return zd(t,e),!0}}runRecovery(t,e,n){let r=null,i=!1;for(let s=0;s<t.length;s++){let o=t[s],l=e[s<<1],a=e[1+(s<<1)],u=Bd?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),Bd&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),h=u;for(let t=0;c.forceReduce()&&t<10;t++){if(Bd&&console.log(h+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;Bd&&(h=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(l))Bd&&console.log(u+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(a==o.pos&&(a++,l=0),o.recoverByDelete(l,a),Bd&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),zd(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(t){return t.close(),Wo.build({buffer:Ed.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Ud||(Ud=new WeakMap)).get(t);return e||Ud.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function zd(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class Wd{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class jd extends fl{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let n=0;n<t.repeatNodeCount;n++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function i(t,e,n){r[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=Fo[t]);for(let n=1;n<e.length;){let r=e[n++];if(r>=0)i(r,t,e[n++]);else{let s=e[n+-r];for(let o=-r;o>0;o--)i(e[n++],t,s);n++}}}this.nodeSet=new qo(e.map(((e,i)=>Ho.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=No;let s=Ld(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(Yd),this.states=Ld(t.states,Uint32Array),this.data=Ld(t.stateData),this.goto=Ld(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new Nd(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new Vd(this,t,e,n);for(let i of this.wrappers)r=i(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let i=r[e+1];;){let e=r[i++],s=1&e,o=r[i++];if(s&&n)return o;for(let n=i+(e>>1);i<n;i++)if(r[i]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let i,s=this.stateSlot(t,r?2:1);;s+=3){if(65535==(i=n[s])){if(1!=n[s+1]){if(2==n[s+1])return Gd(n,s+2);break}i=n[s=Gd(n,s+2)]}if(i==e||0==i)return Gd(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),r=n?e(n):void 0;for(let n=this.stateSlot(t,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Gd(this.data,n+2)}r=e(Gd(this.data,n+1))}return r}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Gd(this.data,n+2)}if(0==(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create(jd.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=t.specializers.find((t=>t.from==n.external));if(!i)return n;let s=Object.assign(Object.assign({},n),{external:i.to});return e.specializers[r]=Yd(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let r=null;for(let t=0;t<e.length;t++)if(!n[t])for(let n,i=this.dialects[e[t]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new Wd(t,n,r)}static deserialize(t){return new jd(t)}}function Gd(t,e){return t[e]|t[e+1]<<16}function Yd(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const Zd={__proto__:null,open:8,interface:14,extends:22,forall:56,mu:66,type:82,true:98,false:100,undefined:102,override:108,with:120,let:144,in:146,letrec:150,if:156,then:158,else:160,trait:164,implements:166,inherits:168,new:172,toString:176,fix:180,fold:184,unfold:188,ref:192},Kd={__proto__:null,Int:24,Double:26,String:28,Bool:30,Top:32,Bot:34,Trait:68,Ref:72},Jd=jd.deserialize({version:14,states:"#![O]QPOOOOQO'#Eq'#EqO]QPOOO%cQQO'#DYOOQO'#DZ'#DZO(PQPO'#FrOOQO'#Db'#DbO(WQPO'#FtOOQO'#Dc'#DcOOQO'#Di'#DiO&PQPO'#FzOOQO'#Fq'#FqO(oQPO'#FqO*tQQO'#FpO-bQQO'#FoO/xQQO'#FnO2]QQO'#FmO2|QPO'#DqO3[QPO'#DsOOQO'#Fl'#FlOOQO'#Fk'#FkO&PQPO'#FkO4tQQO'#FjO5^QPO'#DXOOQO'#FW'#FWOOQO'#Er'#ErO7eQPOOQOQPOOO9lQPO'#FTO3_QPO'#CbO3_QPO'#DUO9vQPO'#DuO9vQPO'#DxO&PQPO'#D{O9{QSO'#EPO&PQPO'#ETO:ZQPO'#EVO9vQPO'#EXO;UQPO'#EZO;ZQPO'#E]O:ZQPO'#E_OOQO-E8o-E8oO;`QPO'#FsO;hQPO'#FsO;oQPO,5<^O&PQPO'#DzO;tQPO'#CrO<YQPO'#DeO9vQPO'#FvOOQO'#Dg'#DgO<kQPO'#FwO<sQPO'#DfO<xQPO'#FuO=QQPO'#FuO=YQPO'#FuO=_QPO'#FuO=vQPO,5<`O={QPO'#FuO>ZQPO,5<dO>`QPO,5<fOOQO'#Dl'#DlOOQO,5<],5<]O>eQPO'#FOO@mQQO,5<[O>eQPO,5<ZOAZQPO,5<YO>eQPO,5<YOOQO'#FP'#FPOBOQQO,5<XOAZQPO'#FPOOQO'#DY'#DYOOQO'#Ff'#FfO3SQPO'#FhOChQSO,5:]OCyQSO'#FiOOQO'#Fe'#FeOOQO'#Ey'#EyOOQO'#Cd'#CdO3_QPO'#F`OOQO'#F_'#F_OOQO'#Ev'#EvODUQPO,5:_OEXQQO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VOExQPO,5<UO5RQPO'#F`OFYQPO,59sOFdQPO,59sO&PQPO,59sOExQPO,59sOOQO-E8p-E8pOFxQQO,5;oOGSQPO,5:fOGXQPO,58|OGgQPO,59pOGrQPO,5:aOGyQPO,5:dOHQQPO,5:gO&PQPO,5:kOHVQPO,5:kOHgQPO,5:kOIpQSO,5:kOI{QQO,5:oOOQO,5:q,5:qOJlQPO,5:sOAZQPO,5:uOAZQPO,5:wOOQO,5:y,5:yPJqQPO'#FTOOQO,5;g,5;gOJyQPO,5<_OOQO-E8y-E8yOOQO1G1x1G1xO&PQPO,5:POKRQPO,5:POKdQPO,5<bOOQO'#Cr'#CrOKlQPO,5<cO<kQPO,5:QOK}QPO,5:QO<kQPO,5<aOOQO,5;h,5;hOLSQPO,5<aOL[QPO,5<aOLdQPO,5<aOOQO-E8z-E8zO={QPO,5<aOOQO1G1z1G1zO<{QPO'#DfOLiQPO,5<aOLqQPO1G2OOOQO1G2Q1G2QOOQO'#Dm'#DmOOQO,5;j,5;jOOQO-E8|-E8|OL|QSO1G1uOOQO'#Co'#CoOMRQPO'#F[OOQO'#Cp'#CpOExQPO'#FcOExQPO'#FdOOQO'#FZ'#FZOM^QQO'#FYOOQO1G1t1G1tOOQO-E8}-E8}OOQO,5;k,5;kO! pQPO,5<SO&PQPO1G/wOOQO-E8w-E8wO! uQPO'#EzO! zQSO,5<TO!!VQPO,5<TO!![QPO,5;zOOQO-E8t-E8tO&PQPO1G/yOOQO1G1q1G1qO!#qQQO1G1qO!#xQQO1G1qO!%aQQO1G1qO!%hQQO1G1qO!'PQQO1G1qO!'WQQO1G1qO!(lQQO1G1qO!(vQQO1G1qO!)lQPO1G1pO!)yQPO'#F^O!,|QPO'#FYO3[QPO'#F^O3_QPO'#F^O!-ZQPO'#F^OAZQPO'#F^O!-`QPO1G/_O&PQPO1G/_OExQPO1G/_O!-tQPO1G/_O!-yQPO1G/_OOQO1G1Z1G1ZO&PQPO1G0QO3_QPO'#FXOOQO'#Es'#EsO!.XQPO1G.hOOQO'#Et'#EtO!.[QPO1G.hO!.gQPO1G.hOAZQPO1G.hO!.lQPO1G/[O!.oQPO1G/[OExQPO1G/[O!.wQPO1G/{O!/OQPO1G/{O&PQPO1G/{O!/aQPO1G0OO!/hQPO1G0OOExQPO1G0OO&PQPO1G0RO!/yQQO1G0VO!0jQWO1G0VO!1OQWO'#F^O!2wQWO'#FYO!3qQ`O'#FpO!3{Q`O'#FoO!4VQ`O'#FnO!4dQWO'#FmO!5iQWO1G0VO&PQPO1G0VOHVQPO1G0VOHgQPO1G0VOExQPO1G0_O:ZQPO1G0aO:ZQPO1G0cP!5sQPO,5;oP!5xQPO'#E{OOQO1G/k1G/kO&PQPO1G/kOOQO1G1|1G1|OExQPO1G1|OOQO1G1}1G1}O!5}QPO1G1}OOQO1G/l1G/lO!6`QPO1G/lO!6eQPO1G1{O<kQPO1G1{P!6mQPO'#E|P!6uQPO'#E|P!6zQPO'#E|P={QPO'#E|O!7PQPO1G1{OOQO1G1S1G1SO!7XQPO'#FyO!7^QPO'#FyO!7iQPO7+'jO<kQPO7+'aO!7nQPO'#F]O!7vQPO'#F]O!8RQPO,5;vO!8WQPO,5;}O!8fQPO,5<OO!8tQPO'#FaOOQO'#Ex'#ExO!9UQQO,5;tOExQPO1G1nOOQO7+%c7+%cO&PQPO,5;fOOQO-E8x-E8xO!;hQPO1G1oOOQO1G1o1G1oOExQPO1G1fOOQO7+%e7+%eOExQPO,5;xOExQPO,5;xOExQPO,5;xOOQO'#Ew'#EwO!;mQPO,5;xO!>pQPO,5;tO!>}QPO,5;xO!?YQPO,5;xOOQO,5;x,5;xO&PQPO7+$yOExQPO7+$yO!?_QPO7+$yO!?dQPO7+$yOOQO7+$y7+$yOOQO7+%l7+%lO!?rQPO,5;sOOQO-E8q-E8qO!?wQPO7+$SO!@SQPO7+$SOAZQPO7+$SOOQO-E8r-E8rOOQO7+$S7+$SO!@XQPO7+$SO!@^QPO7+$vOExQPO7+$vO!@fQPO7+$vO!@tQPO7+%gO&PQPO7+%gO!AVQPO7+%gO!A[QPO7+%jOExQPO7+%jO!AmQPO7+%jO!A{QPO7+%mO&PQPO7+%qOHVQPO7+%qOHgQPO7+%qO!BQQWO,5;xO!CyQWO,5;tO!DsQ`O,5<[O!D}QWO,5<XO!FTQWO,5<VO!F_QWO,5:oO!FiQWO'#FpO!GmQQO7+%qO!H^QWO7+%qO!HrQWO7+%qO!H|QPO7+%yOOQO7+%{7+%{OOQO7+%}7+%}OOQO7+%V7+%VO!I[QPO7+'hOOQO7+'i7+'iO<kQPO7+%WOOQO7+&n7+&nO!IjQPO7+'gP<kQPO,5;hP!IrQPO,5;hO&PQPO,5<eO!IwQPO,5<eOOQO-E8{-E8{OOQO<<KU<<KUO!I|QPO<<J{OExQPO,5;wO!JRQPO,5;wO!JWQPO,5;wOOQO-E8s-E8sOOQO1G1b1G1bOOQO1G1i1G1iOOQO1G1j1G1jO!J`QpO'#FbO!JqQPO,5;{O!JvQpO'#F^O!KZQpO'#FYOOQO-E8v-E8vO!LbQPO7+'YO!LpQPO1G1QOOQO7+'Z7+'ZO!LuQPO7+'QO!M{QPO1G1dO!NVQPO1G1dOOQO1G1d1G1dOOQO-E8u-E8uOExQPO1G1dO!NaQPO<<HeO!NfQPO<<HeOOQO<<He<<HeO&PQPO<<HeOOQO1G1_1G1_O!NtQPO<<GnOAZQPO<<GnOOQO<<Gn<<GnO!@XQPO<<GnOExQPO<<HbO!NyQPO<<HbOOQO<<Hb<<HbO&PQPO<<IRO# XQPO<<IRO&PQPO<<IROExQPO<<IUO# ^QPO<<IUO&PQPO<<IUO&PQPO<<IXO##]QWO1G1dO##gQWO1G1dO##qQQO<<I]O#$bQWO<<I]O#$pQWO<<I]O#%uQWO1G1qO#%|QWO1G1qO#'OQWO1G1qO#'VQWO1G1qO#(XQWO1G1qO#(`QWO1G1qO#)_QWO1G1qO#)iQWO1G1qO#)sQWO1G0VO#)}QWO,5<[O&PQPO<<I]OHVQPO<<I]OHgQPO<<I]O&PQPO<<IeOOQO<<KS<<KSOOQO<<Hr<<HrP#+RQPO1G1SO#+WQPO1G2PO&PQPO1G2PP#+`QPO'#E}OOQOAN@gAN@gO#+eQPO1G1cOExQPO1G1cOExQPO1G1cO#+vQPO1G1cP#+{QPO'#EuOExQPO,5;|OOQO1G1g1G1gO#,TQpO,5;xO#,hQpO,5;tOOQO<<Jt<<JtO#-oQWO1G1pOOQO7+&l7+&lOOQO<<Jl<<JlO#/gQPO7+'OOOQOAN>PAN>PO&PQPOAN>PO#/}QPOAN>POOQOAN=YAN=YO!@XQPOAN=YO#0SQPOAN=YO#0XQPOAN=|OOQOAN=|AN=|O#0gQPOAN>mO&PQPOAN>mOOQOAN>mAN>mO#0lQPOAN>pO&PQPOAN>pO#0zQPOAN>pOOQOAN>sAN>sO&PQPOAN>wOHVQPOAN>wO#1PQWO7+'OO#2`QWO'#FjO#3aQWO7+%qO#3kQQOAN>wO#4[QWOAN>wO#4jQWOAN>wO#4tQQOAN?POOQO7+&o7+&oO#5eQPO7+'kP&PQPO,5;iOOQO7+&g7+&gO#5mQPO7+&}O#6OQPO7+&}OExQPO7+&}PExQPO,5;aP#6aQPO,5;aO#6fQPO1G1hO#6tQpO1G1dO#7VQpO1G1dO#7hQPOG23kOOQOG23kG23kO#7mQPOG22tOOQOG22tG22tOOQOG23hG23hO&PQPOG24XOOQOG24XG24XO&PQPOG24[O#7rQPOG24[O&PQPOG24[O#7wQQOG24cO#8hQWOG24cO#8vQWO<<I]O&PQPOG24cOHVQPOG24cP#9QQPO1G1TOOQO<<JR<<JRO#9VQPO<<JiP#9hQPO1G0{PExQPO1G0{O#9vQpO7+'OOOQOLD)VLD)VOOQOLD(`LD(`OOQOLD)sLD)sO#:XQPOLD)vO&PQPOLD)vOOQOLD)vLD)vO&PQPOLD)}O#:^QWOAN>wO#:hQWOAN?PO#:rQQOLD)}O#;cQWOLD)}P#;qQPO7+&gO&PQPO!$'MbOOQO!$'Mb!$'MbO#<PQQO!$'MiO#<pQWOG24cO&PQPO!$'MiOOQO!)9B|!)9B|O#<zQWOLD)}O#=UQQO!)9CTO#=uQWO!$'MiO#>PQWO!)9CTOHgQPO'#FkO#>ZQQO'#FjOHgQPO'#ETO:ZQPO'#EVO:ZQPO'#E_OAZQPO,5<YOAZQPO'#FPOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHVQPO,5<UOHgQPO,5:kO#>eQPO1G/wO#>eQPO1G/yOAZQPO'#F^OAZQPO'#F^O#>eQPO1G0QOHgQPO1G0VO:ZQPO1G0aO:ZQPO1G0cOHVQPO,5;xO!8tQPO,5;xOHVQPO,5;xO!8tQPO,5;xOHVQPO,5;xO!8tQPO,5;xOHgQPO7+%qOHVQPO1G1dO!8tQPO1G1dO#>eQPO<<IRO#>eQPO<<IXOHgQPO<<I]OHgQPO<<IeO#>eQPOAN>mOHgQPOAN>wO#?nQWO'#FjO#>eQPOG24XO#>eQPOG24XO#>eQPOG24[O#>eQPOG24[OHgQPOG24cO#>eQPOLD)vO#>eQPOLD)vOHgQPOLD)}O#>eQPO!$'MbO#>eQPO!$'MbOHgQPO!$'MiO#?uQSO'#EPO#@TQSO,5:]O#@fQPO,5:_O#@qQPO,5:fO#@vQSO,5:kOAZQPO,5:uOAZQPO,5:wO#ARQWO1G0VO#AgQWO1G0VO#AqQPO,5;xO#A|QPO,5;xO#BXQPO,5;xO#B^QPO,5;xO#BcQPO7+%gO#BhQPO7+%mO#BmQWO7+%qO#CRQWO7+%qO#C]QPO7+%yO#CkQPO<<IRO#CpQWO<<I]O#DOQWO<<I]O#DYQPOAN>mO#D_QPOAN>mO#DdQPOAN>pO#DiQPOAN>pO#DnQWOAN>wO#D|QWOAN>wO#EWQPOG24[O#E]QPOG24[O#EbQWOG24cO#EpQPOLD)vO#EuQPOLD)vO#EzQWOLD)}O#>eQPO1G/wO#>eQPO1G/yO#>eQPO1G0QO#>eQPO<<IRO#>eQPO<<IXO#>eQPOAN>mO2|QPO'#DqO3[QPO'#DsO#FYQPO'#EZO#F_QPO'#E]O&PQPO'#DzOHVQPO,5:kOHgQPO,5:kO3[QPO'#F^O3[QPO'#F^O3_QPO'#F^O3_QPO'#F^O&PQPO1G/{O&PQPO1G0ROHVQPO1G0VOHgQPO1G0VOExQPO1G0_O&PQPO7+%gOHVQPO7+%qOHgQPO7+%qO&PQPO<<IRO&PQPO<<IRO&PQPO<<IUO&PQPO<<IUOHVQPO<<I]OHgQPO<<I]O&PQPOAN>pO&PQPOAN>pOHVQPOAN>wO&PQPOG24[O&PQPOG24[OHVQPOG24cO#FdQSO,5:]O#FuQPO,5:_O#GQQPO,5:fO#GVQPO7+%gO#G[QPO7+%mO#GaQPO<<IRO#GfQPO,5:aO#GmQPO,5:gO#GrQPO,5:sO#GwQPO1G/{O#HOQPO1G/{O#HaQPO7+%gO#HrQPO7+%gO#ITQPO7+%jO#IcQPO7+%jO#IqQPO<<IUO#JPQPO<<IUO#J_QPOAN>pO#JmQPOAN>pO2|QPO'#DqO3[QPO'#DsO&PQPO'#DzO&PQPO1G/{O&PQPO1G0RO&PQPO7+%gO9vQPO'#DuO&PQPO'#D{O9vQPO'#EXOExQPO1G0OOExQPO1G0OOExQPO7+%jOExQPO7+%jOExQPO<<IUOExQPO<<IUO#>eQPO'#FkO#>eQPO'#ETO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5:kO#>eQPO1G0VO#>eQPO7+%qO#>eQPO<<I]O#>eQPO<<IeO#>eQPOAN>wO#>eQPOG24cO#>eQPOLD)}O#>eQPO!$'MiO#J{QSO'#EPO#KZQSO,5:kO#KfQWO1G0VO#KzQWO1G0VO#LUQWO7+%qO#LjQWO7+%qO#LtQPO7+%yO#MSQWO<<I]O#MbQWO<<I]O#MlQWOAN>wO#MzQWOAN>wO#NUQWOG24cO#NdQWOLD)}OHVQPO,5:kOHgQPO,5:kOHVQPO1G0VOHgQPO1G0VOExQPO1G0_OHVQPO7+%qOHgQPO7+%qOHVQPO<<I]OHgQPO<<I]OHVQPOAN>wOHVQPOG24cO#NrQPO,5:aO#NyQPO,5:gO$ OQPO,5:sO$ TQPO1G/{O$ [QPO1G/{O$ mQPO,5:dO$ tQPO,5:dO$ {QPO1G0OO$!SQPO1G0OO$!ZQPO1G0OO$!lQPO1G0OO$!}QPO7+%jO$#`QPO7+%jO$$iQWO,5<VO$$vQWO,5:oO$&RQWO1G1qO$&YQWO1G1qO$'_QWO1G1qO$'fQWO1G1qO$(kQWO1G1qO$(rQWO1G1qO$)tQWO1G1qO$*OQWO1G1qO$*YQWO1G0VO$*gQWO7+%qO$*tQWO<<I]O$+RQWOAN>wO$+`QWOAN?PO$+mQWOG24cO$+zQWOLD)}O$,XQWO!$'MiO$,fQWO!)9CTO9vQPO'#DuO&PQPO'#D{O9vQPO'#EXO9vQPO'#DxO9vQPO'#Dx",stateData:"$,}~O#vOSPOSQOS~OSlOVmObZOeVOmYOvTOynO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#xRO#ySO~Ob}Xe}Xh}Xm}Xp}Xv}X!O}X!P}X!Q}X!R}X!S}X!T}X![}X!_}X!c}X!d}X#T}X#X}X#Y}X#Z}X#[}X#]}X#^}X#_}X#`}X#a}X#b}X#c}X#x}X#y}X~Oe|Xh|Xm|Xz|X#t}X#x|X#y|X$Z|X~P#cOS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#xSO#ySO~Ow$gP~P&POm!SOv!QO!W!ZO#x!OO#y!OO$Z!WOu$iP~O#y!^O~Op!`Ob$dXe$dXh$dXm$dXv$dX!O$dX!P$dX!Q$dX!R$dX!S$dX!T$dX![$dX!_$dX!c$dX!d$dX#T$dX#X$dX#Y$dX#Z$dX#[$dX#]$dX#^$dX#_$dX#`$dX#a$dX#b$dX#c$dX#x$dX#y$dX~O#t$dXT$dXw$dXo$dX!k$dX!q$dXu$dX!r$dX~P(tOv!bOb$cXe$cXh$cXm$cXv$cX!O$cX!P$cX!Q$cX!R$cX!S$cX!T$cX![$cX!_$cX!c$cX!d$cX#T$cX#X$cX#Y$cX#Z$cX#[$cX#]$cX#^$cX#_$cX#`$cX#a$cX#b$cX#c$cX#x$cX#y$cX~O#t$cXT$cXw$cXo$cX!k$cX!q$cXu$cX!r$cX~P+bO!d!dOb$bXe$bXh$bXm$bXv$bX!O$bX!P$bX!Q$bX!R$bX!S$bX!T$bX![$bX!_$bX#T$bX#X$bX#Y$bX#Z$bX#[$bX#]$bX#^$bX#_$bX#`$bX#a$bX#b$bX#c$bX#x$bX#y$bX~O!c!cO#t$bXT$bXw$bXo$bX!k$bX!q$bXu$bX!r$bX~P.OObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O#xSO#ySOh$aX#T$aX#X$aX#Y$aX#Z$aX#[$aX#]$aX#^$aX#_$aX#`$aX#a$aX#b$aX#c$aX~O![!gO#t$aXT$aXw$aXo$aX!k$aX!q$aXu$aX!r$aX~P0iOe!lOm!jO#x!hO$Z!iO~Om!pO#y!oO~O#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{O#a!|O#b!}O#c!}O#t$^XT$^Xw$^Xo$^X!k$^X!q$^Xu$^X!r$^X~Oh#OO~P3dOe!lOm#PO#x!hO#y!oO$Z!iO~Oh#TOz#SO~P4{OS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#ySO~OVmOynO#xRO~P5hOS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO~O#x#VO#y#VO~P7rO#x!hO~Os#^Ov!QO!u#_O!v#`O~ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O#xSO#ySO~O![#eO~O![#fO~OT#iOw$gX~Ow$gX~P&POw#lO~OefXmfXzfX!^}X#xfX$ZfX~Oe!lOm!jOz#mO#x!hO$Z!iO~O#x#pO#y#pO~Op#rO~Op#tO![#sO~OT#uOu$iX~Op#tO~Om!SOv!QO!W#zO#x#pO#y#pO$Z#xOu$iX~Ou#{O~Om!SOv!QO#x#pO#y#pO~O!^$OO~Oo$PO~O#x$QO#y$QO~Op!`Ob$dae$dah$dam$dav$da!O$da!P$da!Q$da!R$da!S$da!T$da![$da!_$da!c$da!d$da#T$da#X$da#Y$da#Z$da#[$da#]$da#^$da#_$da#`$da#a$da#b$da#c$da#x$da#y$da~O#t$daT$daw$dao$da!k$da!q$dau$da!r$da~P>mO[$ZO]$ZO^$ZO_$ZO`$ZOa$ZOb$ZOe$VOm$YOv$XO#y$UO~O![!gOh$aa#T$aa#X$aa#Y$aa#Z$aa#[$aa#]$aa#^$aa#_$aa#`$aa#a$aa#b$aa#c$aa#t$aaT$aaw$aao$aa!k$aa!q$aau$aa!r$aa~P:ZOe!lOm!jO!f$aO#x!hO$Z!iO~O#d$eO#x#pO#y#pO~Om!pOp$hO#y!oO~O#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{O#a!|O#b!}O#c!}O~Oh$_a#t$_aT$_aw$_ao$_a!k$_a!q$_au$_a!r$_a~PDaOl$uOq$vOr$wOt$xO~PAZOh${Oz$zO~P4{Oe!lOh${Om!jOz$zO#x!hO$Z!iO~OT%OO!k}X~P#cO!k%PO~OX%QOZ%WOe$VO#y!oO~OX%QOz%ZO#y!oO~Oz%^O~P4{Oh%aO~P4{O!q%bO~Ol-hOq-jOr$wOt+uO~PAZOS-eO!d-aO!h-bO!j.kO!m0gO!p.lO!t,hO!x+cO!z+dO!|.mO#O-cO#Q-dO#S+eO#T+aO#U+aO#V+aO#W+aO~P:ZOs%lO!u%mO!v%nO~Oh!wa#t!waT!waw!wao!wa!k!wa!q!wau!wa!r!wa~PDaOh%oO~O#x%rO#y%rO~OT#iOw$ga~Oe!lOm!jOz%uO#x!hO$Z!iO~Oh%wOw%vO~Oe!lOm!jOo%xO#x!hO$Z!iO~Om!SO~Op%}O![#sO~OT#uOu$ia~Op%}O~OT&TOu$ia~O#x#pO#y#pOu$mP~O!b&XO~O#x#pO#y#pOu$PP~OX&_Ob#|Xe#|Xh#|Xm#|Xv#|X!O#|X!P#|X!Q#|X!R#|X!S#|X!T#|X![#|X!_#|X#T#|X#X#|X#Y#|X#Z#|X#[#|X#]#|X#^#|X#_#|X#`#|X#a#|X#b#|X#c#|X#t#|X#x#|X#y#|XT#|Xw#|Xo#|X!k#|X!q#|Xu#|X!r#|X~Oh&bO~Oz&dO~O#d&fO#x#pO#y#pO~Ou&gO~On&hO~O#X!uOh$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#Y$_i~P!!aO#Y!vO~P!!aO#T!wO#X!uO#Y!vO#Z!wOh$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#[$_i~P!$PO#[!xO~P!$PO#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zOh$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#_$_i~P!%oO#_!{O~P!%oO#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{Oh$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#a$_i#b$_i~P!'_O#a!|O#b!}O~P!'_O#t$^iT$^iw$^io$^i!k$^i!q$^iu$^i!r$^i~Oi&jOj&kOk&lO~P!)QOi$QXj$QXk$QX#t$QXz$QXT$QXw$QXo$QX!k$QX!q$QXp$QXu$QX!r$QXY$QX~PAZOX&_O[#|X]#|X^#|X_#|X`#|Xa#|Xb#|Xe#|Xi#|Xj#|Xk#|Xm#|Xv#|X#t#|X#y#|X!O#|X!P#|X!Q#|X!R#|X!S#|X!T#|X!_#|X#x#|XT#|Xw#|Xo#|X!k#|X!q#|Xu#|X!r#|X~Oz#|Xp#|XY#|X~P!*yOX&_O~Oe!lOh&tOm!jOz&sO#x!hO$Z!iO~OT&wO~Oi&jOj&kOk&lOz&sO~OX%QOZ&}Oe$VO#y!oO~OT'PO~OX%QOz'SO#y!oO~Oz'VO~P4{Oe!lOm!jOz'VO#x!hO$Z!iO~Oh'YO~P4{Oe!lOh'YOm!jO#x!hO$Z!iO~Oh!si#t!siT!siw!sio!si!k!si!q!siu!si!r!si~PDaOi+{Oj+}Ok,POs']O!u'^O!v'_O~Oi$QXj$QXk$QXs$QX!u$QX!v$QXh$QX#T$QX#X$QX#Y$QX#Z$QX#[$QX#]$QX#^$QX#_$QX#`$QX#a$QX#b$QX#c$QX#t$QXT$QXw$QXo$QX!k$QX!q$QXu$QX!r$QX~PAZO[#|X]#|X^#|X_#|X`#|Xa#|Xi#|Xj#|Xk#|Xs#|X!u#|X!v#|X~PM^Os$dX!u$dX~P(tOs$cX!u$cX~P+bO!c+fOs$bX!u$bX~P.OO![+gOs$aX!u$aX~P0iO#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mO#_+nO#`+nO#a+oO#b+pO#c+pO~Os']O!u'^O~P!4qOT%OO~OT#iO~Oe!lOm!jOo'oO#x!hO$Z!iO~Op'pO~OT'qOu$ii~Op'sO![#sO~OT#uO~Op'sO~OT&TOu$ii~Oz'uO~O#x#pO#y#pOu$mX~Ou'xO~Og'{Oh'zO~O#x#pO#y#pOu$PX~Ou(OO~Oi&jOj&kOk&lOw(PO~Oi&jOj&kOk&lOo(QO~Ol-iOq-kOr$wOt+vO~PAZOX&_Ob#|ae#|ah#|am#|av#|a!O#|a!P#|a!Q#|a!R#|a!S#|a!T#|a![#|a!_#|a#T#|a#X#|a#Y#|a#Z#|a#[#|a#]#|a#^#|a#_#|a#`#|a#a#|a#b#|a#c#|a#t#|a#x#|a#y#|aT#|aw#|ao#|a!k#|a!q#|au#|a!r#|a~Ou(YO~Oi$Qaj$Qak$Qa#t$Qaz$QaT$Qaw$Qao$Qa!k$Qa!q$Qap$Qau$Qa!r$QaY$Qa~PAZOX&_O[#|a]#|a^#|a_#|a`#|aa#|ab#|ae#|ai#|aj#|ak#|am#|av#|a#t#|a#y#|a!O#|a!P#|a!Q#|a!R#|a!S#|a!T#|a!_#|a#x#|aT#|aw#|ao#|a!k#|a!q#|au#|a!r#|a~Oz#|ap#|aY#|a~P!<mOm!pOp(`O#y!oO~Op(`O~OT(cO~Oi&jOj&kOk&lOz(dO~OY(eO~OZ(gOe$VO#y!oO~OT(hO~Oe$VO~Oz(jO#y!oO~OT(lOi&jOj&kOk&lO~Oe!lOm!jOz(mO#x!hO$Z!iO~O!k(oO~Oe!lOh(pOm!jO#x!hO$Z!iO~Oi&jOj&kOk&lOz(rO~O!r(sO~Oi$Qaj$Qak$Qas$Qa!u$Qa!v$Qah$Qa#T$Qa#X$Qa#Y$Qa#Z$Qa#[$Qa#]$Qa#^$Qa#_$Qa#`$Qa#a$Qa#b$Qa#c$Qa#t$QaT$Qaw$Qao$Qa!k$Qa!q$Qau$Qa!r$Qa~PAZO[#|a]#|a^#|a_#|a`#|aa#|ai#|aj#|ak#|as#|a!u#|a!v#|a~P!9UOs$da!u$da~P>mO![+gOs$aa!u$aa#T$aa#X$aa#Y$aa#Z$aa#[$aa#]$aa#^$aa#_$aa#`$aa#a$aa#b$aa#c$aah$aa~P:ZOs$_a!u$_a~P!4qOs!wa!u!wa~P!4qOp!`Os$dX!u$dX#T$dX#X$dX#Y$dX#Z$dX#[$dX#]$dX#^$dX#_$dX#`$dX#a$dX#b$dX#c$dXh$dX~Oh!sq#t!sqT!sqw!sqo!sq!k!sq!q!squ!sq!r!sq~PDaOi+{Oj+}Ok,POs)TO!u)UO!v)VO~Os)TO!u)UO~P!4qOi&jOj&kOk&lOp)WO~Oi&jOj&kOk&lOw)XO~OT'qOu$iq~OT&TO~Oz)]O~Ow)_O~Oh)aO~Og)cOh)bO~Oi+|Oj,OOk,QOs)eOY$UX~OY)fO~OY$QXi$QXj$QXk$QXs$QX~PAZOX&_OY#|X[#|X]#|X^#|X_#|X`#|Xa#|Xb#|Xe#|Xi#|Xj#|Xk#|Xm#|Xs#|Xv#|X#y#|X~Oi&jOj&kOk&lOo)iO~OT)kO~Oi&jOj&kOk&lOo)lO~Ok&lO#t$Qiz$QiT$Qiw$Qio$Qi!k$Qi!q$Qip$Qiu$Qi!r$QiY$Qi~Oi&jOj&kO~P!MTOi$Qij$Qi~P!MTOT)nO~Oi&jOj&kOk&lOz)oO~OT)qO~OT)uOi&jOj&kOk&lO~O!k)wO~Oi&jOj&kOk&lOz)zO~Ok,POs$Qi!u$Qi!v$Qih$Qi#T$Qi#X$Qi#Y$Qi#Z$Qi#[$Qi#]$Qi#^$Qi#_$Qi#`$Qi#a$Qi#b$Qi#c$Qi#t$QiT$Qiw$Qio$Qi!k$Qi!q$Qiu$Qi!r$Qi~Oi+{Oj+}O~P# lOi$Qij$Qi~P# lOh!sy#t!syT!syw!syo!sy!k!sy!q!syu!sy!r!sy~PDaOi+{Oj+}Ok,POs)}O~Os)}O!u*OO~P!4qO#X+hOs$_i!u$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#Y$_i~P#$zO#Y+iO~P#$zO#T+jO#X+hO#Y+iO#Z+jOs$_i!u$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#[$_i~P#&TO#[+kO~P#&TO#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mOs$_i!u$_i#`$_i#a$_i#b$_i#c$_i~O#_$_i~P#'^O#_+nO~P#'^O#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mO#_+nO#`+nOs$_i!u$_i#c$_i~O#a$_i#b$_i~P#(gO#a+oO#b+pO~P#(gOs!si!u!si~P!4qOp!`Os$da!u$da#T$da#X$da#Y$da#Z$da#[$da#]$da#^$da#_$da#`$da#a$da#b$da#c$dah$da~OT'qO~OT*WOu$mi~Oz*YO~OT*ZOi&jOj&kOk&lOu$Pi~Oh*^O~Og*`Oh*_O~OY$Qai$Qaj$Qak$Qas$Qa~PAZOX&_OY#|a[#|a]#|a^#|a_#|a`#|aa#|ab#|ae#|ai#|aj#|ak#|am#|as#|av#|a#y#|a~Oi+{Oj+}Ok,POh$^i#T$^i#X$^i#Y$^i#Z$^i#[$^i#]$^i#^$^i#_$^i#`$^i#a$^i#b$^i#c$^is$^i!u$^i~P!)QO#t$QqT$Qqw$Qqo$Qq!k$Qq!q$Qqu$Qq!r$Qq~Oi&jOj&kOk&lOz$Qqp$QqY$Qq~P#.{OT*eO~OT*gO~OT*hOi&jOj&kOk&lO~O!k*iO~Oi&jOj&kOk&lOz*kO~O!k*mO~Oi+{Oj+}Ok,POs$Qq!u$Qq!v$Qqh$Qq#T$Qq#X$Qq#Y$Qq#Z$Qq#[$Qq#]$Qq#^$Qq#_$Qq#`$Qq#a$Qq#b$Qq#c$Qq~P#.{Oh+qO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|O#a.}O#b/OO#c/OOs$^X!u$^X~Os!sq!u!sq~P!4qOh!s!R#t!s!RT!s!Rw!s!Ro!s!R!k!s!R!q!s!Ru!s!R!r!s!R~PDaOi+{Oj+}Ok,POs*qO~Os*qO!u*rO~P!4qOh!{!R#t!{!RT!{!Rw!{!Ro!{!R!k!{!R!q!{!Ru!{!R!r!{!R~PDaOT*WOu$mq~OT*tOi&jOj&kOk&lOu$Pq~OT*ZOi&jOj&kOk&lOu$Pq~Oh*wO~Oi&jOj&kOk&lOY$Ui~Oi+|Oj,OOk,QOY$Qis$Qi~Ok,QOY$Qii$Qij$Qis$Qi~OT*yO~OT*zO~O!k*}O~Oh!s!Z#t!s!ZT!s!Zw!s!Zo!s!Z!k!s!Z!q!s!Zu!s!Z!r!s!Z~PDaOi+{Oj+}Ok,POs+PO~Os!sy!u!sy~P!4qOT*WO~OT*tOi&jOj&kOk&lOu$Py~OT*ZOi&jOj&kOk&lO~Oi+|Oj,OOk,QOY$Qqs$Qq~O!k+VO~Os!s!R!u!s!R~P!4qOs!{!R!u!{!R~P!4qOh!s!c#t!s!cT!s!cw!s!co!s!c!k!s!c!q!s!cu!s!c!r!s!c~PDaOi+{Oj+}Ok,POs+ZO~OT*tOi&jOj&kOk&lO~Oh!s!k#t!s!kT!s!kw!s!ko!s!k!k!s!k!q!s!ku!s!k!r!s!k~PDaOs!s!Z!u!s!Z~P!4qOs!s!c!u!s!c~P!4qOh!s!s#t!s!sT!s!sw!s!so!s!s!k!s!s!q!s!su!s!s!r!s!s~PDaOs!s!k!u!s!k~P!4qOs!s!s!u!s!s~P!4qOh+qOh$^X~P3dOS.gO!d.eO!h.fO!j0dO!m0hO!p0eO!t/YO!x.uO!z+dO!|0fO#O-cO#Q-dO#S+eO#T.tO#U.tO#V.tO#W.tO~P:ZOh$^X~P#2`Os+rOv!QO!u-fO!v-gO~Oe!lOm!jO!f+sO#x!hO$Z!iO~Om!pOp+tO#y!oO~O!k+wO~Os+xO!u-nO!v-oO~Oi+{Oj+}Ok,POs,RO!u-rO!v-sO~Os,RO!u-rO~P!4qOm!pOp,SO#y!oO~Om!pOp,TO#y!oO~Op,SO~Op,TO~O!k,UO~O!r,VO~Oi+{Oj+}Ok,POs,WO!u-xO!v-yO~Os,WO!u-xO~P!4qOi&jOj&kOk&lOp,XO~O!k,YO~Oi+{Oj+}Ok,POs,ZO~Os,ZO!u-|O~P!4qO!k,]O~O!k,^O~O!k,_O~O!k,`O~Oi+{Oj+}Ok,POs,aO~Os,aO!u.PO~P!4qO!k,bO~O!k,cO~Oi+{Oj+}Ok,POs,dO~O!k,eO~O!k,fO~Oi+{Oj+}Ok,POs,gO~O![,mO~O![,nO~Oe!lOm!jO!f-ZO#x!hO$Z!iO~Om!pOp-[O#y!oO~O!k-]O~O!k-^O~O!r-_O~O!k-`O~Oz-lO~P4{O!q-mO~Oh-pO~Oz-qO~P4{Oe!lOm!jOz-qO#x!hO$Z!iO~Oe!lOm!jOz-tO#x!hO$Z!iO~Oe!lOm!jOz-uO#x!hO$Z!iO~Oi&jOj&kOk&lOz-vO~Oi&jOj&kOk&lOz-wO~Oi&jOj&kOk&lOz-zO~Oi&jOj&kOk&lOz-{O~Oi&jOj&kOk&lOz-}O~Oi&jOj&kOk&lOz.OO~Os/POv!QO!u/gO!v/hO~Os/QO!u/iO!v/jO~Oi+{Oj+}Ok,POs/RO!u/lO!v/mO~Os/RO!u/lO~P!4qOi+{Oj+}Ok,POs/SO!u/nO!v/oO~Os/SO!u/nO~P!4qOi&jOj&kOk&lOp/TO~Oi+{Oj+}Ok,POs/UO~Os/UO!u/pO~P!4qOi+{Oj+}Ok,POs/VO~Os/VO!u/qO~P!4qOi+{Oj+}Ok,POs/WO~Oi+{Oj+}Ok,POs/XO~Oz.hO~P4{O!q.iO~Oh/kO~Oz.jO~P4{Oe!lOm!jOz.jO#x!hO$Z!iO~Oh.nO~P4{Oh.oO~P4{Oh.pO~P4{Oh.qO~P4{Oe!lOh.pOm!jO#x!hO$Z!iO~Oe!lOh.qOm!jO#x!hO$Z!iO~Oe!lOh.rOm!jO#x!hO$Z!iO~Oe!lOh.sOm!jO#x!hO$Z!iO~O#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|O#a.}O#b/OO#c/OO~Oh$_as$_a!u$_a~P$#qOh!was!wa!u!wa~P$#qO#X.vOh$_is$_i!u$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#Y$_i~P$%TO#Y.wO~P$%TO#T.xO#X.vO#Y.wO#Z.xOh$_is$_i!u$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#[$_i~P$&aO#[.yO~P$&aO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{Oh$_is$_i!u$_i#`$_i#a$_i#b$_i#c$_i~O#_$_i~P$'mO#_.|O~P$'mO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|Oh$_is$_i!u$_i#c$_i~O#a$_i#b$_i~P$(yO#a.}O#b/OO~P$(yOh!sis!si!u!si~P$#qOh!sqs!sq!u!sq~P$#qOh!sys!sy!u!sy~P$#qOh!s!Rs!s!R!u!s!R~P$#qOh!{!Rs!{!R!u!{!R~P$#qOh!s!Zs!s!Z!u!s!Z~P$#qOh!s!cs!s!c!u!s!c~P$#qOh!s!ks!s!k!u!s!k~P$#qOh!s!ss!s!s!u!s!s~P$#qOP#Tj!d#]XQeQ~",goto:"!FP$oPPPPPP$pP$uPPPPPPPPPP&T'|P*WPPPPPPPPPPPPPPPPP$pPP$p*z,kPPPPPP0V0VP3n4^4mP0VPP5R5UPPP5_P5_P5_PP5_P5_5_PPP5_PPP5_P5_P5_P5_P5_P5_PPPPPPPPPPPPPPPPP8j8p8w9R9e9k:s;R;e=V=]=c=i=o=}PPP>XPP>]>b>h@{BzDzD}IOIlJYJg&T&TJjKdPLbLbM[!#V!)j5_!,u!0Y!3k!7^!:y!>b!>e!A|!BP!BZ!Be!E|0VVhOQj!U!qbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/zQ#XmQ#YnS$f!p#P`%T#X#Y%S%U%X%Y&{'RQ&q$vQ&y%QQ,s-jR,t-k$m$Z!c!g#O#T#_#e#f$X$Y$s$x${%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&}'S'Y'^'`'z(T(`(g(j(p)U)a)b)e)g*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/q$l$Z!c!g#O#T#_#e#f$X$Y$s$x${%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&}'S'Y'^'`'z(T(`(g(j(p)U)a)b)e)g*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/qQ%V#XS&|%S%US(f&{'QQ)s(iR*f)rd!PV!X!Z#r#t#z%}&R'p'sQ#q!SS$c!l$dQ&U$OQ&Y$VQ'v&VQ'y&XR'|&ZUgOQj!r!iag!P!j!k#P#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OQ#ZoQ#[pQ#duQ#o!QQ.W.kQ.Y.mQ/r0dQ/t0fQ/w0gR/x0h'zZOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR![V'{ZOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eQ!VVQ#w!XQ#}!ZQ%z#rQ%|#tQ&S#zQ'r%}Q't&RQ)Y'pR)Z'sQ!VVQ#w!XQ#}!ZQ&S#zR't&RQ!UVQ#arQ#v!XU#|!Z#z&RQ,l,hR/Z/YR!_[Q$R!`Q$T!bR$]!d'ccOQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%l%n%u&d&s'V']'_'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eQQORyQSjOQR#UjQ%S#XQ%X#YT&z%S%XQ%U#XQ%Y#YQ&{%SW'O%U%Y&{'RR'R%XQ&Z$VR'}&ZQ!sbQ#Qgj$g!s#Q%[%_&p,j,q,r.R.Z/u/y/zQ%[#ZQ%_#[Q&p$uQ,j-bQ,q-hQ,r-iQ.R.fQ.Z.WQ/u/rQ/y/wR/z/xQ&n$sQ'`%eU(_&n'`)gR)g(TQ&a$[Q&o$tQ'a%fW(V&a&o'a)hR)h(UQ!kaQ#RgQ#n!Pv$b!k#R#n$y%]%`%y'U'X,i.Q.[.].^/v/{/|/}0OQ$y#QQ%]#ZQ%`#[Q%y#qQ'U%[Q'X%_Q,i-aQ.Q.eQ.[.WQ.].ZQ.^/uQ/v/rQ/{/wQ/|/xQ/}/yR0O/zQ$d!lR&e$dQ{TR#k{Q!XVR#y!XQ&V$OR'w&VQ!a]U$S!a'b)SQ'b%gR)S'fQ!f`S$^!f'cR'c%jTPOQViOQjX%R#X#Y%S%XS$]!c+fS$_!g+g!h$s#O#T$X$Y${%Z%a%o%w&b&h&j&k&l&t'S'Y'z(`(j(p)a)b)e*^*_*w-p.n.o.p.q.r.s/k!O%e#_%m'^)U*O*r+q+{+},P,S-f-n-r-x-|.P/g/i/l/n/p/qQ%p#eQ%q#f[&m$s%e&n'`(T)gU&r$x+u+vQ'Q%WY(T&_+|,O,Q,TQ(i&}Q)r(gQ+y,mR+z,nS$[!c!g!|$t#O#T#e#f$X$Y$s$x${%W%Z%a%o%w&b&h&j&k&l&n&t&}'S'Y'z(`(g(j(p)a)b)e*^*_*w,m,n-p.n.o.p.q.r.s/k!Y%f#_%e%m'^'`)U*O*r+f+g+q+u+{+},P,S-f-n-r-x-|.P/g/i/l/n/p/qa(U&_(T)g+v+|,O,Q,T${$W!c!g#O#T#X#_#e#f$X$Y$s$x${%S%U%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&{&}'Q'S'Y'^'`'z(T(`(g(i(j(p)U)a)b)e)g)r*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/qR&[$VQ$r#OQ$}#TQ%d#_Q&]$XQ&^$YQ&v${Q'T%ZQ'Z%aQ'h%mQ'j%oQ'n%wQ(R&_Q(W&bQ(Z&hQ([&jQ(]&kU(^&l,P,QQ(b&tQ(k'SQ(q'YQ(t+{Q(u+}Q(w'^Q)`'zQ)j+qQ)m(`Q)t(jQ)y(pQ*P,SQ*T)UQ*[)aQ*])bQ*a)eQ*b+|Q*c,OQ*o*OQ*u*^Q*v*_Q*x,TQ+T*rQ+U*wQ,o-fQ,w-nQ,y-pQ,{-rQ-R-xQ-V-|Q-Y.PQ._.nQ.`.oQ.a.pQ.b.qQ.c.rQ.d.sQ/[/gQ/^/iQ/`/kQ/a/lQ/c/nQ/e/pR/f/q!V!rbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/z!V!qbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/z`&`$[$t%f&a&o'a(U)hR&r$wR(S&_!o!nag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0O!n!mag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OT$`!j#P!o!mag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OUkOQjQzTQ!]YS#Wl}Q#]qQ#j{Q$|#SQ%t#mU&c$a+s-ZU&i$h+t-[Q&u$zU&x%P+w-]Q'W%^Q'[%bQ'm%uQ(X&dQ(a&sQ(n'VQ)['uQ)p(dQ)v(mU)x(o,U-^Q){(rU)|(s,V-_Q*X)]Q*d)oU*j)w,Y-`Q*l)zQ*s*YU*{*i,],^Q*|*kU+O*m,_,`U+W*},b,cU+[+V,e,fQ,k-eQ,u-lQ,v-mQ,z-qQ,}-tQ-O-uQ-P-vQ-Q-wQ-T-zQ-U-{Q-W-}Q-X.OQ.S.gQ.T.hQ.U.iQ.V.jQ.X.lR/s0e!|fOQTYjlq{}#S#m$z%^%b%u&d&s'V'u(d(m(r)])o)z*Y*k-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eQ!teQ#bsU$i!u+h.vQ$j!vQ$k!wQ$l!xQ$m!yQ$n!zQ$o!{Q$p!|Q$q!}Q%c#^Q%k#`Q'd+aQ'e+cQ'g%lQ'i%nQ(v']Q(x'_Q(y+iQ(z+jQ({+kQ(|+lQ(}+mQ)O+nQ)P+oQ)Q+pQ)R+rd*Q+s+t+w,U,V,Y,],_,b,eQ*R+xQ*S)TQ*U)VQ*V)WQ*n)}Q*p,RQ+Q,WQ+R,XQ+S*qQ+X+PQ+Y,ZQ+],aQ+^+ZQ+_,dQ+`,gd+b$a$h%P(o(s)w*i*m*}+Vd,[,^,`,c,f-Z-[-]-^-_-`Q,p-gQ,x-oQ,|-sQ-S-yQ/]/hQ/_/jQ/b/mQ/d/oQ0P.tQ0Q.uQ0R.wQ0S.xQ0T.yQ0U.zQ0V.{Q0W.|Q0X.}Q0Y/OQ0Z/PQ0[/QQ0]/RQ0^/SQ0_/TQ0`/UQ0a/VQ0b/WR0c/X'cdOQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%l%n%u&d&s'V']'_'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0e$[`OQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eW!e`!f%j'c$V%j#`%n'_)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o$`_OQTY`ejlqs{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0e$Z%i#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o$`^OQTY`ejlqs{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eS#ct+dS#gx+e$Y%h#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/oS'k%p+yT'l%q+z$h]OQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%p%q%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0e$Y%g#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/oX'f+d+e+y+z'{UOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR|T'{WOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR!YVa!RVr!X!Z#z&R,h/YY!TV!X!Z#z&RR%{#s'{XOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR&W$O",nodeNames:"⚠ LineComment BlockComment Program open ; Interface interface TypeNameDecl < > extends Int Double String Bool Top Bot Unit TypeName RecordType { LabelDecl ? : TypeOp TypeOp TypeOp forall ( * ) . mu Trait TraitArrow Ref } [ ] TypeDef type = TermDef TermNameDecl TermName Number String Document true false undefined Array Record override RecordField MethodPattern SelfAnno @ RecordUpdate with $ CtorName Label <- \\\\ \\ Lambda -> BigLambda /\\ Let let in LetRec letrec Open IfElse if then else Trait trait implements inherits New new ToString toString Fix fix Fold fold UnFold unfold Ref ref ArithOp DerefOp LengthOp SqrtOp IndexOp ArithOp ArithOp AppendOp CompareOp LogicOp LogicOp ForwardOp MergeOp AssignOp SeqOp ..",maxTerm:168,skippedNodes:[0,1,2],repeatNodeCount:15,tokenData:"2{~R}X^$Opq$Oqr$srs%Yst'Qtu'Vuv'[vw'axy'nyz'{z{(Q{|(X|}(n}!O(y!O!P)t!P!Q*R!Q!R*`!R![+}![!]-Y!]!^-g!^!_-l!_!`.O!`!a.`!a!b.r!b!c.w!c!}.|!}#O/b#O#P/g#P#Q/y#Q#R0O#R#S0T#S#T0Y#T#o0w#o#p1]#p#q2f#q#r2q#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O%&t%&u2v&FU&FV$O~$TY#v~X^$Opq$O#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O&FU&FV$Ok$xQ#UPqr%O!_!`%Tj%TO#Xjj%YO#]j~%_W!P~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z<%lO%Y~%|O!P~~&PRO;'S%Y;'S;=`&Y;=`O%Y~&_X!P~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z;=`<%l%Y<%lO%Y~&}P;=`<%l%Y~'VO#V~~'[O!_~j'aO#Yj~'fPk~vw'i~'nO#^~~'sPm~yz'v~'{Ob~~(QOo~k(XOnP#Yj~(^Q#Z~{|(d|}(i~(iO#[~~(nO#a~~(sQ#a~{|(i|}(i~)OQ#Tk}!O)U!`!a)m~)ZSP~OY)UZ;'S)U;'S;=`)g<%lO)U~)jP;=`<%l)U})tO!fSiyo)yPpk!O!P)|S*RO#dSk*WP#Yj#O#P*ZP*`O!hP~*eW!O~!O!P*}!Q![+}!g!h+c!q!r,`!z!{,n#X#Y+c#c#d,`#l#m,n~+QP!Q![+T~+YR!O~!Q![+T!g!h+c#X#Y+c~+fR{|+o}!O+o!Q![+u~+rP!Q![+u~+zP!O~!Q![+u~,SS!O~!O!P*}!Q![+}!g!h+c#X#Y+c~,cP!Q!Y,f~,kP!O~!Q!Y,f~,qR!Q![,z!c!i,z#T#Z,z~-PR!O~!Q![,z!c!i,z#T#Z,z~-_Ph~!_!`-b~-gO#b~~-lOT~!a-sQ#]jX{}!O-y!_!`%TS.OO!bS!a.TQzR!_!`%T!`!a.Z!^.`Os!^!].gQYq#]j!_!`%T!`!a.mj.rO#cj~.wOg~~.|O![~~/RT#y~wx.|!Q![.|!c!}.|#R#S.|#T#o.|~/gOv~~/nQjy!d~}!O(i#O#P/tb/yO!cb~0OOw~~0TO#`~~0YO$Z~~0]TO#S0Y#S#T0l#T;'S0Y;'S;=`0q<%lO0Y~0qO!Q~~0tP;=`<%l0Y~0|T#x~wx0w!Q![0w!c!}0w#R#S0w#T#o0w~1bPe~}!O1e~1hTO}1e}!O1w!O;'S1e;'S;=`2`<%lO1e~1zTO#q1e#q#r2Z#r;'S1e;'S;=`2`<%lO1e~2`OQ~~2cP;=`<%l1e~2iP#p#q2l~2qO#_~~2vOu~~2{O#W~",tokenizers:[0,1,2,3,4,5],topRules:{Program:[0,3]},specialized:[{term:132,get:t=>Zd[t]||-1},{term:133,get:t=>Kd[t]||-1}],tokenPrec:6889});var tv={compose:function(t){return function(e){return function(n){return t(e(n))}}}},ev=function(t){return t.compose},nv=function(t){return t.identity},rv={identity:function(t){return t},Semigroupoid0:function(){return tv}},iv=function(t){return function(e){return function(n){return t(n)(e)}}},sv=function(t){return function(e){return t}},ov=function(t){return function(e){return e(t)}};const lv=void 0;var av=function(t){return t.map},uv=function(t){var e=av(t);return function(t){return function(n){return e(n)(t)}}},cv=function(t){return av(t)(sv(lv))},hv=function(t){var e=av(t);return function(t){return function(n){return e(sv(n))(t)}}},fv={map:ev(tv)},dv={map:function(t){return function(e){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t(e[i]);return r}}},vv=function(t){var e=av(t);return function(t){return function(n){return e((function(t){return t(n)}))(t)}}};var gv={append:function(t){return function(e){return t+e}}},pv={append:function(t){return function(e){return 0===t.length?e:0===e.length?t:t.concat(e)}}},mv=function(t){return t.append},Rv=function(t){return t.alt};var Ov=nv(rv),wv=function(t){return t.apply},xv=function(t){var e=wv(t),n=av(t.Functor0());return function(t){return function(r){return e(n(sv(Ov))(t))(r)}}},yv=function(t){var e=wv(t),n=av(t.Functor0());return function(t){return function(r){return function(i){return e(n(t)(r))(i)}}}},bv=function(t){return t.pure},kv=function(t){var e=wv(t.Apply0()),n=bv(t);return function(t){return function(r){return e(n(t))(r)}}};var Cv=function(t){return t.discard},Tv=function(t){return t.bind},Sv=function(t){return iv(Tv(t))},Av=function(t){var e=Sv(t);return function(t){return function(n){return function(r){return e(t)(n(r))}}}},Pv=function(t){var e=Tv(t);return function(t){return function(n){return function(r){return e(t(r))(n)}}}},_v={discard:function(t){return Tv(t)}},Ev=function(t){var e=Tv(t.Bind1()),n=bv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return e(r)((function(e){return n(t(e))}))}))}}};const Lv=String.fromCharCode(65535),Dv=String.fromCharCode(0);Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;var Qv=function(t){return function(e){return function(n){return function(r){return function(i){return r<i?t:r===i?e:n}}}}};const Iv=Qv,Nv=Qv,Mv=Qv;var $v=function(t){return function(e){return t===e}};var Fv={eq:$v},Bv={eq:$v},Uv={eq:$v},Hv={eq:$v},qv=function(t){return t.eq1},Xv=function(t){return t.eq},Vv=Xv(Hv),zv=function(t){var e=Xv(t);return function(t){return function(n){return Vv(e(t)(n))(!1)}}},Wv=function(){function t(){}return t.value=new t,t}(),jv=function(){function t(){}return t.value=new t,t}(),Gv=function(){function t(){}return t.value=new t,t}(),Yv={eq:function(t){return function(e){return t instanceof Wv&&e instanceof Wv||(t instanceof jv&&e instanceof jv||t instanceof Gv&&e instanceof Gv)}}};var Zv={add:function(t){return function(e){return t+e|0}},zero:0,mul:function(t){return function(e){return t*e|0}},one:1},Kv={sub:function(t){return function(e){return t-e|0}},Semiring0:function(){return Zv}},Jv=function(){return{compare:Nv(Wv.value)(Gv.value)(jv.value),Eq0:function(){return Fv}}}(),tg=function(){return{compare:Iv(Wv.value)(Gv.value)(jv.value),Eq0:function(){return Bv}}}(),eg=function(){return{compare:Mv(Wv.value)(Gv.value)(jv.value),Eq0:function(){return Uv}}}(),ng=function(t){return t.compare},rg=function(t){return t.top},ig={top:2147483647,bottom:-2147483648,Ord0:function(){return tg}},sg={top:Lv,bottom:Dv,Ord0:function(){return eg}},og=function(t){return t.bottom};var lg={show:function(t){var e=t.length;return'"'+t.replace(/[\0-\x1F\x7F"\\]/g,(function(n,r){switch(n){case'"':case"\\":return"\\"+n;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=r+1,s=i<e&&t[i]>="0"&&t[i]<="9"?"\\&":"";return"\\"+n.charCodeAt(0).toString(10)+s}))+'"'}},ag={show:function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"}},ug={show:function(t){return t.toString()}},cg={show:function(t){if(t)return"true";if(!t)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[t.constructor.name])}},hg=function(t){return t.show},fg=nv(rv),dg=function(){function t(){}return t.value=new t,t}(),vg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),gg=function(t){var e=hg(t);return{show:function(t){if(t instanceof vg)return"(Just "+e(t.value0)+")";if(t instanceof dg)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}},pg=function(t){return function(e){return function(n){if(n instanceof dg)return t;if(n instanceof vg)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},mg=pg(!0)(sv(!1)),Rg=pg(!1)(sv(!0)),Og={map:function(t){return function(e){return e instanceof vg?new vg(t(e.value0)):dg.value}}},wg=av(Og),xg=function(t){return pg(t)(fg)},yg=function(t){var e=Xv(t);return{eq:function(t){return function(n){return t instanceof dg&&n instanceof dg||t instanceof vg&&n instanceof vg&&e(t.value0)(n.value0)}}}},bg={apply:function(t){return function(e){if(t instanceof vg)return wg(t.value0)(e);if(t instanceof dg)return dg.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,e.constructor.name])}},Functor0:function(){return Og}},kg={bind:function(t){return function(e){if(t instanceof vg)return e(t.value0);if(t instanceof dg)return dg.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,e.constructor.name])}},Apply0:function(){return bg}},Cg={alt:function(t){return function(e){return t instanceof dg?e:t}},Functor0:function(){return Og}},Tg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Sg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Ag={map:function(t){return function(e){if(e instanceof Tg)return new Tg(e.value0);if(e instanceof Sg)return new Sg(t(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},Pg=function(t){return function(e){return function(n){if(n instanceof Tg)return t(n.value0);if(n instanceof Sg)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var _g={Ring0:function(){return Kv}},Eg=function(t){return t.mod},Lg={degree:function(t){return Math.min(Math.abs(t),2147483647)},div:function(t){return function(e){return 0===e?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},mod:function(t){return function(e){if(0===e)return 0;var n=Math.abs(e);return(t%n+n)%n}},CommutativeRing0:function(){return _g}},Dg=function(t){return t.div},Qg={mempty:"",Semigroup0:function(){return gv}},Ig=function(t){return t.mempty},Ng=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},Mg={Applicative0:function(){return Fg},Bind1:function(){return $g}},$g={bind:function(t){return function(e){return function(){return e(t())()}}},Apply0:function(){return Ug(0)}},Fg={pure:function(t){return function(){return t}},Apply0:function(){return Ug(0)}},Bg=Ng("functorEffect","Effect",(function(){return{map:kv(Fg)}})),Ug=Ng("applyEffect","Effect",(function(){return{apply:Ev(Mg),Functor0:function(){return Bg(0)}}}));function Hg(t){return function(){throw t}}var qg=function(t){return Hg(new Error(t))},Xg=function(t){return t.throwError},Vg=function(t){return t.local},zg=function(t){return t.ask},Wg=function(t){var e=av(t.Monad0().Bind1().Apply0().Functor0()),n=zg(t);return function(t){return e(t)(n)}},jg=function(t){return t},Gg={map:function(t){return function(e){return t(e)}}},Yg={apply:function(t){return function(e){return t(e)}},Functor0:function(){return Gg}},Zg={bind:function(t){return function(e){return e(t)}},Apply0:function(){return Yg}},Kg={pure:jg,Apply0:function(){return Yg}},Jg={Applicative0:function(){return Kg},Bind1:function(){return Zg}};var tp=function(t){return t.not},ep=function(t){return t.ff},np=function(t){return t.disj},rp={ff:!1,tt:!0,implies:function(t){return function(e){return np(rp)(tp(rp)(t))(e)}},conj:function(t){return function(e){return t&&e}},disj:function(t){return function(e){return t||e}},not:function(t){return!t}},ip=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sp=function(t){return function(e){return t(e.value0)(e.value1)}},op=function(t){return t.value1},lp=function(t){return t.value0},ap=function(t){var e=Xv(t);return function(t){var n=Xv(t);return{eq:function(t){return function(r){return e(t.value0)(r.value0)&&n(t.value1)(r.value1)}}}}},up=function(t){return t.state},cp=function(t){var e=up(t);return function(t){return e((function(e){return new ip(lv,t(e))}))}},hp=function(t){var e=up(t);return function(t){return e((function(e){return new ip(t(e),e)}))}},fp=function(t){return t.tell},dp=av(Ag),vp=function(t){return function(e){return t(e)}},gp=function(t){var e=av(t);return{map:function(t){return vp(e(dp(t)))}}},pp=function(t){return{Applicative0:function(){return Op(t)},Bind1:function(){return mp(t)}}},mp=function(t){var e=Tv(t.Bind1()),n=bv(t.Applicative0());return{bind:function(t){return function(r){return e(t)(Pg((function(t){return n(Tg.create(t))}))((function(t){return r(t)})))}},Apply0:function(){return Rp(t)}}},Rp=function(t){var e=gp(t.Bind1().Apply0().Functor0());return{apply:Ev(pp(t)),Functor0:function(){return e}}},Op=function(t){return{pure:(e=bv(t.Applicative0()),function(t){return e(Sg.create(t))}),Apply0:function(){return Rp(t)}};var e},wp=function(t){var e,n=pp(t);return{throwError:(e=bv(t.Applicative0()),function(t){return e(Tg.create(t))}),Monad0:function(){return n}}},xp=function(t){var e=mv(t);return function(t){var n=t.Bind1(),r=Tv(n),i=bv(t.Applicative0()),s=gp(n.Apply0().Functor0());return{alt:function(t){return function(n){return r(t)((function(t){if(t instanceof Sg)return i(new Sg(t.value0));if(t instanceof Tg)return r(n)((function(n){if(n instanceof Sg)return i(new Sg(n.value0));if(n instanceof Tg)return i(new Tg(e(t.value0)(n.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): "+[n.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): "+[t.constructor.name])}))}},Functor0:function(){return s}}}},yp=function(t){return t.lift},bp=function(t){return t.empty};const kp=function(t){return t};var Cp=function(){return kp},Tp=Cp(),Sp=function(){return Tp},Ap=function(){return function(){return function(){return function(){return function(t){return Tp}}}}},Pp=function(t){return function(e){return function(n){return e(t(n))}}},_p=yp({lift:function(t){return function(t){return sv(t)}}}),Ep=function(t){return function(e){return function(n){return t(e(n))}}},Lp=function(t){return{map:(e=av(t),function(t){return Ep(e(t))})};var e},Dp=function(t){var e=wv(t),n=Lp(t.Functor0());return{apply:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},Qp=function(t){var e=Tv(t),n=Dp(t.Apply0());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t)(r)}))}}},Apply0:function(){return n}}},Ip=function(t){var e,n=Dp(t.Apply0());return{pure:(e=bv(t),function(t){return sv(e(t))}),Apply0:function(){return n}}},Np=function(t){var e=Ip(t.Applicative0()),n=Qp(t.Bind1());return{Applicative0:function(){return e},Bind1:function(){return n}}},Mp=function(t){var e=Np(t);return{ask:bv(t.Applicative0()),Monad0:function(){return e}}},$p=function(t){var e=Mp(t);return{local:Pp,MonadAsk0:function(){return e}}},Fp=function(t){var e,n,r=t.Monad0(),i=Np(r);return{throwError:(e=_p(r),n=Xg(t),function(t){return e(n(t))}),Monad0:function(){return i}}},Bp=function(t){var e=Rv(t),n=Lp(t.Functor0());return{alt:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},Up={lift:function(t){var e=Tv(t.Bind1()),n=bv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return n(new ip(t,r))}))}}}},Hp=yp(Up),qp=function(t){var e=av(t);return{map:function(t){return function(n){return function(r){return e((function(e){return new ip(t(e.value0),e.value1)}))(n(r))}}}}},Xp=function(t){return{Applicative0:function(){return Wp(t)},Bind1:function(){return Vp(t)}}},Vp=function(t){var e=Tv(t.Bind1());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t.value0)(t.value1)}))}}},Apply0:function(){return zp(t)}}},zp=function(t){var e=qp(t.Bind1().Apply0().Functor0());return{apply:Ev(Xp(t)),Functor0:function(){return e}}},Wp=function(t){var e=bv(t.Applicative0());return{pure:function(t){return function(n){return e(new ip(t,n))}},Apply0:function(){return zp(t)}}},jp=function(t){var e=bv(t.Applicative0()),n=Xp(t);return{state:function(t){return function(n){return e(t(n))}},Monad0:function(){return n}}},Gp=function(t){var e=t.Monad0(),n=Hp(e),r=Xg(t),i=Xp(e);return{throwError:function(t){return n(r(t))},Monad0:function(){return i}}};Array.prototype.fill,function(){function t(t,e){this.head=t,this.tail=e}var e={};function n(e){return function(n){return new t(e,n)}}}();const Yp=function(t){return t.length},Zp=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])},Kp=function(t,e,n,r){for(var i=0,s=r.length;i<s;i++)if(n(r[i]))return t(i);return e},Jp=(function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}(),function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0}),tm=function(t,e){return t[e]};function em(t){return function(){return{value:t}}}const nm=function(t){return function(){return t.value}},rm=function(t){return function(e){return function(){return e.value=t}}};var im=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},sm={map:function(t){return function(e){return function(){return t(e())}}}};function om(t){return t}const lm=om;!function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}();const am=function(t,e){return e.push(t)},um=function(t){return function(e){return function(){return t(e)}}},cm=function(t){return function(e){return function(n){return function(){return t(e,n)}}}};var hm=um(lm),fm=cm(am),dm=av(sm),vm=tp(rp),gm=cv(sm),pm=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mm=function(t){return function(){var e=nm(t.value1)();return function(t){return im((function(e){var n=t(e);return{state:n,value:n}}))}((function(t){return t+1|0}))(t.value1)(),t.value0(e)}};var Rm=nv(rv),Om=function(t){return t.bimap},wm=function(t){return Om(t)(Rm)},xm={bimap:function(t){return function(e){return function(n){return new ip(t(n.value0),e(n.value1))}}}},ym={append:function(t){return function(e){return t instanceof vg?t:e}}},bm=function(){return{mempty:dg.value,Semigroup0:function(){return ym}}}(),km=function(t){return t},Cm=function(t){var e=function(t){var e=np(t);return{append:function(t){return function(n){return e(t)(n)}}}}(t);return{mempty:ep(t),Semigroup0:function(){return e}}},Tm=function(t){var e=ev(t);return{append:function(t){return function(n){return e(t)(n)}}}},Sm=function(t){var e=Tm(t.Semigroupoid0());return{mempty:nv(t),Semigroup0:function(){return e}}},Am=Sp(),Pm=Ap()()()(),_m=function(t){return t.foldr},Em=function(t){var e=xv(t.Apply0()),n=bv(t);return function(t){var r=_m(t);return function(t){return r((function(n){return e(t(n))}))(n(lv))}}},Lm=function(t){return t.foldl},Dm=function(t){var e=Lm(t);return function(t){var n=mv(t.Semigroup0()),r=Ig(t);return function(t){return function(i){return e((function(e){return function(r){return e.init?{init:!1,acc:r}:{init:!1,acc:n(e.acc)(n(t)(r))}}}))({init:!0,acc:r})(i).acc}}}},Qm={foldr:function(t){return function(e){return function(n){if(n instanceof dg)return e;if(n instanceof vg)return t(n.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldl:function(t){return function(e){return function(n){if(n instanceof dg)return e;if(n instanceof vg)return t(e)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldMap:function(t){var e=Ig(t);return function(t){return function(n){if(n instanceof dg)return e;if(n instanceof vg)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,n.constructor.name])}}}},Im={foldr:function(t){return function(e){return function(n){for(var r=e,i=n.length-1;i>=0;i--)r=t(n[i])(r);return r}}},foldl:function(t){return function(e){return function(n){for(var r=e,i=n.length,s=0;s<i;s++)r=t(r)(n[s]);return r}}},foldMap:function(t){return function(t){var e=_m(t);return function(t){var n=mv(t.Semigroup0()),r=Ig(t);return function(t){return e((function(e){return function(r){return n(t(e))(r)}}))(r)}}}(Im)(t)}},Nm=function(t){return t.foldMap},Mm=function(t){var e=Nm(t)(bm);return function(t){var n=Xv(t);return function(t){var r=e((function(e){return n(t)(e.value0)?new vg(e.value1):dg.value}));return function(t){return Am(r(t))}}}},$m=function(t){var e=Nm(t);return function(t){return Pm(km)(e(Cm(t)))}};const Fm=function(t){return function(e){return function(n){return t(e,n)}}},Bm=function(t){return function(e){return function(n){return function(r){return function(i){return t(e,n,r,i)}}}}};const Um=function(){function t(t){return[t]}function e(t){return function(e){return[t,e]}}function n(t){return function(e){return function(n){return[t,e,n]}}}function r(t){return function(e){return t.concat(e)}}return function(i){return function(s){return function(o){return function(l){return function(a){return function u(c,h){switch(h-c){case 0:return o([]);case 1:return s(t)(l(a[c]));case 2:return i(s(e)(l(a[c])))(l(a[c+1]));case 3:return i(i(s(n)(l(a[c])))(l(a[c+1])))(l(a[c+2]));default:var f=c+2*Math.floor((h-c)/4);return i(s(r)(u(c,f)))(u(f,h))}}(0,a.length)}}}}}}();var Hm=nv(rv),qm=function(t){return t.traverse},Xm={traverse:function(t){var e=bv(t),n=av(t.Apply0().Functor0());return function(t){return function(r){if(r instanceof dg)return e(dg.value);if(r instanceof vg)return n(vg.create)(t(r.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,r.constructor.name])}}},sequence:function(t){var e=bv(t),n=av(t.Apply0().Functor0());return function(t){if(t instanceof dg)return e(dg.value);if(t instanceof vg)return n(vg.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}},Functor0:function(){return Og},Foldable1:function(){return Qm}},Vm=function(t){var e=qm(t);return function(t){return e(t)(Hm)}},zm={traverse:function(t){var e=t.Apply0();return Um(wv(e))(av(e.Functor0()))(bv(t))},sequence:function(t){return Vm(zm)(t)},Functor0:function(){return dv},Foldable1:function(){return Im}},Wm=function(t){return function(e){var n=qm(e)(t);return function(t){return function(e){return n(e)(t)}}}};var jm=cv(sm),Gm=function(){return Fm(tm)},Ym=function(t){return 0===Yp(t)},Zm=function(){return Bm(Zp)(vg.create)(dg.value)}(),Km=function(t){return function(){var e=[],n=[],r=function(t){return dm(pm.create(t))(em(0))}((function(e){return Zm(t)(e)}))();!function(t){return function(e){return function(){for(var n=em(!1)();dm(vm)(nm(n))();)!function(){var r=mm(t)();if(r instanceof vg)return e(r.value0)();if(r instanceof dg)return gm(rm(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[r.constructor.name])}();return{}}}}(r)((function(t){return function(){return jm(fm(t.value0)(e))(),jm(fm(t.value1)(n))()}}))();var i=hm(e)(),s=hm(n)();return new ip(i,s)}()},Jm=function(t){return Zm(t)(0)},tR=function(){return Bm(Kp)(vg.create)(dg.value)}(),eR=function(t){var e=Xv(t);return function(t){return tR((function(n){return e(n)(t)}))}},nR=function(t){var e=eR(t);return function(t){return function(n){return mg(e(t)(n))}}},rR=function(t){var e=eR(t);return function(t){return function(n){return Rg(e(t)(n))}}},iR=Fm(Jp);!function(){function t(t){this.fn=t}var e={},n=function(t,e){this.head=t,this.tail=e};function r(t){return new n(t,e)}function i(t){return function(e){return new n(t,e)}}function s(t){for(var n=[],r=t;r!==e;)n.push(r.head),r=r.tail;return n}}();var sR=function(t){return t.foldrWithIndex},oR=nv(rv),lR=function(){function t(){}return t.value=new t,t}(),aR=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),uR={map:function(t){var e;return e=lR.value,function(n){var r,i=e,s=!1;function o(e,r){return r instanceof aR&&r.value1 instanceof aR&&r.value1.value1 instanceof aR?(i=new aR(r,e),void(n=r.value1.value1.value1)):(s=!0,(l=e,function(e){for(var n,r,i,s=l,o=!1;!o;)i=e,n=(r=s)instanceof aR&&r.value0 instanceof aR&&r.value0.value1 instanceof aR&&r.value0.value1.value1 instanceof aR?(s=r.value1,void(e=new aR(t(r.value0.value0),new aR(t(r.value0.value1.value0),new aR(t(r.value0.value1.value1.value0),i))))):(o=!0,i);return n})((o=r)instanceof aR&&o.value1 instanceof aR&&o.value1.value1 instanceof lR?new aR(t(o.value0),new aR(t(o.value1.value0),lR.value)):o instanceof aR&&o.value1 instanceof lR?new aR(t(o.value0),lR.value):lR.value));var o,l}for(;!s;)r=o(i,n);return r}}},cR={foldr:function(t){return function(e){var n,r=(n=lR.value,function(t){var e,r=n,i=!1;function s(e,n){if(n instanceof lR)return i=!0,e;if(n instanceof aR)return r=new aR(n.value0,e),void(t=n.value1);throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[e.constructor.name,n.constructor.name])}for(;!i;)e=s(r,t);return e}),i=Lm(cR)(iv(t))(e);return function(t){return i(r(t))}}},foldl:function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof lR)return s=!0,e;if(r instanceof aR)return i=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[r.constructor.name])}for(;!s;)r=o(i,n);return r}}},foldMap:function(t){var e=mv(t.Semigroup0()),n=Ig(t);return function(t){return Lm(cR)((function(n){var r=e(n);return function(e){return r(t(e))}}))(n)}}},hR=Lm(cR),fR=_m(cR),dR={append:function(t){return function(e){return fR(aR.create)(e)(t)}}},vR={traverse:function(t){var e=t.Apply0(),n=av(e.Functor0()),r=yv(e),i=bv(t);return function(t){var e=n(hR(iv(aR.create))(lR.value)),s=hR((function(e){var n=r(iv(aR.create))(e);return function(e){return n(t(e))}}))(i(lR.value));return function(t){return e(s(t))}}},sequence:function(t){return qm(vR)(t)(oR)},Functor0:function(){return uR},Foldable1:function(){return cR}},gR={eq1:function(t){var e=Xv(t);return function(t){return function(n){var r;return(r=t,function(t){return function(n){var i,s=r,o=t,l=!1;function a(t,r,i){return i?t instanceof lR&&r instanceof lR?(l=!0,i):t instanceof aR&&r instanceof aR?(s=t.value1,o=r.value1,void(n=i&&e(r.value0)(t.value0))):(l=!0,!1):(l=!0,!1)}for(;!l;)i=a(s,o,n);return i}})(n)(!0)}}}},pR=qv(gR),mR=function(t){return{eq:pR(t)}},RR=Xv(Yv),OR=zv(Yv),wR=function(t){return new aR(t,lR.value)},xR=function(t){var e=function(n){return function(r){if(n instanceof aR&&r instanceof aR)return RR(t(n.value0)(r.value0))(jv.value)?new aR(r.value0,e(n)(r.value1)):new aR(n.value0,e(n.value1)(r));if(n instanceof lR)return r;if(r instanceof lR)return n;throw new Error("Failed pattern match at Data.List (line 466, column 3 - line 466, column 38): "+[n.constructor.name,r.constructor.name])}},n=function(t){return t instanceof aR&&t.value1 instanceof aR?new aR(e(t.value0)(t.value1.value0),n(t.value1.value1)):t},r=function(e){return e instanceof aR&&e.value1 instanceof aR?RR(t(e.value0)(e.value1.value0))(jv.value)?i(e.value1.value0)(wR(e.value0))(e.value1.value1):s(e.value1.value0)((function(t){return new aR(e.value0,t)}))(e.value1.value1):wR(e)},i=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof aR&&RR(t(e)(s.value0))(jv.value)?(o=s.value0,l=new aR(e,n),void(i=s.value1)):(a=!0,new aR(new aR(e,n),r(s)))}for(;!a;)s=u(o,l,i);return s}}},s=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof aR&&OR(t(e)(s.value0))(jv.value)?(o=s.value0,l=function(t){return n(new aR(e,t))},void(i=s.value1)):(a=!0,new aR(n(wR(e)),r(s)))}for(;!a;)s=u(o,l,i);return s}}};return function(t){return function(t){var e,r=!1;function i(e){if(e instanceof aR&&e.value1 instanceof lR)return r=!0,e.value0;t=n(e)}for(;!r;)e=i(t);return e}(r(t))}},yR=function(t){var e=ng(t);return function(t){return xR(e)(t)}},bR=function(){var t;return t=lR.value,function(e){var n,r=t,i=!1;function s(t,n){if(n instanceof lR)return i=!0,t;if(n instanceof aR)return r=new aR(n.value0,t),void(e=n.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=s(r,e);return n}}(),kR=function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof lR)return s=!0,bR(e);if(r instanceof aR)return t(r.value0)?(i=new aR(r.value0,e),void(n=r.value1)):(i=e,void(n=r.value1));throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[e.constructor.name,r.constructor.name])}for(;!s;)r=o(i,n);return r}}(lR.value)};const CR=function(t){return t.length},TR=function(t){return function(e){return e.substring(t)}},SR=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};const AR=function(t){throw new Error(t)};var PR=function(){return AR},_R=PR(),ER=function(t){return t()},LR=function(t){return ER((function(){return _R(t)}))},DR=Sp(),QR=function(t){return DR(t)};const IR=isFinite;Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,Math.cos,Math.exp;const NR=Math.floor,MR=(Math.log,Math.round,Math.sign&&Math.sign,Math.sin,Math.sqrt);Math.tan,Math.trunc&&Math.trunc;var $R=rg(ig),FR=og(ig),BR=function(){return(t=vg.create,function(e){return function(n){return(0|n)===n?t(n):e}})(dg.value);var t}(),UR=function(t){return IR(t)?t>=$R?$R:t<=FR?FR:xg(0)(BR(t)):0},HR=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},qR=function(){function t(){}return t.value=new t,t}(),XR=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),VR=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),zR=function(t,e,n,r){if(n instanceof qR){if(r instanceof qR)return new XR(1,1,t,e,n,r);if(r instanceof XR)return new XR(1+r.value0|0,1+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 680, column 5 - line 684, column 39): "+[r.constructor.name])}if(n instanceof XR){if(r instanceof qR)return new XR(1+n.value0|0,1+n.value1|0,t,e,n,r);if(r instanceof XR)return new XR(1+(n.value0>r.value0?n.value0:r.value0)|0,(1+n.value1|0)+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 686, column 5 - line 690, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 678, column 32 - line 690, column 68): "+[n.constructor.name])},WR=function(t){return function(e){return new XR(1,1,t,e,qR.value,qR.value)}},jR=function(){var t=function(t){if(t instanceof qR)return 0;if(t instanceof XR)return t.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 735, column 12 - line 737, column 26): "+[t.constructor.name])},e=function(e,n,r,i,s,o,l){return o instanceof XR&&o.value0>t(l)?zR(o.value2,o.value3,zR(e,n,r,o.value4),zR(i,s,o.value5,l)):zR(i,s,zR(e,n,r,o),l)},n=function(e,n,r,i,s,o,l){return o instanceof XR&&t(s)<=o.value0?zR(o.value2,o.value3,zR(r,i,s,o.value4),zR(e,n,o.value5,l)):zR(r,i,s,zR(e,n,o,l))};return function(t,r,i,s){if(i instanceof qR)return s instanceof qR?WR(t)(r):s instanceof XR&&s.value0>1?e(t,r,i,s.value2,s.value3,s.value4,s.value5):zR(t,r,i,s);if(i instanceof XR){if(s instanceof XR){if(s.value0>(i.value0+1|0))return e(t,r,i,s.value2,s.value3,s.value4,s.value5);if(i.value0>(s.value0+1|0))return n(t,r,i.value2,i.value3,i.value4,i.value5,s)}return s instanceof qR&&i.value0>1?n(t,r,i.value2,i.value3,i.value4,i.value5,s):zR(t,r,i,s)}throw new Error("Failed pattern match at Data.Map.Internal (line 695, column 40 - line 716, column 34): "+[i.constructor.name])}}(),GR=HR("unsafeSplit","Data.Map.Internal",(function(){return function(t,e,n){if(n instanceof qR)return new VR(dg.value,qR.value,qR.value);if(n instanceof XR){var r=t(e)(n.value2);if(r instanceof Wv){var i=GR(771)(t,e,n.value4);return new VR(i.value0,i.value1,jR(n.value2,n.value3,i.value2,n.value5))}if(r instanceof jv){i=GR(774)(t,e,n.value5);return new VR(i.value0,jR(n.value2,n.value3,n.value4,i.value1),i.value2)}if(r instanceof Gv)return new VR(new vg(n.value3),n.value4,n.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 769, column 5 - line 777, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 765, column 34 - line 777, column 30): "+[n.constructor.name])}})),YR=GR(764),ZR=HR("unsafeUnionWith","Data.Map.Internal",(function(){return function(t,e,n,r){if(n instanceof qR)return r;if(r instanceof qR)return n;if(r instanceof XR){var i=YR(t,r.value2,n),s=ZR(787)(t,e,i.value1,r.value4),o=ZR(788)(t,e,i.value2,r.value5);if(i.value0 instanceof vg)return jR(r.value2,e(i.value0.value0)(r.value3),s,o);if(i.value0 instanceof dg)return jR(r.value2,r.value3,s,o);throw new Error("Failed pattern match at Data.Map.Internal (line 789, column 5 - line 793, column 46): "+[i.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 782, column 42 - line 793, column 46): "+[n.constructor.name,r.constructor.name])}})),KR=ZR(781),JR=function(t){var e=ng(t);return function(t){return function(n){return function(r){return KR(e,t,n,r)}}}},tO=function(t){return JR(t)(sv)},eO=function(t){var e=ng(t);return function(t){return function(n){var r,i=!1;function s(r){if(r instanceof qR)return i=!0,dg.value;if(r instanceof XR){var s=e(t)(r.value2);if(s instanceof Wv)return void(n=r.value4);if(s instanceof jv)return void(n=r.value5);if(s instanceof Gv)return i=!0,new vg(r.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 281, column 7 - line 284, column 22): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 278, column 8 - line 284, column 22): "+[r.constructor.name])}for(;!i;)r=s(n);return r}}},nO=function(t){var e=ng(t);return function(t){return function(n){var r=function(i){if(i instanceof qR)return WR(t)(n);if(i instanceof XR){var s=e(t)(i.value2);if(s instanceof Wv)return jR(i.value2,i.value3,r(i.value4),i.value5);if(s instanceof jv)return jR(i.value2,i.value3,i.value4,r(i.value5));if(s instanceof Gv)return new XR(i.value0,i.value1,t,n,i.value4,i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 469, column 7 - line 472, column 35): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 466, column 8 - line 472, column 35): "+[i.constructor.name])};return r}}},rO={foldr:function(t){return function(e){var n=HR("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof qR)return r;if(e instanceof XR)return n(170)(e.value4,t(e.value3)(n(170)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 167, column 26 - line 170, column 43): "+[e.constructor.name])}})),r=n(167);return function(t){return r(t,e)}}},foldl:function(t){return function(e){var n=HR("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof qR)return e;if(r instanceof XR)return n(176)(t(n(176)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 173, column 26 - line 176, column 43): "+[r.constructor.name])}})),r=n(173);return function(t){return r(e,t)}}},foldMap:function(t){var e=Ig(t),n=mv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof qR)return e;if(i instanceof XR)return n(r(i.value4))(n(t(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 179, column 10 - line 182, column 28): "+[i.constructor.name])};return r}}},iO={foldrWithIndex:function(t){return function(e){var n=HR("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof qR)return r;if(e instanceof XR)return n(190)(e.value4,t(e.value2)(e.value3)(n(190)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 187, column 26 - line 190, column 45): "+[e.constructor.name])}})),r=n(187);return function(t){return r(t,e)}}},foldlWithIndex:function(t){return function(e){var n=HR("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof qR)return e;if(r instanceof XR)return n(196)(t(r.value2)(n(196)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 193, column 26 - line 196, column 45): "+[r.constructor.name])}})),r=n(193);return function(t){return r(e,t)}}},foldMapWithIndex:function(t){var e=Ig(t),n=mv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof qR)return e;if(i instanceof XR)return n(r(i.value4))(n(t(i.value2)(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 199, column 10 - line 202, column 30): "+[i.constructor.name])};return r}},Foldable0:function(){return rO}},sO=function(){return sR(iO)((function(t){return function(e){return function(e){return new aR(t,e)}}}))(lR.value)}(),oO=function(){return qR.value}(),lO=function(t){var e=nO(t);return function(t){return Lm(t)((function(t){return function(n){return e(n.value0)(n.value1)(t)}}))(oO)}};function aO(t){return{term:t,done:!1}}function uO(t){return t.done}function cO(t){return t.term}function hO(t){return function(e){return e.term=t,e.done=!0,t}}var fO=function(){function t(){}return t.value=new t,t}(),dO=function(){function t(){}return t.value=new t,t}(),vO=function(){function t(){}return t.value=new t,t}(),gO=function(){function t(){}return t.value=new t,t}(),pO=function(){function t(){}return t.value=new t,t}(),mO=function(){function t(){}return t.value=new t,t}(),RO=function(){function t(){}return t.value=new t,t}(),OO=function(){function t(){}return t.value=new t,t}(),wO=function(){function t(){}return t.value=new t,t}(),xO=function(){function t(){}return t.value=new t,t}(),yO=function(){function t(){}return t.value=new t,t}(),bO=function(){function t(){}return t.value=new t,t}(),kO=function(){function t(){}return t.value=new t,t}(),CO=function(){function t(){}return t.value=new t,t}(),TO=function(){function t(){}return t.value=new t,t}(),SO=function(){function t(){}return t.value=new t,t}(),AO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),PO=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),_O=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),EO=function(){function t(){}return t.value=new t,t}(),LO=function(){function t(){}return t.value=new t,t}(),DO={show:function(t){if(t instanceof fO)return"-";if(t instanceof dO)return"#";if(t instanceof vO)return"√";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 23, column 1 - line 26, column 18): "+[t.constructor.name])}},QO={show:function(t){if(t instanceof gO)return"&&";if(t instanceof pO)return"||";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 60, column 1 - line 62, column 18): "+[t.constructor.name])}},IO=hg(QO),NO={show:function(t){if(t instanceof mO)return"==";if(t instanceof RO)return"!=";if(t instanceof OO)return"<";if(t instanceof wO)return"<=";if(t instanceof xO)return">";if(t instanceof yO)return">=";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 52, column 1 - line 58, column 18): "+[t.constructor.name])}},MO=hg(NO),$O={show:function(t){if(t instanceof bO)return"+";if(t instanceof kO)return"-";if(t instanceof CO)return"*";if(t instanceof TO)return"/";if(t instanceof SO)return"%";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 45, column 1 - line 50, column 17): "+[t.constructor.name])}},FO=hg($O),BO={show:function(t){if(t instanceof AO)return FO(t.value0);if(t instanceof PO)return MO(t.value0);if(t instanceof _O)return IO(t.value0);if(t instanceof EO)return"++";if(t instanceof LO)return"!!";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 38, column 1 - line 43, column 23): "+[t.constructor.name])}},UO=function(t){return"("+t+")"},HO=function(t){return"["+t+"]"},qO=function(t){return"{ "+t+" }"},XO=function(t){return"<"+t+">"};function VO(t){return t.charCodeAt(0)}var zO=og(sg),WO=rg(sg),jO=function(t){return t.toEnum},GO=function(t){return t.fromEnum},YO=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},ZO=function(t){return function(e){return function(n){return t(e(n)-1|0)}}},KO=function(t){return t>=VO(zO)&&t<=VO(WO)?new vg(function(t){return String.fromCharCode(t)}(t)):dg.value},JO={succ:YO(KO)(VO),pred:ZO(KO)(VO),Ord0:function(){return eg}},tw=function(){return{cardinality:VO(WO)-VO(zO)|0,toEnum:KO,fromEnum:VO,Bounded0:function(){return sg},Enum1:function(){return JO}}}(),ew=Gm(),nw=eR(Bv),rw=function(){function t(){}return t.value=new t,t}(),iw=function(){function t(){}return t.value=new t,t}(),sw=function(){function t(){}return t.value=new t,t}(),ow=function(){function t(){}return t.value=new t,t}(),lw=function(){function t(){}return t.value=new t,t}(),aw=function(){function t(){}return t.value=new t,t}(),uw=function(){function t(){}return t.value=new t,t}(),cw=function(){function t(){}return t.value=new t,t}(),hw=function(){function t(){}return t.value=new t,t}(),fw=function(){function t(){}return t.value=new t,t}(),dw=function(){function t(){}return t.value=new t,t}(),vw=function(){function t(){}return t.value=new t,t}(),gw=function(){function t(){}return t.value=new t,t}(),pw=function(){function t(){}return t.value=new t,t}(),mw=function(){function t(){}return t.value=new t,t}(),Rw=function(){function t(){}return t.value=new t,t}(),Ow=function(){function t(){}return t.value=new t,t}(),ww=function(){function t(){}return t.value=new t,t}(),xw=function(){function t(){}return t.value=new t,t}(),yw=function(){function t(){}return t.value=new t,t}(),bw=function(){function t(){}return t.value=new t,t}(),kw=function(){function t(){}return t.value=new t,t}(),Cw=function(){function t(){}return t.value=new t,t}(),Tw=function(){function t(){}return t.value=new t,t}(),Sw=function(){function t(){}return t.value=new t,t}(),Aw=function(){function t(){}return t.value=new t,t}(),Pw=function(){function t(){}return t.value=new t,t}(),_w=function(){function t(){}return t.value=new t,t}(),Ew=function(){function t(){}return t.value=new t,t}(),Lw=function(){function t(){}return t.value=new t,t}(),Dw=function(){return{category:2,unicodeCat:Cw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Qw=function(){return{category:67108864,unicodeCat:Sw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Iw=function(){return{category:33554432,unicodeCat:Tw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Nw=8192,Mw=function(){return{category:Nw,unicodeCat:kw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),$w=function(){return{category:Nw,unicodeCat:kw.value,possible:1,updist:0,lowdist:26,titledist:0}}(),Fw=function(){return{category:Nw,unicodeCat:kw.value,possible:1,updist:-26,lowdist:0,titledist:-26}}(),Bw=function(){return{category:64,unicodeCat:xw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Uw=function(){return{category:1024,unicodeCat:bw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Hw=function(){return{category:8,unicodeCat:yw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),qw=function(){return{category:16,unicodeCat:pw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Xw=function(){return{category:4,unicodeCat:ww.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Vw=function(){return{category:32768,unicodeCat:Rw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),zw=262144,Ww=function(){return{category:zw,unicodeCat:Ow.value,possible:0,updist:0,lowdist:0,titledist:0}}(),jw=function(){return{category:32,unicodeCat:mw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Gw=function(){return{category:128,unicodeCat:gw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Yw=function(){return{category:2048,unicodeCat:vw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Zw=131072,Kw=function(){return{category:Zw,unicodeCat:dw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Jw=16777216,tx=function(){return{category:Jw,unicodeCat:fw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ex=function(){return{category:Jw,unicodeCat:fw.value,possible:1,updist:0,lowdist:16,titledist:0}}(),nx=function(){return{category:Jw,unicodeCat:fw.value,possible:1,updist:-16,lowdist:0,titledist:-16}}(),rx=256,ix=function(){return{category:rx,unicodeCat:hw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),sx=2097152,ox=function(){return{category:sx,unicodeCat:aw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),lx=function(){return{category:sx,unicodeCat:aw.value,possible:1,updist:84,lowdist:0,titledist:84}}(),ax=4194304,ux=function(){return{category:ax,unicodeCat:cw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),cx=8388608,hx=function(){return{category:cx,unicodeCat:uw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),fx=512,dx=function(){return{category:fx,unicodeCat:Lw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),vx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:8,titledist:0}}(),gx=function(){return{category:fx,unicodeCat:rw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),px=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-60,titledist:0}}(),mx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-7,titledist:0}}(),Rx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:80,titledist:0}}(),Ox=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:15,titledist:0}}(),wx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:48,titledist:0}}(),xx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:7264,titledist:0}}(),yx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:38864,titledist:0}}(),bx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-3008,titledist:0}}(),kx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-7615,titledist:0}}(),Cx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),Tx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-74,titledist:0}}(),Sx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-86,titledist:0}}(),Ax=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-100,titledist:0}}(),Px=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-112,titledist:0}}(),_x=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-128,titledist:0}}(),Ex=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-126,titledist:0}}(),Lx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-7517,titledist:0}}(),Dx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-8383,titledist:0}}(),Qx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-8262,titledist:0}}(),Ix=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:28,titledist:0}}(),Nx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10743,titledist:0}}(),Mx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-3814,titledist:0}}(),$x=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10727,titledist:0}}(),Fx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10780,titledist:0}}(),Bx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10749,titledist:0}}(),Ux=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10783,titledist:0}}(),Hx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10782,titledist:0}}(),qx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-10815,titledist:0}}(),Xx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-35332,titledist:0}}(),Vx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42280,titledist:0}}(),zx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42308,titledist:0}}(),Wx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42319,titledist:0}}(),jx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42315,titledist:0}}(),Gx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42305,titledist:0}}(),Yx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42258,titledist:0}}(),Zx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42282,titledist:0}}(),Kx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42261,titledist:0}}(),Jx=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:928,titledist:0}}(),ty=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-48,titledist:0}}(),ey=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-42307,titledist:0}}(),ny=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-35384,titledist:0}}(),ry=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:40,titledist:0}}(),iy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:34,titledist:0}}(),sy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:1,titledist:0}}(),oy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-199,titledist:0}}(),ly=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-121,titledist:0}}(),ay=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:210,titledist:0}}(),uy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:206,titledist:0}}(),cy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:205,titledist:0}}(),hy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:79,titledist:0}}(),fy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:202,titledist:0}}(),dy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:203,titledist:0}}(),vy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:207,titledist:0}}(),gy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:211,titledist:0}}(),py=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:209,titledist:0}}(),my=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:213,titledist:0}}(),Ry=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:214,titledist:0}}(),Oy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:218,titledist:0}}(),wy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:217,titledist:0}}(),xy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:219,titledist:0}}(),yy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:2,titledist:1}}(),by=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-97,titledist:0}}(),ky=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-56,titledist:0}}(),Cy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-130,titledist:0}}(),Ty=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:10795,titledist:0}}(),Sy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-163,titledist:0}}(),Ay=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:10792,titledist:0}}(),Py=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:-195,titledist:0}}(),_y=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:69,titledist:0}}(),Ey=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:71,titledist:0}}(),Ly=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:32,titledist:0}}(),Dy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:116,titledist:0}}(),Qy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:38,titledist:0}}(),Iy=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:37,titledist:0}}(),Ny=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:64,titledist:0}}(),My=function(){return{category:fx,unicodeCat:rw.value,possible:1,updist:0,lowdist:63,titledist:0}}(),$y=524288,Fy=function(){return{category:$y,unicodeCat:sw.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),By=function(){return{category:$y,unicodeCat:sw.value,possible:1,updist:0,lowdist:-9,titledist:0}}(),Uy=function(){return{category:$y,unicodeCat:sw.value,possible:1,updist:-1,lowdist:1,titledist:0}}(),Hy=16384,qy=function(){return{category:Hy,unicodeCat:lw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Xy=1048576,Vy=function(){return{category:Xy,unicodeCat:ow.value,possible:0,updist:0,lowdist:0,titledist:0}}(),zy=4096,Wy=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-37,lowdist:0,titledist:-37}}(),jy=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-31,lowdist:0,titledist:-31}}(),Gy=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-64,lowdist:0,titledist:-64}}(),Yy=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-63,lowdist:0,titledist:-63}}(),Zy=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-62,lowdist:0,titledist:-62}}(),Ky=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-57,lowdist:0,titledist:-57}}(),Jy=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-47,lowdist:0,titledist:-47}}(),tb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-54,lowdist:0,titledist:-54}}(),eb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-8,lowdist:0,titledist:-8}}(),nb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-86,lowdist:0,titledist:-86}}(),rb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-80,lowdist:0,titledist:-80}}(),ib=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:7,lowdist:0,titledist:7}}(),sb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-116,lowdist:0,titledist:-116}}(),ob=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-96,lowdist:0,titledist:-96}}(),lb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-32,lowdist:0,titledist:-32}}(),ab=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-15,lowdist:0,titledist:-15}}(),ub=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-48,lowdist:0,titledist:-48}}(),cb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:3008,lowdist:0,titledist:0}}(),hb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6254,lowdist:0,titledist:-6254}}(),fb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6253,lowdist:0,titledist:-6253}}(),db=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6244,lowdist:0,titledist:-6244}}(),vb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6242,lowdist:0,titledist:-6242}}(),gb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6243,lowdist:0,titledist:-6243}}(),pb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6236,lowdist:0,titledist:-6236}}(),mb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-6181,lowdist:0,titledist:-6181}}(),Rb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:35266,lowdist:0,titledist:35266}}(),Ob=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:35332,lowdist:0,titledist:35332}}(),wb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:3814,lowdist:0,titledist:3814}}(),xb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:35384,lowdist:0,titledist:35384}}(),yb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-59,lowdist:0,titledist:-59}}(),bb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:8,lowdist:0,titledist:8}}(),kb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:74,lowdist:0,titledist:74}}(),Cb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:86,lowdist:0,titledist:86}}(),Tb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:100,lowdist:0,titledist:100}}(),Sb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:128,lowdist:0,titledist:128}}(),Ab=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:112,lowdist:0,titledist:112}}(),Pb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:126,lowdist:0,titledist:126}}(),_b=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:9,lowdist:0,titledist:9}}(),Eb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-7205,lowdist:0,titledist:-7205}}(),Lb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-28,lowdist:0,titledist:-28}}(),Db=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-10795,lowdist:0,titledist:-10795}}(),Qb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-10792,lowdist:0,titledist:-10792}}(),Ib=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:743,lowdist:0,titledist:743}}(),Nb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-7264,lowdist:0,titledist:-7264}}(),Mb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:48,lowdist:0,titledist:48}}(),$b=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-928,lowdist:0,titledist:-928}}(),Fb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-38864,lowdist:0,titledist:-38864}}(),Bb=function(){return{category:zy,unicodeCat:iw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Ub=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-40,lowdist:0,titledist:-40}}(),Hb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-34,lowdist:0,titledist:-34}}(),qb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:121,lowdist:0,titledist:121}}(),Xb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-1,lowdist:0,titledist:-1}}(),Vb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-232,lowdist:0,titledist:-232}}(),zb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-300,lowdist:0,titledist:-300}}(),Wb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:195,lowdist:0,titledist:195}}(),jb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:97,lowdist:0,titledist:97}}(),Gb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:163,lowdist:0,titledist:163}}(),Yb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:130,lowdist:0,titledist:130}}(),Zb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:56,lowdist:0,titledist:56}}(),Kb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-2,lowdist:0,titledist:-1}}(),Jb=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-79,lowdist:0,titledist:-79}}(),tk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10815,lowdist:0,titledist:10815}}(),ek=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10783,lowdist:0,titledist:10783}}(),nk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10780,lowdist:0,titledist:10780}}(),rk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10782,lowdist:0,titledist:10782}}(),ik=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-210,lowdist:0,titledist:-210}}(),sk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-206,lowdist:0,titledist:-206}}(),ok=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-205,lowdist:0,titledist:-205}}(),lk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-202,lowdist:0,titledist:-202}}(),ak=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-203,lowdist:0,titledist:-203}}(),uk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42319,lowdist:0,titledist:42319}}(),ck=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42315,lowdist:0,titledist:42315}}(),hk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-207,lowdist:0,titledist:-207}}(),fk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42280,lowdist:0,titledist:42280}}(),dk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42308,lowdist:0,titledist:42308}}(),vk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-209,lowdist:0,titledist:-209}}(),gk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-211,lowdist:0,titledist:-211}}(),pk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10743,lowdist:0,titledist:10743}}(),mk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42305,lowdist:0,titledist:42305}}(),Rk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10749,lowdist:0,titledist:10749}}(),Ok=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-213,lowdist:0,titledist:-213}}(),wk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-214,lowdist:0,titledist:-214}}(),xk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:10727,lowdist:0,titledist:10727}}(),yk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-218,lowdist:0,titledist:-218}}(),bk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42307,lowdist:0,titledist:42307}}(),kk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42282,lowdist:0,titledist:42282}}(),Ck=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-69,lowdist:0,titledist:-69}}(),Tk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-217,lowdist:0,titledist:-217}}(),Sk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-71,lowdist:0,titledist:-71}}(),Ak=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-219,lowdist:0,titledist:-219}}(),Pk=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42261,lowdist:0,titledist:42261}}(),_k=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:42258,lowdist:0,titledist:42258}}(),Ek=function(){return{category:zy,unicodeCat:iw.value,possible:1,updist:-38,lowdist:0,titledist:-38}}(),Lk=function(){return{category:134217728,unicodeCat:_w.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Dk=function(){return{category:268435456,unicodeCat:Ew.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Qk=function(){return{category:65536,unicodeCat:Pw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Ik=function(){return{category:1,unicodeCat:Aw.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Nk=function(t){return function(e){return function(n){return function(r){var i;return(i=0,function(n){var s,o=i,l=!1;function a(i,s){if(i>s||i>=Yp(e))return l=!0,dg.value;var a=UR(NR((i+s|0)/2)),u=ew(e)(a),c=r(t)(u);return c instanceof Gv?(l=!0,new vg(u)):c instanceof jv?(o=a+1|0,void(n=s)):(o=i,void(n=a-1|0))}for(;!l;)s=a(o,n);return s})(n)}}}},Mk=function(t){return function(e){return t.start>=e.start&&t.start<(e.start+e.length|0)?Gv.value:t.start>e.start?jv.value:Wv.value}},$k=function(t){return function(e){return function(n){var r=Nk({start:e,length:1,convRule:dx})(t)(n)(Mk);if(r instanceof dg)return dg.value;if(r instanceof vg)return new vg(r.value0.convRule);throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5612, column 5 - line 5614, column 60): "+[r.constructor.name])}}},Fk=[{start:0,length:32,convRule:Ik},{start:32,length:1,convRule:Dw},{start:33,length:3,convRule:Xw},{start:36,length:1,convRule:Hw},{start:37,length:3,convRule:Xw},{start:40,length:1,convRule:qw},{start:41,length:1,convRule:jw},{start:42,length:1,convRule:Xw},{start:43,length:1,convRule:Bw},{start:44,length:1,convRule:Xw},{start:45,length:1,convRule:Gw},{start:46,length:2,convRule:Xw},{start:48,length:10,convRule:ix},{start:58,length:2,convRule:Xw},{start:60,length:3,convRule:Bw},{start:63,length:2,convRule:Xw},{start:65,length:26,convRule:Ly},{start:91,length:1,convRule:qw},{start:92,length:1,convRule:Xw},{start:93,length:1,convRule:jw},{start:94,length:1,convRule:Uw},{start:95,length:1,convRule:Yw},{start:96,length:1,convRule:Uw},{start:97,length:26,convRule:lb},{start:123,length:1,convRule:qw},{start:124,length:1,convRule:Bw},{start:125,length:1,convRule:jw},{start:126,length:1,convRule:Bw},{start:127,length:33,convRule:Ik},{start:160,length:1,convRule:Dw},{start:161,length:1,convRule:Xw},{start:162,length:4,convRule:Hw},{start:166,length:1,convRule:Mw},{start:167,length:1,convRule:Xw},{start:168,length:1,convRule:Uw},{start:169,length:1,convRule:Mw},{start:170,length:1,convRule:qy},{start:171,length:1,convRule:Vw},{start:172,length:1,convRule:Bw},{start:173,length:1,convRule:Qk},{start:174,length:1,convRule:Mw},{start:175,length:1,convRule:Uw},{start:176,length:1,convRule:Mw},{start:177,length:1,convRule:Bw},{start:178,length:2,convRule:Kw},{start:180,length:1,convRule:Uw},{start:181,length:1,convRule:Ib},{start:182,length:2,convRule:Xw},{start:184,length:1,convRule:Uw},{start:185,length:1,convRule:Kw},{start:186,length:1,convRule:qy},{start:187,length:1,convRule:Ww},{start:188,length:3,convRule:Kw},{start:191,length:1,convRule:Xw},{start:192,length:23,convRule:Ly},{start:215,length:1,convRule:Bw},{start:216,length:7,convRule:Ly},{start:223,length:1,convRule:Bb},{start:224,length:23,convRule:lb},{start:247,length:1,convRule:Bw},{start:248,length:7,convRule:lb},{start:255,length:1,convRule:qb},{start:256,length:1,convRule:sy},{start:257,length:1,convRule:Xb},{start:258,length:1,convRule:sy},{start:259,length:1,convRule:Xb},{start:260,length:1,convRule:sy},{start:261,length:1,convRule:Xb},{start:262,length:1,convRule:sy},{start:263,length:1,convRule:Xb},{start:264,length:1,convRule:sy},{start:265,length:1,convRule:Xb},{start:266,length:1,convRule:sy},{start:267,length:1,convRule:Xb},{start:268,length:1,convRule:sy},{start:269,length:1,convRule:Xb},{start:270,length:1,convRule:sy},{start:271,length:1,convRule:Xb},{start:272,length:1,convRule:sy},{start:273,length:1,convRule:Xb},{start:274,length:1,convRule:sy},{start:275,length:1,convRule:Xb},{start:276,length:1,convRule:sy},{start:277,length:1,convRule:Xb},{start:278,length:1,convRule:sy},{start:279,length:1,convRule:Xb},{start:280,length:1,convRule:sy},{start:281,length:1,convRule:Xb},{start:282,length:1,convRule:sy},{start:283,length:1,convRule:Xb},{start:284,length:1,convRule:sy},{start:285,length:1,convRule:Xb},{start:286,length:1,convRule:sy},{start:287,length:1,convRule:Xb},{start:288,length:1,convRule:sy},{start:289,length:1,convRule:Xb},{start:290,length:1,convRule:sy},{start:291,length:1,convRule:Xb},{start:292,length:1,convRule:sy},{start:293,length:1,convRule:Xb},{start:294,length:1,convRule:sy},{start:295,length:1,convRule:Xb},{start:296,length:1,convRule:sy},{start:297,length:1,convRule:Xb},{start:298,length:1,convRule:sy},{start:299,length:1,convRule:Xb},{start:300,length:1,convRule:sy},{start:301,length:1,convRule:Xb},{start:302,length:1,convRule:sy},{start:303,length:1,convRule:Xb},{start:304,length:1,convRule:oy},{start:305,length:1,convRule:Vb},{start:306,length:1,convRule:sy},{start:307,length:1,convRule:Xb},{start:308,length:1,convRule:sy},{start:309,length:1,convRule:Xb},{start:310,length:1,convRule:sy},{start:311,length:1,convRule:Xb},{start:312,length:1,convRule:Bb},{start:313,length:1,convRule:sy},{start:314,length:1,convRule:Xb},{start:315,length:1,convRule:sy},{start:316,length:1,convRule:Xb},{start:317,length:1,convRule:sy},{start:318,length:1,convRule:Xb},{start:319,length:1,convRule:sy},{start:320,length:1,convRule:Xb},{start:321,length:1,convRule:sy},{start:322,length:1,convRule:Xb},{start:323,length:1,convRule:sy},{start:324,length:1,convRule:Xb},{start:325,length:1,convRule:sy},{start:326,length:1,convRule:Xb},{start:327,length:1,convRule:sy},{start:328,length:1,convRule:Xb},{start:329,length:1,convRule:Bb},{start:330,length:1,convRule:sy},{start:331,length:1,convRule:Xb},{start:332,length:1,convRule:sy},{start:333,length:1,convRule:Xb},{start:334,length:1,convRule:sy},{start:335,length:1,convRule:Xb},{start:336,length:1,convRule:sy},{start:337,length:1,convRule:Xb},{start:338,length:1,convRule:sy},{start:339,length:1,convRule:Xb},{start:340,length:1,convRule:sy},{start:341,length:1,convRule:Xb},{start:342,length:1,convRule:sy},{start:343,length:1,convRule:Xb},{start:344,length:1,convRule:sy},{start:345,length:1,convRule:Xb},{start:346,length:1,convRule:sy},{start:347,length:1,convRule:Xb},{start:348,length:1,convRule:sy},{start:349,length:1,convRule:Xb},{start:350,length:1,convRule:sy},{start:351,length:1,convRule:Xb},{start:352,length:1,convRule:sy},{start:353,length:1,convRule:Xb},{start:354,length:1,convRule:sy},{start:355,length:1,convRule:Xb},{start:356,length:1,convRule:sy},{start:357,length:1,convRule:Xb},{start:358,length:1,convRule:sy},{start:359,length:1,convRule:Xb},{start:360,length:1,convRule:sy},{start:361,length:1,convRule:Xb},{start:362,length:1,convRule:sy},{start:363,length:1,convRule:Xb},{start:364,length:1,convRule:sy},{start:365,length:1,convRule:Xb},{start:366,length:1,convRule:sy},{start:367,length:1,convRule:Xb},{start:368,length:1,convRule:sy},{start:369,length:1,convRule:Xb},{start:370,length:1,convRule:sy},{start:371,length:1,convRule:Xb},{start:372,length:1,convRule:sy},{start:373,length:1,convRule:Xb},{start:374,length:1,convRule:sy},{start:375,length:1,convRule:Xb},{start:376,length:1,convRule:ly},{start:377,length:1,convRule:sy},{start:378,length:1,convRule:Xb},{start:379,length:1,convRule:sy},{start:380,length:1,convRule:Xb},{start:381,length:1,convRule:sy},{start:382,length:1,convRule:Xb},{start:383,length:1,convRule:zb},{start:384,length:1,convRule:Wb},{start:385,length:1,convRule:ay},{start:386,length:1,convRule:sy},{start:387,length:1,convRule:Xb},{start:388,length:1,convRule:sy},{start:389,length:1,convRule:Xb},{start:390,length:1,convRule:uy},{start:391,length:1,convRule:sy},{start:392,length:1,convRule:Xb},{start:393,length:2,convRule:cy},{start:395,length:1,convRule:sy},{start:396,length:1,convRule:Xb},{start:397,length:1,convRule:Bb},{start:398,length:1,convRule:hy},{start:399,length:1,convRule:fy},{start:400,length:1,convRule:dy},{start:401,length:1,convRule:sy},{start:402,length:1,convRule:Xb},{start:403,length:1,convRule:cy},{start:404,length:1,convRule:vy},{start:405,length:1,convRule:jb},{start:406,length:1,convRule:gy},{start:407,length:1,convRule:py},{start:408,length:1,convRule:sy},{start:409,length:1,convRule:Xb},{start:410,length:1,convRule:Gb},{start:411,length:1,convRule:Bb},{start:412,length:1,convRule:gy},{start:413,length:1,convRule:my},{start:414,length:1,convRule:Yb},{start:415,length:1,convRule:Ry},{start:416,length:1,convRule:sy},{start:417,length:1,convRule:Xb},{start:418,length:1,convRule:sy},{start:419,length:1,convRule:Xb},{start:420,length:1,convRule:sy},{start:421,length:1,convRule:Xb},{start:422,length:1,convRule:Oy},{start:423,length:1,convRule:sy},{start:424,length:1,convRule:Xb},{start:425,length:1,convRule:Oy},{start:426,length:2,convRule:Bb},{start:428,length:1,convRule:sy},{start:429,length:1,convRule:Xb},{start:430,length:1,convRule:Oy},{start:431,length:1,convRule:sy},{start:432,length:1,convRule:Xb},{start:433,length:2,convRule:wy},{start:435,length:1,convRule:sy},{start:436,length:1,convRule:Xb},{start:437,length:1,convRule:sy},{start:438,length:1,convRule:Xb},{start:439,length:1,convRule:xy},{start:440,length:1,convRule:sy},{start:441,length:1,convRule:Xb},{start:442,length:1,convRule:Bb},{start:443,length:1,convRule:qy},{start:444,length:1,convRule:sy},{start:445,length:1,convRule:Xb},{start:446,length:1,convRule:Bb},{start:447,length:1,convRule:Zb},{start:448,length:4,convRule:qy},{start:452,length:1,convRule:yy},{start:453,length:1,convRule:Uy},{start:454,length:1,convRule:Kb},{start:455,length:1,convRule:yy},{start:456,length:1,convRule:Uy},{start:457,length:1,convRule:Kb},{start:458,length:1,convRule:yy},{start:459,length:1,convRule:Uy},{start:460,length:1,convRule:Kb},{start:461,length:1,convRule:sy},{start:462,length:1,convRule:Xb},{start:463,length:1,convRule:sy},{start:464,length:1,convRule:Xb},{start:465,length:1,convRule:sy},{start:466,length:1,convRule:Xb},{start:467,length:1,convRule:sy},{start:468,length:1,convRule:Xb},{start:469,length:1,convRule:sy},{start:470,length:1,convRule:Xb},{start:471,length:1,convRule:sy},{start:472,length:1,convRule:Xb},{start:473,length:1,convRule:sy},{start:474,length:1,convRule:Xb},{start:475,length:1,convRule:sy},{start:476,length:1,convRule:Xb},{start:477,length:1,convRule:Jb},{start:478,length:1,convRule:sy},{start:479,length:1,convRule:Xb},{start:480,length:1,convRule:sy},{start:481,length:1,convRule:Xb},{start:482,length:1,convRule:sy},{start:483,length:1,convRule:Xb},{start:484,length:1,convRule:sy},{start:485,length:1,convRule:Xb},{start:486,length:1,convRule:sy},{start:487,length:1,convRule:Xb},{start:488,length:1,convRule:sy},{start:489,length:1,convRule:Xb},{start:490,length:1,convRule:sy},{start:491,length:1,convRule:Xb},{start:492,length:1,convRule:sy},{start:493,length:1,convRule:Xb},{start:494,length:1,convRule:sy},{start:495,length:1,convRule:Xb},{start:496,length:1,convRule:Bb},{start:497,length:1,convRule:yy},{start:498,length:1,convRule:Uy},{start:499,length:1,convRule:Kb},{start:500,length:1,convRule:sy},{start:501,length:1,convRule:Xb},{start:502,length:1,convRule:by},{start:503,length:1,convRule:ky},{start:504,length:1,convRule:sy},{start:505,length:1,convRule:Xb},{start:506,length:1,convRule:sy},{start:507,length:1,convRule:Xb},{start:508,length:1,convRule:sy},{start:509,length:1,convRule:Xb},{start:510,length:1,convRule:sy},{start:511,length:1,convRule:Xb},{start:512,length:1,convRule:sy},{start:513,length:1,convRule:Xb},{start:514,length:1,convRule:sy},{start:515,length:1,convRule:Xb},{start:516,length:1,convRule:sy},{start:517,length:1,convRule:Xb},{start:518,length:1,convRule:sy},{start:519,length:1,convRule:Xb},{start:520,length:1,convRule:sy},{start:521,length:1,convRule:Xb},{start:522,length:1,convRule:sy},{start:523,length:1,convRule:Xb},{start:524,length:1,convRule:sy},{start:525,length:1,convRule:Xb},{start:526,length:1,convRule:sy},{start:527,length:1,convRule:Xb},{start:528,length:1,convRule:sy},{start:529,length:1,convRule:Xb},{start:530,length:1,convRule:sy},{start:531,length:1,convRule:Xb},{start:532,length:1,convRule:sy},{start:533,length:1,convRule:Xb},{start:534,length:1,convRule:sy},{start:535,length:1,convRule:Xb},{start:536,length:1,convRule:sy},{start:537,length:1,convRule:Xb},{start:538,length:1,convRule:sy},{start:539,length:1,convRule:Xb},{start:540,length:1,convRule:sy},{start:541,length:1,convRule:Xb},{start:542,length:1,convRule:sy},{start:543,length:1,convRule:Xb},{start:544,length:1,convRule:Cy},{start:545,length:1,convRule:Bb},{start:546,length:1,convRule:sy},{start:547,length:1,convRule:Xb},{start:548,length:1,convRule:sy},{start:549,length:1,convRule:Xb},{start:550,length:1,convRule:sy},{start:551,length:1,convRule:Xb},{start:552,length:1,convRule:sy},{start:553,length:1,convRule:Xb},{start:554,length:1,convRule:sy},{start:555,length:1,convRule:Xb},{start:556,length:1,convRule:sy},{start:557,length:1,convRule:Xb},{start:558,length:1,convRule:sy},{start:559,length:1,convRule:Xb},{start:560,length:1,convRule:sy},{start:561,length:1,convRule:Xb},{start:562,length:1,convRule:sy},{start:563,length:1,convRule:Xb},{start:564,length:6,convRule:Bb},{start:570,length:1,convRule:Ty},{start:571,length:1,convRule:sy},{start:572,length:1,convRule:Xb},{start:573,length:1,convRule:Sy},{start:574,length:1,convRule:Ay},{start:575,length:2,convRule:tk},{start:577,length:1,convRule:sy},{start:578,length:1,convRule:Xb},{start:579,length:1,convRule:Py},{start:580,length:1,convRule:_y},{start:581,length:1,convRule:Ey},{start:582,length:1,convRule:sy},{start:583,length:1,convRule:Xb},{start:584,length:1,convRule:sy},{start:585,length:1,convRule:Xb},{start:586,length:1,convRule:sy},{start:587,length:1,convRule:Xb},{start:588,length:1,convRule:sy},{start:589,length:1,convRule:Xb},{start:590,length:1,convRule:sy},{start:591,length:1,convRule:Xb},{start:592,length:1,convRule:ek},{start:593,length:1,convRule:nk},{start:594,length:1,convRule:rk},{start:595,length:1,convRule:ik},{start:596,length:1,convRule:sk},{start:597,length:1,convRule:Bb},{start:598,length:2,convRule:ok},{start:600,length:1,convRule:Bb},{start:601,length:1,convRule:lk},{start:602,length:1,convRule:Bb},{start:603,length:1,convRule:ak},{start:604,length:1,convRule:uk},{start:605,length:3,convRule:Bb},{start:608,length:1,convRule:ok},{start:609,length:1,convRule:ck},{start:610,length:1,convRule:Bb},{start:611,length:1,convRule:hk},{start:612,length:1,convRule:Bb},{start:613,length:1,convRule:fk},{start:614,length:1,convRule:dk},{start:615,length:1,convRule:Bb},{start:616,length:1,convRule:vk},{start:617,length:1,convRule:gk},{start:618,length:1,convRule:dk},{start:619,length:1,convRule:pk},{start:620,length:1,convRule:mk},{start:621,length:2,convRule:Bb},{start:623,length:1,convRule:gk},{start:624,length:1,convRule:Bb},{start:625,length:1,convRule:Rk},{start:626,length:1,convRule:Ok},{start:627,length:2,convRule:Bb},{start:629,length:1,convRule:wk},{start:630,length:7,convRule:Bb},{start:637,length:1,convRule:xk},{start:638,length:2,convRule:Bb},{start:640,length:1,convRule:yk},{start:641,length:1,convRule:Bb},{start:642,length:1,convRule:bk},{start:643,length:1,convRule:yk},{start:644,length:3,convRule:Bb},{start:647,length:1,convRule:kk},{start:648,length:1,convRule:yk},{start:649,length:1,convRule:Ck},{start:650,length:2,convRule:Tk},{start:652,length:1,convRule:Sk},{start:653,length:5,convRule:Bb},{start:658,length:1,convRule:Ak},{start:659,length:1,convRule:Bb},{start:660,length:1,convRule:qy},{start:661,length:8,convRule:Bb},{start:669,length:1,convRule:Pk},{start:670,length:1,convRule:_k},{start:671,length:17,convRule:Bb},{start:688,length:18,convRule:Vy},{start:706,length:4,convRule:Uw},{start:710,length:12,convRule:Vy},{start:722,length:14,convRule:Uw},{start:736,length:5,convRule:Vy},{start:741,length:7,convRule:Uw},{start:748,length:1,convRule:Vy},{start:749,length:1,convRule:Uw},{start:750,length:1,convRule:Vy},{start:751,length:17,convRule:Uw},{start:768,length:69,convRule:ox},{start:837,length:1,convRule:lx},{start:838,length:42,convRule:ox},{start:880,length:1,convRule:sy},{start:881,length:1,convRule:Xb},{start:882,length:1,convRule:sy},{start:883,length:1,convRule:Xb},{start:884,length:1,convRule:Vy},{start:885,length:1,convRule:Uw},{start:886,length:1,convRule:sy},{start:887,length:1,convRule:Xb},{start:890,length:1,convRule:Vy},{start:891,length:3,convRule:Yb},{start:894,length:1,convRule:Xw},{start:895,length:1,convRule:Dy},{start:900,length:2,convRule:Uw},{start:902,length:1,convRule:Qy},{start:903,length:1,convRule:Xw},{start:904,length:3,convRule:Iy},{start:908,length:1,convRule:Ny},{start:910,length:2,convRule:My},{start:912,length:1,convRule:Bb},{start:913,length:17,convRule:Ly},{start:931,length:9,convRule:Ly},{start:940,length:1,convRule:Ek},{start:941,length:3,convRule:Wy},{start:944,length:1,convRule:Bb},{start:945,length:17,convRule:lb},{start:962,length:1,convRule:jy},{start:963,length:9,convRule:lb},{start:972,length:1,convRule:Gy},{start:973,length:2,convRule:Yy},{start:975,length:1,convRule:vx},{start:976,length:1,convRule:Zy},{start:977,length:1,convRule:Ky},{start:978,length:3,convRule:gx},{start:981,length:1,convRule:Jy},{start:982,length:1,convRule:tb},{start:983,length:1,convRule:eb},{start:984,length:1,convRule:sy},{start:985,length:1,convRule:Xb},{start:986,length:1,convRule:sy},{start:987,length:1,convRule:Xb},{start:988,length:1,convRule:sy},{start:989,length:1,convRule:Xb},{start:990,length:1,convRule:sy},{start:991,length:1,convRule:Xb},{start:992,length:1,convRule:sy},{start:993,length:1,convRule:Xb},{start:994,length:1,convRule:sy},{start:995,length:1,convRule:Xb},{start:996,length:1,convRule:sy},{start:997,length:1,convRule:Xb},{start:998,length:1,convRule:sy},{start:999,length:1,convRule:Xb},{start:1e3,length:1,convRule:sy},{start:1001,length:1,convRule:Xb},{start:1002,length:1,convRule:sy},{start:1003,length:1,convRule:Xb},{start:1004,length:1,convRule:sy},{start:1005,length:1,convRule:Xb},{start:1006,length:1,convRule:sy},{start:1007,length:1,convRule:Xb},{start:1008,length:1,convRule:nb},{start:1009,length:1,convRule:rb},{start:1010,length:1,convRule:ib},{start:1011,length:1,convRule:sb},{start:1012,length:1,convRule:px},{start:1013,length:1,convRule:ob},{start:1014,length:1,convRule:Bw},{start:1015,length:1,convRule:sy},{start:1016,length:1,convRule:Xb},{start:1017,length:1,convRule:mx},{start:1018,length:1,convRule:sy},{start:1019,length:1,convRule:Xb},{start:1020,length:1,convRule:Bb},{start:1021,length:3,convRule:Cy},{start:1024,length:16,convRule:Rx},{start:1040,length:32,convRule:Ly},{start:1072,length:32,convRule:lb},{start:1104,length:16,convRule:rb},{start:1120,length:1,convRule:sy},{start:1121,length:1,convRule:Xb},{start:1122,length:1,convRule:sy},{start:1123,length:1,convRule:Xb},{start:1124,length:1,convRule:sy},{start:1125,length:1,convRule:Xb},{start:1126,length:1,convRule:sy},{start:1127,length:1,convRule:Xb},{start:1128,length:1,convRule:sy},{start:1129,length:1,convRule:Xb},{start:1130,length:1,convRule:sy},{start:1131,length:1,convRule:Xb},{start:1132,length:1,convRule:sy},{start:1133,length:1,convRule:Xb},{start:1134,length:1,convRule:sy},{start:1135,length:1,convRule:Xb},{start:1136,length:1,convRule:sy},{start:1137,length:1,convRule:Xb},{start:1138,length:1,convRule:sy},{start:1139,length:1,convRule:Xb},{start:1140,length:1,convRule:sy},{start:1141,length:1,convRule:Xb},{start:1142,length:1,convRule:sy},{start:1143,length:1,convRule:Xb},{start:1144,length:1,convRule:sy},{start:1145,length:1,convRule:Xb},{start:1146,length:1,convRule:sy},{start:1147,length:1,convRule:Xb},{start:1148,length:1,convRule:sy},{start:1149,length:1,convRule:Xb},{start:1150,length:1,convRule:sy},{start:1151,length:1,convRule:Xb},{start:1152,length:1,convRule:sy},{start:1153,length:1,convRule:Xb},{start:1154,length:1,convRule:Mw},{start:1155,length:5,convRule:ox},{start:1160,length:2,convRule:ux},{start:1162,length:1,convRule:sy},{start:1163,length:1,convRule:Xb},{start:1164,length:1,convRule:sy},{start:1165,length:1,convRule:Xb},{start:1166,length:1,convRule:sy},{start:1167,length:1,convRule:Xb},{start:1168,length:1,convRule:sy},{start:1169,length:1,convRule:Xb},{start:1170,length:1,convRule:sy},{start:1171,length:1,convRule:Xb},{start:1172,length:1,convRule:sy},{start:1173,length:1,convRule:Xb},{start:1174,length:1,convRule:sy},{start:1175,length:1,convRule:Xb},{start:1176,length:1,convRule:sy},{start:1177,length:1,convRule:Xb},{start:1178,length:1,convRule:sy},{start:1179,length:1,convRule:Xb},{start:1180,length:1,convRule:sy},{start:1181,length:1,convRule:Xb},{start:1182,length:1,convRule:sy},{start:1183,length:1,convRule:Xb},{start:1184,length:1,convRule:sy},{start:1185,length:1,convRule:Xb},{start:1186,length:1,convRule:sy},{start:1187,length:1,convRule:Xb},{start:1188,length:1,convRule:sy},{start:1189,length:1,convRule:Xb},{start:1190,length:1,convRule:sy},{start:1191,length:1,convRule:Xb},{start:1192,length:1,convRule:sy},{start:1193,length:1,convRule:Xb},{start:1194,length:1,convRule:sy},{start:1195,length:1,convRule:Xb},{start:1196,length:1,convRule:sy},{start:1197,length:1,convRule:Xb},{start:1198,length:1,convRule:sy},{start:1199,length:1,convRule:Xb},{start:1200,length:1,convRule:sy},{start:1201,length:1,convRule:Xb},{start:1202,length:1,convRule:sy},{start:1203,length:1,convRule:Xb},{start:1204,length:1,convRule:sy},{start:1205,length:1,convRule:Xb},{start:1206,length:1,convRule:sy},{start:1207,length:1,convRule:Xb},{start:1208,length:1,convRule:sy},{start:1209,length:1,convRule:Xb},{start:1210,length:1,convRule:sy},{start:1211,length:1,convRule:Xb},{start:1212,length:1,convRule:sy},{start:1213,length:1,convRule:Xb},{start:1214,length:1,convRule:sy},{start:1215,length:1,convRule:Xb},{start:1216,length:1,convRule:Ox},{start:1217,length:1,convRule:sy},{start:1218,length:1,convRule:Xb},{start:1219,length:1,convRule:sy},{start:1220,length:1,convRule:Xb},{start:1221,length:1,convRule:sy},{start:1222,length:1,convRule:Xb},{start:1223,length:1,convRule:sy},{start:1224,length:1,convRule:Xb},{start:1225,length:1,convRule:sy},{start:1226,length:1,convRule:Xb},{start:1227,length:1,convRule:sy},{start:1228,length:1,convRule:Xb},{start:1229,length:1,convRule:sy},{start:1230,length:1,convRule:Xb},{start:1231,length:1,convRule:ab},{start:1232,length:1,convRule:sy},{start:1233,length:1,convRule:Xb},{start:1234,length:1,convRule:sy},{start:1235,length:1,convRule:Xb},{start:1236,length:1,convRule:sy},{start:1237,length:1,convRule:Xb},{start:1238,length:1,convRule:sy},{start:1239,length:1,convRule:Xb},{start:1240,length:1,convRule:sy},{start:1241,length:1,convRule:Xb},{start:1242,length:1,convRule:sy},{start:1243,length:1,convRule:Xb},{start:1244,length:1,convRule:sy},{start:1245,length:1,convRule:Xb},{start:1246,length:1,convRule:sy},{start:1247,length:1,convRule:Xb},{start:1248,length:1,convRule:sy},{start:1249,length:1,convRule:Xb},{start:1250,length:1,convRule:sy},{start:1251,length:1,convRule:Xb},{start:1252,length:1,convRule:sy},{start:1253,length:1,convRule:Xb},{start:1254,length:1,convRule:sy},{start:1255,length:1,convRule:Xb},{start:1256,length:1,convRule:sy},{start:1257,length:1,convRule:Xb},{start:1258,length:1,convRule:sy},{start:1259,length:1,convRule:Xb},{start:1260,length:1,convRule:sy},{start:1261,length:1,convRule:Xb},{start:1262,length:1,convRule:sy},{start:1263,length:1,convRule:Xb},{start:1264,length:1,convRule:sy},{start:1265,length:1,convRule:Xb},{start:1266,length:1,convRule:sy},{start:1267,length:1,convRule:Xb},{start:1268,length:1,convRule:sy},{start:1269,length:1,convRule:Xb},{start:1270,length:1,convRule:sy},{start:1271,length:1,convRule:Xb},{start:1272,length:1,convRule:sy},{start:1273,length:1,convRule:Xb},{start:1274,length:1,convRule:sy},{start:1275,length:1,convRule:Xb},{start:1276,length:1,convRule:sy},{start:1277,length:1,convRule:Xb},{start:1278,length:1,convRule:sy},{start:1279,length:1,convRule:Xb},{start:1280,length:1,convRule:sy},{start:1281,length:1,convRule:Xb},{start:1282,length:1,convRule:sy},{start:1283,length:1,convRule:Xb},{start:1284,length:1,convRule:sy},{start:1285,length:1,convRule:Xb},{start:1286,length:1,convRule:sy},{start:1287,length:1,convRule:Xb},{start:1288,length:1,convRule:sy},{start:1289,length:1,convRule:Xb},{start:1290,length:1,convRule:sy},{start:1291,length:1,convRule:Xb},{start:1292,length:1,convRule:sy},{start:1293,length:1,convRule:Xb},{start:1294,length:1,convRule:sy},{start:1295,length:1,convRule:Xb},{start:1296,length:1,convRule:sy},{start:1297,length:1,convRule:Xb},{start:1298,length:1,convRule:sy},{start:1299,length:1,convRule:Xb},{start:1300,length:1,convRule:sy},{start:1301,length:1,convRule:Xb},{start:1302,length:1,convRule:sy},{start:1303,length:1,convRule:Xb},{start:1304,length:1,convRule:sy},{start:1305,length:1,convRule:Xb},{start:1306,length:1,convRule:sy},{start:1307,length:1,convRule:Xb},{start:1308,length:1,convRule:sy},{start:1309,length:1,convRule:Xb},{start:1310,length:1,convRule:sy},{start:1311,length:1,convRule:Xb},{start:1312,length:1,convRule:sy},{start:1313,length:1,convRule:Xb},{start:1314,length:1,convRule:sy},{start:1315,length:1,convRule:Xb},{start:1316,length:1,convRule:sy},{start:1317,length:1,convRule:Xb},{start:1318,length:1,convRule:sy},{start:1319,length:1,convRule:Xb},{start:1320,length:1,convRule:sy},{start:1321,length:1,convRule:Xb},{start:1322,length:1,convRule:sy},{start:1323,length:1,convRule:Xb},{start:1324,length:1,convRule:sy},{start:1325,length:1,convRule:Xb},{start:1326,length:1,convRule:sy},{start:1327,length:1,convRule:Xb},{start:1329,length:38,convRule:wx},{start:1369,length:1,convRule:Vy},{start:1370,length:6,convRule:Xw},{start:1376,length:1,convRule:Bb},{start:1377,length:38,convRule:ub},{start:1415,length:2,convRule:Bb},{start:1417,length:1,convRule:Xw},{start:1418,length:1,convRule:Gw},{start:1421,length:2,convRule:Mw},{start:1423,length:1,convRule:Hw},{start:1425,length:45,convRule:ox},{start:1470,length:1,convRule:Gw},{start:1471,length:1,convRule:ox},{start:1472,length:1,convRule:Xw},{start:1473,length:2,convRule:ox},{start:1475,length:1,convRule:Xw},{start:1476,length:2,convRule:ox},{start:1478,length:1,convRule:Xw},{start:1479,length:1,convRule:ox},{start:1488,length:27,convRule:qy},{start:1519,length:4,convRule:qy},{start:1523,length:2,convRule:Xw},{start:1536,length:6,convRule:Qk},{start:1542,length:3,convRule:Bw},{start:1545,length:2,convRule:Xw},{start:1547,length:1,convRule:Hw},{start:1548,length:2,convRule:Xw},{start:1550,length:2,convRule:Mw},{start:1552,length:11,convRule:ox},{start:1563,length:1,convRule:Xw},{start:1564,length:1,convRule:Qk},{start:1566,length:2,convRule:Xw},{start:1568,length:32,convRule:qy},{start:1600,length:1,convRule:Vy},{start:1601,length:10,convRule:qy},{start:1611,length:21,convRule:ox},{start:1632,length:10,convRule:ix},{start:1642,length:4,convRule:Xw},{start:1646,length:2,convRule:qy},{start:1648,length:1,convRule:ox},{start:1649,length:99,convRule:qy},{start:1748,length:1,convRule:Xw},{start:1749,length:1,convRule:qy},{start:1750,length:7,convRule:ox},{start:1757,length:1,convRule:Qk},{start:1758,length:1,convRule:Mw},{start:1759,length:6,convRule:ox},{start:1765,length:2,convRule:Vy},{start:1767,length:2,convRule:ox},{start:1769,length:1,convRule:Mw},{start:1770,length:4,convRule:ox},{start:1774,length:2,convRule:qy},{start:1776,length:10,convRule:ix},{start:1786,length:3,convRule:qy},{start:1789,length:2,convRule:Mw},{start:1791,length:1,convRule:qy},{start:1792,length:14,convRule:Xw},{start:1807,length:1,convRule:Qk},{start:1808,length:1,convRule:qy},{start:1809,length:1,convRule:ox},{start:1810,length:30,convRule:qy},{start:1840,length:27,convRule:ox},{start:1869,length:89,convRule:qy},{start:1958,length:11,convRule:ox},{start:1969,length:1,convRule:qy},{start:1984,length:10,convRule:ix},{start:1994,length:33,convRule:qy},{start:2027,length:9,convRule:ox},{start:2036,length:2,convRule:Vy},{start:2038,length:1,convRule:Mw},{start:2039,length:3,convRule:Xw},{start:2042,length:1,convRule:Vy},{start:2045,length:1,convRule:ox},{start:2046,length:2,convRule:Hw},{start:2048,length:22,convRule:qy},{start:2070,length:4,convRule:ox},{start:2074,length:1,convRule:Vy},{start:2075,length:9,convRule:ox},{start:2084,length:1,convRule:Vy},{start:2085,length:3,convRule:ox},{start:2088,length:1,convRule:Vy},{start:2089,length:5,convRule:ox},{start:2096,length:15,convRule:Xw},{start:2112,length:25,convRule:qy},{start:2137,length:3,convRule:ox},{start:2142,length:1,convRule:Xw},{start:2144,length:11,convRule:qy},{start:2208,length:21,convRule:qy},{start:2230,length:18,convRule:qy},{start:2259,length:15,convRule:ox},{start:2274,length:1,convRule:Qk},{start:2275,length:32,convRule:ox},{start:2307,length:1,convRule:hx},{start:2308,length:54,convRule:qy},{start:2362,length:1,convRule:ox},{start:2363,length:1,convRule:hx},{start:2364,length:1,convRule:ox},{start:2365,length:1,convRule:qy},{start:2366,length:3,convRule:hx},{start:2369,length:8,convRule:ox},{start:2377,length:4,convRule:hx},{start:2381,length:1,convRule:ox},{start:2382,length:2,convRule:hx},{start:2384,length:1,convRule:qy},{start:2385,length:7,convRule:ox},{start:2392,length:10,convRule:qy},{start:2402,length:2,convRule:ox},{start:2404,length:2,convRule:Xw},{start:2406,length:10,convRule:ix},{start:2416,length:1,convRule:Xw},{start:2417,length:1,convRule:Vy},{start:2418,length:15,convRule:qy},{start:2433,length:1,convRule:ox},{start:2434,length:2,convRule:hx},{start:2437,length:8,convRule:qy},{start:2447,length:2,convRule:qy},{start:2451,length:22,convRule:qy},{start:2474,length:7,convRule:qy},{start:2482,length:1,convRule:qy},{start:2486,length:4,convRule:qy},{start:2492,length:1,convRule:ox},{start:2493,length:1,convRule:qy},{start:2494,length:3,convRule:hx},{start:2497,length:4,convRule:ox},{start:2503,length:2,convRule:hx},{start:2507,length:2,convRule:hx},{start:2509,length:1,convRule:ox},{start:2510,length:1,convRule:qy},{start:2519,length:1,convRule:hx},{start:2524,length:2,convRule:qy},{start:2527,length:3,convRule:qy},{start:2530,length:2,convRule:ox},{start:2534,length:10,convRule:ix},{start:2544,length:2,convRule:qy},{start:2546,length:2,convRule:Hw},{start:2548,length:6,convRule:Kw},{start:2554,length:1,convRule:Mw},{start:2555,length:1,convRule:Hw},{start:2556,length:1,convRule:qy},{start:2557,length:1,convRule:Xw},{start:2558,length:1,convRule:ox},{start:2561,length:2,convRule:ox},{start:2563,length:1,convRule:hx},{start:2565,length:6,convRule:qy},{start:2575,length:2,convRule:qy},{start:2579,length:22,convRule:qy},{start:2602,length:7,convRule:qy},{start:2610,length:2,convRule:qy},{start:2613,length:2,convRule:qy},{start:2616,length:2,convRule:qy},{start:2620,length:1,convRule:ox},{start:2622,length:3,convRule:hx},{start:2625,length:2,convRule:ox},{start:2631,length:2,convRule:ox},{start:2635,length:3,convRule:ox},{start:2641,length:1,convRule:ox},{start:2649,length:4,convRule:qy},{start:2654,length:1,convRule:qy},{start:2662,length:10,convRule:ix},{start:2672,length:2,convRule:ox},{start:2674,length:3,convRule:qy},{start:2677,length:1,convRule:ox},{start:2678,length:1,convRule:Xw},{start:2689,length:2,convRule:ox},{start:2691,length:1,convRule:hx},{start:2693,length:9,convRule:qy},{start:2703,length:3,convRule:qy},{start:2707,length:22,convRule:qy},{start:2730,length:7,convRule:qy},{start:2738,length:2,convRule:qy},{start:2741,length:5,convRule:qy},{start:2748,length:1,convRule:ox},{start:2749,length:1,convRule:qy},{start:2750,length:3,convRule:hx},{start:2753,length:5,convRule:ox},{start:2759,length:2,convRule:ox},{start:2761,length:1,convRule:hx},{start:2763,length:2,convRule:hx},{start:2765,length:1,convRule:ox},{start:2768,length:1,convRule:qy},{start:2784,length:2,convRule:qy},{start:2786,length:2,convRule:ox},{start:2790,length:10,convRule:ix},{start:2800,length:1,convRule:Xw},{start:2801,length:1,convRule:Hw},{start:2809,length:1,convRule:qy},{start:2810,length:6,convRule:ox},{start:2817,length:1,convRule:ox},{start:2818,length:2,convRule:hx},{start:2821,length:8,convRule:qy},{start:2831,length:2,convRule:qy},{start:2835,length:22,convRule:qy},{start:2858,length:7,convRule:qy},{start:2866,length:2,convRule:qy},{start:2869,length:5,convRule:qy},{start:2876,length:1,convRule:ox},{start:2877,length:1,convRule:qy},{start:2878,length:1,convRule:hx},{start:2879,length:1,convRule:ox},{start:2880,length:1,convRule:hx},{start:2881,length:4,convRule:ox},{start:2887,length:2,convRule:hx},{start:2891,length:2,convRule:hx},{start:2893,length:1,convRule:ox},{start:2901,length:2,convRule:ox},{start:2903,length:1,convRule:hx},{start:2908,length:2,convRule:qy},{start:2911,length:3,convRule:qy},{start:2914,length:2,convRule:ox},{start:2918,length:10,convRule:ix},{start:2928,length:1,convRule:Mw},{start:2929,length:1,convRule:qy},{start:2930,length:6,convRule:Kw},{start:2946,length:1,convRule:ox},{start:2947,length:1,convRule:qy},{start:2949,length:6,convRule:qy},{start:2958,length:3,convRule:qy},{start:2962,length:4,convRule:qy},{start:2969,length:2,convRule:qy},{start:2972,length:1,convRule:qy},{start:2974,length:2,convRule:qy},{start:2979,length:2,convRule:qy},{start:2984,length:3,convRule:qy},{start:2990,length:12,convRule:qy},{start:3006,length:2,convRule:hx},{start:3008,length:1,convRule:ox},{start:3009,length:2,convRule:hx},{start:3014,length:3,convRule:hx},{start:3018,length:3,convRule:hx},{start:3021,length:1,convRule:ox},{start:3024,length:1,convRule:qy},{start:3031,length:1,convRule:hx},{start:3046,length:10,convRule:ix},{start:3056,length:3,convRule:Kw},{start:3059,length:6,convRule:Mw},{start:3065,length:1,convRule:Hw},{start:3066,length:1,convRule:Mw},{start:3072,length:1,convRule:ox},{start:3073,length:3,convRule:hx},{start:3076,length:1,convRule:ox},{start:3077,length:8,convRule:qy},{start:3086,length:3,convRule:qy},{start:3090,length:23,convRule:qy},{start:3114,length:16,convRule:qy},{start:3133,length:1,convRule:qy},{start:3134,length:3,convRule:ox},{start:3137,length:4,convRule:hx},{start:3142,length:3,convRule:ox},{start:3146,length:4,convRule:ox},{start:3157,length:2,convRule:ox},{start:3160,length:3,convRule:qy},{start:3168,length:2,convRule:qy},{start:3170,length:2,convRule:ox},{start:3174,length:10,convRule:ix},{start:3191,length:1,convRule:Xw},{start:3192,length:7,convRule:Kw},{start:3199,length:1,convRule:Mw},{start:3200,length:1,convRule:qy},{start:3201,length:1,convRule:ox},{start:3202,length:2,convRule:hx},{start:3204,length:1,convRule:Xw},{start:3205,length:8,convRule:qy},{start:3214,length:3,convRule:qy},{start:3218,length:23,convRule:qy},{start:3242,length:10,convRule:qy},{start:3253,length:5,convRule:qy},{start:3260,length:1,convRule:ox},{start:3261,length:1,convRule:qy},{start:3262,length:1,convRule:hx},{start:3263,length:1,convRule:ox},{start:3264,length:5,convRule:hx},{start:3270,length:1,convRule:ox},{start:3271,length:2,convRule:hx},{start:3274,length:2,convRule:hx},{start:3276,length:2,convRule:ox},{start:3285,length:2,convRule:hx},{start:3294,length:1,convRule:qy},{start:3296,length:2,convRule:qy},{start:3298,length:2,convRule:ox},{start:3302,length:10,convRule:ix},{start:3313,length:2,convRule:qy},{start:3328,length:2,convRule:ox},{start:3330,length:2,convRule:hx},{start:3332,length:9,convRule:qy},{start:3342,length:3,convRule:qy},{start:3346,length:41,convRule:qy},{start:3387,length:2,convRule:ox},{start:3389,length:1,convRule:qy},{start:3390,length:3,convRule:hx},{start:3393,length:4,convRule:ox},{start:3398,length:3,convRule:hx},{start:3402,length:3,convRule:hx},{start:3405,length:1,convRule:ox},{start:3406,length:1,convRule:qy},{start:3407,length:1,convRule:Mw},{start:3412,length:3,convRule:qy},{start:3415,length:1,convRule:hx},{start:3416,length:7,convRule:Kw},{start:3423,length:3,convRule:qy},{start:3426,length:2,convRule:ox},{start:3430,length:10,convRule:ix},{start:3440,length:9,convRule:Kw},{start:3449,length:1,convRule:Mw},{start:3450,length:6,convRule:qy},{start:3457,length:1,convRule:ox},{start:3458,length:2,convRule:hx},{start:3461,length:18,convRule:qy},{start:3482,length:24,convRule:qy},{start:3507,length:9,convRule:qy},{start:3517,length:1,convRule:qy},{start:3520,length:7,convRule:qy},{start:3530,length:1,convRule:ox},{start:3535,length:3,convRule:hx},{start:3538,length:3,convRule:ox},{start:3542,length:1,convRule:ox},{start:3544,length:8,convRule:hx},{start:3558,length:10,convRule:ix},{start:3570,length:2,convRule:hx},{start:3572,length:1,convRule:Xw},{start:3585,length:48,convRule:qy},{start:3633,length:1,convRule:ox},{start:3634,length:2,convRule:qy},{start:3636,length:7,convRule:ox},{start:3647,length:1,convRule:Hw},{start:3648,length:6,convRule:qy},{start:3654,length:1,convRule:Vy},{start:3655,length:8,convRule:ox},{start:3663,length:1,convRule:Xw},{start:3664,length:10,convRule:ix},{start:3674,length:2,convRule:Xw},{start:3713,length:2,convRule:qy},{start:3716,length:1,convRule:qy},{start:3718,length:5,convRule:qy},{start:3724,length:24,convRule:qy},{start:3749,length:1,convRule:qy},{start:3751,length:10,convRule:qy},{start:3761,length:1,convRule:ox},{start:3762,length:2,convRule:qy},{start:3764,length:9,convRule:ox},{start:3773,length:1,convRule:qy},{start:3776,length:5,convRule:qy},{start:3782,length:1,convRule:Vy},{start:3784,length:6,convRule:ox},{start:3792,length:10,convRule:ix},{start:3804,length:4,convRule:qy},{start:3840,length:1,convRule:qy},{start:3841,length:3,convRule:Mw},{start:3844,length:15,convRule:Xw},{start:3859,length:1,convRule:Mw},{start:3860,length:1,convRule:Xw},{start:3861,length:3,convRule:Mw},{start:3864,length:2,convRule:ox},{start:3866,length:6,convRule:Mw},{start:3872,length:10,convRule:ix},{start:3882,length:10,convRule:Kw},{start:3892,length:1,convRule:Mw},{start:3893,length:1,convRule:ox},{start:3894,length:1,convRule:Mw},{start:3895,length:1,convRule:ox},{start:3896,length:1,convRule:Mw},{start:3897,length:1,convRule:ox},{start:3898,length:1,convRule:qw},{start:3899,length:1,convRule:jw},{start:3900,length:1,convRule:qw},{start:3901,length:1,convRule:jw},{start:3902,length:2,convRule:hx},{start:3904,length:8,convRule:qy},{start:3913,length:36,convRule:qy},{start:3953,length:14,convRule:ox},{start:3967,length:1,convRule:hx},{start:3968,length:5,convRule:ox},{start:3973,length:1,convRule:Xw},{start:3974,length:2,convRule:ox},{start:3976,length:5,convRule:qy},{start:3981,length:11,convRule:ox},{start:3993,length:36,convRule:ox},{start:4030,length:8,convRule:Mw},{start:4038,length:1,convRule:ox},{start:4039,length:6,convRule:Mw},{start:4046,length:2,convRule:Mw},{start:4048,length:5,convRule:Xw},{start:4053,length:4,convRule:Mw},{start:4057,length:2,convRule:Xw},{start:4096,length:43,convRule:qy},{start:4139,length:2,convRule:hx},{start:4141,length:4,convRule:ox},{start:4145,length:1,convRule:hx},{start:4146,length:6,convRule:ox},{start:4152,length:1,convRule:hx},{start:4153,length:2,convRule:ox},{start:4155,length:2,convRule:hx},{start:4157,length:2,convRule:ox},{start:4159,length:1,convRule:qy},{start:4160,length:10,convRule:ix},{start:4170,length:6,convRule:Xw},{start:4176,length:6,convRule:qy},{start:4182,length:2,convRule:hx},{start:4184,length:2,convRule:ox},{start:4186,length:4,convRule:qy},{start:4190,length:3,convRule:ox},{start:4193,length:1,convRule:qy},{start:4194,length:3,convRule:hx},{start:4197,length:2,convRule:qy},{start:4199,length:7,convRule:hx},{start:4206,length:3,convRule:qy},{start:4209,length:4,convRule:ox},{start:4213,length:13,convRule:qy},{start:4226,length:1,convRule:ox},{start:4227,length:2,convRule:hx},{start:4229,length:2,convRule:ox},{start:4231,length:6,convRule:hx},{start:4237,length:1,convRule:ox},{start:4238,length:1,convRule:qy},{start:4239,length:1,convRule:hx},{start:4240,length:10,convRule:ix},{start:4250,length:3,convRule:hx},{start:4253,length:1,convRule:ox},{start:4254,length:2,convRule:Mw},{start:4256,length:38,convRule:xx},{start:4295,length:1,convRule:xx},{start:4301,length:1,convRule:xx},{start:4304,length:43,convRule:cb},{start:4347,length:1,convRule:Xw},{start:4348,length:1,convRule:Vy},{start:4349,length:3,convRule:cb},{start:4352,length:329,convRule:qy},{start:4682,length:4,convRule:qy},{start:4688,length:7,convRule:qy},{start:4696,length:1,convRule:qy},{start:4698,length:4,convRule:qy},{start:4704,length:41,convRule:qy},{start:4746,length:4,convRule:qy},{start:4752,length:33,convRule:qy},{start:4786,length:4,convRule:qy},{start:4792,length:7,convRule:qy},{start:4800,length:1,convRule:qy},{start:4802,length:4,convRule:qy},{start:4808,length:15,convRule:qy},{start:4824,length:57,convRule:qy},{start:4882,length:4,convRule:qy},{start:4888,length:67,convRule:qy},{start:4957,length:3,convRule:ox},{start:4960,length:9,convRule:Xw},{start:4969,length:20,convRule:Kw},{start:4992,length:16,convRule:qy},{start:5008,length:10,convRule:Mw},{start:5024,length:80,convRule:yx},{start:5104,length:6,convRule:vx},{start:5112,length:6,convRule:eb},{start:5120,length:1,convRule:Gw},{start:5121,length:620,convRule:qy},{start:5741,length:1,convRule:Mw},{start:5742,length:1,convRule:Xw},{start:5743,length:17,convRule:qy},{start:5760,length:1,convRule:Dw},{start:5761,length:26,convRule:qy},{start:5787,length:1,convRule:qw},{start:5788,length:1,convRule:jw},{start:5792,length:75,convRule:qy},{start:5867,length:3,convRule:Xw},{start:5870,length:3,convRule:tx},{start:5873,length:8,convRule:qy},{start:5888,length:13,convRule:qy},{start:5902,length:4,convRule:qy},{start:5906,length:3,convRule:ox},{start:5920,length:18,convRule:qy},{start:5938,length:3,convRule:ox},{start:5941,length:2,convRule:Xw},{start:5952,length:18,convRule:qy},{start:5970,length:2,convRule:ox},{start:5984,length:13,convRule:qy},{start:5998,length:3,convRule:qy},{start:6002,length:2,convRule:ox},{start:6016,length:52,convRule:qy},{start:6068,length:2,convRule:ox},{start:6070,length:1,convRule:hx},{start:6071,length:7,convRule:ox},{start:6078,length:8,convRule:hx},{start:6086,length:1,convRule:ox},{start:6087,length:2,convRule:hx},{start:6089,length:11,convRule:ox},{start:6100,length:3,convRule:Xw},{start:6103,length:1,convRule:Vy},{start:6104,length:3,convRule:Xw},{start:6107,length:1,convRule:Hw},{start:6108,length:1,convRule:qy},{start:6109,length:1,convRule:ox},{start:6112,length:10,convRule:ix},{start:6128,length:10,convRule:Kw},{start:6144,length:6,convRule:Xw},{start:6150,length:1,convRule:Gw},{start:6151,length:4,convRule:Xw},{start:6155,length:3,convRule:ox},{start:6158,length:1,convRule:Qk},{start:6160,length:10,convRule:ix},{start:6176,length:35,convRule:qy},{start:6211,length:1,convRule:Vy},{start:6212,length:53,convRule:qy},{start:6272,length:5,convRule:qy},{start:6277,length:2,convRule:ox},{start:6279,length:34,convRule:qy},{start:6313,length:1,convRule:ox},{start:6314,length:1,convRule:qy},{start:6320,length:70,convRule:qy},{start:6400,length:31,convRule:qy},{start:6432,length:3,convRule:ox},{start:6435,length:4,convRule:hx},{start:6439,length:2,convRule:ox},{start:6441,length:3,convRule:hx},{start:6448,length:2,convRule:hx},{start:6450,length:1,convRule:ox},{start:6451,length:6,convRule:hx},{start:6457,length:3,convRule:ox},{start:6464,length:1,convRule:Mw},{start:6468,length:2,convRule:Xw},{start:6470,length:10,convRule:ix},{start:6480,length:30,convRule:qy},{start:6512,length:5,convRule:qy},{start:6528,length:44,convRule:qy},{start:6576,length:26,convRule:qy},{start:6608,length:10,convRule:ix},{start:6618,length:1,convRule:Kw},{start:6622,length:34,convRule:Mw},{start:6656,length:23,convRule:qy},{start:6679,length:2,convRule:ox},{start:6681,length:2,convRule:hx},{start:6683,length:1,convRule:ox},{start:6686,length:2,convRule:Xw},{start:6688,length:53,convRule:qy},{start:6741,length:1,convRule:hx},{start:6742,length:1,convRule:ox},{start:6743,length:1,convRule:hx},{start:6744,length:7,convRule:ox},{start:6752,length:1,convRule:ox},{start:6753,length:1,convRule:hx},{start:6754,length:1,convRule:ox},{start:6755,length:2,convRule:hx},{start:6757,length:8,convRule:ox},{start:6765,length:6,convRule:hx},{start:6771,length:10,convRule:ox},{start:6783,length:1,convRule:ox},{start:6784,length:10,convRule:ix},{start:6800,length:10,convRule:ix},{start:6816,length:7,convRule:Xw},{start:6823,length:1,convRule:Vy},{start:6824,length:6,convRule:Xw},{start:6832,length:14,convRule:ox},{start:6846,length:1,convRule:ux},{start:6847,length:2,convRule:ox},{start:6912,length:4,convRule:ox},{start:6916,length:1,convRule:hx},{start:6917,length:47,convRule:qy},{start:6964,length:1,convRule:ox},{start:6965,length:1,convRule:hx},{start:6966,length:5,convRule:ox},{start:6971,length:1,convRule:hx},{start:6972,length:1,convRule:ox},{start:6973,length:5,convRule:hx},{start:6978,length:1,convRule:ox},{start:6979,length:2,convRule:hx},{start:6981,length:7,convRule:qy},{start:6992,length:10,convRule:ix},{start:7002,length:7,convRule:Xw},{start:7009,length:10,convRule:Mw},{start:7019,length:9,convRule:ox},{start:7028,length:9,convRule:Mw},{start:7040,length:2,convRule:ox},{start:7042,length:1,convRule:hx},{start:7043,length:30,convRule:qy},{start:7073,length:1,convRule:hx},{start:7074,length:4,convRule:ox},{start:7078,length:2,convRule:hx},{start:7080,length:2,convRule:ox},{start:7082,length:1,convRule:hx},{start:7083,length:3,convRule:ox},{start:7086,length:2,convRule:qy},{start:7088,length:10,convRule:ix},{start:7098,length:44,convRule:qy},{start:7142,length:1,convRule:ox},{start:7143,length:1,convRule:hx},{start:7144,length:2,convRule:ox},{start:7146,length:3,convRule:hx},{start:7149,length:1,convRule:ox},{start:7150,length:1,convRule:hx},{start:7151,length:3,convRule:ox},{start:7154,length:2,convRule:hx},{start:7164,length:4,convRule:Xw},{start:7168,length:36,convRule:qy},{start:7204,length:8,convRule:hx},{start:7212,length:8,convRule:ox},{start:7220,length:2,convRule:hx},{start:7222,length:2,convRule:ox},{start:7227,length:5,convRule:Xw},{start:7232,length:10,convRule:ix},{start:7245,length:3,convRule:qy},{start:7248,length:10,convRule:ix},{start:7258,length:30,convRule:qy},{start:7288,length:6,convRule:Vy},{start:7294,length:2,convRule:Xw},{start:7296,length:1,convRule:hb},{start:7297,length:1,convRule:fb},{start:7298,length:1,convRule:db},{start:7299,length:2,convRule:vb},{start:7301,length:1,convRule:gb},{start:7302,length:1,convRule:pb},{start:7303,length:1,convRule:mb},{start:7304,length:1,convRule:Rb},{start:7312,length:43,convRule:bx},{start:7357,length:3,convRule:bx},{start:7360,length:8,convRule:Xw},{start:7376,length:3,convRule:ox},{start:7379,length:1,convRule:Xw},{start:7380,length:13,convRule:ox},{start:7393,length:1,convRule:hx},{start:7394,length:7,convRule:ox},{start:7401,length:4,convRule:qy},{start:7405,length:1,convRule:ox},{start:7406,length:6,convRule:qy},{start:7412,length:1,convRule:ox},{start:7413,length:2,convRule:qy},{start:7415,length:1,convRule:hx},{start:7416,length:2,convRule:ox},{start:7418,length:1,convRule:qy},{start:7424,length:44,convRule:Bb},{start:7468,length:63,convRule:Vy},{start:7531,length:13,convRule:Bb},{start:7544,length:1,convRule:Vy},{start:7545,length:1,convRule:Ob},{start:7546,length:3,convRule:Bb},{start:7549,length:1,convRule:wb},{start:7550,length:16,convRule:Bb},{start:7566,length:1,convRule:xb},{start:7567,length:12,convRule:Bb},{start:7579,length:37,convRule:Vy},{start:7616,length:58,convRule:ox},{start:7675,length:5,convRule:ox},{start:7680,length:1,convRule:sy},{start:7681,length:1,convRule:Xb},{start:7682,length:1,convRule:sy},{start:7683,length:1,convRule:Xb},{start:7684,length:1,convRule:sy},{start:7685,length:1,convRule:Xb},{start:7686,length:1,convRule:sy},{start:7687,length:1,convRule:Xb},{start:7688,length:1,convRule:sy},{start:7689,length:1,convRule:Xb},{start:7690,length:1,convRule:sy},{start:7691,length:1,convRule:Xb},{start:7692,length:1,convRule:sy},{start:7693,length:1,convRule:Xb},{start:7694,length:1,convRule:sy},{start:7695,length:1,convRule:Xb},{start:7696,length:1,convRule:sy},{start:7697,length:1,convRule:Xb},{start:7698,length:1,convRule:sy},{start:7699,length:1,convRule:Xb},{start:7700,length:1,convRule:sy},{start:7701,length:1,convRule:Xb},{start:7702,length:1,convRule:sy},{start:7703,length:1,convRule:Xb},{start:7704,length:1,convRule:sy},{start:7705,length:1,convRule:Xb},{start:7706,length:1,convRule:sy},{start:7707,length:1,convRule:Xb},{start:7708,length:1,convRule:sy},{start:7709,length:1,convRule:Xb},{start:7710,length:1,convRule:sy},{start:7711,length:1,convRule:Xb},{start:7712,length:1,convRule:sy},{start:7713,length:1,convRule:Xb},{start:7714,length:1,convRule:sy},{start:7715,length:1,convRule:Xb},{start:7716,length:1,convRule:sy},{start:7717,length:1,convRule:Xb},{start:7718,length:1,convRule:sy},{start:7719,length:1,convRule:Xb},{start:7720,length:1,convRule:sy},{start:7721,length:1,convRule:Xb},{start:7722,length:1,convRule:sy},{start:7723,length:1,convRule:Xb},{start:7724,length:1,convRule:sy},{start:7725,length:1,convRule:Xb},{start:7726,length:1,convRule:sy},{start:7727,length:1,convRule:Xb},{start:7728,length:1,convRule:sy},{start:7729,length:1,convRule:Xb},{start:7730,length:1,convRule:sy},{start:7731,length:1,convRule:Xb},{start:7732,length:1,convRule:sy},{start:7733,length:1,convRule:Xb},{start:7734,length:1,convRule:sy},{start:7735,length:1,convRule:Xb},{start:7736,length:1,convRule:sy},{start:7737,length:1,convRule:Xb},{start:7738,length:1,convRule:sy},{start:7739,length:1,convRule:Xb},{start:7740,length:1,convRule:sy},{start:7741,length:1,convRule:Xb},{start:7742,length:1,convRule:sy},{start:7743,length:1,convRule:Xb},{start:7744,length:1,convRule:sy},{start:7745,length:1,convRule:Xb},{start:7746,length:1,convRule:sy},{start:7747,length:1,convRule:Xb},{start:7748,length:1,convRule:sy},{start:7749,length:1,convRule:Xb},{start:7750,length:1,convRule:sy},{start:7751,length:1,convRule:Xb},{start:7752,length:1,convRule:sy},{start:7753,length:1,convRule:Xb},{start:7754,length:1,convRule:sy},{start:7755,length:1,convRule:Xb},{start:7756,length:1,convRule:sy},{start:7757,length:1,convRule:Xb},{start:7758,length:1,convRule:sy},{start:7759,length:1,convRule:Xb},{start:7760,length:1,convRule:sy},{start:7761,length:1,convRule:Xb},{start:7762,length:1,convRule:sy},{start:7763,length:1,convRule:Xb},{start:7764,length:1,convRule:sy},{start:7765,length:1,convRule:Xb},{start:7766,length:1,convRule:sy},{start:7767,length:1,convRule:Xb},{start:7768,length:1,convRule:sy},{start:7769,length:1,convRule:Xb},{start:7770,length:1,convRule:sy},{start:7771,length:1,convRule:Xb},{start:7772,length:1,convRule:sy},{start:7773,length:1,convRule:Xb},{start:7774,length:1,convRule:sy},{start:7775,length:1,convRule:Xb},{start:7776,length:1,convRule:sy},{start:7777,length:1,convRule:Xb},{start:7778,length:1,convRule:sy},{start:7779,length:1,convRule:Xb},{start:7780,length:1,convRule:sy},{start:7781,length:1,convRule:Xb},{start:7782,length:1,convRule:sy},{start:7783,length:1,convRule:Xb},{start:7784,length:1,convRule:sy},{start:7785,length:1,convRule:Xb},{start:7786,length:1,convRule:sy},{start:7787,length:1,convRule:Xb},{start:7788,length:1,convRule:sy},{start:7789,length:1,convRule:Xb},{start:7790,length:1,convRule:sy},{start:7791,length:1,convRule:Xb},{start:7792,length:1,convRule:sy},{start:7793,length:1,convRule:Xb},{start:7794,length:1,convRule:sy},{start:7795,length:1,convRule:Xb},{start:7796,length:1,convRule:sy},{start:7797,length:1,convRule:Xb},{start:7798,length:1,convRule:sy},{start:7799,length:1,convRule:Xb},{start:7800,length:1,convRule:sy},{start:7801,length:1,convRule:Xb},{start:7802,length:1,convRule:sy},{start:7803,length:1,convRule:Xb},{start:7804,length:1,convRule:sy},{start:7805,length:1,convRule:Xb},{start:7806,length:1,convRule:sy},{start:7807,length:1,convRule:Xb},{start:7808,length:1,convRule:sy},{start:7809,length:1,convRule:Xb},{start:7810,length:1,convRule:sy},{start:7811,length:1,convRule:Xb},{start:7812,length:1,convRule:sy},{start:7813,length:1,convRule:Xb},{start:7814,length:1,convRule:sy},{start:7815,length:1,convRule:Xb},{start:7816,length:1,convRule:sy},{start:7817,length:1,convRule:Xb},{start:7818,length:1,convRule:sy},{start:7819,length:1,convRule:Xb},{start:7820,length:1,convRule:sy},{start:7821,length:1,convRule:Xb},{start:7822,length:1,convRule:sy},{start:7823,length:1,convRule:Xb},{start:7824,length:1,convRule:sy},{start:7825,length:1,convRule:Xb},{start:7826,length:1,convRule:sy},{start:7827,length:1,convRule:Xb},{start:7828,length:1,convRule:sy},{start:7829,length:1,convRule:Xb},{start:7830,length:5,convRule:Bb},{start:7835,length:1,convRule:yb},{start:7836,length:2,convRule:Bb},{start:7838,length:1,convRule:kx},{start:7839,length:1,convRule:Bb},{start:7840,length:1,convRule:sy},{start:7841,length:1,convRule:Xb},{start:7842,length:1,convRule:sy},{start:7843,length:1,convRule:Xb},{start:7844,length:1,convRule:sy},{start:7845,length:1,convRule:Xb},{start:7846,length:1,convRule:sy},{start:7847,length:1,convRule:Xb},{start:7848,length:1,convRule:sy},{start:7849,length:1,convRule:Xb},{start:7850,length:1,convRule:sy},{start:7851,length:1,convRule:Xb},{start:7852,length:1,convRule:sy},{start:7853,length:1,convRule:Xb},{start:7854,length:1,convRule:sy},{start:7855,length:1,convRule:Xb},{start:7856,length:1,convRule:sy},{start:7857,length:1,convRule:Xb},{start:7858,length:1,convRule:sy},{start:7859,length:1,convRule:Xb},{start:7860,length:1,convRule:sy},{start:7861,length:1,convRule:Xb},{start:7862,length:1,convRule:sy},{start:7863,length:1,convRule:Xb},{start:7864,length:1,convRule:sy},{start:7865,length:1,convRule:Xb},{start:7866,length:1,convRule:sy},{start:7867,length:1,convRule:Xb},{start:7868,length:1,convRule:sy},{start:7869,length:1,convRule:Xb},{start:7870,length:1,convRule:sy},{start:7871,length:1,convRule:Xb},{start:7872,length:1,convRule:sy},{start:7873,length:1,convRule:Xb},{start:7874,length:1,convRule:sy},{start:7875,length:1,convRule:Xb},{start:7876,length:1,convRule:sy},{start:7877,length:1,convRule:Xb},{start:7878,length:1,convRule:sy},{start:7879,length:1,convRule:Xb},{start:7880,length:1,convRule:sy},{start:7881,length:1,convRule:Xb},{start:7882,length:1,convRule:sy},{start:7883,length:1,convRule:Xb},{start:7884,length:1,convRule:sy},{start:7885,length:1,convRule:Xb},{start:7886,length:1,convRule:sy},{start:7887,length:1,convRule:Xb},{start:7888,length:1,convRule:sy},{start:7889,length:1,convRule:Xb},{start:7890,length:1,convRule:sy},{start:7891,length:1,convRule:Xb},{start:7892,length:1,convRule:sy},{start:7893,length:1,convRule:Xb},{start:7894,length:1,convRule:sy},{start:7895,length:1,convRule:Xb},{start:7896,length:1,convRule:sy},{start:7897,length:1,convRule:Xb},{start:7898,length:1,convRule:sy},{start:7899,length:1,convRule:Xb},{start:7900,length:1,convRule:sy},{start:7901,length:1,convRule:Xb},{start:7902,length:1,convRule:sy},{start:7903,length:1,convRule:Xb},{start:7904,length:1,convRule:sy},{start:7905,length:1,convRule:Xb},{start:7906,length:1,convRule:sy},{start:7907,length:1,convRule:Xb},{start:7908,length:1,convRule:sy},{start:7909,length:1,convRule:Xb},{start:7910,length:1,convRule:sy},{start:7911,length:1,convRule:Xb},{start:7912,length:1,convRule:sy},{start:7913,length:1,convRule:Xb},{start:7914,length:1,convRule:sy},{start:7915,length:1,convRule:Xb},{start:7916,length:1,convRule:sy},{start:7917,length:1,convRule:Xb},{start:7918,length:1,convRule:sy},{start:7919,length:1,convRule:Xb},{start:7920,length:1,convRule:sy},{start:7921,length:1,convRule:Xb},{start:7922,length:1,convRule:sy},{start:7923,length:1,convRule:Xb},{start:7924,length:1,convRule:sy},{start:7925,length:1,convRule:Xb},{start:7926,length:1,convRule:sy},{start:7927,length:1,convRule:Xb},{start:7928,length:1,convRule:sy},{start:7929,length:1,convRule:Xb},{start:7930,length:1,convRule:sy},{start:7931,length:1,convRule:Xb},{start:7932,length:1,convRule:sy},{start:7933,length:1,convRule:Xb},{start:7934,length:1,convRule:sy},{start:7935,length:1,convRule:Xb},{start:7936,length:8,convRule:bb},{start:7944,length:8,convRule:Cx},{start:7952,length:6,convRule:bb},{start:7960,length:6,convRule:Cx},{start:7968,length:8,convRule:bb},{start:7976,length:8,convRule:Cx},{start:7984,length:8,convRule:bb},{start:7992,length:8,convRule:Cx},{start:8e3,length:6,convRule:bb},{start:8008,length:6,convRule:Cx},{start:8016,length:1,convRule:Bb},{start:8017,length:1,convRule:bb},{start:8018,length:1,convRule:Bb},{start:8019,length:1,convRule:bb},{start:8020,length:1,convRule:Bb},{start:8021,length:1,convRule:bb},{start:8022,length:1,convRule:Bb},{start:8023,length:1,convRule:bb},{start:8025,length:1,convRule:Cx},{start:8027,length:1,convRule:Cx},{start:8029,length:1,convRule:Cx},{start:8031,length:1,convRule:Cx},{start:8032,length:8,convRule:bb},{start:8040,length:8,convRule:Cx},{start:8048,length:2,convRule:kb},{start:8050,length:4,convRule:Cb},{start:8054,length:2,convRule:Tb},{start:8056,length:2,convRule:Sb},{start:8058,length:2,convRule:Ab},{start:8060,length:2,convRule:Pb},{start:8064,length:8,convRule:bb},{start:8072,length:8,convRule:Fy},{start:8080,length:8,convRule:bb},{start:8088,length:8,convRule:Fy},{start:8096,length:8,convRule:bb},{start:8104,length:8,convRule:Fy},{start:8112,length:2,convRule:bb},{start:8114,length:1,convRule:Bb},{start:8115,length:1,convRule:_b},{start:8116,length:1,convRule:Bb},{start:8118,length:2,convRule:Bb},{start:8120,length:2,convRule:Cx},{start:8122,length:2,convRule:Tx},{start:8124,length:1,convRule:By},{start:8125,length:1,convRule:Uw},{start:8126,length:1,convRule:Eb},{start:8127,length:3,convRule:Uw},{start:8130,length:1,convRule:Bb},{start:8131,length:1,convRule:_b},{start:8132,length:1,convRule:Bb},{start:8134,length:2,convRule:Bb},{start:8136,length:4,convRule:Sx},{start:8140,length:1,convRule:By},{start:8141,length:3,convRule:Uw},{start:8144,length:2,convRule:bb},{start:8146,length:2,convRule:Bb},{start:8150,length:2,convRule:Bb},{start:8152,length:2,convRule:Cx},{start:8154,length:2,convRule:Ax},{start:8157,length:3,convRule:Uw},{start:8160,length:2,convRule:bb},{start:8162,length:3,convRule:Bb},{start:8165,length:1,convRule:ib},{start:8166,length:2,convRule:Bb},{start:8168,length:2,convRule:Cx},{start:8170,length:2,convRule:Px},{start:8172,length:1,convRule:mx},{start:8173,length:3,convRule:Uw},{start:8178,length:1,convRule:Bb},{start:8179,length:1,convRule:_b},{start:8180,length:1,convRule:Bb},{start:8182,length:2,convRule:Bb},{start:8184,length:2,convRule:_x},{start:8186,length:2,convRule:Ex},{start:8188,length:1,convRule:By},{start:8189,length:2,convRule:Uw},{start:8192,length:11,convRule:Dw},{start:8203,length:5,convRule:Qk},{start:8208,length:6,convRule:Gw},{start:8214,length:2,convRule:Xw},{start:8216,length:1,convRule:Vw},{start:8217,length:1,convRule:Ww},{start:8218,length:1,convRule:qw},{start:8219,length:2,convRule:Vw},{start:8221,length:1,convRule:Ww},{start:8222,length:1,convRule:qw},{start:8223,length:1,convRule:Vw},{start:8224,length:8,convRule:Xw},{start:8232,length:1,convRule:Iw},{start:8233,length:1,convRule:Qw},{start:8234,length:5,convRule:Qk},{start:8239,length:1,convRule:Dw},{start:8240,length:9,convRule:Xw},{start:8249,length:1,convRule:Vw},{start:8250,length:1,convRule:Ww},{start:8251,length:4,convRule:Xw},{start:8255,length:2,convRule:Yw},{start:8257,length:3,convRule:Xw},{start:8260,length:1,convRule:Bw},{start:8261,length:1,convRule:qw},{start:8262,length:1,convRule:jw},{start:8263,length:11,convRule:Xw},{start:8274,length:1,convRule:Bw},{start:8275,length:1,convRule:Xw},{start:8276,length:1,convRule:Yw},{start:8277,length:10,convRule:Xw},{start:8287,length:1,convRule:Dw},{start:8288,length:5,convRule:Qk},{start:8294,length:10,convRule:Qk},{start:8304,length:1,convRule:Kw},{start:8305,length:1,convRule:Vy},{start:8308,length:6,convRule:Kw},{start:8314,length:3,convRule:Bw},{start:8317,length:1,convRule:qw},{start:8318,length:1,convRule:jw},{start:8319,length:1,convRule:Vy},{start:8320,length:10,convRule:Kw},{start:8330,length:3,convRule:Bw},{start:8333,length:1,convRule:qw},{start:8334,length:1,convRule:jw},{start:8336,length:13,convRule:Vy},{start:8352,length:32,convRule:Hw},{start:8400,length:13,convRule:ox},{start:8413,length:4,convRule:ux},{start:8417,length:1,convRule:ox},{start:8418,length:3,convRule:ux},{start:8421,length:12,convRule:ox},{start:8448,length:2,convRule:Mw},{start:8450,length:1,convRule:gx},{start:8451,length:4,convRule:Mw},{start:8455,length:1,convRule:gx},{start:8456,length:2,convRule:Mw},{start:8458,length:1,convRule:Bb},{start:8459,length:3,convRule:gx},{start:8462,length:2,convRule:Bb},{start:8464,length:3,convRule:gx},{start:8467,length:1,convRule:Bb},{start:8468,length:1,convRule:Mw},{start:8469,length:1,convRule:gx},{start:8470,length:2,convRule:Mw},{start:8472,length:1,convRule:Bw},{start:8473,length:5,convRule:gx},{start:8478,length:6,convRule:Mw},{start:8484,length:1,convRule:gx},{start:8485,length:1,convRule:Mw},{start:8486,length:1,convRule:Lx},{start:8487,length:1,convRule:Mw},{start:8488,length:1,convRule:gx},{start:8489,length:1,convRule:Mw},{start:8490,length:1,convRule:Dx},{start:8491,length:1,convRule:Qx},{start:8492,length:2,convRule:gx},{start:8494,length:1,convRule:Mw},{start:8495,length:1,convRule:Bb},{start:8496,length:2,convRule:gx},{start:8498,length:1,convRule:Ix},{start:8499,length:1,convRule:gx},{start:8500,length:1,convRule:Bb},{start:8501,length:4,convRule:qy},{start:8505,length:1,convRule:Bb},{start:8506,length:2,convRule:Mw},{start:8508,length:2,convRule:Bb},{start:8510,length:2,convRule:gx},{start:8512,length:5,convRule:Bw},{start:8517,length:1,convRule:gx},{start:8518,length:4,convRule:Bb},{start:8522,length:1,convRule:Mw},{start:8523,length:1,convRule:Bw},{start:8524,length:2,convRule:Mw},{start:8526,length:1,convRule:Lb},{start:8527,length:1,convRule:Mw},{start:8528,length:16,convRule:Kw},{start:8544,length:16,convRule:ex},{start:8560,length:16,convRule:nx},{start:8576,length:3,convRule:tx},{start:8579,length:1,convRule:sy},{start:8580,length:1,convRule:Xb},{start:8581,length:4,convRule:tx},{start:8585,length:1,convRule:Kw},{start:8586,length:2,convRule:Mw},{start:8592,length:5,convRule:Bw},{start:8597,length:5,convRule:Mw},{start:8602,length:2,convRule:Bw},{start:8604,length:4,convRule:Mw},{start:8608,length:1,convRule:Bw},{start:8609,length:2,convRule:Mw},{start:8611,length:1,convRule:Bw},{start:8612,length:2,convRule:Mw},{start:8614,length:1,convRule:Bw},{start:8615,length:7,convRule:Mw},{start:8622,length:1,convRule:Bw},{start:8623,length:31,convRule:Mw},{start:8654,length:2,convRule:Bw},{start:8656,length:2,convRule:Mw},{start:8658,length:1,convRule:Bw},{start:8659,length:1,convRule:Mw},{start:8660,length:1,convRule:Bw},{start:8661,length:31,convRule:Mw},{start:8692,length:268,convRule:Bw},{start:8960,length:8,convRule:Mw},{start:8968,length:1,convRule:qw},{start:8969,length:1,convRule:jw},{start:8970,length:1,convRule:qw},{start:8971,length:1,convRule:jw},{start:8972,length:20,convRule:Mw},{start:8992,length:2,convRule:Bw},{start:8994,length:7,convRule:Mw},{start:9001,length:1,convRule:qw},{start:9002,length:1,convRule:jw},{start:9003,length:81,convRule:Mw},{start:9084,length:1,convRule:Bw},{start:9085,length:30,convRule:Mw},{start:9115,length:25,convRule:Bw},{start:9140,length:40,convRule:Mw},{start:9180,length:6,convRule:Bw},{start:9186,length:69,convRule:Mw},{start:9280,length:11,convRule:Mw},{start:9312,length:60,convRule:Kw},{start:9372,length:26,convRule:Mw},{start:9398,length:26,convRule:$w},{start:9424,length:26,convRule:Fw},{start:9450,length:22,convRule:Kw},{start:9472,length:183,convRule:Mw},{start:9655,length:1,convRule:Bw},{start:9656,length:9,convRule:Mw},{start:9665,length:1,convRule:Bw},{start:9666,length:54,convRule:Mw},{start:9720,length:8,convRule:Bw},{start:9728,length:111,convRule:Mw},{start:9839,length:1,convRule:Bw},{start:9840,length:248,convRule:Mw},{start:10088,length:1,convRule:qw},{start:10089,length:1,convRule:jw},{start:10090,length:1,convRule:qw},{start:10091,length:1,convRule:jw},{start:10092,length:1,convRule:qw},{start:10093,length:1,convRule:jw},{start:10094,length:1,convRule:qw},{start:10095,length:1,convRule:jw},{start:10096,length:1,convRule:qw},{start:10097,length:1,convRule:jw},{start:10098,length:1,convRule:qw},{start:10099,length:1,convRule:jw},{start:10100,length:1,convRule:qw},{start:10101,length:1,convRule:jw},{start:10102,length:30,convRule:Kw},{start:10132,length:44,convRule:Mw},{start:10176,length:5,convRule:Bw},{start:10181,length:1,convRule:qw},{start:10182,length:1,convRule:jw},{start:10183,length:31,convRule:Bw},{start:10214,length:1,convRule:qw},{start:10215,length:1,convRule:jw},{start:10216,length:1,convRule:qw},{start:10217,length:1,convRule:jw},{start:10218,length:1,convRule:qw},{start:10219,length:1,convRule:jw},{start:10220,length:1,convRule:qw},{start:10221,length:1,convRule:jw},{start:10222,length:1,convRule:qw},{start:10223,length:1,convRule:jw},{start:10224,length:16,convRule:Bw},{start:10240,length:256,convRule:Mw},{start:10496,length:131,convRule:Bw},{start:10627,length:1,convRule:qw},{start:10628,length:1,convRule:jw},{start:10629,length:1,convRule:qw},{start:10630,length:1,convRule:jw},{start:10631,length:1,convRule:qw},{start:10632,length:1,convRule:jw},{start:10633,length:1,convRule:qw},{start:10634,length:1,convRule:jw},{start:10635,length:1,convRule:qw},{start:10636,length:1,convRule:jw},{start:10637,length:1,convRule:qw},{start:10638,length:1,convRule:jw},{start:10639,length:1,convRule:qw},{start:10640,length:1,convRule:jw},{start:10641,length:1,convRule:qw},{start:10642,length:1,convRule:jw},{start:10643,length:1,convRule:qw},{start:10644,length:1,convRule:jw},{start:10645,length:1,convRule:qw},{start:10646,length:1,convRule:jw},{start:10647,length:1,convRule:qw},{start:10648,length:1,convRule:jw},{start:10649,length:63,convRule:Bw},{start:10712,length:1,convRule:qw},{start:10713,length:1,convRule:jw},{start:10714,length:1,convRule:qw},{start:10715,length:1,convRule:jw},{start:10716,length:32,convRule:Bw},{start:10748,length:1,convRule:qw},{start:10749,length:1,convRule:jw},{start:10750,length:258,convRule:Bw},{start:11008,length:48,convRule:Mw},{start:11056,length:21,convRule:Bw},{start:11077,length:2,convRule:Mw},{start:11079,length:6,convRule:Bw},{start:11085,length:39,convRule:Mw},{start:11126,length:32,convRule:Mw},{start:11159,length:105,convRule:Mw},{start:11264,length:47,convRule:wx},{start:11312,length:47,convRule:ub},{start:11360,length:1,convRule:sy},{start:11361,length:1,convRule:Xb},{start:11362,length:1,convRule:Nx},{start:11363,length:1,convRule:Mx},{start:11364,length:1,convRule:$x},{start:11365,length:1,convRule:Db},{start:11366,length:1,convRule:Qb},{start:11367,length:1,convRule:sy},{start:11368,length:1,convRule:Xb},{start:11369,length:1,convRule:sy},{start:11370,length:1,convRule:Xb},{start:11371,length:1,convRule:sy},{start:11372,length:1,convRule:Xb},{start:11373,length:1,convRule:Fx},{start:11374,length:1,convRule:Bx},{start:11375,length:1,convRule:Ux},{start:11376,length:1,convRule:Hx},{start:11377,length:1,convRule:Bb},{start:11378,length:1,convRule:sy},{start:11379,length:1,convRule:Xb},{start:11380,length:1,convRule:Bb},{start:11381,length:1,convRule:sy},{start:11382,length:1,convRule:Xb},{start:11383,length:5,convRule:Bb},{start:11388,length:2,convRule:Vy},{start:11390,length:2,convRule:qx},{start:11392,length:1,convRule:sy},{start:11393,length:1,convRule:Xb},{start:11394,length:1,convRule:sy},{start:11395,length:1,convRule:Xb},{start:11396,length:1,convRule:sy},{start:11397,length:1,convRule:Xb},{start:11398,length:1,convRule:sy},{start:11399,length:1,convRule:Xb},{start:11400,length:1,convRule:sy},{start:11401,length:1,convRule:Xb},{start:11402,length:1,convRule:sy},{start:11403,length:1,convRule:Xb},{start:11404,length:1,convRule:sy},{start:11405,length:1,convRule:Xb},{start:11406,length:1,convRule:sy},{start:11407,length:1,convRule:Xb},{start:11408,length:1,convRule:sy},{start:11409,length:1,convRule:Xb},{start:11410,length:1,convRule:sy},{start:11411,length:1,convRule:Xb},{start:11412,length:1,convRule:sy},{start:11413,length:1,convRule:Xb},{start:11414,length:1,convRule:sy},{start:11415,length:1,convRule:Xb},{start:11416,length:1,convRule:sy},{start:11417,length:1,convRule:Xb},{start:11418,length:1,convRule:sy},{start:11419,length:1,convRule:Xb},{start:11420,length:1,convRule:sy},{start:11421,length:1,convRule:Xb},{start:11422,length:1,convRule:sy},{start:11423,length:1,convRule:Xb},{start:11424,length:1,convRule:sy},{start:11425,length:1,convRule:Xb},{start:11426,length:1,convRule:sy},{start:11427,length:1,convRule:Xb},{start:11428,length:1,convRule:sy},{start:11429,length:1,convRule:Xb},{start:11430,length:1,convRule:sy},{start:11431,length:1,convRule:Xb},{start:11432,length:1,convRule:sy},{start:11433,length:1,convRule:Xb},{start:11434,length:1,convRule:sy},{start:11435,length:1,convRule:Xb},{start:11436,length:1,convRule:sy},{start:11437,length:1,convRule:Xb},{start:11438,length:1,convRule:sy},{start:11439,length:1,convRule:Xb},{start:11440,length:1,convRule:sy},{start:11441,length:1,convRule:Xb},{start:11442,length:1,convRule:sy},{start:11443,length:1,convRule:Xb},{start:11444,length:1,convRule:sy},{start:11445,length:1,convRule:Xb},{start:11446,length:1,convRule:sy},{start:11447,length:1,convRule:Xb},{start:11448,length:1,convRule:sy},{start:11449,length:1,convRule:Xb},{start:11450,length:1,convRule:sy},{start:11451,length:1,convRule:Xb},{start:11452,length:1,convRule:sy},{start:11453,length:1,convRule:Xb},{start:11454,length:1,convRule:sy},{start:11455,length:1,convRule:Xb},{start:11456,length:1,convRule:sy},{start:11457,length:1,convRule:Xb},{start:11458,length:1,convRule:sy},{start:11459,length:1,convRule:Xb},{start:11460,length:1,convRule:sy},{start:11461,length:1,convRule:Xb},{start:11462,length:1,convRule:sy},{start:11463,length:1,convRule:Xb},{start:11464,length:1,convRule:sy},{start:11465,length:1,convRule:Xb},{start:11466,length:1,convRule:sy},{start:11467,length:1,convRule:Xb},{start:11468,length:1,convRule:sy},{start:11469,length:1,convRule:Xb},{start:11470,length:1,convRule:sy},{start:11471,length:1,convRule:Xb},{start:11472,length:1,convRule:sy},{start:11473,length:1,convRule:Xb},{start:11474,length:1,convRule:sy},{start:11475,length:1,convRule:Xb},{start:11476,length:1,convRule:sy},{start:11477,length:1,convRule:Xb},{start:11478,length:1,convRule:sy},{start:11479,length:1,convRule:Xb},{start:11480,length:1,convRule:sy},{start:11481,length:1,convRule:Xb},{start:11482,length:1,convRule:sy},{start:11483,length:1,convRule:Xb},{start:11484,length:1,convRule:sy},{start:11485,length:1,convRule:Xb},{start:11486,length:1,convRule:sy},{start:11487,length:1,convRule:Xb},{start:11488,length:1,convRule:sy},{start:11489,length:1,convRule:Xb},{start:11490,length:1,convRule:sy},{start:11491,length:1,convRule:Xb},{start:11492,length:1,convRule:Bb},{start:11493,length:6,convRule:Mw},{start:11499,length:1,convRule:sy},{start:11500,length:1,convRule:Xb},{start:11501,length:1,convRule:sy},{start:11502,length:1,convRule:Xb},{start:11503,length:3,convRule:ox},{start:11506,length:1,convRule:sy},{start:11507,length:1,convRule:Xb},{start:11513,length:4,convRule:Xw},{start:11517,length:1,convRule:Kw},{start:11518,length:2,convRule:Xw},{start:11520,length:38,convRule:Nb},{start:11559,length:1,convRule:Nb},{start:11565,length:1,convRule:Nb},{start:11568,length:56,convRule:qy},{start:11631,length:1,convRule:Vy},{start:11632,length:1,convRule:Xw},{start:11647,length:1,convRule:ox},{start:11648,length:23,convRule:qy},{start:11680,length:7,convRule:qy},{start:11688,length:7,convRule:qy},{start:11696,length:7,convRule:qy},{start:11704,length:7,convRule:qy},{start:11712,length:7,convRule:qy},{start:11720,length:7,convRule:qy},{start:11728,length:7,convRule:qy},{start:11736,length:7,convRule:qy},{start:11744,length:32,convRule:ox},{start:11776,length:2,convRule:Xw},{start:11778,length:1,convRule:Vw},{start:11779,length:1,convRule:Ww},{start:11780,length:1,convRule:Vw},{start:11781,length:1,convRule:Ww},{start:11782,length:3,convRule:Xw},{start:11785,length:1,convRule:Vw},{start:11786,length:1,convRule:Ww},{start:11787,length:1,convRule:Xw},{start:11788,length:1,convRule:Vw},{start:11789,length:1,convRule:Ww},{start:11790,length:9,convRule:Xw},{start:11799,length:1,convRule:Gw},{start:11800,length:2,convRule:Xw},{start:11802,length:1,convRule:Gw},{start:11803,length:1,convRule:Xw},{start:11804,length:1,convRule:Vw},{start:11805,length:1,convRule:Ww},{start:11806,length:2,convRule:Xw},{start:11808,length:1,convRule:Vw},{start:11809,length:1,convRule:Ww},{start:11810,length:1,convRule:qw},{start:11811,length:1,convRule:jw},{start:11812,length:1,convRule:qw},{start:11813,length:1,convRule:jw},{start:11814,length:1,convRule:qw},{start:11815,length:1,convRule:jw},{start:11816,length:1,convRule:qw},{start:11817,length:1,convRule:jw},{start:11818,length:5,convRule:Xw},{start:11823,length:1,convRule:Vy},{start:11824,length:10,convRule:Xw},{start:11834,length:2,convRule:Gw},{start:11836,length:4,convRule:Xw},{start:11840,length:1,convRule:Gw},{start:11841,length:1,convRule:Xw},{start:11842,length:1,convRule:qw},{start:11843,length:13,convRule:Xw},{start:11856,length:2,convRule:Mw},{start:11858,length:1,convRule:Xw},{start:11904,length:26,convRule:Mw},{start:11931,length:89,convRule:Mw},{start:12032,length:214,convRule:Mw},{start:12272,length:12,convRule:Mw},{start:12288,length:1,convRule:Dw},{start:12289,length:3,convRule:Xw},{start:12292,length:1,convRule:Mw},{start:12293,length:1,convRule:Vy},{start:12294,length:1,convRule:qy},{start:12295,length:1,convRule:tx},{start:12296,length:1,convRule:qw},{start:12297,length:1,convRule:jw},{start:12298,length:1,convRule:qw},{start:12299,length:1,convRule:jw},{start:12300,length:1,convRule:qw},{start:12301,length:1,convRule:jw},{start:12302,length:1,convRule:qw},{start:12303,length:1,convRule:jw},{start:12304,length:1,convRule:qw},{start:12305,length:1,convRule:jw},{start:12306,length:2,convRule:Mw},{start:12308,length:1,convRule:qw},{start:12309,length:1,convRule:jw},{start:12310,length:1,convRule:qw},{start:12311,length:1,convRule:jw},{start:12312,length:1,convRule:qw},{start:12313,length:1,convRule:jw},{start:12314,length:1,convRule:qw},{start:12315,length:1,convRule:jw},{start:12316,length:1,convRule:Gw},{start:12317,length:1,convRule:qw},{start:12318,length:2,convRule:jw},{start:12320,length:1,convRule:Mw},{start:12321,length:9,convRule:tx},{start:12330,length:4,convRule:ox},{start:12334,length:2,convRule:hx},{start:12336,length:1,convRule:Gw},{start:12337,length:5,convRule:Vy},{start:12342,length:2,convRule:Mw},{start:12344,length:3,convRule:tx},{start:12347,length:1,convRule:Vy},{start:12348,length:1,convRule:qy},{start:12349,length:1,convRule:Xw},{start:12350,length:2,convRule:Mw},{start:12353,length:86,convRule:qy},{start:12441,length:2,convRule:ox},{start:12443,length:2,convRule:Uw},{start:12445,length:2,convRule:Vy},{start:12447,length:1,convRule:qy},{start:12448,length:1,convRule:Gw},{start:12449,length:90,convRule:qy},{start:12539,length:1,convRule:Xw},{start:12540,length:3,convRule:Vy},{start:12543,length:1,convRule:qy},{start:12549,length:43,convRule:qy},{start:12593,length:94,convRule:qy},{start:12688,length:2,convRule:Mw},{start:12690,length:4,convRule:Kw},{start:12694,length:10,convRule:Mw},{start:12704,length:32,convRule:qy},{start:12736,length:36,convRule:Mw},{start:12784,length:16,convRule:qy},{start:12800,length:31,convRule:Mw},{start:12832,length:10,convRule:Kw},{start:12842,length:30,convRule:Mw},{start:12872,length:8,convRule:Kw},{start:12880,length:1,convRule:Mw},{start:12881,length:15,convRule:Kw},{start:12896,length:32,convRule:Mw},{start:12928,length:10,convRule:Kw},{start:12938,length:39,convRule:Mw},{start:12977,length:15,convRule:Kw},{start:12992,length:320,convRule:Mw},{start:13312,length:6592,convRule:qy},{start:19904,length:64,convRule:Mw},{start:19968,length:20989,convRule:qy},{start:40960,length:21,convRule:qy},{start:40981,length:1,convRule:Vy},{start:40982,length:1143,convRule:qy},{start:42128,length:55,convRule:Mw},{start:42192,length:40,convRule:qy},{start:42232,length:6,convRule:Vy},{start:42238,length:2,convRule:Xw},{start:42240,length:268,convRule:qy},{start:42508,length:1,convRule:Vy},{start:42509,length:3,convRule:Xw},{start:42512,length:16,convRule:qy},{start:42528,length:10,convRule:ix},{start:42538,length:2,convRule:qy},{start:42560,length:1,convRule:sy},{start:42561,length:1,convRule:Xb},{start:42562,length:1,convRule:sy},{start:42563,length:1,convRule:Xb},{start:42564,length:1,convRule:sy},{start:42565,length:1,convRule:Xb},{start:42566,length:1,convRule:sy},{start:42567,length:1,convRule:Xb},{start:42568,length:1,convRule:sy},{start:42569,length:1,convRule:Xb},{start:42570,length:1,convRule:sy},{start:42571,length:1,convRule:Xb},{start:42572,length:1,convRule:sy},{start:42573,length:1,convRule:Xb},{start:42574,length:1,convRule:sy},{start:42575,length:1,convRule:Xb},{start:42576,length:1,convRule:sy},{start:42577,length:1,convRule:Xb},{start:42578,length:1,convRule:sy},{start:42579,length:1,convRule:Xb},{start:42580,length:1,convRule:sy},{start:42581,length:1,convRule:Xb},{start:42582,length:1,convRule:sy},{start:42583,length:1,convRule:Xb},{start:42584,length:1,convRule:sy},{start:42585,length:1,convRule:Xb},{start:42586,length:1,convRule:sy},{start:42587,length:1,convRule:Xb},{start:42588,length:1,convRule:sy},{start:42589,length:1,convRule:Xb},{start:42590,length:1,convRule:sy},{start:42591,length:1,convRule:Xb},{start:42592,length:1,convRule:sy},{start:42593,length:1,convRule:Xb},{start:42594,length:1,convRule:sy},{start:42595,length:1,convRule:Xb},{start:42596,length:1,convRule:sy},{start:42597,length:1,convRule:Xb},{start:42598,length:1,convRule:sy},{start:42599,length:1,convRule:Xb},{start:42600,length:1,convRule:sy},{start:42601,length:1,convRule:Xb},{start:42602,length:1,convRule:sy},{start:42603,length:1,convRule:Xb},{start:42604,length:1,convRule:sy},{start:42605,length:1,convRule:Xb},{start:42606,length:1,convRule:qy},{start:42607,length:1,convRule:ox},{start:42608,length:3,convRule:ux},{start:42611,length:1,convRule:Xw},{start:42612,length:10,convRule:ox},{start:42622,length:1,convRule:Xw},{start:42623,length:1,convRule:Vy},{start:42624,length:1,convRule:sy},{start:42625,length:1,convRule:Xb},{start:42626,length:1,convRule:sy},{start:42627,length:1,convRule:Xb},{start:42628,length:1,convRule:sy},{start:42629,length:1,convRule:Xb},{start:42630,length:1,convRule:sy},{start:42631,length:1,convRule:Xb},{start:42632,length:1,convRule:sy},{start:42633,length:1,convRule:Xb},{start:42634,length:1,convRule:sy},{start:42635,length:1,convRule:Xb},{start:42636,length:1,convRule:sy},{start:42637,length:1,convRule:Xb},{start:42638,length:1,convRule:sy},{start:42639,length:1,convRule:Xb},{start:42640,length:1,convRule:sy},{start:42641,length:1,convRule:Xb},{start:42642,length:1,convRule:sy},{start:42643,length:1,convRule:Xb},{start:42644,length:1,convRule:sy},{start:42645,length:1,convRule:Xb},{start:42646,length:1,convRule:sy},{start:42647,length:1,convRule:Xb},{start:42648,length:1,convRule:sy},{start:42649,length:1,convRule:Xb},{start:42650,length:1,convRule:sy},{start:42651,length:1,convRule:Xb},{start:42652,length:2,convRule:Vy},{start:42654,length:2,convRule:ox},{start:42656,length:70,convRule:qy},{start:42726,length:10,convRule:tx},{start:42736,length:2,convRule:ox},{start:42738,length:6,convRule:Xw},{start:42752,length:23,convRule:Uw},{start:42775,length:9,convRule:Vy},{start:42784,length:2,convRule:Uw},{start:42786,length:1,convRule:sy},{start:42787,length:1,convRule:Xb},{start:42788,length:1,convRule:sy},{start:42789,length:1,convRule:Xb},{start:42790,length:1,convRule:sy},{start:42791,length:1,convRule:Xb},{start:42792,length:1,convRule:sy},{start:42793,length:1,convRule:Xb},{start:42794,length:1,convRule:sy},{start:42795,length:1,convRule:Xb},{start:42796,length:1,convRule:sy},{start:42797,length:1,convRule:Xb},{start:42798,length:1,convRule:sy},{start:42799,length:1,convRule:Xb},{start:42800,length:2,convRule:Bb},{start:42802,length:1,convRule:sy},{start:42803,length:1,convRule:Xb},{start:42804,length:1,convRule:sy},{start:42805,length:1,convRule:Xb},{start:42806,length:1,convRule:sy},{start:42807,length:1,convRule:Xb},{start:42808,length:1,convRule:sy},{start:42809,length:1,convRule:Xb},{start:42810,length:1,convRule:sy},{start:42811,length:1,convRule:Xb},{start:42812,length:1,convRule:sy},{start:42813,length:1,convRule:Xb},{start:42814,length:1,convRule:sy},{start:42815,length:1,convRule:Xb},{start:42816,length:1,convRule:sy},{start:42817,length:1,convRule:Xb},{start:42818,length:1,convRule:sy},{start:42819,length:1,convRule:Xb},{start:42820,length:1,convRule:sy},{start:42821,length:1,convRule:Xb},{start:42822,length:1,convRule:sy},{start:42823,length:1,convRule:Xb},{start:42824,length:1,convRule:sy},{start:42825,length:1,convRule:Xb},{start:42826,length:1,convRule:sy},{start:42827,length:1,convRule:Xb},{start:42828,length:1,convRule:sy},{start:42829,length:1,convRule:Xb},{start:42830,length:1,convRule:sy},{start:42831,length:1,convRule:Xb},{start:42832,length:1,convRule:sy},{start:42833,length:1,convRule:Xb},{start:42834,length:1,convRule:sy},{start:42835,length:1,convRule:Xb},{start:42836,length:1,convRule:sy},{start:42837,length:1,convRule:Xb},{start:42838,length:1,convRule:sy},{start:42839,length:1,convRule:Xb},{start:42840,length:1,convRule:sy},{start:42841,length:1,convRule:Xb},{start:42842,length:1,convRule:sy},{start:42843,length:1,convRule:Xb},{start:42844,length:1,convRule:sy},{start:42845,length:1,convRule:Xb},{start:42846,length:1,convRule:sy},{start:42847,length:1,convRule:Xb},{start:42848,length:1,convRule:sy},{start:42849,length:1,convRule:Xb},{start:42850,length:1,convRule:sy},{start:42851,length:1,convRule:Xb},{start:42852,length:1,convRule:sy},{start:42853,length:1,convRule:Xb},{start:42854,length:1,convRule:sy},{start:42855,length:1,convRule:Xb},{start:42856,length:1,convRule:sy},{start:42857,length:1,convRule:Xb},{start:42858,length:1,convRule:sy},{start:42859,length:1,convRule:Xb},{start:42860,length:1,convRule:sy},{start:42861,length:1,convRule:Xb},{start:42862,length:1,convRule:sy},{start:42863,length:1,convRule:Xb},{start:42864,length:1,convRule:Vy},{start:42865,length:8,convRule:Bb},{start:42873,length:1,convRule:sy},{start:42874,length:1,convRule:Xb},{start:42875,length:1,convRule:sy},{start:42876,length:1,convRule:Xb},{start:42877,length:1,convRule:Xx},{start:42878,length:1,convRule:sy},{start:42879,length:1,convRule:Xb},{start:42880,length:1,convRule:sy},{start:42881,length:1,convRule:Xb},{start:42882,length:1,convRule:sy},{start:42883,length:1,convRule:Xb},{start:42884,length:1,convRule:sy},{start:42885,length:1,convRule:Xb},{start:42886,length:1,convRule:sy},{start:42887,length:1,convRule:Xb},{start:42888,length:1,convRule:Vy},{start:42889,length:2,convRule:Uw},{start:42891,length:1,convRule:sy},{start:42892,length:1,convRule:Xb},{start:42893,length:1,convRule:Vx},{start:42894,length:1,convRule:Bb},{start:42895,length:1,convRule:qy},{start:42896,length:1,convRule:sy},{start:42897,length:1,convRule:Xb},{start:42898,length:1,convRule:sy},{start:42899,length:1,convRule:Xb},{start:42900,length:1,convRule:Mb},{start:42901,length:1,convRule:Bb},{start:42902,length:1,convRule:sy},{start:42903,length:1,convRule:Xb},{start:42904,length:1,convRule:sy},{start:42905,length:1,convRule:Xb},{start:42906,length:1,convRule:sy},{start:42907,length:1,convRule:Xb},{start:42908,length:1,convRule:sy},{start:42909,length:1,convRule:Xb},{start:42910,length:1,convRule:sy},{start:42911,length:1,convRule:Xb},{start:42912,length:1,convRule:sy},{start:42913,length:1,convRule:Xb},{start:42914,length:1,convRule:sy},{start:42915,length:1,convRule:Xb},{start:42916,length:1,convRule:sy},{start:42917,length:1,convRule:Xb},{start:42918,length:1,convRule:sy},{start:42919,length:1,convRule:Xb},{start:42920,length:1,convRule:sy},{start:42921,length:1,convRule:Xb},{start:42922,length:1,convRule:zx},{start:42923,length:1,convRule:Wx},{start:42924,length:1,convRule:jx},{start:42925,length:1,convRule:Gx},{start:42926,length:1,convRule:zx},{start:42927,length:1,convRule:Bb},{start:42928,length:1,convRule:Yx},{start:42929,length:1,convRule:Zx},{start:42930,length:1,convRule:Kx},{start:42931,length:1,convRule:Jx},{start:42932,length:1,convRule:sy},{start:42933,length:1,convRule:Xb},{start:42934,length:1,convRule:sy},{start:42935,length:1,convRule:Xb},{start:42936,length:1,convRule:sy},{start:42937,length:1,convRule:Xb},{start:42938,length:1,convRule:sy},{start:42939,length:1,convRule:Xb},{start:42940,length:1,convRule:sy},{start:42941,length:1,convRule:Xb},{start:42942,length:1,convRule:sy},{start:42943,length:1,convRule:Xb},{start:42946,length:1,convRule:sy},{start:42947,length:1,convRule:Xb},{start:42948,length:1,convRule:ty},{start:42949,length:1,convRule:ey},{start:42950,length:1,convRule:ny},{start:42951,length:1,convRule:sy},{start:42952,length:1,convRule:Xb},{start:42953,length:1,convRule:sy},{start:42954,length:1,convRule:Xb},{start:42997,length:1,convRule:sy},{start:42998,length:1,convRule:Xb},{start:42999,length:1,convRule:qy},{start:43e3,length:2,convRule:Vy},{start:43002,length:1,convRule:Bb},{start:43003,length:7,convRule:qy},{start:43010,length:1,convRule:ox},{start:43011,length:3,convRule:qy},{start:43014,length:1,convRule:ox},{start:43015,length:4,convRule:qy},{start:43019,length:1,convRule:ox},{start:43020,length:23,convRule:qy},{start:43043,length:2,convRule:hx},{start:43045,length:2,convRule:ox},{start:43047,length:1,convRule:hx},{start:43048,length:4,convRule:Mw},{start:43052,length:1,convRule:ox},{start:43056,length:6,convRule:Kw},{start:43062,length:2,convRule:Mw},{start:43064,length:1,convRule:Hw},{start:43065,length:1,convRule:Mw},{start:43072,length:52,convRule:qy},{start:43124,length:4,convRule:Xw},{start:43136,length:2,convRule:hx},{start:43138,length:50,convRule:qy},{start:43188,length:16,convRule:hx},{start:43204,length:2,convRule:ox},{start:43214,length:2,convRule:Xw},{start:43216,length:10,convRule:ix},{start:43232,length:18,convRule:ox},{start:43250,length:6,convRule:qy},{start:43256,length:3,convRule:Xw},{start:43259,length:1,convRule:qy},{start:43260,length:1,convRule:Xw},{start:43261,length:2,convRule:qy},{start:43263,length:1,convRule:ox},{start:43264,length:10,convRule:ix},{start:43274,length:28,convRule:qy},{start:43302,length:8,convRule:ox},{start:43310,length:2,convRule:Xw},{start:43312,length:23,convRule:qy},{start:43335,length:11,convRule:ox},{start:43346,length:2,convRule:hx},{start:43359,length:1,convRule:Xw},{start:43360,length:29,convRule:qy},{start:43392,length:3,convRule:ox},{start:43395,length:1,convRule:hx},{start:43396,length:47,convRule:qy},{start:43443,length:1,convRule:ox},{start:43444,length:2,convRule:hx},{start:43446,length:4,convRule:ox},{start:43450,length:2,convRule:hx},{start:43452,length:2,convRule:ox},{start:43454,length:3,convRule:hx},{start:43457,length:13,convRule:Xw},{start:43471,length:1,convRule:Vy},{start:43472,length:10,convRule:ix},{start:43486,length:2,convRule:Xw},{start:43488,length:5,convRule:qy},{start:43493,length:1,convRule:ox},{start:43494,length:1,convRule:Vy},{start:43495,length:9,convRule:qy},{start:43504,length:10,convRule:ix},{start:43514,length:5,convRule:qy},{start:43520,length:41,convRule:qy},{start:43561,length:6,convRule:ox},{start:43567,length:2,convRule:hx},{start:43569,length:2,convRule:ox},{start:43571,length:2,convRule:hx},{start:43573,length:2,convRule:ox},{start:43584,length:3,convRule:qy},{start:43587,length:1,convRule:ox},{start:43588,length:8,convRule:qy},{start:43596,length:1,convRule:ox},{start:43597,length:1,convRule:hx},{start:43600,length:10,convRule:ix},{start:43612,length:4,convRule:Xw},{start:43616,length:16,convRule:qy},{start:43632,length:1,convRule:Vy},{start:43633,length:6,convRule:qy},{start:43639,length:3,convRule:Mw},{start:43642,length:1,convRule:qy},{start:43643,length:1,convRule:hx},{start:43644,length:1,convRule:ox},{start:43645,length:1,convRule:hx},{start:43646,length:50,convRule:qy},{start:43696,length:1,convRule:ox},{start:43697,length:1,convRule:qy},{start:43698,length:3,convRule:ox},{start:43701,length:2,convRule:qy},{start:43703,length:2,convRule:ox},{start:43705,length:5,convRule:qy},{start:43710,length:2,convRule:ox},{start:43712,length:1,convRule:qy},{start:43713,length:1,convRule:ox},{start:43714,length:1,convRule:qy},{start:43739,length:2,convRule:qy},{start:43741,length:1,convRule:Vy},{start:43742,length:2,convRule:Xw},{start:43744,length:11,convRule:qy},{start:43755,length:1,convRule:hx},{start:43756,length:2,convRule:ox},{start:43758,length:2,convRule:hx},{start:43760,length:2,convRule:Xw},{start:43762,length:1,convRule:qy},{start:43763,length:2,convRule:Vy},{start:43765,length:1,convRule:hx},{start:43766,length:1,convRule:ox},{start:43777,length:6,convRule:qy},{start:43785,length:6,convRule:qy},{start:43793,length:6,convRule:qy},{start:43808,length:7,convRule:qy},{start:43816,length:7,convRule:qy},{start:43824,length:35,convRule:Bb},{start:43859,length:1,convRule:$b},{start:43860,length:7,convRule:Bb},{start:43867,length:1,convRule:Uw},{start:43868,length:4,convRule:Vy},{start:43872,length:9,convRule:Bb},{start:43881,length:1,convRule:Vy},{start:43882,length:2,convRule:Uw},{start:43888,length:80,convRule:Fb},{start:43968,length:35,convRule:qy},{start:44003,length:2,convRule:hx},{start:44005,length:1,convRule:ox},{start:44006,length:2,convRule:hx},{start:44008,length:1,convRule:ox},{start:44009,length:2,convRule:hx},{start:44011,length:1,convRule:Xw},{start:44012,length:1,convRule:hx},{start:44013,length:1,convRule:ox},{start:44016,length:10,convRule:ix},{start:44032,length:11172,convRule:qy},{start:55216,length:23,convRule:qy},{start:55243,length:49,convRule:qy},{start:55296,length:896,convRule:Lk},{start:56192,length:128,convRule:Lk},{start:56320,length:1024,convRule:Lk},{start:57344,length:6400,convRule:Dk},{start:63744,length:366,convRule:qy},{start:64112,length:106,convRule:qy},{start:64256,length:7,convRule:Bb},{start:64275,length:5,convRule:Bb},{start:64285,length:1,convRule:qy},{start:64286,length:1,convRule:ox},{start:64287,length:10,convRule:qy},{start:64297,length:1,convRule:Bw},{start:64298,length:13,convRule:qy},{start:64312,length:5,convRule:qy},{start:64318,length:1,convRule:qy},{start:64320,length:2,convRule:qy},{start:64323,length:2,convRule:qy},{start:64326,length:108,convRule:qy},{start:64434,length:16,convRule:Uw},{start:64467,length:363,convRule:qy},{start:64830,length:1,convRule:jw},{start:64831,length:1,convRule:qw},{start:64848,length:64,convRule:qy},{start:64914,length:54,convRule:qy},{start:65008,length:12,convRule:qy},{start:65020,length:1,convRule:Hw},{start:65021,length:1,convRule:Mw},{start:65024,length:16,convRule:ox},{start:65040,length:7,convRule:Xw},{start:65047,length:1,convRule:qw},{start:65048,length:1,convRule:jw},{start:65049,length:1,convRule:Xw},{start:65056,length:16,convRule:ox},{start:65072,length:1,convRule:Xw},{start:65073,length:2,convRule:Gw},{start:65075,length:2,convRule:Yw},{start:65077,length:1,convRule:qw},{start:65078,length:1,convRule:jw},{start:65079,length:1,convRule:qw},{start:65080,length:1,convRule:jw},{start:65081,length:1,convRule:qw},{start:65082,length:1,convRule:jw},{start:65083,length:1,convRule:qw},{start:65084,length:1,convRule:jw},{start:65085,length:1,convRule:qw},{start:65086,length:1,convRule:jw},{start:65087,length:1,convRule:qw},{start:65088,length:1,convRule:jw},{start:65089,length:1,convRule:qw},{start:65090,length:1,convRule:jw},{start:65091,length:1,convRule:qw},{start:65092,length:1,convRule:jw},{start:65093,length:2,convRule:Xw},{start:65095,length:1,convRule:qw},{start:65096,length:1,convRule:jw},{start:65097,length:4,convRule:Xw},{start:65101,length:3,convRule:Yw},{start:65104,length:3,convRule:Xw},{start:65108,length:4,convRule:Xw},{start:65112,length:1,convRule:Gw},{start:65113,length:1,convRule:qw},{start:65114,length:1,convRule:jw},{start:65115,length:1,convRule:qw},{start:65116,length:1,convRule:jw},{start:65117,length:1,convRule:qw},{start:65118,length:1,convRule:jw},{start:65119,length:3,convRule:Xw},{start:65122,length:1,convRule:Bw},{start:65123,length:1,convRule:Gw},{start:65124,length:3,convRule:Bw},{start:65128,length:1,convRule:Xw},{start:65129,length:1,convRule:Hw},{start:65130,length:2,convRule:Xw},{start:65136,length:5,convRule:qy},{start:65142,length:135,convRule:qy},{start:65279,length:1,convRule:Qk},{start:65281,length:3,convRule:Xw},{start:65284,length:1,convRule:Hw},{start:65285,length:3,convRule:Xw},{start:65288,length:1,convRule:qw},{start:65289,length:1,convRule:jw},{start:65290,length:1,convRule:Xw},{start:65291,length:1,convRule:Bw},{start:65292,length:1,convRule:Xw},{start:65293,length:1,convRule:Gw},{start:65294,length:2,convRule:Xw},{start:65296,length:10,convRule:ix},{start:65306,length:2,convRule:Xw},{start:65308,length:3,convRule:Bw},{start:65311,length:2,convRule:Xw},{start:65313,length:26,convRule:Ly},{start:65339,length:1,convRule:qw},{start:65340,length:1,convRule:Xw},{start:65341,length:1,convRule:jw},{start:65342,length:1,convRule:Uw},{start:65343,length:1,convRule:Yw},{start:65344,length:1,convRule:Uw},{start:65345,length:26,convRule:lb},{start:65371,length:1,convRule:qw},{start:65372,length:1,convRule:Bw},{start:65373,length:1,convRule:jw},{start:65374,length:1,convRule:Bw},{start:65375,length:1,convRule:qw},{start:65376,length:1,convRule:jw},{start:65377,length:1,convRule:Xw},{start:65378,length:1,convRule:qw},{start:65379,length:1,convRule:jw},{start:65380,length:2,convRule:Xw},{start:65382,length:10,convRule:qy},{start:65392,length:1,convRule:Vy},{start:65393,length:45,convRule:qy},{start:65438,length:2,convRule:Vy},{start:65440,length:31,convRule:qy},{start:65474,length:6,convRule:qy},{start:65482,length:6,convRule:qy},{start:65490,length:6,convRule:qy},{start:65498,length:3,convRule:qy},{start:65504,length:2,convRule:Hw},{start:65506,length:1,convRule:Bw},{start:65507,length:1,convRule:Uw},{start:65508,length:1,convRule:Mw},{start:65509,length:2,convRule:Hw},{start:65512,length:1,convRule:Mw},{start:65513,length:4,convRule:Bw},{start:65517,length:2,convRule:Mw},{start:65529,length:3,convRule:Qk},{start:65532,length:2,convRule:Mw},{start:65536,length:12,convRule:qy},{start:65549,length:26,convRule:qy},{start:65576,length:19,convRule:qy},{start:65596,length:2,convRule:qy},{start:65599,length:15,convRule:qy},{start:65616,length:14,convRule:qy},{start:65664,length:123,convRule:qy},{start:65792,length:3,convRule:Xw},{start:65799,length:45,convRule:Kw},{start:65847,length:9,convRule:Mw},{start:65856,length:53,convRule:tx},{start:65909,length:4,convRule:Kw},{start:65913,length:17,convRule:Mw},{start:65930,length:2,convRule:Kw},{start:65932,length:3,convRule:Mw},{start:65936,length:13,convRule:Mw},{start:65952,length:1,convRule:Mw},{start:66e3,length:45,convRule:Mw},{start:66045,length:1,convRule:ox},{start:66176,length:29,convRule:qy},{start:66208,length:49,convRule:qy},{start:66272,length:1,convRule:ox},{start:66273,length:27,convRule:Kw},{start:66304,length:32,convRule:qy},{start:66336,length:4,convRule:Kw},{start:66349,length:20,convRule:qy},{start:66369,length:1,convRule:tx},{start:66370,length:8,convRule:qy},{start:66378,length:1,convRule:tx},{start:66384,length:38,convRule:qy},{start:66422,length:5,convRule:ox},{start:66432,length:30,convRule:qy},{start:66463,length:1,convRule:Xw},{start:66464,length:36,convRule:qy},{start:66504,length:8,convRule:qy},{start:66512,length:1,convRule:Xw},{start:66513,length:5,convRule:tx},{start:66560,length:40,convRule:ry},{start:66600,length:40,convRule:Ub},{start:66640,length:78,convRule:qy},{start:66720,length:10,convRule:ix},{start:66736,length:36,convRule:ry},{start:66776,length:36,convRule:Ub},{start:66816,length:40,convRule:qy},{start:66864,length:52,convRule:qy},{start:66927,length:1,convRule:Xw},{start:67072,length:311,convRule:qy},{start:67392,length:22,convRule:qy},{start:67424,length:8,convRule:qy},{start:67584,length:6,convRule:qy},{start:67592,length:1,convRule:qy},{start:67594,length:44,convRule:qy},{start:67639,length:2,convRule:qy},{start:67644,length:1,convRule:qy},{start:67647,length:23,convRule:qy},{start:67671,length:1,convRule:Xw},{start:67672,length:8,convRule:Kw},{start:67680,length:23,convRule:qy},{start:67703,length:2,convRule:Mw},{start:67705,length:7,convRule:Kw},{start:67712,length:31,convRule:qy},{start:67751,length:9,convRule:Kw},{start:67808,length:19,convRule:qy},{start:67828,length:2,convRule:qy},{start:67835,length:5,convRule:Kw},{start:67840,length:22,convRule:qy},{start:67862,length:6,convRule:Kw},{start:67871,length:1,convRule:Xw},{start:67872,length:26,convRule:qy},{start:67903,length:1,convRule:Xw},{start:67968,length:56,convRule:qy},{start:68028,length:2,convRule:Kw},{start:68030,length:2,convRule:qy},{start:68032,length:16,convRule:Kw},{start:68050,length:46,convRule:Kw},{start:68096,length:1,convRule:qy},{start:68097,length:3,convRule:ox},{start:68101,length:2,convRule:ox},{start:68108,length:4,convRule:ox},{start:68112,length:4,convRule:qy},{start:68117,length:3,convRule:qy},{start:68121,length:29,convRule:qy},{start:68152,length:3,convRule:ox},{start:68159,length:1,convRule:ox},{start:68160,length:9,convRule:Kw},{start:68176,length:9,convRule:Xw},{start:68192,length:29,convRule:qy},{start:68221,length:2,convRule:Kw},{start:68223,length:1,convRule:Xw},{start:68224,length:29,convRule:qy},{start:68253,length:3,convRule:Kw},{start:68288,length:8,convRule:qy},{start:68296,length:1,convRule:Mw},{start:68297,length:28,convRule:qy},{start:68325,length:2,convRule:ox},{start:68331,length:5,convRule:Kw},{start:68336,length:7,convRule:Xw},{start:68352,length:54,convRule:qy},{start:68409,length:7,convRule:Xw},{start:68416,length:22,convRule:qy},{start:68440,length:8,convRule:Kw},{start:68448,length:19,convRule:qy},{start:68472,length:8,convRule:Kw},{start:68480,length:18,convRule:qy},{start:68505,length:4,convRule:Xw},{start:68521,length:7,convRule:Kw},{start:68608,length:73,convRule:qy},{start:68736,length:51,convRule:Ny},{start:68800,length:51,convRule:Gy},{start:68858,length:6,convRule:Kw},{start:68864,length:36,convRule:qy},{start:68900,length:4,convRule:ox},{start:68912,length:10,convRule:ix},{start:69216,length:31,convRule:Kw},{start:69248,length:42,convRule:qy},{start:69291,length:2,convRule:ox},{start:69293,length:1,convRule:Gw},{start:69296,length:2,convRule:qy},{start:69376,length:29,convRule:qy},{start:69405,length:10,convRule:Kw},{start:69415,length:1,convRule:qy},{start:69424,length:22,convRule:qy},{start:69446,length:11,convRule:ox},{start:69457,length:4,convRule:Kw},{start:69461,length:5,convRule:Xw},{start:69552,length:21,convRule:qy},{start:69573,length:7,convRule:Kw},{start:69600,length:23,convRule:qy},{start:69632,length:1,convRule:hx},{start:69633,length:1,convRule:ox},{start:69634,length:1,convRule:hx},{start:69635,length:53,convRule:qy},{start:69688,length:15,convRule:ox},{start:69703,length:7,convRule:Xw},{start:69714,length:20,convRule:Kw},{start:69734,length:10,convRule:ix},{start:69759,length:3,convRule:ox},{start:69762,length:1,convRule:hx},{start:69763,length:45,convRule:qy},{start:69808,length:3,convRule:hx},{start:69811,length:4,convRule:ox},{start:69815,length:2,convRule:hx},{start:69817,length:2,convRule:ox},{start:69819,length:2,convRule:Xw},{start:69821,length:1,convRule:Qk},{start:69822,length:4,convRule:Xw},{start:69837,length:1,convRule:Qk},{start:69840,length:25,convRule:qy},{start:69872,length:10,convRule:ix},{start:69888,length:3,convRule:ox},{start:69891,length:36,convRule:qy},{start:69927,length:5,convRule:ox},{start:69932,length:1,convRule:hx},{start:69933,length:8,convRule:ox},{start:69942,length:10,convRule:ix},{start:69952,length:4,convRule:Xw},{start:69956,length:1,convRule:qy},{start:69957,length:2,convRule:hx},{start:69959,length:1,convRule:qy},{start:69968,length:35,convRule:qy},{start:70003,length:1,convRule:ox},{start:70004,length:2,convRule:Xw},{start:70006,length:1,convRule:qy},{start:70016,length:2,convRule:ox},{start:70018,length:1,convRule:hx},{start:70019,length:48,convRule:qy},{start:70067,length:3,convRule:hx},{start:70070,length:9,convRule:ox},{start:70079,length:2,convRule:hx},{start:70081,length:4,convRule:qy},{start:70085,length:4,convRule:Xw},{start:70089,length:4,convRule:ox},{start:70093,length:1,convRule:Xw},{start:70094,length:1,convRule:hx},{start:70095,length:1,convRule:ox},{start:70096,length:10,convRule:ix},{start:70106,length:1,convRule:qy},{start:70107,length:1,convRule:Xw},{start:70108,length:1,convRule:qy},{start:70109,length:3,convRule:Xw},{start:70113,length:20,convRule:Kw},{start:70144,length:18,convRule:qy},{start:70163,length:25,convRule:qy},{start:70188,length:3,convRule:hx},{start:70191,length:3,convRule:ox},{start:70194,length:2,convRule:hx},{start:70196,length:1,convRule:ox},{start:70197,length:1,convRule:hx},{start:70198,length:2,convRule:ox},{start:70200,length:6,convRule:Xw},{start:70206,length:1,convRule:ox},{start:70272,length:7,convRule:qy},{start:70280,length:1,convRule:qy},{start:70282,length:4,convRule:qy},{start:70287,length:15,convRule:qy},{start:70303,length:10,convRule:qy},{start:70313,length:1,convRule:Xw},{start:70320,length:47,convRule:qy},{start:70367,length:1,convRule:ox},{start:70368,length:3,convRule:hx},{start:70371,length:8,convRule:ox},{start:70384,length:10,convRule:ix},{start:70400,length:2,convRule:ox},{start:70402,length:2,convRule:hx},{start:70405,length:8,convRule:qy},{start:70415,length:2,convRule:qy},{start:70419,length:22,convRule:qy},{start:70442,length:7,convRule:qy},{start:70450,length:2,convRule:qy},{start:70453,length:5,convRule:qy},{start:70459,length:2,convRule:ox},{start:70461,length:1,convRule:qy},{start:70462,length:2,convRule:hx},{start:70464,length:1,convRule:ox},{start:70465,length:4,convRule:hx},{start:70471,length:2,convRule:hx},{start:70475,length:3,convRule:hx},{start:70480,length:1,convRule:qy},{start:70487,length:1,convRule:hx},{start:70493,length:5,convRule:qy},{start:70498,length:2,convRule:hx},{start:70502,length:7,convRule:ox},{start:70512,length:5,convRule:ox},{start:70656,length:53,convRule:qy},{start:70709,length:3,convRule:hx},{start:70712,length:8,convRule:ox},{start:70720,length:2,convRule:hx},{start:70722,length:3,convRule:ox},{start:70725,length:1,convRule:hx},{start:70726,length:1,convRule:ox},{start:70727,length:4,convRule:qy},{start:70731,length:5,convRule:Xw},{start:70736,length:10,convRule:ix},{start:70746,length:2,convRule:Xw},{start:70749,length:1,convRule:Xw},{start:70750,length:1,convRule:ox},{start:70751,length:3,convRule:qy},{start:70784,length:48,convRule:qy},{start:70832,length:3,convRule:hx},{start:70835,length:6,convRule:ox},{start:70841,length:1,convRule:hx},{start:70842,length:1,convRule:ox},{start:70843,length:4,convRule:hx},{start:70847,length:2,convRule:ox},{start:70849,length:1,convRule:hx},{start:70850,length:2,convRule:ox},{start:70852,length:2,convRule:qy},{start:70854,length:1,convRule:Xw},{start:70855,length:1,convRule:qy},{start:70864,length:10,convRule:ix},{start:71040,length:47,convRule:qy},{start:71087,length:3,convRule:hx},{start:71090,length:4,convRule:ox},{start:71096,length:4,convRule:hx},{start:71100,length:2,convRule:ox},{start:71102,length:1,convRule:hx},{start:71103,length:2,convRule:ox},{start:71105,length:23,convRule:Xw},{start:71128,length:4,convRule:qy},{start:71132,length:2,convRule:ox},{start:71168,length:48,convRule:qy},{start:71216,length:3,convRule:hx},{start:71219,length:8,convRule:ox},{start:71227,length:2,convRule:hx},{start:71229,length:1,convRule:ox},{start:71230,length:1,convRule:hx},{start:71231,length:2,convRule:ox},{start:71233,length:3,convRule:Xw},{start:71236,length:1,convRule:qy},{start:71248,length:10,convRule:ix},{start:71264,length:13,convRule:Xw},{start:71296,length:43,convRule:qy},{start:71339,length:1,convRule:ox},{start:71340,length:1,convRule:hx},{start:71341,length:1,convRule:ox},{start:71342,length:2,convRule:hx},{start:71344,length:6,convRule:ox},{start:71350,length:1,convRule:hx},{start:71351,length:1,convRule:ox},{start:71352,length:1,convRule:qy},{start:71360,length:10,convRule:ix},{start:71424,length:27,convRule:qy},{start:71453,length:3,convRule:ox},{start:71456,length:2,convRule:hx},{start:71458,length:4,convRule:ox},{start:71462,length:1,convRule:hx},{start:71463,length:5,convRule:ox},{start:71472,length:10,convRule:ix},{start:71482,length:2,convRule:Kw},{start:71484,length:3,convRule:Xw},{start:71487,length:1,convRule:Mw},{start:71680,length:44,convRule:qy},{start:71724,length:3,convRule:hx},{start:71727,length:9,convRule:ox},{start:71736,length:1,convRule:hx},{start:71737,length:2,convRule:ox},{start:71739,length:1,convRule:Xw},{start:71840,length:32,convRule:Ly},{start:71872,length:32,convRule:lb},{start:71904,length:10,convRule:ix},{start:71914,length:9,convRule:Kw},{start:71935,length:8,convRule:qy},{start:71945,length:1,convRule:qy},{start:71948,length:8,convRule:qy},{start:71957,length:2,convRule:qy},{start:71960,length:24,convRule:qy},{start:71984,length:6,convRule:hx},{start:71991,length:2,convRule:hx},{start:71995,length:2,convRule:ox},{start:71997,length:1,convRule:hx},{start:71998,length:1,convRule:ox},{start:71999,length:1,convRule:qy},{start:72e3,length:1,convRule:hx},{start:72001,length:1,convRule:qy},{start:72002,length:1,convRule:hx},{start:72003,length:1,convRule:ox},{start:72004,length:3,convRule:Xw},{start:72016,length:10,convRule:ix},{start:72096,length:8,convRule:qy},{start:72106,length:39,convRule:qy},{start:72145,length:3,convRule:hx},{start:72148,length:4,convRule:ox},{start:72154,length:2,convRule:ox},{start:72156,length:4,convRule:hx},{start:72160,length:1,convRule:ox},{start:72161,length:1,convRule:qy},{start:72162,length:1,convRule:Xw},{start:72163,length:1,convRule:qy},{start:72164,length:1,convRule:hx},{start:72192,length:1,convRule:qy},{start:72193,length:10,convRule:ox},{start:72203,length:40,convRule:qy},{start:72243,length:6,convRule:ox},{start:72249,length:1,convRule:hx},{start:72250,length:1,convRule:qy},{start:72251,length:4,convRule:ox},{start:72255,length:8,convRule:Xw},{start:72263,length:1,convRule:ox},{start:72272,length:1,convRule:qy},{start:72273,length:6,convRule:ox},{start:72279,length:2,convRule:hx},{start:72281,length:3,convRule:ox},{start:72284,length:46,convRule:qy},{start:72330,length:13,convRule:ox},{start:72343,length:1,convRule:hx},{start:72344,length:2,convRule:ox},{start:72346,length:3,convRule:Xw},{start:72349,length:1,convRule:qy},{start:72350,length:5,convRule:Xw},{start:72384,length:57,convRule:qy},{start:72704,length:9,convRule:qy},{start:72714,length:37,convRule:qy},{start:72751,length:1,convRule:hx},{start:72752,length:7,convRule:ox},{start:72760,length:6,convRule:ox},{start:72766,length:1,convRule:hx},{start:72767,length:1,convRule:ox},{start:72768,length:1,convRule:qy},{start:72769,length:5,convRule:Xw},{start:72784,length:10,convRule:ix},{start:72794,length:19,convRule:Kw},{start:72816,length:2,convRule:Xw},{start:72818,length:30,convRule:qy},{start:72850,length:22,convRule:ox},{start:72873,length:1,convRule:hx},{start:72874,length:7,convRule:ox},{start:72881,length:1,convRule:hx},{start:72882,length:2,convRule:ox},{start:72884,length:1,convRule:hx},{start:72885,length:2,convRule:ox},{start:72960,length:7,convRule:qy},{start:72968,length:2,convRule:qy},{start:72971,length:38,convRule:qy},{start:73009,length:6,convRule:ox},{start:73018,length:1,convRule:ox},{start:73020,length:2,convRule:ox},{start:73023,length:7,convRule:ox},{start:73030,length:1,convRule:qy},{start:73031,length:1,convRule:ox},{start:73040,length:10,convRule:ix},{start:73056,length:6,convRule:qy},{start:73063,length:2,convRule:qy},{start:73066,length:32,convRule:qy},{start:73098,length:5,convRule:hx},{start:73104,length:2,convRule:ox},{start:73107,length:2,convRule:hx},{start:73109,length:1,convRule:ox},{start:73110,length:1,convRule:hx},{start:73111,length:1,convRule:ox},{start:73112,length:1,convRule:qy},{start:73120,length:10,convRule:ix},{start:73440,length:19,convRule:qy},{start:73459,length:2,convRule:ox},{start:73461,length:2,convRule:hx},{start:73463,length:2,convRule:Xw},{start:73648,length:1,convRule:qy},{start:73664,length:21,convRule:Kw},{start:73685,length:8,convRule:Mw},{start:73693,length:4,convRule:Hw},{start:73697,length:17,convRule:Mw},{start:73727,length:1,convRule:Xw},{start:73728,length:922,convRule:qy},{start:74752,length:111,convRule:tx},{start:74864,length:5,convRule:Xw},{start:74880,length:196,convRule:qy},{start:77824,length:1071,convRule:qy},{start:78896,length:9,convRule:Qk},{start:82944,length:583,convRule:qy},{start:92160,length:569,convRule:qy},{start:92736,length:31,convRule:qy},{start:92768,length:10,convRule:ix},{start:92782,length:2,convRule:Xw},{start:92880,length:30,convRule:qy},{start:92912,length:5,convRule:ox},{start:92917,length:1,convRule:Xw},{start:92928,length:48,convRule:qy},{start:92976,length:7,convRule:ox},{start:92983,length:5,convRule:Xw},{start:92988,length:4,convRule:Mw},{start:92992,length:4,convRule:Vy},{start:92996,length:1,convRule:Xw},{start:92997,length:1,convRule:Mw},{start:93008,length:10,convRule:ix},{start:93019,length:7,convRule:Kw},{start:93027,length:21,convRule:qy},{start:93053,length:19,convRule:qy},{start:93760,length:32,convRule:Ly},{start:93792,length:32,convRule:lb},{start:93824,length:23,convRule:Kw},{start:93847,length:4,convRule:Xw},{start:93952,length:75,convRule:qy},{start:94031,length:1,convRule:ox},{start:94032,length:1,convRule:qy},{start:94033,length:55,convRule:hx},{start:94095,length:4,convRule:ox},{start:94099,length:13,convRule:Vy},{start:94176,length:2,convRule:Vy},{start:94178,length:1,convRule:Xw},{start:94179,length:1,convRule:Vy},{start:94180,length:1,convRule:ox},{start:94192,length:2,convRule:hx},{start:94208,length:6136,convRule:qy},{start:100352,length:1238,convRule:qy},{start:101632,length:9,convRule:qy},{start:110592,length:287,convRule:qy},{start:110928,length:3,convRule:qy},{start:110948,length:4,convRule:qy},{start:110960,length:396,convRule:qy},{start:113664,length:107,convRule:qy},{start:113776,length:13,convRule:qy},{start:113792,length:9,convRule:qy},{start:113808,length:10,convRule:qy},{start:113820,length:1,convRule:Mw},{start:113821,length:2,convRule:ox},{start:113823,length:1,convRule:Xw},{start:113824,length:4,convRule:Qk},{start:118784,length:246,convRule:Mw},{start:119040,length:39,convRule:Mw},{start:119081,length:60,convRule:Mw},{start:119141,length:2,convRule:hx},{start:119143,length:3,convRule:ox},{start:119146,length:3,convRule:Mw},{start:119149,length:6,convRule:hx},{start:119155,length:8,convRule:Qk},{start:119163,length:8,convRule:ox},{start:119171,length:2,convRule:Mw},{start:119173,length:7,convRule:ox},{start:119180,length:30,convRule:Mw},{start:119210,length:4,convRule:ox},{start:119214,length:59,convRule:Mw},{start:119296,length:66,convRule:Mw},{start:119362,length:3,convRule:ox},{start:119365,length:1,convRule:Mw},{start:119520,length:20,convRule:Kw},{start:119552,length:87,convRule:Mw},{start:119648,length:25,convRule:Kw},{start:119808,length:26,convRule:gx},{start:119834,length:26,convRule:Bb},{start:119860,length:26,convRule:gx},{start:119886,length:7,convRule:Bb},{start:119894,length:18,convRule:Bb},{start:119912,length:26,convRule:gx},{start:119938,length:26,convRule:Bb},{start:119964,length:1,convRule:gx},{start:119966,length:2,convRule:gx},{start:119970,length:1,convRule:gx},{start:119973,length:2,convRule:gx},{start:119977,length:4,convRule:gx},{start:119982,length:8,convRule:gx},{start:119990,length:4,convRule:Bb},{start:119995,length:1,convRule:Bb},{start:119997,length:7,convRule:Bb},{start:120005,length:11,convRule:Bb},{start:120016,length:26,convRule:gx},{start:120042,length:26,convRule:Bb},{start:120068,length:2,convRule:gx},{start:120071,length:4,convRule:gx},{start:120077,length:8,convRule:gx},{start:120086,length:7,convRule:gx},{start:120094,length:26,convRule:Bb},{start:120120,length:2,convRule:gx},{start:120123,length:4,convRule:gx},{start:120128,length:5,convRule:gx},{start:120134,length:1,convRule:gx},{start:120138,length:7,convRule:gx},{start:120146,length:26,convRule:Bb},{start:120172,length:26,convRule:gx},{start:120198,length:26,convRule:Bb},{start:120224,length:26,convRule:gx},{start:120250,length:26,convRule:Bb},{start:120276,length:26,convRule:gx},{start:120302,length:26,convRule:Bb},{start:120328,length:26,convRule:gx},{start:120354,length:26,convRule:Bb},{start:120380,length:26,convRule:gx},{start:120406,length:26,convRule:Bb},{start:120432,length:26,convRule:gx},{start:120458,length:28,convRule:Bb},{start:120488,length:25,convRule:gx},{start:120513,length:1,convRule:Bw},{start:120514,length:25,convRule:Bb},{start:120539,length:1,convRule:Bw},{start:120540,length:6,convRule:Bb},{start:120546,length:25,convRule:gx},{start:120571,length:1,convRule:Bw},{start:120572,length:25,convRule:Bb},{start:120597,length:1,convRule:Bw},{start:120598,length:6,convRule:Bb},{start:120604,length:25,convRule:gx},{start:120629,length:1,convRule:Bw},{start:120630,length:25,convRule:Bb},{start:120655,length:1,convRule:Bw},{start:120656,length:6,convRule:Bb},{start:120662,length:25,convRule:gx},{start:120687,length:1,convRule:Bw},{start:120688,length:25,convRule:Bb},{start:120713,length:1,convRule:Bw},{start:120714,length:6,convRule:Bb},{start:120720,length:25,convRule:gx},{start:120745,length:1,convRule:Bw},{start:120746,length:25,convRule:Bb},{start:120771,length:1,convRule:Bw},{start:120772,length:6,convRule:Bb},{start:120778,length:1,convRule:gx},{start:120779,length:1,convRule:Bb},{start:120782,length:50,convRule:ix},{start:120832,length:512,convRule:Mw},{start:121344,length:55,convRule:ox},{start:121399,length:4,convRule:Mw},{start:121403,length:50,convRule:ox},{start:121453,length:8,convRule:Mw},{start:121461,length:1,convRule:ox},{start:121462,length:14,convRule:Mw},{start:121476,length:1,convRule:ox},{start:121477,length:2,convRule:Mw},{start:121479,length:5,convRule:Xw},{start:121499,length:5,convRule:ox},{start:121505,length:15,convRule:ox},{start:122880,length:7,convRule:ox},{start:122888,length:17,convRule:ox},{start:122907,length:7,convRule:ox},{start:122915,length:2,convRule:ox},{start:122918,length:5,convRule:ox},{start:123136,length:45,convRule:qy},{start:123184,length:7,convRule:ox},{start:123191,length:7,convRule:Vy},{start:123200,length:10,convRule:ix},{start:123214,length:1,convRule:qy},{start:123215,length:1,convRule:Mw},{start:123584,length:44,convRule:qy},{start:123628,length:4,convRule:ox},{start:123632,length:10,convRule:ix},{start:123647,length:1,convRule:Hw},{start:124928,length:197,convRule:qy},{start:125127,length:9,convRule:Kw},{start:125136,length:7,convRule:ox},{start:125184,length:34,convRule:iy},{start:125218,length:34,convRule:Hb},{start:125252,length:7,convRule:ox},{start:125259,length:1,convRule:Vy},{start:125264,length:10,convRule:ix},{start:125278,length:2,convRule:Xw},{start:126065,length:59,convRule:Kw},{start:126124,length:1,convRule:Mw},{start:126125,length:3,convRule:Kw},{start:126128,length:1,convRule:Hw},{start:126129,length:4,convRule:Kw},{start:126209,length:45,convRule:Kw},{start:126254,length:1,convRule:Mw},{start:126255,length:15,convRule:Kw},{start:126464,length:4,convRule:qy},{start:126469,length:27,convRule:qy},{start:126497,length:2,convRule:qy},{start:126500,length:1,convRule:qy},{start:126503,length:1,convRule:qy},{start:126505,length:10,convRule:qy},{start:126516,length:4,convRule:qy},{start:126521,length:1,convRule:qy},{start:126523,length:1,convRule:qy},{start:126530,length:1,convRule:qy},{start:126535,length:1,convRule:qy},{start:126537,length:1,convRule:qy},{start:126539,length:1,convRule:qy},{start:126541,length:3,convRule:qy},{start:126545,length:2,convRule:qy},{start:126548,length:1,convRule:qy},{start:126551,length:1,convRule:qy},{start:126553,length:1,convRule:qy},{start:126555,length:1,convRule:qy},{start:126557,length:1,convRule:qy},{start:126559,length:1,convRule:qy},{start:126561,length:2,convRule:qy},{start:126564,length:1,convRule:qy},{start:126567,length:4,convRule:qy},{start:126572,length:7,convRule:qy},{start:126580,length:4,convRule:qy},{start:126585,length:4,convRule:qy},{start:126590,length:1,convRule:qy},{start:126592,length:10,convRule:qy},{start:126603,length:17,convRule:qy},{start:126625,length:3,convRule:qy},{start:126629,length:5,convRule:qy},{start:126635,length:17,convRule:qy},{start:126704,length:2,convRule:Bw},{start:126976,length:44,convRule:Mw},{start:127024,length:100,convRule:Mw},{start:127136,length:15,convRule:Mw},{start:127153,length:15,convRule:Mw},{start:127169,length:15,convRule:Mw},{start:127185,length:37,convRule:Mw},{start:127232,length:13,convRule:Kw},{start:127245,length:161,convRule:Mw},{start:127462,length:29,convRule:Mw},{start:127504,length:44,convRule:Mw},{start:127552,length:9,convRule:Mw},{start:127568,length:2,convRule:Mw},{start:127584,length:6,convRule:Mw},{start:127744,length:251,convRule:Mw},{start:127995,length:5,convRule:Uw},{start:128e3,length:728,convRule:Mw},{start:128736,length:13,convRule:Mw},{start:128752,length:13,convRule:Mw},{start:128768,length:116,convRule:Mw},{start:128896,length:89,convRule:Mw},{start:128992,length:12,convRule:Mw},{start:129024,length:12,convRule:Mw},{start:129040,length:56,convRule:Mw},{start:129104,length:10,convRule:Mw},{start:129120,length:40,convRule:Mw},{start:129168,length:30,convRule:Mw},{start:129200,length:2,convRule:Mw},{start:129280,length:121,convRule:Mw},{start:129402,length:82,convRule:Mw},{start:129485,length:135,convRule:Mw},{start:129632,length:14,convRule:Mw},{start:129648,length:5,convRule:Mw},{start:129656,length:3,convRule:Mw},{start:129664,length:7,convRule:Mw},{start:129680,length:25,convRule:Mw},{start:129712,length:7,convRule:Mw},{start:129728,length:3,convRule:Mw},{start:129744,length:7,convRule:Mw},{start:129792,length:147,convRule:Mw},{start:129940,length:55,convRule:Mw},{start:130032,length:10,convRule:ix},{start:131072,length:42718,convRule:qy},{start:173824,length:4149,convRule:qy},{start:177984,length:222,convRule:qy},{start:178208,length:5762,convRule:qy},{start:183984,length:7473,convRule:qy},{start:194560,length:542,convRule:qy},{start:196608,length:4939,convRule:qy},{start:917505,length:1,convRule:Qk},{start:917536,length:96,convRule:Qk},{start:917760,length:240,convRule:ox},{start:983040,length:65534,convRule:Dk},{start:1048576,length:65534,convRule:Dk}],Bk=function(t){return function(e){var n=e<256?63:3396,r=$k(Fk)(e)(n);if(r instanceof dg)return!1;if(r instanceof vg)return Rg(nw(r.value0.category)(t));throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5645, column 5 - line 5647, column 86): "+[r.constructor.name])}},Uk=Bk([fx,$y]),Hk=(Array.from,"undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator]),qk=(String.prototype.fromCodePoint,"function"==typeof String.prototype.codePointAt);const Xk=function(t){return qk?function(t){return t.codePointAt(0)}:t};var Vk=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},zk=GO(tw),Wk=ng(tg),jk=function(t){return function(e){return 65536+((1024*(t-55296|0)|0)+(e-56320|0)|0)|0}},Gk=function(t){return 56320<=t&&t<=57343},Yk=function(t){return 55296<=t&&t<=56319},Zk=function(t){var e=CR(t);if(0===e)return dg.value;if(1===e)return new vg({head:zk(SR(0)(t)),tail:""});var n=zk(SR(1)(t)),r=zk(SR(0)(t)),i=Yk(r)&&Gk(n);return new vg(i?{head:jk(r)(n),tail:TR(2)(t)}:{head:r,tail:TR(1)(t)})},Kk=function(t){var e=zk(SR(0)(t));if(Yk(e)&&CR(t)>1){var n=zk(SR(1)(t));return Gk(n)?jk(e)(n):e}return e},Jk=Xk(Kk),tC={eq:function(t){return function(e){return t===e}}},eC={compare:function(t){return function(e){return Wk(t)(e)}},Eq0:function(){return tC}},nC=function(t){return function(e){var n,r=t,i=!1;function s(t,n){var s=Zk(n);return s instanceof vg?0===t?(i=!0,new vg(s.value0.head)):(r=t-1|0,void(e=s.value0.tail)):(i=!0,dg.value)}for(;!i;)n=s(r,e);return n}},rC=function(t){return function(e){return t<0||0===t&&""===e?dg.value:0===t?new vg(Jk(e)):(n=nC,function(t){return function(e){return function(r){return function(i){return function(s){var o=s.length;if(i<0||i>=o)return e;if(Hk)for(var l=s[Symbol.iterator](),a=i;;--a){var u=l.next();if(u.done)return e;if(0===a)return t(r(u.value))}return n(i)(s)}}}}})(vg.create)(dg.value)(Jk)(t)(e);var n}},iC={bottom:0,top:1114111,Ord0:function(){return eC}},sC=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){return t>=0&&t<=1114111?new vg(t):dg.value},Bounded0:function(){return iC},Enum1:function(){return oC(0)}}}(),oC=Vk("enumCodePoint","Data.String.CodePoints",(function(){return{succ:YO(jO(sC))(GO(sC)),pred:ZO(jO(sC))(GO(sC)),Ord0:function(){return eC}}})),lC=GO(sC),aC=function(t){return Uk(lC(t))},uC=Lm(cR),cC=function(t){if(t instanceof dg)return LR("unsafeFromJust: unexpected Nothing");if(t instanceof vg)return t.value0;throw new Error("Failed pattern match at Language.CP.Util (line 25, column 1 - line 25, column 41): "+[t.constructor.name])},hC=function(){var t=rC(0);return function(e){return aC(cC(t(e)))}}(),fC=function(t){return function(e){if(e instanceof lR)return LR("foldr1: empty list");if(e instanceof aR&&e.value1 instanceof lR)return e.value0;if(e instanceof aR)return t(e.value0)(fC(t)(e.value1));throw new Error("Failed pattern match at Language.CP.Util (line 20, column 1 - line 20, column 49): "+[t.constructor.name,e.constructor.name])}},dC=function(t){return function(e){if(e instanceof lR)return LR("foldl1: empty list");if(e instanceof aR)return uC(t)(e.value0)(e.value1);throw new Error("Failed pattern match at Language.CP.Util (line 16, column 1 - line 16, column 49): "+[t.constructor.name,e.constructor.name])}},vC=function(t){return function(e){return t+" "+e}},gC=hg(ug),pC=hg(ag),mC=hg(lg),RC=hg(cg),OC=hg(DO),wC=hg(BO),xC=Dm(Im)(Qg),yC=av(dv),bC=eO(Jv),kC=nO(Jv),CC=function(){function t(){}return t.value=new t,t}(),TC=function(){function t(){}return t.value=new t,t}(),SC=function(){function t(){}return t.value=new t,t}(),AC=function(){function t(){}return t.value=new t,t}(),PC=function(){function t(){}return t.value=new t,t}(),_C=function(){function t(){}return t.value=new t,t}(),EC=function(){function t(){}return t.value=new t,t}(),LC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),DC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),IC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),NC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),MC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),$C=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),FC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),BC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),UC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),HC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),qC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),XC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),VC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),zC=function(){function t(){}return t.value=new t,t}(),WC=function(){function t(){}return t.value=new t,t}(),jC=function(){function t(){}return t.value=new t,t}(),GC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),YC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),ZC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),KC=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),JC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),tT=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),eT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),nT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),rT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),iT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),sT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),oT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),lT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),aT=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),uT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),cT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),hT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),fT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),dT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),vT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),gT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),pT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),RT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),OT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),xT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),yT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),bT={show:function(t){if(t instanceof CC)return"Int";if(t instanceof TC)return"Double";if(t instanceof SC)return"String";if(t instanceof AC)return"Bool";if(t instanceof PC)return"()";if(t instanceof _C)return"Top";if(t instanceof EC)return"Bot";if(t instanceof LC&&t.value2)return"Trait"+XO(vC(hg(bT)(t.value0))(vC("=>")(hg(bT)(t.value1))));if(t instanceof LC&&!t.value2)return UO(vC(hg(bT)(t.value0))(vC("->")(hg(bT)(t.value1))));if(t instanceof DC)return UO(vC(hg(bT)(t.value0))(vC("&")(hg(bT)(t.value1))));if(t instanceof QC)return qO(t.value0+vC(t.value2?"?":"")(vC(":")(hg(bT)(t.value1))));if(t instanceof IC)return t.value0;if(t instanceof NC)return UO(vC("forall")(vC(t.value0)(vC("*")(hg(bT)(t.value1)+vC(".")(hg(bT)(t.value2))))));if(t instanceof MC)return UO(vC("mu")(t.value0+vC(".")(hg(bT)(t.value1))));if(t instanceof $C)return UO(vC("Ref")(hg(bT)(t.value0)));if(t instanceof FC)return HO(hg(bT)(t.value0));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 36, column 1 - line 56, column 39): "+[t.constructor.name])}},kT=hg(bT),CT={show:function(t){if(t instanceof HC)return gC(t.value0);if(t instanceof qC)return pC(t.value0);if(t instanceof XC)return mC(t.value0);if(t instanceof VC)return RC(t.value0);if(t instanceof zC)return"()";if(t instanceof WC)return"{}";if(t instanceof jC)return"undefined";if(t instanceof GC)return OC(t.value0)+hg(CT)(t.value1);if(t instanceof YC)return UO(vC(hg(CT)(t.value1))(vC(wC(t.value0))(hg(CT)(t.value2))));if(t instanceof ZC)return UO(vC("if")(vC(hg(CT)(t.value0))(vC("then")(vC(hg(CT)(t.value1))(vC("else")(hg(CT)(t.value2)))))));if(t instanceof KC)return t.value0;if(t instanceof JC)return UO(vC(hg(CT)(t.value0))(hg(CT)(t.value1)));if(t instanceof tT)return UO("λ"+(t.value0+vC(".")(vC(hg(CT)(t.value1))(vC(":")(vC(kT(t.value2))(vC("→")(kT(t.value3))))))));if(t instanceof eT)return UO(vC("fix")(vC(t.value0)(vC(":")(kT(t.value2)+vC(".")(hg(CT)(t.value1))))));if(t instanceof nT)return UO(vC(hg(CT)(t.value0))(vC(":")(kT(t.value1))));if(t instanceof rT)return UO(vC(hg(CT)(t.value0))(vC(",")(hg(CT)(t.value1))));if(t instanceof iT)return qO(vC(t.value0)(vC(":")(vC(kT(t.value1))(vC("=")(hg(CT)(t.value2))))));if(t instanceof sT)return hg(CT)(t.value0)+"."+t.value1;if(t instanceof oT)return hg(CT)(t.value0)+"."+vC(t.value1)(vC(":")(vC(kT(t.value2))(vC("??")(hg(CT)(t.value3)))));if(t instanceof lT)return UO(vC(hg(CT)(t.value0))("@"+kT(t.value1)));if(t instanceof aT)return UO("Λ"+(t.value0+vC(".")(vC(hg(CT)(t.value2))(vC(":")("∀"+vC(t.value0)(vC("*")(kT(t.value1)+vC(".")(kT(t.value3)))))))));if(t instanceof uT)return vC(t.value0)(vC("=")(hg(CT)(t.value1)+";\n"+hg(CT)(t.value2)));if(t instanceof cT)return UO("fold @"+vC(kT(t.value0))(hg(CT)(t.value1)));if(t instanceof hT)return UO("unfold @"+vC(kT(t.value0))(hg(CT)(t.value1)));if(t instanceof fT)return UO(vC("ref")(hg(CT)(t.value0)));if(t instanceof dT)return"!"+hg(CT)(t.value0);if(t instanceof vT)return UO(vC(hg(CT)(t.value0))(vC(":=")(hg(CT)(t.value1))));if(t instanceof gT)return UO(vC("toString")(hg(CT)(t.value0)));if(t instanceof pT)return UO(vC(HO(xC("; ")(yC(hg(CT))(t.value1))))(vC(":")(HO(kT(t.value0)))));if(t instanceof mT)return hg(CT)(t.value0);if(t instanceof RT)return XO("Cell");if(t instanceof OT)return XO(vC("Closure")(hg(CT)(t.value1)));if(t instanceof wT)return XO(vC("HOAS")(vC(kT(t.value1))(vC("→")(kT(t.value2)))));if(t instanceof xT)return XO(vC("HOAS fix")(kT(t.value1)));if(t instanceof yT)return XO(vC("HOAS ∀*")(kT(t.value1)));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 101, column 1 - line 142, column 72): "+[t.constructor.name])}},TT=hg(CT),ST={show:function(t){if(t instanceof BC)return TT(t.value0);if(t instanceof UC&&t.value0 instanceof vg)return kT(t.value0.value0);if(t instanceof UC&&t.value0 instanceof dg)return"*";throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 292, column 1 - line 295, column 30): "+[t.constructor.name])}},AT={eq:function(t){return function(e){return t instanceof CC&&e instanceof CC||(t instanceof TC&&e instanceof TC||(t instanceof SC&&e instanceof SC||(t instanceof AC&&e instanceof AC||(t instanceof PC&&e instanceof PC||(t instanceof _C&&e instanceof _C||(t instanceof EC&&e instanceof EC||(t instanceof LC&&e instanceof LC?Xv(AT)(t.value0)(e.value0)&&Xv(AT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof DC&&e instanceof DC?Xv(AT)(t.value0)(e.value0)&&Xv(AT)(t.value1)(e.value1):t instanceof QC&&e instanceof QC?t.value0===e.value0&&Xv(AT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof IC&&e instanceof IC?t.value0===e.value0:t instanceof NC&&e instanceof NC?t.value0===e.value0&&Xv(AT)(t.value1)(e.value1)&&Xv(AT)(t.value2)(e.value2):t instanceof MC&&e instanceof MC?t.value0===e.value0&&Xv(AT)(t.value1)(e.value1):(t instanceof $C&&e instanceof $C||t instanceof FC&&e instanceof FC)&&Xv(AT)(t.value0)(e.value0))))))))}}},PT=function(t){return function(e){return function(n){return n instanceof LC?new LC(PT(t)(e)(n.value0),PT(t)(e)(n.value1),n.value2):n instanceof DC?new DC(PT(t)(e)(n.value0),PT(t)(e)(n.value1)):n instanceof QC?new QC(n.value0,PT(t)(e)(n.value1),n.value2):n instanceof IC&&t===n.value0?e:n instanceof NC?new NC(n.value0,PT(t)(e)(n.value1),t===n.value0?n.value2:PT(t)(e)(n.value2)):n instanceof MC&&t!==n.value0?new MC(n.value0,PT(t)(e)(n.value1)):n instanceof $C?new $C(PT(t)(e)(n.value0)):n instanceof FC?new FC(PT(t)(e)(n.value0)):n}}},_T=function(t){return t instanceof MC?PT(t.value0)(t)(t.value1):t},ET=function(t){return function(e){if(e instanceof LC)return new LC(ET(t)(e.value0),ET(t)(e.value1),e.value2);if(e instanceof DC)return new DC(ET(t)(e.value0),ET(t)(e.value1));if(e instanceof QC)return new QC(e.value0,ET(t)(e.value1),e.value2);if(e instanceof IC){var n=bC(e.value0)(t);return n instanceof vg&&n.value0 instanceof Sg?n.value0.value0:new IC(e.value0)}return e instanceof NC?new NC(e.value0,ET(t)(e.value1),ET(t)(e.value2)):e instanceof MC?new MC(e.value0,ET(t)(e.value1)):e instanceof $C?new $C(ET(t)(e.value0)):e instanceof FC?new FC(ET(t)(e.value0)):e}},LT=function(t){return function(e){return function(n){return function(r){return ET(kC(e)(new Sg(r))(t))(n)}}}},DT=LT(oO),QT=function(t){return function(e){return function(n){if(n instanceof GC)return new GC(n.value0,QT(t)(e)(n.value1));if(n instanceof YC)return new YC(n.value0,QT(t)(e)(n.value1),QT(t)(e)(n.value2));if(n instanceof ZC)return new ZC(QT(t)(e)(n.value0),QT(t)(e)(n.value1),QT(t)(e)(n.value2));if(n instanceof JC)return new JC(QT(t)(e)(n.value0),QT(t)(e)(n.value1),n.value2);if(n instanceof tT)return new tT(n.value0,QT(t)(e)(n.value1),PT(t)(e)(n.value2),PT(t)(e)(n.value3),n.value4,n.value5);if(n instanceof eT)return new eT(n.value0,QT(t)(e)(n.value1),PT(t)(e)(n.value2));if(n instanceof nT)return new nT(QT(t)(e)(n.value0),PT(t)(e)(n.value1));if(n instanceof rT)return new rT(QT(t)(e)(n.value0),QT(t)(e)(n.value1));if(n instanceof iT)return new iT(n.value0,PT(t)(e)(n.value1),QT(t)(e)(n.value2));if(n instanceof sT)return new sT(QT(t)(e)(n.value0),n.value1);if(n instanceof oT)return new oT(QT(t)(e)(n.value0),n.value1,PT(t)(e)(n.value2),QT(t)(e)(n.value3));if(n instanceof lT)return new lT(QT(t)(e)(n.value0),PT(t)(e)(n.value1));if(n instanceof aT){var r=aT.create(n.value0)(PT(t)(e)(n.value1));return t===n.value0?r(n.value2)(n.value3)(n.value4):r(QT(t)(e)(n.value2))(PT(t)(e)(n.value3))(n.value4)}return n instanceof uT?new uT(n.value0,QT(t)(e)(n.value1),QT(t)(e)(n.value2)):n instanceof cT?new cT(PT(t)(e)(n.value0),QT(t)(e)(n.value1)):n instanceof hT?new hT(PT(t)(e)(n.value0),QT(t)(e)(n.value1)):n instanceof fT?new fT(QT(t)(e)(n.value0)):n instanceof dT?new dT(QT(t)(e)(n.value0)):n instanceof vT?new vT(QT(t)(e)(n.value0),QT(t)(e)(n.value1)):n instanceof gT?new gT(QT(t)(e)(n.value0)):n instanceof pT?new pT(PT(t)(e)(n.value0),yC(QT(t)(e))(n.value1)):n instanceof mT?new mT(QT(t)(e)(n.value0)):n}}},IT=function(t){return function(e){return function(n){return n instanceof GC?new GC(n.value0,IT(t)(e)(n.value1)):n instanceof YC?new YC(n.value0,IT(t)(e)(n.value1),IT(t)(e)(n.value2)):n instanceof ZC?new ZC(IT(t)(e)(n.value0),IT(t)(e)(n.value1),IT(t)(e)(n.value2)):n instanceof KC&&t===n.value0?e:n instanceof JC?new JC(IT(t)(e)(n.value0),IT(t)(e)(n.value1),n.value2):n instanceof tT&&t!==n.value0?new tT(n.value0,IT(t)(e)(n.value1),n.value2,n.value3,n.value4,n.value5):n instanceof eT&&t!==n.value0?new eT(n.value0,IT(t)(e)(n.value1),n.value2):n instanceof nT?new nT(IT(t)(e)(n.value0),n.value1):n instanceof rT?new rT(IT(t)(e)(n.value0),IT(t)(e)(n.value1)):n instanceof iT?new iT(n.value0,n.value1,IT(t)(e)(n.value2)):n instanceof sT?new sT(IT(t)(e)(n.value0),n.value1):n instanceof oT?new oT(IT(t)(e)(n.value0),n.value1,n.value2,IT(t)(e)(n.value3)):n instanceof lT?new lT(IT(t)(e)(n.value0),n.value1):n instanceof aT?new aT(n.value0,n.value1,IT(t)(e)(n.value2),n.value3,n.value4):n instanceof uT?new uT(n.value0,IT(t)(e)(n.value1),t===n.value0?n.value2:IT(t)(e)(n.value2)):n instanceof cT?new cT(n.value0,IT(t)(e)(n.value1)):n instanceof hT?new hT(n.value0,IT(t)(e)(n.value1)):n instanceof fT?new fT(IT(t)(e)(n.value0)):n instanceof dT?new dT(IT(t)(e)(n.value0)):n instanceof vT?new vT(IT(t)(e)(n.value0),IT(t)(e)(n.value1)):n instanceof gT?new gT(IT(t)(e)(n.value0)):n instanceof pT?new pT(n.value0,yC(IT(t)(e))(n.value1)):n instanceof mT?new mT(IT(t)(e)(n.value0)):n}}},NT=function(t){return function(e){if(e instanceof GC)return new GC(e.value0,NT(t)(e.value1));if(e instanceof YC)return new YC(e.value0,NT(t)(e.value1),NT(t)(e.value2));if(e instanceof ZC)return new ZC(NT(t)(e.value0),NT(t)(e.value1),NT(t)(e.value2));if(e instanceof KC){var n=bC(e.value0)(t);return n instanceof vg&&n.value0 instanceof Tg?n.value0.value0:new KC(e.value0)}if(e instanceof JC)return new JC(NT(t)(e.value0),NT(t)(e.value1),e.value2);if(e instanceof tT)return new wT((function(n){return NT(kC(e.value0)(new Tg(n))(t))(e.value1)}),ET(t)(e.value2),ET(t)(e.value3),e.value4);if(e instanceof eT)return new xT((function(n){return NT(kC(e.value0)(new Tg(n))(t))(e.value1)}),ET(t)(e.value2));if(e instanceof nT)return new nT(NT(t)(e.value0),ET(t)(e.value1));if(e instanceof rT)return new rT(NT(t)(e.value0),NT(t)(e.value1));if(e instanceof iT)return new iT(e.value0,ET(t)(e.value1),NT(t)(e.value2));if(e instanceof sT)return new sT(NT(t)(e.value0),e.value1);if(e instanceof oT)return new oT(NT(t)(e.value0),e.value1,e.value2,NT(t)(e.value3));if(e instanceof lT)return new lT(NT(t)(e.value0),ET(t)(e.value1));if(e instanceof aT)return new yT((function(n){return NT(kC(e.value0)(new Sg(n))(t))(e.value2)}),ET(t)(e.value1),LT(t)(e.value0)(e.value3),e.value4);if(e instanceof uT){var r=new RT(aO(NT(t)(e.value1)));return NT(kC(e.value0)(new Tg(r))(t))(e.value2)}return e instanceof cT?new cT(ET(t)(e.value0),NT(t)(e.value1)):e instanceof hT?new hT(ET(t)(e.value0),NT(t)(e.value1)):e instanceof fT?new fT(NT(t)(e.value0)):e instanceof dT?new dT(NT(t)(e.value0)):e instanceof vT?new vT(NT(t)(e.value0),NT(t)(e.value1)):e instanceof gT?new gT(NT(t)(e.value0)):e instanceof pT?new pT(ET(t)(e.value0),yC(NT(t))(e.value1)):e instanceof mT?NT(t)(e.value0):e}},MT=NT(oO),$T=Tv(kg),FT=Xv(AT),BT=function(t){return t instanceof DC?new vg(new ip(t.value0,t.value1)):t instanceof LC?$T(BT(t.value1))((function(e){return new vg(new ip(new LC(t.value0,e.value0,t.value2),new LC(t.value0,e.value1,t.value2)))})):t instanceof QC?$T(BT(t.value1))((function(e){return new vg(new ip(new QC(t.value0,e.value0,t.value2),new QC(t.value0,e.value1,t.value2)))})):t instanceof NC?$T(BT(t.value2))((function(e){return new vg(new ip(new NC(t.value0,t.value1,e.value0),new NC(t.value0,t.value1,e.value1)))})):dg.value},UT=function(t){return t instanceof _C||(t instanceof LC?UT(t.value1):t instanceof DC?UT(t.value0)&&UT(t.value1):t instanceof QC?UT(t.value1):t instanceof NC?UT(t.value2):t instanceof MC&&UT(t.value1))},HT=function(t){return function(e){if(t instanceof EC)return!0;if(UT(e))return!0;var n=BT(e);return n instanceof vg?HT(t)(n.value0.value0)&&HT(t)(n.value0.value1):function(n){if(t instanceof LC&&e instanceof LC)return HT(e.value0)(t.value0)&&HT(t.value1)(e.value1);if(t instanceof DC)return HT(t.value0)(e)||HT(t.value1)(e);if(e instanceof QC&&e.value2)return!0;if(t instanceof QC&&!t.value2&&e instanceof QC&&!e.value2)return t.value0===e.value0&&HT(t.value1)(e.value1);if(t instanceof NC&&e instanceof NC)return HT(e.value1)(t.value1)&&HT(t.value2)(PT(e.value0)(new IC(t.value0))(e.value2));if(t instanceof MC&&e instanceof MC){var r=PT(e.value0)(new IC(t.value0))(e.value1);return HT(PT(t.value0)(new QC(t.value0,t.value1,!1))(t.value1))(PT(e.value0)(new QC(t.value0,r,!1))(e.value1))}return t instanceof $C&&e instanceof $C?HT(t.value0)(e.value0)&&HT(e.value0)(t.value0):t instanceof FC&&e instanceof FC?HT(t.value0)(e.value0):!!FT(t)(e)}()}},qT=function(t){return function(e){return t instanceof LC&&e instanceof LC||t instanceof DC&&e instanceof DC?qT(t.value0)(e.value0)&&qT(t.value1)(e.value1):t instanceof QC&&e instanceof QC?t.value0===e.value0&&qT(t.value1)(e.value1)&&t.value2===e.value2:t instanceof NC&&e instanceof NC?qT(t.value1)(e.value1)&&qT(t.value2)(PT(e.value0)(new IC(t.value0))(e.value2)):t instanceof MC&&e instanceof MC?qT(t.value1)(PT(e.value0)(new IC(t.value0))(e.value1)):t instanceof $C&&e instanceof $C||t instanceof FC&&e instanceof FC?qT(t.value0)(e.value0):!!FT(t)(e)}},XT=Cp(),VT=Nm(cR),zT=Lm(cR),WT=_m(cR),jT=function(t){return XT(tO(t))},GT=function(t){return sO(t)},YT={foldMap:function(t){var e=VT(t);return function(t){var n=e(t);return function(t){return n(GT(t))}}},foldl:function(t){return function(e){var n=zT(t)(e);return function(t){return n(GT(t))}}},foldr:function(t){return function(e){var n=WT(t)(e);return function(t){return n(GT(t))}}}},ZT=oO;var KT=ap(Fv),JT=uv(uR),tS=av(uR),eS=wm(xm),nS=av(Og),rS=$m(cR)(rp),iS=Dm(cR)(Qg),sS=hg(ug),oS=hg(ag),lS=hg(lg),aS=hg(cg),uS=hg(DO),cS=hg(BO),hS=Dm(Im)(Qg),fS=av(dv),dS=Nm(cR)(Qg),vS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),gS=function(){function t(){}return t.value=new t,t}(),pS=function(){function t(){}return t.value=new t,t}(),mS=function(){function t(){}return t.value=new t,t}(),RS=function(){function t(){}return t.value=new t,t}(),OS=function(){function t(){}return t.value=new t,t}(),wS=function(){function t(){}return t.value=new t,t}(),xS=function(){function t(){}return t.value=new t,t}(),yS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),bS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),kS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),CS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),TS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),SS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),AS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),PS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),_S=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ES=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),LS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),DS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),QS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),NS=function(){function t(){}return t.value=new t,t}(),MS=function(){function t(){}return t.value=new t,t}(),$S=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),FS=function(){function t(){}return t.value=new t,t}(),BS=function(){function t(){}return t.value=new t,t}(),US=function(){function t(){}return t.value=new t,t}(),HS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),qS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),XS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),VS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),zS=function(){function t(){}return t.value=new t,t}(),WS=function(){function t(){}return t.value=new t,t}(),jS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),GS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),YS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),ZS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),KS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),JS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),tA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),eA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),nA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),rA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),iA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),sA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),oA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),lA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),aA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),uA=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),cA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),hA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),fA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),dA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),vA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),gA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),pA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),RA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),OA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),wA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),xA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),yA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),bA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),kA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),CA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),TA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),SA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),AA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),PA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),_A=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),EA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),LA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),DA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),QA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),IA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),NA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),MA={show:function(t){if(t instanceof FS)return",";if(t instanceof BS)return"+,";if(t instanceof US)return",+";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 114, column 1 - line 117, column 23): "+[t.constructor.name])}},$A=hg(MA),FA={eq:function(t){return function(e){return t instanceof gS&&e instanceof gS||(t instanceof pS&&e instanceof pS||(t instanceof mS&&e instanceof mS||(t instanceof RS&&e instanceof RS||(t instanceof OS&&e instanceof OS||(t instanceof wS&&e instanceof wS||(t instanceof xS&&e instanceof xS||(t instanceof yS&&e instanceof yS||t instanceof bS&&e instanceof bS?Xv(FA)(t.value0)(e.value0)&&Xv(FA)(t.value1)(e.value1):t instanceof kS&&e instanceof kS?Xv(mR(BA))(t.value0)(e.value0):t instanceof CS&&e instanceof CS?t.value0===e.value0:t instanceof TS&&e instanceof TS?Xv(mR(KT(yg(FA))))(t.value0)(e.value0)&&Xv(FA)(t.value1)(e.value1):t instanceof SS&&e instanceof SS?t.value0===e.value0&&Xv(FA)(t.value1)(e.value1):t instanceof AS&&e instanceof AS?Xv(FA)(t.value0)(e.value0):t instanceof PS&&e instanceof PS?Xv(FA)(t.value0)(e.value0)&&Xv(FA)(t.value1)(e.value1):t instanceof _S&&e instanceof _S?t.value0===e.value0&&Xv(FA)(t.value1)(e.value1):t instanceof ES&&e instanceof ES?Xv(yg(FA))(t.value0)(e.value0)&&Xv(FA)(t.value1)(e.value1):t instanceof LS&&e instanceof LS?Xv(FA)(t.value0)(e.value0)&&Xv(yg(FA))(t.value1)(e.value1):t instanceof DS&&e instanceof DS?t.value0===e.value0&&t.value1===e.value1&&Xv(FA)(t.value2)(e.value2):t instanceof QS&&e instanceof QS?Xv(FA)(t.value0)(e.value0):t instanceof IS&&e instanceof IS&&(Xv(FA)(t.value0)(e.value0)&&Xv(FA)(t.value1)(e.value1)))))))))}}},BA={eq:function(t){return function(e){return t.value0===e.value0&&Xv(FA)(t.value1)(e.value1)&&t.value2===e.value2}}},UA=function(t){return function(e){return function(n){return n instanceof yS?new yS(UA(t)(e)(n.value0),UA(t)(e)(n.value1)):n instanceof bS?new bS(UA(t)(e)(n.value0),UA(t)(e)(n.value1)):n instanceof kS?new kS(JT(n.value0)((function(n){return new vS(n.value0,UA(t)(e)(n.value1),n.value2)}))):n instanceof CS?t===n.value0?e:new CS(n.value0):n instanceof TS?new TS(tS(eS(nS(UA(t)(e))))(n.value0),rS((function(e){return lp(e)===t}))(n.value0)?n.value1:UA(t)(e)(n.value1)):n instanceof SS?new SS(n.value0,t===n.value0?n.value1:UA(t)(e)(n.value1)):n instanceof AS?new AS(UA(t)(e)(n.value0)):n instanceof PS?new PS(UA(t)(e)(n.value0),UA(t)(e)(n.value1)):n instanceof _S?new _S(n.value0,t===n.value0?n.value1:UA(t)(e)(n.value1)):n instanceof ES?new ES(nS(UA(t)(e))(n.value0),UA(t)(e)(n.value1)):n instanceof LS?new LS(UA(t)(e)(n.value0),nS(UA(t)(e))(n.value1)):n instanceof DS?new DS(n.value0,n.value1,t===n.value0||t===n.value1?n.value2:UA(t)(e)(n.value2)):n instanceof QS?new QS(UA(t)(e)(n.value0)):n instanceof IS?new IS(UA(t)(e)(n.value0),UA(t)(e)(n.value1)):n}}},HA=function(t){var e=hg(t);return function(t){return function(n){return function(r){return pg("")((function(n){return t+(e(n)+r)}))(n)}}}},qA=function(t){var e=function(t){return _m(t)((function(t){return function(t){return!1}}))(!0)}(t),n=Dm(t);return function(t){var r=Ig(t),i=mv(t.Semigroup0()),s=n(t);return function(t){return function(n){return e(n)?r:i(s(t)(n))(t)}}}},XA=qA(cR)(Qg),VA=function(t){return XA(" ")(JT(t)((function(t){return pg(lp(t))((function(e){return UO(vC(lp(t))(vC("*")(hg(zA)(e))))}))(op(t))})))},zA={show:function(t){if(t instanceof gS)return"Int";if(t instanceof pS)return"Double";if(t instanceof mS)return"String";if(t instanceof RS)return"Bool";if(t instanceof OS)return"()";if(t instanceof wS)return"Top";if(t instanceof xS)return"Bot";if(t instanceof yS)return UO(vC(hg(zA)(t.value0))(vC("->")(hg(zA)(t.value1))));if(t instanceof bS)return UO(vC(hg(zA)(t.value0))(vC("&")(hg(zA)(t.value1))));if(t instanceof kS)return qO(WA(t.value0));if(t instanceof CS)return t.value0;if(t instanceof TS)return UO(vC("forall")(VA(t.value0)+vC(".")(hg(zA)(t.value1))));if(t instanceof SS)return UO(vC("mu")(t.value0+vC(".")(hg(zA)(t.value1))));if(t instanceof AS)return UO(vC("Ref")(hg(zA)(t.value0)));if(t instanceof PS)return UO(vC(hg(zA)(t.value0))(hg(zA)(t.value1)));if(t instanceof _S)return UO("\\"+vC(t.value0)(vC("->")(hg(zA)(t.value1))));if(t instanceof ES)return"Trait"+XO(HA(zA)("")(t.value0)(" => ")+hg(zA)(t.value1));if(t instanceof LS)return XO(hg(zA)(t.value0)+HA(zA)(" => ")(t.value1)(""));if(t instanceof DS)return UO("\\"+vC(XO(t.value0+vC(",")(t.value1)))(vC("->")(hg(zA)(t.value2))));if(t instanceof QS)return HO(hg(zA)(t.value0));if(t instanceof IS)return UO(vC(hg(zA)(t.value0))(vC("\\")(hg(zA)(t.value1))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 40, column 1 - line 63, column 62): "+[t.constructor.name])}},WA=function(t){return iS("; ")(JT(t)((function(t){return t.value0+vC(t.value2?"?":"")(vC(":")(hg(zA)(t.value1)))})))},jA=hg(zA),GA=HA(zA),YA=nS((function(t){return HO(function(){if(t.value1 instanceof vg)return vC(t.value0)(vC(":")(jA(t.value1.value0)));if(t.value1 instanceof dg)return t.value0;throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 288, column 45 - line 290, column 15): "+[t.value1.constructor.name])}())})),ZA=function(t){var e=function(t){return vC(t.value0)(vC("=")(hg(KA)(t.value1)+"; "))};return XA(" ")(JT(t)((function(t){if(t instanceof PA&&t.value1 instanceof vg)return UO(vC(t.value0)(vC(":")(jA(t.value1.value0))));if(t instanceof PA&&t.value1 instanceof dg)return t.value0;if(t instanceof _A)return"{"+dS(e)(t.value0)+"..}";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 258, column 53 - line 261, column 66): "+[t.constructor.name])})))},KA={show:function(t){if(t instanceof HS)return sS(t.value0);if(t instanceof qS)return oS(t.value0);if(t instanceof XS)return lS(t.value0);if(t instanceof VS)return aS(t.value0);if(t instanceof zS)return"()";if(t instanceof WS)return"undefined";if(t instanceof jS)return uS(t.value0)+hg(KA)(t.value1);if(t instanceof GS)return UO(vC(hg(KA)(t.value1))(vC(cS(t.value0))(hg(KA)(t.value2))));if(t instanceof YS)return UO(vC("if")(vC(hg(KA)(t.value0))(vC("then")(vC(hg(KA)(t.value1))(vC("else")(hg(KA)(t.value2)))))));if(t instanceof ZS)return hC(t.value0)?"$"+t.value0:t.value0;if(t instanceof KS)return UO(vC(hg(KA)(t.value0))(hg(KA)(t.value1)));if(t instanceof JS)return UO("\\"+(ZA(t.value0)+vC("->")(hg(KA)(t.value1))));if(t instanceof tA)return UO(vC("fix")(vC(t.value0)(vC(":")(jA(t.value2)+vC(".")(hg(KA)(t.value1))))));if(t instanceof eA)return UO(vC(hg(KA)(t.value0))(vC(":")(jA(t.value1))));if(t instanceof nA)return UO(vC(hg(KA)(t.value1))(vC($A(t.value0))(hg(KA)(t.value2))));if(t instanceof rA)return qO(JA(t.value0));if(t instanceof iA)return hg(KA)(t.value0)+"."+t.value1;if(t instanceof sA)return hg(KA)(t.value0)+"."+vC(t.value1)(vC("??")(hg(KA)(t.value2)));if(t instanceof oA)return UO(vC(hg(KA)(t.value0))("@"+jA(t.value1)));if(t instanceof lA)return UO("/\\"+(VA(t.value0)+vC(".")(hg(KA)(t.value1))));if(t instanceof aA)return UO(vC("let")(vC(t.value0)(VA(t.value1)+(ZA(t.value2)+vC("=")(vC(hg(KA)(t.value3))(vC("in")(hg(KA)(t.value4))))))));if(t instanceof uA)return UO(vC("letrec")(vC(t.value0)(VA(t.value1)+(ZA(t.value2)+vC(":")(vC(jA(t.value3))(vC("=")(vC(hg(KA)(t.value4))(vC("in")(hg(KA)(t.value5))))))))));if(t instanceof cA)return UO(vC("open")(vC(hg(KA)(t.value0))(vC("in")(hg(KA)(t.value1)))));if(t instanceof hA)return qO(vC(hg(KA)(t.value0))(vC("with")(iS("; ")(JT(t.value1)((function(t){return vC(t.value0)(vC("=")(hg(KA)(t.value1)))}))))));if(t instanceof fA)return UO("trait"+vC(pg("")((function(t){return" "+t}))(YA(t.value0)))(GA("implements ")(t.value1)(" ")+(HA(KA)("inherits ")(t.value2)(" ")+vC("=>")(hg(KA)(t.value3)))));if(t instanceof dA)return UO(vC("new")(hg(KA)(t.value0)));if(t instanceof vA)return UO(vC(hg(KA)(t.value0))(vC("^")(hg(KA)(t.value1))));if(t instanceof gA)return UO(vC(hg(KA)(t.value0))(vC("\\\\")(jA(t.value1))));if(t instanceof pA)return UO(vC(hg(KA)(t.value0))(vC("\\")(t.value1)));if(t instanceof mA)return UO(vC(hg(KA)(t.value0))(vC("\\-")(hg(KA)(t.value1))));if(t instanceof RA)return UO(vC(hg(KA)(t.value0))(HO(vC(t.value1)(vC("<-")(t.value2)))));if(t instanceof OA)return UO("fold @"+vC(jA(t.value0))(hg(KA)(t.value1)));if(t instanceof wA)return UO("unfold @"+vC(jA(t.value0))(hg(KA)(t.value1)));if(t instanceof xA)return UO(vC("ref")(hg(KA)(t.value0)));if(t instanceof yA)return"!"+hg(KA)(t.value0);if(t instanceof bA)return UO(vC(hg(KA)(t.value0))(vC(":=")(hg(KA)(t.value1))));if(t instanceof kA)return vC(hg(KA)(t.value0))(vC(">>")(hg(KA)(t.value1)));if(t instanceof CA)return UO(vC("toString")(hg(KA)(t.value0)));if(t instanceof TA)return HO(hS("; ")(fS(hg(KA))(t.value0)));if(t instanceof SA)return hg(KA)(t.value0);if(t instanceof AA)return hg(KA)(t.value1);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 124, column 1 - line 174, column 31): "+[t.constructor.name])}},JA=function(t){var e=function(t){return function(e){return function(n){return"."+vC(t)(ZA(e)+vC("=")(hg(KA)(n)))}}};return iS("; ")(JT(t)((function(t){if(t instanceof EA)return(t.value0?"override ":"")+function(t){return function(n){return function(r){if(r instanceof Tg)return vC(t)(ZA(n)+vC("=")(hg(KA)(r.value0)));if(r instanceof Sg)return pg("")((function(t){return t+"@"}))(YA(r.value0.value0))+(UO(" "+vC(t)(ZA(n)))+e(r.value0.value1)(r.value0.value2)(r.value0.value3));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 277, column 9 - line 277, column 79): "+[t.constructor.name,n.constructor.name,r.constructor.name])}}}(t.value1)(t.value2)(t.value3);if(t instanceof LA)return xg("_")(YA(t.value0.value0))+e(t.value0.value1)(t.value0.value2)(t.value0.value3);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 273, column 42 - line 276, column 58): "+[t.constructor.name])})))},tP=hg(KA),eP=function(t){return t instanceof SA?"`"+eP(t.value0)+"`":t instanceof AA&&t.value1 instanceof SA?"["+eP(t.value1.value0)+"]":t instanceof AA?eP(t.value1):t instanceof dA?eP(t.value0):t instanceof ZS&&"Endl"===t.value0?"\\\\":t instanceof ZS?"\\"+t.value0:t instanceof KS&&t.value0 instanceof KS&&t.value0.value0 instanceof ZS&&"Comp"===t.value0.value0.value0?eP(t.value0.value1)+eP(t.value1):t instanceof KS&&t.value0 instanceof ZS&&"Str"===t.value0.value0&&t.value1 instanceof XS?t.value1.value0:t instanceof KS&&t.value0 instanceof ZS&&"Str"===t.value0.value0&&t.value1 instanceof CA?"\\("+tP(t.value1.value0)+")":t instanceof KS?eP(t.value0)+eP(t.value1):"("+tP(t)+")"},nP={show:function(t){if(t instanceof QA){var e=t.value0 instanceof NS?"type":"interface",n=t.value0 instanceof $S?vC("extends")(jA(t.value0.value0)):"";return vC(e)(vC(t.value1)(XA(" ")(tS(XO)(t.value2))+(XA(" ")(t.value3)+vC(n)(vC("=")(jA(t.value4)+";")))))}if(t instanceof IA)return vC(t.value0)(VA(t.value1)+(ZA(t.value2)+(GA(": ")(t.value3)(" ")+vC("=")(tP(t.value4)+";"))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 195, column 1 - line 206, column 50): "+[t.constructor.name])}},rP=hg(nP),iP={show:function(t){return XA("\n")(tS(rP)(t.value0))+"\n"+tP(t.value1)}},sP=hg(ug),oP=hg(KA),lP=wp(Jg),aP=av(Lp(gp(Gg))),uP=eO(Jv),cP=pp(Jg),hP=Wg(Mp(cP)),fP=Vg($p(cP)),dP=lO(Jv)(cR),vP=av(uR),gP=wm(xm),pP=Tv(Qp(mp(Jg))),mP=Xg(Fp(lP)),RP=bv(Ip(Op(Jg))),OP=hg(lg),wP=nv(rv),xP=nO(Jv),yP=function(){function t(){}return t.value=new t,t}(),bP=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),kP=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),CP=function(){function t(){}return t.value=new t,t}(),TP=function(){function t(){}return t.value=new t,t}(),SP=function(){function t(){}return t.value=new t,t}(),AP=function(){function t(){}return t.value=new t,t}(),PP=function(){function t(){}return t.value=new t,t}(),_P=function(){function t(){}return t.value=new t,t}(),EP={show:function(t){if(t.value1 instanceof yP)return t.value0;if(t.value1 instanceof bP){return e=t.value1.value0,sP(e.line)+":"+sP(e.column)+": "+t.value0+"\nin the expression: "+(t.value1.value2?eP:oP)(t.value1.value1)}var e;throw new Error("Failed pattern match at Language.CP.Context (line 86, column 1 - line 94, column 40): "+[t.constructor.name])}},LP={append:sv},DP=function(t){return function(e){return QR(t(e))}},QP=function(t){return aP(uP(t))(hP((function(t){return t.tyBindEnv})))},IP=function(t){return aP(uP(t))(hP((function(t){return t.sortEnv})))},NP=function(t){return fP((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.pos=t(e.pos),n}))},MP=function(){return{mode:PP.value,timing:!1,tmBindings:lR.value,tyAliases:lR.value,forbidDup:!0,runJS:!1}}(),$P=function(t){return{tmBindEnv:dP(vP(gP(lp))(t.tmBindings)),tyAliasEnv:dP(t.tyAliases),tyBindEnv:oO,sortEnv:oO,pos:yP.value}},FP=hP((function(t){return t.pos})),BP=function(t){return pP(aP(kP.create(t))(FP))(mP)},UP=function(t){return function(e){return function(n){return"_"===e?wP:fP(t(xP(e)(n)))}}},HP=UP((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tyBindEnv:t(e.tyBindEnv)}}})),qP=UP((function(t){return function(e){return{tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tmBindEnv:t(e.tmBindEnv)}}})),XP=UP((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,pos:e.pos,sortEnv:t(e.sortEnv)}}})),VP=_m(cR),zP=wm(xm),WP=nv(rv),jP=uv(uR),GP=Rv(Cg),YP=av(Og),ZP=av(uR),KP=av(dv),JP=function(t){return new fA(t.value0,dg.value,dg.value,new rA(wR(new EA(!1,t.value1,t.value2,new Tg(t.value3)))))},t_=function(t){if(t instanceof JS)return VP((function(t){return function(e){return new JS(wR(t),e)}}))(t_(t.value1))(t.value0);if(t instanceof lA){var e=function(t){return new vg(xg(wS.value)(t))};return VP((function(t){return function(n){return new lA(wR(zP(e)(t)),n)}}))(t_(t.value1))(t.value0)}if(t instanceof rA&&t.value0 instanceof lR)return new rA(lR.value);if(t instanceof rA){return dC(nA.create(FS.value))(jP(t.value0)((function(t){return new rA(wR(function(t){if(t instanceof EA)return new EA(t.value0,t.value1,lR.value,new Tg(t_(new JS(t.value2,Pg(WP)(JP)(t.value3)))));if(t instanceof LA)return t;throw new Error("Failed pattern match at Language.CP.Desugar (line 25, column 5 - line 25, column 41): "+[t.constructor.name])}(t)))})))}if(t instanceof fA&&t.value0 instanceof vg)return new fA(new vg(new ip(t.value0.value0.value0,GP(t.value0.value0.value1)(t.value1))),GP(t.value1)(new vg(wS.value)),YP(t_)(t.value2),t_(t.value3));if(t instanceof fA&&t.value0 instanceof dg)return t_(new fA(new vg(new ip("$self",new vg(wS.value))),t.value1,t.value2,t.value3));if(t instanceof aA)return new aA(t.value0,lR.value,lR.value,t_(new lA(t.value1,new JS(t.value2,t.value3))),t_(t.value4));if(t instanceof uA){var n=new TS(t.value1,VP(yS.create)(t.value3)(ZP((function(t){if(t instanceof PA&&t.value1 instanceof vg)return t.value1.value0;if(t instanceof PA&&t.value1 instanceof dg)return xS.value;if(t instanceof _A)return xS.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 41, column 16 - line 43, column 45): "+[t.constructor.name])}))(t.value2)));return new uA(t.value0,lR.value,lR.value,n,t_(new lA(t.value1,new JS(t.value2,t.value4))),t_(t.value5))}return t instanceof jS?new jS(t.value0,t_(t.value1)):t instanceof GS?new GS(t.value0,t_(t.value1),t_(t.value2)):t instanceof YS?new YS(t_(t.value0),t_(t.value1),t_(t.value2)):t instanceof KS?new KS(t_(t.value0),t_(t.value1)):t instanceof tA?new tA(t.value0,t_(t.value1),t.value2):t instanceof eA?new eA(t_(t.value0),t.value1):t instanceof nA?new nA(t.value0,t_(t.value1),t_(t.value2)):t instanceof iA?new iA(t_(t.value0),t.value1):t instanceof sA?new sA(t_(t.value0),t.value1,t_(t.value2)):t instanceof oA?new oA(t_(t.value0),t.value1):t instanceof cA?new cA(t_(t.value0),t_(t.value1)):t instanceof hA?new hA(t_(t.value0),ZP(zP(t_))(t.value1)):t instanceof dA?new dA(t_(t.value0)):t instanceof vA?new vA(t_(t.value0),t_(t.value1)):t instanceof gA?new gA(t_(t.value0),t.value1):t instanceof pA?new pA(t_(t.value0),t.value1):t instanceof mA?new mA(t_(t.value0),t_(t.value1)):t instanceof RA?new RA(t_(t.value0),t.value1,t.value2):t instanceof OA?new OA(t.value0,t_(t.value1)):t instanceof wA?new wA(t.value0,t_(t.value1)):t instanceof xA?new xA(t_(t.value0)):t instanceof yA?new yA(t_(t.value0)):t instanceof bA?new bA(t_(t.value0),t_(t.value1)):t instanceof kA?new kA(t_(t.value0),t_(t.value1)):t instanceof CA?new CA(t_(t.value0)):t instanceof TA?new TA(KP(t_)(t.value0)):t instanceof SA?new SA(t_(t.value0)):t instanceof AA?new AA(t.value0,t_(t.value1)):t},e_=function(t){if(t instanceof IA&&t.value3 instanceof dg)return new IA(t.value0,lR.value,lR.value,dg.value,t_(new lA(t.value1,new JS(t.value2,t.value4))));if(t instanceof IA&&t.value3 instanceof vg){var e=new TS(t.value1,VP(yS.create)(t.value3.value0)(ZP((function(t){if(t instanceof PA&&t.value1 instanceof vg)return t.value1.value0;if(t instanceof PA&&t.value1 instanceof dg)return xS.value;if(t instanceof _A)return xS.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 85, column 16 - line 87, column 45): "+[t.constructor.name])}))(t.value2)));return new IA(t.value0,lR.value,lR.value,new vg(e),t_(new lA(t.value1,new JS(t.value2,t.value4))))}return t},n_={bifoldMap:function(t){var e=mv(t.Semigroup0());return function(t){return function(n){return function(r){return e(t(r.value0))(n(r.value1))}}}},bifoldr:function(t){return function(e){return function(n){return function(r){return t(r.value0)(e(r.value1)(n))}}}},bifoldl:function(t){return function(e){return function(n){return function(r){return e(t(n)(r.value0))(r.value1)}}}}},r_=function(t){return t.bitraverse},i_=function(t){var e=r_(t);return function(t){return e(t)(bv(t))}},s_={bitraverse:function(t){var e=t.Apply0(),n=wv(e),r=av(e.Functor0());return function(t){return function(e){return function(i){return n(r(ip.create)(t(i.value0)))(e(i.value1))}}}},bisequence:function(t){var e=t.Apply0(),n=wv(e),r=av(e.Functor0());return function(t){return n(r(ip.create)(t.value0))(t.value1)}},Bifunctor0:function(){return xm},Bifoldable1:function(){return n_}},o_=Xv(AT),l_=hg(bT),a_=Tv(Qp(mp(Jg))),u_=Lp(gp(Gg)),c_=av(u_),h_=bv(Ip(Op(Jg))),f_=Rv(Bp(xp(LP)(Jg))),d_=vv(u_),v_=wv(Dp(Rp(Jg))),g_=function(t){return function(e){return function(n){return t instanceof DC?new DC(e,n):t instanceof LC&&e instanceof LC&&n instanceof LC&&o_(t.value0)(e.value0)&&o_(t.value0)(n.value0)&&t.value2===e.value2&&t.value2===n.value2?new LC(t.value0,g_(t.value1)(e.value1)(n.value1),t.value2):t instanceof QC&&e instanceof QC&&n instanceof QC&&t.value0===e.value0&&t.value0===n.value0&&t.value2===e.value2&&t.value2===n.value2?new QC(t.value0,g_(t.value1)(e.value1)(n.value1),t.value2):t instanceof NC&&e instanceof NC&&n instanceof NC&&t.value0===e.value0&&t.value0===n.value0&&o_(t.value1)(e.value1)&&o_(t.value1)(n.value1)?new NC(t.value0,t.value1,g_(t.value2)(e.value2)(n.value2)):LR("CP.TypeDiff.tyMerge: cannot merge "+l_(e)+" and "+l_(n)+" according to "+l_(t))}}},p_=function(t){if(UT(t))return _C.value;if(t instanceof DC){var e=UT(t.value1),n=UT(t.value0);if(n&&e)return _C.value;if(n&&!e)return t.value1;if(!n&&e)return t.value0;if(!n&&!e)return t;throw new Error("Failed pattern match at Language.CP.TypeDiff (line 81, column 28 - line 85, column 20): "+[n.constructor.name,e.constructor.name])}return t instanceof LC?new LC(t.value0,p_(t.value1),t.value2):t instanceof QC?new QC(t.value0,p_(t.value1),t.value2):t instanceof NC?new NC(t.value0,t.value1,p_(t.value2)):t instanceof MC?new MC(t.value0,p_(t.value1)):t instanceof $C?new $C(p_(t.value0)):t instanceof FC?new FC(p_(t.value0)):t},m_=function(t){return function(e){var n=BP("cannot subtract "+l_(e)+" from "+l_(t)),r=function(t){return function(e){return a_(QP(t))((function(t){if(t instanceof vg)return c_(UT)(i(e)(t.value0));if(t instanceof dg)return h_(!1);throw new Error("Failed pattern match at Language.CP.TypeDiff (line 59, column 42 - line 61, column 28): "+[t.constructor.name])}))}},i=function(t){return function(e){if(UT(t)||UT(e))return h_(t);var s=BT(t);return s instanceof vg?v_(c_(g_(t))(i(s.value0.value0)(e)))(i(s.value0.value1)(e)):function(s){if(e instanceof DC)return f_(a_(i(t)(e.value0))((function(t){return i(t)(e.value1)})))(a_(i(t)(e.value1))((function(t){return i(t)(e.value0)})));if(t instanceof EC&&e instanceof EC)return h_(_C.value);if(e instanceof EC)return i(t)(t);if(t instanceof EC)return n;if(t instanceof LC&&e instanceof LC)return a_(i(t.value1)(e.value1))((function(r){return o_(r)(t.value1)?h_(t):a_(i(e.value0)(t.value0))((function(e){return UT(e)?h_(new LC(t.value0,r,t.value2)):n}))}));if(t instanceof QC&&e instanceof QC)return t.value0===e.value0?d_(c_(QC.create(t.value0))(i(t.value1)(e.value1)))(t.value2):h_(t);if(t instanceof NC&&e instanceof NC){var o=PT(e.value0)(new IC(t.value0))(e.value2);return a_(i(t.value2)(o))((function(r){return o_(r)(t.value2)?h_(t):a_(i(e.value1)(t.value1))((function(e){return UT(e)?h_(new NC(t.value0,t.value1,r)):n}))}))}return t instanceof IC&&e instanceof IC&&t.value0===e.value0?h_(_C.value):t instanceof IC?a_(r(t.value0)(e))((function(e){return e?h_(new IC(t.value0)):n})):e instanceof IC?a_(r(e.value0)(t))((function(e){return e?h_(t):n})):t instanceof FC&&e instanceof FC?c_(FC.create)(i(t.value0)(e.value0)):t instanceof MC||e instanceof MC||t instanceof $C||e instanceof $C||t instanceof FC||e instanceof FC?n:o_(t)(e)?h_(_C.value):h_(t)}()}};return c_(p_)(i(t)(e))}},R_=Ip(Op(Jg)),O_=bv(R_),w_=Lp(gp(Gg)),x_=av(w_),y_=Wm(R_)(vR),b_=vv(w_),k_=wv(Dp(Rp(Jg))),C_=_m(cR),T_=qm(vR)(R_),S_=i_(s_)(R_),A_=Qp(mp(Jg)),P_=Tv(A_),__=hg(zA),E_=Rv(Cg),L_=cv(Og),D_=hg(lg),Q_=qm(Xm)(R_),I_=Pv(A_),N_=function(t){if(t instanceof kS&&t.value0 instanceof lR)return O_(_C.value);if(t instanceof kS)return x_(dC(DC.create))(y_(t.value0)((function(t){return b_(x_(QC.create(t.value0))(N_(t.value1)))(t.value2)})));if(t instanceof TS){return k_(x_(C_(sp(NC.create)))(N_(t.value1)))(T_(S_((function(t){if(t instanceof vg)return N_(t.value0);if(t instanceof dg)return O_(_C.value);throw new Error("Failed pattern match at Language.CP.Transform (line 34, column 9 - line 34, column 50): "+[t.constructor.name])})))(t.value0))}return t instanceof IS?P_(N_(t.value0))((function(e){return P_(N_(t.value1))((function(t){return m_(e)(t)}))})):t instanceof gS?O_(CC.value):t instanceof pS?O_(TC.value):t instanceof mS?O_(SC.value):t instanceof RS?O_(AC.value):t instanceof OS?O_(PC.value):t instanceof wS?O_(_C.value):t instanceof xS?O_(EC.value):t instanceof bS?k_(x_(DC.create)(N_(t.value0)))(N_(t.value1)):t instanceof yS?b_(k_(x_(LC.create)(N_(t.value0)))(N_(t.value1)))(!1):t instanceof CS?O_(new IC(t.value0)):t instanceof SS?x_(MC.create(t.value0))(N_(t.value1)):t instanceof AS?x_($C.create)(N_(t.value0)):t instanceof ES&&t.value0 instanceof dg?P_(N_(t.value1))((function(t){return O_(new LC(t,t,!0))})):t instanceof ES&&t.value0 instanceof vg?b_(k_(x_(LC.create)(N_(t.value0.value0)))(N_(t.value1)))(!0):t instanceof QS?x_(FC.create)(N_(t.value0)):BP(t instanceof _S||t instanceof DS?vC("expected a proper type, but got")(__(t)):vC("expected an expanded type, but got")(__(t)))},M_=function(){return _C.value}(),$_=function(t){return t instanceof yS?k_(x_(yS.create)($_(t.value0)))($_(t.value1)):t instanceof bS?k_(x_(bS.create)($_(t.value0)))($_(t.value1)):t instanceof kS?x_(kS.create)(y_(t.value0)((function(t){return b_(x_(vS.create(t.value0))($_(t.value1)))(t.value2)}))):t instanceof CS?P_(QP(t.value0))((function(e){return P_(IP(t.value0))((function(n){var r,i=E_(L_(e))(L_(n));if(i instanceof vg)return O_(new CS(t.value0));if(i instanceof dg)return P_((r=t.value0,aP(uP(r))(hP((function(t){return t.tyAliasEnv})))))((function(e){if(e instanceof vg)return $_(e.value0);if(e instanceof dg)return BP(vC("type variable")(vC(D_(t.value0))("is undefined")));throw new Error("Failed pattern match at Language.CP.Transform (line 80, column 7 - line 82, column 82): "+[e.constructor.name])}));throw new Error("Failed pattern match at Language.CP.Transform (line 76, column 3 - line 82, column 82): "+[i.constructor.name])}))})):t instanceof TS?k_(x_(TS.create)(T_(S_(Q_($_)))(t.value0)))(C_((function(t){return function(e){return HP(lp(t))(M_)(e)}}))($_(t.value1))(t.value0)):t instanceof SS?x_(SS.create(t.value0))(HP(t.value0)(M_)($_(t.value1))):t instanceof AS?x_(AS.create)($_(t.value0)):t instanceof PS?P_($_(t.value0))((function(e){return P_($_(t.value1))((function(n){return e instanceof _S?O_(UA(e.value0)(n)(e.value1)):e instanceof DS?n instanceof LS&&n.value1 instanceof vg?O_(UA(e.value1)(n.value1.value0)(UA(e.value0)(n.value0)(e.value2))):BP(vC("sig instantiation expected a sort, but got")(__(t.value1))):BP(vC("expected an applicable type, but got")(__(t.value0)))}))})):t instanceof _S?HP(t.value0)(M_)(x_(_S.create(t.value0))($_(t.value1))):t instanceof ES?k_(x_(ES.create)(Q_($_)(t.value0)))($_(t.value1)):t instanceof LS?P_($_(t.value0))((function(e){return P_(Q_($_)(t.value1))((function(t){if(t instanceof vg)return O_(new LS(new bS(e,t.value0),new vg(t.value0)));if(t instanceof dg)return e instanceof CS?P_(IP(e.value0))((function(t){if(t instanceof vg)return O_(new LS(e,new vg(new CS(t.value0))));if(t instanceof dg)return O_(new LS(e,new vg(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 111, column 9 - line 112, column 61): "+[t.constructor.name])})):O_(new LS(e,new vg(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 106, column 3 - line 113, column 42): "+[t.constructor.name])}))})):t instanceof QS?x_(QS.create)($_(t.value0)):t instanceof IS?k_(x_(IS.create)($_(t.value0)))($_(t.value1)):O_(t)},F_=I_($_)(N_),B_=function(t){return function(e){return function(n){return n instanceof yS?k_(x_(yS.create)(B_(t)(!e)(n.value0)))(B_(t)(e)(n.value1)):n instanceof bS?k_(x_(bS.create)(B_(t)(e)(n.value0)))(B_(t)(e)(n.value1)):n instanceof kS?x_(kS.create)(y_(n.value0)((function(t){return b_(x_(vS.create(t.value0))(B_(hC(t.value0))(e)(t.value1)))(t.value2)}))):e&&n instanceof CS?P_(IP(n.value0))((function(e){if(e instanceof vg)return O_(t?new ES(new vg(n),new CS(e.value0)):new CS(e.value0));if(e instanceof dg)return O_(new CS(n.value0));throw new Error("Failed pattern match at Language.CP.Transform (line 132, column 3 - line 134, column 41): "+[e.constructor.name])})):n instanceof TS?k_(x_(TS.create)(T_(S_(Q_(B_(t)(e))))(n.value0)))(B_(t)(e)(n.value1)):n instanceof SS?x_(SS.create(n.value0))(B_(t)(e)(n.value1)):n instanceof AS?x_(AS.create)(B_(t)(e)(n.value0)):n instanceof PS?k_(x_(PS.create)(B_(t)(e)(n.value0)))(B_(t)(e)(n.value1)):n instanceof _S?x_(_S.create(n.value0))(B_(t)(e)(n.value1)):n instanceof ES?k_(x_(ES.create)(Q_(B_(t)(!e))(n.value0)))(B_(t)(e)(n.value1)):n instanceof QS?x_(QS.create)(B_(t)(e)(n.value0)):n instanceof IS?k_(x_(IS.create)(B_(t)(e)(n.value0)))(B_(t)(e)(n.value1)):O_(n)}}},U_=I_($_)(B_(!1)(!0)),H_=Qp(mp(Jg)),q_=Tv(H_),X_=Ip(Op(Jg)),V_=bv(X_),z_=hg(zA),W_=hg(lg),j_=hg(bT),G_=xv(Dp(Rp(Jg))),Y_=Rv(Bp(xp(LP)(Jg))),Z_=zv(AT),K_=Lp(gp(Gg)),J_=hv(K_),tE=jT(Jv),eE=av(K_),nE=Cv(_v),rE=nE(H_),iE=_m(YT),sE=_m(cR),oE=Wm(X_)(vR),lE=nv(rv),aE=hg(KA),uE=mv(pv),cE=rR(Fv),hE=mv(dR),fE=av(uR),dE=Xv(mR(Fv)),vE=yR(Jv),gE=uv(uR),pE=nR(Fv),mE=Rv(Cg),RE=av(Og),OE=Xv(mR(ap(Fv)(yg(FA)))),wE=Xv(AT),xE=qm(zm)(X_),yE=Lm(cR),bE=pp(Jg),kE=Vp(bE),CE=Tv(kE),TE=jp(bE),SE=hp(TE),AE=Mm(cR)(Fv),PE=Xg(Gp(wp(Jg))),_E=cp(TE),EE=nE(kE),LE=hg(nP),DE=Wp(bE),QE=Em(DE)(cR),IE=bv(DE),NE=function(t){return q_(F_(t))((function(e){return e instanceof MC?V_(e):BP(vC("fold/unfold expected a recursive type, but got")(z_(t)))}))},ME=function(t){return function(e){return function(n){return function(r){var i=!UT(n);return new ip(new tT(t,e,n,r,!1,i),new LC(n,r,!0))}}}},$E=function(t){return function(e){return function(n){if(t instanceof DC){var r=$E(t.value1)(e)(n),i=$E(t.value0)(e)(n);if(i instanceof vg&&r instanceof vg)return new vg(new DC(i.value0,r.value0));if(i instanceof vg&&r instanceof dg)return new vg(i.value0);if(i instanceof dg&&r instanceof vg)return new vg(r.value0);if(i instanceof dg&&r instanceof dg)return dg.value;throw new Error("Failed pattern match at Language.CP.Typing (line 615, column 3 - line 619, column 34): "+[i.constructor.name,r.constructor.name])}return t instanceof QC&&e===t.value0&&n===t.value2?new vg(t.value1):dg.value}}},FE=function(t){return function(e){return function(n){return function(r){return function(i){return new JC(new tT(t,r,n,i,!1,!1),e,!1)}}}}},BE=function(t){return function(e){return q_(QP(t))((function(n){if(n instanceof vg)return HT(n.value0)(e)?V_(lv):BP(vC("type variable")(vC(W_(t))(vC("is not disjoint from")(j_(e)))));if(n instanceof dg)return BP(vC("type variable")(vC(W_(t))("is undefined")));throw new Error("Failed pattern match at Language.CP.Typing (line 583, column 3 - line 586, column 78): "+[n.constructor.name])}))}},UE=function(t){return function(e){return function(n){return function(r){return function(i){var s=t+" or "+n,o=new IC(s);return HP(s)(i)(HE(PT(t)(o)(e))(PT(n)(o)(r)))}}}}},HE=function(t){return function(e){return UT(t)||UT(e)?V_(lv):t instanceof LC&&e instanceof LC?HE(t.value1)(e.value1):t instanceof DC?G_(HE(t.value0)(e))(HE(t.value1)(e)):e instanceof DC?HE(new DC(e.value0,e.value1))(t):t instanceof QC&&e instanceof QC?t.value0===e.value0?HE(t.value1)(e.value1):V_(lv):t instanceof IC&&e instanceof IC?Y_(BE(t.value0)(new IC(e.value0)))(BE(e.value0)(new IC(t.value0))):t instanceof IC?BE(t.value0)(e):e instanceof IC?BE(e.value0)(t):t instanceof NC&&e instanceof NC?UE(t.value0)(t.value2)(e.value0)(e.value2)(new DC(t.value1,e.value1)):t instanceof MC&&e instanceof MC?UE(t.value0)(t.value1)(e.value0)(e.value1)(EC.value):Z_(t)(e)?V_(lv):BP(vC("expected two disjoint types, but got")(vC(j_(t))(vC("and")(j_(e)))))}},qE=function(t){return function(e){return t instanceof LC&&e instanceof Tg?HT(e.value0)(t.value0)?V_(t.value1):BP(vC("expected the argument type to be a subtype of the parameter type, but got")(vC(j_(e.value0))(vC("and")(j_(t.value0))))):t instanceof NC&&e instanceof Sg?J_(HE(e.value0)(t.value1))(PT(t.value0)(e.value0)(t.value2)):t instanceof DC?q_(qE(t.value0)(e))((function(n){return q_(qE(t.value1)(e))((function(t){return V_(new DC(n,t))}))})):BP(vC("expected an applicable type, but got")(j_(t)))}},XE=function(t){return t instanceof DC?tE(XE(t.value0))(XE(t.value1)):t instanceof QC&&!t.value2?function(t){return WR(t)(lv)}(t.value0):ZT},VE=function(t){return function(e){return function(n){return q_(F_(n))((function(r){return q_(qP(t)(r)(zE(e)))((function(t){return HT(t.value1)(r)?V_(new ip(qT(t.value1)(r)?t.value0:new nT(t.value0,r),r)):BP(vC("annotated")(vC(z_(n))(vC("is not a supertype of inferred")(j_(t.value1)))))}))}))}}},zE=function(t){if(t instanceof HS)return V_(new ip(new HC(t.value0),CC.value));if(t instanceof qS)return V_(new ip(new qC(t.value0),TC.value));if(t instanceof XS)return V_(new ip(new XC(t.value0),SC.value));if(t instanceof VS)return V_(new ip(new VC(t.value0),AC.value));if(t instanceof zS)return V_(new ip(zC.value,PC.value));if(t instanceof WS)return V_(new ip(jC.value,EC.value));if(t instanceof jS&&t.value0 instanceof fO)return q_(zE(t.value1))((function(t){var e=function(e){return new ip(new GC(fO.value,new nT(t.value0,e)),e)};return HT(t.value1)(CC.value)?V_(e(CC.value)):HT(t.value1)(TC.value)?V_(e(TC.value)):BP(vC("Neg is not defined for")(j_(t.value1)))}));if(t instanceof jS&&t.value0 instanceof dO)return q_(zE(t.value1))((function(t){var e=new ip(new GC(dO.value,t.value0),CC.value);return t.value1 instanceof FC?V_(e):BP(vC("Len is not defined for")(j_(t.value1)))}));if(t instanceof jS&&t.value0 instanceof vO)return q_(zE(t.value1))((function(t){var e=new ip(new GC(vO.value,t.value0),TC.value);return t.value1 instanceof TC?V_(e):BP(vC("Sqrt is not defined for")(j_(t.value1)))}));if(t instanceof GS&&t.value0 instanceof AO)return q_(zE(t.value1))((function(e){return q_(zE(t.value2))((function(n){var r=function(r){return new ip(new YC(new AO(t.value0.value0),new nT(e.value0,r),new nT(n.value0,r)),r)};return HT(e.value1)(CC.value)&&HT(n.value1)(CC.value)?V_(r(CC.value)):HT(e.value1)(TC.value)&&HT(n.value1)(TC.value)?V_(r(TC.value)):BP(vC("ArithOp is not defined between")(vC(j_(e.value1))(vC("and")(j_(n.value1)))))}))}));if(t instanceof GS&&t.value0 instanceof PO)return q_(zE(t.value1))((function(e){return q_(zE(t.value2))((function(n){var r=function(r){return new ip(new YC(new PO(t.value0.value0),new nT(e.value0,r),new nT(n.value0,r)),AC.value)};return HT(e.value1)(CC.value)&&HT(n.value1)(CC.value)?V_(r(CC.value)):HT(e.value1)(TC.value)&&HT(n.value1)(TC.value)?V_(r(TC.value)):HT(e.value1)(SC.value)&&HT(n.value1)(SC.value)?V_(r(SC.value)):HT(e.value1)(AC.value)&&HT(n.value1)(AC.value)?V_(r(AC.value)):BP(vC("CompOp is not defined between")(vC(j_(e.value1))(vC("and")(j_(n.value1)))))}))}));if(t instanceof GS&&t.value0 instanceof _O)return q_(zE(t.value1))((function(e){return q_(zE(t.value2))((function(n){var r=new ip(new YC(new _O(t.value0.value0),new nT(e.value0,AC.value),new nT(n.value0,AC.value)),AC.value);return HT(e.value1)(AC.value)&&HT(n.value1)(AC.value)?V_(r):BP(vC("LogicOp is not defined between")(vC(j_(e.value1))(vC("and")(j_(n.value1)))))}))}));if(t instanceof GS&&t.value0 instanceof EO)return q_(zE(t.value1))((function(e){return q_(zE(t.value2))((function(t){if(HT(e.value1)(SC.value)&&HT(t.value1)(SC.value))return V_(new ip(new YC(EO.value,new nT(e.value0,SC.value),new nT(t.value0,SC.value)),SC.value));if(e.value1 instanceof FC&&t.value1 instanceof FC){var n=function(t){return function(e){return function(n){return new ip(new YC(EO.value,t,e),n)}}};return qT(e.value1.value0)(t.value1.value0)?V_(n(e.value0)(t.value0)(e.value1)):HT(t.value1.value0)(e.value1.value0)?V_(n(e.value0)(new nT(t.value0,e.value1))(e.value1)):HT(e.value1.value0)(t.value1.value0)?V_(n(new nT(e.value0,t.value1))(t.value0)(t.value1)):BP(vC("Append expected two arrays of equivalent types or subtypes,")(vC("but got")(vC(j_(e.value1.value0))(vC("and")(j_(t.value1.value0))))))}return BP(vC("Append is not defined between")(vC(j_(e.value1))(vC("and")(j_(t.value1)))))}))}));if(t instanceof GS&&t.value0 instanceof LO)return q_(zE(t.value1))((function(e){return q_(zE(t.value2))((function(t){return e.value1 instanceof FC&&HT(t.value1)(CC.value)?V_(new ip(new YC(LO.value,e.value0,new nT(t.value0,CC.value)),e.value1.value0)):BP(vC("Index is not defined between")(vC(j_(e.value1))(vC("and")(j_(t.value1)))))}))}));if(t instanceof YS)return q_(zE(t.value0))((function(e){return HT(e.value1)(AC.value)?q_(zE(t.value1))((function(n){return q_(zE(t.value2))((function(t){var r=function(t){return function(n){return function(r){return new ip(new ZC(new nT(e.value0,AC.value),t,n),r)}}};return qT(n.value1)(t.value1)?V_(r(n.value0)(t.value0)(n.value1)):HT(t.value1)(n.value1)?V_(r(n.value0)(new nT(t.value0,n.value1))(n.value1)):HT(n.value1)(t.value1)?V_(r(new nT(n.value0,t.value1))(t.value0)(t.value1)):BP(vC("if-branches expected two equivalent types or subtypes, but got")(vC(j_(n.value1))(vC("and")(j_(t.value1)))))}))})):BP(vC("if-condition expected Bool, but got")(j_(e.value1)))}));if(t instanceof ZS)return eE((function(e){return new ip(new KC(t.value0),e)}))((e=t.value0,pP(hP((function(t){return t.tmBindEnv})))((function(t){var n=uP(e)(t);if(n instanceof vg)return RP(n.value0);if(n instanceof dg)return BP("term variable "+OP(e)+" is undefined");throw new Error("Failed pattern match at Language.CP.Context (line 48, column 3 - line 50, column 81): "+[n.constructor.name])}))));var e;if(t instanceof KS){return q_(zE(t.value0))((function(e){return q_(zE(t.value1))((function(t){var n=function(t){return function(e){return t instanceof LC&&qT(e)(t.value0)?new vg(t.value1):dg.value}}(e.value1)(t.value1);return n instanceof vg?V_(new ip(new JC(e.value0,t.value0,!1),n.value0)):eE((function(n){return new ip(new JC(e.value0,t.value0,!0),n)}))(qE(e.value1)(new Tg(t.value1)))}))}))}if(t instanceof JS&&t.value0 instanceof aR&&t.value0.value0 instanceof PA&&t.value0.value0.value1 instanceof vg&&t.value0.value1 instanceof lR)return q_(F_(t.value0.value0.value1.value0))((function(e){return q_(qP(t.value0.value0.value0)(e)(zE(t.value1)))((function(n){return V_(new ip(new tT(t.value0.value0.value0,n.value0,e,n.value1,!1,!1),new LC(e,n.value1,!1)))}))}));if(t instanceof JS&&t.value0 instanceof aR&&t.value0.value0 instanceof PA&&t.value0.value0.value1 instanceof dg&&t.value0.value1 instanceof lR)return BP(vC("lambda parameter")(vC(W_(t.value0.value0.value0))("should be annotated with a type")));if(t instanceof JS&&t.value0 instanceof aR&&t.value0.value0 instanceof _A&&t.value0.value1 instanceof lR)return BP("record wildcards should only occur in traits with interfaces implemented");if(t instanceof tA)return q_(F_(t.value2))((function(e){return q_(qP(t.value0)(e)(zE(t.value1)))((function(n){return HT(n.value1)(e)?V_(new ip(new eT(t.value0,n.value0,n.value1),n.value1)):BP(vC("fix body expected a subtype of the annotated type, but got ")(j_(n.value1)))}))}));if(t instanceof eA)return q_(zE(t.value0))((function(e){return q_(F_(t.value1))((function(n){return HT(e.value1)(n)?V_(new ip(new nT(e.value0,n),n)):BP(vC("annotated")(vC(z_(t.value1))(vC("is not a supertype of inferred")(j_(e.value1)))))}))}));if(t instanceof nA&&t.value0 instanceof FS){var n=function(t){return new JC(t,new KC("$self"),!0)};return q_(zE(t.value1))((function(e){return q_(zE(t.value2))((function(t){return e.value1 instanceof _C?V_(new ip(t.value0,t.value1)):t.value1 instanceof _C?V_(new ip(e.value0,e.value1)):e.value1 instanceof LC&&e.value1.value2&&t.value1 instanceof LC&&t.value1.value2?rE(HE(e.value1.value1)(t.value1.value1))((function(){var r=e.value1.value0 instanceof _C?t.value1.value0:t.value1.value0 instanceof _C?e.value1.value0:new DC(e.value1.value0,t.value1.value0);return V_(ME("$self")(new rT(n(e.value0),n(t.value0)))(r)(new DC(e.value1.value1,t.value1.value1)))})):rE(HE(e.value1)(t.value1))((function(){return V_(new ip(new rT(e.value0,t.value0),new DC(e.value1,t.value1)))}))}))}))}if(t instanceof nA&&t.value0 instanceof BS)return zE(new nA(FS.value,t.value1,new mA(t.value2,t.value1)));if(t instanceof nA&&t.value0 instanceof US)return zE(new nA(FS.value,new mA(t.value1,t.value2),t.value2));if(t instanceof rA&&t.value0 instanceof lR)return V_(new ip(WC.value,_C.value));if(t instanceof rA&&t.value0 instanceof aR&&t.value0.value0 instanceof EA&&t.value0.value0.value2 instanceof lR&&t.value0.value0.value3 instanceof Tg&&t.value0.value1 instanceof lR)return q_(zE(t.value0.value0.value3.value0))((function(e){return V_(new ip(new iT(t.value0.value0.value1,e.value1,e.value0),new QC(t.value0.value0.value1,e.value1,!1)))}));if(t instanceof iA)return q_(zE(t.value0))((function(e){var n=e.value1 instanceof MC?new ip(new hT(e.value1,e.value0),_T(e.value1)):new ip(e.value0,e.value1),r=$E(n.value1)(t.value1)(!1);return r instanceof vg?V_(new ip(new sT(n.value0,t.value1),r.value0)):BP(vC("label")(vC(W_(t.value1))(vC("is absent in")(j_(e.value1)))))}));if(t instanceof sA)return q_(zE(t.value0))((function(e){return q_(zE(t.value2))((function(n){var r=$E(e.value1)(t.value1)(!0);return r instanceof vg&&HT(n.value1)(r.value0)?V_(new ip(new oT(e.value0,t.value1,r.value0,n.value0),r.value0)):BP(t.value1+"'s default value does not match its interface")}))}));if(t instanceof oA)return q_(zE(t.value0))((function(e){return q_(F_(t.value1))((function(t){return q_(qE(e.value1)(new Sg(t)))((function(n){return V_(new ip(new lT(e.value0,t),n))}))}))}));if(t instanceof lA&&t.value0 instanceof aR&&t.value0.value0.value1 instanceof vg&&t.value0.value1 instanceof lR)return q_(F_(t.value0.value0.value1.value0))((function(e){return q_(HP(t.value0.value0.value0)(e)(zE(t.value1)))((function(n){return V_(new ip(new aT(t.value0.value0.value0,e,n.value0,n.value1,!1),new NC(t.value0.value0.value0,e,n.value1)))}))}));if(t instanceof aA&&t.value1 instanceof lR&&t.value2 instanceof lR)return q_(zE(t.value3))((function(e){return q_(qP(t.value0)(e.value1)(zE(t.value4)))((function(n){return V_(new ip(FE(t.value0)(e.value0)(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof uA&&t.value1 instanceof lR&&t.value2 instanceof lR)return q_(VE(t.value0)(t.value4)(t.value3))((function(e){return q_(qP(t.value0)(e.value1)(zE(t.value5)))((function(n){return V_(new ip(FE(t.value0)(new eT(t.value0,e.value0,e.value1))(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof cA)return q_(zE(t.value0))((function(e){var n=e.value1 instanceof MC?new ip(new hT(e.value1,e.value0),_T(e.value1)):new ip(e.value0,e.value1),r=iE((function(t){return function(e){return new aR(new ip(t,cC($E(n.value1)(t)(!1))),e)}}))(lR.value)(XE(n.value1));return q_(sE(sp(qP))(zE(t.value1))(r))((function(t){return V_(new ip(FE("$open")(n.value0)(n.value1)(sE((function(e){return function(n){return FE(e.value0)(new sT(new KC("$open"),e.value0))(e.value1)(n)(t.value1)}}))(t.value0)(r))(t.value1),t.value1))}))}));if(t instanceof hA){var r=function(t){return function(e){return t instanceof iT?new DC(new QC(t.value0,t.value1,!1),e):e}};return q_(zE(t.value0))((function(e){return q_(oE(t.value1)((function(t){return q_(zE(t.value1))((function(e){return V_(new iT(t.value0,e.value1,e.value0))}))})))((function(n){var i=sE(r)(_C.value)(n);return HT(e.value1)(i)?q_(m_(e.value1)(i))((function(t){var r=fC(rT.create)(n),i=UT(t)?lE:rT.create(new nT(e.value0,t));return V_(new ip(i(r),e.value1))})):BP(vC("cannot safely update the record")(aE(t.value0)))}))}))}if(t instanceof fA&&t.value0 instanceof vg&&t.value0.value0.value1 instanceof vg&&t.value1 instanceof vg){var i=function(t){return kR((function(e){return t(e.value0)}))},s=function(t){return t instanceof bS&&t.value0 instanceof kS&&t.value1 instanceof kS?hE(t.value0.value0)(t.value1.value0):t instanceof bS&&t.value1 instanceof kS?hE(s(t.value0))(t.value1.value0):t instanceof bS&&t.value0 instanceof kS?hE(t.value0.value0)(s(t.value1)):t instanceof bS?hE(s(t.value0))(s(t.value1)):t instanceof kS?t.value0:lR.value},o=function(e){return function(n){if(e instanceof bS)return o(new kS(s(e)))(n);if(e instanceof SS)return new OA(e,o(e.value1)(n));if(n instanceof AA)return new AA(n.value0,o(e)(n.value1));if(n instanceof cA)return new cA(n.value0,o(e)(n.value1));if(n instanceof nA)return new nA(n.value0,o(e)(n.value1),o(e)(n.value2));if(e instanceof kS&&n instanceof rA&&n.value0 instanceof aR&&n.value0.value0 instanceof EA&&n.value0.value0.value2 instanceof lR&&n.value0.value0.value3 instanceof Tg&&n.value0.value1 instanceof lR){var r=function(t){var e,n=!1;function r(e){return e instanceof aR&&e.value1 instanceof lR?(n=!0,new vg(e.value0)):e instanceof aR?void(t=e.value1):(n=!0,dg.value)}for(;!n;)e=r(t);return e}(i((function(t){return t===n.value0.value0.value1}))(e.value0));return r instanceof vg?new rA(wR(new EA(n.value0.value0.value0,n.value0.value0.value1,lR.value,new Tg(o(r.value0.value1)(n.value0.value0.value3.value0))))):n}if(e instanceof kS&&n instanceof rA&&n.value0 instanceof aR&&n.value0.value0 instanceof LA&&n.value0.value1 instanceof lR){var l=function(t){if(t instanceof yS){var e=l(t.value1);return new ip(new aR(new PA("_",new vg(t.value0)),e.value0),e.value1)}return new ip(lR.value,t)},a=function(t){return function(e){if(t instanceof AA)return a(t.value1)(e);if(t instanceof cA)return a(t.value1)(e);if(t instanceof nA)return uE(a(t.value1)(e))(a(t.value2)(e));if(t instanceof rA&&t.value0 instanceof aR&&t.value0.value0 instanceof EA&&t.value0.value0.value3 instanceof Tg&&t.value0.value1 instanceof lR){var n=function(t){var e,n=!1;function r(e){if(e instanceof AA)t=e.value1;else if(e instanceof cA)t=e.value1;else if(e instanceof JS)t=e.value1;else{if(!(e instanceof fA))return e instanceof rA&&e.value0 instanceof aR&&e.value0.value0 instanceof EA&&e.value0.value1 instanceof lR?(n=!0,e.value0.value0.value1):(n=!0,"$nothing");t=e.value3}}for(;!n;)e=r(t);return e}(t.value0.value0.value3.value0)===e;return n?[t.value0.value0.value1]:[]}return[]}};return t_(new rA(gE(i((function(e){return pE(e)(function(e){return a(new nA(FS.value,xg(zS.value)(t.value2),t.value3))(e)}(n.value0.value0.value0.value1))}))(e.value0))((function(t){var e=l(t.value1),r=o(e.value1)(t_(JP(n.value0.value0.value0)));return new EA(!1,t.value0,e.value0,new Tg(r))}))))}if(e instanceof yS&&n instanceof JS&&n.value0 instanceof aR&&n.value0.value0 instanceof PA&&n.value0.value1 instanceof lR)return new JS(wR(new PA(n.value0.value0.value0,mE(n.value0.value0.value1)(new vg(e.value0)))),o(e.value1)(n.value1));if(e instanceof yS&&n instanceof JS&&n.value0 instanceof aR&&n.value0.value0 instanceof _A&&n.value0.value1 instanceof lR&&function(t){return function(e){var n=sE((function(t){return function(e){return t.value2?new aR(t.value0,e):e}}))(lR.value)(s(e)),r=fE(lp)(t);return dE(vE(r))(vE(n))}}(n.value0.value0.value0)(e.value0)){var u=new ZS("$wildcard"),c=function(t){return function(e){return new aA(t.value0,lR.value,lR.value,new sA(u,t.value0,t.value1),e)}};return new JS(wR(new PA("$wildcard",new vg(e.value0))),(h=n.value0.value0.value0,function(t){return sE(c)(t)(h)})(new cA(u,o(e.value1)(n.value1))))}var h;if(e instanceof ES&&n instanceof fA&&n.value0 instanceof vg){var f=xg(xg(wS.value)(e.value0))(n.value0.value0.value1);return new fA(new vg(new ip(n.value0.value0.value0,new vg(f))),n.value1,RE(o(e.value1))(n.value2),o(e.value1)(n.value3))}if(e instanceof TS&&e.value0 instanceof aR&&n instanceof lA&&n.value0 instanceof aR&&n.value0.value1 instanceof lR){var d=(OE(e.value0.value1)(lR.value)?lE:TS.create(e.value0.value1))(UA(e.value0.value0.value0)(new CS(n.value0.value0.value0))(e.value1));return new lA(wR(new ip(n.value0.value0.value0,mE(n.value0.value0.value1)(e.value0.value0.value1))),o(d)(n.value1))}return n}};return q_(F_(t.value0.value0.value1.value0))((function(e){return q_(function(t){return P_($_(t))((function(t){return P_(N_(t))((function(e){return O_(new ip(e,t))}))}))}(t.value1.value0))((function(n){var r=o(n.value1)(t.value3);return q_(function(){if(t.value2 instanceof vg)return q_(qP(t.value0.value0.value0)(e)(zE(t.value2.value0)))((function(n){return n.value1 instanceof LC&&n.value1.value2?HT(e)(n.value1.value0)?q_(qP(t.value0.value0.value0)(e)(qP("super")(n.value1.value1)(zE(r))))((function(e){var i=function(t){return function(e){var n=function(t){return t instanceof AA||t instanceof cA?n(t.value1):t instanceof nA?uE(n(t.value1))(n(t.value2)):t instanceof rA&&t.value0 instanceof aR&&t.value0.value0 instanceof EA&&t.value0.value0.value0&&t.value0.value1 instanceof lR?[t.value0.value0.value1]:[]},r=function(t){return function(e){if(t instanceof DC){var n=r(t.value1)(e),i=r(t.value0)(e);return i instanceof _C&&n instanceof _C?_C.value:i instanceof _C?n:n instanceof _C?i:new DC(i,n)}return t instanceof QC&&cE(t.value0)(e)?_C.value:t}},i=n(e);return Ym(i)?t:r(t)(i)}}(n.value1.value1)(r);return rE(HE(i)(e.value1))((function(){var r=new DC(i,e.value1),s=FE("super")(new JC(n.value0,new KC(t.value0.value0.value0),!0))(n.value1.value1)(new rT(new nT(new KC("super"),i),e.value0))(r);return V_(new ip(s,r))}))})):BP(vC("self-type")(vC(z_(t.value0.value0.value1.value0))(vC("is not a subtype of inherited self-type")(j_(n.value1.value0))))):BP(vC("expected to inherit a trait, but got")(j_(n.value1)))}));if(t.value2 instanceof dg)return q_(qP(t.value0.value0.value0)(e)(zE(r)))((function(t){return V_(new ip(t.value0,t.value1))}));throw new Error("Failed pattern match at Language.CP.Typing (line 227, column 18 - line 248, column 23): "+[t.value2.constructor.name])}())((function(r){return HT(r.value1)(n.value0)?V_(ME(t.value0.value0.value0)(r.value0)(e)(r.value1)):BP(vC("the trait does not implement")(z_(t.value1.value0)))}))}))}))}if(t instanceof fA&&t.value0 instanceof vg&&t.value0.value0.value1 instanceof dg)return zE(new fA(new vg(new ip(t.value0.value0.value0,new vg(wS.value))),t.value1,t.value2,t.value3));if(t instanceof dA)return q_(zE(t.value0))((function(t){return t.value1 instanceof LC&&t.value1.value2?HT(t.value1.value1)(t.value1.value0)?V_(new ip(new eT("$self",new JC(t.value0,new KC("$self"),!0),t.value1.value1),t.value1.value1)):BP(vC("input type is not a supertype of output type in")(vC("Trait<")(vC(j_(t.value1.value0))(vC("=>")(vC(j_(t.value1.value1))(">")))))):BP(vC("new expected a trait, but got")(j_(t.value1)))}));if(t instanceof vA)return q_(zE(t.value0))((function(e){return q_(zE(t.value1))((function(t){return e.value1 instanceof LC&&e.value1.value2?HT(t.value1)(e.value1.value0)?V_(new ip(new JC(e.value0,t.value0,!0),e.value1.value1)):BP(vC("expected to forward to a subtype of")(j_(e.value1.value0)+vC(", but got")(j_(t.value1)))):BP(vC("expected to forward from a trait, but got")(j_(e.value1)))}))}));if(t instanceof gA){var l=function(e){return function(n){return n instanceof DC?Y_(l(e)(n.value0))(l(e)(n.value1)):n instanceof QC&&e===n.value0?V_(lv):BP(vC("label")(vC(W_(e))(vC("is absent in")(aE(t.value0)))))}};return q_(zE(t.value0))((function(e){return q_(F_(t.value1))((function(t){var n=t instanceof QC&&t.value1 instanceof EC&&!t.value2?l(t.value0):sv(V_(lv));return e.value1 instanceof LC&&e.value1.value2?rE(n(e.value1.value1))((function(){return q_(m_(e.value1.value1)(t))((function(t){var n=new LC(e.value1.value0,t,!0);return V_(new ip(new nT(e.value0,n),n))}))})):rE(n(e.value1))((function(){return q_(m_(e.value1)(t))((function(t){return V_(new ip(new nT(e.value0,t),t))}))}))}))}))}return t instanceof pA?zE(new gA(t.value0,new kS(wR(new vS(t.value1,xS.value,!1))))):t instanceof mA?q_(zE(t.value0))((function(e){return q_(zE(t.value1))((function(t){return e.value1 instanceof LC&&e.value1.value2&&t.value1 instanceof LC&&t.value1.value2?q_(m_(e.value1.value1)(t.value1.value1))((function(t){return V_(ME("$self")(new nT(new JC(e.value0,new KC("$self"),!0),t))(e.value1.value0)(t))})):q_(m_(e.value1)(t.value1))((function(t){return V_(new ip(new nT(e.value0,t),t))}))}))})):t instanceof RA?q_(zE(t.value0))((function(e){if(e.value1 instanceof LC&&e.value1.value2){var n=$E(e.value1.value0)(t.value1)(!1);if(n instanceof vg){var r=new RA(new ZS("$self"),t.value2,t.value1),i=new RA(new vA(t.value0,r),t.value1,t.value2);return q_(eE(DC.create(new QC(t.value2,n.value0,!1)))(m_(e.value1.value0)(new QC(t.value1,EC.value,!1))))((function(t){return q_(qP("$self")(t)(zE(i)))((function(e){return V_(ME("$self")(e.value0)(t)(e.value1))}))}))}if(n instanceof dg){i=new RA(new vA(t.value0,new ZS("$self")),t.value1,t.value2);return q_(qP("$self")(e.value1.value0)(zE(i)))((function(t){return V_(ME("$self")(t.value0)(e.value1.value0)(t.value1))}))}throw new Error("Failed pattern match at Language.CP.Typing (line 408, column 7 - line 422, column 43): "+[n.constructor.name])}return zE(new nA(FS.value,new pA(t.value0,t.value1),new rA(wR(new EA(!1,t.value2,lR.value,new Tg(new iA(t.value0,t.value1)))))))})):t instanceof OA?q_(NE(t.value0))((function(e){return q_(zE(t.value1))((function(n){return HT(n.value1)(_T(e))?V_(new ip(new cT(e,n.value0),e)):BP(vC("cannot fold")(vC(aE(t.value1))(vC("to")(z_(t.value0)))))}))})):t instanceof wA?q_(NE(t.value0))((function(e){return q_(zE(t.value1))((function(n){return HT(n.value1)(e)?V_(new ip(new hT(e,n.value0),_T(e))):BP(vC("cannot unfold")(vC(aE(t.value1))(vC("to")(z_(t.value0)))))}))})):t instanceof xA?q_(zE(t.value0))((function(t){return V_(new ip(new fT(t.value0),new $C(t.value1)))})):t instanceof yA?q_(zE(t.value0))((function(t){return t.value1 instanceof $C?V_(new ip(new dT(t.value0),t.value1.value0)):BP(vC("cannot dereference")(j_(t.value1)))})):t instanceof bA?q_(zE(t.value0))((function(e){return e.value1 instanceof $C?q_(zE(t.value1))((function(t){return HT(t.value1)(e.value1.value0)?V_(new ip(new vT(e.value0,t.value0),PC.value)):BP(vC("assigned type")(vC(j_(t.value1))(vC("is not a subtype of")(j_(e.value1.value0)))))})):BP(vC("assignment expected a reference type, but got")(j_(e.value1)))})):t instanceof kA?q_(zE(t.value0))((function(e){return e.value1 instanceof PC?q_(zE(t.value1))((function(t){return V_(new ip(FE("_")(e.value0)(e.value1)(t.value0)(t.value1),t.value1))})):BP(vC("sequencing expected a unit type, but got")(j_(e.value1)))})):t instanceof CA?q_(zE(t.value0))((function(t){return wE(t.value1)(CC.value)||wE(t.value1)(TC.value)||wE(t.value1)(SC.value)||wE(t.value1)(AC.value)?V_(new ip(new gT(t.value0),SC.value)):BP(vC("cannot show")(j_(t.value1)))})):t instanceof TA?Ym(t.value0)?V_(new ip(new pT(EC.value,[]),new FC(EC.value))):q_(xE(zE)(t.value0))((function(e){var n=Km(e),r=cC(Jm(n.value1));return iR((function(t){return qT(t)(r)}))(n.value1)?V_(new ip(new pT(r,n.value0),new FC(r))):BP("elements of an array should all have the same type"+vC(", but got")(aE(new TA(t.value0))))})):t instanceof SA?NP((function(t){if(t instanceof bP)return new bP(t.value0,t.value1,!0);if(t instanceof yP)return yP.value;throw new Error("Failed pattern match at Language.CP.Typing (line 472, column 9 - line 472, column 37): "+[t.constructor.name])}))(zE(t.value0)):t instanceof AA?NP((function(e){if(e instanceof bP)return new bP(t.value0,t.value1,e.value2);if(e instanceof yP)return new bP(t.value0,t.value1,!1);throw new Error("Failed pattern match at Language.CP.Typing (line 476, column 9 - line 476, column 42): "+[e.constructor.name])}))(zE(t.value1)):BP(vC("expected a desugared term, but got")(aE(t)))},WE=function(t){if(t instanceof QA){var e=gE(t.value2)((function(t){return new ip(t,t+"_")})),n=function(n){return sE(sp(DS.create))(sE(_S.create)(n)(t.value3))(e)},r=function(e){return sE(iv(HP)(_C.value))(e)(t.value3)},i=function(t){return sE(sp(XP))(t)(e)};return CE(SE((function(t){return t.forbidDup})))((function(e){return CE(SE((function(t){return t.tyAliases})))((function(s){if(e&&Rg(AE(t.value1)(s)))return PE(new kP(vC("type")(vC(W_(t.value1))("has already been defined")),yP.value));if(t.value0 instanceof NS)return CE(SE($P))((function(e){var s=DP(i(r(U_(t.value4))))(e);if(s instanceof Tg)return PE(s.value0);if(s instanceof Sg)return _E((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new aR(new ip(t.value1,n(s.value0)),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 497, column 7 - line 499, column 83): "+[s.constructor.name])}));if(t.value0 instanceof MS)return CE(SE($P))((function(e){var s=DP(i(r(HP(t.value1)(_C.value)(U_(t.value4)))))(e);if(s instanceof Tg)return PE(s.value0);if(s instanceof Sg)return _E((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new aR(new ip(t.value1,n(new SS(t.value1,s.value0))),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 502, column 7 - line 504, column 95): "+[s.constructor.name])}));if(t.value0 instanceof $S)return EE(WE(new QA(MS.value,t.value1+"_",t.value2,t.value3,t.value4)))((function(){var e,n,r,i=function(e){return yE((function(t){return e=PS.create(t),function(t){return e(CS.create(t))};var e}))(e)(t.value3)}((e=new CS(t.value1+"_"),n=iv(LS.create)(dg.value),r=function(t){return n(CS.create(t))},yE((function(t){return e=PS.create(t),function(t){return e(r(t))};var e}))(e)(t.value2)));return WE(new QA(NS.value,t.value1,t.value2,t.value3,new bS(t.value0.value0,i)))}));throw new Error("Failed pattern match at Language.CP.Typing (line 494, column 8 - line 509, column 73): "+[t.value0.constructor.name])}))}))}return t instanceof IA&&t.value1 instanceof lR&&t.value2 instanceof lR?CE(SE((function(t){return t.forbidDup})))((function(e){return CE(SE((function(t){return t.tmBindings})))((function(n){return e&&Rg(AE(t.value0)(n))?PE(new kP(vC("term")(vC(W_(t.value0))("has already been defined")),yP.value)):CE(SE($P))((function(e){var n=function(){if(t.value3 instanceof vg)return VE(t.value0)(t.value4)(t.value3.value0);if(t.value3 instanceof dg)return zE(t.value4);throw new Error("Failed pattern match at Language.CP.Typing (line 531, column 18 - line 532, column 47): "+[t.value3.constructor.name])}(),r=DP(n)(e);if(r instanceof Tg)return PE(r.value0);if(r instanceof Sg){var i=Rg(t.value3)?new eT(t.value0,r.value0.value0,r.value0.value1):r.value0.value0,s=function(e){return new uT(t.value0,i,e)};return _E((function(e){var n={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.tmBindings=new aR(new ip(t.value0,new ip(r.value0.value1,s)),e.tmBindings),n}))}throw new Error("Failed pattern match at Language.CP.Typing (line 533, column 5 - line 538, column 74): "+[r.constructor.name])}))}))})):PE(new kP(vC("expected a desugared def, but got")(LE(t)),yP.value))};var jE=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),GE=function(t){var e,n=!1;function r(e){if(e.value0 instanceof lR&&e.value1 instanceof lR)return n=!0,dg.value;if(!(e.value0 instanceof lR)){if(e.value0 instanceof aR)return n=!0,new vg(new ip(e.value0.value0,new jE(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[e.constructor.name])}t=new jE(bR(e.value1),lR.value)}for(;!n;)e=r(t);return e},YE=function(t){return function(e){return new jE(t.value0,new aR(e,t.value1))}},ZE=function(t){return t.value0 instanceof lR&&t.value1 instanceof lR},KE=function(){return new jE(lR.value,lR.value)}(),JE=function(){function t(){}return t.value=new t,t}(),tL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),eL=function(t){return function(e){if(t instanceof JE)return e;if(e instanceof JE)return t;if(t instanceof tL)return new tL(t.value0,YE(t.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,e.constructor.name])}},nL=function(t){return function(e){return function(n){var r;return(r=n,function(n){var i,s=r,o=!1;function l(r,i){var l=GE(r);if(l instanceof dg)return o=!0,function(t){return function(e){return function(n){var r,i=t,s=e,o=!1;function l(t,e,r){if(r instanceof lR)return o=!0,e;if(r instanceof aR)return i=t,s=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[t.constructor.name,e.constructor.name,r.constructor.name])}for(;!o;)r=l(i,s,n);return r}}}((function(t){return function(e){return e(t)}}))(e)(i);if(l instanceof vg)return s=l.value0.value1,void(n=new aR(t(l.value0.value0),i));throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[l.constructor.name])}for(;!o;)i=l(s,n);return i})(lR.value)}}},rL=function(t){if(t instanceof JE)return dg.value;if(t instanceof tL)return new vg(new ip(t.value0,ZE(t.value1)?JE.value:nL(eL)(JE.value)(t.value1)));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])},iL=function(){return JE.value}(),sL=eL,oL={append:sL},lL=function(t){return function(e){return sL(t)(new tL(e,KE))}},aL=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},uL=mv(oL),cL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),hL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),fL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),dL=function(t){var e,n=!1;function r(e){var r=function(t){return function(e){return new cL(t.value0,uL(t.value1)(e))}};if(e.value0 instanceof hL){var i=rL(e.value1);if(i instanceof dg)return n=!0,new hL(e.value0.value0);if(i instanceof vg)return void(t=r((0,i.value0.value0)(e.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(e.value0 instanceof fL)return n=!0,new fL(e.value0.value0,(function(t){return r(e.value0.value1(t))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!n;)e=r(t);return e},vL=function(t){var e=av(t);return function(t){return function(n){var r,i=!1;function s(r){var s=dL(r);if(s instanceof hL)return i=!0,s.value0;if(!(s instanceof fL))throw new Error("Failed pattern match at Control.Monad.Free (line 178, column 10 - line 180, column 33): "+[s.constructor.name]);n=t(e(s.value1)(s.value0))}for(;!i;)r=s(n);return r}}},gL=function(t){return new cL(t,iL)},pL={Applicative0:function(){return OL},Bind1:function(){return RL}},mL={map:function(t){return function(e){return Sv(RL)((n=bv(OL),function(e){return n(t(e))}))(e);var n}}},RL={bind:function(t){return function(e){return new cL(t.value0,lL(t.value1)(e))}},Apply0:function(){return wL(0)}},OL={pure:function(t){return gL(hL.create(t))},Apply0:function(){return wL(0)}},wL=aL("freeApply","Control.Monad.Free",(function(){return{apply:Ev(pL),Functor0:function(){return mL}}})),xL=wL(77),yL=vL(fv)((function(t){return t(lv)})),bL=hg(CT),kL=hg(bT),CL=hg(BO),TL=hg(DO),SL=hg(ug),AL=hg(ag),PL=hg(cg),_L=Dg(Lg),EL=Eg(Lg),LL=mv(pv),DL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),QL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),NL={show:function(t){if(t instanceof DL)return bL(t.value0);if(t instanceof QL)return bL(t.value0);if(t instanceof IL)return kL(t.value0);throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 111, column 1 - line 114, column 28): "+[t.constructor.name])}},ML=function(t){return function(e){return function(n){return LR("CP.Semantics.Common.binop: impossible binary operation "+CL(t)+" between "+bL(e)+" and "+bL(n))}}},$L=function(t){return function(e){return t instanceof fO&&e instanceof HC?new HC(0|-e.value0):t instanceof fO&&e instanceof qC?new qC(-e.value0):t instanceof dO&&e instanceof pT?new HC(Yp(e.value1)):t instanceof vO&&e instanceof qC?new qC(MR(e.value0)):LR("CP.Semantics.Common.unop: impossible unary operation "+TL(t)+" on "+bL(e))}},FL=function(t){return t instanceof XC?t:t instanceof HC?new XC(SL(t.value0)):t instanceof qC?new XC(AL(t.value0)):t instanceof VC?new XC(PL(t.value0)):LR("CP.Semantics.Common.toString: impossible from "+bL(t)+" to string")},BL=function(t){return function(e){if(t instanceof rT){var n=BL(t.value1)(e),r=BL(t.value0)(e);return r instanceof WC&&n instanceof WC?WC.value:r instanceof WC?n:n instanceof WC?r:new rT(r,n)}return t instanceof iT&&e===t.value0?new nT(t.value2,t.value1):WC.value}},UL=function(t){var e,n=!1;function r(e){return e instanceof _C?(n=!0,WC.value):e instanceof LC?(n=!0,new tT("$top",WC.value,_C.value,e.value1,!0,e.value2)):e instanceof QC?(n=!0,new iT(e.value0,e.value1,WC.value)):e instanceof NC?(n=!0,new aT(e.value0,_C.value,WC.value,e.value2,!0)):e instanceof MC?void(t=e.value1):(n=!0,LR("CP.Semantics.Common.genTopLike: cannot generate a top-like value of type "+kL(e)))}for(;!n;)e=r(t);return e},HL=function(t){return function(e){return function(n){if(t instanceof AO)return function(t){return function(e){return function(n){return t instanceof bO&&e instanceof HC&&n instanceof HC?new HC(e.value0+n.value0|0):t instanceof kO&&e instanceof HC&&n instanceof HC?new HC(e.value0-n.value0|0):t instanceof CO&&e instanceof HC&&n instanceof HC?new HC(e.value0*n.value0|0):t instanceof TO&&e instanceof HC&&n instanceof HC?new HC(_L(e.value0)(n.value0)):t instanceof SO&&e instanceof HC&&n instanceof HC?new HC(EL(e.value0)(n.value0)):t instanceof bO&&e instanceof qC&&n instanceof qC?new qC(e.value0+n.value0):t instanceof kO&&e instanceof qC&&n instanceof qC?new qC(e.value0-n.value0):t instanceof CO&&e instanceof qC&&n instanceof qC?new qC(e.value0*n.value0):t instanceof TO&&e instanceof qC&&n instanceof qC?new qC(e.value0/n.value0):t instanceof SO&&e instanceof qC&&n instanceof qC?new qC(function(t){return function(e){return t%e}}(e.value0)(n.value0)):ML(new AO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof PO)return function(t){return function(e){return function(n){return t instanceof mO&&e instanceof HC&&n instanceof HC?new VC(e.value0===n.value0):t instanceof RO&&e instanceof HC&&n instanceof HC?new VC(e.value0!==n.value0):t instanceof OO&&e instanceof HC&&n instanceof HC?new VC(e.value0<n.value0):t instanceof wO&&e instanceof HC&&n instanceof HC?new VC(e.value0<=n.value0):t instanceof xO&&e instanceof HC&&n instanceof HC?new VC(e.value0>n.value0):t instanceof yO&&e instanceof HC&&n instanceof HC?new VC(e.value0>=n.value0):t instanceof mO&&e instanceof qC&&n instanceof qC?new VC(e.value0===n.value0):t instanceof RO&&e instanceof qC&&n instanceof qC?new VC(e.value0!==n.value0):t instanceof OO&&e instanceof qC&&n instanceof qC?new VC(e.value0<n.value0):t instanceof wO&&e instanceof qC&&n instanceof qC?new VC(e.value0<=n.value0):t instanceof xO&&e instanceof qC&&n instanceof qC?new VC(e.value0>n.value0):t instanceof yO&&e instanceof qC&&n instanceof qC?new VC(e.value0>=n.value0):t instanceof mO&&e instanceof XC&&n instanceof XC?new VC(e.value0===n.value0):t instanceof RO&&e instanceof XC&&n instanceof XC?new VC(e.value0!==n.value0):t instanceof OO&&e instanceof XC&&n instanceof XC?new VC(e.value0<n.value0):t instanceof wO&&e instanceof XC&&n instanceof XC?new VC(e.value0<=n.value0):t instanceof xO&&e instanceof XC&&n instanceof XC?new VC(e.value0>n.value0):t instanceof yO&&e instanceof XC&&n instanceof XC?new VC(e.value0>=n.value0):t instanceof mO&&e instanceof VC&&n instanceof VC?new VC(e.value0===n.value0):t instanceof RO&&e instanceof VC&&n instanceof VC?new VC(e.value0!==n.value0):t instanceof OO&&e instanceof VC&&n instanceof VC?new VC(e.value0<n.value0):t instanceof wO&&e instanceof VC&&n instanceof VC?new VC(e.value0<=n.value0):t instanceof xO&&e instanceof VC&&n instanceof VC?new VC(e.value0>n.value0):t instanceof yO&&e instanceof VC&&n instanceof VC?new VC(e.value0>=n.value0):ML(new PO(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof _O)return function(t){return function(e){return function(n){return t instanceof gO&&e instanceof VC&&n instanceof VC?new VC(e.value0&&n.value0):t instanceof pO&&e instanceof VC&&n instanceof VC?new VC(e.value0||n.value0):ML(new _O(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof EO&&e instanceof XC&&n instanceof XC)return new XC(e.value0+n.value0);if(t instanceof EO&&e instanceof pT&&n instanceof pT)return new pT(e.value0,LL(e.value1)(n.value1));if(t instanceof LO&&e instanceof pT&&n instanceof HC){var r=Zm(e.value1)(n.value0);if(r instanceof vg)return new nT(r.value0,e.value0);if(r instanceof dg)return LR("CP.Semantics.Common.binop: the index "+SL(n.value0)+" is out of bounds for "+bL(new pT(e.value0,e.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 27, column 41 - line 30, column 63): "+[r.constructor.name])}return ML(t)(e)(n)}}},qL=hg(CT),XL=hg(NL),VL=hg(bT),zL=Rv(Cg),WL=wv(bg),jL=av(Og),GL=xv(bg),YL=bv(OL),ZL=av(mL),KL=Tv(RL),JL=wv(xL),tD=vv(mL),eD=Av(RL),nD=av(dv),rD=function(t){return function(e){return t instanceof wT&&!t.value3&&e instanceof DL?t.value0(new RT(aO(e.value0))):t instanceof wT&&t.value3&&e instanceof DL?new nT(t.value0(new RT(aO(e.value0))),t.value2):t instanceof wT&&e instanceof QL?new nT(t.value0(new RT(aO(new nT(e.value0,t.value1)))),t.value2):t instanceof yT&&!t.value3&&e instanceof IL?t.value0(e.value0):t instanceof yT&&t.value3&&e instanceof IL?new nT(t.value0(e.value0),t.value2(e.value0)):t instanceof rT?new rT(rD(t.value0)(e),rD(t.value1)(e)):LR("CP.Semantics.HOAS.paraApp: impossible application "+qL(t)+" • "+XL(e))}},iD=function(t){return t instanceof HC||(t instanceof qC||(t instanceof XC||(t instanceof VC||(t instanceof zC||(t instanceof WC||(t instanceof wT||(t instanceof rT?iD(t.value0)&&iD(t.value1):t instanceof iT||(t instanceof yT||(t instanceof cT?iD(t.value1):t instanceof pT)))))))))},sD=function(t){return function(e){if(!iD(t))return LR("CP.Semantics.HOAS.cast: "+qL(t)+" is not a value");var n=BT(e);if(n instanceof vg){var r=function(t){return t instanceof QC&&t.value2?new vg(WC.value):dg.value},i=sD(t)(n.value0.value1),s=sD(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return zL(WL(jL(rT.create)(s))(i))(zL(GL(l)(i))(zL(GL(o)(s))(GL(l)(o))))}return UT(e)?new vg(function(t){var e,n=!1;function r(e){return e instanceof _C?(n=!0,WC.value):e instanceof LC?(n=!0,new wT((function(t){return WC.value}),_C.value,e.value1,!0)):e instanceof QC?(n=!0,new iT(e.value0,e.value1,WC.value)):e instanceof NC?(n=!0,new yT((function(t){return WC.value}),_C.value,DT(e.value0)(e.value2),!0)):e instanceof MC?void(t=e.value1):(n=!0,LR("CP.Semantics.HOAS.genTopLike: cannot generate a top-like value of type "+VL(e)))}for(;!n;)e=r(t);return e}(e)):t instanceof HC&&e instanceof CC?new vg(new HC(t.value0)):t instanceof qC&&e instanceof TC?new vg(new qC(t.value0)):t instanceof XC&&e instanceof SC?new vg(new XC(t.value0)):t instanceof VC&&e instanceof AC?new vg(new VC(t.value0)):t instanceof wT&&e instanceof LC&&HT(t.value2)(e.value1)?new vg(new wT(t.value0,t.value1,e.value1,!0)):t instanceof rT?zL(sD(t.value0)(e))(sD(t.value1)(e)):t instanceof iT&&e instanceof QC&&t.value0===e.value0&&HT(t.value1)(e.value1)?new vg(new iT(t.value0,e.value1,t.value2)):t instanceof yT&&e instanceof NC&&HT(e.value1)(t.value1)&&HT(t.value2(new IC(e.value0)))(e.value2)?new vg(new yT(t.value0,t.value1,DT(e.value0)(e.value2),!0)):t instanceof cT&&e instanceof MC&&HT(t.value0)(e)?new vg(new cT(e,t.value1)):t instanceof pT&&e instanceof FC&&HT(t.value0)(e.value0)?new vg(new pT(e.value0,t.value1)):dg.value}},oD=function(){var t=function(e){var n=e;if(e instanceof HC)return YL(n);n=e;if(e instanceof qC)return YL(n);n=e;if(e instanceof XC)return YL(n);n=e;if(e instanceof VC)return YL(n);if(e instanceof zC)return YL(zC.value);if(e instanceof WC)return YL(WC.value);if(e instanceof GC)return ZL($L(e.value0))(t(e.value1));if(e instanceof YC)return KL(t(e.value1))((function(n){return KL(t(e.value2))((function(r){var i=HL(e.value0)(n)(r);return e.value0 instanceof LO?t(i):YL(i)}))}));if(e instanceof ZC)return KL(t(e.value0))((function(n){return n instanceof VC&&n.value0?t(e.value1):n instanceof VC&&!n.value0?t(e.value2):LR("CP.Semantics.HOAS.eval: impossible if "+qL(n)+" ...")}));if(e instanceof JC)return KL(t(e.value0))((function(n){return t(rD(n)((e.value2?QL.create:DL.create)(e.value1)))}));n=e;if(e instanceof wT)return YL(n);n=e;if(e instanceof xT)return t(e.value0(n));if(e instanceof nT)return KL((r=function(e){var n,r=!1;function i(n){if(!(n instanceof nT))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=sD(n)(e.value1);if(r instanceof vg)return t(r.value0);if(r instanceof dg)return LR("CP.Semantics.HOAS.eval: impossible casting "+qL(n)+" : "+VL(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 48, column 7 - line 51, column 75): "+[r.constructor.name])}));if(e instanceof rT)return JL(ZL(rT.create)(t(e.value0)))(t(e.value1));if(e instanceof iT)return YL(new iT(e.value0,e.value1,new RT(aO(e.value2))));if(e instanceof sT)return KL(tD(ZL(BL)(t(e.value0)))(e.value1))(t);if(e instanceof oT)return KL(t(e.value0))((function(n){var r=sD(n)(new QC(e.value1,e.value2,!1));if(r instanceof vg)return t(new sT(r.value0,e.value1));if(r instanceof dg)return t(e.value3);throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 60, column 7 - line 62, column 25): "+[r.constructor.name])}));if(e instanceof lT)return KL(tD(ZL(rD)(t(e.value0)))(new IL(e.value1)))(t);n=e;if(e instanceof yT)return YL(n);if(e instanceof cT)return ZL(cT.create(e.value0))(t(e.value1));if(e instanceof hT){var r=function(n){return n instanceof rT?eD(r)(t)(new nT(n,e.value0)):n instanceof cT?t(new nT(n.value1,_T(e.value0))):LR("CP.Semantics.HOAS.eval: impossible unfold "+qL(n))};return UT(e.value0)?YL(WC.value):KL(t(e.value1))(r)}if(e instanceof gT)return ZL(FL)(t(e.value0));if(e instanceof pT)return YL(new pT(e.value0,nD((function(t){return RT.create(aO(t))}))(e.value1)));if(e instanceof RT){n=cO(e.value0);return uO(e.value0)?YL(n):KL(t(n))((function(t){return YL(hO(t)(e.value0))}))}return LR("CP.Semantics.HOAS.eval: well-typed programs don't get stuck, but got "+qL(e))};return function(e){return yL(t(MT(e)))}}(),lD=av(Og),aD={lift:function(t){var e=function(t){var e=Tv(t.Bind1()),n=bv(t.Applicative0());return function(t){return function(r){return e(r)((function(e){return n(t(e))}))}}}(t)(vg.create);return function(t){return e(t)}}},uD=function(t){var e=av(t);return{map:function(t){return function(n){return e(lD(t))(n)}}}},cD=function(t){return{Applicative0:function(){return dD(t)},Bind1:function(){return hD(t)}}},hD=function(t){var e=Tv(t.Bind1()),n=bv(t.Applicative0());return{bind:function(t){return function(r){return e(t)((function(t){if(t instanceof dg)return n(dg.value);if(t instanceof vg)return r(t.value0);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 54, column 11 - line 56, column 42): "+[t.constructor.name])}))}},Apply0:function(){return fD(t)}}},fD=function(t){var e=uD(t.Bind1().Apply0().Functor0());return{apply:Ev(cD(t)),Functor0:function(){return e}}},dD=function(t){return{pure:(e=bv(t.Applicative0()),function(t){return e(vg.create(t))}),Apply0:function(){return fD(t)}};var e},vD=function(t){var e=t.Bind1(),n=Tv(e),r=bv(t.Applicative0()),i=uD(e.Apply0().Functor0());return{alt:function(t){return function(e){return n(t)((function(t){return t instanceof dg?e:r(t)}))}},Functor0:function(){return i}}},gD=function(t){var e=vD(t);return{empty:bv(t.Applicative0())(dg.value),Alt0:function(){return e}}},pD=nO(Jv),mD=hg(CT),RD=hg(NL),OD=eO(Jv),wD=hg(gg(ST)),xD=yp(aD),yD=tO(Jv),bD=mv(pv),kD=hg(ug),CD=function(t){return function(e){return t instanceof dO&&e instanceof OT&&e.value1 instanceof pT?new HC(Yp(e.value1.value1)):$L(t)(e)}},TD=function(t){return function(e){if(t instanceof rT){var n=TD(t.value1)(e),r=TD(t.value0)(e);return r instanceof WC&&n instanceof WC?WC.value:r instanceof WC?n:n instanceof WC?r:new rT(r,n)}return t instanceof OT&&t.value1 instanceof iT&&e===t.value1.value0?new OT(t.value0,new nT(t.value1.value2,t.value1.value1)):WC.value}},SD=function(t){return function(e){return t instanceof OT&&t.value1 instanceof tT&&!t.value1.value4&&e instanceof DL?new OT(pD(t.value1.value0)(new BC(e.value0))(t.value0),t.value1.value1):t instanceof OT&&t.value1 instanceof tT&&t.value1.value4&&e instanceof DL?new OT(pD(t.value1.value0)(new BC(e.value0))(t.value0),new nT(t.value1.value1,t.value1.value3)):t instanceof OT&&t.value1 instanceof tT&&e instanceof QL?new OT(pD(t.value1.value0)(new BC(new nT(e.value0,t.value1.value2)))(t.value0),new nT(t.value1.value1,t.value1.value3)):t instanceof OT&&t.value1 instanceof aT&&!t.value1.value4&&e instanceof IL?new OT(pD(t.value1.value0)(new UC(new vg(e.value0)))(t.value0),t.value1.value2):t instanceof OT&&t.value1 instanceof aT&&t.value1.value4&&e instanceof IL?new OT(pD(t.value1.value0)(new UC(new vg(e.value0)))(t.value0),new nT(t.value1.value2,t.value1.value3)):t instanceof rT?new rT(SD(t.value0)(e),SD(t.value1)(e)):LR("CP.Semantics.Closure.paraApp: impossible application "+mD(t)+" • "+RD(e))}},AD=function(t){return t instanceof HC||(t instanceof qC||(t instanceof XC||(t instanceof VC||(t instanceof zC||(t instanceof WC||(t instanceof rT?AD(t.value0)&&AD(t.value1):t instanceof cT?AD(t.value1):t instanceof OT&&t.value1 instanceof iT||(t instanceof OT&&t.value1 instanceof tT||(t instanceof OT&&t.value1 instanceof aT||t instanceof OT&&t.value1 instanceof pT))))))))},PD=function(t){var e=t.Bind1(),n=e.Apply0(),r=Lp(n.Functor0()),i=vv(r),s=wv(Dp(n)),o=av(r),l=Tv(Qp(e)),a=zg(Mp(t)),u=bv(Ip(t.Applicative0())),c=Vg($p(t));return function(e){return e instanceof LC?i(s(o(LC.create)(PD(t)(e.value0)))(PD(t)(e.value1)))(e.value2):e instanceof DC?s(o(DC.create)(PD(t)(e.value0)))(PD(t)(e.value1)):e instanceof QC?i(o(QC.create(e.value0))(PD(t)(e.value1)))(e.value2):e instanceof IC?l(a)((function(n){var r=OD(e.value0)(n);return r instanceof vg&&r.value0 instanceof UC&&r.value0.value0 instanceof dg?u(new IC(e.value0)):r instanceof vg&&r.value0 instanceof UC&&r.value0.value0 instanceof vg?PD(t)(r.value0.value0.value0):LR("CP.Semantics.Closure.expand: "+e.value0+" is "+wD(r))})):e instanceof NC?l(PD(t)(e.value1))((function(n){return l(c((function(t){return pD(e.value0)(new UC(dg.value))(t)}))(PD(t)(e.value2)))((function(t){return u(new NC(e.value0,n,t))}))})):e instanceof MC?l(c((function(t){return pD(e.value0)(new UC(dg.value))(t)}))(PD(t)(e.value1)))((function(t){return u(new MC(e.value0,t))})):e instanceof FC?o(FC.create)(PD(t)(e.value0)):u(e)}},_D=function(t){var e=Tv(Qp(t.Bind1())),n=zg(Mp(t)),r=bv(Ip(t.Applicative0()));return function(t){return e(n)((function(e){return r(new OT(e,t))}))}},ED=function(t){var e=Np(t),n=bv(dD(e)),r=Rv(vD(e)),i=Tv(hD(e)),s=xD(e),o=Vg($p(t)),l=PD(t),a=bp(gD(e)),u=fD(e),c=wv(u),h=av(uD(Lp(t.Bind1().Apply0().Functor0()))),f=xv(u);return function(t){return function(e){var u=function(t){return function(e){if(!AD(t))return LR("CP.Semantics.Closure.cast: "+mD(t)+" is not a value");var d=BT(e);if(d instanceof vg){var v=function(t){return t instanceof QC&&t.value2?n(WC.value):a},g=u(t)(d.value0.value1),p=u(t)(d.value0.value0),m=v(d.value0.value1),R=v(d.value0.value0);return r(c(h(rT.create)(p))(g))(r(f(R)(g))(r(f(m)(p))(f(R)(m))))}return UT(e)?n(UL(e)):t instanceof rT?r(u(t.value0)(e))(u(t.value1)(e)):t instanceof HC&&e instanceof CC?n(new HC(t.value0)):t instanceof qC&&e instanceof TC?n(new qC(t.value0)):t instanceof XC&&e instanceof SC?n(new XC(t.value0)):t instanceof VC&&e instanceof AC?n(new VC(t.value0)):t instanceof zC&&e instanceof PC?n(zC.value):t instanceof cT&&e instanceof MC&&HT(t.value0)(e)?n(new cT(e,t.value1)):t instanceof OT&&t.value1 instanceof iT&&e instanceof QC?i(s(o(sv(t.value0))(l(t.value1.value1))))((function(r){return t.value1.value0===e.value0&&HT(r)(e.value1)?n(new OT(t.value0,new iT(e.value0,e.value1,t.value1.value2))):a})):t instanceof OT&&t.value1 instanceof tT&&e instanceof LC?i(s(o(sv(t.value0))(l(t.value1.value2))))((function(r){return i(s(o(sv(t.value0))(l(t.value1.value3))))((function(i){return HT(i)(e.value1)?n(new OT(t.value0,new tT(t.value1.value0,t.value1.value1,r,e.value1,!0,t.value1.value5))):a}))})):t instanceof OT&&t.value1 instanceof aT&&e instanceof NC?i(s(o(sv(t.value0))(l(t.value1.value1))))((function(r){var u=pD(t.value1.value0)(new UC(dg.value))(t.value0);return i(s(o(sv(u))(l(t.value1.value3))))((function(i){return t.value1.value0===e.value0&&HT(e.value1)(r)&&HT(i)(e.value2)?n(new OT(u,new aT(e.value0,r,t.value1.value2,e.value2,!0))):a}))})):t instanceof OT&&t.value1 instanceof pT&&e instanceof FC?i(s(o(sv(t.value0))(l(t.value1.value0))))((function(r){return HT(r)(e.value0)?n(new OT(t.value0,new pT(e.value0,t.value1.value1))):a})):a}};return u(t)(e)}}},LD=function(t){return function(e){return function(n){if(t instanceof EO&&e instanceof OT&&e.value1 instanceof pT&&n instanceof OT&&n.value1 instanceof pT)return new OT(yD(e.value0)(n.value0),new pT(e.value1.value0,bD(e.value1.value1)(n.value1.value1)));if(t instanceof LO&&e instanceof OT&&e.value1 instanceof pT&&n instanceof HC){var r=Zm(e.value1.value1)(n.value0);if(r instanceof vg)return new OT(e.value0,new nT(r.value0,e.value1.value0));if(r instanceof dg)return LR("CP.Semantics.Closure.binop': the index "+kD(n.value0)+" is out of bounds for "+mD(new pT(e.value1.value0,e.value1.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Closure (line 160, column 58 - line 163, column 63): "+[r.constructor.name])}return HL(t)(e)(n)}}},DD=bv(Ip(OL)),QD=Lp(mL),ID=av(QD),ND=Qp(RL),MD=Tv(ND),$D=hg(CT),FD=zg(Mp(pL)),BD=eO(Jv),UD=hg(lg),HD=hg(gg(ST)),qD=_D(pL),XD=Vg($p(pL)),VD=nO(Jv),zD=PD(pL),WD=ED(pL),jD=hg(bT),GD=wv(Dp(xL)),YD=vv(QD),ZD=Av(ND),KD=hg(CT),JD=hg(NL),tQ=Rv(Cg),eQ=wv(bg),nQ=av(Og),rQ=xv(bg),iQ=function(t){return function(e){return t instanceof tT&&!t.value4&&e instanceof DL?IT(t.value0)(e.value0)(t.value1):t instanceof tT&&t.value4&&e instanceof DL?new nT(IT(t.value0)(e.value0)(t.value1),t.value3):t instanceof tT&&e instanceof QL?new nT(IT(t.value0)(new nT(e.value0,t.value2))(t.value1),t.value3):t instanceof aT&&!t.value4&&e instanceof IL?QT(t.value0)(e.value0)(t.value2):t instanceof aT&&t.value4&&e instanceof IL?new nT(QT(t.value0)(e.value0)(t.value2),PT(t.value0)(e.value0)(t.value3)):t instanceof rT?new rT(iQ(t.value0)(e),iQ(t.value1)(e)):LR("CP.Semantics.Subst.paraApp: impossible application "+KD(t)+" • "+JD(e))}},sQ=function(t){return t instanceof HC||(t instanceof qC||(t instanceof XC||(t instanceof VC||(t instanceof zC||(t instanceof WC||(t instanceof tT||(t instanceof rT?sQ(t.value0)&&sQ(t.value1):t instanceof iT||(t instanceof aT||(t instanceof cT?sQ(t.value1):t instanceof pT)))))))))},oQ=function(t){return function(e){if(!sQ(t))return LR("CP.Semantics.Subst.cast: "+KD(t)+" is not a value");var n=BT(e);if(n instanceof vg){var r=function(t){return t instanceof QC&&t.value2?new vg(WC.value):dg.value},i=oQ(t)(n.value0.value1),s=oQ(t)(n.value0.value0),o=r(n.value0.value1),l=r(n.value0.value0);return tQ(eQ(nQ(rT.create)(s))(i))(tQ(rQ(l)(i))(tQ(rQ(o)(s))(rQ(l)(o))))}return UT(e)?new vg(UL(e)):t instanceof HC&&e instanceof CC?new vg(new HC(t.value0)):t instanceof qC&&e instanceof TC?new vg(new qC(t.value0)):t instanceof XC&&e instanceof SC?new vg(new XC(t.value0)):t instanceof VC&&e instanceof AC?new vg(new VC(t.value0)):t instanceof tT&&e instanceof LC&&HT(t.value3)(e.value1)?new vg(new tT(t.value0,t.value1,t.value2,e.value1,!0,t.value5)):t instanceof rT?tQ(oQ(t.value0)(e))(oQ(t.value1)(e)):t instanceof iT&&e instanceof QC&&t.value0===e.value0&&HT(t.value1)(e.value1)?new vg(new iT(t.value0,e.value1,t.value2)):t instanceof aT&&e instanceof NC&&HT(e.value1)(t.value1)&&HT(PT(t.value0)(new IC(e.value0))(t.value3))(e.value2)?new vg(new aT(e.value0,t.value1,QT(t.value0)(new IC(e.value0))(t.value2),e.value2,!0)):t instanceof cT&&e instanceof MC&&HT(t.value0)(e)?new vg(new cT(e,t.value1)):t instanceof pT&&e instanceof FC&&HT(t.value0)(e.value0)?new vg(new pT(e.value0,t.value1)):dg.value}},lQ=function(t){if(t instanceof GC)return sQ(t.value1)?$L(t.value0)(t.value1):new GC(t.value0,lQ(t.value1));if(t instanceof YC)return sQ(t.value1)&&sQ(t.value2)?HL(t.value0)(t.value1)(t.value2):sQ(t.value1)?new YC(t.value0,t.value1,lQ(t.value2)):new YC(t.value0,lQ(t.value1),t.value2);if(t instanceof ZC&&t.value0 instanceof VC&&t.value0.value0)return t.value1;if(t instanceof ZC&&t.value0 instanceof VC&&!t.value0.value0)return t.value2;if(t instanceof ZC)return new ZC(lQ(t.value0),t.value1,t.value2);if(t instanceof JC)return sQ(t.value0)?iQ(t.value0)((t.value2?QL.create:DL.create)(t.value1)):new JC(lQ(t.value0),t.value1,t.value2);if(t instanceof eT)return IT(t.value0)(t)(t.value1);if(t instanceof nT&&t.value0 instanceof nT)return new nT(t.value0.value0,t.value1);if(t instanceof nT)return sQ(t.value0)?cC(oQ(t.value0)(t.value1)):new nT(lQ(t.value0),t.value1);if(t instanceof rT)return sQ(t.value0)?new rT(t.value0,lQ(t.value1)):sQ(t.value1)?new rT(lQ(t.value0),t.value1):new rT(lQ(t.value0),lQ(t.value1));if(t instanceof sT)return sQ(t.value0)?BL(t.value0)(t.value1):new sT(lQ(t.value0),t.value1);if(t instanceof oT){if(sQ(t.value0)){if((e=oQ(t.value0)(new QC(t.value1,t.value2,!1)))instanceof vg)return new sT(e.value0,t.value1);if(e instanceof dg)return t.value3;throw new Error("Failed pattern match at Language.CP.Semantics.Subst (line 40, column 18 - line 41, column 65): "+[e.constructor.name])}return new oT(lQ(t.value0),t.value1,t.value2,t.value3)}if(t instanceof lT)return sQ(t.value0)?iQ(t.value0)(new IL(t.value1)):new lT(lQ(t.value0),t.value1);if(t instanceof uT)return IT(t.value0)(t.value1)(t.value2);if(t instanceof cT)return new cT(t.value0,lQ(t.value1));if(t instanceof hT&&UT(t.value0))return WC.value;var e=function(e){var n=function(e){return t instanceof hT?new hT(t.value0,lQ(t.value1)):t instanceof gT?sQ(t.value0)?FL(t.value0):new gT(lQ(t.value0)):t instanceof mT?lQ(t.value0):LR("CP.Semantics.Subst.step: well-typed programs don't get stuck, but got "+KD(t))};return t instanceof hT&&t.value1 instanceof rT?new hT(t.value0,new nT(t.value1,t.value0)):n()};return t instanceof hT&&t.value1 instanceof cT?new nT(t.value1.value1,_T(t.value0)):e(!0)},aQ=bv(OL),uQ=av(mL),cQ=Tv(RL),hQ=hg(CT),fQ=hg(bT),dQ=wv(xL),vQ=vv(mL),gQ=Av(RL),pQ=av(dv),mQ=function(){var t=function(e){var n=e;if(e instanceof HC)return aQ(n);n=e;if(e instanceof qC)return aQ(n);n=e;if(e instanceof XC)return aQ(n);n=e;if(e instanceof VC)return aQ(n);if(e instanceof zC)return aQ(zC.value);if(e instanceof WC)return aQ(WC.value);if(e instanceof GC)return uQ($L(e.value0))(t(e.value1));if(e instanceof YC)return cQ(t(e.value1))((function(n){return cQ(t(e.value2))((function(r){var i=HL(e.value0)(n)(r);return e.value0 instanceof LO?t(i):aQ(i)}))}));if(e instanceof ZC)return cQ(t(e.value0))((function(n){return n instanceof VC&&n.value0?t(e.value1):n instanceof VC&&!n.value0?t(e.value2):LR("CP.Semantics.NaturalSubst.eval: impossible if "+hQ(n)+" ...")}));if(e instanceof JC)return cQ(t(e.value0))((function(n){var r=e.value2?QL.create:DL.create;return t(iQ(n)(r(new RT(aO(e.value1)))))}));n=e;if(e instanceof tT)return aQ(n);if(e instanceof eT){var r=aO(e);return cQ(t(IT(e.value0)(new RT(r))(e.value1)))((function(t){return aQ(hO(t)(r))}))}if(e instanceof nT)return cQ((i=function(e){var n,r=!1;function i(n){if(!(n instanceof nT))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=oQ(n)(e.value1);if(r instanceof vg)return t(r.value0);if(r instanceof dg)return LR("CP.Semantics.NaturalSubst.eval: impossible casting "+hQ(n)+" : "+fQ(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 51, column 7 - line 54, column 75): "+[r.constructor.name])}));if(e instanceof rT)return dQ(uQ(rT.create)(t(e.value0)))(t(e.value1));if(e instanceof iT)return aQ(new iT(e.value0,e.value1,new RT(aO(e.value2))));if(e instanceof sT)return cQ(vQ(uQ(BL)(t(e.value0)))(e.value1))(t);if(e instanceof oT)return cQ(t(e.value0))((function(n){var r=oQ(n)(new QC(e.value1,e.value2,!1));if(r instanceof vg)return t(new sT(r.value0,e.value1));if(r instanceof dg)return t(e.value3);throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 63, column 7 - line 65, column 25): "+[r.constructor.name])}));if(e instanceof lT)return cQ(vQ(uQ(iQ)(t(e.value0)))(new IL(e.value1)))(t);n=e;if(e instanceof aT)return aQ(n);if(e instanceof uT)return t(IT(e.value0)(new RT(aO(e.value1)))(e.value2));if(e instanceof cT)return uQ(cT.create(e.value0))(t(e.value1));if(e instanceof hT){var i=function(n){return n instanceof rT?gQ(i)(t)(new nT(n,e.value0)):n instanceof cT?t(new nT(n.value1,_T(e.value0))):LR("CP.Semantics.NaturalSubst.eval: impossible unfold "+hQ(n))};return UT(e.value0)?aQ(WC.value):cQ(t(e.value1))(i)}if(e instanceof gT)return uQ(FL)(t(e.value0));if(e instanceof pT)return aQ(new pT(e.value0,pQ((function(t){return RT.create(aO(t))}))(e.value1)));if(e instanceof mT)return t(e.value0);if(e instanceof RT){n=cO(e.value0);return uO(e.value0)?aQ(n):cQ(t(n))((function(t){return aQ(hO(t)(e.value0))}))}return LR("CP.Semantics.NaturalSubst.eval: well-typed programs don't get stuck, but got "+hQ(e))};return function(e){return yL(t(e))}}(),RQ=function(t){return function(e){return t(e)}},OQ=function(t){var e=av(t);return{map:function(t){return RQ(e((function(e){return new ip(t(e.value0),e.value1)})))}}},wQ=function(t){var e=mv(t);return function(t){var n=wv(t),r=t.Functor0(),i=av(r),s=OQ(r);return{apply:function(t){return function(r){return n(i((function(t){return function(n){return new ip(t.value0(n.value0),e(t.value1)(n.value1))}}))(t))(r)}},Functor0:function(){return s}}}},xQ=function(t){var e=mv(t),n=wQ(t);return function(t){var r=Tv(t),i=t.Apply0(),s=av(i.Functor0()),o=n(i);return{bind:function(t){return function(n){return r(t)((function(t){var r=n(t.value0);return s((function(n){return new ip(n.value0,e(t.value1)(n.value1))}))(r)}))}},Apply0:function(){return o}}}},yQ=function(t){var e=Ig(t),n=wQ(t.Semigroup0());return function(t){var r=bv(t),i=n(t.Apply0());return{pure:function(t){return r(new ip(t,e))},Apply0:function(){return i}}}},bQ=function(t){var e=yQ(t),n=xQ(t.Semigroup0());return function(t){var r=e(t.Applicative0()),i=n(t.Bind1());return{Applicative0:function(){return r},Bind1:function(){return i}}}},kQ=function(t){var e=t.Semigroup0(),n=bQ(t);return function(t){var r,i,s=n(t);return{tell:(r=bv(t.Applicative0()),i=ip.create(lv),function(t){return r(i(t))}),Semigroup0:function(){return e},Monad1:function(){return s}}}},CQ=Sp(),TQ=function(t){return CQ(t)},SQ=fp(kQ(Sm(rv))(Jg)),AQ=OQ(Gg),PQ=hv(AQ),_Q=Tm(tv),EQ=wQ(_Q)(Yg),LQ=wv(EQ),DQ=vv(AQ),QQ=hg(CT),IQ=Tv(xQ(_Q)(Zg)),NQ=xv(EQ),MQ=function(t){return function(e){return t+e}},$Q=function(t){return SQ(MQ("→ Step-"+t+"\n"))},FQ=function(t){return SQ(MQ("↓ Step-"+t+"\n"))},BQ=function(t){if(t instanceof GC)return sQ(t.value1)?PQ(FQ("UnaryV"))($L(t.value0)(t.value1)):LQ(PQ($Q("Unary"))(GC.create(t.value0)))(BQ(t.value1));if(t instanceof YC)return sQ(t.value1)&&sQ(t.value2)?PQ(FQ("BinaryV"))(HL(t.value0)(t.value1)(t.value2)):sQ(t.value1)?LQ(PQ($Q("BinaryR"))(YC.create(t.value0)(t.value1)))(BQ(t.value2)):DQ(LQ(PQ($Q("BinaryL"))(YC.create(t.value0)))(BQ(t.value1)))(t.value2);if(t instanceof ZC&&t.value0 instanceof VC&&t.value0.value0)return PQ(FQ("IfTrue"))(t.value1);if(t instanceof ZC&&t.value0 instanceof VC&&!t.value0.value0)return PQ(FQ("IfFalse"))(t.value2);if(t instanceof ZC)return DQ(DQ(LQ(PQ($Q("If"))(ZC.create))(BQ(t.value0)))(t.value1))(t.value2);if(t instanceof JC)return sQ(t.value0)?PQ(FQ("PApp"))(iQ(t.value0)((t.value2?QL.create:DL.create)(t.value1))):DQ(DQ(LQ(PQ($Q("AppL"))(JC.create))(BQ(t.value0)))(t.value1))(t.value2);if(t instanceof eT)return PQ(FQ("Fix"))(IT(t.value0)(t)(t.value1));if(t instanceof nT&&t.value0 instanceof nT)return PQ(FQ("AnnoAnno"))(new nT(t.value0.value0,t.value1));if(t instanceof nT)return sQ(t.value0)?PQ(FQ("AnnoV"))(cC(oQ(t.value0)(t.value1))):DQ(LQ(PQ($Q("Anno"))(nT.create))(BQ(t.value0)))(t.value1);if(t instanceof rT)return sQ(t.value0)?LQ(PQ($Q("MergeR"))(rT.create(t.value0)))(BQ(t.value1)):sQ(t.value1)?DQ(LQ(PQ($Q("MergeL"))(rT.create))(BQ(t.value0)))(t.value1):LQ(LQ(PQ($Q("Merge"))(rT.create))(BQ(t.value0)))(BQ(t.value1));if(t instanceof sT)return sQ(t.value0)?PQ(FQ("PProj"))(BL(t.value0)(t.value1)):DQ(LQ(PQ($Q("Proj"))(sT.create))(BQ(t.value0)))(t.value1);if(t instanceof oT){if(sQ(t.value0)){if((e=oQ(t.value0)(new QC(t.value1,t.value2,!1)))instanceof vg)return PQ(FQ("OptProjL"))(new sT(e.value0,t.value1));if(e instanceof dg)return PQ(FQ("OptProjR"))(t.value3);throw new Error("Failed pattern match at Language.CP.Semantics.StepTrace (line 65, column 18 - line 67, column 58): "+[e.constructor.name])}return DQ(DQ(DQ(LQ(PQ($Q("OptProj"))(oT.create))(BQ(t.value0)))(t.value1))(t.value2))(t.value3)}if(t instanceof lT)return sQ(t.value0)?PQ(FQ("PTApp"))(iQ(t.value0)(new IL(t.value1))):DQ(LQ(PQ($Q("TApp"))(lT.create))(BQ(t.value0)))(t.value1);if(t instanceof uT)return PQ(FQ("Def"))(IT(t.value0)(t.value1)(t.value2));if(t instanceof cT)return LQ(PQ($Q("Fold"))(cT.create(t.value0)))(BQ(t.value1));if(t instanceof hT&&UT(t.value0))return PQ(FQ("UnfoldTop"))(WC.value);var e=function(e){var n=function(e){return t instanceof hT?LQ(PQ($Q("Unfold"))(hT.create(t.value0)))(BQ(t.value1)):t instanceof gT?sQ(t.value0)?PQ(FQ("ToStringV"))(FL(t.value0)):LQ(PQ($Q("ToString"))(gT.create))(BQ(t.value0)):t instanceof mT?BQ(t.value0):LR("CP.Semantics.StepTrace.step: well-typed programs don't get stuck, but got "+QQ(t))};return t instanceof hT&&t.value1 instanceof rT?PQ(FQ("UnfoldMerge"))(new hT(t.value0,new nT(t.value1,t.value0))):n()};return t instanceof hT&&t.value1 instanceof cT?DQ(PQ(FQ("UnfoldFold"))(nT.create(t.value1.value1)))(_T(t.value0)):e(!0)},UQ=function(){var t=function(e){return sQ(e)?PQ(SQ(MQ(QQ(e)+"\n")))(e):IQ(NQ(SQ(MQ(QQ(e)+"\n")))(BQ(e)))(t)},e=wm(xm)(Sp());return function(n){return e(TQ(t(n)))}}(),HQ=Lm(cR),qQ=av(uR),XQ=pp(Jg),VQ=Tv(Vp(XQ)),zQ=bv(Wp(XQ)),WQ=hp(jp(XQ)),jQ=hg(CT),GQ=hg(iP),YQ=hg(KA),ZQ=hg(EP),KQ=bv(Fg),JQ=function(t){return function(e){return HQ(ov)(t)(qQ((function(t){return op(op(t))}))(e))}},tI=function(t){var e=function(t){return new NA(ZP(e_)(t.value0),t_(t.value1))}(t);return VQ(function(t){return VQ(function(t){return EE(QE(WE)(t.value0))((function(){return CE(SE($P))((function(e){var n=DP(zE(t.value1))(e);if(n instanceof Tg)return PE(n.value0);if(n instanceof Sg)return IE(new ip(new mT(n.value0.value0),n.value0.value1));throw new Error("Failed pattern match at Language.CP.Typing (line 545, column 3 - line 547, column 47): "+[n.constructor.name])}))}))}(t))((function(t){return VQ(WQ((function(t){return t.tmBindings})))((function(e){return zQ(JQ(t.value0)(e))}))}))}(e))((function(n){return VQ(WQ((function(t){return t.mode})))((function(r){return zQ(function(){if(r instanceof CP)return jQ(function(t){var e,n=!1;function r(e){if(sQ(e))return n=!0,e;t=lQ(e)}for(;!n;)e=r(t);return e}(n));if(r instanceof TP){var i=UQ(n);return GQ(t)+"\n⇣ Desugar\n"+YQ(e.value1)+"\n↯ Elaborate\n"+i.value1("")}if(r instanceof SP)return GQ(t)+"\n⇣ Desugar\n"+YQ(e.value1)+"\n↯ Elaborate\n"+jQ(n);if(r instanceof AP)return jQ(mQ(n));if(r instanceof PP)return jQ(oD(n));if(r instanceof _P)return jQ(function(t){var e=function(t){var n=t;if(t instanceof HC)return DD(n);if(n=t,t instanceof qC)return DD(n);if(n=t,t instanceof XC)return DD(n);if(n=t,t instanceof VC)return DD(n);if(t instanceof zC)return DD(zC.value);if(t instanceof WC)return DD(WC.value);if(t instanceof GC)return ID(CD(t.value0))(e(t.value1));if(t instanceof YC)return MD(e(t.value1))((function(n){return MD(e(t.value2))((function(r){var i=LD(t.value0)(n)(r);return t.value0 instanceof LO?e(i):DD(i)}))}));if(t instanceof ZC)return MD(e(t.value0))((function(n){return n instanceof VC&&n.value0?e(t.value1):n instanceof VC&&!n.value0?e(t.value2):LR("CP.Semantics.NaturalClosure.eval: impossible if "+$D(n)+" ...")}));if(t instanceof KC)return MD(FD)((function(n){var r=BD(t.value0)(n);return r instanceof vg&&r.value0 instanceof BC?e(r.value0.value0):LR("CP.Semantics.NaturalClosure.eval: variable "+UD(t.value0)+" is "+HD(r))}));if(t instanceof JC)return MD(e(t.value0))((function(n){return MD(qD(t.value1))((function(r){var i=t.value2?QL.create:DL.create;return e(SD(n)(i(new RT(aO(r)))))}))}));if(n=t,t instanceof tT)return qD(n);if(t instanceof eT)return XD((function(e){return VD(t.value0)(new BC(t.value1))(e)}))(e(t.value1));if(t instanceof nT)return MD((r=function(t){var n,r=!1;function i(n){if(!(n instanceof nT))return r=!0,e(n);t=n.value0}for(;!r;)n=i(t);return n})(t.value0))((function(n){return MD(zD(t.value1))((function(r){return MD(WD(n)(r))((function(r){if(r instanceof vg)return e(r.value0);if(r instanceof dg)return LR("CP.Semantics.NaturalClosure.eval: impossible casting "+$D(n)+" : "+jD(t.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 59, column 7 - line 62, column 75): "+[r.constructor.name])}))}))}));if(t instanceof rT)return GD(ID(rT.create)(e(t.value0)))(e(t.value1));if(n=t,t instanceof iT)return qD(n);if(t instanceof sT)return MD(YD(ID(TD)(e(t.value0)))(t.value1))(e);if(t instanceof oT)return MD(e(t.value0))((function(n){return MD(zD(t.value2))((function(r){return MD(WD(n)(new QC(t.value1,r,!1)))((function(n){if(n instanceof vg)return e(new sT(n.value0,t.value1));if(n instanceof dg)return e(t.value3);throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 73, column 7 - line 75, column 25): "+[n.constructor.name])}))}))}));if(t instanceof lT)return MD(e(t.value0))((function(n){return MD(zD(t.value1))((function(t){return e(SD(n)(new IL(t)))}))}));if(n=t,t instanceof aT)return qD(n);if(t instanceof uT)return MD(qD(t.value1))((function(n){return XD((function(e){return VD(t.value0)(new BC(new RT(aO(n))))(e)}))(e(t.value2))}));if(t instanceof cT)return ID(cT.create(t.value0))(e(t.value1));if(t instanceof hT){var r=function(n){return n instanceof rT?ZD(r)(e)(new nT(n,t.value0)):n instanceof cT?e(new nT(n.value1,_T(t.value0))):LR("CP.Semantics.NaturalClosure.eval: impossible unfold "+$D(n))};return UT(t.value0)?DD(WC.value):MD(e(t.value1))(r)}return t instanceof gT?ID(FL)(e(t.value0)):(n=t,t instanceof pT?qD(n):t instanceof mT?e(t.value0):t instanceof RT?(n=cO(t.value0),uO(t.value0)?DD(n):MD(e(n))((function(e){return DD(hO(e)(t.value0))}))):t instanceof OT&&t.value1 instanceof iT||t instanceof OT&&t.value1 instanceof tT||t instanceof OT&&t.value1 instanceof aT||t instanceof OT&&t.value1 instanceof pT?DD(t):t instanceof OT?XD(sv(t.value0))(e(t.value1)):LR("CP.Semantics.NaturalClosure.eval: well-typed programs don't get stuck, but got "+$D(t)))};return yL(e(t)(oO))}(n));throw new Error("Failed pattern match at Language.CP (line 63, column 10 - line 71, column 37): "+[r.constructor.name])}())}))}))},eI=function(t){var e=function(t){return function(e){return QR(t(e))}}(tI(t))(MP);if(e instanceof Tg)return qg(ZQ(e.value0));if(e instanceof Sg)return KQ(e.value0.value0);throw new Error("Failed pattern match at Language.CP (line 86, column 17 - line 88, column 37): "+[e.constructor.name])},nI={92:()=>{}},rI={};function iI(t){var e=rI[t];if(void 0!==e)return e.exports;var n=rI[t]={exports:{}};return nI[t](n,n.exports,iI),n.exports}iI.d=(t,e)=>{for(var n in e)iI.o(e,n)&&!iI.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},iI.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var sI={};(()=>{iI.d(sI,{dx:()=>W,q2:()=>Tt,FO:()=>xe,xf:()=>ke,Gy:()=>Ae,s4:()=>Et,c7:()=>Le,_7:()=>oe,gp:()=>me,cK:()=>St,zs:()=>ge,AV:()=>ke,Xp:()=>m,VS:()=>R,ul:()=>z,hW:()=>Nt,x1:()=>jt,z5:()=>Jt,oN:()=>ce,TB:()=>he,u1:()=>fe,_b:()=>Qe,$F:()=>ee,_T:()=>Me,db:()=>ne,Zx:()=>Kt,_x:()=>Qt,r8:()=>I,JI:()=>_,TP:()=>E,WU:()=>t,Nj:()=>a,ZP:()=>qe});class t{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function e(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=-1,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1;const n=Math.round(Math.random()*Math.pow(2,32));function r(t){if(!t)return 0;const e=typeof t,r="string"===e?t:!("object"!==e||!t.toString)&&t.toString();if(!r)return 0;let i,s;const o=3&r.length,l=r.length-o;let a=n;const u=3432918353,c=461845907;let h=0;for(;h<l;)s=255&r.charCodeAt(h)|(255&r.charCodeAt(++h))<<8|(255&r.charCodeAt(++h))<<16|(255&r.charCodeAt(++h))<<24,++h,s=(65535&s)*u+(((s>>>16)*u&65535)<<16)&4294967295,s=s<<15|s>>>17,s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295,a^=s,a=a<<13|a>>>19,i=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=27492+(65535&i)+((58964+(i>>>16)&65535)<<16);switch(s=0,o){case 3:s^=(255&r.charCodeAt(h+2))<<16;case 2:s^=(255&r.charCodeAt(h+1))<<8;case 1:s^=255&r.charCodeAt(h),s=(65535&s)*u+(((s>>>16)*u&65535)<<16)&4294967295,s=s<<15|s>>>17,s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295,a^=s}return a^=r.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0}class i{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=r(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new i;return t.update.apply(t,arguments),t.finish()}}function s(t){return t?"string"==typeof t?r(t):t.hashCode():-1}function o(t,e){return t?t.equals(e):t===e}function l(t){return null===t?"null":t}function a(t){return Array.isArray(t)?"["+t.map(l).join(", ")+"]":"null"}const u="h-";class c{constructor(t,e){this.data={},this.hashFunction=t||s,this.equalsFunction=e||o}add(t){const e=u+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e];return n.push(t),t}return this.data[e]=[t],t}has(t){return null!=this.get(t)}get(t){const e=u+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++)if(this.equalsFunction(t,n[e]))return n[e]}return null}values(){return Object.keys(this.data).filter((t=>t.startsWith(u))).flatMap((t=>this.data[t]),this)}toString(){return a(this.values())}get length(){return Object.keys(this.data).filter((t=>t.startsWith(u))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}class h{hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===h.NONE)return e;if(null===e||e===h.NONE)return t;const n=new f(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===h.NONE||e===h.NONE)return h.NONE;const n=new d(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class f extends h{constructor(t,e){super();const n=new c;t instanceof f?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof f?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=v(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof f&&e(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,null===o)return null;o!==h.NONE&&r.push(o)}if(!n)return this;if(0===r.length)return h.NONE;let i=null;return r.map((function(t){i=null===i?t:h.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class d extends h{constructor(t,e){super();const n=new c;t instanceof d?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof d?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=v(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof d&&e(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,o===h.NONE)return h.NONE;null!==o&&r.push(o)}return n?(0===r.length||r.map((function(t){return t})),null):this}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function v(t){const e=[];return t.values().map((function(t){t instanceof h.PrecedencePredicate&&e.push(t)})),e}function g(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class p{constructor(t,e){this.checkContext(t,e),t=g(t),e=g(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:h.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof p&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new i;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof p&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==h.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class m{constructor(t,e){this.start=t,this.stop=e}clone(){return new m(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}m.INVALID_INTERVAL=new m(-1,-2);class R{constructor(){this.intervals=null,this.readOnly=!1}first(e){return null===this.intervals||0===this.intervals.length?t.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new m(t,t+1))}addRange(t,e){this.addInterval(new m(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new m(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new m(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new m(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new R;return n.addInterval(new m(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new m(n.start,t.start);const r=new m(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new m(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new m(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new m(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new m(n.start,n.stop-1));if(t<n.stop-1){const r=new m(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const e=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===t.EOF?e.push("<EOF>"):e.push("'"+String.fromCharCode(r.start)+"'"):e.push("'"+String.fromCharCode(r.start)+"'..'"+String.fromCharCode(r.stop-1)+"'")}return e.length>1?"{"+e.join(", ")+"}":e[0]}toIndexString(){const e=[];for(let n=0;n<this.intervals.length;n++){const r=this.intervals[n];r.stop===r.start+1?r.start===t.EOF?e.push("<EOF>"):e.push(r.start.toString()):e.push(r.start.toString()+".."+(r.stop-1).toString())}return e.length>1?"{"+e.join(", ")+"}":e[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(e,n,r){return r===t.EOF?"<EOF>":r===t.EPSILON?"<EPSILON>":e[r]||n[r]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class O{constructor(){this.atn=null,this.stateNumber=O.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof O&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}O.INVALID_TYPE=0,O.BASIC=1,O.RULE_START=2,O.BLOCK_START=3,O.PLUS_BLOCK_START=4,O.STAR_BLOCK_START=5,O.TOKEN_START=6,O.RULE_STOP=7,O.BLOCK_END=8,O.STAR_LOOP_BACK=9,O.STAR_LOOP_ENTRY=10,O.PLUS_LOOP_BACK=11,O.LOOP_END=12,O.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],O.INVALID_STATE_NUMBER=-1;class w extends O{constructor(){return super(),this.stateType=O.RULE_STOP,this}}class x{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}x.EPSILON=1,x.RANGE=2,x.RULE=3,x.PREDICATE=4,x.ATOM=5,x.ACTION=6,x.SET=7,x.NOT_SET=8,x.WILDCARD=9,x.PRECEDENCE=10,x.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],x.serializationTypes={EpsilonTransition:x.EPSILON,RangeTransition:x.RANGE,RuleTransition:x.RULE,PredicateTransition:x.PREDICATE,AtomTransition:x.ATOM,ActionTransition:x.ACTION,SetTransition:x.SET,NotSetTransition:x.NOT_SET,WildcardTransition:x.WILDCARD,PrecedencePredicateTransition:x.PRECEDENCE};class y extends x{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=x.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class b extends x{constructor(e,n){super(e),this.serializationType=x.SET,null!=n?this.label=n:(this.label=new R,this.label.addOne(t.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class k extends b{constructor(t,e){super(t,e),this.serializationType=x.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class C extends x{constructor(t){super(t),this.serializationType=x.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class T extends x{constructor(t){super(t)}}class S{}class A extends S{}class P extends A{}class _ extends P{get ruleContext(){throw new Error("missing interface implementation")}}class E extends P{}class L extends E{}const D={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=D.getNodeText(t,e);r=function(t,e){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let s="("+r+" ";i>0&&(r=D.toStringTree(t.getChild(0),e),s=s.concat(r));for(let n=1;n<i;n++)r=D.toStringTree(t.getChild(n),e),s=s.concat(" "+r);return s=s.concat(")"),s},getNodeText:function(e,n,r){if(n=n||null,null!==(r=r||null)&&(n=r.ruleNames),null!==n){if(e instanceof _){const t=e.ruleContext.getAltNumber();return 0!=t?n[e.ruleIndex]+":"+t:n[e.ruleIndex]}if(e instanceof L)return e.toString();if(e instanceof E&&null!==e.symbol)return e.symbol.text}const i=e.getPayload();return i instanceof t?i.text:e.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return D.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return D.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return D._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof E?t.symbol.type===e&&r.push(t):!n&&t instanceof _&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)D._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(D.descendants(t.getChild(n)));return e}},Q=D;class I extends _{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return m.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return Q.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class N{constructor(t){this.cachedHashCode=t}isEmpty(){return this===N.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===N.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}N.EMPTY=null,N.EMPTY_RETURN_STATE=2147483647,N.globalNodeCount=1,N.id=N.globalNodeCount,N.trace_atn_sim=!1;class M extends N{constructor(t,e){const n=new i;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===N.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof M&&this.hashCode()===t.hashCode()&&e(this.returnStates,t.returnStates)&&e(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==N.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class $ extends N{constructor(t,e){let n=0;const r=new i;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof $&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===N.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===N.EMPTY_RETURN_STATE&&null===t?N.EMPTY:new $(t,e)}}class F extends ${constructor(){super(null,N.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}N.EMPTY=new F;const B="h-";class U{constructor(t,e){this.data={},this.hashFunction=t||s,this.equalsFunction=e||o}set(t,e){const n=B+this.hashFunction(t);if(n in this.data){const r=this.data[n];for(let n=0;n<r.length;n++){const i=r[n];if(this.equalsFunction(t,i.key)){const t=i.value;return i.value=e,t}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}containsKey(t){const e=B+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return!0}}return!1}get(t){const e=B+this.hashFunction(t);if(e in this.data){const n=this.data[e];for(let e=0;e<n.length;e++){const r=n[e];if(this.equalsFunction(t,r.key))return r.value}}return null}entries(){return Object.keys(this.data).filter((t=>t.startsWith(B))).flatMap((t=>this.data[t]),this)}getKeys(){return this.entries().map((t=>t.key))}getValues(){return this.entries().map((t=>t.value))}toString(){return"["+this.entries().map((t=>"{"+t.key+":"+t.value+"}")).join(", ")+"]"}get length(){return Object.keys(this.data).filter((t=>t.startsWith(B))).map((t=>this.data[t].length),this).reduce(((t,e)=>t+e),0)}}function H(t,e){if(null==e&&(e=I.EMPTY),null===e.parentCtx||e===I.EMPTY)return N.EMPTY;const n=H(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return $.create(n,r.followState.stateNumber)}function q(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,s=[];for(let r=0;r<s.length;r++){const o=q(t.getParent(r),e,n);if(i||o!==t.getParent(r)){if(!i){s=[];for(let e=0;e<t.length;e++)s[e]=t.getParent(e);i=!0}s[r]=o}}if(!i)return e.add(t),n.set(t,t),t;let o=null;return o=0===s.length?N.EMPTY:1===s.length?$.create(s[0],t.getReturnState(0)):new M(s,t.returnStates),e.add(o),n.set(o,o),n.set(t,o),o}function X(t,e,n,r){if(t===e)return t;if(t instanceof $&&e instanceof $)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===N.EMPTY)return N.EMPTY;if(e===N.EMPTY)return N.EMPTY}else{if(t===N.EMPTY&&e===N.EMPTY)return N.EMPTY;if(t===N.EMPTY){const t=[e.returnState,N.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new M(n,t)}if(e===N.EMPTY){const e=[t.returnState,N.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new M(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=X(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const s=$.create(i,t.returnState);return null!==r&&r.set(t,e,s),s}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const s=new M([n,n],i);return null!==r&&r.set(t,e,s),s}const i=[t.returnState,e.returnState];let s=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,s=[e.parentCtx,t.parentCtx]);const o=new M(s,i);return null!==r&&r.set(t,e,o),o}}(t,e,n,r);if(n){if(t instanceof F)return t;if(e instanceof F)return e}return t instanceof $&&(t=new M([t.getParent()],[t.returnState])),e instanceof $&&(e=new M([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n;if(n=r.get(e,t),null!==n)return N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n}let i=0,s=0,o=0,l=new Array(t.returnStates.length+e.returnStates.length).fill(0),a=new Array(t.returnStates.length+e.returnStates.length).fill(null);for(;i<t.returnStates.length&&s<e.returnStates.length;){const u=t.parents[i],c=e.parents[s];if(t.returnStates[i]===e.returnStates[s]){const e=t.returnStates[i];e===N.EMPTY_RETURN_STATE&&null===u&&null===c||null!==u&&null!==c&&u===c?(a[o]=u,l[o]=e):(a[o]=X(u,c,n,r),l[o]=e),i+=1,s+=1}else t.returnStates[i]<e.returnStates[s]?(a[o]=u,l[o]=t.returnStates[i],i+=1):(a[o]=c,l[o]=e.returnStates[s],s+=1);o+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)a[o]=t.parents[e],l[o]=t.returnStates[e],o+=1;else for(let t=s;t<e.returnStates.length;t++)a[o]=e.parents[t],l[o]=e.returnStates[t],o+=1;if(o<a.length){if(1===o){const n=$.create(a[0],l[0]);return null!==r&&r.set(t,e,n),n}a=a.slice(0,o),l=l.slice(0,o)}const u=new M(a,l);return u.equals(t)?(null!==r&&r.set(t,e,t),N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):u.equals(e)?(null!==r&&r.set(t,e,e),N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){const e=new U;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(a),null!==r&&r.set(t,e,u),N.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+u),u)}(t,e,n,r)}class V{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){Object.keys(t.data).map((t=>this.add(t)),this)}remove(t){delete this.data[t]}has(t){return!0===this.data[t]}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){return i.hashStuff(this.values())}equals(t){return t instanceof V&&e(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}}class z{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new R;const e=new c,i=!1;this._LOOK(t.transition(r).target,null,N.EMPTY,n[r],e,new V,i,!1),(0===n[r].length||n[r].contains(z.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new R,i=null!==(n=n||null)?H(t.atn,n):null;return this._LOOK(t,e,i,r,new c,new V,!0,!0),r}_LOOK(e,n,r,i,s,o,l,a){const u=new p({state:e,alt:0,context:r},null);if(!s.has(u)){if(s.add(u),e===n){if(null===r)return void i.addOne(t.EPSILON);if(r.isEmpty()&&a)return void i.addOne(t.EOF)}if(e instanceof w){if(null===r)return void i.addOne(t.EPSILON);if(r.isEmpty()&&a)return void i.addOne(t.EOF);if(r!==N.EMPTY){const t=o.has(e.ruleIndex);try{o.remove(e.ruleIndex);for(let t=0;t<r.length;t++){const e=this.atn.states[r.getReturnState(t)];this._LOOK(e,n,r.getParent(t),i,s,o,l,a)}}finally{t&&o.add(e.ruleIndex)}return}}for(let u=0;u<e.transitions.length;u++){const c=e.transitions[u];if(c.constructor===y){if(o.has(c.target.ruleIndex))continue;const t=$.create(r,c.followState.stateNumber);try{o.add(c.target.ruleIndex),this._LOOK(c.target,n,t,i,s,o,l,a)}finally{o.remove(c.target.ruleIndex)}}else if(c instanceof T)l?this._LOOK(c.target,n,r,i,s,o,l,a):i.addOne(z.HIT_PRED);else if(c.isEpsilon)this._LOOK(c.target,n,r,i,s,o,l,a);else if(c.constructor===C)i.addRange(t.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let e=c.label;null!==e&&(c instanceof k&&(e=e.complement(t.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(e))}}}}}z.HIT_PRED=t.INVALID_TYPE;class W{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new z(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(e,n){if(e<0||e>=this.states.length)throw"Invalid state number.";const r=this.states[e];let i=this.nextTokens(r);if(!i.contains(t.EPSILON))return i;const s=new R;for(s.addSet(i),s.removeOne(t.EPSILON);null!==n&&n.invokingState>=0&&i.contains(t.EPSILON);){const e=this.states[n.invokingState].transitions[0];i=this.nextTokens(e.followState),s.addSet(i),s.removeOne(t.EPSILON),n=n.parentCtx}return i.contains(t.EPSILON)&&s.addOne(t.EOF),s}}W.INVALID_ALT_NUMBER=0;class j extends O{constructor(){super(),this.stateType=O.BASIC}}class G extends O{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class Y extends G{constructor(){return super(),this.endState=null,this}}class Z extends O{constructor(){return super(),this.stateType=O.BLOCK_END,this.startState=null,this}}class K extends O{constructor(){return super(),this.stateType=O.LOOP_END,this.loopBackState=null,this}}class J extends O{constructor(){return super(),this.stateType=O.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class tt extends G{constructor(){return super(),this.stateType=O.TOKEN_START,this}}class et extends G{constructor(){return super(),this.stateType=O.PLUS_LOOP_BACK,this}}class nt extends O{constructor(){return super(),this.stateType=O.STAR_LOOP_BACK,this}}class rt extends G{constructor(){return super(),this.stateType=O.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class it extends Y{constructor(){return super(),this.stateType=O.PLUS_BLOCK_START,this.loopBackState=null,this}}class st extends Y{constructor(){return super(),this.stateType=O.STAR_BLOCK_START,this}}class ot extends Y{constructor(){return super(),this.stateType=O.BLOCK_START,this}}class lt extends x{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=x.ATOM}makeLabel(){const t=new R;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class at extends x{constructor(t,e,n){super(t),this.serializationType=x.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new R;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class ut extends x{constructor(t,e,n,r){super(t),this.serializationType=x.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class ct extends x{constructor(t,e){super(t),this.serializationType=x.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class ht extends h{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof ht&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}h.NONE=new ht;class ft extends T{constructor(t,e,n,r){super(t),this.serializationType=x.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new ht(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class dt extends h{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?h.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof dt&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}h.PrecedencePredicate=dt;class vt extends T{constructor(t,e){super(t),this.serializationType=x.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new dt(this.precedence)}toString(){return this.precedence+" >= _p"}}class gt{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}gt.defaultOptions=new gt,gt.defaultOptions.readOnly=!0;class pt{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new i;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class mt extends pt{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}mt.INSTANCE=new mt;class Rt extends pt{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof Rt&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Ot extends pt{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Ot&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class wt extends pt{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}wt.INSTANCE=new wt;class xt extends pt{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof xt&&this.type===t.type}toString(){return"type("+this.type+")"}}class yt extends pt{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof yt&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class bt extends pt{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}bt.INSTANCE=new bt;class kt extends pt{constructor(t){super(2),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof kt&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function Ct(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class Tt{constructor(t){null==t&&(t=gt.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new W(t,e)}readStates(t,e){let n,r,i;const s=[],o=[],l=this.readInt();for(let n=0;n<l;n++){const n=this.readInt();if(n===O.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===O.LOOP_END){const t=this.readInt();s.push([i,t])}else if(i instanceof Y){const t=this.readInt();o.push([i,t])}t.addState(i)}for(n=0;n<s.length;n++)r=s[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<o.length;n++)r=o[n],r[0].endState=t.states[r[1]];let a=this.readInt();for(n=0;n<a;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(e,n){let r;const i=this.readInt();for(0===e.grammarType&&(e.ruleToTokenType=Ct(i,0)),e.ruleToStartState=Ct(i,0),r=0;r<i;r++){const i=this.readInt();if(e.ruleToStartState[r]=e.states[i],0===e.grammarType){let i=this.readInt();n&&65535===i&&(i=t.EOF),e.ruleToTokenType[r]=i}}for(e.ruleToStopState=Ct(i,0),r=0;r<e.states.length;r++){const t=e.states[r];t instanceof w&&(e.ruleToStopState[t.ruleIndex]=t,e.ruleToStartState[t.ruleIndex].stopState=t)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new R;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,s,o;const l=this.readInt();for(n=0;n<l;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),o=this.readInt(),l=this.readInt(),a=this.readInt();s=this.edgeFactory(t,i,n,r,o,l,a,e),t.states[n].addTransition(s)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof y))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),s=new ct(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(s)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof Y){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof et)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof it&&(o.loopBackState=i);else if(i instanceof nt)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof rt&&(o.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=Ct(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,s)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new ot;i.ruleIndex=e,t.addState(i);const s=new Z;s.ruleIndex=e,t.addState(s),i.endState=s,t.defineDecisionState(i),s.startState=i;let o=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){l=r,o=r.loopBackState.transitions[0];break}if(null===o)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==o&&e.target===l&&(e.target=s)}}const a=t.ruleToStartState[e],u=a.transitions.length;for(;u>0;)i.addTransition(a.transitions[u-1]),a.transitions=a.transitions.slice(-1);t.ruleToStartState[e].addTransition(new ct(i)),s.addTransition(new ct(l));const c=new j;t.addState(c),c.addTransition(new lt(s,t.ruleToTokenType[e])),i.addTransition(new ct(c))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof rt))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof K&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof w?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof rt&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof K&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof w&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof it)this.checkCondition(null!==n.loopBackState);else if(n instanceof rt)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof st)this.checkCondition(n.transitions[1].target instanceof K),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof K))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof st),this.checkCondition(n.nonGreedy)}else n instanceof nt?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof rt)):n instanceof K?this.checkCondition(null!==n.loopBackState):n instanceof J?this.checkCondition(null!==n.stopState):n instanceof Y?this.checkCondition(null!==n.endState):n instanceof Z?this.checkCondition(null!==n.startState):n instanceof G?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof w)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(e,n,r,i,s,o,l,a){const u=e.states[i];switch(n){case x.EPSILON:return new ct(u);case x.RANGE:return new at(u,0!==l?t.EOF:s,o);case x.RULE:return new y(e.states[s],o,l,u);case x.PREDICATE:return new ft(u,s,o,0!==l);case x.PRECEDENCE:return new vt(u,s);case x.ATOM:return new lt(u,0!==l?t.EOF:s);case x.ACTION:return new ut(u,s,o,0!==l);case x.SET:return new b(u,a[s]);case x.NOT_SET:return new k(u,a[s]);case x.WILDCARD:return new C(u);default:throw"The specified transition type: "+n+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[O.INVALID_TYPE]=null,t[O.BASIC]=()=>new j,t[O.RULE_START]=()=>new J,t[O.BLOCK_START]=()=>new ot,t[O.PLUS_BLOCK_START]=()=>new it,t[O.STAR_BLOCK_START]=()=>new st,t[O.TOKEN_START]=()=>new tt,t[O.RULE_STOP]=()=>new w,t[O.BLOCK_END]=()=>new Z,t[O.STAR_LOOP_BACK]=()=>new nt,t[O.STAR_LOOP_ENTRY]=()=>new rt,t[O.PLUS_LOOP_BACK]=()=>new et,t[O.LOOP_END]=()=>new K,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new Rt(t),t[1]=(t,e)=>new Ot(t,e),t[2]=(t,e)=>new kt(t),t[3]=(t,e)=>wt.INSTANCE,t[4]=(t,e)=>bt.INSTANCE,t[5]=(t,e)=>new yt(t),t[6]=(t,e)=>mt.INSTANCE,t[7]=(t,e)=>new xt(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class St{syntaxError(t,e,n,r,i,s){}reportAmbiguity(t,e,n,r,i,s,o){}reportAttemptingFullContext(t,e,n,r,i,s){}reportContextSensitivity(t,e,n,r,i,s){}}class At extends St{constructor(){super()}syntaxError(t,e,n,r,i,s){console.error("line "+n+":"+r+" "+i)}}At.INSTANCE=new At;class Pt extends St{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,s){this.delegates.map((o=>o.syntaxError(t,e,n,r,i,s)))}reportAmbiguity(t,e,n,r,i,s,o){this.delegates.map((l=>l.reportAmbiguity(t,e,n,r,i,s,o)))}reportAttemptingFullContext(t,e,n,r,i,s){this.delegates.map((o=>o.reportAttemptingFullContext(t,e,n,r,i,s)))}reportContextSensitivity(t,e,n,r,i,s){this.delegates.map((o=>o.reportContextSensitivity(t,e,n,r,i,s)))}}class _t{constructor(){this._listeners=[At.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.1";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const e=this.getTokenNames();if(null===e)throw"The current recognizer does not provide a list of token names.";let n=this.tokenTypeMapCache[e];return void 0===n&&(n=e.reduce((function(t,e,n){t[e]=n})),n.EOF=t.EOF,this.tokenTypeMapCache[e]=n),n}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(e){const n=this.getTokenTypeMap()[e];return void 0!==n?n:t.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(e){if(null===e)return"<no token>";let n=e.text;return null===n&&(n=e.type===t.EOF?"<EOF>":"<"+e.type+">"),n=n.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+n+"'"}getErrorListenerDispatch(){return new Pt(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}_t.tokenTypeMapCache={},_t.ruleIndexMapCache={};class Et extends t{constructor(e,n,r,i,s){super(),this.source=void 0!==e?e:Et.EMPTY_SOURCE,this.type=void 0!==n?n:null,this.channel=void 0!==r?r:t.DEFAULT_CHANNEL,this.start=void 0!==i?i:-1,this.stop=void 0!==s?s:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=e[0].line,this.column=e[0].column):this.column=-1}clone(){const t=new Et(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(e){const n=new Et(this.source,e,this.channel,this.start,this.stop);return n.tokenIndex=this.tokenIndex,n.line=this.line,n.column=this.column,e===t.EOF&&(n.text=""),n}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}Et.EMPTY_SOURCE=[null,null];class Lt{}class Dt extends Lt{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,s,o,l){const a=new Et(t,e,r,i,s);return a.line=o,a.column=l,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(i,s)),a}createThin(t,e){const n=new Et(null,t);return n.text=e,n}}Dt.DEFAULT=new Dt;class Qt extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,Qt),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class It extends Qt{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new m(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class Nt extends _t{constructor(e){super(),this._input=e,this._factory=Dt.DEFAULT,this._tokenFactorySourcePair=[this,e],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=t.DEFAULT_CHANNEL,this._type=t.INVALID_TYPE,this._modeStack=[],this._mode=Nt.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=t.INVALID_TYPE,this._channel=t.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=Nt.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const e=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=t.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=t.INVALID_TYPE;let n=Nt.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof Qt))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===t.EOF&&(this._hitEOF=!0),this._type===t.INVALID_TYPE&&(this._type=n),this._type===Nt.SKIP){e=!0;break}if(this._type!==Nt.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(e)}}skip(){this._type=Nt.SKIP}more(){this._type=Nt.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const e=this.column,n=this.line,r=this._factory.create(this._tokenFactorySourcePair,t.EOF,null,t.DEFAULT_CHANNEL,this._input.index,this._input.index-1,n,e);return this.emitToken(r),r}getCharIndex(){return this._input.index}getAllTokens(){const e=[];let n=this.nextToken();for(;n.type!==t.EOF;)e.push(n),n=this.nextToken();return e}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(e){return e.charCodeAt(0)===t.EOF?"<EOF>":"\n"===e?"\\n":"\t"===e?"\\t":"\r"===e?"\\r":e}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(e){this._input.LA(1)!==t.EOF&&(e instanceof It?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function Mt(t){return t.hashCodeForConfigSet()}function $t(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Nt.DEFAULT_MODE=0,Nt.MORE=-2,Nt.SKIP=-3,Nt.DEFAULT_TOKEN_CHANNEL=t.DEFAULT_CHANNEL,Nt.HIDDEN=t.HIDDEN_CHANNEL,Nt.MIN_CHAR_VALUE=0,Nt.MAX_CHAR_VALUE=1114111;class Ft{constructor(t){this.configLookup=new c(Mt,$t),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==h.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=X(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new c;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==h.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof Ft&&e(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new i;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new c}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return a(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==W.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class Bt{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new Ft),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new c;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof Bt&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new i;return t.update(this.configs),t.finish()}}class Ut{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new U;return q(t,this.sharedContextCache,e)}}Ut.ERROR=new Bt(2147483647,new Ft);class Ht extends Ft{constructor(){super(),this.configLookup=new c}}class qt extends p{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=qt.prototype.hashCode,this.equalsForConfigSet=qt.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof qt&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof G&&e.nonGreedy}}class Xt extends pt{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof Xt&&this.offset===t.offset&&this.action===t.action}}class Vt{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=i.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof Xt||(null===e&&(e=this.lexerActions.concat([])),e[n]=new Xt(t,this.lexerActions[n]));return null===e?this:new Vt(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let s=0;s<this.lexerActions.length;s++){let o=this.lexerActions[s];if(o instanceof Xt){const t=o.offset;e.seek(n+t),o=o.action,r=n+t!==i}else o.isPositionDependent&&(e.seek(i),r=!1);o.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof Vt){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new Vt([e]);const n=t.lexerActions.concat([e]);return new Vt(n)}}function zt(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class Wt{constructor(){zt(this)}reset(){zt(this)}}class jt extends Ut{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=Nt.DEFAULT_MODE,this.prevAccept=new Wt}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const n=this.decisionToDFA[e];return null===n.s0?this.matchATN(t):this.execATN(t,n.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Nt.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];jt.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const s=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=s);const o=this.execATN(t,s);return jt.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),o}execATN(e,n){jt.debug&&console.log("start state closure="+n.configs),n.isAcceptState&&this.captureSimState(this.prevAccept,e,n);let r=e.LA(1),i=n;for(;;){jt.debug&&console.log("execATN loop starting closure: "+i.configs);let n=this.getExistingTargetState(i,r);if(null===n&&(n=this.computeTargetState(e,i,r)),n===Ut.ERROR)break;if(r!==t.EOF&&this.consume(e),n.isAcceptState&&(this.captureSimState(this.prevAccept,e,n),r===t.EOF))break;r=e.LA(1),i=n}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(t,e){if(null===t.edges||e<jt.MIN_DFA_EDGE||e>jt.MAX_DFA_EDGE)return null;let n=t.edges[e-jt.MIN_DFA_EDGE];return void 0===n&&(n=null),jt.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new Ht;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Ut.ERROR),Ut.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(e,n,r,i){if(null!==this.prevAccept.dfaState){const t=e.dfaState.lexerActionExecutor;return this.accept(n,t,this.startIndex,e.index,e.line,e.column),e.dfaState.prediction}if(i===t.EOF&&n.index===this.startIndex)return t.EOF;throw new It(this.recog,n,this.startIndex,r)}getReachableConfigSet(e,n,r,i){let s=W.INVALID_ALT_NUMBER;for(let o=0;o<n.items.length;o++){const l=n.items[o],a=l.alt===s;if(!a||!l.passedThroughNonGreedyDecision){jt.debug&&console.log("testing %s at %s\n",this.getTokenName(i),l.toString(this.recog,!0));for(let n=0;n<l.state.transitions.length;n++){const o=l.state.transitions[n],u=this.getReachableTarget(o,i);if(null!==u){let n=l.lexerActionExecutor;null!==n&&(n=n.fixOffsetBeforeMatch(e.index-this.startIndex));const o=i===t.EOF,c=new qt({state:u,lexerActionExecutor:n},l);this.closure(e,c,r,a,!0,o)&&(s=l.alt)}}}}}accept(t,e,n,r,i,s){jt.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,Nt.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=N.EMPTY,r=new Ht;for(let i=0;i<e.transitions.length;i++){const s=e.transitions[i].target,o=new qt({state:s,alt:i+1,context:n},null);this.closure(t,o,r,!1,!1,!1)}return r}closure(t,e,n,r,i,s){let o=null;if(jt.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof w){if(jt.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new qt({state:e.state,context:N.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let l=0;l<e.context.length;l++)if(e.context.getReturnState(l)!==N.EMPTY_RETURN_STATE){const a=e.context.getParent(l),u=this.atn.states[e.context.getReturnState(l)];o=new qt({state:u,context:a},e),r=this.closure(t,o,n,r,i,s)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let l=0;l<e.state.transitions.length;l++){const a=e.state.transitions[l];o=this.getEpsilonTarget(t,e,a,n,i,s),null!==o&&(r=this.closure(t,o,n,r,i,s))}return r}getEpsilonTarget(e,n,r,i,s,o){let l=null;if(r.serializationType===x.RULE){const t=$.create(n.context,r.followState.stateNumber);l=new qt({state:r.target,context:t},n)}else{if(r.serializationType===x.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(r.serializationType===x.PREDICATE)jt.debug&&console.log("EVAL rule "+r.ruleIndex+":"+r.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,r.ruleIndex,r.predIndex,s)&&(l=new qt({state:r.target},n));else if(r.serializationType===x.ACTION)if(null===n.context||n.context.hasEmptyPath()){const t=Vt.append(n.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);l=new qt({state:r.target,lexerActionExecutor:t},n)}else l=new qt({state:r.target},n);else r.serializationType===x.EPSILON?l=new qt({state:r.target},n):r.serializationType!==x.ATOM&&r.serializationType!==x.RANGE&&r.serializationType!==x.SET||o&&r.matches(t.EOF,0,Nt.MAX_CHAR_VALUE)&&(l=new qt({state:r.target},n))}return l}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,s=this.line,o=t.index,l=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=s,t.seek(o),t.release(l)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<jt.MIN_DFA_EDGE||e>jt.MAX_DFA_EDGE||(jt.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-jt.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new Bt(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof w){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const s=e;return s.stateNumber=r.states.length,t.setReadonly(!0),s.configs=t,r.states.add(s),s}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}jt.debug=!1,jt.dfa_debug=!1,jt.MIN_DFA_EDGE=0,jt.MAX_DFA_EDGE=127;class Gt{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class Yt{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const Zt={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Zt.allConfigsInRuleStopStates(e))return!0;if(t===Zt.SLL&&e.hasSemanticContext){const t=new Ft;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new p({semanticContext:h.NONE},r),t.add(r)}e=t}const n=Zt.getConflictingAltSubsets(e);return Zt.hasConflictingAltSet(n)&&!Zt.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof w)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof w))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Zt.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Zt.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=Zt.getAlts(t);return 1===e.length?e.minValue():W.INVALID_ALT_NUMBER},getAlts:function(t){const e=new V;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new U;return e.hashFunction=function(t){i.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new V,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new Yt;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new V,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=Zt.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return W.INVALID_ALT_NUMBER}return e}},Kt=Zt;class Jt extends Qt{constructor(t,e,n,r,i,s){s=s||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:s}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class te{constructor(t){this.defaultMapCtor=t||U,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}class ee extends Ut{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=Kt.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),s=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=I.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let s=this.computeStartState(r.atnStartState,I.EMPTY,i);r.precedenceDfa?(r.s0.configs=s,s=this.applyPrecedenceFilter(s),e=this.addDFAState(r,new Bt(null,s)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new Bt(null,s)),r.s0=e)}const i=this.execATN(r,e,t,s,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),i}finally{this._dfa=null,this.mergeCache=null,t.seek(s),t.release(i)}}execATN(e,n,r,i,s){let o;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+e.decision+", DFA state "+n+", LA(1)=="+this.getLookaheadName(r)+" line "+r.LT(1).line+":"+r.LT(1).column);let l=n;this.debug&&console.log("s0 = "+n);let a=r.LA(1);for(;;){let n=this.getExistingTargetState(l,a);if(null===n&&(n=this.computeTargetState(e,l,a)),n===Ut.ERROR){const t=this.noViableAlt(r,s,l.configs,i);if(r.seek(i),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(l.configs,s),o!==W.INVALID_ALT_NUMBER)return o;throw t}if(n.requiresFullContext&&this.predictionMode!==Kt.SLL){let t=null;if(null!==n.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const e=r.index;if(e!==i&&r.seek(i),t=this.evalSemanticContext(n.predicates,s,!0),1===t.length)return this.debug&&console.log("Full LL avoided"),t.minValue();e!==i&&r.seek(e)}this.dfa_debug&&console.log("ctx sensitive state "+s+" in "+n);const l=!0,a=this.computeStartState(e.atnStartState,s,l);return this.reportAttemptingFullContext(e,t,n.configs,i,r.index),o=this.execATNWithFullContext(e,n,a,r,i,s),o}if(n.isAcceptState){if(null===n.predicates)return n.prediction;const t=r.index;r.seek(i);const o=this.evalSemanticContext(n.predicates,s,!0);if(0===o.length)throw this.noViableAlt(r,s,n.configs,i);return 1===o.length||this.reportAmbiguity(e,n,i,t,!1,o,n.configs),o.minValue()}l=n,a!==t.EOF&&(r.consume(),a=r.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Ut.ERROR),Ut.ERROR;let i=new Bt(null,r);const s=this.getUniqueAlt(r);if(this.debug){const t=Kt.getConflictingAltSubsets(r);console.log("SLL altSubSets="+a(t)+", configs="+r+", predict="+s+", allSubsetsConflict="+Kt.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return s!==W.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=s,i.prediction=s):Kt.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=W.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=W.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(e,n,r,i,s,o){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+r);let l,a=!1,u=r;i.seek(s);let c=i.LA(1),h=-1;for(;;){if(l=this.computeReachSet(u,c,!0),null===l){const t=this.noViableAlt(i,o,u,s);i.seek(s);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u,o);if(e!==W.INVALID_ALT_NUMBER)return e;throw t}const e=Kt.getConflictingAltSubsets(l);if(this.debug&&console.log("LL altSubSets="+e+", predict="+Kt.getUniqueAlt(e)+", resolvesToJustOneViableAlt="+Kt.resolvesToJustOneViableAlt(e)),l.uniqueAlt=this.getUniqueAlt(l),l.uniqueAlt!==W.INVALID_ALT_NUMBER){h=l.uniqueAlt;break}if(this.predictionMode!==Kt.LL_EXACT_AMBIG_DETECTION){if(h=Kt.resolvesToJustOneViableAlt(e),h!==W.INVALID_ALT_NUMBER)break}else if(Kt.allSubsetsConflict(e)&&Kt.allSubsetsEqual(e)){a=!0,h=Kt.getSingleViableAlt(e);break}u=l,c!==t.EOF&&(i.consume(),c=i.LA(1))}return l.uniqueAlt!==W.INVALID_ALT_NUMBER?(this.reportContextSensitivity(e,h,l,s,i.index),h):(this.reportAmbiguity(e,n,s,i.index,a,null,l),h)}computeReachSet(e,n,r){this.debug&&console.log("in computeReachSet, starting closure: "+e),null===this.mergeCache&&(this.mergeCache=new te);const i=new Ft(r);let s=null;for(let o=0;o<e.items.length;o++){const l=e.items[o];if(this.debug&&console.log("testing "+this.getTokenName(n)+" at "+l),l.state instanceof w)(r||n===t.EOF)&&(null===s&&(s=[]),s.push(l),this.debug_add&&console.log("added "+l+" to skippedStopStates"));else for(let t=0;t<l.state.transitions.length;t++){const e=l.state.transitions[t],r=this.getReachableTarget(e,n);if(null!==r){const t=new p({state:r},l);i.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let o=null;if(null===s&&n!==t.EOF&&(1===i.items.length||this.getUniqueAlt(i)!==W.INVALID_ALT_NUMBER)&&(o=i),null===o){o=new Ft(r);const e=new c,s=n===t.EOF;for(let t=0;t<i.items.length;t++)this.closure(i.items[t],o,e,!1,r,s)}if(n===t.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===i)),!(null===s||r&&Kt.hasConfigInRuleStopState(o)))for(let t=0;t<s.length;t++)o.add(s[t],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+e+" -> "+o),0===o.items.length?null:o}removeAllConfigsNotInRuleStopState(e,n){if(Kt.allConfigsInRuleStopStates(e))return e;const r=new Ft(e.fullCtx);for(let i=0;i<e.items.length;i++){const s=e.items[i];if(s.state instanceof w)r.add(s,this.mergeCache);else if(n&&s.state.epsilonOnlyTransitions&&this.atn.nextTokens(s.state).contains(t.EPSILON)){const t=this.atn.ruleToStopState[s.state.ruleIndex];r.add(new p({state:t},s),this.mergeCache)}}return r}computeStartState(t,e,n){const r=H(this.atn,e),i=new Ft(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(let e=0;e<t.transitions.length;e++){const s=t.transitions[e].target,o=new p({state:s,alt:e+1,context:r},null),l=new c;this.closure(o,i,l,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new Ft(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const s=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==s&&(n[e.state.stateNumber]=e.context,s!==e.semanticContext?r.add(new p({semanticContext:s},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.has(i.alt)&&(r[i.alt]=h.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=h.NONE:e!==h.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+a(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const s=e[i];null!==t&&t.has(i)&&n.push(new Gt(s,i)),s!==h.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let s=this.getAltThatFinishedDecisionEntryRule(r);return s!==W.INVALID_ALT_NUMBER||i.items.length>0&&(s=this.getAltThatFinishedDecisionEntryRule(i),s!==W.INVALID_ALT_NUMBER)?s:W.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof w&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?W.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new Ft(t.fullCtx),r=new Ft(t.fullCtx);for(let i=0;i<t.items.length;i++){const s=t.items[i];s.semanticContext!==h.NONE?s.semanticContext.evaluate(this.parser,e)?n.add(s):r.add(s):n.add(s)}return[n,r]}evalSemanticContext(t,e,n){const r=new V;for(let i=0;i<t.length;i++){const s=t[i];if(s.pred===h.NONE){if(r.add(s.alt),!n)break;continue}const o=s.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+s.alt),r.add(s.alt),!n))break}return r}closure(t,e,n,r,i,s){this.closureCheckingStopState(t,e,n,r,i,0,s)}closureCheckingStopState(t,e,n,r,i,s,o){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof w){if(!t.context.isEmpty()){for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===N.EMPTY_RETURN_STATE){if(i){e.add(new p({state:t.state,context:N.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,s,o);continue}const a=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),c={state:a,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new p(c,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,s-1,o)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,s,o)}closure_(t,e,n,r,i,s,o){const l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let a=0;a<l.transitions.length;a++){if(0===a&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=l.transitions[a],c=r&&!(u instanceof ut),h=this.getEpsilonTarget(t,u,c,0===s,i,o);if(null!==h){let r=s;if(t.state instanceof w){if(null!==this._dfa&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.add(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.add(h)!==h)continue;u instanceof y&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,c,i,r,o)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==O.STAR_LOOP_ENTRY)return!1;if(e.stateType!==O.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),s=this.atn.states[n];if(1!==s.transitions.length||!s.transitions[0].isEpsilon)return!1;const o=s.transitions[0].target;if(!(s.stateType===O.BLOCK_END&&o===e||s===i||o===i||o.stateType===O.BLOCK_END&&1===o.transitions.length&&o.transitions[0].isEpsilon&&o.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(e,n,r,i,s,o){switch(n.serializationType){case x.RULE:return this.ruleTransition(e,n);case x.PRECEDENCE:return this.precedenceTransition(e,n,r,i,s);case x.PREDICATE:return this.predTransition(e,n,r,i,s);case x.ACTION:return this.actionTransition(e,n);case x.EPSILON:return new p({state:n.target},e);case x.ATOM:case x.RANGE:case x.SET:return o&&n.matches(t.EOF,0,1)?new p({state:n.target},e):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new p({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+a(this.parser.getRuleInvocationStack())));let s=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new p({state:e.target},t))}else{const n=h.andContext(t.semanticContext,e.getPredicate());s=new p({state:e.target,semanticContext:n},t)}else s=new p({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+a(this.parser.getRuleInvocationStack())));let s=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new p({state:e.target},t))}else{const n=h.andContext(t.semanticContext,e.getPredicate());s=new p({state:e.target,semanticContext:n},t)}else s=new p({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=$.create(t.context,n.stateNumber);return new p({state:e.target,context:r},t)}getConflictingAlts(t){const e=Kt.getConflictingAltSubsets(t);return Kt.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==W.INVALID_ALT_NUMBER?(e=new V,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(e){if(e===t.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(e>=this.parser.literalNames.length&&e>=this.parser.symbolicNames.length))return(this.parser.literalNames[e]||this.parser.symbolicNames[e])+"<"+e+">";console.log(e+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+e}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof lt?r="Atom "+this.getTokenName(t.label):t instanceof b&&(r=(t instanceof k?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new Jt(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=W.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===W.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return W.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===Ut.ERROR)return e;const n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new m(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new m(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,s,o){if(this.debug||this.retry_debug){const t=new m(n,r+1);console.log("reportAmbiguity "+s+":"+o+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,i,s,o)}}class ne{constructor(){this.cache=new U}add(t){if(t===N.EMPTY)return N.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const re={ATN:W,ATNDeserializer:Tt,LexerATNSimulator:jt,ParserATNSimulator:ee,PredictionMode:Kt,PredictionContextCache:ne};class ie{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+a(t.predicates):e+"=>"+t.prediction.toString():e}}class se extends ie{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class oe{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new c,this.s0=null,this.precedenceDfa=!1,t instanceof rt&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new Bt(null,new Ft);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new c,t){const t=new Bt(null,new Ft);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new ie(this,t,e).toString()}toLexerString(){return null===this.s0?"":new se(this).toString()}get states(){return this._states}}const le={DFA:oe,DFASerializer:ie,LexerDFASerializer:se,PredPrediction:Gt},ae={PredictionContext:N},ue={Interval:m,IntervalSet:R};class ce{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class he{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class fe{walk(t,e){if(e instanceof L||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof E)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}fe.DEFAULT=new fe;const de={Trees:Q,RuleNode:_,ErrorNode:L,TerminalNode:E,ParseTreeListener:ce,ParseTreeVisitor:he,ParseTreeWalker:fe};class ve extends Qt{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class ge extends Qt{constructor(t,e,n){super({message:pe(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof ft?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function pe(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class me extends St{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,s,o){if(this.exactOnly&&!i)return;const l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(s,o)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,n,r,i,s){const o="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(o)}reportContextSensitivity(t,e,n,r,i,s){const o="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new m(n,r))+"'";t.notifyErrorListeners(o)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const s=i[r]||null;return null===s||0===s.length?""+n:`${n} (${s})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new V;for(let t=0;t<e.items.length;t++)n.add(e.items[t].alt);return`{${n.values().join(", ")}}`}}class Re extends Error{constructor(){super(),Error.captureStackTrace(this,Re)}}class Oe{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class we extends Oe{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Jt?this.reportNoViableAlternative(t,e):e instanceof ve?this.reportInputMismatch(t,e):e instanceof ge?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(e){if(this.inErrorRecoveryMode(e))return;const n=e._interp.atn.states[e.state],r=e.getTokenStream().LA(1),i=e.atn.nextTokens(n);if(i.contains(r))return this.nextTokensContext=null,void(this.nextTokenState=O.INVALID_STATE_NUMBER);if(i.contains(t.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=e._ctx,this.nextTokensState=e._stateNumber);else switch(n.stateType){case O.BLOCK_START:case O.STAR_BLOCK_START:case O.PLUS_BLOCK_START:case O.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(e))return;throw new ve(e);case O.PLUS_LOOP_BACK:case O.STAR_LOOP_BACK:{this.reportUnwantedToken(e);const t=new R;t.addSet(e.getExpectedTokens());const n=t.addSet(this.getErrorRecoverySet(e));this.consumeUntil(e,n)}}}reportNoViableAlternative(e,n){const r=e.getTokenStream();let i;i=null!==r?n.startToken.type===t.EOF?"<EOF>":r.getText(new m(n.startToken.tokenIndex,n.offendingToken.tokenIndex)):"<unknown input>";const s="no viable alternative at input "+this.escapeWSAndQuote(i);e.notifyErrorListeners(s,n.offendingToken,n)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new ve(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(e){const n=e.getCurrentToken(),r=this.getExpectedTokens(e).first();let i;i=r===t.EOF?"<missing EOF>":"<missing "+e.literalNames[r]+">";let s=n;const o=e.getTokenStream().LT(-1);return s.type===t.EOF&&null!==o&&(s=o),e.getTokenFactory().create(s.source,r,i,t.DEFAULT_CHANNEL,-1,-1,s.line,s.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(e){if(null===e)return"<no token>";let n=e.text;return null===n&&(n=e.type===t.EOF?"<EOF>":"<"+e.type+">"),this.escapeWSAndQuote(n)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(e){const n=e._interp.atn;let r=e._ctx;const i=new R;for(;null!==r&&r.invokingState>=0;){const t=n.states[r.invokingState].transitions[0],e=n.nextTokens(t.followState);i.addSet(e),r=r.parentCtx}return i.removeOne(t.EPSILON),i}consumeUntil(e,n){let r=e.getTokenStream().LA(1);for(;r!==t.EOF&&!n.contains(r);)e.consume(),r=e.getTokenStream().LA(1)}}class xe extends we{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new Re(e)}recoverInline(t){this.recover(t,new ve(t))}sync(t){}}const ye={RecognitionException:Qt,NoViableAltException:Jt,LexerNoViableAltException:It,InputMismatchException:ve,FailedPredicateException:ge,DiagnosticErrorListener:me,BailErrorStrategy:xe,DefaultErrorStrategy:we,ErrorListener:St};class be{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++)this.data[t]=this.strdata.charCodeAt(t)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(e){if(0===e)return 0;e<0&&(e+=1);const n=this._index+e-1;return n<0||n>=this._size?t.EOF:this.data[n]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class ke extends be{constructor(t,e){super(t,e)}}var Ce=iI(92);const Te="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class Se extends ke{static fromPath(t,e,n){if(!Te)throw new Error("FileStream is only available when running in Node!");Ce.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new be(e,!0)),n(t,r)}))}constructor(t,e,n){if(!Te)throw new Error("FileStream is only available when running in Node!");super(Ce.readFileSync(t,e||"utf-8"),n),this.fileName=t}}const Ae={fromString:function(t){return new be(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new be(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new be(t.toString(e),!0)},fromPath:function(t,e,n){Se.fromPath(t,e,n)},fromPathSync:function(t,e){return new Se(t,e)}},Pe={arrayToString:a,stringToCharArray:function(t){let e=new Uint16Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};class _e{}class Ee extends _e{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let e=!1;if(e=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!e&&this.LA(1)===t.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(e){if(this.fetchedEOF)return 0;for(let n=0;n<e;n++){const e=this.tokenSource.nextToken();if(e.tokenIndex=this.tokens.length,this.tokens.push(e),e.type===t.EOF)return this.fetchedEOF=!0,n+1}return e}getTokens(e,n,r){if(void 0===r&&(r=null),e<0||n<0)return null;this.lazyInit();const i=[];n>=this.tokens.length&&(n=this.tokens.length-1);for(let s=e;s<n;s++){const e=this.tokens[s];if(e.type===t.EOF)break;(null===r||r.contains(e.type))&&i.push(e)}return i}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(e,n){if(this.sync(e),e>=this.tokens.length)return-1;let r=this.tokens[e];for(;r.channel!==this.channel;){if(r.type===t.EOF)return-1;e+=1,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,Nt.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,Nt.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==Nt.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(e){this.lazyInit(),this.fill(),e||(e=new m(0,this.tokens.length-1));let n=e.start;n instanceof t&&(n=n.tokenIndex);let r=e.stop;if(r instanceof t&&(r=r.tokenIndex),null===n||null===r||n<0||r<0)return"";r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let e=n;e<r+1;e++){const n=this.tokens[e];if(n.type===t.EOF)break;i+=n.text}return i}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(Ee,"size",{get:function(){return this.tokens.length}});class Le extends Ee{constructor(e,n){super(e),this.channel=void 0===n?t.DEFAULT_CHANNEL:n}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let n=0;n<this.tokens.length;n++){const r=this.tokens[n];if(r.channel===this.channel&&(e+=1),r.type===t.EOF)break}return e}}class De extends ce{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class Qe extends _t{constructor(t){super(),this._input=null,this._errHandler=new we,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new gt;n.generateRuleBypassTransitions=!0,e=new Tt(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,i,t,n)}consume(){const e=this.getCurrentToken();e.type!==t.EOF&&this.getInputStream().consume();const n=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||n){let t;t=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(e):this._ctx.addTokenNode(e),t.invokingState=this.state,n&&this._parseListeners.forEach((function(e){t instanceof L||void 0!==t.isErrorNode&&t.isErrorNode()?e.visitErrorNode(t):t instanceof E&&e.visitTerminal(t)}))}return e}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(e){const n=this._interp.atn;let r=this._ctx;const i=n.states[this.state];let s=n.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(t.EPSILON))return!1;for(;null!==r&&r.invokingState>=0&&s.contains(t.EPSILON);){const t=n.states[r.invokingState].transitions[0];if(s=n.nextTokens(t.followState),s.contains(e))return!0;r=r.parentCtx}return!(!s.contains(t.EPSILON)||e!==t.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.sourceName}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new De(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}Qe.bypassAltsAtnCache={};class Ie extends E{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return m.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new m(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===t.EOF?"<EOF>":this.symbol.text}}class Ne extends Ie{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class Me extends I{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof Ne&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new Ie(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new Ne(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof E&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof E&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?m.INVALID_INTERVAL:new m(this.start.tokenIndex,this.stop.tokenIndex)}}I.EMPTY=new Me;class $e{static DEFAULT_PROGRAM_NAME="default";constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),s=new Ue(this.tokens,n,i.length,e);i.push(s)}insertBefore(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;const i=this.getProgram(r),s=new Be(this.tokens,n,i.length,e);i.push(s)}replaceSingle(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,n)}replace(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$e.DEFAULT_PROGRAM_NAME;if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(r),s=new He(this.tokens,t,e,i.length,n);i.push(s)}delete(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.DEFAULT_PROGRAM_NAME;void 0===e&&(e=t),this.replace(t,e,null,n)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(e){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e.DEFAULT_PROGRAM_NAME;n=e instanceof m?e:new m(0,this.tokens.size-1),"string"==typeof e&&(r=e);const i=this.programs.get(r);let s=n.start,o=n.stop;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),null==i||0===i.length)return this.tokens.getText(new m(s,o));let l=[],a=this.reduceToSingleOperationPerIndex(i),u=s;for(;u<=o&&u<this.tokens.size;){let e=a.get(u);a.delete(u);let n=this.tokens.get(u);null==e?(n.type!==t.EOF&&l.push(String(n.text)),u++):u=e.execute(l)}if(o===this.tokens.size-1)for(const t of a.values())t.index>=this.tokens.size-1&&l.push(t.text.toString());return l.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof He))continue;let r=n,i=this.getKindOfOps(t,Be,e);for(let e of i)e.index===r.index?(t[e.instructionIndex]=void 0,r.text=e.text.toString()+(null!=r.text?r.text.toString():"")):e.index>r.index&&e.index<=r.lastIndex&&(t[e.instructionIndex]=void 0);let s=this.getKindOfOps(t,He,e);for(let e of s){if(e.index>=r.index&&e.lastIndex<=r.lastIndex){t[e.instructionIndex]=void 0;continue}let n=e.lastIndex<r.index||e.index>r.lastIndex;if(null!=e.text||null!=r.text||n){if(!n)throw new Error(`replace op boundaries of ${r} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,r.index=Math.min(e.index,r.index),r.lastIndex=Math.max(e.lastIndex,r.lastIndex)}}for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof Be))continue;let r=n,i=this.getKindOfOps(t,Be,e);for(let e of i)e.index===r.index&&(e instanceof Ue?(r.text=this.catOpText(e.text,r.text),t[e.instructionIndex]=void 0):e instanceof Be&&(r.text=this.catOpText(r.text,e.text),t[e.instructionIndex]=void 0));let s=this.getKindOfOps(t,He,e);for(let n of s)if(r.index!==n.index){if(r.index>=n.index&&r.index<=n.lastIndex)throw new Error(`insert op ${r} within boundaries of previous ${n}`)}else n.text=this.catOpText(r.text,n.text),t[e]=void 0}let e=new Map;for(let n of t)if(null!=n){if(null!=e.get(n.index))throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}getKindOfOps(t,e,n){return t.slice(0,n).filter((t=>t&&t instanceof e))}}class Fe{constructor(t,e,n,r){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=void 0===r?"":r}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class Be extends Fe{constructor(t,e,n,r){super(t,e,n,r)}execute(e){return this.text&&e.push(this.text.toString()),this.tokens.get(this.index).type!==t.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}}class Ue extends Be{constructor(t,e,n,r){super(t,e+1,n,r)}}class He extends Fe{constructor(t,e,n,r,i){super(t,e,r,i),this.lastIndex=n}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const qe={atn:re,dfa:le,context:ae,misc:ue,tree:de,error:ye,Token:t,CommonToken:Et,CharStreams:Ae,CharStream:ke,InputStream:ke,CommonTokenStream:Le,Lexer:Nt,Parser:Qe,ParserRuleContext:Me,Interval:m,IntervalSet:R,LL1Analyzer:z,Utils:Pe,TokenStreamRewriter:$e}})();var oI=sI.ZP;const lI=(new oI.atn.ATNDeserializer).deserialize([4,0,105,728,6,-1,6,-1,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,2,99,7,99,2,100,7,100,2,101,7,101,2,102,7,102,2,103,7,103,2,104,7,104,2,105,7,105,1,0,4,0,217,8,0,11,0,12,0,218,1,0,1,0,1,1,1,1,1,1,1,1,4,1,227,8,1,11,1,12,1,228,1,1,1,1,1,2,1,2,1,2,1,2,5,2,237,8,2,10,2,12,2,240,9,2,1,2,1,2,1,2,1,2,1,2,1,3,4,3,248,8,3,11,3,12,3,249,1,3,1,3,4,3,254,8,3,11,3,12,3,255,3,3,258,8,3,1,3,1,3,3,3,262,8,3,1,3,4,3,265,8,3,11,3,12,3,266,3,3,269,8,3,1,3,1,3,1,3,1,3,3,3,275,8,3,1,3,4,3,278,8,3,11,3,12,3,279,1,3,1,3,1,3,1,3,3,3,286,8,3,1,3,4,3,289,8,3,11,3,12,3,290,3,3,293,8,3,1,4,1,4,1,4,1,4,5,4,299,8,4,10,4,12,4,302,9,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,25,1,25,1,25,1,25,1,25,1,26,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,29,1,29,1,29,1,29,1,29,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,33,1,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,37,1,37,1,37,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,39,1,39,1,39,3,39,509,8,39,1,40,1,40,1,41,1,41,5,41,515,8,41,10,41,12,41,518,9,41,1,42,1,42,5,42,522,8,42,10,42,12,42,525,9,42,1,43,1,43,1,43,1,44,1,44,1,45,1,45,1,45,1,46,1,46,1,46,1,47,1,47,1,47,1,48,1,48,1,48,1,49,1,49,1,49,1,50,1,50,1,50,1,51,1,51,1,52,1,52,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,1,57,1,57,1,58,1,58,1,59,1,59,1,59,1,60,1,60,1,60,1,61,1,61,1,61,1,62,1,62,1,62,1,63,1,63,1,64,1,64,1,65,1,65,1,65,1,66,1,66,1,66,1,67,1,67,1,67,1,68,1,68,1,68,1,69,1,69,1,70,1,70,1,70,1,71,1,71,1,71,1,72,1,72,1,73,1,73,1,74,1,74,1,74,3,74,609,8,74,1,75,1,75,1,75,1,76,1,76,1,76,1,77,1,77,1,78,1,78,1,79,1,79,1,80,1,80,1,81,1,81,1,81,1,82,1,82,1,83,1,83,1,84,1,84,1,85,1,85,1,86,1,86,1,86,1,86,1,87,1,87,1,87,1,87,1,88,1,88,1,88,1,88,1,89,1,89,1,89,1,89,1,90,1,90,1,90,1,90,1,91,1,91,1,91,3,91,659,8,91,1,91,1,91,1,92,1,92,1,92,1,92,1,92,1,93,1,93,1,93,1,94,4,94,672,8,94,11,94,12,94,673,1,95,1,95,1,95,1,95,1,96,1,96,1,96,1,96,1,97,1,97,1,97,1,97,1,98,1,98,1,98,1,98,1,99,1,99,1,99,1,99,1,100,1,100,1,100,3,100,699,8,100,1,101,1,101,1,101,1,101,1,101,1,101,1,102,1,102,1,102,1,102,1,102,1,103,4,103,713,8,103,11,103,12,103,714,1,103,1,103,1,104,1,104,1,104,1,104,1,104,1,105,1,105,1,105,1,105,1,105,1,238,0,106,3,1,5,2,7,3,9,4,11,5,13,6,15,7,17,8,19,9,21,10,23,11,25,12,27,13,29,14,31,15,33,16,35,17,37,18,39,19,41,20,43,21,45,22,47,23,49,24,51,25,53,26,55,27,57,28,59,29,61,30,63,31,65,32,67,33,69,34,71,35,73,36,75,37,77,38,79,39,81,0,83,40,85,41,87,42,89,43,91,44,93,45,95,46,97,47,99,48,101,49,103,50,105,51,107,52,109,53,111,54,113,55,115,56,117,57,119,58,121,59,123,60,125,61,127,62,129,63,131,64,133,65,135,66,137,67,139,68,141,69,143,70,145,71,147,72,149,73,151,74,153,75,155,76,157,77,159,78,161,79,163,80,165,81,167,82,169,83,171,84,173,85,175,86,177,87,179,88,181,89,183,90,185,91,187,92,189,93,191,94,193,95,195,96,197,97,199,98,201,99,203,100,205,101,207,102,209,103,211,104,213,105,3,0,1,2,13,3,0,9,10,13,13,32,32,1,0,10,10,1,0,48,57,2,0,69,69,101,101,2,0,43,43,45,45,3,0,48,57,65,70,97,102,1,0,48,55,4,0,10,10,13,13,34,34,92,92,3,0,48,57,65,90,97,122,1,0,97,122,1,0,65,90,2,0,92,93,96,96,4,0,40,40,91,93,96,96,123,123,750,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,0,101,1,0,0,0,0,103,1,0,0,0,0,105,1,0,0,0,0,107,1,0,0,0,0,109,1,0,0,0,0,111,1,0,0,0,0,113,1,0,0,0,0,115,1,0,0,0,0,117,1,0,0,0,0,119,1,0,0,0,0,121,1,0,0,0,0,123,1,0,0,0,0,125,1,0,0,0,0,127,1,0,0,0,0,129,1,0,0,0,0,131,1,0,0,0,0,133,1,0,0,0,0,135,1,0,0,0,0,137,1,0,0,0,0,139,1,0,0,0,0,141,1,0,0,0,0,143,1,0,0,0,0,145,1,0,0,0,0,147,1,0,0,0,0,149,1,0,0,0,0,151,1,0,0,0,0,153,1,0,0,0,0,155,1,0,0,0,0,157,1,0,0,0,0,159,1,0,0,0,0,161,1,0,0,0,0,163,1,0,0,0,0,165,1,0,0,0,0,167,1,0,0,0,0,169,1,0,0,0,0,171,1,0,0,0,0,173,1,0,0,0,0,175,1,0,0,0,0,177,1,0,0,0,0,179,1,0,0,0,0,181,1,0,0,0,0,183,1,0,0,0,1,185,1,0,0,0,1,187,1,0,0,0,1,189,1,0,0,0,1,191,1,0,0,0,1,193,1,0,0,0,1,195,1,0,0,0,2,197,1,0,0,0,2,199,1,0,0,0,2,201,1,0,0,0,2,203,1,0,0,0,2,205,1,0,0,0,2,207,1,0,0,0,2,209,1,0,0,0,2,211,1,0,0,0,2,213,1,0,0,0,3,216,1,0,0,0,5,222,1,0,0,0,7,232,1,0,0,0,9,292,1,0,0,0,11,294,1,0,0,0,13,305,1,0,0,0,15,310,1,0,0,0,17,320,1,0,0,0,19,328,1,0,0,0,21,335,1,0,0,0,23,338,1,0,0,0,25,342,1,0,0,0,27,349,1,0,0,0,29,354,1,0,0,0,31,361,1,0,0,0,33,365,1,0,0,0,35,369,1,0,0,0,37,375,1,0,0,0,39,381,1,0,0,0,41,385,1,0,0,0,43,389,1,0,0,0,45,400,1,0,0,0,47,409,1,0,0,0,49,413,1,0,0,0,51,417,1,0,0,0,53,420,1,0,0,0,55,425,1,0,0,0,57,430,1,0,0,0,59,434,1,0,0,0,61,441,1,0,0,0,63,446,1,0,0,0,65,449,1,0,0,0,67,454,1,0,0,0,69,463,1,0,0,0,71,468,1,0,0,0,73,475,1,0,0,0,75,484,1,0,0,0,77,489,1,0,0,0,79,495,1,0,0,0,81,508,1,0,0,0,83,510,1,0,0,0,85,512,1,0,0,0,87,519,1,0,0,0,89,526,1,0,0,0,91,529,1,0,0,0,93,531,1,0,0,0,95,534,1,0,0,0,97,537,1,0,0,0,99,540,1,0,0,0,101,543,1,0,0,0,103,546,1,0,0,0,105,549,1,0,0,0,107,551,1,0,0,0,109,553,1,0,0,0,111,555,1,0,0,0,113,557,1,0,0,0,115,559,1,0,0,0,117,561,1,0,0,0,119,563,1,0,0,0,121,565,1,0,0,0,123,568,1,0,0,0,125,571,1,0,0,0,127,574,1,0,0,0,129,577,1,0,0,0,131,579,1,0,0,0,133,581,1,0,0,0,135,584,1,0,0,0,137,587,1,0,0,0,139,590,1,0,0,0,141,593,1,0,0,0,143,595,1,0,0,0,145,598,1,0,0,0,147,601,1,0,0,0,149,603,1,0,0,0,151,608,1,0,0,0,153,610,1,0,0,0,155,613,1,0,0,0,157,616,1,0,0,0,159,618,1,0,0,0,161,620,1,0,0,0,163,622,1,0,0,0,165,624,1,0,0,0,167,627,1,0,0,0,169,629,1,0,0,0,171,631,1,0,0,0,173,633,1,0,0,0,175,635,1,0,0,0,177,639,1,0,0,0,179,643,1,0,0,0,181,647,1,0,0,0,183,651,1,0,0,0,185,655,1,0,0,0,187,662,1,0,0,0,189,667,1,0,0,0,191,671,1,0,0,0,193,675,1,0,0,0,195,679,1,0,0,0,197,683,1,0,0,0,199,687,1,0,0,0,201,691,1,0,0,0,203,695,1,0,0,0,205,700,1,0,0,0,207,706,1,0,0,0,209,712,1,0,0,0,211,718,1,0,0,0,213,723,1,0,0,0,215,217,7,0,0,0,216,215,1,0,0,0,217,218,1,0,0,0,218,216,1,0,0,0,218,219,1,0,0,0,219,220,1,0,0,0,220,221,6,0,0,0,221,4,1,0,0,0,222,223,5,45,0,0,223,224,5,45,0,0,224,226,1,0,0,0,225,227,8,1,0,0,226,225,1,0,0,0,227,228,1,0,0,0,228,226,1,0,0,0,228,229,1,0,0,0,229,230,1,0,0,0,230,231,6,1,0,0,231,6,1,0,0,0,232,233,5,123,0,0,233,234,5,45,0,0,234,238,1,0,0,0,235,237,9,0,0,0,236,235,1,0,0,0,237,240,1,0,0,0,238,239,1,0,0,0,238,236,1,0,0,0,239,241,1,0,0,0,240,238,1,0,0,0,241,242,5,45,0,0,242,243,5,125,0,0,243,244,1,0,0,0,244,245,6,2,0,0,245,8,1,0,0,0,246,248,7,2,0,0,247,246,1,0,0,0,248,249,1,0,0,0,249,247,1,0,0,0,249,250,1,0,0,0,250,257,1,0,0,0,251,253,5,46,0,0,252,254,7,2,0,0,253,252,1,0,0,0,254,255,1,0,0,0,255,253,1,0,0,0,255,256,1,0,0,0,256,258,1,0,0,0,257,251,1,0,0,0,257,258,1,0,0,0,258,268,1,0,0,0,259,261,7,3,0,0,260,262,7,4,0,0,261,260,1,0,0,0,261,262,1,0,0,0,262,264,1,0,0,0,263,265,7,2,0,0,264,263,1,0,0,0,265,266,1,0,0,0,266,264,1,0,0,0,266,267,1,0,0,0,267,269,1,0,0,0,268,259,1,0,0,0,268,269,1,0,0,0,269,293,1,0,0,0,270,271,5,48,0,0,271,275,5,120,0,0,272,273,5,48,0,0,273,275,5,88,0,0,274,270,1,0,0,0,274,272,1,0,0,0,275,277,1,0,0,0,276,278,7,5,0,0,277,276,1,0,0,0,278,279,1,0,0,0,279,277,1,0,0,0,279,280,1,0,0,0,280,293,1,0,0,0,281,282,5,48,0,0,282,286,5,111,0,0,283,284,5,48,0,0,284,286,5,79,0,0,285,281,1,0,0,0,285,283,1,0,0,0,286,288,1,0,0,0,287,289,7,6,0,0,288,287,1,0,0,0,289,290,1,0,0,0,290,288,1,0,0,0,290,291,1,0,0,0,291,293,1,0,0,0,292,247,1,0,0,0,292,274,1,0,0,0,292,285,1,0,0,0,293,10,1,0,0,0,294,300,5,34,0,0,295,299,8,7,0,0,296,297,5,92,0,0,297,299,9,0,0,0,298,295,1,0,0,0,298,296,1,0,0,0,299,302,1,0,0,0,300,298,1,0,0,0,300,301,1,0,0,0,301,303,1,0,0,0,302,300,1,0,0,0,303,304,5,34,0,0,304,12,1,0,0,0,305,306,5,116,0,0,306,307,5,121,0,0,307,308,5,112,0,0,308,309,5,101,0,0,309,14,1,0,0,0,310,311,5,105,0,0,311,312,5,110,0,0,312,313,5,116,0,0,313,314,5,101,0,0,314,315,5,114,0,0,315,316,5,102,0,0,316,317,5,97,0,0,317,318,5,99,0,0,318,319,5,101,0,0,319,16,1,0,0,0,320,321,5,101,0,0,321,322,5,120,0,0,322,323,5,116,0,0,323,324,5,101,0,0,324,325,5,110,0,0,325,326,5,100,0,0,326,327,5,115,0,0,327,18,1,0,0,0,328,329,5,102,0,0,329,330,5,111,0,0,330,331,5,114,0,0,331,332,5,97,0,0,332,333,5,108,0,0,333,334,5,108,0,0,334,20,1,0,0,0,335,336,5,109,0,0,336,337,5,117,0,0,337,22,1,0,0,0,338,339,5,73,0,0,339,340,5,110,0,0,340,341,5,116,0,0,341,24,1,0,0,0,342,343,5,68,0,0,343,344,5,111,0,0,344,345,5,117,0,0,345,346,5,98,0,0,346,347,5,108,0,0,347,348,5,101,0,0,348,26,1,0,0,0,349,350,5,66,0,0,350,351,5,111,0,0,351,352,5,111,0,0,352,353,5,108,0,0,353,28,1,0,0,0,354,355,5,83,0,0,355,356,5,116,0,0,356,357,5,114,0,0,357,358,5,105,0,0,358,359,5,110,0,0,359,360,5,103,0,0,360,30,1,0,0,0,361,362,5,84,0,0,362,363,5,111,0,0,363,364,5,112,0,0,364,32,1,0,0,0,365,366,5,66,0,0,366,367,5,111,0,0,367,368,5,116,0,0,368,34,1,0,0,0,369,370,5,84,0,0,370,371,5,114,0,0,371,372,5,97,0,0,372,373,5,105,0,0,373,374,5,116,0,0,374,36,1,0,0,0,375,376,5,116,0,0,376,377,5,114,0,0,377,378,5,97,0,0,378,379,5,105,0,0,379,380,5,116,0,0,380,38,1,0,0,0,381,382,5,82,0,0,382,383,5,101,0,0,383,384,5,102,0,0,384,40,1,0,0,0,385,386,5,114,0,0,386,387,5,101,0,0,387,388,5,102,0,0,388,42,1,0,0,0,389,390,5,105,0,0,390,391,5,109,0,0,391,392,5,112,0,0,392,393,5,108,0,0,393,394,5,101,0,0,394,395,5,109,0,0,395,396,5,101,0,0,396,397,5,110,0,0,397,398,5,116,0,0,398,399,5,115,0,0,399,44,1,0,0,0,400,401,5,105,0,0,401,402,5,110,0,0,402,403,5,104,0,0,403,404,5,101,0,0,404,405,5,114,0,0,405,406,5,105,0,0,406,407,5,116,0,0,407,408,5,115,0,0,408,46,1,0,0,0,409,410,5,110,0,0,410,411,5,101,0,0,411,412,5,119,0,0,412,48,1,0,0,0,413,414,5,102,0,0,414,415,5,105,0,0,415,416,5,120,0,0,416,50,1,0,0,0,417,418,5,105,0,0,418,419,5,102,0,0,419,52,1,0,0,0,420,421,5,116,0,0,421,422,5,104,0,0,422,423,5,101,0,0,423,424,5,110,0,0,424,54,1,0,0,0,425,426,5,101,0,0,426,427,5,108,0,0,427,428,5,115,0,0,428,429,5,101,0,0,429,56,1,0,0,0,430,431,5,108,0,0,431,432,5,101,0,0,432,433,5,116,0,0,433,58,1,0,0,0,434,435,5,108,0,0,435,436,5,101,0,0,436,437,5,116,0,0,437,438,5,114,0,0,438,439,5,101,0,0,439,440,5,99,0,0,440,60,1,0,0,0,441,442,5,111,0,0,442,443,5,112,0,0,443,444,5,101,0,0,444,445,5,110,0,0,445,62,1,0,0,0,446,447,5,105,0,0,447,448,5,110,0,0,448,64,1,0,0,0,449,450,5,119,0,0,450,451,5,105,0,0,451,452,5,116,0,0,452,453,5,104,0,0,453,66,1,0,0,0,454,455,5,116,0,0,455,456,5,111,0,0,456,457,5,83,0,0,457,458,5,116,0,0,458,459,5,114,0,0,459,460,5,105,0,0,460,461,5,110,0,0,461,462,5,103,0,0,462,68,1,0,0,0,463,464,5,102,0,0,464,465,5,111,0,0,465,466,5,108,0,0,466,467,5,100,0,0,467,70,1,0,0,0,468,469,5,117,0,0,469,470,5,110,0,0,470,471,5,102,0,0,471,472,5,111,0,0,472,473,5,108,0,0,473,474,5,100,0,0,474,72,1,0,0,0,475,476,5,111,0,0,476,477,5,118,0,0,477,478,5,101,0,0,478,479,5,114,0,0,479,480,5,114,0,0,480,481,5,105,0,0,481,482,5,100,0,0,482,483,5,101,0,0,483,74,1,0,0,0,484,485,5,116,0,0,485,486,5,114,0,0,486,487,5,117,0,0,487,488,5,101,0,0,488,76,1,0,0,0,489,490,5,102,0,0,490,491,5,97,0,0,491,492,5,108,0,0,492,493,5,115,0,0,493,494,5,101,0,0,494,78,1,0,0,0,495,496,5,117,0,0,496,497,5,110,0,0,497,498,5,100,0,0,498,499,5,101,0,0,499,500,5,102,0,0,500,501,5,105,0,0,501,502,5,110,0,0,502,503,5,101,0,0,503,504,5,100,0,0,504,80,1,0,0,0,505,509,7,8,0,0,506,509,3,83,40,0,507,509,5,39,0,0,508,505,1,0,0,0,508,506,1,0,0,0,508,507,1,0,0,0,509,82,1,0,0,0,510,511,5,95,0,0,511,84,1,0,0,0,512,516,7,9,0,0,513,515,3,81,39,0,514,513,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,516,517,1,0,0,0,517,86,1,0,0,0,518,516,1,0,0,0,519,523,7,10,0,0,520,522,3,81,39,0,521,520,1,0,0,0,522,525,1,0,0,0,523,521,1,0,0,0,523,524,1,0,0,0,524,88,1,0,0,0,525,523,1,0,0,0,526,527,5,40,0,0,527,528,5,41,0,0,528,90,1,0,0,0,529,530,5,92,0,0,530,92,1,0,0,0,531,532,5,47,0,0,532,533,5,92,0,0,533,94,1,0,0,0,534,535,5,92,0,0,535,536,5,45,0,0,536,96,1,0,0,0,537,538,5,92,0,0,538,539,5,92,0,0,539,98,1,0,0,0,540,541,5,45,0,0,541,542,5,62,0,0,542,100,1,0,0,0,543,544,5,61,0,0,544,545,5,62,0,0,545,102,1,0,0,0,546,547,5,60,0,0,547,548,5,45,0,0,548,104,1,0,0,0,549,550,5,38,0,0,550,106,1,0,0,0,551,552,5,43,0,0,552,108,1,0,0,0,553,554,5,45,0,0,554,110,1,0,0,0,555,556,5,42,0,0,556,112,1,0,0,0,557,558,5,47,0,0,558,114,1,0,0,0,559,560,5,37,0,0,560,116,1,0,0,0,561,562,5,8730,0,0,562,118,1,0,0,0,563,564,5,33,0,0,564,120,1,0,0,0,565,566,5,58,0,0,566,567,5,61,0,0,567,122,1,0,0,0,568,569,5,62,0,0,569,570,5,62,0,0,570,124,1,0,0,0,571,572,5,38,0,0,572,573,5,38,0,0,573,126,1,0,0,0,574,575,5,124,0,0,575,576,5,124,0,0,576,128,1,0,0,0,577,578,5,60,0,0,578,130,1,0,0,0,579,580,5,62,0,0,580,132,1,0,0,0,581,582,5,60,0,0,582,583,5,61,0,0,583,134,1,0,0,0,584,585,5,62,0,0,585,586,5,61,0,0,586,136,1,0,0,0,587,588,5,61,0,0,588,589,5,61,0,0,589,138,1,0,0,0,590,591,5,33,0,0,591,592,5,61,0,0,592,140,1,0,0,0,593,594,5,35,0,0,594,142,1,0,0,0,595,596,5,33,0,0,596,597,5,33,0,0,597,144,1,0,0,0,598,599,5,43,0,0,599,600,5,43,0,0,600,146,1,0,0,0,601,602,5,94,0,0,602,148,1,0,0,0,603,604,5,64,0,0,604,150,1,0,0,0,605,609,5,44,0,0,606,607,5,44,0,0,607,609,5,44,0,0,608,605,1,0,0,0,608,606,1,0,0,0,609,152,1,0,0,0,610,611,5,43,0,0,611,612,5,44,0,0,612,154,1,0,0,0,613,614,5,44,0,0,614,615,5,43,0,0,615,156,1,0,0,0,616,617,5,61,0,0,617,158,1,0,0,0,618,619,5,59,0,0,619,160,1,0,0,0,620,621,5,58,0,0,621,162,1,0,0,0,622,623,5,46,0,0,623,164,1,0,0,0,624,625,5,46,0,0,625,626,5,46,0,0,626,166,1,0,0,0,627,628,5,36,0,0,628,168,1,0,0,0,629,630,5,63,0,0,630,170,1,0,0,0,631,632,5,91,0,0,632,172,1,0,0,0,633,634,5,93,0,0,634,174,1,0,0,0,635,636,5,123,0,0,636,637,1,0,0,0,637,638,6,86,1,0,638,176,1,0,0,0,639,640,5,125,0,0,640,641,1,0,0,0,641,642,6,87,2,0,642,178,1,0,0,0,643,644,5,40,0,0,644,645,1,0,0,0,645,646,6,88,1,0,646,180,1,0,0,0,647,648,5,41,0,0,648,649,1,0,0,0,649,650,6,89,2,0,650,182,1,0,0,0,651,652,5,96,0,0,652,653,1,0,0,0,653,654,6,90,3,0,654,184,1,0,0,0,655,658,5,92,0,0,656,659,3,85,41,0,657,659,3,87,42,0,658,656,1,0,0,0,658,657,1,0,0,0,659,660,1,0,0,0,660,661,6,91,4,0,661,186,1,0,0,0,662,663,5,92,0,0,663,664,5,40,0,0,664,665,1,0,0,0,665,666,6,92,1,0,666,188,1,0,0,0,667,668,5,92,0,0,668,669,5,92,0,0,669,190,1,0,0,0,670,672,8,11,0,0,671,670,1,0,0,0,672,673,1,0,0,0,673,671,1,0,0,0,673,674,1,0,0,0,674,192,1,0,0,0,675,676,5,93,0,0,676,677,1,0,0,0,677,678,6,95,2,0,678,194,1,0,0,0,679,680,5,96,0,0,680,681,1,0,0,0,681,682,6,96,2,0,682,196,1,0,0,0,683,684,5,91,0,0,684,685,1,0,0,0,685,686,6,97,3,0,686,198,1,0,0,0,687,688,5,40,0,0,688,689,1,0,0,0,689,690,6,98,1,0,690,200,1,0,0,0,691,692,5,123,0,0,692,693,1,0,0,0,693,694,6,99,1,0,694,202,1,0,0,0,695,698,5,92,0,0,696,699,3,85,41,0,697,699,3,87,42,0,698,696,1,0,0,0,698,697,1,0,0,0,699,204,1,0,0,0,700,701,5,92,0,0,701,702,5,40,0,0,702,703,1,0,0,0,703,704,6,101,2,0,704,705,6,101,1,0,705,206,1,0,0,0,706,707,5,92,0,0,707,708,5,92,0,0,708,709,1,0,0,0,709,710,6,102,2,0,710,208,1,0,0,0,711,713,8,12,0,0,712,711,1,0,0,0,713,714,1,0,0,0,714,712,1,0,0,0,714,715,1,0,0,0,715,716,1,0,0,0,716,717,6,103,2,0,717,210,1,0,0,0,718,719,5,93,0,0,719,720,1,0,0,0,720,721,6,104,2,0,721,722,6,104,2,0,722,212,1,0,0,0,723,724,5,96,0,0,724,725,1,0,0,0,725,726,6,105,2,0,726,727,6,105,2,0,727,214,1,0,0,0,27,0,1,2,218,228,238,249,255,257,261,266,268,274,279,285,290,292,298,300,508,516,523,608,658,673,698,714,5,6,0,0,5,0,0,4,0,0,5,1,0,5,2,0]),aI=lI.decisionToState.map(((t,e)=>new oI.dfa.DFA(t,e)));class uI extends oI.Lexer{static grammarFileName="CPLexer.g4";static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static modeNames=["DEFAULT_MODE","DOC_MODE","CMD_MODE"];static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'Ref'","'ref'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","':='","'>>'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","IdChar","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];constructor(t){super(t),this._interp=new oI.atn.LexerATNSimulator(this,lI,aI,new oI.atn.PredictionContextCache)}}uI.EOF=oI.Token.EOF,uI.Whitespaces=1,uI.LineComment=2,uI.BlockComment=3,uI.IntLit=4,uI.StringLit=5,uI.Type=6,uI.Interface=7,uI.Extends=8,uI.ForAll=9,uI.Mu=10,uI.Int=11,uI.Double=12,uI.Bool=13,uI.String=14,uI.Top=15,uI.Bot=16,uI.TraitType=17,uI.Trait=18,uI.RefType=19,uI.Ref=20,uI.Implements=21,uI.Inherits=22,uI.New=23,uI.Fix=24,uI.If=25,uI.Then=26,uI.Else=27,uI.Let=28,uI.LetRec=29,uI.Open=30,uI.In=31,uI.With=32,uI.ToString=33,uI.Fold=34,uI.Unfold=35,uI.Override=36,uI.True_=37,uI.False_=38,uI.Undefined_=39,uI.Underscore=40,uI.LowerId=41,uI.UpperId=42,uI.Unit=43,uI.Backslash=44,uI.SlashBackslash=45,uI.BackslashMinus=46,uI.DoubleBackslashes=47,uI.Arrow=48,uI.FatArrow=49,uI.LeftArrow=50,uI.Intersect=51,uI.Plus=52,uI.Minus=53,uI.Asterisk=54,uI.Slash=55,uI.Modulo=56,uI.Sqrt=57,uI.Deref=58,uI.Walrus=59,uI.Seq=60,uI.And=61,uI.Or=62,uI.Less=63,uI.Greater=64,uI.LessEqual=65,uI.GreaterEqual=66,uI.Equal=67,uI.NotEqual=68,uI.Length=69,uI.Index=70,uI.Append=71,uI.Forward=72,uI.At=73,uI.Merge=74,uI.LeftistMerge=75,uI.RightistMerge=76,uI.Assign=77,uI.Semicolon=78,uI.Colon=79,uI.Dot=80,uI.DotDot=81,uI.Dollar=82,uI.Question=83,uI.BracketOpen=84,uI.BracketClose=85,uI.BraceOpen=86,uI.BraceClose=87,uI.ParenOpen=88,uI.ParenClose=89,uI.BacktickOpen=90,uI.Command=91,uI.Interpolation=92,uI.NewLine=93,uI.PlainText=94,uI.BracketCloseInDoc=95,uI.BacktickClose=96,uI.BracketOpenAsArg=97,uI.ParenOpenAsArg=98,uI.BraceOpenAsArg=99,uI.CommandAfterCmd=100,uI.InterpolationAfterCmd=101,uI.NewLineAfterCmd=102,uI.PlainTextAfterCmd=103,uI.BracketCloseAfterCmd=104,uI.BacktickCloseAfterCmd=105,uI.DOC_MODE=1,uI.CMD_MODE=2;class cI extends oI.tree.ParseTreeVisitor{visitProgram(t){return this.visitChildren(t)}visitDefinition(t){return this.visitChildren(t)}visitInterfaceDef(t){return this.visitChildren(t)}visitTypeDef(t){return this.visitChildren(t)}visitTermDef(t){return this.visitChildren(t)}visitType(t){return this.visitChildren(t)}visitBtype(t){return this.visitChildren(t)}visitAtype(t){return this.visitChildren(t)}visitRecordType(t){return this.visitChildren(t)}visitRecordTypeField(t){return this.visitChildren(t)}visitExpression(t){return this.visitChildren(t)}visitOpexpr(t){return this.visitChildren(t)}visitLexpr(t){return this.visitChildren(t)}visitLambda(t){return this.visitChildren(t)}visitBigLambda(t){return this.visitChildren(t)}visitLetIn(t){return this.visitChildren(t)}visitLetRec(t){return this.visitChildren(t)}visitOpenIn(t){return this.visitChildren(t)}visitIfElse(t){return this.visitChildren(t)}visitTrait(t){return this.visitChildren(t)}visitNewTrait(t){return this.visitChildren(t)}visitFixpoint(t){return this.visitChildren(t)}visitToStr(t){return this.visitChildren(t)}visitFold(t){return this.visitChildren(t)}visitUnfold(t){return this.visitChildren(t)}visitRef(t){return this.visitChildren(t)}visitFexpr(t){return this.visitChildren(t)}visitExcludexpr(t){return this.visitChildren(t)}visitRenamexpr(t){return this.visitChildren(t)}visitDotexpr(t){return this.visitChildren(t)}visitAexpr(t){return this.visitChildren(t)}visitArray(t){return this.visitChildren(t)}visitRecord(t){return this.visitChildren(t)}visitRecordField(t){return this.visitChildren(t)}visitMethodPattern(t){return this.visitChildren(t)}visitDefaultPattern(t){return this.visitChildren(t)}visitRecordUpdate(t){return this.visitChildren(t)}visitTypeArg(t){return this.visitChildren(t)}visitTypeParam(t){return this.visitChildren(t)}visitTermParam(t){return this.visitChildren(t)}visitWildcard(t){return this.visitChildren(t)}visitSelfAnno(t){return this.visitChildren(t)}visitSort(t){return this.visitChildren(t)}visitTypeNameDecl(t){return this.visitChildren(t)}visitTypeName(t){return this.visitChildren(t)}visitTermNameDecl(t){return this.visitChildren(t)}visitCtorName(t){return this.visitChildren(t)}visitTermName(t){return this.visitChildren(t)}visitLabelDecl(t){return this.visitChildren(t)}visitLabel(t){return this.visitChildren(t)}visitDocument(t){return this.visitChildren(t)}visitDocElement(t){return this.visitChildren(t)}visitCommand(t){return this.visitChildren(t)}visitInterpolation(t){return this.visitChildren(t)}visitNewline(t){return this.visitChildren(t)}visitPlaintext(t){return this.visitChildren(t)}visitDocArg(t){return this.visitChildren(t)}visitRecordArgField(t){return this.visitChildren(t)}}const hI=(new oI.atn.ATNDeserializer).deserialize([4,1,105,791,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,1,0,5,0,118,8,0,10,0,12,0,121,9,0,1,0,1,0,1,0,1,1,1,1,1,1,3,1,129,8,1,1,2,1,2,1,2,1,2,1,2,1,2,5,2,137,8,2,10,2,12,2,140,9,2,1,2,5,2,143,8,2,10,2,12,2,146,9,2,1,2,1,2,3,2,150,8,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,5,3,161,8,3,10,3,12,3,164,9,3,1,3,5,3,167,8,3,10,3,12,3,170,9,3,1,3,1,3,1,3,1,3,1,4,1,4,5,4,178,8,4,10,4,12,4,181,9,4,1,4,5,4,184,8,4,10,4,12,4,187,9,4,1,4,1,4,3,4,191,8,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,4,5,200,8,5,11,5,12,5,201,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,3,5,217,8,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,225,8,5,10,5,12,5,228,9,5,3,5,230,8,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,241,8,5,10,5,12,5,244,9,5,1,6,1,6,1,6,1,6,1,6,5,6,251,8,6,10,6,12,6,254,9,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,3,7,273,8,7,1,8,1,8,1,8,1,8,5,8,279,8,8,10,8,12,8,282,9,8,1,8,3,8,285,8,8,1,8,1,8,1,9,1,9,3,9,291,8,9,1,9,1,9,1,9,1,10,1,10,1,10,3,10,299,8,10,1,11,1,11,1,11,1,11,3,11,305,8,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,5,11,340,8,11,10,11,12,11,343,9,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,3,12,359,8,12,1,13,1,13,4,13,363,8,13,11,13,12,13,364,1,13,1,13,1,13,1,14,1,14,4,14,372,8,14,11,14,12,14,373,1,14,1,14,1,14,1,15,1,15,1,15,5,15,382,8,15,10,15,12,15,385,9,15,1,15,5,15,388,8,15,10,15,12,15,391,9,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,5,16,401,8,16,10,16,12,16,404,9,16,1,16,5,16,407,8,16,10,16,12,16,410,9,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,3,19,433,8,19,1,19,1,19,3,19,437,8,19,1,19,1,19,3,19,441,8,19,1,19,1,19,1,19,1,19,3,19,447,8,19,1,19,1,19,3,19,451,8,19,1,19,1,19,3,19,455,8,19,1,19,1,19,3,19,459,8,19,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,25,1,25,1,25,1,26,1,26,3,26,487,8,26,1,26,1,26,5,26,491,8,26,10,26,12,26,494,9,26,1,27,1,27,1,27,1,27,1,27,3,27,501,8,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,3,28,510,8,28,1,29,1,29,1,29,5,29,515,8,29,10,29,12,29,518,9,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,3,30,537,8,30,1,31,1,31,1,31,1,31,5,31,543,8,31,10,31,12,31,546,9,31,1,31,3,31,549,8,31,1,31,1,31,1,32,1,32,1,32,1,32,3,32,557,8,32,1,32,1,32,5,32,561,8,32,10,32,12,32,564,9,32,1,32,1,32,1,32,3,32,569,8,32,3,32,571,8,32,1,32,1,32,1,33,3,33,576,8,33,1,33,3,33,579,8,33,1,33,1,33,5,33,583,8,33,10,33,12,33,586,9,33,1,33,1,33,1,33,1,34,3,34,592,8,34,1,34,1,34,1,34,3,34,597,8,34,1,34,1,34,1,34,5,34,602,8,34,10,34,12,34,605,9,34,1,34,1,34,1,34,1,34,5,34,611,8,34,10,34,12,34,614,9,34,1,34,1,34,1,34,1,35,1,35,3,35,621,8,35,1,35,1,35,1,35,5,35,626,8,35,10,35,12,35,629,9,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,5,36,643,8,36,10,36,12,36,646,9,36,1,36,1,36,1,36,1,36,3,36,652,8,36,1,36,1,36,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,3,38,666,8,38,1,39,1,39,1,39,1,39,1,39,3,39,673,8,39,1,39,1,39,1,39,1,39,1,39,3,39,680,8,39,1,40,1,40,1,40,1,40,1,40,1,40,1,40,5,40,689,8,40,10,40,12,40,692,9,40,1,40,1,40,1,40,1,41,1,41,1,41,1,41,3,41,701,8,41,1,41,1,41,1,42,1,42,1,42,3,42,708,8,42,1,43,1,43,1,44,1,44,1,45,1,45,1,46,1,46,1,47,1,47,1,48,1,48,1,49,1,49,1,50,1,50,5,50,726,8,50,10,50,12,50,729,9,50,1,50,1,50,1,51,1,51,1,51,1,51,3,51,737,8,51,1,52,1,52,5,52,741,8,52,10,52,12,52,744,9,52,1,53,1,53,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,5,56,756,8,56,10,56,12,56,759,9,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,5,56,770,8,56,10,56,12,56,773,9,56,1,56,3,56,776,8,56,1,56,3,56,779,8,56,1,57,1,57,5,57,783,8,57,10,57,12,57,786,9,57,1,57,1,57,1,57,1,57,0,2,10,22,58,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,0,12,3,0,53,53,57,58,69,69,1,0,54,56,1,0,52,53,1,0,63,68,2,0,46,46,74,76,1,0,41,42,2,0,96,96,105,105,2,0,91,91,100,100,2,0,92,92,101,101,2,0,93,93,102,102,2,0,94,94,103,103,2,0,95,95,104,104,863,0,119,1,0,0,0,2,128,1,0,0,0,4,130,1,0,0,0,6,154,1,0,0,0,8,175,1,0,0,0,10,229,1,0,0,0,12,245,1,0,0,0,14,272,1,0,0,0,16,274,1,0,0,0,18,288,1,0,0,0,20,295,1,0,0,0,22,304,1,0,0,0,24,358,1,0,0,0,26,360,1,0,0,0,28,369,1,0,0,0,30,378,1,0,0,0,32,397,1,0,0,0,34,418,1,0,0,0,36,423,1,0,0,0,38,458,1,0,0,0,40,460,1,0,0,0,42,463,1,0,0,0,44,470,1,0,0,0,46,473,1,0,0,0,48,477,1,0,0,0,50,481,1,0,0,0,52,486,1,0,0,0,54,495,1,0,0,0,56,502,1,0,0,0,58,511,1,0,0,0,60,536,1,0,0,0,62,538,1,0,0,0,64,552,1,0,0,0,66,575,1,0,0,0,68,591,1,0,0,0,70,620,1,0,0,0,72,633,1,0,0,0,74,655,1,0,0,0,76,665,1,0,0,0,78,679,1,0,0,0,80,681,1,0,0,0,82,696,1,0,0,0,84,704,1,0,0,0,86,709,1,0,0,0,88,711,1,0,0,0,90,713,1,0,0,0,92,715,1,0,0,0,94,717,1,0,0,0,96,719,1,0,0,0,98,721,1,0,0,0,100,723,1,0,0,0,102,736,1,0,0,0,104,738,1,0,0,0,106,745,1,0,0,0,108,749,1,0,0,0,110,751,1,0,0,0,112,778,1,0,0,0,114,780,1,0,0,0,116,118,3,2,1,0,117,116,1,0,0,0,118,121,1,0,0,0,119,117,1,0,0,0,119,120,1,0,0,0,120,122,1,0,0,0,121,119,1,0,0,0,122,123,3,20,10,0,123,124,5,0,0,1,124,1,1,0,0,0,125,129,3,4,2,0,126,129,3,6,3,0,127,129,3,8,4,0,128,125,1,0,0,0,128,126,1,0,0,0,128,127,1,0,0,0,129,3,1,0,0,0,130,131,5,7,0,0,131,138,3,86,43,0,132,133,5,63,0,0,133,134,3,86,43,0,134,135,5,64,0,0,135,137,1,0,0,0,136,132,1,0,0,0,137,140,1,0,0,0,138,136,1,0,0,0,138,139,1,0,0,0,139,144,1,0,0,0,140,138,1,0,0,0,141,143,3,86,43,0,142,141,1,0,0,0,143,146,1,0,0,0,144,142,1,0,0,0,144,145,1,0,0,0,145,149,1,0,0,0,146,144,1,0,0,0,147,148,5,8,0,0,148,150,3,12,6,0,149,147,1,0,0,0,149,150,1,0,0,0,150,151,1,0,0,0,151,152,3,16,8,0,152,153,5,78,0,0,153,5,1,0,0,0,154,155,5,6,0,0,155,162,3,86,43,0,156,157,5,63,0,0,157,158,3,86,43,0,158,159,5,64,0,0,159,161,1,0,0,0,160,156,1,0,0,0,161,164,1,0,0,0,162,160,1,0,0,0,162,163,1,0,0,0,163,168,1,0,0,0,164,162,1,0,0,0,165,167,3,86,43,0,166,165,1,0,0,0,167,170,1,0,0,0,168,166,1,0,0,0,168,169,1,0,0,0,169,171,1,0,0,0,170,168,1,0,0,0,171,172,5,77,0,0,172,173,3,10,5,0,173,174,5,78,0,0,174,7,1,0,0,0,175,179,3,90,45,0,176,178,3,76,38,0,177,176,1,0,0,0,178,181,1,0,0,0,179,177,1,0,0,0,179,180,1,0,0,0,180,185,1,0,0,0,181,179,1,0,0,0,182,184,3,78,39,0,183,182,1,0,0,0,184,187,1,0,0,0,185,183,1,0,0,0,185,186,1,0,0,0,186,190,1,0,0,0,187,185,1,0,0,0,188,189,5,79,0,0,189,191,3,10,5,0,190,188,1,0,0,0,190,191,1,0,0,0,191,192,1,0,0,0,192,193,5,77,0,0,193,194,3,20,10,0,194,195,5,78,0,0,195,9,1,0,0,0,196,197,6,5,-1,0,197,199,5,9,0,0,198,200,3,76,38,0,199,198,1,0,0,0,200,201,1,0,0,0,201,199,1,0,0,0,201,202,1,0,0,0,202,203,1,0,0,0,203,204,5,80,0,0,204,205,3,10,5,5,205,230,1,0,0,0,206,207,5,10,0,0,207,208,3,86,43,0,208,209,5,80,0,0,209,210,3,10,5,4,210,230,1,0,0,0,211,212,5,17,0,0,212,213,5,63,0,0,213,216,3,10,5,0,214,215,5,49,0,0,215,217,3,10,5,0,216,214,1,0,0,0,216,217,1,0,0,0,217,218,1,0,0,0,218,219,5,64,0,0,219,230,1,0,0,0,220,221,5,19,0,0,221,230,3,12,6,0,222,226,3,12,6,0,223,225,3,12,6,0,224,223,1,0,0,0,225,228,1,0,0,0,226,224,1,0,0,0,226,227,1,0,0,0,227,230,1,0,0,0,228,226,1,0,0,0,229,196,1,0,0,0,229,206,1,0,0,0,229,211,1,0,0,0,229,220,1,0,0,0,229,222,1,0,0,0,230,242,1,0,0,0,231,232,10,8,0,0,232,233,5,51,0,0,233,241,3,10,5,9,234,235,10,7,0,0,235,236,5,44,0,0,236,241,3,10,5,8,237,238,10,6,0,0,238,239,5,48,0,0,239,241,3,10,5,6,240,231,1,0,0,0,240,234,1,0,0,0,240,237,1,0,0,0,241,244,1,0,0,0,242,240,1,0,0,0,242,243,1,0,0,0,243,11,1,0,0,0,244,242,1,0,0,0,245,252,3,14,7,0,246,247,5,63,0,0,247,248,3,84,42,0,248,249,5,64,0,0,249,251,1,0,0,0,250,246,1,0,0,0,251,254,1,0,0,0,252,250,1,0,0,0,252,253,1,0,0,0,253,13,1,0,0,0,254,252,1,0,0,0,255,273,5,11,0,0,256,273,5,12,0,0,257,273,5,13,0,0,258,273,5,14,0,0,259,273,5,43,0,0,260,273,5,15,0,0,261,273,5,16,0,0,262,273,3,88,44,0,263,273,3,16,8,0,264,265,5,84,0,0,265,266,3,10,5,0,266,267,5,85,0,0,267,273,1,0,0,0,268,269,5,88,0,0,269,270,3,10,5,0,270,271,5,89,0,0,271,273,1,0,0,0,272,255,1,0,0,0,272,256,1,0,0,0,272,257,1,0,0,0,272,258,1,0,0,0,272,259,1,0,0,0,272,260,1,0,0,0,272,261,1,0,0,0,272,262,1,0,0,0,272,263,1,0,0,0,272,264,1,0,0,0,272,268,1,0,0,0,273,15,1,0,0,0,274,280,5,86,0,0,275,276,3,18,9,0,276,277,5,78,0,0,277,279,1,0,0,0,278,275,1,0,0,0,279,282,1,0,0,0,280,278,1,0,0,0,280,281,1,0,0,0,281,284,1,0,0,0,282,280,1,0,0,0,283,285,3,18,9,0,284,283,1,0,0,0,284,285,1,0,0,0,285,286,1,0,0,0,286,287,5,87,0,0,287,17,1,0,0,0,288,290,3,96,48,0,289,291,5,83,0,0,290,289,1,0,0,0,290,291,1,0,0,0,291,292,1,0,0,0,292,293,5,79,0,0,293,294,3,10,5,0,294,19,1,0,0,0,295,298,3,22,11,0,296,297,5,79,0,0,297,299,3,10,5,0,298,296,1,0,0,0,298,299,1,0,0,0,299,21,1,0,0,0,300,301,6,11,-1,0,301,305,3,24,12,0,302,303,7,0,0,0,303,305,3,22,11,12,304,300,1,0,0,0,304,302,1,0,0,0,305,341,1,0,0,0,306,307,10,11,0,0,307,308,5,70,0,0,308,340,3,22,11,12,309,310,10,10,0,0,310,311,7,1,0,0,311,340,3,22,11,11,312,313,10,9,0,0,313,314,7,2,0,0,314,340,3,22,11,10,315,316,10,8,0,0,316,317,5,71,0,0,317,340,3,22,11,9,318,319,10,7,0,0,319,320,7,3,0,0,320,340,3,22,11,8,321,322,10,6,0,0,322,323,5,61,0,0,323,340,3,22,11,6,324,325,10,5,0,0,325,326,5,62,0,0,326,340,3,22,11,5,327,328,10,4,0,0,328,329,5,72,0,0,329,340,3,22,11,5,330,331,10,3,0,0,331,332,7,4,0,0,332,340,3,22,11,4,333,334,10,2,0,0,334,335,5,59,0,0,335,340,3,22,11,3,336,337,10,1,0,0,337,338,5,60,0,0,338,340,3,22,11,2,339,306,1,0,0,0,339,309,1,0,0,0,339,312,1,0,0,0,339,315,1,0,0,0,339,318,1,0,0,0,339,321,1,0,0,0,339,324,1,0,0,0,339,327,1,0,0,0,339,330,1,0,0,0,339,333,1,0,0,0,339,336,1,0,0,0,340,343,1,0,0,0,341,339,1,0,0,0,341,342,1,0,0,0,342,23,1,0,0,0,343,341,1,0,0,0,344,359,3,52,26,0,345,359,3,26,13,0,346,359,3,28,14,0,347,359,3,30,15,0,348,359,3,32,16,0,349,359,3,34,17,0,350,359,3,36,18,0,351,359,3,38,19,0,352,359,3,40,20,0,353,359,3,42,21,0,354,359,3,44,22,0,355,359,3,46,23,0,356,359,3,48,24,0,357,359,3,50,25,0,358,344,1,0,0,0,358,345,1,0,0,0,358,346,1,0,0,0,358,347,1,0,0,0,358,348,1,0,0,0,358,349,1,0,0,0,358,350,1,0,0,0,358,351,1,0,0,0,358,352,1,0,0,0,358,353,1,0,0,0,358,354,1,0,0,0,358,355,1,0,0,0,358,356,1,0,0,0,358,357,1,0,0,0,359,25,1,0,0,0,360,362,5,44,0,0,361,363,3,78,39,0,362,361,1,0,0,0,363,364,1,0,0,0,364,362,1,0,0,0,364,365,1,0,0,0,365,366,1,0,0,0,366,367,5,48,0,0,367,368,3,20,10,0,368,27,1,0,0,0,369,371,5,45,0,0,370,372,3,76,38,0,371,370,1,0,0,0,372,373,1,0,0,0,373,371,1,0,0,0,373,374,1,0,0,0,374,375,1,0,0,0,375,376,5,80,0,0,376,377,3,20,10,0,377,29,1,0,0,0,378,379,5,28,0,0,379,383,3,90,45,0,380,382,3,76,38,0,381,380,1,0,0,0,382,385,1,0,0,0,383,381,1,0,0,0,383,384,1,0,0,0,384,389,1,0,0,0,385,383,1,0,0,0,386,388,3,78,39,0,387,386,1,0,0,0,388,391,1,0,0,0,389,387,1,0,0,0,389,390,1,0,0,0,390,392,1,0,0,0,391,389,1,0,0,0,392,393,5,77,0,0,393,394,3,20,10,0,394,395,5,31,0,0,395,396,3,20,10,0,396,31,1,0,0,0,397,398,5,29,0,0,398,402,3,90,45,0,399,401,3,76,38,0,400,399,1,0,0,0,401,404,1,0,0,0,402,400,1,0,0,0,402,403,1,0,0,0,403,408,1,0,0,0,404,402,1,0,0,0,405,407,3,78,39,0,406,405,1,0,0,0,407,410,1,0,0,0,408,406,1,0,0,0,408,409,1,0,0,0,409,411,1,0,0,0,410,408,1,0,0,0,411,412,5,79,0,0,412,413,3,10,5,0,413,414,5,77,0,0,414,415,3,20,10,0,415,416,5,31,0,0,416,417,3,20,10,0,417,33,1,0,0,0,418,419,5,30,0,0,419,420,3,20,10,0,420,421,5,31,0,0,421,422,3,20,10,0,422,35,1,0,0,0,423,424,5,25,0,0,424,425,3,20,10,0,425,426,5,26,0,0,426,427,3,20,10,0,427,428,5,27,0,0,428,429,3,20,10,0,429,37,1,0,0,0,430,432,5,18,0,0,431,433,3,82,41,0,432,431,1,0,0,0,432,433,1,0,0,0,433,436,1,0,0,0,434,435,5,21,0,0,435,437,3,10,5,0,436,434,1,0,0,0,436,437,1,0,0,0,437,440,1,0,0,0,438,439,5,22,0,0,439,441,3,22,11,0,440,438,1,0,0,0,440,441,1,0,0,0,441,442,1,0,0,0,442,443,5,49,0,0,443,459,3,22,11,0,444,446,5,18,0,0,445,447,3,82,41,0,446,445,1,0,0,0,446,447,1,0,0,0,447,450,1,0,0,0,448,449,5,22,0,0,449,451,3,22,11,0,450,448,1,0,0,0,450,451,1,0,0,0,451,454,1,0,0,0,452,453,5,21,0,0,453,455,3,10,5,0,454,452,1,0,0,0,454,455,1,0,0,0,455,456,1,0,0,0,456,457,5,49,0,0,457,459,3,22,11,0,458,430,1,0,0,0,458,444,1,0,0,0,459,39,1,0,0,0,460,461,5,23,0,0,461,462,3,22,11,0,462,41,1,0,0,0,463,464,5,24,0,0,464,465,3,90,45,0,465,466,5,79,0,0,466,467,3,10,5,0,467,468,5,80,0,0,468,469,3,22,11,0,469,43,1,0,0,0,470,471,5,33,0,0,471,472,3,58,29,0,472,45,1,0,0,0,473,474,5,34,0,0,474,475,3,74,37,0,475,476,3,58,29,0,476,47,1,0,0,0,477,478,5,35,0,0,478,479,3,74,37,0,479,480,3,58,29,0,480,49,1,0,0,0,481,482,5,20,0,0,482,483,3,58,29,0,483,51,1,0,0,0,484,487,3,92,46,0,485,487,3,54,27,0,486,484,1,0,0,0,486,485,1,0,0,0,487,492,1,0,0,0,488,491,3,54,27,0,489,491,3,74,37,0,490,488,1,0,0,0,490,489,1,0,0,0,491,494,1,0,0,0,492,490,1,0,0,0,492,493,1,0,0,0,493,53,1,0,0,0,494,492,1,0,0,0,495,500,3,56,28,0,496,497,5,47,0,0,497,501,3,12,6,0,498,499,5,44,0,0,499,501,3,98,49,0,500,496,1,0,0,0,500,498,1,0,0,0,500,501,1,0,0,0,501,55,1,0,0,0,502,509,3,58,29,0,503,504,5,84,0,0,504,505,3,98,49,0,505,506,5,50,0,0,506,507,3,96,48,0,507,508,5,85,0,0,508,510,1,0,0,0,509,503,1,0,0,0,509,510,1,0,0,0,510,57,1,0,0,0,511,516,3,60,30,0,512,513,5,80,0,0,513,515,3,98,49,0,514,512,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,516,517,1,0,0,0,517,59,1,0,0,0,518,516,1,0,0,0,519,537,3,94,47,0,520,537,5,4,0,0,521,537,5,5,0,0,522,537,3,100,50,0,523,537,5,43,0,0,524,537,5,37,0,0,525,537,5,38,0,0,526,537,5,39,0,0,527,537,3,62,31,0,528,537,3,64,32,0,529,537,3,72,36,0,530,531,5,82,0,0,531,537,3,92,46,0,532,533,5,88,0,0,533,534,3,20,10,0,534,535,5,89,0,0,535,537,1,0,0,0,536,519,1,0,0,0,536,520,1,0,0,0,536,521,1,0,0,0,536,522,1,0,0,0,536,523,1,0,0,0,536,524,1,0,0,0,536,525,1,0,0,0,536,526,1,0,0,0,536,527,1,0,0,0,536,528,1,0,0,0,536,529,1,0,0,0,536,530,1,0,0,0,536,532,1,0,0,0,537,61,1,0,0,0,538,544,5,84,0,0,539,540,3,20,10,0,540,541,5,78,0,0,541,543,1,0,0,0,542,539,1,0,0,0,543,546,1,0,0,0,544,542,1,0,0,0,544,545,1,0,0,0,545,548,1,0,0,0,546,544,1,0,0,0,547,549,3,20,10,0,548,547,1,0,0,0,548,549,1,0,0,0,549,550,1,0,0,0,550,551,5,85,0,0,551,63,1,0,0,0,552,562,5,86,0,0,553,557,3,66,33,0,554,557,3,68,34,0,555,557,3,70,35,0,556,553,1,0,0,0,556,554,1,0,0,0,556,555,1,0,0,0,557,558,1,0,0,0,558,559,5,78,0,0,559,561,1,0,0,0,560,556,1,0,0,0,561,564,1,0,0,0,562,560,1,0,0,0,562,563,1,0,0,0,563,570,1,0,0,0,564,562,1,0,0,0,565,569,3,66,33,0,566,569,3,68,34,0,567,569,3,70,35,0,568,565,1,0,0,0,568,566,1,0,0,0,568,567,1,0,0,0,569,571,1,0,0,0,570,568,1,0,0,0,570,571,1,0,0,0,571,572,1,0,0,0,572,573,5,87,0,0,573,65,1,0,0,0,574,576,5,36,0,0,575,574,1,0,0,0,575,576,1,0,0,0,576,578,1,0,0,0,577,579,3,82,41,0,578,577,1,0,0,0,578,579,1,0,0,0,579,580,1,0,0,0,580,584,3,96,48,0,581,583,3,78,39,0,582,581,1,0,0,0,583,586,1,0,0,0,584,582,1,0,0,0,584,585,1,0,0,0,585,587,1,0,0,0,586,584,1,0,0,0,587,588,5,77,0,0,588,589,3,20,10,0,589,67,1,0,0,0,590,592,5,36,0,0,591,590,1,0,0,0,591,592,1,0,0,0,592,596,1,0,0,0,593,594,3,82,41,0,594,595,5,73,0,0,595,597,1,0,0,0,596,593,1,0,0,0,596,597,1,0,0,0,597,598,1,0,0,0,598,599,5,88,0,0,599,603,3,96,48,0,600,602,3,78,39,0,601,600,1,0,0,0,602,605,1,0,0,0,603,601,1,0,0,0,603,604,1,0,0,0,604,606,1,0,0,0,605,603,1,0,0,0,606,607,5,89,0,0,607,608,5,80,0,0,608,612,3,96,48,0,609,611,3,78,39,0,610,609,1,0,0,0,611,614,1,0,0,0,612,610,1,0,0,0,612,613,1,0,0,0,613,615,1,0,0,0,614,612,1,0,0,0,615,616,5,77,0,0,616,617,3,20,10,0,617,69,1,0,0,0,618,621,5,40,0,0,619,621,3,82,41,0,620,618,1,0,0,0,620,619,1,0,0,0,621,622,1,0,0,0,622,623,5,80,0,0,623,627,3,96,48,0,624,626,3,78,39,0,625,624,1,0,0,0,626,629,1,0,0,0,627,625,1,0,0,0,627,628,1,0,0,0,628,630,1,0,0,0,629,627,1,0,0,0,630,631,5,77,0,0,631,632,3,20,10,0,632,71,1,0,0,0,633,634,5,86,0,0,634,635,3,20,10,0,635,644,5,32,0,0,636,637,3,96,48,0,637,638,5,77,0,0,638,639,3,20,10,0,639,640,1,0,0,0,640,641,5,78,0,0,641,643,1,0,0,0,642,636,1,0,0,0,643,646,1,0,0,0,644,642,1,0,0,0,644,645,1,0,0,0,645,651,1,0,0,0,646,644,1,0,0,0,647,648,3,96,48,0,648,649,5,77,0,0,649,650,3,20,10,0,650,652,1,0,0,0,651,647,1,0,0,0,651,652,1,0,0,0,652,653,1,0,0,0,653,654,5,87,0,0,654,73,1,0,0,0,655,656,5,73,0,0,656,657,3,12,6,0,657,75,1,0,0,0,658,666,3,86,43,0,659,660,5,88,0,0,660,661,3,86,43,0,661,662,5,54,0,0,662,663,3,10,5,0,663,664,5,89,0,0,664,666,1,0,0,0,665,658,1,0,0,0,665,659,1,0,0,0,666,77,1,0,0,0,667,680,3,90,45,0,668,680,5,40,0,0,669,672,5,88,0,0,670,673,3,90,45,0,671,673,5,40,0,0,672,670,1,0,0,0,672,671,1,0,0,0,673,674,1,0,0,0,674,675,5,79,0,0,675,676,3,10,5,0,676,677,5,89,0,0,677,680,1,0,0,0,678,680,3,80,40,0,679,667,1,0,0,0,679,668,1,0,0,0,679,669,1,0,0,0,679,678,1,0,0,0,680,79,1,0,0,0,681,690,5,86,0,0,682,683,3,96,48,0,683,684,5,77,0,0,684,685,3,20,10,0,685,686,1,0,0,0,686,687,5,78,0,0,687,689,1,0,0,0,688,682,1,0,0,0,689,692,1,0,0,0,690,688,1,0,0,0,690,691,1,0,0,0,691,693,1,0,0,0,692,690,1,0,0,0,693,694,5,81,0,0,694,695,5,87,0,0,695,81,1,0,0,0,696,697,5,84,0,0,697,700,3,90,45,0,698,699,5,79,0,0,699,701,3,10,5,0,700,698,1,0,0,0,700,701,1,0,0,0,701,702,1,0,0,0,702,703,5,85,0,0,703,83,1,0,0,0,704,707,3,10,5,0,705,706,5,49,0,0,706,708,3,10,5,0,707,705,1,0,0,0,707,708,1,0,0,0,708,85,1,0,0,0,709,710,5,42,0,0,710,87,1,0,0,0,711,712,5,42,0,0,712,89,1,0,0,0,713,714,5,41,0,0,714,91,1,0,0,0,715,716,5,42,0,0,716,93,1,0,0,0,717,718,7,5,0,0,718,95,1,0,0,0,719,720,7,5,0,0,720,97,1,0,0,0,721,722,7,5,0,0,722,99,1,0,0,0,723,727,5,90,0,0,724,726,3,102,51,0,725,724,1,0,0,0,726,729,1,0,0,0,727,725,1,0,0,0,727,728,1,0,0,0,728,730,1,0,0,0,729,727,1,0,0,0,730,731,7,6,0,0,731,101,1,0,0,0,732,737,3,104,52,0,733,737,3,106,53,0,734,737,3,108,54,0,735,737,3,110,55,0,736,732,1,0,0,0,736,733,1,0,0,0,736,734,1,0,0,0,736,735,1,0,0,0,737,103,1,0,0,0,738,742,7,7,0,0,739,741,3,112,56,0,740,739,1,0,0,0,741,744,1,0,0,0,742,740,1,0,0,0,742,743,1,0,0,0,743,105,1,0,0,0,744,742,1,0,0,0,745,746,7,8,0,0,746,747,3,20,10,0,747,748,5,89,0,0,748,107,1,0,0,0,749,750,7,9,0,0,750,109,1,0,0,0,751,752,7,10,0,0,752,111,1,0,0,0,753,757,5,97,0,0,754,756,3,102,51,0,755,754,1,0,0,0,756,759,1,0,0,0,757,755,1,0,0,0,757,758,1,0,0,0,758,760,1,0,0,0,759,757,1,0,0,0,760,779,7,11,0,0,761,762,5,98,0,0,762,763,3,20,10,0,763,764,5,89,0,0,764,779,1,0,0,0,765,771,5,99,0,0,766,767,3,114,57,0,767,768,5,78,0,0,768,770,1,0,0,0,769,766,1,0,0,0,770,773,1,0,0,0,771,769,1,0,0,0,771,772,1,0,0,0,772,775,1,0,0,0,773,771,1,0,0,0,774,776,3,114,57,0,775,774,1,0,0,0,775,776,1,0,0,0,776,777,1,0,0,0,777,779,5,87,0,0,778,753,1,0,0,0,778,761,1,0,0,0,778,765,1,0,0,0,779,113,1,0,0,0,780,784,3,96,48,0,781,783,3,78,39,0,782,781,1,0,0,0,783,786,1,0,0,0,784,782,1,0,0,0,784,785,1,0,0,0,785,787,1,0,0,0,786,784,1,0,0,0,787,788,5,77,0,0,788,789,3,20,10,0,789,115,1,0,0,0,77,119,128,138,144,149,162,168,179,185,190,201,216,226,229,240,242,252,272,280,284,290,298,304,339,341,358,364,373,383,389,402,408,432,436,440,446,450,454,458,486,490,492,500,509,516,536,544,548,556,562,568,570,575,578,584,591,596,603,612,620,627,644,651,665,672,679,690,700,707,727,736,742,757,771,775,778,784]),fI=hI.decisionToState.map(((t,e)=>new oI.dfa.DFA(t,e))),dI=new oI.atn.PredictionContextCache;class vI extends oI.Parser{static grammarFileName="CPParser.g4";static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'Ref'","'ref'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","':='","'>>'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["program","definition","interfaceDef","typeDef","termDef","type","btype","atype","recordType","recordTypeField","expression","opexpr","lexpr","lambda","bigLambda","letIn","letRec","openIn","ifElse","trait","newTrait","fixpoint","toStr","fold","unfold","ref","fexpr","excludexpr","renamexpr","dotexpr","aexpr","array","record","recordField","methodPattern","defaultPattern","recordUpdate","typeArg","typeParam","termParam","wildcard","selfAnno","sort","typeNameDecl","typeName","termNameDecl","ctorName","termName","labelDecl","label","document","docElement","command","interpolation","newline","plaintext","docArg","recordArgField"];constructor(t){super(t),this._interp=new oI.atn.ParserATNSimulator(this,hI,fI,dI),this.ruleNames=vI.ruleNames,this.literalNames=vI.literalNames,this.symbolicNames=vI.symbolicNames}sempred(t,e,n){switch(e){case 5:return this.type_sempred(t,n);case 11:return this.opexpr_sempred(t,n);default:throw"No predicate with index:"+e}}type_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6);default:throw"No predicate with index:"+e}}opexpr_sempred(t,e){switch(e){case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,10);case 5:return this.precpred(this._ctx,9);case 6:return this.precpred(this._ctx,8);case 7:return this.precpred(this._ctx,7);case 8:return this.precpred(this._ctx,6);case 9:return this.precpred(this._ctx,5);case 10:return this.precpred(this._ctx,4);case 11:return this.precpred(this._ctx,3);case 12:return this.precpred(this._ctx,2);case 13:return this.precpred(this._ctx,1);default:throw"No predicate with index:"+e}}program(){let t=new gI(this,this._ctx,this.state);this.enterRule(t,0,vI.RULE_program);try{this.enterOuterAlt(t,1),this.state=119,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,0,this._ctx);2!=e&&e!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=116,this.definition()),this.state=121,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,0,this._ctx);this.state=122,this.expression(),this.state=123,this.match(vI.EOF)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}definition(){let t=new pI(this,this._ctx,this.state);this.enterRule(t,2,vI.RULE_definition);try{switch(this.state=128,this._errHandler.sync(this),this._input.LA(1)){case 7:this.enterOuterAlt(t,1),this.state=125,this.interfaceDef();break;case 6:this.enterOuterAlt(t,2),this.state=126,this.typeDef();break;case 41:this.enterOuterAlt(t,3),this.state=127,this.termDef();break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interfaceDef(){let t=new mI(this,this._ctx,this.state);this.enterRule(t,4,vI.RULE_interfaceDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=130,this.match(vI.Interface),this.state=131,this.typeNameDecl(),this.state=138,this._errHandler.sync(this),e=this._input.LA(1);63===e;)this.state=132,this.match(vI.Less),this.state=133,this.typeNameDecl(),this.state=134,this.match(vI.Greater),this.state=140,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=144,this._errHandler.sync(this),e=this._input.LA(1);42===e;)this.state=141,this.typeNameDecl(),this.state=146,this._errHandler.sync(this),e=this._input.LA(1);this.state=149,this._errHandler.sync(this),8===(e=this._input.LA(1))&&(this.state=147,this.match(vI.Extends),this.state=148,this.btype()),this.state=151,this.recordType(),this.state=152,this.match(vI.Semicolon)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeDef(){let t=new RI(this,this._ctx,this.state);this.enterRule(t,6,vI.RULE_typeDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=154,this.match(vI.Type),this.state=155,this.typeNameDecl(),this.state=162,this._errHandler.sync(this),e=this._input.LA(1);63===e;)this.state=156,this.match(vI.Less),this.state=157,this.typeNameDecl(),this.state=158,this.match(vI.Greater),this.state=164,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=168,this._errHandler.sync(this),e=this._input.LA(1);42===e;)this.state=165,this.typeNameDecl(),this.state=170,this._errHandler.sync(this),e=this._input.LA(1);this.state=171,this.match(vI.Assign),this.state=172,this.type(0),this.state=173,this.match(vI.Semicolon)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termDef(){let t=new OI(this,this._ctx,this.state);this.enterRule(t,8,vI.RULE_termDef);var e=0;try{this.enterOuterAlt(t,1),this.state=175,this.termNameDecl(),this.state=179,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,7,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=176,this.typeParam()),this.state=181,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,7,this._ctx);for(this.state=185,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=182,this.termParam(),this.state=187,this._errHandler.sync(this),e=this._input.LA(1);this.state=190,this._errHandler.sync(this),79===(e=this._input.LA(1))&&(this.state=188,this.match(vI.Colon),this.state=189,this.type(0)),this.state=192,this.match(vI.Assign),this.state=193,this.expression(),this.state=194,this.match(vI.Semicolon)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}type(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new wI(this,this._ctx,n),i=r;this.enterRecursionRule(r,10,vI.RULE_type,t);var s=0;try{switch(this.enterOuterAlt(r,1),this.state=229,this._errHandler.sync(this),this._input.LA(1)){case 9:this.state=197,this.match(vI.ForAll),this.state=199,this._errHandler.sync(this),s=this._input.LA(1);do{this.state=198,this.typeParam(),this.state=201,this._errHandler.sync(this),s=this._input.LA(1)}while(42===s||88===s);this.state=203,this.match(vI.Dot),this.state=204,this.type(5);break;case 10:this.state=206,this.match(vI.Mu),this.state=207,this.typeNameDecl(),this.state=208,this.match(vI.Dot),this.state=209,this.type(4);break;case 17:this.state=211,this.match(vI.TraitType),this.state=212,this.match(vI.Less),this.state=213,this.type(0),this.state=216,this._errHandler.sync(this),49===(s=this._input.LA(1))&&(this.state=214,this.match(vI.FatArrow),this.state=215,this.type(0)),this.state=218,this.match(vI.Greater);break;case 19:this.state=220,this.match(vI.RefType),this.state=221,this.btype();break;case 11:case 12:case 13:case 14:case 15:case 16:case 42:case 43:case 84:case 86:case 88:this.state=222,this.btype(),this.state=226,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,12,this._ctx);2!=o&&o!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=223,this.btype()),this.state=228,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,12,this._ctx);break;default:throw new oI.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=242,this._errHandler.sync(this);for(o=this._interp.adaptivePredict(this._input,15,this._ctx);2!=o&&o!=oI.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=240,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:if(r=new wI(this,e,n),this.pushNewRecursionContext(r,10,vI.RULE_type),this.state=231,!this.precpred(this._ctx,8))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=232,this.match(vI.Intersect),this.state=233,this.type(9);break;case 2:if(r=new wI(this,e,n),this.pushNewRecursionContext(r,10,vI.RULE_type),this.state=234,!this.precpred(this._ctx,7))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=235,this.match(vI.Backslash),this.state=236,this.type(8);break;case 3:if(r=new wI(this,e,n),this.pushNewRecursionContext(r,10,vI.RULE_type),this.state=237,!this.precpred(this._ctx,6))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=238,this.match(vI.Arrow),this.state=239,this.type(6)}this.state=244,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,15,this._ctx)}}catch(t){if(!(t instanceof oI.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}btype(){let t=new xI(this,this._ctx,this.state);this.enterRule(t,12,vI.RULE_btype);try{this.enterOuterAlt(t,1),this.state=245,this.atype(),this.state=252,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=246,this.match(vI.Less),this.state=247,this.sort(),this.state=248,this.match(vI.Greater)),this.state=254,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}atype(){let t=new yI(this,this._ctx,this.state);this.enterRule(t,14,vI.RULE_atype);try{switch(this.state=272,this._errHandler.sync(this),this._input.LA(1)){case 11:this.enterOuterAlt(t,1),this.state=255,this.match(vI.Int);break;case 12:this.enterOuterAlt(t,2),this.state=256,this.match(vI.Double);break;case 13:this.enterOuterAlt(t,3),this.state=257,this.match(vI.Bool);break;case 14:this.enterOuterAlt(t,4),this.state=258,this.match(vI.String);break;case 43:this.enterOuterAlt(t,5),this.state=259,this.match(vI.Unit);break;case 15:this.enterOuterAlt(t,6),this.state=260,this.match(vI.Top);break;case 16:this.enterOuterAlt(t,7),this.state=261,this.match(vI.Bot);break;case 42:this.enterOuterAlt(t,8),this.state=262,this.typeName();break;case 86:this.enterOuterAlt(t,9),this.state=263,this.recordType();break;case 84:this.enterOuterAlt(t,10),this.state=264,this.match(vI.BracketOpen),this.state=265,this.type(0),this.state=266,this.match(vI.BracketClose);break;case 88:this.enterOuterAlt(t,11),this.state=268,this.match(vI.ParenOpen),this.state=269,this.type(0),this.state=270,this.match(vI.ParenClose);break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordType(){let t=new bI(this,this._ctx,this.state);this.enterRule(t,16,vI.RULE_recordType);var e=0;try{this.enterOuterAlt(t,1),this.state=274,this.match(vI.BraceOpen),this.state=280,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,18,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=275,this.recordTypeField(),this.state=276,this.match(vI.Semicolon)),this.state=282,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,18,this._ctx);this.state=284,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=283,this.recordTypeField()),this.state=286,this.match(vI.BraceClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordTypeField(){let t=new kI(this,this._ctx,this.state);this.enterRule(t,18,vI.RULE_recordTypeField);try{this.enterOuterAlt(t,1),this.state=288,this.labelDecl(),this.state=290,this._errHandler.sync(this),83===this._input.LA(1)&&(this.state=289,this.match(vI.Question)),this.state=292,this.match(vI.Colon),this.state=293,this.type(0)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}expression(){let t=new CI(this,this._ctx,this.state);this.enterRule(t,20,vI.RULE_expression);try{this.enterOuterAlt(t,1),this.state=295,this.opexpr(0),this.state=298,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,21,this._ctx)&&(this.state=296,this.match(vI.Colon),this.state=297,this.type(0))}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}opexpr(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new TI(this,this._ctx,n),i=r;const s=22;this.enterRecursionRule(r,22,vI.RULE_opexpr,t);var o=0;try{switch(this.enterOuterAlt(r,1),this.state=304,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 18:case 20:case 23:case 24:case 25:case 28:case 29:case 30:case 33:case 34:case 35:case 37:case 38:case 39:case 41:case 42:case 43:case 44:case 45:case 82:case 84:case 86:case 88:case 90:this.state=301,this.lexpr();break;case 53:case 57:case 58:case 69:this.state=302,0!=((o=this._input.LA(1))-53&-32)||0==(1<<o-53&65585)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=303,this.opexpr(12);break;default:throw new oI.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=341,this._errHandler.sync(this);for(var l=this._interp.adaptivePredict(this._input,24,this._ctx);2!=l&&l!=oI.atn.ATN.INVALID_ALT_NUMBER;){if(1===l)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=339,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=306,!this.precpred(this._ctx,11))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 11)");this.state=307,this.match(vI.Index),this.state=308,this.opexpr(12);break;case 2:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=309,!this.precpred(this._ctx,10))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 10)");this.state=310,0!=((o=this._input.LA(1))-54&-32)||0==(1<<o-54&7)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=311,this.opexpr(11);break;case 3:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=312,!this.precpred(this._ctx,9))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 9)");this.state=313,52!==(o=this._input.LA(1))&&53!==o?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=314,this.opexpr(10);break;case 4:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=315,!this.precpred(this._ctx,8))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=316,this.match(vI.Append),this.state=317,this.opexpr(9);break;case 5:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=318,!this.precpred(this._ctx,7))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=319,0!=((o=this._input.LA(1))-63&-32)||0==(1<<o-63&63)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=320,this.opexpr(8);break;case 6:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=321,!this.precpred(this._ctx,6))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=322,this.match(vI.And),this.state=323,this.opexpr(6);break;case 7:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=324,!this.precpred(this._ctx,5))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=325,this.match(vI.Or),this.state=326,this.opexpr(5);break;case 8:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=327,!this.precpred(this._ctx,4))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=328,this.match(vI.Forward),this.state=329,this.opexpr(5);break;case 9:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=330,!this.precpred(this._ctx,3))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)");this.state=331,0!=((o=this._input.LA(1))-46&-32)||0==(1<<o-46&1879048193)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=332,this.opexpr(4);break;case 10:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=333,!this.precpred(this._ctx,2))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=334,this.match(vI.Walrus),this.state=335,this.opexpr(3);break;case 11:if(r=new TI(this,e,n),this.pushNewRecursionContext(r,s,vI.RULE_opexpr),this.state=336,!this.precpred(this._ctx,1))throw new oI.error.FailedPredicateException(this,"this.precpred(this._ctx, 1)");this.state=337,this.match(vI.Seq),this.state=338,this.opexpr(2)}this.state=343,this._errHandler.sync(this),l=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof oI.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}lexpr(){let t=new SI(this,this._ctx,this.state);this.enterRule(t,24,vI.RULE_lexpr);try{switch(this.state=358,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 37:case 38:case 39:case 41:case 42:case 43:case 82:case 84:case 86:case 88:case 90:this.enterOuterAlt(t,1),this.state=344,this.fexpr();break;case 44:this.enterOuterAlt(t,2),this.state=345,this.lambda();break;case 45:this.enterOuterAlt(t,3),this.state=346,this.bigLambda();break;case 28:this.enterOuterAlt(t,4),this.state=347,this.letIn();break;case 29:this.enterOuterAlt(t,5),this.state=348,this.letRec();break;case 30:this.enterOuterAlt(t,6),this.state=349,this.openIn();break;case 25:this.enterOuterAlt(t,7),this.state=350,this.ifElse();break;case 18:this.enterOuterAlt(t,8),this.state=351,this.trait();break;case 23:this.enterOuterAlt(t,9),this.state=352,this.newTrait();break;case 24:this.enterOuterAlt(t,10),this.state=353,this.fixpoint();break;case 33:this.enterOuterAlt(t,11),this.state=354,this.toStr();break;case 34:this.enterOuterAlt(t,12),this.state=355,this.fold();break;case 35:this.enterOuterAlt(t,13),this.state=356,this.unfold();break;case 20:this.enterOuterAlt(t,14),this.state=357,this.ref();break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}lambda(){let t=new AI(this,this._ctx,this.state);this.enterRule(t,26,vI.RULE_lambda);var e=0;try{this.enterOuterAlt(t,1),this.state=360,this.match(vI.Backslash),this.state=362,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=361,this.termParam(),this.state=364,this._errHandler.sync(this),e=this._input.LA(1)}while(40===e||41===e||86===e||88===e);this.state=366,this.match(vI.Arrow),this.state=367,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}bigLambda(){let t=new PI(this,this._ctx,this.state);this.enterRule(t,28,vI.RULE_bigLambda);var e=0;try{this.enterOuterAlt(t,1),this.state=369,this.match(vI.SlashBackslash),this.state=371,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=370,this.typeParam(),this.state=373,this._errHandler.sync(this),e=this._input.LA(1)}while(42===e||88===e);this.state=375,this.match(vI.Dot),this.state=376,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letIn(){let t=new _I(this,this._ctx,this.state);this.enterRule(t,30,vI.RULE_letIn);var e=0;try{this.enterOuterAlt(t,1),this.state=378,this.match(vI.Let),this.state=379,this.termNameDecl(),this.state=383,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,28,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=380,this.typeParam()),this.state=385,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,28,this._ctx);for(this.state=389,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=386,this.termParam(),this.state=391,this._errHandler.sync(this),e=this._input.LA(1);this.state=392,this.match(vI.Assign),this.state=393,this.expression(),this.state=394,this.match(vI.In),this.state=395,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letRec(){let t=new EI(this,this._ctx,this.state);this.enterRule(t,32,vI.RULE_letRec);var e=0;try{this.enterOuterAlt(t,1),this.state=397,this.match(vI.LetRec),this.state=398,this.termNameDecl(),this.state=402,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,30,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=399,this.typeParam()),this.state=404,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,30,this._ctx);for(this.state=408,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=405,this.termParam(),this.state=410,this._errHandler.sync(this),e=this._input.LA(1);this.state=411,this.match(vI.Colon),this.state=412,this.type(0),this.state=413,this.match(vI.Assign),this.state=414,this.expression(),this.state=415,this.match(vI.In),this.state=416,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}openIn(){let t=new LI(this,this._ctx,this.state);this.enterRule(t,34,vI.RULE_openIn);try{this.enterOuterAlt(t,1),this.state=418,this.match(vI.Open),this.state=419,this.expression(),this.state=420,this.match(vI.In),this.state=421,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ifElse(){let t=new DI(this,this._ctx,this.state);this.enterRule(t,36,vI.RULE_ifElse);try{this.enterOuterAlt(t,1),this.state=423,this.match(vI.If),this.state=424,this.expression(),this.state=425,this.match(vI.Then),this.state=426,this.expression(),this.state=427,this.match(vI.Else),this.state=428,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}trait(){let t=new QI(this,this._ctx,this.state);this.enterRule(t,38,vI.RULE_trait);try{switch(this.state=458,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,38,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=430,this.match(vI.Trait),this.state=432,this._errHandler.sync(this),84===this._input.LA(1)&&(this.state=431,this.selfAnno()),this.state=436,this._errHandler.sync(this),21===this._input.LA(1)&&(this.state=434,this.match(vI.Implements),this.state=435,this.type(0)),this.state=440,this._errHandler.sync(this),22===this._input.LA(1)&&(this.state=438,this.match(vI.Inherits),this.state=439,this.opexpr(0)),this.state=442,this.match(vI.FatArrow),this.state=443,this.opexpr(0);break;case 2:this.enterOuterAlt(t,2),this.state=444,this.match(vI.Trait),this.state=446,this._errHandler.sync(this),84===this._input.LA(1)&&(this.state=445,this.selfAnno()),this.state=450,this._errHandler.sync(this),22===this._input.LA(1)&&(this.state=448,this.match(vI.Inherits),this.state=449,this.opexpr(0)),this.state=454,this._errHandler.sync(this),21===this._input.LA(1)&&(this.state=452,this.match(vI.Implements),this.state=453,this.type(0)),this.state=456,this.match(vI.FatArrow),this.state=457,this.opexpr(0)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newTrait(){let t=new II(this,this._ctx,this.state);this.enterRule(t,40,vI.RULE_newTrait);try{this.enterOuterAlt(t,1),this.state=460,this.match(vI.New),this.state=461,this.opexpr(0)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fixpoint(){let t=new NI(this,this._ctx,this.state);this.enterRule(t,42,vI.RULE_fixpoint);try{this.enterOuterAlt(t,1),this.state=463,this.match(vI.Fix),this.state=464,this.termNameDecl(),this.state=465,this.match(vI.Colon),this.state=466,this.type(0),this.state=467,this.match(vI.Dot),this.state=468,this.opexpr(0)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}toStr(){let t=new MI(this,this._ctx,this.state);this.enterRule(t,44,vI.RULE_toStr);try{this.enterOuterAlt(t,1),this.state=470,this.match(vI.ToString),this.state=471,this.dotexpr()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fold(){let t=new $I(this,this._ctx,this.state);this.enterRule(t,46,vI.RULE_fold);try{this.enterOuterAlt(t,1),this.state=473,this.match(vI.Fold),this.state=474,this.typeArg(),this.state=475,this.dotexpr()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}unfold(){let t=new FI(this,this._ctx,this.state);this.enterRule(t,48,vI.RULE_unfold);try{this.enterOuterAlt(t,1),this.state=477,this.match(vI.Unfold),this.state=478,this.typeArg(),this.state=479,this.dotexpr()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ref(){let t=new BI(this,this._ctx,this.state);this.enterRule(t,50,vI.RULE_ref);try{this.enterOuterAlt(t,1),this.state=481,this.match(vI.Ref),this.state=482,this.dotexpr()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fexpr(){let t=new UI(this,this._ctx,this.state);this.enterRule(t,52,vI.RULE_fexpr);try{switch(this.enterOuterAlt(t,1),this.state=486,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,39,this._ctx)){case 1:this.state=484,this.ctorName();break;case 2:this.state=485,this.excludexpr()}this.state=492,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,41,this._ctx);2!=e&&e!=oI.atn.ATN.INVALID_ALT_NUMBER;){if(1===e)switch(this.state=490,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 37:case 38:case 39:case 41:case 42:case 43:case 82:case 84:case 86:case 88:case 90:this.state=488,this.excludexpr();break;case 73:this.state=489,this.typeArg();break;default:throw new oI.error.NoViableAltException(this)}this.state=494,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,41,this._ctx)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}excludexpr(){let t=new HI(this,this._ctx,this.state);this.enterRule(t,54,vI.RULE_excludexpr);try{this.enterOuterAlt(t,1),this.state=495,this.renamexpr(),this.state=500,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,42,this._ctx);1===e?(this.state=496,this.match(vI.DoubleBackslashes),this.state=497,this.btype()):2===e&&(this.state=498,this.match(vI.Backslash),this.state=499,this.label())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}renamexpr(){let t=new qI(this,this._ctx,this.state);this.enterRule(t,56,vI.RULE_renamexpr);try{this.enterOuterAlt(t,1),this.state=502,this.dotexpr(),this.state=509,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,43,this._ctx)&&(this.state=503,this.match(vI.BracketOpen),this.state=504,this.label(),this.state=505,this.match(vI.LeftArrow),this.state=506,this.labelDecl(),this.state=507,this.match(vI.BracketClose))}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}dotexpr(){let t=new XI(this,this._ctx,this.state);this.enterRule(t,58,vI.RULE_dotexpr);try{this.enterOuterAlt(t,1),this.state=511,this.aexpr(),this.state=516,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,44,this._ctx);2!=e&&e!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=512,this.match(vI.Dot),this.state=513,this.label()),this.state=518,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,44,this._ctx)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}aexpr(){let t=new VI(this,this._ctx,this.state);this.enterRule(t,60,vI.RULE_aexpr);try{switch(this.state=536,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,45,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=519,this.termName();break;case 2:this.enterOuterAlt(t,2),this.state=520,this.match(vI.IntLit);break;case 3:this.enterOuterAlt(t,3),this.state=521,this.match(vI.StringLit);break;case 4:this.enterOuterAlt(t,4),this.state=522,this.document();break;case 5:this.enterOuterAlt(t,5),this.state=523,this.match(vI.Unit);break;case 6:this.enterOuterAlt(t,6),this.state=524,this.match(vI.True_);break;case 7:this.enterOuterAlt(t,7),this.state=525,this.match(vI.False_);break;case 8:this.enterOuterAlt(t,8),this.state=526,this.match(vI.Undefined_);break;case 9:this.enterOuterAlt(t,9),this.state=527,this.array();break;case 10:this.enterOuterAlt(t,10),this.state=528,this.record();break;case 11:this.enterOuterAlt(t,11),this.state=529,this.recordUpdate();break;case 12:this.enterOuterAlt(t,12),this.state=530,this.match(vI.Dollar),this.state=531,this.ctorName();break;case 13:this.enterOuterAlt(t,13),this.state=532,this.match(vI.ParenOpen),this.state=533,this.expression(),this.state=534,this.match(vI.ParenClose)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}array(){let t=new zI(this,this._ctx,this.state);this.enterRule(t,62,vI.RULE_array);var e=0;try{this.enterOuterAlt(t,1),this.state=538,this.match(vI.BracketOpen),this.state=544,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,46,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=539,this.expression(),this.state=540,this.match(vI.Semicolon)),this.state=546,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,46,this._ctx);this.state=548,this._errHandler.sync(this),(0==(-32&(e=this._input.LA(1)))&&0!=(1<<e&1939079216)||0==(e-33&-32)&&0!=(1<<e-33&51388279)||0==(e-69&-32)&&0!=(1<<e-69&2793473))&&(this.state=547,this.expression()),this.state=550,this.match(vI.BracketClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}record(){let t=new WI(this,this._ctx,this.state);this.enterRule(t,64,vI.RULE_record);var e=0;try{this.enterOuterAlt(t,1),this.state=552,this.match(vI.BraceOpen),this.state=562,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,49,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;){if(1===n){switch(this.state=556,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,48,this._ctx)){case 1:this.state=553,this.recordField();break;case 2:this.state=554,this.methodPattern();break;case 3:this.state=555,this.defaultPattern()}this.state=558,this.match(vI.Semicolon)}this.state=564,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,49,this._ctx)}if(this.state=570,this._errHandler.sync(this),0==((e=this._input.LA(1))-36&-32)&&0!=(1<<e-36&113)||84===e||88===e)switch(this.state=568,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,50,this._ctx)){case 1:this.state=565,this.recordField();break;case 2:this.state=566,this.methodPattern();break;case 3:this.state=567,this.defaultPattern()}this.state=572,this.match(vI.BraceClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordField(){let t=new jI(this,this._ctx,this.state);this.enterRule(t,66,vI.RULE_recordField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=575,this._errHandler.sync(this),36===(e=this._input.LA(1))&&(this.state=574,this.match(vI.Override)),this.state=578,this._errHandler.sync(this),84===(e=this._input.LA(1))&&(this.state=577,this.selfAnno()),this.state=580,this.labelDecl(),this.state=584,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=581,this.termParam(),this.state=586,this._errHandler.sync(this),e=this._input.LA(1);this.state=587,this.match(vI.Assign),this.state=588,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}methodPattern(){let t=new GI(this,this._ctx,this.state);this.enterRule(t,68,vI.RULE_methodPattern);var e=0;try{for(this.enterOuterAlt(t,1),this.state=591,this._errHandler.sync(this),36===(e=this._input.LA(1))&&(this.state=590,this.match(vI.Override)),this.state=596,this._errHandler.sync(this),84===(e=this._input.LA(1))&&(this.state=593,this.selfAnno(),this.state=594,this.match(vI.At)),this.state=598,this.match(vI.ParenOpen),this.state=599,this.labelDecl(),this.state=603,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=600,this.termParam(),this.state=605,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=606,this.match(vI.ParenClose),this.state=607,this.match(vI.Dot),this.state=608,this.labelDecl(),this.state=612,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=609,this.termParam(),this.state=614,this._errHandler.sync(this),e=this._input.LA(1);this.state=615,this.match(vI.Assign),this.state=616,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}defaultPattern(){let t=new YI(this,this._ctx,this.state);this.enterRule(t,70,vI.RULE_defaultPattern);var e=0;try{switch(this.enterOuterAlt(t,1),this.state=620,this._errHandler.sync(this),this._input.LA(1)){case 40:this.state=618,this.match(vI.Underscore);break;case 84:this.state=619,this.selfAnno();break;default:throw new oI.error.NoViableAltException(this)}for(this.state=622,this.match(vI.Dot),this.state=623,this.labelDecl(),this.state=627,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=624,this.termParam(),this.state=629,this._errHandler.sync(this),e=this._input.LA(1);this.state=630,this.match(vI.Assign),this.state=631,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordUpdate(){let t=new ZI(this,this._ctx,this.state);this.enterRule(t,72,vI.RULE_recordUpdate);var e=0;try{this.enterOuterAlt(t,1),this.state=633,this.match(vI.BraceOpen),this.state=634,this.expression(),this.state=635,this.match(vI.With),this.state=644,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,61,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=636,this.labelDecl(),this.state=637,this.match(vI.Assign),this.state=638,this.expression(),this.state=640,this.match(vI.Semicolon)),this.state=646,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,61,this._ctx);this.state=651,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=647,this.labelDecl(),this.state=648,this.match(vI.Assign),this.state=649,this.expression()),this.state=653,this.match(vI.BraceClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeArg(){let t=new KI(this,this._ctx,this.state);this.enterRule(t,74,vI.RULE_typeArg);try{this.enterOuterAlt(t,1),this.state=655,this.match(vI.At),this.state=656,this.btype()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeParam(){let t=new JI(this,this._ctx,this.state);this.enterRule(t,76,vI.RULE_typeParam);try{switch(this.state=665,this._errHandler.sync(this),this._input.LA(1)){case 42:this.enterOuterAlt(t,1),this.state=658,this.typeNameDecl();break;case 88:this.enterOuterAlt(t,2),this.state=659,this.match(vI.ParenOpen),this.state=660,this.typeNameDecl(),this.state=661,this.match(vI.Asterisk),this.state=662,this.type(0),this.state=663,this.match(vI.ParenClose);break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termParam(){let t=new tN(this,this._ctx,this.state);this.enterRule(t,78,vI.RULE_termParam);try{switch(this.state=679,this._errHandler.sync(this),this._input.LA(1)){case 41:this.enterOuterAlt(t,1),this.state=667,this.termNameDecl();break;case 40:this.enterOuterAlt(t,2),this.state=668,this.match(vI.Underscore);break;case 88:switch(this.enterOuterAlt(t,3),this.state=669,this.match(vI.ParenOpen),this.state=672,this._errHandler.sync(this),this._input.LA(1)){case 41:this.state=670,this.termNameDecl();break;case 40:this.state=671,this.match(vI.Underscore);break;default:throw new oI.error.NoViableAltException(this)}this.state=674,this.match(vI.Colon),this.state=675,this.type(0),this.state=676,this.match(vI.ParenClose);break;case 86:this.enterOuterAlt(t,4),this.state=678,this.wildcard();break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}wildcard(){let t=new eN(this,this._ctx,this.state);this.enterRule(t,80,vI.RULE_wildcard);var e=0;try{for(this.enterOuterAlt(t,1),this.state=681,this.match(vI.BraceOpen),this.state=690,this._errHandler.sync(this),e=this._input.LA(1);41===e||42===e;)this.state=682,this.labelDecl(),this.state=683,this.match(vI.Assign),this.state=684,this.expression(),this.state=686,this.match(vI.Semicolon),this.state=692,this._errHandler.sync(this),e=this._input.LA(1);this.state=693,this.match(vI.DotDot),this.state=694,this.match(vI.BraceClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}selfAnno(){let t=new nN(this,this._ctx,this.state);this.enterRule(t,82,vI.RULE_selfAnno);try{this.enterOuterAlt(t,1),this.state=696,this.match(vI.BracketOpen),this.state=697,this.termNameDecl(),this.state=700,this._errHandler.sync(this),79===this._input.LA(1)&&(this.state=698,this.match(vI.Colon),this.state=699,this.type(0)),this.state=702,this.match(vI.BracketClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}sort(){let t=new rN(this,this._ctx,this.state);this.enterRule(t,84,vI.RULE_sort);try{this.enterOuterAlt(t,1),this.state=704,this.type(0),this.state=707,this._errHandler.sync(this),49===this._input.LA(1)&&(this.state=705,this.match(vI.FatArrow),this.state=706,this.type(0))}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeNameDecl(){let t=new iN(this,this._ctx,this.state);this.enterRule(t,86,vI.RULE_typeNameDecl);try{this.enterOuterAlt(t,1),this.state=709,this.match(vI.UpperId)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeName(){let t=new sN(this,this._ctx,this.state);this.enterRule(t,88,vI.RULE_typeName);try{this.enterOuterAlt(t,1),this.state=711,this.match(vI.UpperId)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termNameDecl(){let t=new oN(this,this._ctx,this.state);this.enterRule(t,90,vI.RULE_termNameDecl);try{this.enterOuterAlt(t,1),this.state=713,this.match(vI.LowerId)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ctorName(){let t=new lN(this,this._ctx,this.state);this.enterRule(t,92,vI.RULE_ctorName);try{this.enterOuterAlt(t,1),this.state=715,this.match(vI.UpperId)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termName(){let t=new aN(this,this._ctx,this.state);this.enterRule(t,94,vI.RULE_termName);var e=0;try{this.enterOuterAlt(t,1),this.state=717,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}labelDecl(){let t=new uN(this,this._ctx,this.state);this.enterRule(t,96,vI.RULE_labelDecl);var e=0;try{this.enterOuterAlt(t,1),this.state=719,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}label(){let t=new cN(this,this._ctx,this.state);this.enterRule(t,98,vI.RULE_label);var e=0;try{this.enterOuterAlt(t,1),this.state=721,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}document(){let t=new hN(this,this._ctx,this.state);this.enterRule(t,100,vI.RULE_document);var e=0;try{for(this.enterOuterAlt(t,1),this.state=723,this.match(vI.BacktickOpen),this.state=727,this._errHandler.sync(this),e=this._input.LA(1);0==(e-91&-32)&&0!=(1<<e-91&7695);)this.state=724,this.docElement(),this.state=729,this._errHandler.sync(this),e=this._input.LA(1);this.state=730,96!==(e=this._input.LA(1))&&105!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docElement(){let t=new fN(this,this._ctx,this.state);this.enterRule(t,102,vI.RULE_docElement);try{switch(this.state=736,this._errHandler.sync(this),this._input.LA(1)){case 91:case 100:this.enterOuterAlt(t,1),this.state=732,this.command();break;case 92:case 101:this.enterOuterAlt(t,2),this.state=733,this.interpolation();break;case 93:case 102:this.enterOuterAlt(t,3),this.state=734,this.newline();break;case 94:case 103:this.enterOuterAlt(t,4),this.state=735,this.plaintext();break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}command(){let t=new dN(this,this._ctx,this.state);this.enterRule(t,104,vI.RULE_command);var e=0;try{for(this.enterOuterAlt(t,1),this.state=738,91!==(e=this._input.LA(1))&&100!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=742,this._errHandler.sync(this),e=this._input.LA(1);0==(e-97&-32)&&0!=(1<<e-97&7);)this.state=739,this.docArg(),this.state=744,this._errHandler.sync(this),e=this._input.LA(1)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interpolation(){let t=new vN(this,this._ctx,this.state);this.enterRule(t,106,vI.RULE_interpolation);var e=0;try{this.enterOuterAlt(t,1),this.state=745,92!==(e=this._input.LA(1))&&101!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=746,this.expression(),this.state=747,this.match(vI.ParenClose)}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newline(){let t=new gN(this,this._ctx,this.state);this.enterRule(t,108,vI.RULE_newline);var e=0;try{this.enterOuterAlt(t,1),this.state=749,93!==(e=this._input.LA(1))&&102!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}plaintext(){let t=new pN(this,this._ctx,this.state);this.enterRule(t,110,vI.RULE_plaintext);var e=0;try{this.enterOuterAlt(t,1),this.state=751,94!==(e=this._input.LA(1))&&103!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docArg(){let t=new mN(this,this._ctx,this.state);this.enterRule(t,112,vI.RULE_docArg);var e=0;try{switch(this.state=778,this._errHandler.sync(this),this._input.LA(1)){case 97:for(this.enterOuterAlt(t,1),this.state=753,this.match(vI.BracketOpenAsArg),this.state=757,this._errHandler.sync(this),e=this._input.LA(1);0==(e-91&-32)&&0!=(1<<e-91&7695);)this.state=754,this.docElement(),this.state=759,this._errHandler.sync(this),e=this._input.LA(1);this.state=760,95!==(e=this._input.LA(1))&&104!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume());break;case 98:this.enterOuterAlt(t,2),this.state=761,this.match(vI.ParenOpenAsArg),this.state=762,this.expression(),this.state=763,this.match(vI.ParenClose);break;case 99:this.enterOuterAlt(t,3),this.state=765,this.match(vI.BraceOpenAsArg),this.state=771,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,73,this._ctx);2!=n&&n!=oI.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=766,this.recordArgField(),this.state=767,this.match(vI.Semicolon)),this.state=773,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,73,this._ctx);this.state=775,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=774,this.recordArgField()),this.state=777,this.match(vI.BraceClose);break;default:throw new oI.error.NoViableAltException(this)}}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordArgField(){let t=new RN(this,this._ctx,this.state);this.enterRule(t,114,vI.RULE_recordArgField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=780,this.labelDecl(),this.state=784,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=781,this.termParam(),this.state=786,this._errHandler.sync(this),e=this._input.LA(1);this.state=787,this.match(vI.Assign),this.state=788,this.expression()}catch(e){if(!(e instanceof oI.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}vI.EOF=oI.Token.EOF,vI.Whitespaces=1,vI.LineComment=2,vI.BlockComment=3,vI.IntLit=4,vI.StringLit=5,vI.Type=6,vI.Interface=7,vI.Extends=8,vI.ForAll=9,vI.Mu=10,vI.Int=11,vI.Double=12,vI.Bool=13,vI.String=14,vI.Top=15,vI.Bot=16,vI.TraitType=17,vI.Trait=18,vI.RefType=19,vI.Ref=20,vI.Implements=21,vI.Inherits=22,vI.New=23,vI.Fix=24,vI.If=25,vI.Then=26,vI.Else=27,vI.Let=28,vI.LetRec=29,vI.Open=30,vI.In=31,vI.With=32,vI.ToString=33,vI.Fold=34,vI.Unfold=35,vI.Override=36,vI.True_=37,vI.False_=38,vI.Undefined_=39,vI.Underscore=40,vI.LowerId=41,vI.UpperId=42,vI.Unit=43,vI.Backslash=44,vI.SlashBackslash=45,vI.BackslashMinus=46,vI.DoubleBackslashes=47,vI.Arrow=48,vI.FatArrow=49,vI.LeftArrow=50,vI.Intersect=51,vI.Plus=52,vI.Minus=53,vI.Asterisk=54,vI.Slash=55,vI.Modulo=56,vI.Sqrt=57,vI.Deref=58,vI.Walrus=59,vI.Seq=60,vI.And=61,vI.Or=62,vI.Less=63,vI.Greater=64,vI.LessEqual=65,vI.GreaterEqual=66,vI.Equal=67,vI.NotEqual=68,vI.Length=69,vI.Index=70,vI.Append=71,vI.Forward=72,vI.At=73,vI.Merge=74,vI.LeftistMerge=75,vI.RightistMerge=76,vI.Assign=77,vI.Semicolon=78,vI.Colon=79,vI.Dot=80,vI.DotDot=81,vI.Dollar=82,vI.Question=83,vI.BracketOpen=84,vI.BracketClose=85,vI.BraceOpen=86,vI.BraceClose=87,vI.ParenOpen=88,vI.ParenClose=89,vI.BacktickOpen=90,vI.Command=91,vI.Interpolation=92,vI.NewLine=93,vI.PlainText=94,vI.BracketCloseInDoc=95,vI.BacktickClose=96,vI.BracketOpenAsArg=97,vI.ParenOpenAsArg=98,vI.BraceOpenAsArg=99,vI.CommandAfterCmd=100,vI.InterpolationAfterCmd=101,vI.NewLineAfterCmd=102,vI.PlainTextAfterCmd=103,vI.BracketCloseAfterCmd=104,vI.BacktickCloseAfterCmd=105,vI.RULE_program=0,vI.RULE_definition=1,vI.RULE_interfaceDef=2,vI.RULE_typeDef=3,vI.RULE_termDef=4,vI.RULE_type=5,vI.RULE_btype=6,vI.RULE_atype=7,vI.RULE_recordType=8,vI.RULE_recordTypeField=9,vI.RULE_expression=10,vI.RULE_opexpr=11,vI.RULE_lexpr=12,vI.RULE_lambda=13,vI.RULE_bigLambda=14,vI.RULE_letIn=15,vI.RULE_letRec=16,vI.RULE_openIn=17,vI.RULE_ifElse=18,vI.RULE_trait=19,vI.RULE_newTrait=20,vI.RULE_fixpoint=21,vI.RULE_toStr=22,vI.RULE_fold=23,vI.RULE_unfold=24,vI.RULE_ref=25,vI.RULE_fexpr=26,vI.RULE_excludexpr=27,vI.RULE_renamexpr=28,vI.RULE_dotexpr=29,vI.RULE_aexpr=30,vI.RULE_array=31,vI.RULE_record=32,vI.RULE_recordField=33,vI.RULE_methodPattern=34,vI.RULE_defaultPattern=35,vI.RULE_recordUpdate=36,vI.RULE_typeArg=37,vI.RULE_typeParam=38,vI.RULE_termParam=39,vI.RULE_wildcard=40,vI.RULE_selfAnno=41,vI.RULE_sort=42,vI.RULE_typeNameDecl=43,vI.RULE_typeName=44,vI.RULE_termNameDecl=45,vI.RULE_ctorName=46,vI.RULE_termName=47,vI.RULE_labelDecl=48,vI.RULE_label=49,vI.RULE_document=50,vI.RULE_docElement=51,vI.RULE_command=52,vI.RULE_interpolation=53,vI.RULE_newline=54,vI.RULE_plaintext=55,vI.RULE_docArg=56,vI.RULE_recordArgField=57;class gI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_program}expression(){return this.getTypedRuleContext(CI,0)}EOF(){return this.getToken(vI.EOF,0)}definition=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(pI):this.getTypedRuleContext(pI,t)};accept(t){return t instanceof cI?t.visitProgram(this):t.visitChildren(this)}}class pI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_definition}interfaceDef(){return this.getTypedRuleContext(mI,0)}typeDef(){return this.getTypedRuleContext(RI,0)}termDef(){return this.getTypedRuleContext(OI,0)}accept(t){return t instanceof cI?t.visitDefinition(this):t.visitChildren(this)}}class mI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_interfaceDef}Interface(){return this.getToken(vI.Interface,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iN):this.getTypedRuleContext(iN,t)};recordType(){return this.getTypedRuleContext(bI,0)}Semicolon(){return this.getToken(vI.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Less):this.getToken(vI.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Greater):this.getToken(vI.Greater,t)};Extends(){return this.getToken(vI.Extends,0)}btype(){return this.getTypedRuleContext(xI,0)}accept(t){return t instanceof cI?t.visitInterfaceDef(this):t.visitChildren(this)}}class RI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_typeDef}Type(){return this.getToken(vI.Type,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iN):this.getTypedRuleContext(iN,t)};Assign(){return this.getToken(vI.Assign,0)}type(){return this.getTypedRuleContext(wI,0)}Semicolon(){return this.getToken(vI.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Less):this.getToken(vI.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Greater):this.getToken(vI.Greater,t)};accept(t){return t instanceof cI?t.visitTypeDef(this):t.visitChildren(this)}}class OI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_termDef}termNameDecl(){return this.getTypedRuleContext(oN,0)}Assign(){return this.getToken(vI.Assign,0)}expression(){return this.getTypedRuleContext(CI,0)}Semicolon(){return this.getToken(vI.Semicolon,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JI):this.getTypedRuleContext(JI,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}accept(t){return t instanceof cI?t.visitTermDef(this):t.visitChildren(this)}}class wI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_type}ForAll(){return this.getToken(vI.ForAll,0)}Dot(){return this.getToken(vI.Dot,0)}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(wI):this.getTypedRuleContext(wI,t)};typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JI):this.getTypedRuleContext(JI,t)};Mu(){return this.getToken(vI.Mu,0)}typeNameDecl(){return this.getTypedRuleContext(iN,0)}TraitType(){return this.getToken(vI.TraitType,0)}Less(){return this.getToken(vI.Less,0)}Greater(){return this.getToken(vI.Greater,0)}FatArrow(){return this.getToken(vI.FatArrow,0)}RefType(){return this.getToken(vI.RefType,0)}btype=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(xI):this.getTypedRuleContext(xI,t)};Intersect(){return this.getToken(vI.Intersect,0)}Backslash(){return this.getToken(vI.Backslash,0)}Arrow(){return this.getToken(vI.Arrow,0)}accept(t){return t instanceof cI?t.visitType(this):t.visitChildren(this)}}class xI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_btype}atype(){return this.getTypedRuleContext(yI,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Less):this.getToken(vI.Less,t)};sort=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(rN):this.getTypedRuleContext(rN,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Greater):this.getToken(vI.Greater,t)};accept(t){return t instanceof cI?t.visitBtype(this):t.visitChildren(this)}}class yI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_atype}Int(){return this.getToken(vI.Int,0)}Double(){return this.getToken(vI.Double,0)}Bool(){return this.getToken(vI.Bool,0)}String(){return this.getToken(vI.String,0)}Unit(){return this.getToken(vI.Unit,0)}Top(){return this.getToken(vI.Top,0)}Bot(){return this.getToken(vI.Bot,0)}typeName(){return this.getTypedRuleContext(sN,0)}recordType(){return this.getTypedRuleContext(bI,0)}BracketOpen(){return this.getToken(vI.BracketOpen,0)}type(){return this.getTypedRuleContext(wI,0)}BracketClose(){return this.getToken(vI.BracketClose,0)}ParenOpen(){return this.getToken(vI.ParenOpen,0)}ParenClose(){return this.getToken(vI.ParenClose,0)}accept(t){return t instanceof cI?t.visitAtype(this):t.visitChildren(this)}}class bI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_recordType}BraceOpen(){return this.getToken(vI.BraceOpen,0)}BraceClose(){return this.getToken(vI.BraceClose,0)}recordTypeField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(kI):this.getTypedRuleContext(kI,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Semicolon):this.getToken(vI.Semicolon,t)};accept(t){return t instanceof cI?t.visitRecordType(this):t.visitChildren(this)}}class kI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_recordTypeField}labelDecl(){return this.getTypedRuleContext(uN,0)}Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}Question(){return this.getToken(vI.Question,0)}accept(t){return t instanceof cI?t.visitRecordTypeField(this):t.visitChildren(this)}}class CI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_expression}opexpr(){return this.getTypedRuleContext(TI,0)}Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}accept(t){return t instanceof cI?t.visitExpression(this):t.visitChildren(this)}}class TI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_opexpr}lexpr(){return this.getTypedRuleContext(SI,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(TI):this.getTypedRuleContext(TI,t)};Minus(){return this.getToken(vI.Minus,0)}Length(){return this.getToken(vI.Length,0)}Sqrt(){return this.getToken(vI.Sqrt,0)}Deref(){return this.getToken(vI.Deref,0)}Index(){return this.getToken(vI.Index,0)}Asterisk(){return this.getToken(vI.Asterisk,0)}Slash(){return this.getToken(vI.Slash,0)}Modulo(){return this.getToken(vI.Modulo,0)}Plus(){return this.getToken(vI.Plus,0)}Append(){return this.getToken(vI.Append,0)}Less(){return this.getToken(vI.Less,0)}Greater(){return this.getToken(vI.Greater,0)}LessEqual(){return this.getToken(vI.LessEqual,0)}GreaterEqual(){return this.getToken(vI.GreaterEqual,0)}Equal(){return this.getToken(vI.Equal,0)}NotEqual(){return this.getToken(vI.NotEqual,0)}And(){return this.getToken(vI.And,0)}Or(){return this.getToken(vI.Or,0)}Forward(){return this.getToken(vI.Forward,0)}Merge(){return this.getToken(vI.Merge,0)}LeftistMerge(){return this.getToken(vI.LeftistMerge,0)}RightistMerge(){return this.getToken(vI.RightistMerge,0)}BackslashMinus(){return this.getToken(vI.BackslashMinus,0)}Walrus(){return this.getToken(vI.Walrus,0)}Seq(){return this.getToken(vI.Seq,0)}accept(t){return t instanceof cI?t.visitOpexpr(this):t.visitChildren(this)}}class SI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_lexpr}fexpr(){return this.getTypedRuleContext(UI,0)}lambda(){return this.getTypedRuleContext(AI,0)}bigLambda(){return this.getTypedRuleContext(PI,0)}letIn(){return this.getTypedRuleContext(_I,0)}letRec(){return this.getTypedRuleContext(EI,0)}openIn(){return this.getTypedRuleContext(LI,0)}ifElse(){return this.getTypedRuleContext(DI,0)}trait(){return this.getTypedRuleContext(QI,0)}newTrait(){return this.getTypedRuleContext(II,0)}fixpoint(){return this.getTypedRuleContext(NI,0)}toStr(){return this.getTypedRuleContext(MI,0)}fold(){return this.getTypedRuleContext($I,0)}unfold(){return this.getTypedRuleContext(FI,0)}ref(){return this.getTypedRuleContext(BI,0)}accept(t){return t instanceof cI?t.visitLexpr(this):t.visitChildren(this)}}class AI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_lambda}Backslash(){return this.getToken(vI.Backslash,0)}Arrow(){return this.getToken(vI.Arrow,0)}expression(){return this.getTypedRuleContext(CI,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitLambda(this):t.visitChildren(this)}}class PI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_bigLambda}SlashBackslash(){return this.getToken(vI.SlashBackslash,0)}Dot(){return this.getToken(vI.Dot,0)}expression(){return this.getTypedRuleContext(CI,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JI):this.getTypedRuleContext(JI,t)};accept(t){return t instanceof cI?t.visitBigLambda(this):t.visitChildren(this)}}class _I extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_letIn}Let(){return this.getToken(vI.Let,0)}termNameDecl(){return this.getTypedRuleContext(oN,0)}Assign(){return this.getToken(vI.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};In(){return this.getToken(vI.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JI):this.getTypedRuleContext(JI,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitLetIn(this):t.visitChildren(this)}}class EI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_letRec}LetRec(){return this.getToken(vI.LetRec,0)}termNameDecl(){return this.getTypedRuleContext(oN,0)}Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}Assign(){return this.getToken(vI.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};In(){return this.getToken(vI.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(JI):this.getTypedRuleContext(JI,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitLetRec(this):t.visitChildren(this)}}class LI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_openIn}Open(){return this.getToken(vI.Open,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};In(){return this.getToken(vI.In,0)}accept(t){return t instanceof cI?t.visitOpenIn(this):t.visitChildren(this)}}class DI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_ifElse}If(){return this.getToken(vI.If,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};Then(){return this.getToken(vI.Then,0)}Else(){return this.getToken(vI.Else,0)}accept(t){return t instanceof cI?t.visitIfElse(this):t.visitChildren(this)}}class QI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_trait}Trait(){return this.getToken(vI.Trait,0)}FatArrow(){return this.getToken(vI.FatArrow,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(TI):this.getTypedRuleContext(TI,t)};selfAnno(){return this.getTypedRuleContext(nN,0)}Implements(){return this.getToken(vI.Implements,0)}type(){return this.getTypedRuleContext(wI,0)}Inherits(){return this.getToken(vI.Inherits,0)}accept(t){return t instanceof cI?t.visitTrait(this):t.visitChildren(this)}}class II extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_newTrait}New(){return this.getToken(vI.New,0)}opexpr(){return this.getTypedRuleContext(TI,0)}accept(t){return t instanceof cI?t.visitNewTrait(this):t.visitChildren(this)}}class NI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_fixpoint}Fix(){return this.getToken(vI.Fix,0)}termNameDecl(){return this.getTypedRuleContext(oN,0)}Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}Dot(){return this.getToken(vI.Dot,0)}opexpr(){return this.getTypedRuleContext(TI,0)}accept(t){return t instanceof cI?t.visitFixpoint(this):t.visitChildren(this)}}class MI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_toStr}ToString(){return this.getToken(vI.ToString,0)}dotexpr(){return this.getTypedRuleContext(XI,0)}accept(t){return t instanceof cI?t.visitToStr(this):t.visitChildren(this)}}class $I extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_fold}Fold(){return this.getToken(vI.Fold,0)}typeArg(){return this.getTypedRuleContext(KI,0)}dotexpr(){return this.getTypedRuleContext(XI,0)}accept(t){return t instanceof cI?t.visitFold(this):t.visitChildren(this)}}class FI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_unfold}Unfold(){return this.getToken(vI.Unfold,0)}typeArg(){return this.getTypedRuleContext(KI,0)}dotexpr(){return this.getTypedRuleContext(XI,0)}accept(t){return t instanceof cI?t.visitUnfold(this):t.visitChildren(this)}}class BI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_ref}Ref(){return this.getToken(vI.Ref,0)}dotexpr(){return this.getTypedRuleContext(XI,0)}accept(t){return t instanceof cI?t.visitRef(this):t.visitChildren(this)}}class UI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_fexpr}ctorName(){return this.getTypedRuleContext(lN,0)}excludexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(HI):this.getTypedRuleContext(HI,t)};typeArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(KI):this.getTypedRuleContext(KI,t)};accept(t){return t instanceof cI?t.visitFexpr(this):t.visitChildren(this)}}class HI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_excludexpr}renamexpr(){return this.getTypedRuleContext(qI,0)}DoubleBackslashes(){return this.getToken(vI.DoubleBackslashes,0)}btype(){return this.getTypedRuleContext(xI,0)}Backslash(){return this.getToken(vI.Backslash,0)}label(){return this.getTypedRuleContext(cN,0)}accept(t){return t instanceof cI?t.visitExcludexpr(this):t.visitChildren(this)}}class qI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_renamexpr}dotexpr(){return this.getTypedRuleContext(XI,0)}BracketOpen(){return this.getToken(vI.BracketOpen,0)}label(){return this.getTypedRuleContext(cN,0)}LeftArrow(){return this.getToken(vI.LeftArrow,0)}labelDecl(){return this.getTypedRuleContext(uN,0)}BracketClose(){return this.getToken(vI.BracketClose,0)}accept(t){return t instanceof cI?t.visitRenamexpr(this):t.visitChildren(this)}}class XI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_dotexpr}aexpr(){return this.getTypedRuleContext(VI,0)}Dot=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Dot):this.getToken(vI.Dot,t)};label=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(cN):this.getTypedRuleContext(cN,t)};accept(t){return t instanceof cI?t.visitDotexpr(this):t.visitChildren(this)}}class VI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_aexpr}termName(){return this.getTypedRuleContext(aN,0)}IntLit(){return this.getToken(vI.IntLit,0)}StringLit(){return this.getToken(vI.StringLit,0)}document(){return this.getTypedRuleContext(hN,0)}Unit(){return this.getToken(vI.Unit,0)}True_(){return this.getToken(vI.True_,0)}False_(){return this.getToken(vI.False_,0)}Undefined_(){return this.getToken(vI.Undefined_,0)}array(){return this.getTypedRuleContext(zI,0)}record(){return this.getTypedRuleContext(WI,0)}recordUpdate(){return this.getTypedRuleContext(ZI,0)}Dollar(){return this.getToken(vI.Dollar,0)}ctorName(){return this.getTypedRuleContext(lN,0)}ParenOpen(){return this.getToken(vI.ParenOpen,0)}expression(){return this.getTypedRuleContext(CI,0)}ParenClose(){return this.getToken(vI.ParenClose,0)}accept(t){return t instanceof cI?t.visitAexpr(this):t.visitChildren(this)}}class zI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_array}BracketOpen(){return this.getToken(vI.BracketOpen,0)}BracketClose(){return this.getToken(vI.BracketClose,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Semicolon):this.getToken(vI.Semicolon,t)};accept(t){return t instanceof cI?t.visitArray(this):t.visitChildren(this)}}class WI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_record}BraceOpen(){return this.getToken(vI.BraceOpen,0)}BraceClose(){return this.getToken(vI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Semicolon):this.getToken(vI.Semicolon,t)};recordField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(jI):this.getTypedRuleContext(jI,t)};methodPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(GI):this.getTypedRuleContext(GI,t)};defaultPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(YI):this.getTypedRuleContext(YI,t)};accept(t){return t instanceof cI?t.visitRecord(this):t.visitChildren(this)}}class jI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_recordField}labelDecl(){return this.getTypedRuleContext(uN,0)}Assign(){return this.getToken(vI.Assign,0)}expression(){return this.getTypedRuleContext(CI,0)}Override(){return this.getToken(vI.Override,0)}selfAnno(){return this.getTypedRuleContext(nN,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitRecordField(this):t.visitChildren(this)}}class GI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_methodPattern}ParenOpen(){return this.getToken(vI.ParenOpen,0)}labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};ParenClose(){return this.getToken(vI.ParenClose,0)}Dot(){return this.getToken(vI.Dot,0)}Assign(){return this.getToken(vI.Assign,0)}expression(){return this.getTypedRuleContext(CI,0)}Override(){return this.getToken(vI.Override,0)}selfAnno(){return this.getTypedRuleContext(nN,0)}At(){return this.getToken(vI.At,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitMethodPattern(this):t.visitChildren(this)}}class YI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_defaultPattern}Dot(){return this.getToken(vI.Dot,0)}labelDecl(){return this.getTypedRuleContext(uN,0)}Assign(){return this.getToken(vI.Assign,0)}expression(){return this.getTypedRuleContext(CI,0)}Underscore(){return this.getToken(vI.Underscore,0)}selfAnno(){return this.getTypedRuleContext(nN,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitDefaultPattern(this):t.visitChildren(this)}}class ZI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_recordUpdate}BraceOpen(){return this.getToken(vI.BraceOpen,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};With(){return this.getToken(vI.With,0)}BraceClose(){return this.getToken(vI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Semicolon):this.getToken(vI.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Assign):this.getToken(vI.Assign,t)};accept(t){return t instanceof cI?t.visitRecordUpdate(this):t.visitChildren(this)}}class KI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_typeArg}At(){return this.getToken(vI.At,0)}btype(){return this.getTypedRuleContext(xI,0)}accept(t){return t instanceof cI?t.visitTypeArg(this):t.visitChildren(this)}}class JI extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_typeParam}typeNameDecl(){return this.getTypedRuleContext(iN,0)}ParenOpen(){return this.getToken(vI.ParenOpen,0)}Asterisk(){return this.getToken(vI.Asterisk,0)}type(){return this.getTypedRuleContext(wI,0)}ParenClose(){return this.getToken(vI.ParenClose,0)}accept(t){return t instanceof cI?t.visitTypeParam(this):t.visitChildren(this)}}class tN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_termParam}termNameDecl(){return this.getTypedRuleContext(oN,0)}Underscore(){return this.getToken(vI.Underscore,0)}ParenOpen(){return this.getToken(vI.ParenOpen,0)}Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}ParenClose(){return this.getToken(vI.ParenClose,0)}wildcard(){return this.getTypedRuleContext(eN,0)}accept(t){return t instanceof cI?t.visitTermParam(this):t.visitChildren(this)}}class eN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_wildcard}BraceOpen(){return this.getToken(vI.BraceOpen,0)}DotDot(){return this.getToken(vI.DotDot,0)}BraceClose(){return this.getToken(vI.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Semicolon):this.getToken(vI.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uN):this.getTypedRuleContext(uN,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Assign):this.getToken(vI.Assign,t)};expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(CI):this.getTypedRuleContext(CI,t)};accept(t){return t instanceof cI?t.visitWildcard(this):t.visitChildren(this)}}class nN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_selfAnno}BracketOpen(){return this.getToken(vI.BracketOpen,0)}termNameDecl(){return this.getTypedRuleContext(oN,0)}BracketClose(){return this.getToken(vI.BracketClose,0)}Colon(){return this.getToken(vI.Colon,0)}type(){return this.getTypedRuleContext(wI,0)}accept(t){return t instanceof cI?t.visitSelfAnno(this):t.visitChildren(this)}}class rN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_sort}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(wI):this.getTypedRuleContext(wI,t)};FatArrow(){return this.getToken(vI.FatArrow,0)}accept(t){return t instanceof cI?t.visitSort(this):t.visitChildren(this)}}class iN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_typeNameDecl}UpperId(){return this.getToken(vI.UpperId,0)}accept(t){return t instanceof cI?t.visitTypeNameDecl(this):t.visitChildren(this)}}class sN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_typeName}UpperId(){return this.getToken(vI.UpperId,0)}accept(t){return t instanceof cI?t.visitTypeName(this):t.visitChildren(this)}}class oN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_termNameDecl}LowerId(){return this.getToken(vI.LowerId,0)}accept(t){return t instanceof cI?t.visitTermNameDecl(this):t.visitChildren(this)}}class lN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_ctorName}UpperId(){return this.getToken(vI.UpperId,0)}accept(t){return t instanceof cI?t.visitCtorName(this):t.visitChildren(this)}}class aN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_termName}LowerId(){return this.getToken(vI.LowerId,0)}UpperId(){return this.getToken(vI.UpperId,0)}accept(t){return t instanceof cI?t.visitTermName(this):t.visitChildren(this)}}class uN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_labelDecl}LowerId(){return this.getToken(vI.LowerId,0)}UpperId(){return this.getToken(vI.UpperId,0)}accept(t){return t instanceof cI?t.visitLabelDecl(this):t.visitChildren(this)}}class cN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_label}LowerId(){return this.getToken(vI.LowerId,0)}UpperId(){return this.getToken(vI.UpperId,0)}accept(t){return t instanceof cI?t.visitLabel(this):t.visitChildren(this)}}class hN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_document}BacktickOpen(){return this.getToken(vI.BacktickOpen,0)}BacktickClose(){return this.getToken(vI.BacktickClose,0)}BacktickCloseAfterCmd(){return this.getToken(vI.BacktickCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(fN):this.getTypedRuleContext(fN,t)};accept(t){return t instanceof cI?t.visitDocument(this):t.visitChildren(this)}}class fN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_docElement}command(){return this.getTypedRuleContext(dN,0)}interpolation(){return this.getTypedRuleContext(vN,0)}newline(){return this.getTypedRuleContext(gN,0)}plaintext(){return this.getTypedRuleContext(pN,0)}accept(t){return t instanceof cI?t.visitDocElement(this):t.visitChildren(this)}}class dN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_command}Command(){return this.getToken(vI.Command,0)}CommandAfterCmd(){return this.getToken(vI.CommandAfterCmd,0)}docArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(mN):this.getTypedRuleContext(mN,t)};accept(t){return t instanceof cI?t.visitCommand(this):t.visitChildren(this)}}class vN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_interpolation}expression(){return this.getTypedRuleContext(CI,0)}ParenClose(){return this.getToken(vI.ParenClose,0)}Interpolation(){return this.getToken(vI.Interpolation,0)}InterpolationAfterCmd(){return this.getToken(vI.InterpolationAfterCmd,0)}accept(t){return t instanceof cI?t.visitInterpolation(this):t.visitChildren(this)}}class gN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_newline}NewLine(){return this.getToken(vI.NewLine,0)}NewLineAfterCmd(){return this.getToken(vI.NewLineAfterCmd,0)}accept(t){return t instanceof cI?t.visitNewline(this):t.visitChildren(this)}}class pN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_plaintext}PlainText(){return this.getToken(vI.PlainText,0)}PlainTextAfterCmd(){return this.getToken(vI.PlainTextAfterCmd,0)}accept(t){return t instanceof cI?t.visitPlaintext(this):t.visitChildren(this)}}class mN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_docArg}BracketOpenAsArg(){return this.getToken(vI.BracketOpenAsArg,0)}BracketCloseInDoc(){return this.getToken(vI.BracketCloseInDoc,0)}BracketCloseAfterCmd(){return this.getToken(vI.BracketCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(fN):this.getTypedRuleContext(fN,t)};ParenOpenAsArg(){return this.getToken(vI.ParenOpenAsArg,0)}expression(){return this.getTypedRuleContext(CI,0)}ParenClose(){return this.getToken(vI.ParenClose,0)}BraceOpenAsArg(){return this.getToken(vI.BraceOpenAsArg,0)}BraceClose(){return this.getToken(vI.BraceClose,0)}recordArgField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(RN):this.getTypedRuleContext(RN,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(vI.Semicolon):this.getToken(vI.Semicolon,t)};accept(t){return t instanceof cI?t.visitDocArg(this):t.visitChildren(this)}}class RN extends oI.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=vI.RULE_recordArgField}labelDecl(){return this.getTypedRuleContext(uN,0)}Assign(){return this.getToken(vI.Assign,0)}expression(){return this.getTypedRuleContext(CI,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(tN):this.getTypedRuleContext(tN,t)};accept(t){return t instanceof cI?t.visitRecordArgField(this):t.visitChildren(this)}}vI.ProgramContext=gI,vI.DefinitionContext=pI,vI.InterfaceDefContext=mI,vI.TypeDefContext=RI,vI.TermDefContext=OI,vI.TypeContext=wI,vI.BtypeContext=xI,vI.AtypeContext=yI,vI.RecordTypeContext=bI,vI.RecordTypeFieldContext=kI,vI.ExpressionContext=CI,vI.OpexprContext=TI,vI.LexprContext=SI,vI.LambdaContext=AI,vI.BigLambdaContext=PI,vI.LetInContext=_I,vI.LetRecContext=EI,vI.OpenInContext=LI,vI.IfElseContext=DI,vI.TraitContext=QI,vI.NewTraitContext=II,vI.FixpointContext=NI,vI.ToStrContext=MI,vI.FoldContext=$I,vI.UnfoldContext=FI,vI.RefContext=BI,vI.FexprContext=UI,vI.ExcludexprContext=HI,vI.RenamexprContext=qI,vI.DotexprContext=XI,vI.AexprContext=VI,vI.ArrayContext=zI,vI.RecordContext=WI,vI.RecordFieldContext=jI,vI.MethodPatternContext=GI,vI.DefaultPatternContext=YI,vI.RecordUpdateContext=ZI,vI.TypeArgContext=KI,vI.TypeParamContext=JI,vI.TermParamContext=tN,vI.WildcardContext=eN,vI.SelfAnnoContext=nN,vI.SortContext=rN,vI.TypeNameDeclContext=iN,vI.TypeNameContext=sN,vI.TermNameDeclContext=oN,vI.CtorNameContext=lN,vI.TermNameContext=aN,vI.LabelDeclContext=uN,vI.LabelContext=cN,vI.DocumentContext=hN,vI.DocElementContext=fN,vI.CommandContext=dN,vI.InterpolationContext=vN,vI.NewlineContext=gN,vI.PlaintextContext=pN,vI.DocArgContext=mN,vI.RecordArgFieldContext=RN;class ON extends cI{listify(t){let e=lR.value;for(const n of t.reverse())e=new aR(n,e);return e}visitProgram(t){const e=this.listify(t.definition().map(this.visitDefinition,this)),n=this.visitExpression(t.expression());return new NA(e,n)}visitDefinition(t){const e=t.typeDef(),n=t.termDef(),r=t.interfaceDef();return e?this.visitTypeDef(e):n?this.visitTermDef(n):this.visitInterfaceDef(r)}visitInterfaceDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=t.Extends()?new $S(this.visitBtype(t.btype())):MS.value,l=this.visitRecordType(t.recordType());return new QA(o,n,i,s,l)}visitTypeDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=this.visitType(t.type());return new QA(NS.value,n,i,s,o)}visitTermDef(t){const e=this.visitTermNameDecl(t.termNameDecl()),n=this.listify(t.typeParam().map(this.visitTypeParam,this)),r=this.listify(t.termParam().map(this.visitTermParam,this)),i=t.type()?new vg(this.visitType(t.type())):dg.value,s=this.visitExpression(t.expression());return new IA(e,n,r,i,s)}visitType(t){if(t.Intersect())return new bS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Arrow())return new yS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Backslash())return new IS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Mu())return new SS(this.visitTypeNameDecl(t.typeNameDecl()),this.visitType(t.type(0)));if(t.ForAll())return new TS(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitType(t.type(0)));if(t.TraitType()){let e,n;return t.FatArrow()?(e=new vg(this.visitType(t.type(0))),n=this.visitType(t.type(1))):(e=dg.value,n=this.visitType(t.type(0))),new ES(e,n)}if(t.RefType())return new AS(this.visitBtype(t.btype(0)));{let e=this.visitBtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++)e=new PS(e,this.visitBtype(t.getChild(n)));return e}}visitBtype(t){let e=this.visitAtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++){const r=t.getChild(n);r.ruleIndex===vI.RULE_sort&&(e=new PS(e,this.visitSort(r)))}return e}visitAtype(t){if(t.getChild(0).symbol)switch(t.getChild(0).symbol.type){case vI.Int:return gS.value;case vI.Double:return pS.value;case vI.Bool:return RS.value;case vI.String:return mS.value;case vI.Unit:return OS.value;case vI.Top:return wS.value;case vI.Bot:return xS.value;case vI.BracketOpen:return new QS(this.visitType(t.type()));case vI.ParenOpen:return this.visitType(t.type());default:console.error("Error at Atype")}else switch(t.getChild(0).ruleIndex){case vI.RULE_typeName:return this.visitTypeName(t.typeName());case vI.RULE_recordType:return this.visitRecordType(t.recordType());default:console.error("Error at Atype")}}visitRecordType(t){return new kS(this.listify(t.recordTypeField().map(this.visitRecordTypeField,this)))}visitRecordTypeField(t){return new vS(this.visitLabelDecl(t.labelDecl()),this.visitType(t.type()),null!==t.Question())}visitExpression(t){const e={line:t.start.line,column:t.start.column},n=this.visitOpexpr(t.opexpr());let r;return r=t.Colon()?new eA(n,this.visitType(t.type())):n,new AA(e,r)}visitOpexpr(t){let e;switch(t.getChildCount()){case 1:return this.visitLexpr(t.lexpr());case 2:switch(t.getChild(0).symbol.type){case vI.Minus:e=fO.value;break;case vI.Length:e=dO.value;break;case vI.Sqrt:e=vO.value;break;case vI.Deref:return new yA(this.visitOpexpr(t.opexpr(0)));default:console.error("Error at Unary Opexpr")}return new jS(e,this.visitOpexpr(t.opexpr(0)));default:const n=this.visitOpexpr(t.opexpr(0)),r=this.visitOpexpr(t.opexpr(1));switch(t.getChild(1).symbol.type){case vI.Index:e=LO.value;break;case vI.Asterisk:e=new AO(CO.value);break;case vI.Slash:e=new AO(TO.value);break;case vI.Modulo:e=new AO(SO.value);break;case vI.Plus:e=new AO(bO.value);break;case vI.Minus:e=new AO(kO.value);break;case vI.Append:e=EO.value;break;case vI.Less:e=new PO(OO.value);break;case vI.Greater:e=new PO(xO.value);break;case vI.LessEqual:e=new PO(wO.value);break;case vI.GreaterEqual:e=new PO(yO.value);break;case vI.Equal:e=new PO(mO.value);break;case vI.NotEqual:e=new PO(RO.value);break;case vI.And:e=new _O(gO.value);break;case vI.Or:e=new _O(pO.value);break;case vI.Forward:return new vA(n,r);case vI.Merge:return new nA(FS.value,n,r);case vI.LeftistMerge:return new nA(BS.value,n,r);case vI.RightistMerge:return new nA(US.value,n,r);case vI.BackslashMinus:return new mA(n,r);case vI.Walrus:return new bA(n,r);case vI.Seq:return new kA(n,r);default:console.error("Error at Binary Opexpr")}return new GS(e,n,r)}}visitLexpr(t){switch(t.getChild(0).ruleIndex){case vI.RULE_fexpr:return this.visitFexpr(t.fexpr());case vI.RULE_lambda:return this.visitLambda(t.lambda());case vI.RULE_bigLambda:return this.visitBigLambda(t.bigLambda());case vI.RULE_letIn:return this.visitLetIn(t.letIn());case vI.RULE_letRec:return this.visitLetRec(t.letRec());case vI.RULE_openIn:return this.visitOpenIn(t.openIn());case vI.RULE_ifElse:return this.visitIfElse(t.ifElse());case vI.RULE_trait:return this.visitTrait(t.trait());case vI.RULE_newTrait:return this.visitNewTrait(t.newTrait());case vI.RULE_fixpoint:return this.visitFixpoint(t.fixpoint());case vI.RULE_toStr:return this.visitToStr(t.toStr());case vI.RULE_fold:return this.visitFold(t.fold());case vI.RULE_unfold:return this.visitUnfold(t.unfold());case vI.RULE_ref:return this.visitRef(t.ref());default:console.error("Error at Lexpr")}}visitLambda(t){return new JS(this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression()))}visitBigLambda(t){return new lA(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitExpression(t.expression()))}visitLetIn(t){return new aA(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitLetRec(t){return new uA(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitType(t.type()),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitOpenIn(t){return new cA(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitIfElse(t){return new YS(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)),this.visitExpression(t.expression(2)))}visitTrait(t){return new fA(t.selfAnno()?new vg(this.visitSelfAnno(t.selfAnno())):dg.value,t.type()?new vg(this.visitType(t.type())):dg.value,2===t.opexpr().length?new vg(this.visitOpexpr(t.opexpr(0))):dg.value,2===t.opexpr().length?this.visitOpexpr(t.opexpr(1)):this.visitOpexpr(t.opexpr(0)))}visitNewTrait(t){return new dA(this.visitOpexpr(t.opexpr()))}visitFixpoint(t){return new tA(this.visitTermNameDecl(t.termNameDecl()),this.visitOpexpr(t.opexpr()),this.visitType(t.type()))}visitToStr(t){return new CA(this.visitDotexpr(t.dotexpr()))}visitFold(t){return new OA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitUnfold(t){return new wA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitRef(t){return new xA(this.visitDotexpr(t.dotexpr()))}visitFexpr(t){const e=t.getChild(0);let n,r;switch(e.ruleIndex){case vI.RULE_ctorName:n=new ZS(this.visitCtorName(e)),r=!0;break;case vI.RULE_excludexpr:n=this.visitExcludexpr(e),r=!1;break;default:console.error("Error at Fexpr")}for(let e=1;e<t.getChildCount();e++){const r=t.getChild(e);n=r.ruleIndex===vI.RULE_excludexpr?new KS(n,this.visitExcludexpr(r)):new oA(n,this.visitTypeArg(r))}return r?new dA(n):n}visitExcludexpr(t){const e=this.visitRenamexpr(t.renamexpr());return t.DoubleBackslashes()?new gA(e,this.visitBtype(t.btype())):t.Backslash()?new pA(e,this.visitLabel(t.label())):e}visitRenamexpr(t){const e=this.visitDotexpr(t.dotexpr());return t.label()?new RA(e,this.visitLabel(t.label()),this.visitLabelDecl(t.labelDecl())):e}visitDotexpr(t){let e=this.visitAexpr(t.aexpr());for(let n=0;n<t.label().length;n++)e=new iA(e,this.visitLabel(t.label(n)));return e}visitAexpr(t){let e=t.getChild(0);switch(e.ruleIndex){case vI.RULE_termName:return this.visitTermName(t.termName());case vI.RULE_document:return this.visitDocument(t.document());case vI.RULE_array:return this.visitArray(t.array());case vI.RULE_record:return this.visitRecord(t.record());case vI.RULE_recordUpdate:return this.visitRecordUpdate(t.recordUpdate());default:switch(e.symbol.type){case vI.IntLit:let n=e.getText();return n.includes(".")||n.includes("e")||n.includes("E")?new qS(parseFloat(n)):"Xx".includes(n[1])?new HS(parseInt(n.slice(2),16)):"Oo".includes(n[1])?new HS(parseInt(n.slice(2),8)):new HS(parseInt(n));case vI.StringLit:const r="'\"\\bfnrtv",i="'\"\\\b\f\n\r\t\v",s=e.getText().slice(1,-1);let o="";for(let t=0;t<s.length;t++)if("\\"==s[t]){t++;for(let e=0;e<r.length;e++)s[t]===r[e]&&(o+=i[e])}else o+=s[t];return new XS(o);case vI.Unit:return zS.value;case vI.True_:return new VS(!0);case vI.False_:return new VS(!1);case vI.Undefined_:return WS.value;case vI.Dollar:return new ZS(this.visitCtorName(t.ctorName()));case vI.ParenOpen:return this.visitExpression(t.expression());default:console.error("error at Aexpr")}}}visitArray(t){return new TA(t.expression().map(this.visitExpression,this))}visitRecord(t){const e=[];for(let n=0;n<t.getChildCount();n++){let r=t.getChild(n);switch(r.ruleIndex){case vI.RULE_recordField:e.push(this.visitRecordField(r));break;case vI.RULE_methodPattern:e.push(this.visitMethodPattern(r));break;case vI.RULE_defaultPattern:e.push(this.visitDefaultPattern(r));break;default:continue}}return new rA(this.listify(e))}visitRecordField(t){return new EA(null!==t.Override(),this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),new Tg(this.visitExpression(t.expression())))}visitRecordUpdate(t){const e=[];for(let n=0;n<t.labelDecl().length;n++)e.push(new ip(this.visitLabelDecl(t.labelDecl(n)),this.visitExpression(t.expression(n+1))));return new hA(this.visitExpression(t.expression(0)),this.listify(e))}visitMethodPattern(t){let e=[],n=[],r=!1;for(let i=0;i<t.getChildCount();i++)t.getChild(i).symbol&&t.getChild(i).symbol.type===vI.Dot&&(r=!0),t.getChild(i).ruleIndex===vI.RULE_termParam&&(r?n.push(this.visitTermParam(t.getChild(i))):e.push(this.visitTermParam(t.getChild(i))));return new EA(null!==t.Override(),this.visitLabelDecl(t.labelDecl(0)),this.listify(e),new Sg(new DA(t.selfAnno()?new vg(this.visitSelfAnno(t.selfAnno())):dg.value,this.visitLabelDecl(t.labelDecl(1)),this.listify(n),this.visitExpression(t.expression()))))}visitDefaultPattern(t){return new LA(new DA(t.selfAnno()?new vg(this.visitSelfAnno(t.selfAnno())):dg.value,this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression())))}visitTypeArg(t){return this.visitBtype(t.btype())}visitTypeParam(t){return new ip(this.visitTypeNameDecl(t.typeNameDecl()),t.type()?new vg(this.visitType(t.type())):dg.value)}visitTermParam(t){switch(t.getChildCount()){case 1:switch(t.getChild(0).ruleIndex){case vI.RULE_termNameDecl:return new PA(this.visitTermNameDecl(t.termNameDecl()),dg.value);case vI.RULE_Underscore:return new PA("_",dg.value);case vI.RULE_wildcard:return this.visitWildcard(t.wildcard());default:console.error("Error at TermParam")}case 5:return new PA(null===t.termNameDecl()?"_":this.visitTermNameDecl(t.termNameDecl()),new vg(this.visitType(t.type())));default:console.error("Error at TermParam")}}visitWildcard(t){const e=t.labelDecl().map(this.visitLabelDecl,this),n=t.expression().map(this.visitExpression,this),r=[];for(let t=0;t<e.length;t++)r.push(new ip(e[t],n[t]));return new _A(this.listify(r))}visitSelfAnno(t){return new ip(this.visitTermNameDecl(t.termNameDecl()),t.type()?new vg(this.visitType(t.type())):dg.value)}visitSort(t){let e,n;return t.FatArrow()?(e=this.visitType(t.type(0)),n=new vg(this.visitType(t.type(1)))):(e=this.visitType(t.type(0)),n=dg.value),new LS(e,n)}visitTypeNameDecl(t){return t.getText()}visitTypeName(t){return new CS(t.getText())}visitTermNameDecl(t){return t.getText()}visitCtorName(t){return t.getText()}visitTermName(t){switch(t.getChild(0).symbol.type){case vI.LowerId:return new ZS(t.getText());case vI.UpperId:return new dA(new ZS(t.getText()));default:console.error("Error at TermName")}}visitLabelDecl(t){return t.getText()}visitLabel(t){return t.getText()}visitDocument(t){const e={line:t.start.line,column:t.start.column},n=t.docElement();let r;if(0===n.length)r=new dA(new KS(new ZS("Str"),new XS("")));else{r=this.visitDocElement(n[0]);for(let t of n.slice(1))r=new dA(new KS(new KS(new ZS("Comp"),r),this.visitDocElement(t)))}return new AA(e,new SA(r))}visitDocElement(t){const e=t.getChild(0);switch(e.ruleIndex){case vI.RULE_command:return this.visitCommand(e);case vI.RULE_interpolation:return this.visitInterpolation(e);case vI.RULE_newline:return this.visitNewline(e);case vI.RULE_plaintext:return this.visitPlaintext(e);default:console.error("Error at DocElement")}}visitCommand(t){const e={line:t.start.line,column:t.start.column},n=t.getChild(0).getText().slice(1),r=t.docArg().map(this.visitDocArg,this);let i=new ZS(n);for(const t of r)i=new KS(i,t);return n[0].toUpperCase()===n[0]?new AA(e,new dA(i)):new AA(e,i)}visitInterpolation(t){return new dA(new KS(new ZS("Str"),new CA(this.visitExpression(t.expression()))))}visitNewline(t){return new dA(new ZS("Endl"))}visitPlaintext(t){return new dA(new KS(new ZS("Str"),new XS(t.getText())))}visitDocArg(t){switch(t.getChild(0).symbol.type){case vI.BracketOpenAsArg:return this.visitDocument(t);case vI.ParenOpenAsArg:return this.visitExpression(t.expression());case vI.BraceOpenAsArg:return new rA(this.listify(t.recordArgField().map(this.visitRecordArgField,this)));default:console.error("Error at DocArg")}}visitRecordArgField(t){const e=this.listify(t.termParam().map(this.visitTermParam,this));return new EA(!1,this.visitLabelDecl(t.labelDecl()),e,new Tg(this.visitExpression(t.expression())))}}class wN extends uI{constructor(t){super(t)}popMode(){return 0===this._modeStack.length?(this._interp.debug&&console.log("Mode stack is empty. Mode remains unchanged."),this._mode):(this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode)}}class xN extends oI.error.ErrorListener{constructor(){super()}syntaxError(t,e,n,r,i,s){throw"SyntaxError at line "+n+":"+r+"\n"+i.charAt(0).toUpperCase()+i.slice(1)}}const yN=new class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}(zl.define({parser:Jd.configure({props:[ua.add({RecordType:pa(),Record:pa()}),Ra.add({RecordType:t=>({from:t.from+1,to:t.to-1}),Record:t=>({from:t.from+1,to:t.to-1}),Document:t=>({from:t.from+1,to:t.to-1})}),Rl({"type interface extends let letrec trait implements inherits":Fl.definitionKeyword,"if then else new fix open in with toString fold unfold ref forall mu Int Double Bool String Top Bot Trait Ref":Fl.keyword,override:Fl.modifier,"true false undefined":Fl.atom,Unit:Fl.unit,TermName:Fl.variableName,TermNameDecl:Fl.definition(Fl.variableName),Label:Fl.propertyName,LabelDecl:Fl.definition(Fl.propertyName),LineComment:Fl.lineComment,BlockComment:Fl.blockComment,Number:Fl.number,String:Fl.string,Document:Fl.docString,TypeOp:Fl.typeOperator,ArithOp:Fl.arithmeticOperator,LogicOp:Fl.logicOperator,CompareOp:Fl.compareOperator,MergeOp:Fl.operator,TraitArrow:Fl.definition(Fl.punctuation),"( )":Fl.paren,"{ }":Fl.brace,"[ ]":Fl.squareBracket,"< >":Fl.angleBracket,".":Fl.derefOperator,";":Fl.separator})]}),languageData:{closeBrackets:{brackets:["{","(","[",'"',"`"]},commentTokens:{line:"--",block:{open:"{-",close:"-}"}}}})),bN=new J;function kN(t,e){const n={key:"Mod-Enter",run:()=>(e(),!0)};return Tt.create({doc:t,extensions:[zi.lineWrapping,Tt.tabSize.of(2),ts.of([jc,n]),bN.of([]),Sd]})}function CN(t,e){return new zi({state:t,parent:e})}function TN(t){return eI(function(t){const e=new oI.InputStream(t),n=new wN(e);n.removeErrorListeners(),n.addErrorListener(new xN);const r=new oI.CommonTokenStream(n),i=new vI(r);return i.buildParseTrees=!0,i.removeErrorListeners(),i.addErrorListener(new xN),i.program().accept(new ON)}(t))()}bundle=e})();