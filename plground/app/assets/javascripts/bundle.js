var bundle;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{cp:()=>EF,editorState:()=>DF,editorView:()=>QF,interpret:()=>IF,language:()=>LF});class n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=h(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),i.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=h(this,t,e);let n=[];return this.decompose(t,e,n,0),i.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new l(this),i=new l(t);for(let t=e,s=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(t=1){return new l(this,t)}iterRange(t,e=this.length){return new a(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):i.from(r.split(t,[])):n.empty}}class r extends n{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.text[i],o=r+s.length;if((e?n:o)>=t)return new c(r,o,n,s);r=o+1,n++}}decompose(t,e,n,i){let l=t<=0&&e>=this.length?this:new r(o(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=s(l.text,t.text.slice(),0,l.length);if(e.length<=32)n.push(new r(e,t.length+l.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(l)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);[t,e]=h(this,t,e);let l=s(this.text,s(n.text,o(this.text,0,t)),e),a=this.length+n.length-(e-t);return l.length<=32?new r(l,a):i.from(r.split(l,[]),a)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<=e&&s<this.text.length;s++){let o=this.text[s],l=i+o.length;i>t&&s&&(r+=n),t<l&&e>i&&(r+=o.slice(Math.max(0,t-i),e-i)),i=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let s of t)n.push(s),i+=s.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class i extends n{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let s=this.children[i],o=r+s.length,l=n+s.lines-1;if((e?l:o)>=t)return s.lineInner(t,e,n,r);r=o+1,n=l+1}}decompose(t,e,n,r){for(let i=0,s=0;s<=e&&i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(t<=l&&e>=s){let i=r&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!i?n.push(o):o.decompose(t-s,e-s,n,i)}s=l+1}}replace(t,e,n){if([t,e]=h(this,t,e),n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(t>=s&&e<=l){let a=o.replace(t-s,e-s,n),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let s=this.children.slice();return s[r]=a,new i(s,this.length-(e-t)+n.length)}return super.replace(s,l,a)}s=l+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=h(this,t,e);let r="";for(let i=0,s=0;i<this.children.length&&s<=e;i++){let o=this.children[i],l=s+o.length;s>t&&i&&(r+=n),t<l&&e>s&&(r+=o.sliceString(t-s,e-s,n)),s=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof i))return 0;let n=0,[r,s,o,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,s+=e){if(r==o||s==l)return n;let i=this.children[r],a=t.children[s];if(i!=a)return n+i.scanIdentical(a,e);n+=i.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let s=Math.max(32,n>>5),o=s<<1,l=s>>1,a=[],u=0,c=-1,h=[];function f(t){let e;if(t.lines>o&&t instanceof i)for(let e of t.children)f(e);else t.lines>l&&(u>l||!u)?(d(),a.push(t)):t instanceof r&&u&&(e=h[h.length-1])instanceof r&&t.lines+e.lines<=32?(u+=t.lines,c+=t.length+1,h[h.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(u+t.lines>s&&d(),u+=t.lines,c+=t.length+1,h.push(t))}function d(){0!=u&&(a.push(1==h.length?h[0]:i.from(h,c)),c=-1,u=h.length=0)}for(let e of t)f(e);return d(),1==a.length?a[0]:new i(a,e)}}function s(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let l=t[s],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function o(t,e,n){return s(t,[""],e,n)}n.empty=new r([""],0);class l{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof r?i.text.length:i.children.length;if(o==(e>0?l:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=i.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class a{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new l(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=a.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class c{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function h(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}let f="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<f.length;t++)f[t]+=f[t-1];function d(t){for(let e=1;e<f.length;e+=2)if(f[e]>t)return f[e-1]<=t;return!1}function v(t){return t>=127462&&t<=127487}function g(t,e,n=!0,r=!0){return(n?p:m)(t,e,r)}function p(t,e,n){if(e==t.length)return e;e&&R(t.charCodeAt(e))&&w(t.charCodeAt(e-1))&&e--;let r=O(t,e);for(e+=y(r);e<t.length;){let i=O(t,e);if(8205==r||8205==i||n&&d(i))e+=y(i),r=i;else{if(!v(i))break;{let n=0,r=e-2;for(;r>=0&&v(O(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function m(t,e,n){for(;e>0;){let r=p(t,e-2,n);if(r<e)return r;e--}return 0}function R(t){return t>=56320&&t<57344}function w(t){return t>=55296&&t<56320}function O(t,e){let n=t.charCodeAt(e);if(!w(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return R(r)?r-56320+(n-55296<<10)+65536:n}function x(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function y(t){return t<65536?1:2}const b=/\r\n?|\n/;var k=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(k||(k={}));class C{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],s=this.sections[e++];s<0?(t(n,r,i),r+=i):r+=s,n+=i}}iterChangedRanges(t,e=!1){P(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new C(t)}composeDesc(t){return this.empty?t:t.empty?this:E(this,t)}mapDesc(t,e=!1){return t.empty?this:_(this,t,e)}mapPos(t,e=-1,n=k.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],a=r+o;if(l<0){if(a>t)return i+(t-r);i+=o}else{if(n!=k.Simple&&a>=t&&(n==k.TrackDel&&r<t&&a>t||n==k.TrackBefore&&r<t||n==k.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!o)return t==r||e<0?i:i+l;i+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new C(t)}static create(t){return new C(t)}}class T extends C{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return P(this,((e,n,r,i,s)=>t=t.replace(r,r+(n-e),s)),!1),t}mapDesc(t,e=!1){return _(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,s=0;i<e.length;i+=2){let o=e[i],l=e[i+1];if(l>=0){e[i]=l,e[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(n.empty);r.push(o?t.slice(s,s+o):n.empty)}s+=o}return new T(e,r)}compose(t){return this.empty?t:t.empty?this:E(this,t,!0)}map(t,e=!1){return t.empty?this:_(this,t,e,!0)}iterChanges(t,e=!1){P(this,t,e)}get desc(){return C.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new L(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,l-o);S(r,t,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;S(e,t,s),s>0&&A(n,e,i.text),i.forward(t),o+=t}let a=t[s++];for(;o<a;){if(i.done)break t;let t=Math.min(i.len,a-o);S(e,t,-1),S(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),o+=t}}return{changes:new T(e,n),filtered:C.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],s=[],o=0,l=null;function a(t=!1){if(!t&&!i.length)return;o<e&&S(i,e-o,-1);let n=new T(i,s);l=l?l.compose(n.map(l)):n,i=[],s=[],o=0}return function t(u){if(Array.isArray(u))for(let e of u)t(e);else if(u instanceof T){if(u.length!=e)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${e})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:t,to:l=t,insert:c}=u;if(t>l||t<0||l>e)throw new RangeError(`Invalid change range ${t} to ${l} (in doc of length ${e})`);let h=c?"string"==typeof c?n.of(c.split(r||b)):c:n.empty,f=h.length;if(t==l&&0==f)return;t<o&&a(),t>o&&S(i,t-o,-1),S(i,l-t,f),A(s,i,h),o=l}}(t),a(!l),l}static empty(t){return new T(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let s=t[i];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{for(;r.length<i;)r.push(n.empty);r[i]=n.of(s.slice(1)),e.push(s[0],r[i].length)}}}return new T(e,r)}static createSet(t,e){return new T(t,e)}}function S(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function A(t,e,r){if(0==r.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<i;)t.push(n.empty);t.push(r)}}function P(t,e,r){let i=t.inserted;for(let s=0,o=0,l=0;l<t.sections.length;){let a=t.sections[l++],u=t.sections[l++];if(u<0)s+=a,o+=a;else{let c=s,h=o,f=n.empty;for(;c+=a,h+=u,u&&i&&(f=f.append(i[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)a=t.sections[l++],u=t.sections[l++];e(s,c,o,h,f),s=c,o=h}}}function _(t,e,n,r=!1){let i=[],s=r?[]:null,o=new L(t),l=new L(e);for(let t=-1;;)if(-1==o.ins&&-1==l.ins){let t=Math.min(o.len,l.len);S(i,t,-1),o.forward(t),l.forward(t)}else if(l.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(l.len<o.len||l.len==o.len&&!n))){let e=l.len;for(S(i,l.ins,-1);e;){let n=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=n&&(S(i,0,o.ins),s&&A(s,i,o.text),t=o.i),o.forward(n),e-=n}l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?T.createSet(i,s):C.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=o.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}S(i,e,t<o.i?o.ins:0),s&&t<o.i&&A(s,i,o.text),t=o.i,o.forward(o.len-n)}}}function E(t,e,n=!1){let r=[],i=n?[]:null,s=new L(t),o=new L(e);for(let t=!1;;){if(s.done&&o.done)return i?T.createSet(r,i):C.create(r);if(0==s.ins)S(r,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=r.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;S(r,e,n,t),i&&n&&A(i,r,o.text)}else-1==o.ins?(S(r,s.off?0:s.len,e,t),i&&A(i,r,s.textBit(e))):(S(r,s.off?0:s.len,o.off?0:o.ins,t),i&&!o.off&&A(i,r,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||r.length>n),s.forward2(e),o.forward(e)}}else S(r,0,o.ins,t),i&&A(i,r,o.text),o.next()}}class L{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?n.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?n.empty:e[r].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class D{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new D(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Q.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Q.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Q.range(t.anchor,t.head)}static create(t,e,n){return new D(t,e,n)}}class Q{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:Q.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Q([this.main],0)}addRange(t,e=!0){return Q.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,Q.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Q(t.ranges.map((t=>D.fromJSON(t))),t.main)}static single(t,e=t){return new Q([Q.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return Q.normalized(t.slice(),e);n=i.to}return new Q(t,e)}static cursor(t,e=0,n,r){return D.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(t,e,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return e<t?D.create(e,t,48|i):D.create(t,e,(e>t?8:0)|i)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?Q.range(o,s):Q.range(s,o))}}return new Q(t,e)}}function I(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let M=0;class N{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=M++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(t={}){return new N(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:$),!!t.static,t.enables)}of(t){return new F([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new F(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new F(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function $(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class F{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=M++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,s=t[i]>>1,o=2==this.type,l=!1,a=!1,u=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?a=!0:1&(null!==(e=t[n.id])&&void 0!==e?e:1)||u.push(t[n.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||U(t,u)){let e=n(t);if(o?!B(e,t.values[s],r):!r(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let l,a=e.config.address[i];if(null!=a){let i=nt(e,a);if(this.dependencies.every((n=>n instanceof N?e.facet(n)===t.facet(n):!(n instanceof V)||e.field(n,!1)==t.field(n,!1)))||(o?B(l=n(t),i,r):r(l=n(t),i)))return t.values[s]=i,0}else l=n(t);return t.values[s]=l,1}}}}function B(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function U(t,e){let n=!1;for(let r of e)1&et(t,r)&&(n=!0);return n}function H(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),s=r.filter((t=>!(1&t))),o=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<r.length;e++){let s=nt(t,r[e]);if(2==i[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of r)et(t,e);return t.values[o]=l(t),1},update(t,n){if(!U(t,s))return 0;let r=l(t);return e.compare(r,t.values[o])?0:(t.values[o]=r,1)},reconfigure(t,i){let s=U(t,r),a=i.config.facets[e.id],u=i.facet(e);if(a&&!s&&$(n,a))return t.values[o]=u,0;let c=l(t);return e.compare(c,u)?(t.values[o]=u,0):(t.values[o]=c,1)}}}const q=N.define({static:!0});class V{constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new V(M++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(q).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,q.of({field:this,create:t})]}get extension(){return this}}const X=4,z=3,W=2,j=1;function G(t){return e=>new Z(e,t)}const Y={highest:G(0),high:G(j),default:G(W),low:G(z),lowest:G(X)};class Z{constructor(t,e){this.inner=t,this.prec=e}}class K{of(t){return new J(this,t)}reconfigure(t){return K.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class J{constructor(t,e){this.compartment=t,this.inner=e}}class tt{constructor(t,e,n,r,i,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),s=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(t,o){let l=i.get(t);if(null!=l){if(l<=o)return;let e=r[l].indexOf(t);e>-1&&r[l].splice(e,1),t instanceof J&&n.delete(t.compartment)}if(i.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof J){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(t.compartment)||t.inner;n.set(t.compartment,r),s(r,o)}else if(t instanceof Z)s(t.inner,t.prec);else if(t instanceof V)r[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof F)r[o].push(t),t.facet.extensions&&s(t.facet.extensions,W);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,W),r.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof V?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let o=Object.create(null),l=[],a=[];for(let t of r)o[t.id]=a.length<<1,a.push((e=>t.slot(e)));let u=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,s=u&&u[t]||[];if(e.every((t=>0==t.type)))if(o[r.id]=l.length<<1|1,$(s,e))l.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));l.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(o[t.id]=l.length<<1|1,l.push(t.value)):(o[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));o[r.id]=a.length<<1,a.push((t=>H(t,r,e)))}}let c=a.map((t=>t(o)));return new tt(t,s,c,o,l,i)}}function et(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function nt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const rt=N.define(),it=N.define({combine:t=>t.some((t=>t)),static:!0}),st=N.define({combine:t=>t.length?t[0]:void 0,static:!0}),ot=N.define(),lt=N.define(),at=N.define(),ut=N.define({combine:t=>!!t.length&&t[0]});class ct{constructor(t,e){this.type=t,this.value=e}static define(){return new ht}}class ht{of(t){return new ct(this,t)}}class ft{constructor(t){this.map=t}of(t){return new dt(this,t)}}class dt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new dt(this.type,e)}is(t){return this.type==t}static define(t={}){return new ft(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}dt.reconfigure=dt.define(),dt.appendConfig=dt.define();class vt{constructor(t,e,n,r,i,s){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,n&&I(n,e.newLength),i.some((t=>t.type==vt.time))||(this.annotations=i.concat(vt.time.of(Date.now())))}static create(t,e,n,r,i,s){return new vt(t,e,n,r,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(vt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function gt(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else{if(!(i<e.length))return n;s=e[i++],o=e[i++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function pt(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=T.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:dt.mapEffects(t.effects,i).concat(dt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function mt(t,e,n){let r=e.selection,i=Ot(e.annotations);return e.userEvent&&(i=i.concat(vt.userEvent.of(e.userEvent))),{changes:e.changes instanceof T?e.changes:T.of(e.changes||[],n,t.facet(st)),selection:r&&(r instanceof Q?r:Q.single(r.anchor,r.head)),effects:Ot(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Rt(t,e,n){let r=mt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let s=!!e[i].sequential;r=pt(r,mt(t,e[i],s?r.changes.newLength:t.doc.length),s)}let i=vt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(at),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=pt(r,mt(e,s,t.changes.newLength),!0))}return r==t?t:vt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(ot)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:gt(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=T.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=vt.create(e,r,t.selection&&t.selection.map(i),dt.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(lt);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof vt?i:Array.isArray(i)&&1==i.length&&i[0]instanceof vt?i[0]:Rt(e,Ot(i),!1)}return t}(i):i)}vt.time=ct.define(),vt.userEvent=ct.define(),vt.addToHistory=ct.define(),vt.remote=ct.define();const wt=[];function Ot(t){return null==t?wt:Array.isArray(t)?t:[t]}var xt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(xt||(xt={}));const yt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let bt;try{bt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(VI){}function kt(t){return e=>{if(!/\S/.test(e))return xt.Space;if(function(t){if(bt)return bt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||yt.test(n)))return!0}return!1}(e))return xt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return xt.Word;return xt.Other}}class Ct{constructor(t,e,n,r,i,s){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)et(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return et(this,n),nt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return Rt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(K.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(dt.reconfigure)?(n=null,r=e.value):e.is(dt.appendConfig)&&(n=null,r=Ot(r).concat(e.value));if(n)e=t.startState.values.slice();else{n=tt.resolve(r,i,this);let t=new Ct(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}let s=t.startState.facet(it)?t.newSelection:t.newSelection.asSingle();new Ct(n,t.newDoc,s,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:Q.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],s=Ot(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),l=this.changes(o.changes),a=l.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(a);let u=r.mapDesc(l,!0);i.push(o.range.map(u)),r=r.compose(a),s=dt.mapEffects(s,a).concat(dt.mapEffects(Ot(o.effects),u))}return{changes:r,selection:Q.create(i,e.mainIndex),effects:s}}changes(t=[]){return t instanceof T?t:T.of(t,this.doc.length,this.facet(Ct.lineSeparator))}toText(t){return n.of(t.split(this.facet(Ct.lineSeparator)||b))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(et(this,e),nt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof V&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],s=t[e];r.push(i.init((t=>i.spec.fromJSON(s,t))))}return Ct.create({doc:t.doc,selection:Q.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=tt.resolve(t.extensions||[],new Map),r=t.doc instanceof n?t.doc:n.of((t.doc||"").split(e.staticFacet(Ct.lineSeparator)||b)),i=t.selection?t.selection instanceof Q?t.selection:Q.single(t.selection.anchor,t.selection.head):Q.single(0);return I(i,r.length),e.staticFacet(it)||(i=i.asSingle()),new Ct(e,r,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Ct.tabSize)}get lineBreak(){return this.facet(Ct.lineSeparator)||"\n"}get readOnly(){return this.facet(ut)}phrase(t,...e){for(let e of this.facet(Ct.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(rt))for(let s of i(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&r.push(s[t]);return r}charCategorizer(t){return kt(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=g(e,s,!1);if(i(e.slice(t,s))!=xt.Word)break;s=t}for(;o<r;){let t=g(e,o);if(i(e.slice(o,t))!=xt.Word)break;o=t}return s==o?null:Q.range(s+n,o+n)}}function Tt(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],s=r[t];if(void 0===s)r[t]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](s,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}Ct.allowMultipleSelections=it,Ct.tabSize=N.define({combine:t=>t.length?t[0]:4}),Ct.lineSeparator=st,Ct.readOnly=ut,Ct.phrases=N.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),Ct.languageData=rt,Ct.changeFilter=ot,Ct.transactionFilter=lt,Ct.transactionExtender=at,K.reconfigure=dt.define();class St{eq(t){return this==t}range(t,e=t){return At.create(t,e,this)}}St.prototype.startSide=St.prototype.endSide=0,St.prototype.point=!1,St.prototype.mapMode=k.TrackDel;class At{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new At(t,e,n)}}function Pt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _t{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let s=r,o=i.length;;){if(s==o)return s;let r=s+o>>1,l=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==s)return l>=0?s:o;l>=0?o=r:s=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,i);i<s;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,u,c=this.value[l],h=this.from[l]+t,f=this.to[l]+t;if(h==f){let t=e.mapPos(h,c.startSide,c.mapMode);if(null==t)continue;if(a=u=t,c.startSide!=c.endSide&&(u=e.mapPos(h,c.endSide),u<a))continue}else if(a=e.mapPos(h,c.startSide),u=e.mapPos(f,c.endSide),a>u||a==u&&c.startSide>0&&c.endSide<=0)continue;(u-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,u-a)),n.push(c),r.push(a-s),i.push(u-s))}return{mapped:n.length?new _t(r,i,n,o):null,pos:s}}}class Et{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new Et(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(Pt)),this.isEmpty)return e.length?Et.of(e):this;let o=new Qt(this,null,-1).goto(0),l=0,a=[],u=new Lt;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let t=e[l++];u.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||i<o.from||s(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||a.push(At.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!a.length?Et.empty:this.nextLayer.update({add:a,filter:s,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i],l=t.touchesRange(s,s+o.length);if(!1===l)r=Math.max(r,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===l){let{mapped:i,pos:l}=o.map(s,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(l))}}let i=this.nextLayer.map(t);return 0==e.length?i:new Et(n,e,i||Et.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r];if(e>=i&&t<=i+s.length&&!1===s.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return It.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return It.from(t).goto(e)}static compare(t,e,n,r,i=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),l=Dt(s,o,n),a=new Nt(s,l,i),u=new Nt(o,l,i);n.iterGaps(((t,e,n)=>$t(a,t,u,e,n,r))),n.empty&&0==n.length&&$t(a,0,u,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=999999999);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=s.length)return!1;if(!i.length)return!0;let o=Dt(i,s),l=new Nt(i,o,0).goto(n),a=new Nt(s,o,0).goto(n);for(;;){if(l.to!=a.to||!Ft(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>r)return!0;l.next(),a.next()}}static spans(t,e,n,r,i=-1){let s=new Nt(t,null,i).goto(e),o=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),i=s.pointFrom<e?n.length+1:s.point.startSide<0?n.length:Math.min(n.length,l);r.point(o,t,s.point,n,i,s.pointRank),l=Math.min(s.openEnd(t),n.length)}else t>o&&(r.span(o,t,s.active,l),l=s.openEnd(t));if(s.to>n)return l+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(t,e=!1){let n=new Lt;for(let r of t instanceof At?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Pt(e,r)>0)return t.slice().sort(Pt);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}static join(t){if(!t.length)return Et.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let r=t[n];r!=Et.empty;r=r.nextLayer)e=new Et(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}Et.empty=new Et([],[],null,-1),Et.empty.nextLayer=Et.empty;class Lt{finishChunk(t){this.chunks.push(new _t(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Lt)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Et.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Et.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Dt(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=r.get(t.chunk[e]);null==s||(n?n.mapPos(s):s)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(s,s+t.chunk[e].length))||i.add(t.chunk[e])}return i}class Qt{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class It{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let s=t[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new Qt(s,e,n,i));return 1==r.length?r[0]:new It(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Mt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Mt(this.heap,0)}}}function Mt(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Nt{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=It.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Bt(this.active,t),Bt(this.activeTo,t),Bt(this.activeRank,t),this.minActive=Ht(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&(i-this.activeRank[e]||r-this.activeTo[e])>0;)e++;Ut(this.active,e,n),Ut(this.activeTo,e,r),Ut(this.activeRank,e,i),t&&Ut(t,e,this.cursor.from),this.minActive=Ht(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Bt(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function $t(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,l=r,a=r-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,r=e<0?t.to+a:n.to,i=Math.min(r,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ft(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,i,t.point,n.point):i>l&&!Ft(t.active,n.active)&&s.compareRange(l,i,t.active,n.active),r>o)break;l=r,e<=0&&t.next(),e>=0&&n.next()}}function Ft(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Bt(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Ut(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function Ht(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function qt(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=g(t,i));return r}function Vt(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=g(t,r)}return!0===r?-1:t.length}const Xt="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),zt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class jt{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,s,o){let l=[],a=/^@(\w+)\b/.exec(t[0]),u=a&&"keyframes"==a[1];if(a&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),o,l,u)}else null!=o&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(l.length||u)&&s.push((!n||a||o?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=Wt[Xt]||1;return Wt[Xt]=t+1,"ͼ"+t.toString(36)}static mount(t,e,n){let r=t[zt],i=n&&n.nonce;r?i&&r.setNonce(i):r=new Yt(t,i),r.mount(Array.isArray(e)?e:[e],t)}}let Gt=new Map;class Yt{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let e=Gt.get(n);if(e)return t[zt]=e;this.sheet=new r.CSSStyleSheet,Gt.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[zt]=this}mount(t,e){let n=this.sheet,r=0,i=0;for(let e=0;e<t.length;e++){let s=t[e],o=this.modules.indexOf(s);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,s),n)for(let t=0;t<s.rules.length;t++)n.insertRule(s.rules[t],r++)}else{for(;i<o;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let n=e.head||e;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var Zt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Kt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Jt="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),te="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ee=0;ee<10;ee++)Zt[48+ee]=Zt[96+ee]=String(ee);for(ee=1;ee<=24;ee++)Zt[ee+111]="F"+ee;for(ee=65;ee<=90;ee++)Zt[ee]=String.fromCharCode(ee+32),Kt[ee]=String.fromCharCode(ee);for(var ne in Zt)Kt.hasOwnProperty(ne)||(Kt[ne]=Zt[ne]);function re(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function ie(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function se(t,e){if(!e.anchorNode)return!1;try{return ie(t,e.anchorNode)}catch(t){return!1}}function oe(t){return 3==t.nodeType?we(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function le(t,e,n,r){return!!n&&(ce(t,e,n,r,-1)||ce(t,e,n,r,1))}function ae(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ue(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function ce(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:he(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=ae(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?he(t):0}}}function he(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function fe(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function de(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function ve(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class ge{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?he(e):0),n,Math.min(t.focusOffset,n?he(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let pe,me=null;function Re(t){if(t.setActive)return t.setActive();if(me)return t.focus(me);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==me?{get preventScroll(){return me={preventScroll:!0},!0}}:void 0),!me){me=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function we(t,e,n=e){let r=pe||(pe=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Oe(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function xe(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function ye(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function be(t,e){for(let n=t,r=e;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=he(n)}else{if(!n.parentNode||ue(n))return null;r=ae(n),n=n.parentNode}}}function ke(t,e){for(let n=t,r=e;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||ue(n))return null;r=ae(n)+1,n=n.parentNode}}}class Ce{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new Ce(t.parentNode,ae(t),e)}static after(t,e){return new Ce(t.parentNode,ae(t)+1,e)}}const Te=[];class Se{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,r=this.dom,i=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=i?i.nextSibling:r.firstChild)){let t=Se.get(n);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t,e),s.flags&=-8}if(n=i?i.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&n!=s.dom&&(e.written=!0),s.dom.parentNode==r)for(;n&&n!=s.dom;)n=Ae(n);else r.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:r.firstChild,n&&e&&e.node==r&&(e.written=!0);n;)n=Ae(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==he(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Se.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,s=-1,o=-1;for(let l=0,a=n,u=n;l<this.children.length;l++){let n=this.children[l],c=a+n.length;if(a<t&&c>e)return n.domBoundsAround(t,e,a);if(c>=t&&-1==r&&(r=l,i=a),a>e&&n.dom.parentNode==this.dom){s=l,o=u;break}u=c,a=c+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=Te){this.markDirty();for(let r=t;r<e;r++){let t=this.children[r];t.parent==this&&n.indexOf(t)<0&&t.destroy()}n.length<250?this.children.splice(t,e-t,...n):this.children=[].concat(this.children.slice(0,t),n,this.children.slice(e));for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Pe(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,i,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function Ae(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Se.prototype.breakAfter=0;class Pe{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function _e(t,e,n,r,i,s,o,l,a){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!f&&s.length<2&&c.merge(n,i,s.length?h:null,0==n,l,a))){if(r<u.length){let t=u[r];t&&(i<t.length||t.breakAfter&&(null==h?void 0:h.breakAfter))?(e==r&&(t=t.split(i),i=0),!f&&h&&t.merge(0,i,h,!0,0,a)?s[s.length-1]=t:((i||t.children.length&&!t.children[0].length)&&t.merge(0,i,null,!1,0,a),s.push(t))):(null==t?void 0:t.breakAfter)&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,l,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),a=s.length?0:l;else{if(!u[e].become(s[0]))break;e++,s.shift(),l=s.length?0:a}!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function Ee(t,e,n,r,i,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h,_e(t,u,c,l,a,r,0,i,s)}let Le="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},De="undefined"!=typeof document?document:{documentElement:{style:{}}};const Qe=/Edge\/(\d+)/.exec(Le.userAgent),Ie=/MSIE \d/.test(Le.userAgent),Me=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Le.userAgent),Ne=!!(Ie||Me||Qe),$e=!Ne&&/gecko\/(\d+)/i.test(Le.userAgent),Fe=!Ne&&/Chrome\/(\d+)/.exec(Le.userAgent),Be="webkitFontSmoothing"in De.documentElement.style,Ue=!Ne&&/Apple Computer/.test(Le.vendor),He=Ue&&(/Mobile\/\w+/.test(Le.userAgent)||Le.maxTouchPoints>2);var qe={mac:He||/Mac/.test(Le.platform),windows:/Win/.test(Le.platform),linux:/Linux|X11/.test(Le.platform),ie:Ne,ie_version:Ie?De.documentMode||6:Me?+Me[1]:Qe?+Qe[1]:0,gecko:$e,gecko_version:$e?+(/Firefox\/(\d+)/.exec(Le.userAgent)||[0,0])[1]:0,chrome:!!Fe,chrome_version:Fe?+Fe[1]:0,ios:He,android:/Android\b/.test(Le.userAgent),webkit:Be,safari:Ue,webkit_version:Be?+(/\bAppleWebKit\/(\d+)/.exec(Le.userAgent)||[0,0])[1]:0,tabSize:null!=De.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Ve extends Se{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof Ve)||this.length-(e-t)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Ve(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Ce(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;0==e&&n<0||e==r&&n>=0?qe.chrome||qe.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let l=we(t,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:n>=0)?0:l.length-1];qe.safari&&!o&&0==a.width&&(a=Array.prototype.find.call(l,(t=>t.width))||a);return o?fe(a,o<0):a||null}(this.dom,t,e)}}class Xe extends Se{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(xe(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,i,s){return(!n||!(!(n instanceof Xe&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&s<=0))&&(Ee(this,t,e,n?n.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,r=-1,i=0;for(let s of this.children){let o=n+s.length;o>t&&e.push(n<t?s.split(t-n):s),r<0&&n>=t&&(r=i),n=o,i++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new Xe(this.mark,e,s)}domAtPos(t){return je(this,t)}coordsAt(t,e){return Ye(this,t,e)}}class ze extends Se{static create(t,e,n){return new ze(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=ze.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof ze&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof ze&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return n.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):n.empty}domAtPos(t){return(this.length?0==t:this.side>0)?Ce.before(this.dom):Ce.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?r.length-1:0;i=r[e],!(t>0?0==e:e==r.length-1||i.top<i.bottom);e+=s?-1:1);return fe(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class We extends Se{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof We&&t.side==this.side}split(){return new We(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Ce.before(this.dom):Ce.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.empty}get isHidden(){return!0}}function je(t,e){let n=t.dom,{children:r}=t,i=0;for(let t=0;i<r.length;i++){let s=r[i],o=t+s.length;if(!(o==t&&s.getSide()<=0)){if(e>t&&e<o&&s.dom.parentNode==n)return s.domAtPos(e-t);if(e<=t)break;t=o}}for(let t=i;t>0;t--){let e=r[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=i;t<r.length;t++){let e=r[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new Ce(n,0)}function Ge(t,e,n){let r,{children:i}=t;n>0&&e instanceof Xe&&i.length&&(r=i[i.length-1])instanceof Xe&&r.mark.eq(e.mark)?Ge(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ye(t,e,n){let r=null,i=-1,s=null,o=-1;!function t(e,l){for(let a=0,u=0;a<e.children.length&&u<=l;a++){let c=e.children[a],h=u+c.length;h>=l&&(c.children.length?t(c,l-u):(!s||s.isHidden&&n>0)&&(h>l||u==h&&c.getSide()>0)?(s=c,o=l-u):(u<l||u==h&&c.getSide()<0&&!c.isHidden)&&(r=c,i=l-u)),u=h}}(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=oe(e);return n[n.length-1]||null}(t)}function Ze(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}Ve.prototype.children=ze.prototype.children=We.prototype.children=Te;const Ke=Object.create(null);function Je(t,e,n){if(t==e)return!0;t||(t=Ke),e||(e=Ke);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(-1==i.indexOf(s)||t[s]!==e[s]))return!1;return!0}function tn(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,"style"==i?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,"style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function en(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class nn{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var rn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(rn||(rn={}));class sn extends St{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new on(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new an(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,r=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:i,end:s}=un(t,r);e=(i?r?-3e8:-1:5e8)-1,n=1+(s?r?2e8:1:-6e8)}return new an(t,e,n,r,t.widget||null,!0)}static line(t){return new ln(t)}static set(t,e=!1){return Et.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}sn.none=Et.empty;class on extends sn{constructor(t){let{start:e,end:n}=un(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof on&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&Je(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}on.prototype.point=!1;class ln extends sn{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof ln&&this.spec.class==t.spec.class&&Je(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}ln.prototype.mapMode=k.TrackBefore,ln.prototype.point=!0;class an extends sn{constructor(t,e,n,r,i,s){super(e,n,i,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?k.TrackBefore:k.TrackAfter:k.TrackDel}get type(){return this.startSide!=this.endSide?rn.WidgetRange:this.startSide<=0?rn.WidgetBefore:rn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof an&&function(t,e){return t==e||!!(t&&e&&t.compare(e))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function un(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function cn(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}an.prototype.point=!0;class hn extends Se{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,s){if(n){if(!(n instanceof hn))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Ee(this,t,e,n?n.children.slice():[],i,s),!0}split(t){let e=new hn;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Je(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Ge(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=Ze(e,this.attrs||{})),n&&(this.attrs=Ze({class:n},this.attrs||{}))}domAtPos(t){return je(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(xe(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(tn(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&Se.get(r)instanceof Xe;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Se.get(r))||void 0===n?void 0:n.isEditable)||qe.ios&&this.children.some((t=>t instanceof Ve))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof Ve)||/[^ -~]/.test(n.text))return null;let r=oe(n.dom);if(1!=r.length)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=Ye(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let r=(e-t.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(t){return t instanceof hn&&0==this.children.length&&0==t.children.length&&Je(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let i=t.children[n],s=r+i.length;if(s>=e){if(i instanceof hn)return i;if(s>e)break}r=s+i.breakAfter}return null}}class fn extends Se{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,i,s){return!(n&&(!(n instanceof fn&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&s<=0))&&(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?Ce.before(this.dom):Ce.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new fn(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Te}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.empty}domBoundsAround(){return null}become(t){return t instanceof fn&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);return n||(this.widget instanceof dn?null:fe(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class dn extends nn{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class vn{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof fn&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new hn),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(gn(new We(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof fn||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(gn(new Ve(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i,s){if(this.disallowBlockEffectsFor[s]&&n instanceof an){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof an)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new fn(n.widget||pn.block,o,n));else{let s=ze.create(n.widget||pn.inline,o,o?0:n.startSide),l=this.atCursorPos&&!s.isEditable&&i<=r.length&&(t<e||n.startSide>0),a=!s.isEditable&&(t<e||i>r.length||n.startSide<=0),u=this.getLine();2!=this.pendingBuffer||l||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(u.append(gn(new We(1),r),i),i=r.length+Math.max(0,i-r.length)),u.append(gn(s,r),i),this.atCursorPos=a,this.pendingBuffer=a?t<e||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,r,i){let s=new vn(t,e,n,i);return s.openEnd=Et.spans(r,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function gn(t,e){for(let n of e)t=new Xe(n,[t],t.length);return t}class pn extends nn{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}pn.inline=new pn("span"),pn.block=new pn("div");var mn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(mn||(mn={}));const Rn=mn.LTR,wn=mn.RTL;function On(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const xn=On("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),yn=On("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),bn=Object.create(null),kn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);bn[e]=n,bn[n]=-e}function Cn(t){return t<=247?xn[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?yn[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Tn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Sn{get dir(){return this.level%2?wn:Rn}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,r){let i=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(i<0||(0!=r?r<0?o.from<e:o.to>e:t[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function An(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!An(r.inner,i.inner))return!1}return!0}const Pn=[];function _n(t,e,n,r,i,s,o){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<n;){let e=!0,c=!1;if(u==s.length||a<s[u].from){let t=Pn[a];t!=l&&(e=!1,c=16==t)}let h=e||1!=l?null:[],f=e?r:r+1,d=a;t:for(;;)if(u<s.length&&d==s[u].from){if(c)break t;let v=s[u];if(!e)for(let t=v.to,e=u+1;;){if(t==n)break t;if(!(e<s.length&&s[e].from==t)){if(Pn[t]==l)break t;break}t=s[e++].to}if(u++,h)h.push(v);else{v.from>a&&o.push(new Sn(a,v.from,f)),En(t,v.direction==Rn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.to}d=v.to}else{if(d==n||(e?Pn[d]!=l:Pn[d]==l))break;d++}h?_n(t,a,d,r+1,i,h,o):a<d&&o.push(new Sn(a,d,f)),a=d}else for(let a=n,u=s.length;a>e;){let n=!0,c=!1;if(!u||a>s[u-1].to){let t=Pn[a-1];t!=l&&(n=!1,c=16==t)}let h=n||1!=l?null:[],f=n?r:r+1,d=a;t:for(;;)if(u&&d==s[u-1].to){if(c)break t;let v=s[--u];if(!n)for(let t=v.from,n=u;;){if(t==e)break t;if(!n||s[n-1].to!=t){if(Pn[t-1]==l)break t;break}t=s[--n].from}if(h)h.push(v);else{v.to<a&&o.push(new Sn(v.to,a,f)),En(t,v.direction==Rn!=!(f%2)?r+1:r,i,v.inner,v.from,v.to,o),a=v.from}d=v.from}else{if(d==e||(n?Pn[d-1]!=l:Pn[d-1]==l))break;d--}h?_n(t,d,a,r+1,i,h,o):d<a&&o.push(new Sn(d,a,f)),a=d}}function En(t,e,n,r,i,s,o){let l=e%2?2:1;!function(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,l=s<r.length?r[s].from:n,a=s?256:i;for(let e=o,n=a,r=a;e<l;e++){let i=Cn(t.charCodeAt(e));512==i?i=n:8==i&&4==r&&(i=16),Pn[e]=4==i?2:i,7&i&&(r=i),n=i}for(let t=o,e=a,r=a;t<l;t++){let i=Pn[t];if(128==i)t<l-1&&e==Pn[t+1]&&24&e?i=Pn[t]=e:Pn[t]=256;else if(64==i){let i=t+1;for(;i<l&&64==Pn[i];)i++;let s=t&&8==e||i<n&&8==Pn[i]?1==r?1:8:256;for(let e=t;e<i;e++)Pn[e]=s;t=i-1}else 8==i&&1==r&&(Pn[t]=1);e=i,7&i&&(r=i)}}}(t,i,s,r,l),function(t,e,n,r,i){let s=1==i?2:1;for(let o=0,l=0,a=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let e,n,r,o=u;o<c;o++)if(n=bn[e=t.charCodeAt(o)])if(n<0){for(let t=l-3;t>=0;t-=3)if(kn[t+1]==-n){let e=kn[t+2],n=2&e?i:4&e?1&e?s:i:0;n&&(Pn[o]=Pn[kn[t]]=n),l=t;break}}else{if(189==kn.length)break;kn[l++]=o,kn[l++]=e,kn[l++]=a}else if(2==(r=Pn[o])||1==r){let t=r==i;a=t?0:1;for(let e=l-3;e>=0;e-=3){let n=kn[e+2];if(2&n)break;if(t)kn[e+2]|=2;else{if(4&n)break;kn[e+2]|=4}}}}}(t,i,s,r,l),function(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let a=o;a<l;){let o=Pn[a];if(256==o){let o=a+1;for(;;)if(o==l){if(i==n.length)break;o=n[i++].to,l=i<n.length?n[i].from:e}else{if(256!=Pn[o])break;o++}let u=1==s,c=u==(1==(o<e?Pn[o]:r))?u?1:2:r;for(let e=o,r=i,s=r?n[r-1].to:t;e>a;)e==s&&(e=n[--r].from,s=r?n[r-1].to:t),Pn[--e]=c;a=o}else s=o,a++}}}(i,s,r,l),_n(t,i,s,e,n,r,o)}function Ln(t,e,n){if(!t)return[new Sn(0,0,e==wn?1:0)];if(e==Rn&&!n.length&&!Tn.test(t))return Dn(t.length);if(n.length)for(;t.length>Pn.length;)Pn[Pn.length]=256;let r=[],i=e==Rn?0:1;return En(t,i,i,n,0,t.length,r),r}function Dn(t){return[new Sn(0,t,0)]}let Qn="";function In(t,e,n,r,i){var s;let o=r.head-t.from,l=Sn.find(e,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc),a=e[l],u=a.side(i,n);if(o==u){let t=l+=i?1:-1;if(t<0||t>=e.length)return null;a=e[l=t],o=a.side(!i,n),u=a.side(i,n)}let c=g(t.text,o,a.forward(i,n));(c<a.from||c>a.to)&&(c=u),Qn=t.text.slice(Math.min(o,c),Math.max(o,c));let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<a.level?Q.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):Q.cursor(c+t.from,a.forward(i,n)?-1:1,a.level)}function Mn(t,e,n){for(let r=e;r<n;r++){let e=Cn(t.charCodeAt(r));if(1==e)return Rn;if(2==e||4==e)return wn}return Rn}const Nn=N.define(),$n=N.define(),Fn=N.define(),Bn=N.define(),Un=N.define(),Hn=N.define(),qn=N.define(),Vn=N.define(),Xn=N.define(),zn=N.define({combine:t=>t.some((t=>t))}),Wn=N.define({combine:t=>t.some((t=>t))}),jn=N.define();class Gn{constructor(t,e="nearest",n="nearest",r=5,i=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=s}map(t){return t.empty?this:new Gn(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Gn(Q.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Yn=dt.define({map:(t,e)=>t.map(e)}),Zn=dt.define();function Kn(t,e,n){let r=t.facet(Bn);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Jn=N.define({combine:t=>!t.length||t[0]});let tr=0;const er=N.define();class nr{constructor(t,e,n,r,i){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:i,decorations:s}=e||{};return new nr(tr++,t,n,r,(t=>{let e=[er.of(t)];return s&&e.push(or.of((e=>{let n=e.plugin(t);return n?s(n):sn.none}))),i&&e.push(i(t)),e}))}static fromClass(t,e){return nr.define((e=>new t(e)),e)}}class rr{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(Kn(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Kn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){Kn(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ir=N.define(),sr=N.define(),or=N.define(),lr=N.define(),ar=N.define(),ur=N.define();function cr(t,e){let n=t.state.facet(ur);if(!n.length)return n;let r=n.map((e=>e instanceof Function?e(t):e)),i=[];return Et.spans(r,e.from,e.to,{point(){},span(t,n,r,s){let o=t-e.from,l=n-e.from,a=i;for(let t=r.length-1;t>=0;t--,s--){let n,i=r[t].spec.bidiIsolate;if(null==i&&(i=Mn(e.text,o,l)),s>0&&a.length&&(n=a[a.length-1]).to==o&&n.direction==i)n.to=l,a=n.inner;else{let t={from:o,to:l,direction:i,inner:[]};a.push(t),a=t.inner}}}}),i}const hr=N.define();function fr(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(hr)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const dr=N.define();class vr{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new vr(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,s=0,o=0;;r++){let l=r==t.length?null:t[r],a=s-o,u=l?l.fromB:1e9;for(;i<e.length&&e[i]<u;){let t=e[i],r=e[i+1],s=Math.max(o,t),l=Math.min(u,r);if(s<=l&&new vr(s+a,l+a,s,l).addToSet(n),r>u)break;i+=2}if(!l)return n;new vr(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,o=l.toB}}}class gr{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=T.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new vr(t,e,n,i)))),this.changedRanges=r}static create(t,e,n){return new gr(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class pr extends Se{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=sn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new hn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new vr(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?r=this.domChanged.newSel.head:function(t,e){let n=!1;e&&t.iterChangedRanges(((t,r)=>{t<e.to&&r>e.from&&(n=!0)}));return n}(t.changes,this.hasComposition)||t.selectionSet||(r=t.state.selection.main.head));let i=r>-1?function(t,e,n){let r=mr(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,l=i.nodeValue;if(/[\n\r]/.test(l))return null;if(t.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new vr(a.mapPos(s),a.mapPos(o),s,o),c=[];for(let e=i.parentNode;;e=e.parentNode){let n=Se.get(e);if(n instanceof Xe)c.push({node:e,deco:n.mark});else{if(n instanceof hn||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new on({inclusive:!0,attributes:en(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:r}=this.hasComposition;n=new vr(e,r,t.changes.mapPos(e,-1),t.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(qe.ie||qe.chrome)&&!i&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,n){let r=new Rr;return Et.compare(t,e,n,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return n=vr.extendWithRanges(n,s),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,i),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=qe.chrome||qe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||r.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof fn&&t.widget instanceof dn&&i.push(t.dom);r.updateGaps(i)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,i=this.childCursor(e);for(let t=r.length-1;;t--){let e=t>=0?r[t]:null;if(!e)break;let s,o,l,a,{fromA:u,toA:c,fromB:h,toB:f}=e;if(n&&n.range.fromB<f&&n.range.toB>h){let t=vn.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=vn.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,l=t.openStart,a=e.openEnd;let r=this.compositionView(n);e.breakAtStart?r.breakAfter=1:e.content.length&&r.merge(r.length,r.length,e.content[0],!1,e.openStart,0)&&(r.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&r.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(r).concat(e.content)}else({content:s,breakAtStart:o,openStart:l,openEnd:a}=vn.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:d,off:v}=i.findPos(c,1),{i:g,off:p}=i.findPos(u,-1);_e(this,g,p,d,v,s,o,l,a)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(Zn)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new Ve(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new Xe(n,[e],e.length);let n=new hn;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=Se.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let i=t.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],e(i>=0?t.marks[i].node:t.text,r)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&se(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||i))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),a=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(qe.gecko&&o.empty&&!this.hasComposition&&(1==(u=l).node.nodeType&&u.node.firstChild&&(0==u.offset||"false"==u.node.childNodes[u.offset-1].contentEditable)&&(u.offset==u.node.childNodes.length||"false"==u.node.childNodes[u.offset].contentEditable))){let t=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null))),l=a=new Ce(t,0),s=!0}var u;let c=this.view.observer.selectionRange;!s&&c.focusNode&&(le(l.node,l.offset,c.anchorNode,c.anchorOffset)&&le(a.node,a.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,o))||(this.view.observer.ignore((()=>{qe.android&&qe.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=re(this.view.root);if(t)if(o.empty){if(qe.gecko){let t=(e=l.node,r=l.offset,1!=e.nodeType?0:(r&&"false"==e.childNodes[r-1].contentEditable?1:0)|(r<e.childNodes.length&&"false"==e.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=(1==t?be:ke)(l.node,l.offset);e&&(l=new Ce(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=o.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=o.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(a.node,a.offset)}catch(t){}}else{let e=document.createRange();o.anchor>o.head&&([l,a]=[a,l]),e.setEnd(a.node,a.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}else;var e,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,a)),this.impreciseAnchor=l.precise?null:new Ce(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new Ce(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&le(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=re(t.root),{anchorNode:r,anchorOffset:i}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let s=hn.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let l=this.coordsAt(e.head,-1),a=this.coordsAt(e.head,1);if(!l||!a||l.bottom>a.top)return;let u=this.domAtPos(e.head+e.assoc);n.collapse(u.node,u.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&n.collapse(r,i)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let r=t.offset;!e&&r<n.childNodes.length;r++){let t=Se.get(n.childNodes[r]);t instanceof hn&&(e=t.domAtPos(0))}for(let r=t.offset-1;!e&&r>=0;r--){let t=Se.get(n.childNodes[r]);t instanceof hn&&(e=t.domAtPos(t.length))}return e?new Ce(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Se.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof hn)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],l=i-o.breakAfter,a=l-o.length;if(l<t)break;if(a<=t&&(a<t||o.covers(-1))&&(l>t||o.covers(1))&&(!n||o instanceof hn&&!(n instanceof hn&&e>=0)))n=o,r=a;else if(n&&a==t&&l==t&&o instanceof fn&&Math.abs(e)<2){if(o.deco.startSide<0)break;s&&(n=null)}i=a}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof hn))return null;for(;r.children.length;){let{i:t,off:e}=r.childPos(n,1);for(;;t++){if(t==r.children.length)return null;if((r=r.children[t]).length)break}n=e}if(!(r instanceof Ve))return null;let i=g(r.text,n);if(i==n)return null;let s=we(r.dom,n,i).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(t==s.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==mn.LTR;for(let t=0,a=0;a<this.children.length;a++){let u=this.children[a],c=t+u.length;if(c>r)break;if(t>=n){let n=u.dom.getBoundingClientRect();if(e.push(n.height),s){let e=u.dom.lastChild,r=e?oe(e):[];if(r.length){let e=r[r.length-1],s=l?e.right-n.left:n.right-e.left;s>o&&(o=s,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+u.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?mn.RTL:mn.LTR}measureTextSize(){for(let t of this.children)if(t instanceof hn){let e=t.measureTextSize();if(e)return e}let t,e,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=oe(r.firstChild)[0];t=r.getBoundingClientRect().height,e=i?i.width/27:7,n=i?i.height:t,r.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Pe(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],s=i?i.from-1:this.length;if(s>n){let r=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(sn.replace({widget:new dn(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!i)break;n=i.to+1}return sn.set(t)}updateDeco(){let t=1,e=this.view.state.facet(or).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),n=!1,r=this.view.state.facet(lr).map(((t,e)=>{let r="function"==typeof t;return r&&(n=!0),r?t(this.view):t}));for(r.length&&(this.dynamicDecorationMap[t++]=n,e.push(Et.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(jn))try{if(e(this.view,t.range,t))return!0}catch(t){Kn(this.view.state,t,"scroll handler")}let e,{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,e.left),top:Math.min(r.top,e.top),right:Math.max(r.right,e.right),bottom:Math.max(r.bottom,e.bottom)});let i=fr(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;!function(t,e,n,r,i,s,o,l){let a=t.ownerDocument,u=a.defaultView||window;for(let c=t,h=!1;c&&!h;)if(1==c.nodeType){let t,f=c==a.body,d=1,v=1;if(f)t=de(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:d,scaleY:v}=ve(c,e)),t={left:e.left,right:e.left+c.clientWidth*d,top:e.top,bottom:e.top+c.clientHeight*v}}let g=0,p=0;if("nearest"==i)e.top<t.top?(p=-(t.top-e.top+o),n>0&&e.bottom>t.bottom+p&&(p=e.bottom-t.bottom+p+o)):e.bottom>t.bottom&&(p=e.bottom-t.bottom+o,n<0&&e.top-p<t.top&&(p=-(t.top+p-e.top+o)));else{let r=e.bottom-e.top,s=t.bottom-t.top;p=("center"==i&&r<=s?e.top+r/2-s/2:"start"==i||"center"==i&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==r?e.left<t.left?(g=-(t.left-e.left+s),n>0&&e.right>t.right+g&&(g=e.right-t.right+g+s)):e.right>t.right&&(g=e.right-t.right+s,n<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+s))):g=("center"==r?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==r==l?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||p)if(f)u.scrollBy(g,p);else{let t=0,n=0;if(p){let t=c.scrollTop;c.scrollTop+=p/v,n=(c.scrollTop-t)*v}if(g){let e=c.scrollLeft;c.scrollLeft+=g/d,t=(c.scrollLeft-e)*d}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(r="nearest"),n&&Math.abs(n-p)<1&&(i="nearest")}if(f)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==mn.LTR)}}function mr(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=be(n.focusNode,n.focusOffset),i=ke(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let e=Se.get(i.node);if(!e||e instanceof Ve&&e.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let t=Se.get(r.node);!t||t instanceof Ve&&t.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}let Rr=class{constructor(){this.changes=[]}compareRange(t,e){cn(t,e,this.changes)}comparePoint(t,e){cn(t,e,this.changes)}};function wr(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Or(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function xr(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function yr(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function br(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function kr(t,e,n){let r,i,s,o,l,a,u,c,h=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=oe(f);for(let d=0;d<t.length;d++){let v=t[d];i&&xr(i,v)&&(v=yr(br(v,i.bottom),i.top));let g=wr(e,v),p=Or(n,v);if(0==g&&0==p)return 3==f.nodeType?Cr(f,e,n):kr(f,e,n);if(!r||o>p||o==p&&s>g){r=f,i=v,s=g,o=p;let l=p?n<v.top?-1:1:g?e<v.left?-1:1:0;h=!l||(l>0?d<t.length-1:d>0)}0==g?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=f,u=v):n<v.top&&(!c||c.top>v.top)&&(a=f,c=v):u&&xr(u,v)?u=br(u,v.bottom):c&&xr(c,v)&&(c=yr(c,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):c&&c.top<=n&&(r=a,i=c),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?Cr(r,f,n):h&&"false"!=r.contentEditable?kr(r,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function Cr(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<r;l++){let r=we(t,l,l+1).getClientRects();for(let a=0;a<r.length;a++){let u=r[a];if(u.top==u.bottom)continue;o||(o=e-u.left);let c=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<s){let n=e>=(u.left+u.right)/2,r=n;if(qe.chrome||qe.gecko){we(t,l).getBoundingClientRect().left==u.right&&(r=!n)}if(c<=0)return{node:t,offset:l+(r?1:0)};i=l+(r?1:0),s=c}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function Tr(t,e,n,r=-1){var i,s;let o,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,i=!1;o=t.elementAtHeight(f),o.type!=rn.Text;)for(;f=r>0?o.bottom+e:o.top-e,!(f>=0&&f<=u);){if(i)return n?null:0;i=!0,r=-r}h=a+f;let d=o.from;if(d<t.viewport.from)return 0==t.viewport.from?0:n?null:Sr(t,l,o,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Sr(t,l,o,c,h);let v=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:v,p=g.elementFromPoint(c,h);p&&!t.contentDOM.contains(p)&&(p=null),p||(c=Math.max(l.left+1,Math.min(l.right-1,c)),p=g.elementFromPoint(c,h),p&&!t.contentDOM.contains(p)&&(p=null));let m,R=-1;if(p&&0!=(null===(i=t.docView.nearest(p))||void 0===i?void 0:i.isEditable)){if(v.caretPositionFromPoint){let t=v.caretPositionFromPoint(c,h);t&&({offsetNode:m,offset:R}=t)}else if(v.caretRangeFromPoint){let e=v.caretRangeFromPoint(c,h);e&&(({startContainer:m,startOffset:R}=e),(!t.contentDOM.contains(m)||qe.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return we(t,r-1,r).getBoundingClientRect().left>n}(m,R,c)||qe.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}let r=1==t.nodeType?t.getBoundingClientRect():we(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}(m,R,c))&&(m=void 0))}m&&(R=Math.min(he(m),R))}if(!m||!t.docView.dom.contains(m)){let e=hn.find(t.docView,d);if(!e)return f>o.top+o.height/2?o.to:o.from;({node:m,offset:R}=kr(e.dom,c,h))}let w=t.docView.nearest(m);if(!w)return null;if(w.isWidget&&1==(null===(s=w.dom)||void 0===s?void 0:s.nodeType)){let t=w.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?w.posAtStart:w.posAtEnd}return w.localPosFromDOM(m,R)+w.posAtStart}function Sr(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((i-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Vt(o,s,t.state.tabSize)}function Ar(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==rn.Text))return t;return n}function Pr(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let l=e,a=null;;){let e=In(i,s,o,l,n),u=Qn;if(!e){if(i.number==(n?t.state.doc.lines:1))return l;u="\n",i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),e=t.visualLineSide(i,!n)}if(a){if(!a(u))return l}else{if(!r)return e;a=r(u)}l=e}}function _r(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,((t,i,s)=>{if(e>t&&e<i){let s=r||n||(e-t<i-e?-1:1);e=s<0?t:i,r=s}}));if(!r)return e}}function Er(t,e,n){let r=_r(t.state.facet(ar).map((e=>e(t))),n.from,e.head>n.from?-1:1);return r==n.from?n:Q.cursor(r,r<n.from?1:-1)}const Lr="￿";class Dr{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Ct.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Lr}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let t=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==e)break;let s=Se.get(r),o=Se.get(i);(s&&o?s.breakAfter:(s?s.breakAfter:ue(r))||ue(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>t)&&this.lineBreak(),r=i}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=r.exec(e))&&(s=i.index,o=i[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=Se.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Qr(t,n.node,n.offset)?e:0))}}function Qr(t,e,n){for(;;){if(!e||n<he(e))return!1;if(e==t)return!0;n=ae(e)+1,e=e.parentNode}}class Ir{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Mr{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:i,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=i||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;n&&(e.push(new Ir(n,r)),i==n&&s==r||e.push(new Ir(i,s)));return e}(t),n=new Dr(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?Q.single(n+e,r+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=i&&i.node==e.focusNode&&i.offset==e.focusOffset||!ie(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),r=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!ie(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),o=t.viewport;if((qe.ios||qe.chrome)&&t.state.selection.main.empty&&n!=r&&(o.from>0||o.to<t.state.doc.length)){let e=Math.min(n,r),i=Math.max(n,r),s=o.from-e,l=o.to-i;0!=s&&1!=s&&0!=e||0!=l&&-1!=l&&i!=t.state.doc.length||(n=0,r=t.state.doc.length)}this.newSel=Q.single(r,n)}}}function Nr(t,e){let r,{newSel:i}=e,s=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:l}=e.bounds,a=s.from,u=null;(8===o||qe.android&&e.text.length<l-i)&&(a=s.to,u="end");let c=function(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if("end"==r){n-=o+Math.max(0,s-Math.min(o,l))-s}if(o<s&&t.length<e.length){s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s}else if(l<s){s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}(t.state.doc.sliceString(i,l,Lr),e.text,a-i,u);c&&(qe.chrome&&13==o&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Lr+Lr&&c.toB--,r={from:i+c.from,to:i+c.toA,insert:n.of(e.text.slice(c.from,c.toB).split(Lr))})}else i&&(!t.hasFocus&&t.state.facet(Jn)||i.main.eq(s))&&(i=null);if(!r&&!i)return!1;if(!r&&e.typeOver&&!s.empty&&i&&i.main.empty?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,s.to))}:(qe.mac||qe.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==r.insert.length&&(i=Q.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}):qe.chrome&&r&&r.from==r.to&&r.from==s.head&&"\n "==r.insert.toString()&&t.lineWrapping&&(i&&(i=Q.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.of([" "])}),r)return $r(t,r,i,o);if(i&&!i.main.eq(s)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}function $r(t,e,n,r=-1){if(qe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&" "==t.state.sliceDoc(e.from,i.from))&&1==e.insert.length&&2==e.insert.lines&&Oe(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&0==e.insert.length||8==r&&e.insert.length<e.to-e.from&&e.to>i.head)&&Oe(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&0==e.insert.length&&Oe(t.contentDOM,"Delete",46)))return!0;let s,o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l=()=>s||(s=function(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=s.from<e.from?i.sliceDoc(s.from,e.from):"",o=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+o))}else{let o=i.changes(e),l=n&&n.main.to<=o.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let a,u=t.state.sliceDoc(e.from,e.to),c=n&&mr(t,n.main.head);if(c){let t=e.insert.length-(e.to-e.from);a={from:c.from,to:c.to-t}}else a=t.state.doc.lineAt(s.head);let h=s.to-e.to,f=s.to-s.from;r=i.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:o,range:l||n.map(o)};let r=n.to-h,c=r-u.length;if(n.to-n.from!=f||t.state.sliceDoc(c,r)!=u||n.to>=a.from&&n.from<=a.to)return{range:n};let d=i.changes({from:c,to:r,insert:e.insert}),v=n.to-s.to;return{changes:d,range:l?Q.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):n.map(d)}}))}else r={changes:o,selection:l&&i.selection.replaceRange(l)}}let o="input.type";(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1));return i.update(r,{userEvent:o,scrollIntoView:!0})}(t,e,n));return t.state.facet(Hn).some((n=>n(t,e.from,e.to,o,l)))||t.dispatch(l()),!0}class Fr{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,qe.safari&&t.contentDOM.addEventListener("input",(()=>null)),qe.gecko&&function(t){fi.has(t)||(fi.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Se.get(r))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Ur(t),n=this.handlers,r=this.view.contentDOM;for(let t in e)if("scroll"!=t){let i=!e[t].handlers.length,s=n[t];s&&i!=!s.handlers.length&&(r.removeEventListener(t,this.handleEvent),s=null),s||r.addEventListener(t,this.handleEvent,{passive:i})}for(let t in n)"scroll"==t||e[t]||r.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Vr.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),qe.android&&qe.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!qe.ios||t.synthetic||t.altKey||t.metaKey||!((e=Hr.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||qr.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&(!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,Oe(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0)))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(qe.safari&&!qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Br(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(t){Kn(n.state,t)}}}function Ur(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let r in t.domEventHandlers){let i=t.domEventHandlers[r];i&&n(r).handlers.push(Br(e.value,i))}if(t&&t.domEventObservers)for(let r in t.domEventObservers){let i=t.domEventObservers[r];i&&n(r).observers.push(Br(e.value,i))}}for(let t in Wr)n(t).handlers.push(Wr[t]);for(let t in jr)n(t).observers.push(jr[t]);return e}const Hr=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],qr="dthko",Vr=[16,17,18,20,91,92,224,225];function Xr(t){return.7*Math.max(0,t)+8}class zr{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,n,r=t.ownerDocument;for(let i=t.parentNode;i&&!(i==r.body||e&&n);)if(1==i.nodeType)!n&&i.scrollHeight>i.clientHeight&&(n=i),!e&&i.scrollWidth>i.clientWidth&&(e=i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}return{x:e,y:n}}(t.contentDOM),this.atoms=t.state.facet(ar).map((e=>e(t)));let i=t.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Ct.allowMultipleSelections)&&function(t,e){let n=t.state.facet(Nn);return n.length?n[0](e):qe.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=re(t.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=oi(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,n=0,r=0,i=0,s=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=fr(this.view);t.clientX-l.left<=r+6?e=-Xr(r-t.clientX):t.clientX+l.right>=s-6&&(e=Xr(t.clientX-s)),t.clientY-l.top<=i+6?n=-Xr(i-t.clientY):t.clientY+l.bottom>=o-6&&(n=Xr(t.clientY-o)),this.setScrollSpeed(e,n)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],i=null;if(r.empty){let t=_r(this.atoms,r.from,0);t!=r.from&&(i=Q.cursor(t,-1))}else{let t=_r(this.atoms,r.from,-1),e=_r(this.atoms,r.to,1);t==r.from&&e==r.to||(i=Q.range(r.from==r.anchor?t:e,r.from==r.head?t:e))}i&&(e||(e=t.ranges.slice()),e[n]=i)}return e?Q.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Wr=Object.create(null),jr=Object.create(null),Gr=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function Yr(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function Zr(t,e){e=Yr(t.state,Vn,e);let n,{state:r}=t,i=1,s=r.toText(e),o=s.lines==r.selection.ranges.length,l=null!=ai&&r.selection.ranges.every((t=>t.empty))&&ai==s.toString();if(l){let t=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==t)return{range:n};t=l.from;let a=r.toText((o?s.line(i++).text:e)+r.lineBreak);return{changes:{from:l.from,insert:a},range:Q.cursor(n.from+a.length)}}))}else n=o?r.changeByRange((t=>{let e=s.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:Q.cursor(t.from+e.length)}})):r.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Kr(t,e,n,r){if(1==r)return Q.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(0==i.length)return Q.cursor(e);0==s?n=1:s==i.length&&(n=-1);let o=s,l=s;n<0?o=g(i.text,s,!1):l=g(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let t=g(i.text,o,!1);if(r(i.text.slice(t,o))!=a)break;o=t}for(;l<i.length;){let t=g(i.text,l);if(r(i.text.slice(l,t))!=a)break;l=t}return Q.range(o+i.from,l+i.from)}(t.state,e,n);{let n=hn.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),i=n?n.posAtStart:r.from,s=n?n.posAtEnd:r.to;return s<t.state.doc.length&&s==r.to&&s++,Q.range(i,s)}}jr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Wr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),jr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},jr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Wr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(Fn))if(n=r(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=ei(t,e),r=oi(e),i=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),i=i.map(t.changes))},get(e,s,o){let l,a=ei(t,e),u=Kr(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let e=Kr(t,n.pos,n.bias,r),i=Math.min(e.from,u.from),s=Math.max(e.to,u.to);u=i<u.from?Q.range(i,s):Q.range(s,i)}return s?i.replaceRange(i.main.extend(u.from,u.to)):o&&1==r&&i.ranges.length>1&&(l=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Q.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(i,a.pos))?l:o?i.addRange(u):Q.create([u])}}}(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new zr(t,e,n,r)),r&&t.observer.ignore((()=>{Re(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let i=t.inputState.mouseSelection;if(i)return i.start(e),!1===i.dragging}return!1};let Jr=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function ti(t,e,n,r){let i=hn.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Jr(n,r,o))return-1;let l=i.coordsAt(s,1);return l&&Jr(n,r,l)?1:o&&o.bottom>=r?-1:1}function ei(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:ti(t,n,e.clientX,e.clientY)}}const ni=qe.ie&&qe.ie_version<=11;let ri=null,ii=0,si=0;function oi(t){if(!ni)return t.detail;let e=ri,n=si;return ri=t,si=Date.now(),ii=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(ii+1)%3:1}function li(t,e,n,r){if(!(n=Yr(t.state,Vn,n)))return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&function(t,e){let n=t.state.facet($n);return n.length?n[0](e):qe.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,l={from:i,insert:n},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Wr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let t=r.posAtStart,e=t+r.length;(t>=n.to||e<=n.from)&&(n=Q.range(t,e))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Yr(t.state,Xn,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Wr.dragend=t=>(t.inputState.draggedContent=null,!1),Wr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&li(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),s()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return li(t,e,n,!0),!0}return!1},Wr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Gr?null:e.clipboardData;return n?(Zr(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),Zr(t,n.value)}),50)}(t),!1)};let ai=null;Wr.copy=Wr.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let s=t.doc.lineAt(r);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:Yr(t,Xn,e.join(t.lineBreak)),ranges:n,linewise:r}}(t.state);if(!n&&!i)return!1;ai=i?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=Gr?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),!1)};const ui=ct.define();function ci(t,e){let n=[];for(let r of t.facet(qn)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:ui.of(!0)}):null}function hi(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=ci(t.state,e);n?t.dispatch(n):t.update([])}}),10)}jr.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),hi(t)},jr.blur=t=>{t.observer.clearSelectionRange(),hi(t)},jr.compositionstart=jr.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},jr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,qe.chrome&&qe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},jr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Wr.beforeinput=(t,e)=>{var n,r;if("insertReplacementText"==e.inputType&&t.observer.editContext){let r=null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),i=e.getTargetRanges();if(r&&i.length){let e=i[0],n=t.posAtDOM(e.startContainer,e.startOffset),s=t.posAtDOM(e.endContainer,e.endOffset);return $r(t,{from:n,to:s,insert:t.state.toText(r)},null),!0}}let i;if(qe.chrome&&qe.android&&(i=Hr.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let e=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return qe.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),qe.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>jr.compositionend(t,e)),20),!1};const fi=new Set;const di=["pre-wrap","normal","pre-line","break-spaces"];let vi=!1;function gi(){vi=!1}class pi{constructor(t){this.lineWrapping=t,this.doc=n.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return di.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,i,s){let o=di.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=i,l){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class mi{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Ri{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?rn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof an?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Ri(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var wi=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(wi||(wi={}));const Oi=.001;class xi{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Oi&&(vi=!0),this.height=t)}replace(t,e,n){return xi.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this,s=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:l,toA:a,fromB:u,toB:c}=r[o],h=i.lineAt(l,wi.ByPosNoHeight,n.setDoc(e),0,0),f=h.to>=a?h:i.lineAt(a,wi.ByPosNoHeight,n,0,0);for(c+=f.to-a,a=f.to;o>0&&h.from<=r[o-1].toA;)l=r[o-1].fromA,u=r[o-1].fromB,o--,l<h.from&&(h=i.lineAt(l,wi.ByPosNoHeight,n,0,0));u+=h.from-l,l=h.from;let d=Ai.build(n.setDoc(s),t,u,c);i=yi(i,i.replace(l,a,d))}return i.updateHeight(n,0)}static empty(){return new ki(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new Ti(xi.of(t.slice(0,e)),s,xi.of(t.slice(n)))}}function yi(t,e){return t==e?t:(t.constructor!=e.constructor&&(vi=!0),e)}xi.prototype.size=1;class bi extends xi{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new Ri(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,s){t<=i+this.length&&e>=i&&s(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ki extends bi{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new Ri(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof ki||r instanceof Ci&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Ci?r=new ki(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):xi.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ci extends xi{constructor(t){super(t,0)}heightMetrics(t,e){let n,r=t.doc.lineAt(e).number,i=t.doc.lineAt(e+this.length).number,s=i-r+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);n=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else n=this.height/s;return{firstLine:r,lastLine:i,perLine:n,perChar:o}}blockAt(t,e,n,r){let{firstLine:i,lastLine:s,perLine:o,perChar:l}=this.heightMetrics(e,r);if(e.lineWrapping){let i=r+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),s=e.doc.lineAt(i),a=o+s.length*l,u=Math.max(n,t-a/2);return new Ri(s.from,s.length,u,a,0)}{let r=Math.max(0,Math.min(s-i,Math.floor((t-n)/o))),{from:l,length:a}=e.doc.line(i+r);return new Ri(l,a,n+o*r,o,0)}}lineAt(t,e,n,r,i){if(e==wi.ByHeight)return this.blockAt(t,n,r,i);if(e==wi.ByPosNoHeight){let{from:e,to:r}=n.doc.lineAt(t);return new Ri(e,r-e,0,0,0)}let{firstLine:s,perLine:o,perChar:l}=this.heightMetrics(n,i),a=n.doc.lineAt(t),u=o+a.length*l,c=a.number-s,h=r+o*c+l*(a.from-i-c);return new Ri(a.from,a.length,Math.max(r,Math.min(h,r+this.height-u)),u,0)}forEachLine(t,e,n,r,i,s){t=Math.max(t,i),e=Math.min(e,i+this.length);let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(n,i);for(let u=t,c=r;u<=e;){let e=n.doc.lineAt(u);if(u==t){let n=e.number-o;c+=l*n+a*(t-i-n)}let r=l+a*e.length;s(new Ri(e.from,e.length,c,r,0)),c+=r,u=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof Ci?n[n.length-1]=new Ci(t.length+r):n.push(null,new Ci(r-1))}if(t>0){let e=n[0];e instanceof Ci?n[0]=new Ci(t+e.length):n.unshift(new Ci(t-1),null)}return xi.of(n)}decomposeLeft(t,e){e.push(new Ci(t-1),null)}decomposeRight(t,e){e.push(null,new Ci(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],s=Math.max(e,r.from),o=-1;for(r.from>e&&n.push(new Ci(r.from-e-1).updateHeight(t,e));s<=i&&r.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==o?o=i:Math.abs(i-o)>=Oi&&(o=-2);let l=new ki(e,i);l.outdated=!1,n.push(l),s+=e+1}s<=i&&n.push(null,new Ci(i-s).updateHeight(t,s));let l=xi.of(n);return(o<0||Math.abs(l.height-this.height)>=Oi||Math.abs(o-this.heightMetrics(t,e).perLine)>=Oi)&&(vi=!0),yi(this,l)}return(n||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Ti extends xi{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let s=r+this.left.height,o=i+this.left.length+this.break,l=e==wi.ByHeight?t<s:t<o,a=l?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,s,o);if(this.break||(l?a.to<o:a.from>o))return a;let u=e==wi.ByPosNoHeight?wi.ByPosNoHeight:wi.ByPos;return l?a.join(this.right.lineAt(o,u,n,s,o)):this.left.lineAt(o,u,n,r,i).join(a)}forEachLine(t,e,n,r,i,s){let o=r+this.left.height,l=i+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,i,s),e>=l&&this.right.forEachLine(t,e,n,o,l,s);else{let a=this.lineAt(l,wi.ByPos,n,r,i);t<a.from&&this.left.forEachLine(t,a.from-1,n,r,i,s),a.to>=t&&a.from<=e&&s(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,o,l,s)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let s=i.length;for(let t of n)i.push(t);if(t>0&&Si(i,s-1),e<this.length){let t=i.length;this.decomposeRight(e,i),Si(i,t)}return xi.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?xi.of(this.break?[t,null,e]:[t,e]):(this.left=yi(this.left,t),this.right=yi(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:s}=this,o=e+i.length+this.break,l=null;return r&&r.from<=e+i.length&&r.more?l=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=o+s.length&&r.more?l=s=s.updateHeight(t,o,n,r):s.updateHeight(t,o,n),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Si(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof Ci&&(r=t[e+1])instanceof Ci&&t.splice(e-1,3,new Ci(n.length+1+r.length))}class Ai{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof ki?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new ki(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new bi(s,r,n)):(s||i||r>=5)&&this.addLineDeco(r,i,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new ki(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Ci(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof ki)return t;let e=new ki(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof ki||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ki(0,-1));let n=t;for(let t of this.nodes)t instanceof ki&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let i=new Ai(n,t);return Et.spans(e,n,r,i,0),i.finish(n)}}class Pi{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&cn(t,e,this.changes,5)}}function _i(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=r.body;)if(1==e.nodeType){let n=e,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();s=Math.max(s,r.left),o=Math.min(o,r.right),l=Math.max(l,r.top),a=Math.min(e==t.parentNode?i.innerHeight:a,r.bottom)}e="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function Ei(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Li{constructor(t,e,n,r){this.from=t,this.to=e,this.size=n,this.displaySize=r}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t,e){return sn.replace({widget:new Di(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Di extends nn{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Qi{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=$i,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(sr).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new pi(e),this.stateDeco=t.facet(or).filter((t=>"function"!=typeof t)),this.heightMap=xi.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle.setDoc(t.doc),[new vr(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=sn.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineBlockAt(r);t.push(new Ii(e,n))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?$i:new Fi(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(Bi(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(or).filter((t=>"function"!=typeof t));let r=t.changedRanges,i=vr.extendWithRanges(r,function(t,e,n){let r=new Pi;return Et.compare(t,e,n,r,0),r.changes}(n,this.stateDeco,t?t.changes:T.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);gi(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=s||vi)&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=i.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let a=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,t.flags|=this.updateForViewport(),(a||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(Wn)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?mn.RTL:mn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=e.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let{scaleX:t,scaleY:n}=ve(e,l);(t>.005&&Math.abs(this.scaleX-t)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=t,this.scaleY=n,u|=8,o=a=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==f||(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=8);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=ye(t.scrollDOM);let v=(this.printing?Ei:_i)(e,this.paddingTop),g=v.top-this.pixelViewport.top,p=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let R=l.width;if(this.contentDOMWidth==R&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,u|=8),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(o=!0),o||i.lineWrapping&&Math.abs(R-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:r,textHeight:l}=t.docView.measureTextSize();o=n>0&&i.refresh(s,n,r,l,R/r,e),o&&(t.docView.minWidth=0,u|=8)}g>0&&p>0?c=Math.max(g,p):g<0&&p<0&&(c=Math.min(g,p)),gi();for(let r of this.viewports){let s=r.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(r);this.heightMap=(o?xi.empty().applyChanges(this.stateDeco,n.empty,this.heightOracle,[new vr(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new mi(r.from,s))}vi&&(u|=2)}let w=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(2&u&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(2&u||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,l=new Ii(r.lineAt(s-1e3*n,wi.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),wi.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(t,wi.ByPos,i,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-s,l=new Ii(r.lineAt(n-500,wi.ByHeight,i,0,0).from,r.lineAt(n+s+500,wi.ByHeight,i,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new Ii(this.heightMap.lineAt(n,wi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,wi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,wi.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(e,wi.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||r<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>s-2e3&&i<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new Li(e.mapPos(r.from),e.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,s=r<<1;if(this.defaultTextDirection!=mn.LTR&&!n)return[];let o=[],l=(r,s,a,u)=>{if(s-r<i)return;let c=this.state.selection.main,h=[c.from];c.empty||h.push(c.to);for(let t of h)if(t>r&&t<s)return l(r,t-10,a,u),void l(t+10,s,a,u);let f=function(t,e){for(let n of t)if(e(n))return n;return}(t,(t=>t.from>=a.from&&t.to<=a.to&&Math.abs(t.from-r)<i&&Math.abs(t.to-s)<i&&!h.some((e=>t.from<e&&t.to>e))));if(!f){if(s<a.to&&e&&n&&e.visibleRanges.some((t=>t.from<=s&&t.to>=s))){let t=e.moveToLineBoundary(Q.cursor(s),!1,!0).head;t>r&&(s=t)}let t=this.gapSize(a,r,s,u);f=new Li(r,s,t,n||t<2e6?t:2e6)}o.push(f)},a=e=>{if(e.length<s||e.type!=rn.Text)return;let i=function(t,e,n){let r=[],i=t,s=0;Et.spans(n,t,e,{span(){},point(t,e){t>i&&(r.push({from:i,to:t}),s+=t-i),i=e}},20),i<e&&(r.push({from:i,to:e}),s+=e-i);return{total:s,ranges:r}}(e.from,e.to,this.stateDeco);if(i.total<s)return;let o,a,u=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let t,n,s=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=u){let r=Ni(i,u),o=((this.visibleBottom-this.visibleTop)/2+s)/e.height;t=r-o,n=r+o}else t=(this.visibleTop-e.top-s)/e.height,n=(this.visibleBottom-e.top+s)/e.height;o=Mi(i,t),a=Mi(i,n)}else{let n=i.total*this.heightOracle.charWidth,s=r*this.heightOracle.charWidth,l=0;if(n>2e6)for(let n of t)n.from>=e.from&&n.from<e.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+l<this.pixelViewport.left&&(l=n.size-n.displaySize);let c,h,f=this.pixelViewport.left+l,d=this.pixelViewport.right+l;if(null!=u){let t=Ni(i,u),e=((d-f)/2+s)/n;c=t-e,h=t+e}else c=(f-s)/n,h=(d+s)/n;o=Mi(i,c),a=Mi(i,h)}o>e.from&&l(e.from,o,e,i),a<e.to&&l(a,e.to,e,i)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(a):a(t);return o}gapSize(t,e,n,r){let i=Ni(r,n)-Ni(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){Li.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=sn.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Et.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Bi(this.heightMap.lineAt(t,wi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||Bi(this.heightMap.lineAt(this.scaler.fromDOM(t),wi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Bi(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ii{constructor(t,e){this.from=t,this.to=e}}function Mi({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],s=i-n;if(r<=s)return n+r;r-=s}}function Ni(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}const $i={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class Fi{constructor(t,e,n){let r=0,i=0,s=0;this.viewports=n.map((({from:n,to:i})=>{let s=e.lineAt(n,wi.ByPos,t,0,0).top,o=e.lineAt(i,wi.ByPos,t,0,0).bottom;return r+=o-s,{from:n,to:i,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=s+(t.top-i)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return r+(t-n)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);n=i.bottom,r=i.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return n+(t-r)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);n=i.bottom,r=i.domBottom}}eq(t){return t instanceof Fi&&(this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to)))}}function Bi(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ri(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map((t=>Bi(t,e))):t._content)}const Ui=N.define({combine:t=>t.join(" ")}),Hi=N.define({combine:t=>t.indexOf(!0)>-1}),qi=jt.newName(),Vi=jt.newName(),Xi=jt.newName(),zi={"&light":"."+Vi,"&dark":"."+Xi};function Wi(t,e,n){return new jt(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const ji=Wi("."+qi,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},zi),Gi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Yi=qe.ie&&qe.ie_version<=11;class Zi{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new ge,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(qe.ie&&qe.ie_version<=11||qe.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===t.constructor.EDIT_CONTEXT||qe.chrome&&qe.chrome_version<126||(this.editContext=new ts(t),t.state.facet(Jn)&&(t.contentDOM.editContext=this.editContext.editContext)),Yi&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(Jn)?n.root.activeElement!=this.dom:!se(this.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(t)?e||(this.selectionChanged=!1):(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!n.state.selection.main.empty&&r.focusNode&&le(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=re(t.root);if(!e)return!1;let n=qe.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return Ji(t,n)}let n=null;function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?Ji(t,n):null}(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let r=se(this.dom,n);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,he(n));;)if(r){if(1!=n.nodeType)return!1;let t=n.childNodes[r-1];"false"==t.contentEditable?r--:(n=t,r=he(n))}else{if(n==t)return!0;r=ae(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Gi),Yi&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Yi&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;if(t){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&Oe(this.dom,t.key,t.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&se(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Mr(this.view,t,e,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=Nr(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=Ki(e,t.previousSibling||t.target.previousSibling,-1),r=Ki(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Jn)!=t.state.facet(Jn)&&(t.view.contentDOM.editContext=t.state.facet(Jn)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Ki(t,e,n){for(;e;){let r=Se.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Ji(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return le(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}class ts{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let{anchor:r}=t.state.selection.main,i={from:this.toEditorPos(e.updateRangeStart),to:this.toEditorPos(e.updateRangeEnd),insert:n.of(e.text.split("\n"))};i.from==this.from&&r<this.from?i.from=r:i.to==this.to&&r>this.to&&(i.to=r),(i.from!=i.to||i.insert.length)&&(this.pendingContextChange=i,t.state.readOnly||$r(t,i,Q.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=n=>{let r=[],i=null;for(let e=this.toEditorPos(n.rangeStart),s=this.toEditorPos(n.rangeEnd);e<s;e++){let n=t.coordsForChar(e);i=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||i||new DOMRect,r.push(i)}e.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=e=>{let n=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,r=t.underlineThickness;if("None"!=e&&"None"!=r){let i=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==r?1:2}px`;n.push(sn.mark({attributes:{style:i}}).range(this.toEditorPos(t.rangeStart),this.toEditorPos(t.rangeEnd)))}}t.dispatch({effects:Zn.of(sn.set(n))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let t in this.handlers)e.addEventListener(t,this.handlers[t]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=re(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,r=this.pendingContextChange;return t.changes.iterChanges(((i,s,o,l,a)=>{if(n)return;let u=a.length-(s-i);if(r&&s>=r.to){if(r.from==i&&r.to==s&&r.insert.eq(a))return r=this.pendingContextChange=null,e+=u,void(this.to+=u);r=null,this.revertPending(t.state)}if(i+=e,(s+=e)<=this.from)this.from+=u,this.to+=u;else if(i<this.to){if(i<this.from||s>this.to||this.to-this.from+a.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(i),this.toContextPos(s),a.toString()),this.to+=u}e+=u})),r&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange;this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),r=this.toContextPos(e.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class es{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(t=>t.forEach((t=>n(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new Qi(t.state||Ct.create(t)),t.scrollTo&&t.scrollTo.is(Yn)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(er).map((t=>new rr(t)));for(let t of this.plugins)t.update(this);this.observer=new Zi(this),this.inputState=new Fr(this),this.inputState.ensureHandlers(this.plugins),this.docView=new pr(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...t){let e=1==t.length&&t[0]instanceof vt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,i=this.state;for(let e of t){if(e.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}if(this.destroyed)return void(this.viewState.state=i);let s=this.hasFocus,o=0,l=null;t.some((t=>t.annotation(ui)))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=ci(i,s),l||(o=1));let a=this.observer.delayedAndroidKey,u=null;if(a?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(u=null)):this.observer.clear(),i.facet(Ct.phrases)!=this.state.facet(Ct.phrases))return this.setState(i);e=gr.create(this,i,t),e.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(c&&(c=c.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;c=new Gn(t.empty?t:Q.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Yn)&&(c=t.value.clip(this.state))}this.viewState.update(e,c),this.bidiCache=is.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(dr)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(Ui)!=e.state.facet(Ui)&&(this.viewState.mustMeasureContent=!0),(n||r||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(Un))try{t(e)}catch(t){Kn(this.state,t,"update listener")}(l||u)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!Nr(this,u)&&a.force&&Oe(this.contentDOM,a.key,a.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Qi(t),this.plugins=t.facet(er).map((t=>new rr(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new pr(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(er),n=t.state.facet(er);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new rr(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){Kn(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(ye(n))i=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(r);i=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&o||([this.measureRequests,l]=[l,this.measureRequests]);let a=l.map((t=>{try{return t.read(this)}catch(t){return Kn(this.state,t),rs}})),u=gr.create(this,this.state,[]),c=!1;u.flags|=o,e?e.flags|=o:e=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),c=this.docView.update(u),c&&this.docViewUpdate());for(let t=0;t<l.length;t++)if(a[t]!=rs)try{let e=l[t];e.write&&e.write(a[t],this)}catch(t){Kn(this.state,t)}if(c&&this.docView.updateSelection(!0),!u.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(t>1||t<-1){r+=t,n.scrollTop=r/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(Un))t(e)}get themeClasses(){return qi+" "+(this.state.facet(Hi)?Xi:Vi)+" "+this.state.facet(Ui)}updateAttrs(){let t=ss(this,ir,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Jn)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),ss(this,sr,e);let n=this.observer.ignore((()=>{let n=tn(this.contentDOM,this.contentAttrs,e),r=tn(this.dom,this.editorAttrs,t);return n||r}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)if(t.is(es.announce)){e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value}}mountStyles(){this.styleModules=this.state.facet(dr);let t=this.state.facet(es.cspNonce);jt.mount(this.root,this.styleModules.concat(ji).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Er(this,t,Pr(this,t,e,n))}moveByGroup(t,e){return Er(this,t,Pr(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return t=>{let e=r(t);return i==xt.Space&&(i=e),i==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),r=this.textDirectionAt(t.from),i=n[e?n.length-1:0];return Q.cursor(i.side(e,r)+t.from,i.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let i=Ar(t,e.head),s=r&&i.type==rn.Text&&(t.lineWrapping||i.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(i.from),o=t.posAtCoords({x:n==(r==mn.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=o)return Q.cursor(o,n?-1:1)}return Q.cursor(n?i.to:i.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return Er(this,t,function(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Q.cursor(i,e.assoc);let o,l=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)null==l&&(l=u.left-a.left),o=s<0?u.top:u.bottom;else{let e=t.viewState.lineBlockAt(i);null==l&&(l=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-e.from))),o=(s<0?e.top:e.bottom)+c}let h=a.left+l,f=null!=r?r:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=o+(f+e)*s,r=Tr(t,{x:h,y:n},!1,s);if(n<a.top||n>a.bottom||(s<0?r<i:r>i)){let e=t.docView.coordsForChar(r),i=!e||n<e.top?-1:1;return Q.cursor(r,i,void 0,l)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Tr(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return fe(n,i[Sn.find(i,t-r.from,-1,e)].dir==mn.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(zn)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>ns)return Dn(t.length);let e,n=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==n&&(r.fresh||An(r.isolates,e=cr(this,t))))return r.order;e||(e=cr(this,t));let r=Ln(t.text,n,e);return this.bidiCache.push(new is(t.from,t.to,n,e,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||qe.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Re(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Yn.of(new Gn("number"==typeof t?Q.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return Yn.of(new Gn(Q.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return nr.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return nr.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=jt.newName(),r=[Ui.of(n),dr.of(Wi(`.${n}`,t))];return e&&e.dark&&r.push(Hi.of(!0)),r}static baseTheme(t){return Y.lowest(dr.of(Wi("."+qi,t,zi)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&Se.get(n)||Se.get(t);return(null===(e=null==r?void 0:r.rootView)||void 0===e?void 0:e.view)||null}}es.styleModule=dr,es.inputHandler=Hn,es.clipboardInputFilter=Vn,es.clipboardOutputFilter=Xn,es.scrollHandler=jn,es.focusChangeEffect=qn,es.perLineTextDirection=zn,es.exceptionSink=Bn,es.updateListener=Un,es.editable=Jn,es.mouseSelectionStyle=Fn,es.dragMovesSelection=$n,es.clickAddsSelectionRange=Nn,es.decorations=or,es.outerDecorations=lr,es.atomicRanges=ar,es.bidiIsolatedRanges=ur,es.scrollMargins=hr,es.darkTheme=Hi,es.cspNonce=N.define({combine:t=>t.length?t[0]:""}),es.contentAttributes=sr,es.editorAttributes=ir,es.lineWrapping=es.contentAttributes.of({class:"cm-lineWrapping"}),es.announce=dt.define();const ns=4096,rs={};class is{constructor(t,e,n,r,i,s){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=i,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],r=t.length?t[t.length-1].dir:mn.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let s=t[i];s.dir!=r||e.touchesRange(s.from,s.to)||n.push(new is(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function ss(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let e=r[i],s="function"==typeof e?e(t):e;s&&Ze(s,n)}return n}const os=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function ls(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const as=Y.default(es.domEventHandlers({keydown:(t,e)=>gs(hs(e.state),t,e,"editor")})),us=N.define({enables:as}),cs=new WeakMap;function hs(t){let e=t.facet(us),n=cs.get(e);return n||cs.set(e,n=function(t,e=os){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,r,s,o,l)=>{var a,u;let c=n[t]||(n[t]=Object.create(null)),h=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,s,o,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?o=!0:i=!0}}return r&&(l="Alt-"+l),i&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<h.length;e++){let n=h.slice(0,e).join(" ");i(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let r=fs={view:e,prefix:n,scope:t};return setTimeout((()=>{fs==r&&(fs=null)}),ds),!0}]})}let f=h.join(" ");i(f,!1);let d=c[f]||(c[f]={preventDefault:!1,stopPropagation:!1,run:(null===(u=null===(a=c._any)||void 0===a?void 0:a.run)||void 0===u?void 0:u.slice())||[]});s&&d.run.push(s),o&&(d.preventDefault=!0),l&&(d.stopPropagation=!0)};for(let r of t){let t=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=r;for(let e in t)t[e].run.push((t=>i(t,vs)))}let i=r[e]||r.key;if(i)for(let e of t)s(e,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&s(e,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}let fs=null;const ds=4e3;let vs=null;function gs(t,e,n,r){vs=e;let i=function(t){var e=!(Jt&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||te&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Kt:Zt)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=y(O(i,0))==i.length&&" "!=i,o="",l=!1,a=!1,u=!1;fs&&fs.view==n&&fs.scope==r&&(o=fs.prefix+" ",Vr.indexOf(e.keyCode)<0&&(a=!0,fs=null));let c,h,f=new Set,d=t=>{if(t){for(let e of t.run)if(!f.has(e)&&(f.add(e),e(n)))return t.stopPropagation&&(u=!0),!0;t.preventDefault&&(t.stopPropagation&&(u=!0),a=!0)}return!1},v=t[r];return v&&(d(v[o+ls(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&(c=Zt[e.keyCode])&&c!=i?(d(v[o+ls(c,e,!0)])||e.shiftKey&&(h=Kt[e.keyCode])!=i&&h!=c&&d(v[o+ls(h,e,!1)]))&&(l=!0):s&&e.shiftKey&&d(v[o+ls(i,e,!0)])&&(l=!0),!l&&d(v._any)&&(l=!0)),a&&(l=!0),l&&u&&e.stopPropagation(),vs=null,l}class ps{constructor(t,e,n,r,i){this.className=t,this.left=e,this.top=n,this.width=r,this.height=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=ms(t);return[new ps(e,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==mn.LTR,o=t.contentDOM,l=o.getBoundingClientRect(),a=ms(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=Ar(t,r),v=Ar(t,i),g=d.type==rn.Text?d:null,p=v.type==rn.Text?v:null;g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=Rs(t,r,1,g));p&&(t.lineWrapping||v.widgetLineBreaks)&&(p=Rs(t,i,-1,p));if(g&&p&&g.from==p.from&&g.to==p.to)return R(w(n.from,n.to,g));{let e=g?w(n.from,null,g):O(d,!1),r=p?w(null,n.to,p):O(v,!0),i=[];return(g||d).to<(p||v).from-(g&&p?1:0)||d.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<r.top?i.push(m(h,e.bottom,f,r.top)):e.bottom<r.top&&t.elementAtHeight((e.bottom+r.top)/2).type==rn.Text&&(e.bottom=r.top=(e.bottom+r.top)/2),R(e).concat(i).concat(R(r))}function m(t,n,r,i){return new ps(e,t-a.left,n-a.top-.01,r-t,i-n+.01)}function R({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(m(n[i],t,n[i+1],e));return r}function w(e,n,r){let i=1e9,o=-1e9,l=[];function a(e,n,a,u,c){let d=t.coordsAtPos(e,e==r.to?-2:2),v=t.coordsAtPos(a,a==r.from?2:-2);d&&v&&(i=Math.min(d.top,v.top,i),o=Math.max(d.bottom,v.bottom,o),c==mn.LTR?l.push(s&&n?h:d.left,s&&u?f:v.right):l.push(!s&&u?h:v.left,!s&&n?f:d.right))}let u=null!=e?e:r.from,c=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>u&&r.from<c)for(let i=Math.max(r.from,u),s=Math.min(r.to,c);;){let r=t.state.doc.lineAt(i);for(let o of t.bidiSpans(r)){let t=o.from+r.from,l=o.to+r.from;if(t>=s)break;l>i&&a(Math.max(t,i),null==e&&t<=u,Math.min(l,s),null==n&&l>=c,o.dir)}if(i=r.to+1,i>=s)break}return 0==l.length&&a(u,null==e,c,null==n,t.textDirection),{top:i,bottom:o,horizontal:l}}function O(t,e){let n=l.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(t,e,n)}}function ms(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==mn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Rs(t,e,n,r){let i=t.coordsAtPos(e,2*n);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=t.posAtCoords({x:s.left+1,y:o}),a=t.posAtCoords({x:s.right-1,y:o});return null==l||null==a?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}class ws{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(Os)!=t.state.facet(Os)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,n=t.facet(Os);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>!function(t,e){return t.constructor==e.constructor&&t.eq(e)}(t,this.drawn[e])))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Os=N.define();function xs(t){return[nr.define((e=>new ws(e,t))),Os.of(t)]}const ys=!qe.ios,bs=N.define({combine:t=>Tt(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function ks(t={}){return[bs.of(t),Ts,As,_s,Wn.of(!0)]}function Cs(t){return t.startState.facet(bs)!=t.state.facet(bs)}const Ts=xs({above:!0,markers(t){let{state:e}=t,n=e.facet(bs),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||ys:n.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=i.empty?i:Q.cursor(i.head,i.head>i.anchor?-1:1);for(let i of ps.forRange(t,e,n))r.push(i)}}return r},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let n=Cs(t);return n&&Ss(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Ss(e.state,t)},class:"cm-cursorLayer"});function Ss(t,e){e.style.animationDuration=t.facet(bs).cursorBlinkRate+"ms"}const As=xs({above:!1,markers:t=>t.state.selection.ranges.map((e=>e.empty?[]:ps.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e))),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||Cs(t),class:"cm-selectionLayer"}),Ps={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};ys&&(Ps[".cm-line"].caretColor=Ps[".cm-content"].caretColor="transparent !important");const _s=Y.highest(es.theme(Ps)),Es=dt.define({map:(t,e)=>null==t?null:e.mapPos(t)}),Ls=V.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(Es)?e.value:t),t))}),Ds=nr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Ls);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Ls)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Ls),n=null!=e&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Ls)!=t&&this.view.dispatch({effects:Es.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Qs(t,e,n,r,i){e.lastIndex=0;for(let s,o=t.iterRange(n,r),l=n;!o.next().done;l+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(l+s.index,s)}class Is{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:i,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(t,e,n,i)=>r(i,n,n+t[0].length,t,e);else if("function"==typeof n)this.addMatch=(t,e,r,i)=>{let s=n(t,e,r);s&&i(r,r+t[0].length,s)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,r,i)=>i(r,r+t[0].length,n)}this.boundary=i,this.maxLength=s}createDeco(t){let e=new Lt,n=e.add.bind(e);for(let{from:e,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(t,this.maxLength))Qs(t.state.doc,this.regexp,e,r,((e,r)=>this.addMatch(r,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,s,o)=>{o>t.view.viewport.from&&s<t.view.viewport.to&&(n=Math.min(s,n),r=Math.max(o,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let s=Math.max(i.from,n),o=Math.min(i.to,r);if(o>s){let n=t.state.doc.lineAt(s),r=n.to<o?t.state.doc.lineAt(o):n,l=Math.max(i.from,n.from),a=Math.min(i.to,r.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){l=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){a=o;break}}let u,c=[],h=(t,e,n)=>c.push(n.range(t,e));if(n==r)for(this.regexp.lastIndex=l-n.from;(u=this.regexp.exec(n.text))&&u.index<a-n.from;)this.addMatch(u,t,u.index+n.from,h);else Qs(t.state.doc,this.regexp,l,a,((e,n)=>this.addMatch(n,t,e,h)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:c})}}return e}}const Ms=null!=/x/.unicode?"gu":"g",Ns=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Ms),$s={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Fs=null;const Bs=N.define({combine(t){let e=Tt(t,{render:null,specialChars:Ns,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==Fs&&"undefined"!=typeof document&&document.body){let e=document.body.style;Fs=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Fs||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Ms)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ms)),e}});function Us(t={}){return[Bs.of(t),Hs||(Hs=nr.fromClass(class{constructor(t){this.view=t,this.decorations=sn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Bs)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Is({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=O(e[0],0);if(9==s){let t=i.lineAt(r),e=n.state.tabSize,s=qt(t.text,e,r-t.from);return sn.replace({widget:new Vs((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=sn.replace({widget:new qs(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Bs);t.startState.facet(Bs)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let Hs=null;class qs extends nn{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+($s[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Vs extends nn{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Xs=sn.line({class:"cm-activeLine"}),zs=nr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Xs.range(i.from)),e=i.from)}return sn.set(n)}},{decorations:t=>t.decorations});const Ws=2e3;function js(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Ws?-1:i==r.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):qt(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function Gs(t,e){let n=js(t,e),r=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),i=t.state.doc.lineAt(e);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(t.changes)}},get(e,i,s){let o=js(t,e);if(!o)return r;let l=function(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Ws||n.off>Ws||e.col<0||n.col<0){let o=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let e=r;e<=i;e++){let n=t.doc.line(e);n.length<=l&&s.push(Q.range(n.from+o,n.to+l))}}else{let o=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let e=r;e<=i;e++){let n=t.doc.line(e),r=Vt(n.text,o,t.tabSize,!0);if(r<0)s.push(Q.cursor(n.to));else{let e=Vt(n.text,l,t.tabSize);s.push(Q.range(n.from+r,n.from+e))}}}return s}(t.state,n,o);return l.length?s?Q.create(l.concat(r.ranges)):Q.create(l):r}}:null}function Ys(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return es.mouseSelectionStyle.of(((t,n)=>e(n)?Gs(t,n):null))}const Zs={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Ks={style:"cursor: crosshair"};function Js(t={}){let[e,n]=Zs[t.key||"Alt"],r=nr.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)},mousemove(t){this.set(n(t))}}});return[r,es.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.isDown)?Ks:null}))]}const to="-10000px";class eo{constructor(t,e,n,r){this.facet=e,this.createTooltipView=n,this.removeTooltipView=r,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t));let i=null;this.tooltipViews=this.tooltips.map((t=>i=n(t,i)))}update(t,e){var n;let r=t.state.facet(this.facet),i=r.filter((t=>t));if(r===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],o=e?[]:null;for(let n=0;n<i.length;n++){let r=i[n],l=-1;if(r){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==r.create&&(l=t)}if(l<0)s[n]=this.createTooltipView(r,n?s[n-1]:null),o&&(o[n]=!!r.above);else{let r=s[n]=this.tooltipViews[l];o&&(o[n]=e[l]),r.update&&r.update(t)}}}for(let t of this.tooltipViews)s.indexOf(t)<0&&(this.removeTooltipView(t),null===(n=t.destroy)||void 0===n||n.call(t));return e&&(o.forEach(((t,n)=>e[n]=t)),e.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function no(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const ro=N.define({combine:t=>{var e,n,r;return{position:qe.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||no}}}),io=new WeakMap,so=nr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(ro);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new eo(t,ao,((t,e)=>this.createTooltip(t,e)),(t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()})),this.above=this.manager.tooltips.map((t=>!!t.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(ro);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",n.dom.appendChild(t)}return n.dom.style.position=this.position,n.dom.style.top=to,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(qe.gecko)r=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==to&&"0px"==t.style.left){let e=t.getBoundingClientRect();r=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(r||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,n=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(ro).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=t.pos[l],f=t.size[l];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){c.style.top=to;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,v=d?7:0,g=f.right-f.left,p=null!==(e=io.get(u))&&void 0!==e?e:f.bottom-f.top,m=u.offset||lo,R=this.view.textDirection==mn.LTR,w=f.width>r.right-r.left?R?r.left:r.right-f.width:R?Math.max(r.left,Math.min(h.left-(d?14:0)+m.x,r.right-g)):Math.min(Math.max(r.left,h.left-g+(d?14:0)-m.x),r.right-g),O=this.above[l];!a.strictSide&&(O?h.top-(f.bottom-f.top)-m.y<r.top:h.bottom+(f.bottom-f.top)+m.y>r.bottom)&&O==r.bottom-h.bottom>h.top-r.top&&(O=this.above[l]=!O);let x=(O?h.top-r.top:r.bottom-h.bottom)-v;if(x<p&&!1!==u.resize){if(x<this.view.defaultLineHeight){c.style.top=to;continue}io.set(u,p),c.style.height=(p=x)/s+"px"}else c.style.height&&(c.style.height="");let y=O?h.top-p-v-m.y:h.bottom+v+m.y,b=w+g;if(!0!==u.overlap)for(let t of o)t.left<b&&t.right>w&&t.top<y+p&&t.bottom>y&&(y=O?t.top-p-2-v:t.bottom+v+2);if("absolute"==this.position?(c.style.top=(y-t.parent.top)/s+"px",c.style.left=(w-t.parent.left)/i+"px"):(c.style.top=y/s+"px",c.style.left=w/i+"px"),d){let t=h.left+(R?m.x:-m.x)-(w+14-7);d.style.left=t/i+"px"}!0!==u.overlap&&o.push({left:w,top:y,right:b,bottom:y+p}),c.classList.toggle("cm-tooltip-above",O),c.classList.toggle("cm-tooltip-below",!O),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=to}},{eventObservers:{scroll(){this.maybeMeasure()}}}),oo=es.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),lo={x:0,y:0},ao=N.define({enables:[so,oo]}),uo=N.define({combine:t=>t.reduce(((t,e)=>t.concat(e)),[])});class co{static create(t){return new co(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new eo(t,uo,((t,e)=>this.createHostedView(t,e)),(t=>t.dom.remove()))}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const ho=ao.compute([uo],(t=>{let e=t.facet(uo);return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:co.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class fo{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,i=1;if(n instanceof ze)r=n.posAtStart;else{if(r=t.posAtCoords(e),null==r)return;let n=t.coordsAtPos(r);if(!n||e.y<n.top||e.y>n.bottom||e.x<n.left-t.defaultCharacterWidth||e.x>n.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(r)).find((t=>t.from<=r&&t.to>=r)),o=s&&s.dir==mn.RTL?-1:1;i=e.x<n.left?-o:o}let s=this.source(t,r,i);if(null==s?void 0:s.then){let e=this.pending={pos:r};s.then((n=>{this.pending==e&&(this.pending=null,!n||Array.isArray(n)&&!n.length||t.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(e=>Kn(t.state,e,"hover tooltip")))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(so),e=t?t.manager.tooltips.findIndex((t=>t.create==co.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r.length&&i&&!function(t,e){let n,{left:r,right:i,top:s,bottom:o}=t.getBoundingClientRect();if(n=t.querySelector(".cm-tooltip-arrow")){let t=n.getBoundingClientRect();s=Math.min(t.top,s),o=Math.max(t.bottom,o)}return e.clientX>=r-vo&&e.clientX<=i+vo&&e.clientY>=s-vo&&e.clientY<=o+vo}(i.dom,t)||this.pending){let{pos:i}=r[0]||this.pending,s=null!==(n=null===(e=r[0])||void 0===e?void 0:e.end)&&void 0!==n?n:i;(i==s?this.view.posAtCoords(this.lastMove)==i:function(t,e,n,r,i){let s=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,o)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}(this.view,i,s,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const vo=4;function go(t,e={}){let n=dt.define(),r=V.define({create:()=>[],update(t,r){if(t.length&&(e.hideOnChange&&(r.docChanged||r.selection)?t=[]:e.hideOn&&(t=t.filter((t=>!e.hideOn(r,t)))),r.docChanged)){let e=[];for(let n of t){let t=r.changes.mapPos(n.pos,-1,k.TrackDel);if(null!=t){let i=Object.assign(Object.create(null),n);i.pos=t,null!=i.end&&(i.end=r.changes.mapPos(i.end)),e.push(i)}}t=e}for(let e of r.effects)e.is(n)&&(t=e.value),e.is(mo)&&(t=[]);return t},provide:t=>uo.from(t)});return{active:r,extension:[r,nr.define((i=>new fo(i,t,r,n,e.hoverTime||300))),ho]}}function po(t,e){let n=t.plugin(so);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const mo=dt.define();const Ro=N.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function wo(t,e){let n=t.plugin(Oo),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const Oo=nr.fromClass(class{constructor(t){this.input=t.state.facet(bo),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(Ro);this.top=new xo(t,!0,e.topContainer),this.bottom=new xo(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(Ro);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new xo(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new xo(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(bo);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],s=[],o=[];for(let n of e){let e,l=this.specs.indexOf(n);l<0?(e=n(t.view),o.push(e)):(e=this.panels[l],e.update&&e.update(t)),r.push(e),(e.top?i:s).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(s);for(let t of o)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>es.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class xo{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=yo(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=yo(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function yo(t){let e=t.nextSibling;return t.remove(),e}const bo=N.define({enables:Oo});class ko extends St{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}ko.prototype.elementClass="",ko.prototype.toDOM=void 0,ko.prototype.mapMode=k.TrackBefore,ko.prototype.startSide=ko.prototype.endSide=-1,ko.prototype.point=!0;const Co=N.define(),To=N.define(),So={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Et.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ao=N.define();function Po(t){return[Eo(),Ao.of(Object.assign(Object.assign({},So),t))]}const _o=N.define({combine:t=>t.some((t=>t))});function Eo(t){let e=[Lo];return t&&!1===t.fixed&&e.push(_o.of(!0)),e}const Lo=nr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ao).map((e=>new Mo(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(_o),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(_o)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Et.iter(this.view.state.facet(Co),this.view.viewport.from),r=[],i=this.gutters.map((t=>new Io(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(t.type)){let e=!0;for(let s of t.type)if(s.type==rn.Text&&e){Qo(n,r,s.from);for(let t of i)t.line(this.view,s,r);e=!1}else if(s.widget)for(let t of i)t.widget(this.view,s)}else if(t.type==rn.Text){Qo(n,r,t.from);for(let e of i)e.line(this.view,t,r)}else if(t.widget)for(let e of i)e.widget(this.view,t);for(let t of i)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ao),n=t.state.facet(Ao),r=t.docChanged||t.heightChanged||t.viewportChanged||!Et.eq(t.startState.facet(Co),t.state.facet(Co),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new Mo(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>es.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==mn.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function Do(t){return Array.isArray(t)?t:[t]}function Qo(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Io{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=Et.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,i=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==r.elements.length){let e=new No(t,s,i,n);r.elements.push(e),r.dom.appendChild(e.dom)}else r.elements[this.i].update(t,s,i,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];Qo(this.cursor,r,e.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let s=this.gutter;(0!=r.length||s.config.renderEmptyElements)&&this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e),r=n?[n]:null;for(let n of t.state.facet(To)){let i=n(t,e.widget,e);i&&(r||(r=[])).push(i)}r&&this.addElement(t,e,r)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Mo{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,s=r.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();i=(t.top+t.bottom)/2}else i=r.clientY;let o=t.lineBlockAtHeight(i-t.documentTop);e.domEventHandlers[n](t,o,r)&&r.preventDefault()}));this.markers=Do(e.markers(t)),e.initialSpacer&&(this.spacer=new No(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Do(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!Et.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class No{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,s=0;;){let o=s,l=i<e.length?e[i++]:null,a=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(l)){o=t,a=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!l)break;l.toDOM&&(a?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),a&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const $o=N.define(),Fo=N.define(),Bo=N.define({combine:t=>Tt(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class Uo extends ko{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Ho(t,e){return t.state.facet(Bo).formatNumber(e,t.state)}const qo=Ao.compute([Bo],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet($o),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Uo(Ho(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,n)=>{for(let r of t.state.facet(Fo)){let i=r(t,e,n);if(i)return i}return null},lineMarkerChange:t=>t.startState.facet(Bo)!=t.state.facet(Bo),initialSpacer:t=>new Uo(Ho(t,Xo(t.state.doc.lines))),updateSpacer(t,e){let n=Ho(e.view,Xo(e.view.state.doc.lines));return n==t.number?t:new Uo(n)},domEventHandlers:t.facet(Bo).domEventHandlers})));function Vo(t={}){return[Bo.of(t),Eo(),qo]}function Xo(t){let e=9;for(;e<t;)e=10*e+9;return e}const zo=new class extends ko{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Wo=Co.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(zo.range(i)))}return Et.of(e)}));const jo=1024;let Go=0;class Yo{constructor(t,e){this.from=t,this.to=e}}class Zo{constructor(t={}){this.id=Go++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=tl.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Zo.closedBy=new Zo({deserialize:t=>t.split(" ")}),Zo.openedBy=new Zo({deserialize:t=>t.split(" ")}),Zo.group=new Zo({deserialize:t=>t.split(" ")}),Zo.isolate=new Zo({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Zo.contextHash=new Zo({perNode:!0}),Zo.lookAhead=new Zo({perNode:!0}),Zo.mounted=new Zo({perNode:!0});class Ko{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Zo.mounted.id]}}const Jo=Object.create(null);class tl{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):Jo,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new tl(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Zo.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(Zo.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}tl.none=new tl("",Object.create(null),0,8);class el{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let e of t){let t=e(n);t&&(r||(r=Object.assign({},n.props)),r[t[0].id]=t[1])}e.push(r?new tl(n.name,r,n.id,n.flags):n)}return new el(e)}}const nl=new WeakMap,rl=new WeakMap;var il;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(il||(il={}));class sl{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=Ko.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Rl(this.topNode,t)}cursorAt(t,e=0,n=0){let r=nl.get(this)||this.topNode,i=new Rl(r);return i.moveTo(t,e),nl.set(this,i._tree),i}get topNode(){return new hl(this,0,0,null)}resolve(t,e=0){let n=ul(nl.get(this)||this.topNode,t,e,!1);return nl.set(this,n),n}resolveInner(t,e=0){let n=ul(rl.get(this)||this.topNode,t,e,!0);return rl.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let r=t.resolveInner(e,n),i=null;for(let t=r instanceof hl?r:r.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(i||(i=[r])).push(s.resolve(e,n)),t=s}else{let s=Ko.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new hl(s.tree,s.overlay[0].from+t.from,-1,t);(i||(i=[r])).push(ul(o,e,n,!1))}}return i?pl(i):r}(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t,s=t.mode||0,o=(s&il.IncludeAnonymous)>0;for(let t=this.cursor(s|il.IncludeAnonymous);;){let s=!1;if(t.from<=i&&t.to>=r&&(!o&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&n&&(o||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:yl(tl.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new sl(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new sl(tl.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=jo,reused:s=[],minRepeatType:o=r.types.length}=t,l=Array.isArray(n)?new ol(n,n.length):n,a=r.types,u=0,c=0;function h(t,e,n,R,w,O){let{id:x,start:y,end:b,size:k}=l,C=c,T=u;for(;k<0;){if(l.next(),-1==k){let e=s[x];return n.push(e),void R.push(y-t)}if(-3==k)return void(u=x);if(-4==k)return void(c=x);throw new RangeError(`Unrecognized record size: ${k}`)}let S,A,P=a[x],_=y-t;if(b-y<=i&&(A=p(l.pos-e,w))){let e=new Uint16Array(A.size-A.skip),n=l.pos-A.size,i=e.length;for(;l.pos>n;)i=m(A.start,e,i);S=new ll(e,b-A.start,r),_=A.start-t}else{let t=l.pos-k;l.next();let e=[],n=[],r=x>=o?x:-1,s=0,a=b;for(;l.pos>t;)r>=0&&l.id==r&&l.size>=0?(l.end<=a-i&&(v(e,n,y,s,l.end,a,r,C,T),s=e.length,a=l.end),l.next()):O>2500?f(y,t,e,n):h(y,t,e,n,r,O+1);if(r>=0&&s>0&&s<e.length&&v(e,n,y,s,y,a,r,C,T),e.reverse(),n.reverse(),r>-1&&s>0){let t=d(P,T);S=yl(P,e,n,0,e.length,0,b-y,t,t)}else S=g(P,e,n,b-y,C-b,T)}n.push(S),R.push(_)}function f(t,e,n,s){let o=[],a=0,u=-1;for(;l.pos>e;){let{id:t,start:e,end:n,size:r}=l;if(r>4)l.next();else{if(u>-1&&e<u)break;u<0&&(u=n-i),o.push(t,e,n),a++,l.next()}}if(a){let e=new Uint16Array(4*a),i=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-i,e[n++]=o[t+2]-i,e[n++]=n;n.push(new ll(e,o[2]-i,r)),s.push(i-t)}}function d(t,e){return(n,r,i)=>{let s,o,l=0,a=n.length-1;if(a>=0&&(s=n[a])instanceof sl){if(!a&&s.type==t&&s.length==i)return s;(o=s.prop(Zo.lookAhead))&&(l=r[a]+s.length+o)}return g(t,n,r,i,l,e)}}function v(t,e,n,i,s,o,l,a,u){let c=[],h=[];for(;t.length>i;)c.push(t.pop()),h.push(e.pop()+n-s);t.push(g(r.types[l],c,h,o-s,a-o,u)),e.push(s-n)}function g(t,e,n,r,i,s,o){if(s){let t=[Zo.contextHash,s];o=o?[t].concat(o):[t]}if(i>25){let t=[Zo.lookAhead,i];o=o?[t].concat(o):[t]}return new sl(t,e,n,r,o)}function p(t,e){let n=l.fork(),r=0,s=0,a=0,u=n.end-i,c={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){c.size=r,c.start=s,c.skip=a,a+=4,r+=4,n.next();continue}let l=n.pos-t;if(t<0||l<i||n.start<u)break;let h=n.id>=o?4:0,f=n.start;for(n.next();n.pos>l;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=o&&(h+=4);n.next()}s=f,r+=t,a+=h}return(e<0||r==t)&&(c.size=r,c.start=s,c.skip=a),c.size>4?c:void 0}function m(t,e,n){let{id:r,start:i,end:s,size:a}=l;if(l.next(),a>=0&&r<o){let o=n;if(a>4){let r=l.pos-(a-4);for(;l.pos>r;)n=m(t,e,n)}e[--n]=o,e[--n]=s-t,e[--n]=i-t,e[--n]=r}else-3==a?u=r:-4==a&&(c=r);return n}let R=[],w=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,R,w,-1,0);let O=null!==(e=t.length)&&void 0!==e?e:R.length?w[0]+R[0].length:0;return new sl(a[t.topID],R.reverse(),w.reverse(),O)}(t)}}sl.empty=new sl(tl.none,[],[],0);class ol{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ol(this.buffer,this.index)}}class ll{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return tl.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return i+"("+s.join(",")+")"}findChild(t,e,n,r,i){let{buffer:s}=this,o=-1;for(let l=t;l!=e&&!(al(i,r,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,e,n){let r=this.buffer,i=new Uint16Array(e-t),s=0;for(let o=t,l=0;o<e;){i[l++]=r[o++],i[l++]=r[o++]-n;let e=i[l++]=r[o++]-n;i[l++]=r[o++]-t,s=Math.max(s,e)}return new ll(i,s,this.set)}}function al(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function ul(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof hl&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=r?0:il.IgnoreOverlays;if(r)for(let r=t,o=r.parent;o;r=o,o=r.parent)r instanceof hl&&r.index<0&&(null===(i=o.enter(e,n,s))||void 0===i?void 0:i.from)!=r.from&&(t=o);for(;;){let r=t.enter(e,n,s);if(!r)return t;t=r}}class cl{cursor(t=0){return new Rl(this,t)}getChild(t,e=null,n=null){let r=fl(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return fl(this,t,e,n)}resolve(t,e=0){return ul(this,t,e,!1)}resolveInner(t,e=0){return ul(this,t,e,!0)}matchContext(t){return dl(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class hl extends cl{constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],u=l[t]+s.from;if(al(r,n,u,u+a.length))if(a instanceof ll){if(i&il.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,e,n-u,r);if(o>-1)return new gl(new vl(s,a,t,u),null,o)}else if(i&il.IncludeAnonymous||!a.type.isAnonymous||wl(a)){let o;if(!(i&il.IgnoreMounts)&&(o=Ko.get(a))&&!o.overlay)return new hl(o.tree,u,t,s);let l=new hl(a,u,t,s);return i&il.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,r)}}if(i&il.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&il.IgnoreOverlays)&&(r=Ko.get(this._tree))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new hl(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function fl(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(null!=n)for(let t=!1;!t;)if(t=i.type.is(n),!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function dl(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class vl{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class gl extends cl{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new gl(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&il.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new gl(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new gl(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new gl(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let s=n.buffer[this.index+1];t.push(n.slice(r,i,s)),e.push(0)}return new sl(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function pl(t){if(!t.length)return null;let e=0,n=t[0];for(let r=1;r<t.length;r++){let i=t[r];(i.from>n.from||i.to<n.to)&&(n=i,e=r)}let r=n instanceof hl&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new ml(i,n)}class ml{constructor(t,e){this.heads=t,this.node=e}get next(){return pl(this.heads)}}class Rl{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof hl)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof hl?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&il.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&il.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&il.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n._tree.children.length;r!=i;r+=t){let t=n._tree.children[r];if(this.mode&il.IncludeAnonymous||t instanceof ll||!t.type.isAnonymous||wl(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new gl(this.buffer,e,this.stack[t]);return this.bufferNode=new gl(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&e&&e(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return dl(this.node.parent,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return dl(this._tree,t,r);let s=n[e.buffer[this.stack[i]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function wl(t){return t.children.some((t=>t instanceof ll||!t.type.isAnonymous||wl(t)))}const Ol=new WeakMap;function xl(t,e){if(!t.isAnonymous||e instanceof ll||e.type!=t)return 1;let n=Ol.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof sl)){n=1;break}n+=xl(t,r)}Ol.set(e,n)}return n}function yl(t,e,n,r,i,s,o,l,a){let u=0;for(let n=r;n<i;n++)u+=xl(t,e[n]);let c=Math.ceil(1.5*u/8),h=[],f=[];return function e(n,r,i,o,l){for(let u=i;u<o;){let i=u,d=r[u],v=xl(t,n[u]);for(u++;u<o;u++){let e=xl(t,n[u]);if(v+e>=c)break;v+=e}if(u==i+1){if(v>c){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+l);continue}h.push(n[i])}else{let e=r[u-1]+n[u-1].length-d;h.push(yl(t,n,r,i,u,d,e,null,a))}f.push(d+l-s)}}(e,n,r,i,0),(l||a)(h,f,o)}class bl{constructor(t,e,n,r,i=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new bl(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,s=t.length?t[0]:null;for(let o=0,l=0,a=0;;o++){let u=o<e.length?e[o]:null,c=u?u.fromA:1e9;if(c-l>=n)for(;s&&s.from<c;){let e=s;if(l>=e.from||c<=e.to||a){let t=Math.max(e.from,l)-a,n=Math.min(e.to,c)-a;e=t>=n?null:new bl(t,n,e.tree,e.offset+a,o>0,!!u)}if(e&&r.push(e),s.to>c)break;s=i<t.length?t[i++]:null}if(!u)break;l=u.toA,a=u.toA-u.toB}return r}}class kl{startParse(t,e,n){return"string"==typeof t&&(t=new Cl(t)),n=n?n.length?n.map((t=>new Yo(t.from,t.to))):[new Yo(0,0)]:[new Yo(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}class Cl{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Zo({perNode:!0});let Tl=0;class Sl{constructor(t,e,n,r){this.name=t,this.set=e,this.base=n,this.modified=r,this.id=Tl++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let n="string"==typeof t?t:"?";if(t instanceof Sl&&(e=t),null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let r=new Sl(n,[],null,[]);if(r.set.push(r),e)for(let t of e.set)r.set.push(t);return r}static defineModifier(t){let e=new Pl(t);return t=>t.modified.indexOf(e)>-1?t:Pl.get(t.base||t,t.modified.concat(e).sort(((t,e)=>t.id-e.id)))}}let Al=0;class Pl{constructor(t){this.name=t,this.instances=[],this.id=Al++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&function(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}(e,n.modified)));if(n)return n;let r=[],i=new Sl(t.name,r,t,e);for(let t of e)t.instances.push(i);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of s)r.push(Pl.get(e,t));return i}}function _l(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,l=n[o];if(!l)throw new RangeError("Invalid path: "+t);let a=new Ll(r,i,o>0?n.slice(0,o):null);e[l]=a.sort(e[l])}}return El.add(e)}const El=new Zo;class Ll{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function Dl(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:r,all:i=null}=e||{};return{style:t=>{let e=i;for(let r of t)for(let t of r.set){let r=n[t.id];if(r){e=e?e+" "+r:r;break}}return e},scope:r}}function Ql(t,e,n,r=0,i=t.length){let s=new Il(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}Ll.empty=new Ll([],2,null);class Il{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i){let{type:s,from:o,to:l}=t;if(o>=n||l<=e)return;s.isTop&&(i=this.highlighters.filter((t=>!t.scope||t.scope(s))));let a=r,u=function(t){let e=t.type.prop(El);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||Ll.empty,c=function(t,e){let n=null;for(let r of t){let t=r.style(e);t&&(n=n?n+" "+t:t)}return n}(i,u.tags);if(c&&(a&&(a+=" "),a+=c,1==u.mode&&(r+=(r?" ":"")+c)),this.startSpan(Math.max(e,o),a),u.opaque)return;let h=t.tree&&t.tree.prop(Zo.mounted);if(h&&h.overlay){let s=t.node.enter(h.overlay[0].from+o,1),u=this.highlighters.filter((t=>!t.scope||t.scope(h.tree.type))),c=t.firstChild();for(let f=0,d=o;;f++){let v=f<h.overlay.length?h.overlay[f]:null,g=v?v.from+o:l,p=Math.max(e,d),m=Math.min(n,g);if(p<m&&c)for(;t.from<m&&(this.highlightRange(t,p,m,r,i),this.startSpan(Math.min(m,t.to),a),!(t.to>=g)&&t.nextSibling()););if(!v||g>n)break;d=v.to+o,d>e&&(this.highlightRange(s.cursor(),Math.max(e,v.from+o),Math.min(n,d),"",u),this.startSpan(Math.min(n,d),a))}c&&t.parent()}else if(t.firstChild()){h&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i),this.startSpan(Math.min(n,t.to),a)}}while(t.nextSibling());t.parent()}}}const Ml=Sl.define,Nl=Ml(),$l=Ml(),Fl=Ml($l),Bl=Ml($l),Ul=Ml(),Hl=Ml(Ul),ql=Ml(Ul),Vl=Ml(),Xl=Ml(Vl),zl=Ml(),Wl=Ml(),jl=Ml(),Gl=Ml(jl),Yl=Ml(),Zl={comment:Nl,lineComment:Ml(Nl),blockComment:Ml(Nl),docComment:Ml(Nl),name:$l,variableName:Ml($l),typeName:Fl,tagName:Ml(Fl),propertyName:Bl,attributeName:Ml(Bl),className:Ml($l),labelName:Ml($l),namespace:Ml($l),macroName:Ml($l),literal:Ul,string:Hl,docString:Ml(Hl),character:Ml(Hl),attributeValue:Ml(Hl),number:ql,integer:Ml(ql),float:Ml(ql),bool:Ml(Ul),regexp:Ml(Ul),escape:Ml(Ul),color:Ml(Ul),url:Ml(Ul),keyword:zl,self:Ml(zl),null:Ml(zl),atom:Ml(zl),unit:Ml(zl),modifier:Ml(zl),operatorKeyword:Ml(zl),controlKeyword:Ml(zl),definitionKeyword:Ml(zl),moduleKeyword:Ml(zl),operator:Wl,derefOperator:Ml(Wl),arithmeticOperator:Ml(Wl),logicOperator:Ml(Wl),bitwiseOperator:Ml(Wl),compareOperator:Ml(Wl),updateOperator:Ml(Wl),definitionOperator:Ml(Wl),typeOperator:Ml(Wl),controlOperator:Ml(Wl),punctuation:jl,separator:Ml(jl),bracket:Gl,angleBracket:Ml(Gl),squareBracket:Ml(Gl),paren:Ml(Gl),brace:Ml(Gl),content:Vl,heading:Xl,heading1:Ml(Xl),heading2:Ml(Xl),heading3:Ml(Xl),heading4:Ml(Xl),heading5:Ml(Xl),heading6:Ml(Xl),contentSeparator:Ml(Vl),list:Ml(Vl),quote:Ml(Vl),emphasis:Ml(Vl),strong:Ml(Vl),link:Ml(Vl),monospace:Ml(Vl),strikethrough:Ml(Vl),inserted:Ml(),deleted:Ml(),changed:Ml(),invalid:Ml(),meta:Yl,documentMeta:Ml(Yl),annotation:Ml(Yl),processingInstruction:Ml(Yl),definition:Sl.defineModifier("definition"),constant:Sl.defineModifier("constant"),function:Sl.defineModifier("function"),standard:Sl.defineModifier("standard"),local:Sl.defineModifier("local"),special:Sl.defineModifier("special")};for(let t in Zl){let e=Zl[t];e instanceof Sl&&(e.name=t)}Dl([{tag:Zl.link,class:"tok-link"},{tag:Zl.heading,class:"tok-heading"},{tag:Zl.emphasis,class:"tok-emphasis"},{tag:Zl.strong,class:"tok-strong"},{tag:Zl.keyword,class:"tok-keyword"},{tag:Zl.atom,class:"tok-atom"},{tag:Zl.bool,class:"tok-bool"},{tag:Zl.url,class:"tok-url"},{tag:Zl.labelName,class:"tok-labelName"},{tag:Zl.inserted,class:"tok-inserted"},{tag:Zl.deleted,class:"tok-deleted"},{tag:Zl.literal,class:"tok-literal"},{tag:Zl.string,class:"tok-string"},{tag:Zl.number,class:"tok-number"},{tag:[Zl.regexp,Zl.escape,Zl.special(Zl.string)],class:"tok-string2"},{tag:Zl.variableName,class:"tok-variableName"},{tag:Zl.local(Zl.variableName),class:"tok-variableName tok-local"},{tag:Zl.definition(Zl.variableName),class:"tok-variableName tok-definition"},{tag:Zl.special(Zl.variableName),class:"tok-variableName2"},{tag:Zl.definition(Zl.propertyName),class:"tok-propertyName tok-definition"},{tag:Zl.typeName,class:"tok-typeName"},{tag:Zl.namespace,class:"tok-namespace"},{tag:Zl.className,class:"tok-className"},{tag:Zl.macroName,class:"tok-macroName"},{tag:Zl.propertyName,class:"tok-propertyName"},{tag:Zl.operator,class:"tok-operator"},{tag:Zl.comment,class:"tok-comment"},{tag:Zl.meta,class:"tok-meta"},{tag:Zl.invalid,class:"tok-invalid"},{tag:Zl.punctuation,class:"tok-punctuation"}]);var Kl;const Jl=new Zo;function ta(t){return N.define({combine:t?e=>e.concat(t):void 0})}const ea=new Zo;class na{constructor(t,e,n=[],r=""){this.data=t,this.name=r,Ct.prototype.hasOwnProperty("tree")||Object.defineProperty(Ct.prototype,"tree",{get(){return sa(this)}}),this.parser=e,this.extension=[va.of(this),Ct.languageData.of(((t,e,n)=>{let r=ra(t,e,n),i=r.type.prop(Jl);if(!i)return[];let s=t.facet(i),o=r.type.prop(ea);if(o){let i=r.resolve(e-r.from,n);for(let e of o)if(e.test(i,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e,n=-1){return ra(t,e,n).type.prop(Jl)==this.data}findRegions(t){let e=t.facet(va);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(Jl)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(Zo.mounted);if(i){if(i.tree.prop(Jl)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof sl&&r(i,t.positions[n]+e)}};return r(sa(t),0),n}get allowsNesting(){return!0}}function ra(t,e,n){let r=t.facet(va),i=sa(t).topNode;if(!r||r.allowsNesting)for(let t=i;t;t=t.enter(e,n,il.ExcludeBuffers))t.type.isTop&&(i=t);return i}na.setState=dt.define();class ia extends na{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=ta(t.languageData);return new ia(e,t.parser.configure({props:[Jl.add((t=>t.isTop?e:void 0))]}),t.name)}configure(t,e){return new ia(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function sa(t){let e=t.field(na.state,!1);return e?e.tree:sl.empty}class oa{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let la=null;class aa{constructor(t,e,n=[],r,i,s,o,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new aa(t,e,[],sl.empty,0,n,[],null)}startParse(){return this.parser.startParse(new oa(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=sl.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(bl.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(bl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=la;la=this;try{return t()}finally{la=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=ua(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=bl.applyChanges(n,e),r=sl.empty,i=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&o.push({from:n,to:r})}}}return new aa(this.parser,e,n,r,i,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=ua(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends kl{createParse(e,n,r){let i=r[0].from,s=r[r.length-1].to,o={parsedPos:i,advance(){let e=la;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new sl(tl.none,[],[],s-i)},stoppedAt:null,stopAt(){}};return o}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return la}}function ua(t,e,n){return bl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ca{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new ca(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=aa.create(t.facet(va).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new ca(n)}}na.state=V.define({create:ca.init,update(t,e){for(let t of e.effects)if(t.is(na.setState))return t.value;return e.startState.facet(va)!=e.state.facet(va)?ca.init(e.state):t.apply(e)}});let ha=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(ha=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const fa="undefined"!=typeof navigator&&(null===(Kl=navigator.scheduling)||void 0===Kl?void 0:Kl.isInputPending)?()=>navigator.scheduling.isInputPending():null,da=nr.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(na.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(na.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=ha(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(na.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!fa?Math.max(25,t.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work((()=>fa&&fa()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:na.setState.of(new ca(i.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>Kn(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),va=N.define({combine:t=>t.length?t[0]:null,enables:t=>[na.state,da,es.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]});const ga=N.define(),pa=N.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function ma(t){let e=t.facet(pa);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function Ra(t,e){let n="",r=t.tabSize,i=t.facet(pa)[0];if("\t"==i){for(;e>=r;)n+="\t",e-=r;i=" "}for(let t=0;t<e;t++)n+=i;return n}function wa(t,e){t instanceof Ct&&(t=new Oa(t));for(let n of t.state.facet(ga)){let r=n(t,e);if(void 0!==r)return r}let n=sa(t.state);return n.length>=e?function(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let t=[];for(let e=i;e!=r.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)r={node:t[e],next:r}}return ya(r,t,n)}(t,n,e):null}class Oa{constructor(t,e={}){this.state=t,this.options=e,this.unit=ma(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(i+=s-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return qt(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const xa=new Zo;function ya(t,e,n){for(let r=t;r;r=r.next){let t=ba(r.node);if(t)return t(Ca.create(e,n,r))}return 0}function ba(t){let e=t.type.prop(xa);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(Zo.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>Sa(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?ka:null}function ka(){return 0}class Ca extends Oa{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new Ca(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Ta(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return ya(this.context.next,this.base,this.pos)}}function Ta(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Sa(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==t.pos+o,a=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped){if(i.from>=o)return null;let t=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+t}}t=i.to}}(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}function Aa({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const Pa=N.define(),_a=new Zo;function Ea(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function La(t,e,n){for(let r of t.facet(Pa)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=sa(t);if(r.length<n)return null;let i=null;for(let s=r.resolveStack(n,1);s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(i&&o.from<e)break;let l=o.type.prop(_a);if(l&&(o.to<r.length-50||r.length==t.doc.length||!Ea(o))){let r=l(o,t);r&&r.from<=n&&r.from>=e&&r.to>n&&(i=r)}}return i}(t,e,n)}function Da(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Qa=dt.define({map:Da}),Ia=dt.define({map:Da});function Ma(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const Na=V.define({create:()=>sn.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Qa)&&!Fa(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(Va),i=r?sn.replace({widget:new ja(r(e.state,n.value))}):Wa;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Ia)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>es.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(Wa.range(r,i))}return sn.set(e,!0)}});function $a(t,e,n){var r;let i=null;return null===(r=t.field(Na,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function Fa(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function Ba(t,e){return t.field(Na,!1)?e:e.concat(dt.appendConfig.of(Xa()))}function Ua(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return es.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Ha=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of Ma(t)){let n=La(t.state,e.from,e.to);if(n)return t.dispatch({effects:Ba(t.state,[Qa.of(n),Ua(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(Na,!1))return!1;let e=[];for(let n of Ma(t)){let r=$a(t.state,n.from,n.to);r&&e.push(Ia.of(r),Ua(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=La(e,i.from,i.to);s&&n.push(Qa.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:Ba(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(Na,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(Ia.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],qa={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Va=N.define({combine:t=>Tt(t,qa)});function Xa(t){let e=[Na,Ka];return t&&e.push(Va.of(t)),e}function za(t,e){let{state:n}=t,r=n.facet(Va),i=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=$a(t.state,n.from,n.to);r&&t.dispatch({effects:Ia.of(r)}),e.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const Wa=sn.replace({widget:new class extends nn{toDOM(t){return za(t,null)}}});class ja extends nn{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return za(t,this.value)}}const Ga={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ya extends ko{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function Za(t={}){let e=Object.assign(Object.assign({},Ga),t),n=new Ya(e,!0),r=new Ya(e,!1),i=nr.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(va)!=t.state.facet(va)||t.startState.field(Na,!1)!=t.state.field(Na,!1)||sa(t.startState)!=sa(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Lt;for(let i of t.viewportLineBlocks){let s=$a(t.state,i.from,i.to)?r:La(t.state,i.from,i.to)?n:null;s&&e.add(i.from,i.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[i,Po({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(i))||void 0===e?void 0:e.markers)||Et.empty},initialSpacer:()=>new Ya(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,n)=>{if(s.click&&s.click(t,e,n))return!0;let r=$a(t.state,e.from,e.to);if(r)return t.dispatch({effects:Ia.of(r)}),!0;let i=La(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:Qa.of(i)}),!0)}})}),Xa()]}const Ka=es.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ja{constructor(t,e){let n;function r(t){let e=jt.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const i="string"==typeof e.all?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof na?t=>t.prop(Jl)==s.data:s?t=>t==s:void 0,this.style=Dl(t.map((t=>({tag:t.tag,class:t.class||r(Object.assign({},t,{tag:null}))}))),{all:i}).style,this.module=n?new jt(n):null,this.themeType=e.themeType}static define(t,e){return new Ja(t,e||{})}}const tu=N.define(),eu=N.define({combine:t=>t.length?[t[0]]:null});function nu(t){let e=t.facet(tu);return e.length?e:t.facet(eu)}function ru(t,e){let n,r=[su];return t instanceof Ja&&(t.module&&r.push(es.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?r.push(eu.of(t)):n?r.push(tu.computeN([es.darkTheme],(e=>e.facet(es.darkTheme)==("dark"==n)?[t]:[]))):r.push(tu.of(t)),r}class iu{constructor(t){this.markCache=Object.create(null),this.tree=sa(t.state),this.decorations=this.buildDeco(t,nu(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=sa(t.state),n=nu(t.state),r=n!=nu(t.startState),{viewport:i}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<i.to&&!r&&e.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=i.to)}buildDeco(t,e){if(!e||!this.tree.length)return sn.none;let n=new Lt;for(let{from:r,to:i}of t.visibleRanges)Ql(this.tree,e,((t,e,r)=>{n.add(t,e,this.markCache[r]||(this.markCache[r]=sn.mark({class:r})))}),r,i);return n.finish()}}const su=Y.high(nr.fromClass(iu,{decorations:t=>t.decorations})),ou=Ja.define([{tag:Zl.meta,color:"#404740"},{tag:Zl.link,textDecoration:"underline"},{tag:Zl.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Zl.emphasis,fontStyle:"italic"},{tag:Zl.strong,fontWeight:"bold"},{tag:Zl.strikethrough,textDecoration:"line-through"},{tag:Zl.keyword,color:"#708"},{tag:[Zl.atom,Zl.bool,Zl.url,Zl.contentSeparator,Zl.labelName],color:"#219"},{tag:[Zl.literal,Zl.inserted],color:"#164"},{tag:[Zl.string,Zl.deleted],color:"#a11"},{tag:[Zl.regexp,Zl.escape,Zl.special(Zl.string)],color:"#e40"},{tag:Zl.definition(Zl.variableName),color:"#00f"},{tag:Zl.local(Zl.variableName),color:"#30a"},{tag:[Zl.typeName,Zl.namespace],color:"#085"},{tag:Zl.className,color:"#167"},{tag:[Zl.special(Zl.variableName),Zl.macroName],color:"#256"},{tag:Zl.definition(Zl.propertyName),color:"#00c"},{tag:Zl.comment,color:"#940"},{tag:Zl.invalid,color:"#f00"}]),lu=es.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),au="()[]{}",uu=N.define({combine:t=>Tt(t,{afterCursor:!0,brackets:au,maxScanDistance:1e4,renderMatch:fu})}),cu=sn.mark({class:"cm-matchingBracket"}),hu=sn.mark({class:"cm-nonmatchingBracket"});function fu(t){let e=[],n=t.matched?cu:hu;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const du=V.define({create:()=>sn.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(uu);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=wu(e.state,t.head,-1,r)||t.head>0&&wu(e.state,t.head-1,1,r)||r.afterCursor&&(wu(e.state,t.head,1,r)||t.head<e.state.doc.length&&wu(e.state,t.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return sn.set(n,!0)},provide:t=>es.decorations.from(t)}),vu=[du,lu];function gu(t={}){return[uu.of(t),vu]}const pu=new Zo;function mu(t,e,n){let r=t.prop(e<0?Zo.openedBy:Zo.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function Ru(t){let e=t.type.prop(pu);return e?e(t.node):t}function wu(t,e,n,r={}){let i=r.maxScanDistance||1e4,s=r.brackets||au,o=sa(t),l=o.resolveInner(e,n);for(let r=l;r;r=r.parent){let i=mu(r.type,n,s);if(i&&r.from<r.to){let o=Ru(r);if(o&&(n>0?e>=o.from&&e<o.to:e>o.from&&e<=o.to))return Ou(t,e,n,r,o,i,s)}}return function(t,e,n,r,i,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let l=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||r.resolveInner(l+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:u,end:{from:l+t,to:l+t+1},matched:e>>1==a>>1};h--}}n>0&&(t+=s.length)}return c.done?{start:u,matched:!1}:null}(t,e,n,o,l.type,i,s)}function Ou(t,e,n,r,i,s,o){let l=r.parent,a={from:i.from,to:i.to},u=0,c=null==l?void 0:l.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==u&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=Ru(c);return{start:a,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(mu(c.type,n,o))u++;else if(mu(c.type,-n,o)){if(0==u){let t=Ru(c);return{start:a,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}u--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const xu=Object.create(null),yu=[tl.none],bu=[],ku=Object.create(null),Cu=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Cu[t]=Su(xu,e);function Tu(t,e){bu.indexOf(t)>-1||(bu.push(t),console.warn(e))}function Su(t,e){let n=[];for(let r of e.split(" ")){let e=[];for(let n of r.split(".")){let r=t[n]||Zl[n];r?"function"==typeof r?e.length?e=e.map(r):Tu(n,`Modifier ${n} used at start of tag`):e.length?Tu(n,`Tag ${n} used as modifier`):e=Array.isArray(r)?r:[r]:Tu(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map((t=>t.id)),s=ku[i];if(s)return s.id;let o=ku[i]=tl.define({id:yu.length,name:r,props:[_l({[r]:n})]});return yu.push(o),o.id}mn.RTL,mn.LTR;function Au(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}const Pu=Au(Iu,0),_u=Au(Qu,0),Eu=Au(((t,e)=>Qu(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}(e))),0);function Lu(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Du=50;function Qu(t,e,n=e.selection.ranges){let r=n.map((t=>Lu(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let s,o,l=t.sliceDoc(r-Du,r),a=t.sliceDoc(i,i+Du),u=/\s*$/.exec(l)[0].length,c=/^\s*/.exec(a)[0].length,h=l.length-u;if(l.slice(h-e.length,h)==e&&a.slice(c,c+n.length)==n)return{open:{pos:r-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};i-r<=2*Du?s=o=t.sliceDoc(r,i):(s=t.sliceDoc(r,r+Du),o=t.sliceDoc(i-Du,i));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(o)[0].length,v=o.length-d-n.length;return s.slice(f,f+e.length)==e&&o.slice(v,v+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:s,close:o}=e;t.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:t}}return null}function Iu(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:t,to:s}of n){let n=r.length,o=1e9,l=Lu(e,t).line;if(l){for(let n=t;n<=s;){let a=e.doc.lineAt(n);if(a.from>i&&(t==s||s>a.from)){i=a.from;let t=/^\s*/.exec(a.text)[0].length,e=t==a.length,n=a.text.slice(t,t+l.length)==l?t:-1;t<a.text.length&&t<o&&(o=t),r.push({line:a,comment:n,token:l,indent:t,empty:e,single:!1})}n=a.to+1}if(o<1e9)for(let t=n;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=o);r.length==n+1&&(r[n].single=!0)}}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:s,single:o}of r)!o&&s||t.push({from:e.from+i,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,s=r+i.length;" "==e.text[s-e.from]&&s++,t.push({from:r,to:s})}return{changes:t}}return null}const Mu=ct.define(),Nu=ct.define(),$u=N.define(),Fu=N.define({combine:t=>Tt(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}),Bu=V.define({create:()=>rc.empty,update(t,e){let n=e.state.facet(Fu),r=e.annotation(Mu);if(r){let i=Wu.fromTransaction(e,r.selection),s=r.side,o=0==s?t.undone:t.done;return o=i?ju(o,o.length,n.minDepth,i):Ku(o,e.startState.selection),new rc(0==s?r.rest:o,0==s?o:r.rest)}let i=e.annotation(Nu);if("full"!=i&&"before"!=i||(t=t.isolate()),!1===e.annotation(vt.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Wu.fromTransaction(e),o=e.annotation(vt.time),l=e.annotation(vt.userEvent);return s?t=t.addChanges(s,o,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,l,n.newGroupDelay)),"full"!=i&&"after"!=i||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new rc(t.done.map(Wu.fromJSON),t.undone.map(Wu.fromJSON))});function Uu(t={}){return[Bu,Fu.of(t),es.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?qu:"historyRedo"==t.inputType?Vu:null;return!!n&&(t.preventDefault(),n(e))}})]}function Hu(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Bu,!1);if(!i)return!1;let s=i.pop(t,n,e);return!!s&&(r(s),!0)}}const qu=Hu(0,!1),Vu=Hu(1,!1),Xu=Hu(0,!0),zu=Hu(1,!0);class Wu{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new Wu(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Wu(t.changes&&T.fromJSON(t.changes),[],t.mapped&&C.fromJSON(t.mapped),t.startSelection&&Q.fromJSON(t.startSelection),t.selectionsAfter.map(Q.fromJSON))}static fromTransaction(t,e){let n=Yu;for(let e of t.startState.facet($u)){let r=e(t);r.length&&(n=n.concat(r))}return!n.length&&t.changes.empty?null:new Wu(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,Yu)}static selection(t){return new Wu(void 0,Yu,void 0,void 0,t)}}function ju(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function Gu(t,e){return t.length?e.length?t.concat(e):t:e}const Yu=[],Zu=200;function Ku(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Zu));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ju(t,t.length-1,1e9,n.setSelAfter(r)))}return[Wu.selection([e])]}function Ju(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function tc(t,e){if(!t.length)return t;let n=t.length,r=Yu;for(;n;){let i=ec(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Wu.selection(r)]:Yu}function ec(t,e,n){let r=Gu(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):Yu,n);if(!t.changes)return Wu.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Wu(i,dt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const nc=/^(input\.type|delete)($|\.)/;class rc{constructor(t,e,n=0,r=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new rc(this.done,this.undone):this}addChanges(t,e,n,r,i){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&t.changes&&(!n||nc.test(n))&&(!o.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&i<=o&&(r=!0)}})),r}(o.changes,t.changes))||"input.type.compose"==n)?ju(s,s.length-1,r.minDepth,new Wu(t.changes.compose(o.changes),Gu(dt.mapEffects(t.effects,o.changes),o.effects),o.mapped,o.startSelection,Yu)):ju(s,s.length,r.minDepth,t),new rc(s,Yu,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Yu;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&function(t,e){return t.ranges.length==e.ranges.length&&0===t.ranges.filter(((t,n)=>t.empty!=e.ranges[n].empty)).length}(i[i.length-1],t)?this:new rc(Ku(this.done,t),this.undone,e,n)}addMapping(t){return new rc(tc(this.done,t),tc(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],s=i.selectionsAfter[0]||e.selection;if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Mu.of({side:t,rest:Ju(r),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?Yu:r.slice(0,r.length-1);return i.mapped&&(n=tc(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Mu.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}rc.empty=new rc(Yu,Yu);const ic=[{key:"Mod-z",run:qu,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Vu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Vu,preventDefault:!0},{key:"Mod-u",run:Xu,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:zu,preventDefault:!0}];function sc(t,e){return Q.create(t.ranges.map(e),t.mainIndex)}function oc(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function lc({state:t,dispatch:e},n){let r=sc(t.selection,n);return!r.eq(t.selection,!0)&&(e(oc(t,r)),!0)}function ac(t,e){return Q.cursor(e?t.to:t.from)}function uc(t,e){return lc(t,(n=>n.empty?t.moveByChar(n,e):ac(n,e)))}function cc(t){return t.textDirectionAt(t.state.selection.main.head)==mn.LTR}const hc=t=>uc(t,!cc(t)),fc=t=>uc(t,cc(t));function dc(t,e){return lc(t,(n=>n.empty?t.moveByGroup(n,e):ac(n,e)))}"undefined"!=typeof Intl&&Intl.Segmenter;function vc(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function gc(t,e,n){let r,i,s=sa(t).resolveInner(e.head),o=n?Zo.closedBy:Zo.openedBy;for(let r=e.head;;){let e=n?s.childAfter(r):s.childBefore(r);if(!e)break;vc(t,e,o)?s=e:r=n?e.to:e.from}return i=s.type.prop(o)&&(r=n?wu(t,s.from,1):wu(t,s.to,-1))&&r.matched?n?r.end.to:r.end.from:n?s.to:s.from,Q.cursor(i,n?-1:1)}function pc(t,e){return lc(t,(n=>{if(!n.empty)return ac(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}const mc=t=>pc(t,!1),Rc=t=>pc(t,!0);function wc(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,i=0;if(n){for(let e of t.state.facet(es.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}e=t.scrollDOM.clientHeight-r-i}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function Oc(t,e){let n,r=wc(t),{state:i}=t,s=sc(i.selection,(n=>n.empty?t.moveVertically(n,e,r.height):ac(n,e)));if(s.eq(i.selection))return!1;if(r.selfScroll){let e=t.coordsAtPos(i.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),l=o.top+r.marginTop,a=o.bottom-r.marginBottom;e&&e.top>l&&e.bottom<a&&(n=es.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-l}))}return t.dispatch(oc(i,s),{effects:n}),!0}const xc=t=>Oc(t,!1),yc=t=>Oc(t,!0);function bc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(i=Q.cursor(r.from+n))}return i}function kc(t,e,n){let r=!1,i=sc(t.selection,(e=>{let i=wu(t,e.head,-1)||wu(t,e.head,1)||e.head>0&&wu(t,e.head-1,1)||e.head<t.doc.length&&wu(t,e.head+1,-1);if(!i||!i.end)return e;r=!0;let s=i.start.from==e.head?i.end.to:i.end.from;return n?Q.range(e.anchor,s):Q.cursor(s)}));return!!r&&(e(oc(t,i)),!0)}function Cc(t,e){let n=sc(t.state.selection,(t=>{let n=e(t);return Q.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(oc(t.state,n)),!0)}function Tc(t,e){return Cc(t,(n=>t.moveByChar(n,e)))}const Sc=t=>Tc(t,!cc(t)),Ac=t=>Tc(t,cc(t));function Pc(t,e){return Cc(t,(n=>t.moveByGroup(n,e)))}function _c(t,e){return Cc(t,(n=>t.moveVertically(n,e)))}const Ec=t=>_c(t,!1),Lc=t=>_c(t,!0);function Dc(t,e){return Cc(t,(n=>t.moveVertically(n,e,wc(t).height)))}const Qc=t=>Dc(t,!1),Ic=t=>Dc(t,!0),Mc=({state:t,dispatch:e})=>(e(oc(t,{anchor:0})),!0),Nc=({state:t,dispatch:e})=>(e(oc(t,{anchor:t.doc.length})),!0),$c=({state:t,dispatch:e})=>(e(oc(t,{anchor:t.selection.main.anchor,head:0})),!0),Fc=({state:t,dispatch:e})=>(e(oc(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function Bc(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange((r=>{let{from:i,to:s}=r;if(i==s){let o=e(r);o<i?(n="delete.backward",o=Uc(t,o,!1)):o>i&&(n="delete.forward",o=Uc(t,o,!0)),i=Math.min(i,o),s=Math.max(s,o)}else i=Uc(t,i,!1),s=Uc(t,s,!0);return i==s?{range:r}:{changes:{from:i,to:s},range:Q.cursor(i,i<r.head?-1:1)}}));return!i.changes.empty&&(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?es.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Uc(t,e,n){if(t instanceof es)for(let r of t.state.facet(es.atomicRanges).map((e=>e(t))))r.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const Hc=(t,e,n)=>Bc(t,(r=>{let i,s,o=r.from,{state:l}=t,a=l.doc.lineAt(o);if(n&&!e&&o>a.from&&o<a.from+200&&!/[^ \t]/.test(i=a.text.slice(0,o-a.from))){if("\t"==i[i.length-1])return o-1;let t=qt(i,l.tabSize)%ma(l)||ma(l);for(let e=0;e<t&&" "==i[i.length-1-e];e++)o--;s=o}else s=g(a.text,o-a.from,e,e)+a.from,s==o&&a.number!=(e?l.doc.lines:1)?s+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(s-a.from,o-a.from))&&(s=g(a.text,s-a.from,!1,!1)+a.from);return s})),qc=t=>Hc(t,!1,!0),Vc=t=>Hc(t,!0,!1),Xc=(t,e)=>Bc(t,(n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let t=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=g(s.text,r-s.from,e)+s.from,a=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(a);if(null!=t&&u!=t)break;" "==a&&r==n.head||(t=u),r=l}return r})),zc=t=>Xc(t,!1);function Wc(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function jc(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let e of Wc(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),o=s.length+1;if(n){r.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)i.push(Q.range(Math.min(t.doc.length,n.anchor+o),Math.min(t.doc.length,n.head+o)))}else{r.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)i.push(Q.range(t.anchor-o,t.head-o))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:Q.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Gc(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of Wc(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Yc=Kc(!1),Zc=Kc(!0);function Kc(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=e.changeByRange((r=>{let{from:i,to:s}=r,o=e.doc.lineAt(i),l=!t&&i==s&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=sa(t).resolveInner(e),i=r.childBefore(e),s=r.childAfter(e);return i&&s&&i.to<=e&&s.from>=e&&(n=i.type.prop(Zo.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}(e,i);t&&(i=s=(s<=o.to?o:e.doc.lineAt(s)).to);let a=new Oa(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=wa(a,i);for(null==u&&(u=qt(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?({from:i,to:s}=l):i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let c=["",Ra(e,u)];return l&&c.push(Ra(e,a.lineIndent(o.from,-1))),{changes:{from:i,to:s,insert:n.of(c)},range:Q.cursor(i+1+c[1].length)}}));return r(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Jc(t,e){let n=-1;return t.changeByRange((r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let s=t.changes(i);return{changes:i,range:Q.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const th=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Jc(t,((e,n)=>{n.push({from:e.from,insert:t.facet(pa)})})),{userEvent:"input.indent"})),!0),eh=({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(Jc(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let i=qt(r,t.tabSize),s=0,o=Ra(t,Math.max(0,i-ma(t)));for(;s<r.length&&s<o.length&&r.charCodeAt(s)==o.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:o.slice(s)})})),{userEvent:"delete.dedent"})),!0),nh=[{key:"Ctrl-b",run:hc,shift:Sc,preventDefault:!0},{key:"Ctrl-f",run:fc,shift:Ac},{key:"Ctrl-p",run:mc,shift:Ec},{key:"Ctrl-n",run:Rc,shift:Lc},{key:"Ctrl-a",run:t=>lc(t,(e=>Q.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>Cc(t,(e=>Q.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>lc(t,(e=>Q.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>Cc(t,(e=>Q.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:Vc},{key:"Ctrl-h",run:qc},{key:"Ctrl-k",run:t=>Bc(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:zc},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:n.of(["",""])},range:Q.cursor(t.from)})));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:g(r.text,n-r.from,!1)+r.from,s=n==r.to?n+1:g(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(i,n))},range:Q.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:yc}],rh=[{key:"ArrowLeft",run:hc,shift:Sc,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>dc(t,!cc(t)),shift:t=>Pc(t,!cc(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>lc(t,(e=>bc(t,e,!cc(t)))),shift:t=>Cc(t,(e=>bc(t,e,!cc(t)))),preventDefault:!0},{key:"ArrowRight",run:fc,shift:Ac,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>dc(t,cc(t)),shift:t=>Pc(t,cc(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>lc(t,(e=>bc(t,e,cc(t)))),shift:t=>Cc(t,(e=>bc(t,e,cc(t)))),preventDefault:!0},{key:"ArrowUp",run:mc,shift:Ec,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Mc,shift:$c},{mac:"Ctrl-ArrowUp",run:xc,shift:Qc},{key:"ArrowDown",run:Rc,shift:Lc,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Nc,shift:Fc},{mac:"Ctrl-ArrowDown",run:yc,shift:Ic},{key:"PageUp",run:xc,shift:Qc},{key:"PageDown",run:yc,shift:Ic},{key:"Home",run:t=>lc(t,(e=>bc(t,e,!1))),shift:t=>Cc(t,(e=>bc(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:Mc,shift:$c},{key:"End",run:t=>lc(t,(e=>bc(t,e,!0))),shift:t=>Cc(t,(e=>bc(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:Nc,shift:Fc},{key:"Enter",run:Yc,shift:Yc},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:qc,shift:qc},{key:"Delete",run:Vc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:zc},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Xc(t,!0)},{mac:"Mod-Backspace",run:t=>Bc(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>Bc(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat(nh.map((t=>({mac:t.key,run:t.run,shift:t.shift})))),ih=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>lc(t,(e=>gc(t.state,e,!cc(t)))),shift:t=>Cc(t,(e=>gc(t.state,e,!cc(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>lc(t,(e=>gc(t.state,e,cc(t)))),shift:t=>Cc(t,(e=>gc(t.state,e,cc(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>jc(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Gc(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>jc(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Gc(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Q.create([n.main]):n.main.empty||(r=Q.create([Q.cursor(n.main.head)])),!!r&&(e(oc(t,r)),!0)}},{key:"Mod-Enter",run:Zc},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=Wc(t).map((({from:e,to:n})=>Q.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:Q.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=sc(t.selection,(e=>{let n=sa(t),r=n.resolveStack(e.from,1);if(e.empty){let t=n.resolveStack(e.from,-1);t.node.from>=r.node.from&&t.node.to<=r.node.to&&(r=t)}for(let t=r;t;t=t.next){let{node:n}=t;if((n.from<e.from&&n.to>=e.to||n.to>e.to&&n.from<=e.from)&&t.next)return Q.range(n.to,n.from)}return e}));return!n.eq(t.selection)&&(e(oc(t,n)),!0)},preventDefault:!0},{key:"Mod-[",run:eh},{key:"Mod-]",run:th},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Oa(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=Jc(t,((e,i,s)=>{let o=wa(r,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],a=Ra(t,o);(l!=a||s.from<e.from+l.length)&&(n[e.from]=o,i.push({from:e.from,to:e.from+l.length,insert:a}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Wc(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=sc(e.selection,(e=>{let n;if(t.lineWrapping){let r=t.lineBlockAt(e.head),i=t.coordsAtPos(e.head,e.assoc||1);i&&(n=r.bottom+t.documentTop-i.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,n)})).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>kc(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Lu(t.state,n.from);return r.line?Pu(t):!!r.block&&Eu(t)}},{key:"Alt-A",run:_u},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat(rh),sh={key:"Tab",run:th,shift:eh};function oh(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)lh(t,arguments[e]);return t}function lh(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)lh(t,e[n])}}const ah="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class uh{constructor(t,e,n=0,r=t.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(ah(t)):ah,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return O(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=x(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=y(t);let r=this.normalize(e);if(r.length)for(let t=0,i=n;;t++){let s=r.charCodeAt(t),o=this.match(s,i,this.bufferPos+this.bufferStart);if(t==r.length-1){if(o)return this.value=o,this;break}i==n&&t<e.length&&e.charCodeAt(t)==s&&i++}}}match(t,e,n){let r=null;for(let e=0;e<this.matches.length;e+=2){let i=this.matches[e],s=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?r={from:this.matches[e+1],to:n}:(this.matches[e]++,s=!0)),s||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?r={from:e,to:n}:this.matches.push(1,e)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(uh.prototype[Symbol.iterator]=function(){return this});const ch={from:-1,to:-1,match:/.*/.exec("")},hh="gm"+(null==/x/.unicode?"":"u");class fh{constructor(t,e,n,r=0,i=t.length){if(this.text=t,this.to=i,this.curLine="",this.done=!1,this.value=ch,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new gh(t,e,n,r,i);this.re=new RegExp(e,hh+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=ph(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=ph(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const dh=new WeakMap;class vh{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=dh.get(t);if(!r||r.from>=n||r.to<=e){let r=new vh(e,t.sliceString(e,n));return dh.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:s}=r;return s>e&&(i=t.sliceString(e,s)+i,s=e),r.to<n&&(i+=t.sliceString(r.to,n)),dh.set(t,new vh(s,i)),new vh(e,i.slice(e-s,n-s))}}class gh{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=ch,this.matchPos=ph(t,r),this.re=new RegExp(e,hh+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=vh.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=ph(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=vh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function ph(t,e){if(e>=t.length)return e;let n,r=t.lineAt(e);for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function mh(t){let e=oh("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:r}=t,i=r.doc.lineAt(r.selection.main.head),[,s,o,l,a]=n,u=l?+l.slice(1):0,c=o?+o:i.number;if(o&&a){let t=c/100;s&&(t=t*("-"==s?-1:1)+i.number/r.doc.lines),c=Math.round(r.doc.lines*t)}else o&&s&&(c=c*("-"==s?-1:1)+i.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,c))),f=Q.cursor(h.from+Math.max(0,Math.min(u,h.length)));t.dispatch({effects:[Rh.of(!1),es.scrollIntoView(f.from,{y:"center"})],selection:f}),t.focus()}return{dom:oh("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:Rh.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},oh("label",t.state.phrase("Go to line"),": ",e)," ",oh("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(fh.prototype[Symbol.iterator]=gh.prototype[Symbol.iterator]=function(){return this});const Rh=dt.define(),wh=V.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(Rh)&&(t=n.value);return t},provide:t=>bo.from(t,(t=>t?mh:null))}),Oh=es.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),xh={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},yh=N.define({combine:t=>Tt(t,xh,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function bh(t){let e=[Ah,Sh];return t&&e.push(yh.of(t)),e}const kh=sn.mark({class:"cm-selectionMatch"}),Ch=sn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Th(t,e,n,r){return!(0!=n&&t(e.sliceDoc(n-1,n))==xt.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==xt.Word)}const Sh=nr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(yh),{state:n}=t,r=n.selection;if(r.ranges.length>1)return sn.none;let i,s=r.main,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return sn.none;let t=n.wordAt(s.head);if(!t)return sn.none;o=n.charCategorizer(s.head),i=n.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return sn.none;if(e.wholeWords){if(i=n.sliceDoc(s.from,s.to),o=n.charCategorizer(s.head),!Th(o,n,s.from,s.to)||!function(t,e,n,r){return t(e.sliceDoc(n,n+1))==xt.Word&&t(e.sliceDoc(r-1,r))==xt.Word}(o,n,s.from,s.to))return sn.none}else if(i=n.sliceDoc(s.from,s.to),!i)return sn.none}let l=[];for(let r of t.visibleRanges){let t=new uh(n.doc,i,r.from,r.to);for(;!t.next().done;){let{from:r,to:i}=t.value;if((!o||Th(o,n,r,i))&&(s.empty&&r<=s.from&&i>=s.to?l.push(Ch.range(r,i)):(r>=s.to||i<=s.from)&&l.push(kh.range(r,i)),l.length>e.maxMatches))return sn.none}}return sn.set(l)}},{decorations:t=>t.decorations}),Ah=es.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const Ph=N.define({combine:t=>Tt(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new sf(t),scrollToMatch:t=>es.scrollIntoView(t)})});class _h{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,hh),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new Nh(this):new Dh(this)}getCursor(t,e=0,n){let r=t.doc?t:Ct.create({doc:t});return null==n&&(n=r.doc.length),this.regexp?Qh(this,r,e,n):Lh(this,r,e,n)}}class Eh{constructor(t){this.spec=t}}function Lh(t,e,n,r){return new uh(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?function(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),!(e(Ih(i,n-s))==xt.Word&&e(Mh(i,n-s))==xt.Word||e(Mh(i,r-s))==xt.Word&&e(Ih(i,r-s))==xt.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class Dh extends Eh{constructor(t){super(t)}nextMatch(t,e,n){let r=Lh(this.spec,t,n,t.doc.length).nextOverlapping();if(r.done){let n=Math.min(t.doc.length,e+this.spec.unquoted.length);r=Lh(this.spec,t,0,n).nextOverlapping()}return r.done||r.value.from==e&&r.value.to==n?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.spec.unquoted.length),i=Lh(this.spec,t,n,r),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){let r=this.prevMatchInRange(t,0,e);return r||(r=this.prevMatchInRange(t,Math.max(0,n-this.spec.unquoted.length),t.doc.length)),!r||r.from==e&&r.to==n?null:r}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=Lh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Lh(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function Qh(t,e,n,r){return new fh(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(i=e.charCategorizer(e.selection.main.head),(t,e,n)=>!n[0].length||(i(Ih(n.input,n.index))!=xt.Word||i(Mh(n.input,n.index))!=xt.Word)&&(i(Mh(n.input,n.index+n[0].length))!=xt.Word||i(Ih(n.input,n.index+n[0].length))!=xt.Word)):void 0},n,r);var i}function Ih(t,e){return t.slice(g(t,e,!1),e)}function Mh(t,e){return t.slice(e,g(t,e))}class Nh extends Eh{nextMatch(t,e,n){let r=Qh(this.spec,t,n,t.doc.length).next();return r.done&&(r=Qh(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),s=Qh(this.spec,t,i,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==e||o.from>i+10))return o;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=Qh(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Qh(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const $h=dt.define(),Fh=dt.define(),Bh=V.define({create:t=>new Uh(Kh(t).create(),null),update(t,e){for(let n of e.effects)n.is($h)?t=new Uh(n.value.create(),t.panel):n.is(Fh)&&(t=new Uh(t.query,n.value?Zh:null));return t},provide:t=>bo.from(t,(t=>t.panel))});class Uh{constructor(t,e){this.query=t,this.panel=e}}const Hh=sn.mark({class:"cm-searchMatch"}),qh=sn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Vh=nr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Bh))}update(t){let e=t.state.field(Bh);(e!=t.startState.field(Bh)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return sn.none;let{view:n}=this,r=new Lt;for(let e=0,i=n.visibleRanges,s=i.length;e<s;e++){let{from:o,to:l}=i[e];for(;e<s-1&&l>i[e+1].from-500;)l=i[++e].to;t.highlight(n.state,o,l,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));r.add(t,e,i?qh:Hh)}))}return r.finish()}},{decorations:t=>t.decorations});function Xh(t){return e=>{let n=e.state.field(Bh,!1);return n&&n.query.spec.valid?t(e,n):ef(e)}}const zh=Xh(((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Q.single(r.from,r.to),s=t.state.facet(Ph);return t.dispatch({selection:i,effects:[uf(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),tf(t),!0})),Wh=Xh(((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Q.single(i.from,i.to),o=t.state.facet(Ph);return t.dispatch({selection:s,effects:[uf(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),tf(t),!0})),jh=Xh(((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!(!n||!n.length)&&(t.dispatch({selection:Q.create(n.map((t=>Q.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),Gh=Xh(((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o,l,a=[],u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(es.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let e=0==a.length||a[0].from>=s.to?0:s.to-s.from-l.length;o=Q.single(s.from-e,s.to-e),u.push(uf(t,s)),u.push(n.facet(Ph).scrollToMatch(o.main,t))}return t.dispatch({changes:a,selection:o,effects:u,userEvent:"input.replace"}),!0})),Yh=Xh(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:es.announce.of(r),userEvent:"input.replace.all"}),!0}));function Zh(t){return t.state.facet(Ph).createPanel(t)}function Kh(t,e){var n,r,i,s,o;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=t.facet(Ph);return new _h({search:(null!==(n=null==e?void 0:e.literal)&&void 0!==n?n:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==e?void 0:e.caseSensitive)&&void 0!==r?r:u.caseSensitive,literal:null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:u.literal,regexp:null!==(s=null==e?void 0:e.regexp)&&void 0!==s?s:u.regexp,wholeWord:null!==(o=null==e?void 0:e.wholeWord)&&void 0!==o?o:u.wholeWord})}function Jh(t){let e=wo(t,Zh);return e&&e.dom.querySelector("[main-field]")}function tf(t){let e=Jh(t);e&&e==t.root.activeElement&&e.select()}const ef=t=>{let e=t.state.field(Bh,!1);if(e&&e.panel){let n=Jh(t);if(n&&n!=t.root.activeElement){let r=Kh(t.state,e.query.spec);r.valid&&t.dispatch({effects:$h.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Fh.of(!0),e?$h.of(Kh(t.state,e.query.spec)):dt.appendConfig.of(hf)]});return!0},nf=t=>{let e=t.state.field(Bh,!1);if(!e||!e.panel)return!1;let n=wo(t,Zh);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Fh.of(!1)}),!0},rf=[{key:"Mod-f",run:ef,scope:"editor search-panel"},{key:"F3",run:zh,shift:Wh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:zh,shift:Wh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:nf,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let e=new uh(t.doc,t.sliceDoc(r,i));!e.next().done;){if(s.length>1e3)return!1;e.value.from==r&&(o=s.length),s.push(Q.range(e.value.from,e.value.to))}return e(t.update({selection:Q.create(s,o),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=wo(t,mh);if(!e){let n=[Rh.of(!0)];null==t.state.field(wh,!1)&&n.push(dt.appendConfig.of([wh,Oh])),t.dispatch({effects:n}),e=wo(t,mh)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=Q.create(n.ranges.map((e=>t.wordAt(e.head)||Q.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=r)))return!1;let i=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new uh(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(s){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new uh(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,r);return!!i&&(e(t.update({selection:t.selection.addRange(Q.range(i.from,i.to),!1),effects:es.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class sf{constructor(t){this.view=t;let e=this.query=t.state.field(Bh).query.spec;function n(t,e,n){return oh("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=oh("input",{value:e.search,placeholder:of(t,"Find"),"aria-label":of(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=oh("input",{value:e.replace,placeholder:of(t,"Replace"),"aria-label":of(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=oh("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=oh("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=oh("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=oh("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>zh(t)),[of(t,"next")]),n("prev",(()=>Wh(t)),[of(t,"previous")]),n("select",(()=>jh(t)),[of(t,"all")]),oh("label",null,[this.caseField,of(t,"match case")]),oh("label",null,[this.reField,of(t,"regexp")]),oh("label",null,[this.wordField,of(t,"by word")]),...t.state.readOnly?[]:[oh("br"),this.replaceField,n("replace",(()=>Gh(t)),[of(t,"replace")]),n("replaceAll",(()=>Yh(t)),[of(t,"replace all")])],oh("button",{name:"close",onclick:()=>nf(t),"aria-label":of(t,"close"),type:"button"},["×"])])}commit(){let t=new _h({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:$h.of(t)}))}keydown(t){var e,n,r;e=this.view,n=t,r="search-panel",gs(hs(e.state),n,e,r)?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Wh:zh)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),Gh(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is($h)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ph).top}}function of(t,e){return t.state.phrase(e)}const lf=30,af=/[\s\.,:;?!]/;function uf(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-lf),o=Math.min(i,n+lf),l=t.state.sliceDoc(s,o);if(s!=r.from)for(let t=0;t<lf;t++)if(!af.test(l[t+1])&&af.test(l[t])){l=l.slice(t);break}if(o!=i)for(let t=l.length-1;t>l.length-lf;t--)if(!af.test(l[t-1])&&af.test(l[t])){l=l.slice(0,t);break}return es.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const cf=es.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),hf=[Bh,Y.low(Vh),cf];class ff{constructor(t,e,n,r){this.state=t,this.pos=e,this.explicit=n,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=sa(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(mf(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e,n){"abort"==t&&this.abortListeners&&(this.abortListeners.push(e),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function df(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function vf(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=df(e)+df(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:n}:null}}class gf{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function pf(t){return t.selection.main.from}function mf(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const Rf=ct.define();const wf=new WeakMap;function Of(t){if(!Array.isArray(t))return t;let e=wf.get(t);return e||wf.set(t,e=vf(t)),e}const xf=dt.define(),yf=dt.define();class bf{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=O(t,e),r=y(n);this.chars.push(n);let i=t.slice(e,e+r),s=i.toUpperCase();this.folded.push(O(s==i?i.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:i,byWord:s}=this;if(1==e.length){let r=O(t,0),i=y(r),s=i==t.length?0:-100;if(r==e[0]);else{if(r!=n[0])return null;s+=-200}return this.ret(s,[0,i])}let o=t.indexOf(this.pattern);if(0==o)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=e.length,a=0;if(o<0){for(let i=0,s=Math.min(t.length,200);i<s&&a<l;){let s=O(t,i);s!=e[a]&&s!=n[a]||(r[a++]=i),i+=y(s)}if(a<l)return null}let u=0,c=0,h=!1,f=0,d=-1,v=-1,g=/[a-z]/.test(t),p=!0;for(let r=0,a=Math.min(t.length,200),m=0;r<a&&c<l;){let a=O(t,r);o<0&&(u<l&&a==e[u]&&(i[u++]=r),f<l&&(a==e[f]||a==n[f]?(0==f&&(d=r),v=r+1,f++):f=0));let R,w=a<255?a>=48&&a<=57||a>=97&&a<=122?2:a>=65&&a<=90?1:0:(R=x(a))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!r||1==w&&g||0==m&&0!=w)&&(e[c]==a||n[c]==a&&(h=!0)?s[c++]=r:s.length&&(p=!1)),m=w,r+=y(a)}return c==l&&0==s[0]&&p?this.result((h?-200:0)-100,s,t):f==l&&0==d?this.ret(-200-t.length+(v==t.length?0:-100),[0,v]):o>-1?this.ret(-700-t.length,[o,o+this.pattern.length]):f==l?this.ret(-900-t.length,[d,v]):c==l?this.result((h?-200:0)-100-700+(p?0:-1100),s,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[],i=0;for(let t of e){let e=t+(this.astral?y(O(n,t)):1);i&&r[i-1]==t?r[i-1]=e:(r[i++]=t,r[i++]=e)}return this.ret(t-n.length,r)}}class kf{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),n=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,e.length],this.score=n+(t.length==this.pattern.length?0:-100),this)}}const Cf=N.define({combine:t=>Tt(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Sf,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>Tf(t(n),e(n)),optionClass:(t,e)=>n=>Tf(t(n),e(n)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function Tf(t,e){return t?e?t+" "+e:t:e}function Sf(t,e,n,r,i,s){let o,l,a=t.textDirection==mn.RTL,u=a,c=!1,h="top",f=e.left-i.left,d=i.right-e.right,v=r.right-r.left,g=r.bottom-r.top;if(u&&f<Math.min(v,d)?u=!1:!u&&d<Math.min(v,f)&&(u=!0),v<=(u?f:d))o=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,l=Math.min(400,u?f:d);else{c=!0,l=Math.min(400,(a?e.right:i.right-e.left)-30);let t=i.bottom-e.bottom;t>=g||t>e.top?o=n.bottom-e.top:(h="bottom",o=e.bottom-n.top)}return{style:`${h}: ${o/((e.bottom-e.top)/s.offsetHeight)}px; max-width: ${l/((e.right-e.left)/s.offsetWidth)}px`,class:"cm-completionInfo-"+(c?a?"left-narrow":"right-narrow":u?"left":"right")}}function Af(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Pf{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:i,selected:s}=r.open,o=t.state.facet(Cf);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let s=t.displayLabel||t.label,o=0;for(let t=0;t<r.length;){let e=r[t++],n=r[t++];e>o&&i.appendChild(document.createTextNode(s.slice(o,e)));let l=i.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(s.slice(e,n))),l.className="cm-completionMatchedText",o=n}return o<s.length&&i.appendChild(document.createTextNode(s.slice(o))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Af(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=t.state.field(e).open;for(let e,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(e=/-(\d+)$/.exec(i.id))&&+e[1]<r.length)return this.applyCompletion(t,r[+e[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let n=t.state.field(this.stateField,!1);n&&n.tooltip&&t.state.facet(Cf).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:yf.of(null)})})),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:i,selected:s,disabled:o}=n.open;r.open&&r.open.options==i||(this.range=Af(i.length,s,t.state.facet(Cf).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=(null===(e=r.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Af(e.options.length,e.selected,this.view.state.facet(Cf).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let i="string"==typeof r?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,n)})).catch((t=>Kn(this.view.state,t,"completion info"))):this.addInfoPane(i,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:r}=t;n.appendChild(e),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.space;if(!i){let t=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return r.top>Math.min(i.bottom,e.bottom)-10||r.bottom<Math.max(i.top,e.top)+10?null:this.view.state.facet(Cf).positionInfo(this.view,e,r,n,i,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=n.from;s<n.to;s++){let{completion:o,match:l}=t[s],{section:a}=o;if(a){let t="string"==typeof a?a:a.name;if(t!=i&&(s>n.from||0==n.from))if(i=t,"string"!=typeof a&&a.header)r.appendChild(a.header(a));else{r.appendChild(document.createElement("completion-section")).textContent=t}}const u=r.appendChild(document.createElement("li"));u.id=e+"-"+s,u.setAttribute("role","option");let c=this.optionClass(o);c&&(u.className=c);for(let t of this.optionContent){let e=t(o,this.view.state,this.view,l);e&&u.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function _f(t,e){return n=>new Pf(n,t,e)}function Ef(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Lf{constructor(t,e,n,r,i,s){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Lf(this.options,Mf(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,i,s){if(r&&!s&&t.some((t=>1==t.state)))return r.setDisabled();let o=function(t,e){let n=[],r=null,i=t=>{n.push(t);let{section:e}=t.completion;if(e){r||(r=[]);let t="string"==typeof e?e:e.name;r.some((e=>e.name==t))||r.push("string"==typeof e?{name:t}:e)}},s=e.facet(Cf);for(let r of t)if(r.hasResult()){let t=r.result.getMatch;if(!1===r.result.filter)for(let e of r.result.options)i(new gf(e,r.source,t?t(e):[],1e9-n.length));else{let n,o=e.sliceDoc(r.from,r.to),l=s.filterStrict?new kf(o):new bf(o);for(let e of r.result.options)if(n=l.match(e.label)){let s=e.displayLabel?t?t(e,n.matched):[]:n.matched;i(new gf(e,r.source,s,n.score+(e.boost||0)))}}}if(r){let t=Object.create(null),e=0,i=(t,e)=>{var n,r;return(null!==(n=t.rank)&&void 0!==n?n:1e9)-(null!==(r=e.rank)&&void 0!==r?r:1e9)||(t.name<e.name?-1:1)};for(let n of r.sort(i))e-=1e5,t[n.name]=e;for(let e of n){let{section:n}=e.completion;n&&(e.score+=t["string"==typeof n?n:n.name])}}let o=[],l=null,a=s.compareCompletions;for(let t of n.sort(((t,e)=>e.score-t.score||a(t.completion,e.completion)))){let e=t.completion;!l||l.label!=e.label||l.detail!=e.detail||null!=l.type&&null!=e.type&&l.type!=e.type||l.apply!=e.apply||l.boost!=e.boost?o.push(t):Ef(t.completion)>Ef(l)&&(o[o.length-1]=t),l=t.completion}return o}(t,e);if(!o.length)return r&&t.some((t=>1==t.state))?r.setDisabled():null;let l=e.facet(Cf).selectOnOpen?0:-1;if(r&&r.selected!=l&&-1!=r.selected){let t=r.options[r.selected].completion;for(let e=0;e<o.length;e++)if(o[e].completion==t){l=e;break}}return new Lf(o,Mf(n,l),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:Xf,above:i.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(t){return new Lf(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Lf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Df{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new Df(Nf,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(Cf),r=(n.override||e.languageDataAt("autocomplete",pf(e)).map(Of)).map((e=>{let r=this.active.find((t=>t.source==e))||new Ff(e,this.active.some((t=>0!=t.state))?1:0);return r.update(t,n)}));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=this.open,s=t.effects.some((t=>t.is(Uf)));i&&t.docChanged&&(i=i.map(t.changes)),t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)||s?i=Lf.build(r,e,this.id,i,n,s):i&&i.disabled&&!r.some((t=>1==t.state))&&(i=null),!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new Ff(t.source,0):t)));for(let e of t.effects)e.is(Hf)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new Df(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Qf:If}}const Qf={"aria-autocomplete":"list"},If={};function Mf(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Nf=[];function $f(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(Rf);if(n&&e.activateOnCompletion(n))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ff{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=$f(t,e),r=this;(8&n||16&n&&this.touches(t))&&(r=new Ff(r.source,0)),4&n&&0==r.state&&(r=new Ff(this.source,1)),r=r.updateFor(t,n);for(let e of t.effects)if(e.is(xf))r=new Ff(r.source,1,e.value?pf(t.state):-1);else if(e.is(yf))r=new Ff(r.source,0);else if(e.is(Uf))for(let t of e.value)t.source==r.source&&(r=t);return r}updateFor(t,e){return this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Ff(this.source,this.state,t.mapPos(this.explicitPos))}touches(t){return t.changes.touchesRange(pf(t.state))}}class Bf extends Ff{constructor(t,e,n,r,i){super(t,2,e),this.result=n,this.from=r,this.to=i}hasResult(){return!0}updateFor(t,e){var n;if(!(3&e))return this.map(t.changes);let r=this.result;r.map&&!t.changes.empty&&(r=r.map(r,t.changes));let i=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),o=pf(t.state);if((this.explicitPos<0?o<=i:o<this.from)||o>s||!r||2&e&&pf(t.startState)==this.from)return new Ff(this.source,4&e?1:0);let l=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return"function"==typeof t?t(i,n,r,e):mf(t,!0).test(i)}(r.validFor,t.state,i,s)?new Bf(this.source,l,r,i,s):r.update&&(r=r.update(r,i,s,new ff(t.state,o,l>=0)))?new Bf(this.source,l,r,r.from,null!==(n=r.to)&&void 0!==n?n:pf(t.state)):new Ff(this.source,1,l)}map(t){if(t.empty)return this;return(this.result.map?this.result.map(this.result,t):this.result)?new Bf(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Ff(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const Uf=dt.define({map:(t,e)=>t.map((t=>t.map(e)))}),Hf=dt.define(),qf=V.define({create:()=>Df.start(),update:(t,e)=>t.update(e),provide:t=>[ao.from(t,(t=>t.tooltip)),es.contentAttributes.from(t,(t=>t.attrs))]});function Vf(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(qf).active.find((t=>t.source==e.source));return r instanceof Bf&&("string"==typeof n?t.dispatch(Object.assign(Object.assign({},function(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange((l=>{if(l!=i&&n!=r&&t.sliceDoc(l.from+s,l.from+o)!=t.sliceDoc(n,r))return{range:l};let a=t.toText(e);return{changes:{from:l.from+s,to:r==i.from?l.to:l.from+o,insert:a},range:Q.cursor(l.from+s+a.length)}}))),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,r.from,r.to)),{annotations:Rf.of(e.completion)})):n(t,e.completion,r.from,r.to),!0)}const Xf=_f(qf,Vf);function zf(t,e="option"){return n=>{let r=n.state.field(qf,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Cf).interactionDelay)return!1;let i,s=1;"page"==e&&(i=po(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:o-1;return l<0?l="page"==e?0:o-1:l>=o&&(l="page"==e?o-1:0),n.dispatch({effects:Hf.of(l)}),!0}}const Wf=t=>!!t.state.field(qf,!1)&&(t.dispatch({effects:xf.of(!0)}),!0);class jf{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Gf=nr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(qf).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(qf),n=t.state.facet(Cf);if(!t.selectionSet&&!t.docChanged&&t.startState.field(qf)==e)return;let r=t.transactions.some((t=>{let e=$f(t,n);return 8&e||(t.selection||t.docChanged)&&!(3&e)}));for(let e=0;e<this.running.length;e++){let n=this.running[e];if(r||n.context.abortOnDocChange&&t.docChanged||n.updates.length+t.transactions.length>50&&Date.now()-n.time>1e3){for(let t of n.context.abortListeners)try{t()}catch(t){Kn(this.view.state,t)}n.context.abortListeners=null,this.running.splice(e--,1)}else n.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some((t=>t.effects.some((t=>t.is(xf)))))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),i):-1,0!=this.composing)for(let e of t.transactions)e.isUserEvent("input.type")?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(qf);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(Cf).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=pf(e),r=new ff(e,n,t.explicitPos==n,this.view),i=new jf(t,r);this.running.push(i),Promise.resolve(t.source(r)).then((t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:yf.of(null)}),Kn(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(Cf).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Cf),r=this.view.state.field(qf);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(void 0===s.done)continue;if(this.running.splice(i--,1),s.done){let r=new Bf(s.active.source,s.active.explicitPos,s.done,s.done.from,null!==(t=s.done.to)&&void 0!==t?t:pf(s.updates.length?s.updates[0].startState:this.view.state));for(let t of s.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let o=r.active.find((t=>t.source==s.active.source));if(o&&1==o.state)if(null==s.done){let t=new Ff(s.active.source,0);for(let e of s.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:Uf.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(qf,!1);if(e&&e.tooltip&&this.view.state.facet(Cf).closeOnBlur){let n=e.open&&po(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:yf.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:xf.of(!1)})),20),this.composing=0}}}),Yf="object"==typeof navigator&&/Win/.test(navigator.platform),Zf=Y.highest(es.domEventHandlers({keydown(t,e){let n=e.state.field(qf,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&(!Yf||!t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find((t=>t.source==r.source)),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&Vf(e,r),!1}})),Kf=es.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});const Jf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},td=dt.define({map(t,e){let n=e.mapPos(t,-1,k.TrackAfter);return null==n?void 0:n}}),ed=new class extends St{};ed.startSide=1,ed.endSide=-1;const nd=V.define({create:()=>Et.empty,update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=n.from&&t<=n.to})}for(let n of e.effects)n.is(td)&&(t=t.update({add:[ed.range(n.value,n.value+1)]}));return t}});const rd="()[]{}<>";function id(t){for(let e=0;e<8;e+=2)if(rd.charCodeAt(e)==t)return rd.charAt(e+1);return x(t<128?t:t+1)}function sd(t,e){return t.languageDataAt("closeBrackets",e)[0]||Jf}const od="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),ld=es.inputHandler.of(((t,e,n,r)=>{if((od?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||2==r.length&&1==y(O(r,0))||e!=i.from||n!=i.to)return!1;let s=function(t,e){let n=sd(t,t.selection.main.head),r=n.brackets||Jf.brackets;for(let i of r){let s=id(O(i,0));if(e==i)return s==i?dd(t,i,r.indexOf(i+i+i)>-1,n):hd(t,i,s,n.before||Jf.before);if(e==s&&ud(t,t.selection.main.from))return fd(t,i,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)})),ad=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=sd(t,t.selection.main.head).brackets||Jf.brackets,r=null,i=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return y(O(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let i of n)if(i==r&&cd(t.doc,e.head)==id(O(i,0)))return{changes:{from:e.head-i.length,to:e.head+i.length},range:Q.cursor(e.head-i.length)}}return{range:r=e}}));return r||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function ud(t,e){let n=!1;return t.field(nd).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function cd(t,e){let n=t.sliceString(e,e+2);return n.slice(0,y(O(n,0)))}function hd(t,e,n,r){let i=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:td.of(s.to+e.length),range:Q.range(s.anchor+e.length,s.head+e.length)};let o=cd(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:td.of(s.head+e.length),range:Q.cursor(s.head+e.length)}:{range:i=s}}));return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function fd(t,e,n){let r=null,i=t.changeByRange((e=>e.empty&&cd(t.doc,e.head)==n?{changes:{from:e.head,to:e.head+n.length,insert:n},range:Q.cursor(e.head+n.length)}:r={range:e}));return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function dd(t,e,n,r){let i=r.stringPrefixes||Jf.stringPrefixes,s=null,o=t.changeByRange((r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:e,from:r.to}],effects:td.of(r.to+e.length),range:Q.range(r.anchor+e.length,r.head+e.length)};let o,l=r.head,a=cd(t.doc,l);if(a==e){if(vd(t,l))return{changes:{insert:e+e,from:l},effects:td.of(l+e.length),range:Q.cursor(l+e.length)};if(ud(t,l)){let r=n&&t.sliceDoc(l,l+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+r.length,insert:r},range:Q.cursor(l+r.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(o=gd(t,l-2*e.length,i))>-1&&vd(t,o))return{changes:{insert:e+e+e+e,from:l},effects:td.of(l+e.length),range:Q.cursor(l+e.length)};if(t.charCategorizer(l)(a)!=xt.Word&&gd(t,l,i)>-1&&!function(t,e,n,r){let i=sa(t).resolveInner(e,-1),s=r.reduce(((t,e)=>Math.max(t,e.length)),0);for(let o=0;o<5;o++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=o.indexOf(n);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let e=i.firstChild;for(;e&&e.from==i.from&&e.to-e.from>n.length+l;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let a=i.to==e&&i.parent;if(!a)break;i=a}return!1}(t,l,e,i))return{changes:{insert:e+e,from:l},effects:td.of(l+e.length),range:Q.cursor(l+e.length)}}return{range:s=r}}));return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function vd(t,e){let n=sa(t).resolveInner(e+1);return n.parent&&n.from==e}function gd(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=xt.Word)return e;for(let i of n){let n=e-i.length;if(t.sliceDoc(n,e)==i&&r(t.sliceDoc(n-1,n))!=xt.Word)return n}return-1}function pd(t={}){return[Zf,qf,Cf.of(t),Gf,Rd,Kf]}const md=[{key:"Ctrl-Space",run:Wf},{mac:"Alt-`",run:Wf},{key:"Escape",run:t=>{let e=t.state.field(qf,!1);return!(!e||!e.active.some((t=>0!=t.state)))&&(t.dispatch({effects:yf.of(null)}),!0)}},{key:"ArrowDown",run:zf(!0)},{key:"ArrowUp",run:zf(!1)},{key:"PageDown",run:zf(!0,"page")},{key:"PageUp",run:zf(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(qf,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Cf).interactionDelay)&&Vf(t,e.open.options[e.open.selected])}}],Rd=Y.highest(us.computeN([Cf],(t=>t.facet(Cf).defaultKeymap?[md]:[])));class wd{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class Od{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,i=n.facet(Dd).markerFilter;i&&(r=i(r,n));let s=sn.set(r.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?sn.widget({widget:new Md(t),diagnostic:t}).range(t.from):sn.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t}).range(t.from,t.to))),!0);return new Od(s,e,xd(s))}}function xd(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new wd(t,n,i.diagnostic),!1})),r}function yd(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Dd).hideOn(t,n,r);if(null!=i)return i;let s=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(kd)))&&!t.changes.touchesRange(s.from,Math.max(s.to,r)))}function bd(t,e){return t.field(Sd,!1)?e:e.concat(dt.appendConfig.of(Hd))}const kd=dt.define(),Cd=dt.define(),Td=dt.define(),Sd=V.define({create:()=>new Od(sn.none,null,null),update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=xd(n,t.selected.diagnostic,i)||xd(n,null,i)}!n.size&&i&&e.state.facet(Dd).autoPanel&&(i=null),t=new Od(n,i,r)}for(let n of e.effects)if(n.is(kd)){let r=e.state.facet(Dd).autoPanel?n.value.length?$d.open:null:t.panel;t=Od.init(n.value,r,e.state)}else n.is(Cd)?t=new Od(t.diagnostics,n.value?$d.open:null,t.selected):n.is(Td)&&(t=new Od(t.diagnostics,t.panel,n.value));return t},provide:t=>[bo.from(t,(t=>t.panel)),es.decorations.from(t,(t=>t.diagnostics))]});const Ad=sn.mark({class:"cm-lintRange cm-lintRange-active"});function Pd(t,e,n){let{diagnostics:r}=t.state.field(Sd),i=[],s=2e8,o=0;r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:l})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(l.diagnostic),s=Math.min(t,s),o=Math.max(r,o))}));let l=t.state.facet(Dd).tooltipFilter;return l&&(i=l(i,t.state)),i.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create:()=>({dom:_d(t,i)})}:null}function _d(t,e){return oh("ul",{class:"cm-tooltip-lint"},e.map((e=>Id(t,e,!1))))}const Ed=t=>{let e=t.state.field(Sd,!1);return!(!e||!e.panel)&&(t.dispatch({effects:Cd.of(!1)}),!0)},Ld=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(Sd,!1);e&&e.panel||t.dispatch({effects:bd(t.state,[Cd.of(!0)])});let n=wo(t,$d.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(Sd,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to))&&(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}];const Dd=N.define({combine:t=>Object.assign({sources:t.map((t=>t.source)).filter((t=>null!=t))},Tt(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function Qd(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function Id(t,e,n){var r;let i=n?Qd(e.actions):[];return oh("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},oh("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let s=!1,o=r=>{if(r.preventDefault(),s)return;s=!0;let i=xd(t.state.field(Sd).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:l}=n,a=i[r]?l.indexOf(i[r]):-1,u=a<0?l:[l.slice(0,a),oh("u",l.slice(a,a+1)),l.slice(a+1)];return oh("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${l}${a<0?"":` (access key "${i[r]})"`}.`},u)})),e.source&&oh("div",{class:"cm-diagnosticSource"},e.source))}class Md extends nn{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return oh("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Nd{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Id(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class $d{constructor(t){this.view=t,this.items=[];this.list=oh("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)Ed(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=Qd(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=xd(this.view.state.field(Sd).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=oh("div",{class:"cm-panel-lint"},this.list,oh("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ed(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(Sd).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Sd),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,s,{spec:o})=>{let l,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==o.diagnostic){a=t;break}a<0?(l=new Nd(this.view,o.diagnostic),this.items.splice(n,0,l),r=!0):(l=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),i=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new Nd(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let n=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/n:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=xd(this.view.state.field(Sd).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:Td.of(e)})}static open(t){return new $d(t)}}function Fd(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Bd(t){return Fd(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Ud=es.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Bd("#d11")},".cm-lintRange-warning":{backgroundImage:Bd("orange")},".cm-lintRange-info":{backgroundImage:Bd("#999")},".cm-lintRange-hint":{backgroundImage:Bd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});const Hd=[Sd,es.decorations.compute([Sd],(t=>{let{selected:e,panel:n}=t.field(Sd);return e&&n&&e.from!=e.to?sn.set([Ad.range(e.from,e.to)]):sn.none})),go(Pd,{hideOn:yd}),Ud];const qd=(()=>[Vo(),Wo,Us(),Uu(),Za(),ks(),[Ls,Ds],Ct.allowMultipleSelections.of(!0),Ct.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let s=n.sliceString(i.from,r);if(!e.some((t=>t.test(s))))return t;let{state:o}=t,l=-1,a=[];for(let{head:t}of o.selection.ranges){let e=o.doc.lineAt(t);if(e.from==l)continue;l=e.from;let n=wa(o,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=Ra(o,n);r!=i&&a.push({from:e.from,to:e.from+r.length,insert:i})}return a.length?[t,{changes:a,sequential:!0}]:t})),ru(ou,{fallback:!0}),gu(),[ld,nd],pd(),Ys(),Js(),zs,bh(),us.of([...ad,...ih,...rf,...ic,...Ha,...md,...Ld])])();class Vd{constructor(t,e,n,r,i,s,o,l,a,u=0,c){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=a,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter(((t,e)=>e%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new Vd(t,[],e,n,n,0,[],0,r?new Xd(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,r=65535&t,{parser:i}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=i.dynamicPrecedence(r);if(o&&(this.score+=o),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,s?8:4,!0),void this.reduceContext(r,this.reducePos);let l=this.stack.length-3*(n-1)-(262144&t?6:0),a=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-a;u>=2e3&&!(null===(e=this.p.parser.nodeSet.types[r])||void 0===e?void 0:e.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=u));let c=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-c;if(r<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,t,h+4,!0)}if(262144&t)this.state=this.stack[l];else{let t=this.stack[l-3];this.state=i.getGoto(t,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,a)}storeNode(t,e,n,r=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,r=this.buffer.length;if(0==r&&t.parent&&(r=t.bufferBase-t.parent.bufferBase,t=t.parent),r>0&&0==t.buffer[r-4]&&t.buffer[r-1]>-1){if(e==n)return;if(t.buffer[r-2]>=e)return void(t.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let t=!1;for(let e=i;e>0&&this.buffer[e-2]>n;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4)}this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n,r){if(131072&t)this.pushState(65535&t,this.pos);else if(262144&t)this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4);else{let i=t,{parser:s}=this.p;(r>this.pos||e<=s.maxNode)&&(this.pos=r,s.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,r,4)}}apply(t,e,n,r){65536&t?this.reduce(t):this.shift(t,e,n,r)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new Vd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new zd(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(!(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<e.length;i+=2)(r=e[i+1])!=this.state&&this.p.parser.hasAction(r,t)&&n.push(e[i],r);if(this.stack.length<120)for(let t=0;n.length<8&&t<e.length;t+=2){let r=e[t+1];n.some(((t,e)=>1&e&&t==r))||n.push(e[t],r)}e=n}let n=[];for(let t=0;t<e.length&&n.length<4;t+=2){let r=e[t+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(65536&e))return!1;if(!t.validAction(this.state,e)){let n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(r,i)=>{if(!e.includes(r))return e.push(r),t.allActions(r,(e=>{if(393216&e);else if(65536&e){let n=(e>>19)-i;if(n>1){let r=65535&e,i=this.stack.length-3*n;if(i>=0&&t.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let t=n(e,i+1);if(null!=t)return t}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Xd(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Xd{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class zd{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class Wd{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Wd(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Wd(this.stack,this.pos,this.index)}}function jd(t,e=Uint16Array){if("string"!=typeof t)return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let e=t.charCodeAt(r++),n=!1;if(126==e){s=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,n=!0),s+=i,n)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Gd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Yd=new Gd;class Zd{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Yd,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,i=this.pos+t;for(;i<n.from;){if(!r)return null;let t=this.ranges[--r];i-=n.from-t.to,n=t}for(;e<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let t=this.ranges[++r];i+=t.from-n.to,n=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,n,r=this.chunkOff+t;if(r>=0&&r<this.chunk.length)e=this.pos+t,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(t,1);if(null==r)return-1;if(e=r,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,r=this.range;for(;r.to<=e;)r=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-e)),n=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),n}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Yd,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class Kd{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;Jd(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}Kd.prototype.contextual=Kd.prototype.fallback=Kd.prototype.extend=!1;Kd.prototype.fallback=Kd.prototype.extend=!1;function Jd(t,e,n,r,i,s){let o=0,l=1<<r,{dialect:a}=n.p.parser;t:for(;l&t[o];){let n=t[o+1];for(let r=o+3;r<n;r+=2)if((t[r+1]&l)>0){let n=t[r];if(a.allows(n)&&(-1==e.token.value||e.token.value==n||ev(n,e.token.value,i,s))){e.acceptToken(n);break}}let r=e.next,u=0,c=t[o+2];if(!(e.next<0&&c>u&&65535==t[n+3*c-3])){for(;u<c;){let i=u+c>>1,s=n+i+(i<<1),l=t[s],a=t[s+1]||65536;if(r<l)c=i;else{if(!(r>=a)){o=t[s+2],e.advance();continue t}u=i+1}}break}o=t[n+3*c-1]}}function tv(t,e,n){for(let r,i=e;65535!=(r=t[i]);i++)if(r==n)return i-e;return-1}function ev(t,e,n,r){let i=tv(n,r,e);return i<0||tv(n,r,t)<i}const nv="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let rv=null;function iv(t,e,n){let r=t.cursor(il.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class sv{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?iv(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?iv(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],s=this.start[e]+n.positions[r];if(s>t)return this.nextStart=s,null;if(i instanceof sl){if(s==t){if(s<this.safeFrom)return null;let t=s+i.length;if(t<=this.safeTo){let e=i.prop(Zo.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,s+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+i.length}}}class ov{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((t=>new Gd))}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:i}=r,s=r.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let r=0;r<i.length;r++){if(!(1<<r&s))continue;let a=i[r],u=this.tokens[r];if((!n||a.fallback)&&((a.contextual||u.start!=t.pos||u.mask!=s||u.context!=o)&&(this.updateCachedToken(u,a,t),u.mask=s,u.context=o),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),0!=u.value)){let r=e;if(u.extended>-1&&(e=this.addActions(t,u.extended,u.end,e)),e=this.addActions(t,u.value,u.end,e),!a.extend&&(n=u,e>r))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),n||t.pos!=this.stream.end||(n=new Gd,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Gd,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){let r=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(r,t),n),t.value>-1){let{parser:e}=n.p;for(let r=0;r<e.specialized.length;r++)if(e.specialized[r]==t.value){let i=e.specializers[r](this.stream.read(t.start,t.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){1&i?t.extended=i>>1:t.value=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,n,r){for(let e=0;e<r;e+=3)if(this.actions[e]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:i}=t,{parser:s}=t.p,{data:o}=s;for(let t=0;t<2;t++)for(let l=s.stateSlot(i,t?2:1);;l+=3){if(65535==o[l]){if(1!=o[l+1]){0==r&&2==o[l+1]&&(r=this.putAction(hv(o,l+2),e,n,r));break}l=hv(o,l+2)}o[l]==e&&(r=this.putAction(hv(o,l+1),e,n,r))}return r}}class lv{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Zd(e,r),this.tokens=new ov(t,this.stream),this.topTerm=t.top[1];let{from:i}=r[0];this.stacks=[Vd.start(this,t.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*t.bufferLength?new sv(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[t]=n;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,n))continue;{t||(t=[],e=[]),t.push(o);let n=this.tokens.getMainToken(o);e.push(n.value,n.end)}}break}}if(!i.length){let e=t&&function(t){let e=null;for(let n of t){let t=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=t&&n.pos>t)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}(t);if(e)return nv&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw nv&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&t){let n=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(n)return nv&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort(((t,e)=>e.score-t.score));i.length>t;)i.pop();i.some((t=>t.reducePos>r))&&this.recovering--}else if(i.length>1){t:for(let t=0;t<i.length-1;t++){let e=i[t];for(let n=t+1;n<i.length;n++){let r=i[n];if(e.sameState(r)||e.buffer.length>500&&r.buffer.length>500){if(!((e.score-r.score||e.buffer.length-r.buffer.length)>0)){i.splice(t--,1);continue t}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:i}=this,s=nv?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,n=e?t.curContext.hash:0;for(let o=this.fragments.nodeAt(r);o;){let r=this.parser.nodeSet.types[o.type.id]==o.type?i.getGoto(t.state,o.type.id):-1;if(r>-1&&o.length&&(!e||(o.prop(Zo.contextHash)||0)==n))return t.useNode(o,r),nv&&console.log(s+this.stackID(t)+` (via reuse of ${i.getName(o.type.id)})`),!0;if(!(o instanceof sl)||0==o.children.length||o.positions[0]>0)break;let l=o.children[0];if(!(l instanceof sl&&0==o.positions[0]))break;o=l}}let o=i.stateSlot(t.state,4);if(o>0)return t.reduce(o),nv&&console.log(s+this.stackID(t)+` (via always-reduce ${i.getName(65535&o)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let o=0;o<l.length;){let a=l[o++],u=l[o++],c=l[o++],h=o==l.length||!n,f=h?t:t.split(),d=this.tokens.mainToken;if(f.apply(a,u,d?d.start:f.pos,c),nv&&console.log(s+this.stackID(f)+` (via ${65536&a?`reduce of ${i.getName(65535&a)}`:"shift"} for ${i.getName(u)} @ ${r}${f==t?"":", split"})`),h)return!0;f.pos>r?e.push(f):n.push(f)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return av(t,e),!0}}runRecovery(t,e,n){let r=null,i=!1;for(let s=0;s<t.length;s++){let o=t[s],l=e[s<<1],a=e[1+(s<<1)],u=nv?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),nv&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let c=o.split(),h=u;for(let t=0;c.forceReduce()&&t<10;t++){if(nv&&console.log(h+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,n))break;nv&&(h=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(l))nv&&console.log(u+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,n);this.stream.end>o.pos?(a==o.pos&&(a++,l=0),o.recoverByDelete(l,a),nv&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),av(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(t){return t.close(),sl.build({buffer:Wd.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(rv||(rv=new WeakMap)).get(t);return e||rv.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function av(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t))return void(e[n].score<t.score&&(e[n]=t))}e.push(t)}class uv{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class cv extends kl{constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let n=0;n<t.repeatNodeCount;n++)e.push("");let n=Object.keys(t.topRules).map((e=>t.topRules[e][1])),r=[];for(let t=0;t<e.length;t++)r.push([]);function i(t,e,n){r[t].push([e,e.deserialize(String(n))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=Zo[t]);for(let n=1;n<e.length;){let r=e[n++];if(r>=0)i(r,t,e[n++]);else{let s=e[n+-r];for(let o=-r;o>0;o--)i(e[n++],t,s);n++}}}this.nodeSet=new el(e.map(((e,i)=>tl.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:r[i],top:n.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1})))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=jo;let s=jd(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(fv),this.states=jd(t.states,Uint32Array),this.data=jd(t.stateData),this.goto=jd(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((t=>"number"==typeof t?new Kd(s,t):t)),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new lv(this,t,e,n);for(let i of this.wrappers)r=i(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let i=r[e+1];;){let e=r[i++],s=1&e,o=r[i++];if(s&&n)return o;for(let n=i+(e>>1);i<n;i++)if(r[i]==t)return o;if(s)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let i,s=this.stateSlot(t,r?2:1);;s+=3){if(65535==(i=n[s])){if(1!=n[s+1]){if(2==n[s+1])return hv(n,s+2);break}i=n[s=hv(n,s+2)]}if(i==e||0==i)return hv(n,s+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,(t=>t==e||null))}allActions(t,e){let n=this.stateSlot(t,4),r=n?e(n):void 0;for(let n=this.stateSlot(t,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=hv(this.data,n+2)}r=e(hv(this.data,n+1))}return r}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=hv(this.data,n+2)}if(!(1&this.data[n+2])){let t=this.data[n+1];e.some(((e,n)=>1&n&&e==t))||e.push(this.data[n],t)}}return e}configure(t){let e=Object.assign(Object.create(cv.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map((e=>{let n=t.tokenizers.find((t=>t.from==e));return n?n.to:e}))),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=t.specializers.find((t=>t.from==n.external));if(!i)return n;let s=Object.assign(Object.assign({},n),{external:i.to});return e.specializers[r]=fv(s),s}))),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map((()=>!1));if(t)for(let r of t.split(" ")){let t=e.indexOf(r);t>=0&&(n[t]=!0)}let r=null;for(let t=0;t<e.length;t++)if(!n[t])for(let n,i=this.dialects[e[t]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new uv(t,n,r)}static deserialize(t){return new cv(t)}}function hv(t,e){return t[e]|t[e+1]<<16}function fv(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const dv={__proto__:null,open:8,interface:14,extends:22,forall:56,mu:66,type:82,true:98,false:100,undefined:102,override:108,with:120,let:144,in:146,letrec:150,if:156,then:158,else:160,trait:164,implements:166,inherits:168,new:172,toString:176,fix:180,fold:184,unfold:188,ref:192},vv={__proto__:null,Int:24,Double:26,String:28,Bool:30,Top:32,Bot:34,Trait:68,Ref:72},gv=cv.deserialize({version:14,states:"#![O]QPOOOOQO'#Eq'#EqO]QPOOO%cQQO'#DYOOQO'#DZ'#DZO(PQPO'#FrOOQO'#Db'#DbO(WQPO'#FtOOQO'#Dc'#DcOOQO'#Di'#DiO&PQPO'#FzOOQO'#Fq'#FqO(oQPO'#FqO*tQQO'#FpO-bQQO'#FoO/xQQO'#FnO2]QQO'#FmO2|QPO'#DqO3[QPO'#DsOOQO'#Fl'#FlOOQO'#Fk'#FkO&PQPO'#FkO4tQQO'#FjO5^QPO'#DXOOQO'#FW'#FWOOQO'#Er'#ErO7eQPOOQOQPOOO9lQPO'#FTO3_QPO'#CbO3_QPO'#DUO9vQPO'#DuO9vQPO'#DxO&PQPO'#D{O9{QSO'#EPO&PQPO'#ETO:ZQPO'#EVO9vQPO'#EXO;UQPO'#EZO;ZQPO'#E]O:ZQPO'#E_OOQO-E8o-E8oO;`QPO'#FsO;hQPO'#FsO;oQPO,5<^O&PQPO'#DzO;tQPO'#CrO<YQPO'#DeO9vQPO'#FvOOQO'#Dg'#DgO<kQPO'#FwO<sQPO'#DfO<xQPO'#FuO=QQPO'#FuO=YQPO'#FuO=_QPO'#FuO=vQPO,5<`O={QPO'#FuO>ZQPO,5<dO>`QPO,5<fOOQO'#Dl'#DlOOQO,5<],5<]O>eQPO'#FOO@mQQO,5<[O>eQPO,5<ZOAZQPO,5<YO>eQPO,5<YOOQO'#FP'#FPOBOQQO,5<XOAZQPO'#FPOOQO'#DY'#DYOOQO'#Ff'#FfO3SQPO'#FhOChQSO,5:]OCyQSO'#FiOOQO'#Fe'#FeOOQO'#Ey'#EyOOQO'#Cd'#CdO3_QPO'#F`OOQO'#F_'#F_OOQO'#Ev'#EvODUQPO,5:_OEXQQO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VO&PQPO,5<VOExQPO,5<UO5RQPO'#F`OFYQPO,59sOFdQPO,59sO&PQPO,59sOExQPO,59sOOQO-E8p-E8pOFxQQO,5;oOGSQPO,5:fOGXQPO,58|OGgQPO,59pOGrQPO,5:aOGyQPO,5:dOHQQPO,5:gO&PQPO,5:kOHVQPO,5:kOHgQPO,5:kOIpQSO,5:kOI{QQO,5:oOOQO,5:q,5:qOJlQPO,5:sOAZQPO,5:uOAZQPO,5:wOOQO,5:y,5:yPJqQPO'#FTOOQO,5;g,5;gOJyQPO,5<_OOQO-E8y-E8yOOQO1G1x1G1xO&PQPO,5:POKRQPO,5:POKdQPO,5<bOOQO'#Cr'#CrOKlQPO,5<cO<kQPO,5:QOK}QPO,5:QO<kQPO,5<aOOQO,5;h,5;hOLSQPO,5<aOL[QPO,5<aOLdQPO,5<aOOQO-E8z-E8zO={QPO,5<aOOQO1G1z1G1zO<{QPO'#DfOLiQPO,5<aOLqQPO1G2OOOQO1G2Q1G2QOOQO'#Dm'#DmOOQO,5;j,5;jOOQO-E8|-E8|OL|QSO1G1uOOQO'#Co'#CoOMRQPO'#F[OOQO'#Cp'#CpOExQPO'#FcOExQPO'#FdOOQO'#FZ'#FZOM^QQO'#FYOOQO1G1t1G1tOOQO-E8}-E8}OOQO,5;k,5;kO! pQPO,5<SO&PQPO1G/wOOQO-E8w-E8wO! uQPO'#EzO! zQSO,5<TO!!VQPO,5<TO!![QPO,5;zOOQO-E8t-E8tO&PQPO1G/yOOQO1G1q1G1qO!#qQQO1G1qO!#xQQO1G1qO!%aQQO1G1qO!%hQQO1G1qO!'PQQO1G1qO!'WQQO1G1qO!(lQQO1G1qO!(vQQO1G1qO!)lQPO1G1pO!)yQPO'#F^O!,|QPO'#FYO3[QPO'#F^O3_QPO'#F^O!-ZQPO'#F^OAZQPO'#F^O!-`QPO1G/_O&PQPO1G/_OExQPO1G/_O!-tQPO1G/_O!-yQPO1G/_OOQO1G1Z1G1ZO&PQPO1G0QO3_QPO'#FXOOQO'#Es'#EsO!.XQPO1G.hOOQO'#Et'#EtO!.[QPO1G.hO!.gQPO1G.hOAZQPO1G.hO!.lQPO1G/[O!.oQPO1G/[OExQPO1G/[O!.wQPO1G/{O!/OQPO1G/{O&PQPO1G/{O!/aQPO1G0OO!/hQPO1G0OOExQPO1G0OO&PQPO1G0RO!/yQQO1G0VO!0jQWO1G0VO!1OQWO'#F^O!2wQWO'#FYO!3qQ`O'#FpO!3{Q`O'#FoO!4VQ`O'#FnO!4dQWO'#FmO!5iQWO1G0VO&PQPO1G0VOHVQPO1G0VOHgQPO1G0VOExQPO1G0_O:ZQPO1G0aO:ZQPO1G0cP!5sQPO,5;oP!5xQPO'#E{OOQO1G/k1G/kO&PQPO1G/kOOQO1G1|1G1|OExQPO1G1|OOQO1G1}1G1}O!5}QPO1G1}OOQO1G/l1G/lO!6`QPO1G/lO!6eQPO1G1{O<kQPO1G1{P!6mQPO'#E|P!6uQPO'#E|P!6zQPO'#E|P={QPO'#E|O!7PQPO1G1{OOQO1G1S1G1SO!7XQPO'#FyO!7^QPO'#FyO!7iQPO7+'jO<kQPO7+'aO!7nQPO'#F]O!7vQPO'#F]O!8RQPO,5;vO!8WQPO,5;}O!8fQPO,5<OO!8tQPO'#FaOOQO'#Ex'#ExO!9UQQO,5;tOExQPO1G1nOOQO7+%c7+%cO&PQPO,5;fOOQO-E8x-E8xO!;hQPO1G1oOOQO1G1o1G1oOExQPO1G1fOOQO7+%e7+%eOExQPO,5;xOExQPO,5;xOExQPO,5;xOOQO'#Ew'#EwO!;mQPO,5;xO!>pQPO,5;tO!>}QPO,5;xO!?YQPO,5;xOOQO,5;x,5;xO&PQPO7+$yOExQPO7+$yO!?_QPO7+$yO!?dQPO7+$yOOQO7+$y7+$yOOQO7+%l7+%lO!?rQPO,5;sOOQO-E8q-E8qO!?wQPO7+$SO!@SQPO7+$SOAZQPO7+$SOOQO-E8r-E8rOOQO7+$S7+$SO!@XQPO7+$SO!@^QPO7+$vOExQPO7+$vO!@fQPO7+$vO!@tQPO7+%gO&PQPO7+%gO!AVQPO7+%gO!A[QPO7+%jOExQPO7+%jO!AmQPO7+%jO!A{QPO7+%mO&PQPO7+%qOHVQPO7+%qOHgQPO7+%qO!BQQWO,5;xO!CyQWO,5;tO!DsQ`O,5<[O!D}QWO,5<XO!FTQWO,5<VO!F_QWO,5:oO!FiQWO'#FpO!GmQQO7+%qO!H^QWO7+%qO!HrQWO7+%qO!H|QPO7+%yOOQO7+%{7+%{OOQO7+%}7+%}OOQO7+%V7+%VO!I[QPO7+'hOOQO7+'i7+'iO<kQPO7+%WOOQO7+&n7+&nO!IjQPO7+'gP<kQPO,5;hP!IrQPO,5;hO&PQPO,5<eO!IwQPO,5<eOOQO-E8{-E8{OOQO<<KU<<KUO!I|QPO<<J{OExQPO,5;wO!JRQPO,5;wO!JWQPO,5;wOOQO-E8s-E8sOOQO1G1b1G1bOOQO1G1i1G1iOOQO1G1j1G1jO!J`QpO'#FbO!JqQPO,5;{O!JvQpO'#F^O!KZQpO'#FYOOQO-E8v-E8vO!LbQPO7+'YO!LpQPO1G1QOOQO7+'Z7+'ZO!LuQPO7+'QO!M{QPO1G1dO!NVQPO1G1dOOQO1G1d1G1dOOQO-E8u-E8uOExQPO1G1dO!NaQPO<<HeO!NfQPO<<HeOOQO<<He<<HeO&PQPO<<HeOOQO1G1_1G1_O!NtQPO<<GnOAZQPO<<GnOOQO<<Gn<<GnO!@XQPO<<GnOExQPO<<HbO!NyQPO<<HbOOQO<<Hb<<HbO&PQPO<<IRO# XQPO<<IRO&PQPO<<IROExQPO<<IUO# ^QPO<<IUO&PQPO<<IUO&PQPO<<IXO##]QWO1G1dO##gQWO1G1dO##qQQO<<I]O#$bQWO<<I]O#$pQWO<<I]O#%uQWO1G1qO#%|QWO1G1qO#'OQWO1G1qO#'VQWO1G1qO#(XQWO1G1qO#(`QWO1G1qO#)_QWO1G1qO#)iQWO1G1qO#)sQWO1G0VO#)}QWO,5<[O&PQPO<<I]OHVQPO<<I]OHgQPO<<I]O&PQPO<<IeOOQO<<KS<<KSOOQO<<Hr<<HrP#+RQPO1G1SO#+WQPO1G2PO&PQPO1G2PP#+`QPO'#E}OOQOAN@gAN@gO#+eQPO1G1cOExQPO1G1cOExQPO1G1cO#+vQPO1G1cP#+{QPO'#EuOExQPO,5;|OOQO1G1g1G1gO#,TQpO,5;xO#,hQpO,5;tOOQO<<Jt<<JtO#-oQWO1G1pOOQO7+&l7+&lOOQO<<Jl<<JlO#/gQPO7+'OOOQOAN>PAN>PO&PQPOAN>PO#/}QPOAN>POOQOAN=YAN=YO!@XQPOAN=YO#0SQPOAN=YO#0XQPOAN=|OOQOAN=|AN=|O#0gQPOAN>mO&PQPOAN>mOOQOAN>mAN>mO#0lQPOAN>pO&PQPOAN>pO#0zQPOAN>pOOQOAN>sAN>sO&PQPOAN>wOHVQPOAN>wO#1PQWO7+'OO#2`QWO'#FjO#3aQWO7+%qO#3kQQOAN>wO#4[QWOAN>wO#4jQWOAN>wO#4tQQOAN?POOQO7+&o7+&oO#5eQPO7+'kP&PQPO,5;iOOQO7+&g7+&gO#5mQPO7+&}O#6OQPO7+&}OExQPO7+&}PExQPO,5;aP#6aQPO,5;aO#6fQPO1G1hO#6tQpO1G1dO#7VQpO1G1dO#7hQPOG23kOOQOG23kG23kO#7mQPOG22tOOQOG22tG22tOOQOG23hG23hO&PQPOG24XOOQOG24XG24XO&PQPOG24[O#7rQPOG24[O&PQPOG24[O#7wQQOG24cO#8hQWOG24cO#8vQWO<<I]O&PQPOG24cOHVQPOG24cP#9QQPO1G1TOOQO<<JR<<JRO#9VQPO<<JiP#9hQPO1G0{PExQPO1G0{O#9vQpO7+'OOOQOLD)VLD)VOOQOLD(`LD(`OOQOLD)sLD)sO#:XQPOLD)vO&PQPOLD)vOOQOLD)vLD)vO&PQPOLD)}O#:^QWOAN>wO#:hQWOAN?PO#:rQQOLD)}O#;cQWOLD)}P#;qQPO7+&gO&PQPO!$'MbOOQO!$'Mb!$'MbO#<PQQO!$'MiO#<pQWOG24cO&PQPO!$'MiOOQO!)9B|!)9B|O#<zQWOLD)}O#=UQQO!)9CTO#=uQWO!$'MiO#>PQWO!)9CTOHgQPO'#FkO#>ZQQO'#FjOHgQPO'#ETO:ZQPO'#EVO:ZQPO'#E_OAZQPO,5<YOAZQPO'#FPOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHgQPO,5<VOHVQPO,5<UOHgQPO,5:kO#>eQPO1G/wO#>eQPO1G/yOAZQPO'#F^OAZQPO'#F^O#>eQPO1G0QOHgQPO1G0VO:ZQPO1G0aO:ZQPO1G0cOHVQPO,5;xO!8tQPO,5;xOHVQPO,5;xO!8tQPO,5;xOHVQPO,5;xO!8tQPO,5;xOHgQPO7+%qOHVQPO1G1dO!8tQPO1G1dO#>eQPO<<IRO#>eQPO<<IXOHgQPO<<I]OHgQPO<<IeO#>eQPOAN>mOHgQPOAN>wO#?nQWO'#FjO#>eQPOG24XO#>eQPOG24XO#>eQPOG24[O#>eQPOG24[OHgQPOG24cO#>eQPOLD)vO#>eQPOLD)vOHgQPOLD)}O#>eQPO!$'MbO#>eQPO!$'MbOHgQPO!$'MiO#?uQSO'#EPO#@TQSO,5:]O#@fQPO,5:_O#@qQPO,5:fO#@vQSO,5:kOAZQPO,5:uOAZQPO,5:wO#ARQWO1G0VO#AgQWO1G0VO#AqQPO,5;xO#A|QPO,5;xO#BXQPO,5;xO#B^QPO,5;xO#BcQPO7+%gO#BhQPO7+%mO#BmQWO7+%qO#CRQWO7+%qO#C]QPO7+%yO#CkQPO<<IRO#CpQWO<<I]O#DOQWO<<I]O#DYQPOAN>mO#D_QPOAN>mO#DdQPOAN>pO#DiQPOAN>pO#DnQWOAN>wO#D|QWOAN>wO#EWQPOG24[O#E]QPOG24[O#EbQWOG24cO#EpQPOLD)vO#EuQPOLD)vO#EzQWOLD)}O#>eQPO1G/wO#>eQPO1G/yO#>eQPO1G0QO#>eQPO<<IRO#>eQPO<<IXO#>eQPOAN>mO2|QPO'#DqO3[QPO'#DsO#FYQPO'#EZO#F_QPO'#E]O&PQPO'#DzOHVQPO,5:kOHgQPO,5:kO3[QPO'#F^O3[QPO'#F^O3_QPO'#F^O3_QPO'#F^O&PQPO1G/{O&PQPO1G0ROHVQPO1G0VOHgQPO1G0VOExQPO1G0_O&PQPO7+%gOHVQPO7+%qOHgQPO7+%qO&PQPO<<IRO&PQPO<<IRO&PQPO<<IUO&PQPO<<IUOHVQPO<<I]OHgQPO<<I]O&PQPOAN>pO&PQPOAN>pOHVQPOAN>wO&PQPOG24[O&PQPOG24[OHVQPOG24cO#FdQSO,5:]O#FuQPO,5:_O#GQQPO,5:fO#GVQPO7+%gO#G[QPO7+%mO#GaQPO<<IRO#GfQPO,5:aO#GmQPO,5:gO#GrQPO,5:sO#GwQPO1G/{O#HOQPO1G/{O#HaQPO7+%gO#HrQPO7+%gO#ITQPO7+%jO#IcQPO7+%jO#IqQPO<<IUO#JPQPO<<IUO#J_QPOAN>pO#JmQPOAN>pO2|QPO'#DqO3[QPO'#DsO&PQPO'#DzO&PQPO1G/{O&PQPO1G0RO&PQPO7+%gO9vQPO'#DuO&PQPO'#D{O9vQPO'#EXOExQPO1G0OOExQPO1G0OOExQPO7+%jOExQPO7+%jOExQPO<<IUOExQPO<<IUO#>eQPO'#FkO#>eQPO'#ETO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5<VO#>eQPO,5:kO#>eQPO1G0VO#>eQPO7+%qO#>eQPO<<I]O#>eQPO<<IeO#>eQPOAN>wO#>eQPOG24cO#>eQPOLD)}O#>eQPO!$'MiO#J{QSO'#EPO#KZQSO,5:kO#KfQWO1G0VO#KzQWO1G0VO#LUQWO7+%qO#LjQWO7+%qO#LtQPO7+%yO#MSQWO<<I]O#MbQWO<<I]O#MlQWOAN>wO#MzQWOAN>wO#NUQWOG24cO#NdQWOLD)}OHVQPO,5:kOHgQPO,5:kOHVQPO1G0VOHgQPO1G0VOExQPO1G0_OHVQPO7+%qOHgQPO7+%qOHVQPO<<I]OHgQPO<<I]OHVQPOAN>wOHVQPOG24cO#NrQPO,5:aO#NyQPO,5:gO$ OQPO,5:sO$ TQPO1G/{O$ [QPO1G/{O$ mQPO,5:dO$ tQPO,5:dO$ {QPO1G0OO$!SQPO1G0OO$!ZQPO1G0OO$!lQPO1G0OO$!}QPO7+%jO$#`QPO7+%jO$$iQWO,5<VO$$vQWO,5:oO$&RQWO1G1qO$&YQWO1G1qO$'_QWO1G1qO$'fQWO1G1qO$(kQWO1G1qO$(rQWO1G1qO$)tQWO1G1qO$*OQWO1G1qO$*YQWO1G0VO$*gQWO7+%qO$*tQWO<<I]O$+RQWOAN>wO$+`QWOAN?PO$+mQWOG24cO$+zQWOLD)}O$,XQWO!$'MiO$,fQWO!)9CTO9vQPO'#DuO&PQPO'#D{O9vQPO'#EXO9vQPO'#DxO9vQPO'#Dx",stateData:"$,}~O#vOSPOSQOS~OSlOVmObZOeVOmYOvTOynO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#xRO#ySO~Ob}Xe}Xh}Xm}Xp}Xv}X!O}X!P}X!Q}X!R}X!S}X!T}X![}X!_}X!c}X!d}X#T}X#X}X#Y}X#Z}X#[}X#]}X#^}X#_}X#`}X#a}X#b}X#c}X#x}X#y}X~Oe|Xh|Xm|Xz|X#t}X#x|X#y|X$Z|X~P#cOS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#xSO#ySO~Ow$gP~P&POm!SOv!QO!W!ZO#x!OO#y!OO$Z!WOu$iP~O#y!^O~Op!`Ob$dXe$dXh$dXm$dXv$dX!O$dX!P$dX!Q$dX!R$dX!S$dX!T$dX![$dX!_$dX!c$dX!d$dX#T$dX#X$dX#Y$dX#Z$dX#[$dX#]$dX#^$dX#_$dX#`$dX#a$dX#b$dX#c$dX#x$dX#y$dX~O#t$dXT$dXw$dXo$dX!k$dX!q$dXu$dX!r$dX~P(tOv!bOb$cXe$cXh$cXm$cXv$cX!O$cX!P$cX!Q$cX!R$cX!S$cX!T$cX![$cX!_$cX!c$cX!d$cX#T$cX#X$cX#Y$cX#Z$cX#[$cX#]$cX#^$cX#_$cX#`$cX#a$cX#b$cX#c$cX#x$cX#y$cX~O#t$cXT$cXw$cXo$cX!k$cX!q$cXu$cX!r$cX~P+bO!d!dOb$bXe$bXh$bXm$bXv$bX!O$bX!P$bX!Q$bX!R$bX!S$bX!T$bX![$bX!_$bX#T$bX#X$bX#Y$bX#Z$bX#[$bX#]$bX#^$bX#_$bX#`$bX#a$bX#b$bX#c$bX#x$bX#y$bX~O!c!cO#t$bXT$bXw$bXo$bX!k$bX!q$bXu$bX!r$bX~P.OObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O#xSO#ySOh$aX#T$aX#X$aX#Y$aX#Z$aX#[$aX#]$aX#^$aX#_$aX#`$aX#a$aX#b$aX#c$aX~O![!gO#t$aXT$aXw$aXo$aX!k$aX!q$aXu$aX!r$aX~P0iOe!lOm!jO#x!hO$Z!iO~Om!pO#y!oO~O#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{O#a!|O#b!}O#c!}O#t$^XT$^Xw$^Xo$^X!k$^X!q$^Xu$^X!r$^X~Oh#OO~P3dOe!lOm#PO#x!hO#y!oO$Z!iO~Oh#TOz#SO~P4{OS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO#ySO~OVmOynO#xRO~P5hOS}ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O!daO!hbO!joO!mpO!pqO!trO!xsO!ztO!|uO#OvO#QwO#SxO#TeO#UeO#VeO#WeO~O#x#VO#y#VO~P7rO#x!hO~Os#^Ov!QO!u#_O!v#`O~ObZOeVOmYOvTO!OZO!PZO!QZO!RZO!SZO!TZO!_[O#xSO#ySO~O![#eO~O![#fO~OT#iOw$gX~Ow$gX~P&POw#lO~OefXmfXzfX!^}X#xfX$ZfX~Oe!lOm!jOz#mO#x!hO$Z!iO~O#x#pO#y#pO~Op#rO~Op#tO![#sO~OT#uOu$iX~Op#tO~Om!SOv!QO!W#zO#x#pO#y#pO$Z#xOu$iX~Ou#{O~Om!SOv!QO#x#pO#y#pO~O!^$OO~Oo$PO~O#x$QO#y$QO~Op!`Ob$dae$dah$dam$dav$da!O$da!P$da!Q$da!R$da!S$da!T$da![$da!_$da!c$da!d$da#T$da#X$da#Y$da#Z$da#[$da#]$da#^$da#_$da#`$da#a$da#b$da#c$da#x$da#y$da~O#t$daT$daw$dao$da!k$da!q$dau$da!r$da~P>mO[$ZO]$ZO^$ZO_$ZO`$ZOa$ZOb$ZOe$VOm$YOv$XO#y$UO~O![!gOh$aa#T$aa#X$aa#Y$aa#Z$aa#[$aa#]$aa#^$aa#_$aa#`$aa#a$aa#b$aa#c$aa#t$aaT$aaw$aao$aa!k$aa!q$aau$aa!r$aa~P:ZOe!lOm!jO!f$aO#x!hO$Z!iO~O#d$eO#x#pO#y#pO~Om!pOp$hO#y!oO~O#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{O#a!|O#b!}O#c!}O~Oh$_a#t$_aT$_aw$_ao$_a!k$_a!q$_au$_a!r$_a~PDaOl$uOq$vOr$wOt$xO~PAZOh${Oz$zO~P4{Oe!lOh${Om!jOz$zO#x!hO$Z!iO~OT%OO!k}X~P#cO!k%PO~OX%QOZ%WOe$VO#y!oO~OX%QOz%ZO#y!oO~Oz%^O~P4{Oh%aO~P4{O!q%bO~Ol-hOq-jOr$wOt+uO~PAZOS-eO!d-aO!h-bO!j.kO!m0gO!p.lO!t,hO!x+cO!z+dO!|.mO#O-cO#Q-dO#S+eO#T+aO#U+aO#V+aO#W+aO~P:ZOs%lO!u%mO!v%nO~Oh!wa#t!waT!waw!wao!wa!k!wa!q!wau!wa!r!wa~PDaOh%oO~O#x%rO#y%rO~OT#iOw$ga~Oe!lOm!jOz%uO#x!hO$Z!iO~Oh%wOw%vO~Oe!lOm!jOo%xO#x!hO$Z!iO~Om!SO~Op%}O![#sO~OT#uOu$ia~Op%}O~OT&TOu$ia~O#x#pO#y#pOu$mP~O!b&XO~O#x#pO#y#pOu$PP~OX&_Ob#|Xe#|Xh#|Xm#|Xv#|X!O#|X!P#|X!Q#|X!R#|X!S#|X!T#|X![#|X!_#|X#T#|X#X#|X#Y#|X#Z#|X#[#|X#]#|X#^#|X#_#|X#`#|X#a#|X#b#|X#c#|X#t#|X#x#|X#y#|XT#|Xw#|Xo#|X!k#|X!q#|Xu#|X!r#|X~Oh&bO~Oz&dO~O#d&fO#x#pO#y#pO~Ou&gO~On&hO~O#X!uOh$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#Y$_i~P!!aO#Y!vO~P!!aO#T!wO#X!uO#Y!vO#Z!wOh$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#[$_i~P!$PO#[!xO~P!$PO#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zOh$_i#`$_i#a$_i#b$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#_$_i~P!%oO#_!{O~P!%oO#T!wO#X!uO#Y!vO#Z!wO#[!xO#]!yO#^!zO#_!{O#`!{Oh$_i#c$_i#t$_iT$_iw$_io$_i!k$_i!q$_iu$_i!r$_i~O#a$_i#b$_i~P!'_O#a!|O#b!}O~P!'_O#t$^iT$^iw$^io$^i!k$^i!q$^iu$^i!r$^i~Oi&jOj&kOk&lO~P!)QOi$QXj$QXk$QX#t$QXz$QXT$QXw$QXo$QX!k$QX!q$QXp$QXu$QX!r$QXY$QX~PAZOX&_O[#|X]#|X^#|X_#|X`#|Xa#|Xb#|Xe#|Xi#|Xj#|Xk#|Xm#|Xv#|X#t#|X#y#|X!O#|X!P#|X!Q#|X!R#|X!S#|X!T#|X!_#|X#x#|XT#|Xw#|Xo#|X!k#|X!q#|Xu#|X!r#|X~Oz#|Xp#|XY#|X~P!*yOX&_O~Oe!lOh&tOm!jOz&sO#x!hO$Z!iO~OT&wO~Oi&jOj&kOk&lOz&sO~OX%QOZ&}Oe$VO#y!oO~OT'PO~OX%QOz'SO#y!oO~Oz'VO~P4{Oe!lOm!jOz'VO#x!hO$Z!iO~Oh'YO~P4{Oe!lOh'YOm!jO#x!hO$Z!iO~Oh!si#t!siT!siw!sio!si!k!si!q!siu!si!r!si~PDaOi+{Oj+}Ok,POs']O!u'^O!v'_O~Oi$QXj$QXk$QXs$QX!u$QX!v$QXh$QX#T$QX#X$QX#Y$QX#Z$QX#[$QX#]$QX#^$QX#_$QX#`$QX#a$QX#b$QX#c$QX#t$QXT$QXw$QXo$QX!k$QX!q$QXu$QX!r$QX~PAZO[#|X]#|X^#|X_#|X`#|Xa#|Xi#|Xj#|Xk#|Xs#|X!u#|X!v#|X~PM^Os$dX!u$dX~P(tOs$cX!u$cX~P+bO!c+fOs$bX!u$bX~P.OO![+gOs$aX!u$aX~P0iO#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mO#_+nO#`+nO#a+oO#b+pO#c+pO~Os']O!u'^O~P!4qOT%OO~OT#iO~Oe!lOm!jOo'oO#x!hO$Z!iO~Op'pO~OT'qOu$ii~Op'sO![#sO~OT#uO~Op'sO~OT&TOu$ii~Oz'uO~O#x#pO#y#pOu$mX~Ou'xO~Og'{Oh'zO~O#x#pO#y#pOu$PX~Ou(OO~Oi&jOj&kOk&lOw(PO~Oi&jOj&kOk&lOo(QO~Ol-iOq-kOr$wOt+vO~PAZOX&_Ob#|ae#|ah#|am#|av#|a!O#|a!P#|a!Q#|a!R#|a!S#|a!T#|a![#|a!_#|a#T#|a#X#|a#Y#|a#Z#|a#[#|a#]#|a#^#|a#_#|a#`#|a#a#|a#b#|a#c#|a#t#|a#x#|a#y#|aT#|aw#|ao#|a!k#|a!q#|au#|a!r#|a~Ou(YO~Oi$Qaj$Qak$Qa#t$Qaz$QaT$Qaw$Qao$Qa!k$Qa!q$Qap$Qau$Qa!r$QaY$Qa~PAZOX&_O[#|a]#|a^#|a_#|a`#|aa#|ab#|ae#|ai#|aj#|ak#|am#|av#|a#t#|a#y#|a!O#|a!P#|a!Q#|a!R#|a!S#|a!T#|a!_#|a#x#|aT#|aw#|ao#|a!k#|a!q#|au#|a!r#|a~Oz#|ap#|aY#|a~P!<mOm!pOp(`O#y!oO~Op(`O~OT(cO~Oi&jOj&kOk&lOz(dO~OY(eO~OZ(gOe$VO#y!oO~OT(hO~Oe$VO~Oz(jO#y!oO~OT(lOi&jOj&kOk&lO~Oe!lOm!jOz(mO#x!hO$Z!iO~O!k(oO~Oe!lOh(pOm!jO#x!hO$Z!iO~Oi&jOj&kOk&lOz(rO~O!r(sO~Oi$Qaj$Qak$Qas$Qa!u$Qa!v$Qah$Qa#T$Qa#X$Qa#Y$Qa#Z$Qa#[$Qa#]$Qa#^$Qa#_$Qa#`$Qa#a$Qa#b$Qa#c$Qa#t$QaT$Qaw$Qao$Qa!k$Qa!q$Qau$Qa!r$Qa~PAZO[#|a]#|a^#|a_#|a`#|aa#|ai#|aj#|ak#|as#|a!u#|a!v#|a~P!9UOs$da!u$da~P>mO![+gOs$aa!u$aa#T$aa#X$aa#Y$aa#Z$aa#[$aa#]$aa#^$aa#_$aa#`$aa#a$aa#b$aa#c$aah$aa~P:ZOs$_a!u$_a~P!4qOs!wa!u!wa~P!4qOp!`Os$dX!u$dX#T$dX#X$dX#Y$dX#Z$dX#[$dX#]$dX#^$dX#_$dX#`$dX#a$dX#b$dX#c$dXh$dX~Oh!sq#t!sqT!sqw!sqo!sq!k!sq!q!squ!sq!r!sq~PDaOi+{Oj+}Ok,POs)TO!u)UO!v)VO~Os)TO!u)UO~P!4qOi&jOj&kOk&lOp)WO~Oi&jOj&kOk&lOw)XO~OT'qOu$iq~OT&TO~Oz)]O~Ow)_O~Oh)aO~Og)cOh)bO~Oi+|Oj,OOk,QOs)eOY$UX~OY)fO~OY$QXi$QXj$QXk$QXs$QX~PAZOX&_OY#|X[#|X]#|X^#|X_#|X`#|Xa#|Xb#|Xe#|Xi#|Xj#|Xk#|Xm#|Xs#|Xv#|X#y#|X~Oi&jOj&kOk&lOo)iO~OT)kO~Oi&jOj&kOk&lOo)lO~Ok&lO#t$Qiz$QiT$Qiw$Qio$Qi!k$Qi!q$Qip$Qiu$Qi!r$QiY$Qi~Oi&jOj&kO~P!MTOi$Qij$Qi~P!MTOT)nO~Oi&jOj&kOk&lOz)oO~OT)qO~OT)uOi&jOj&kOk&lO~O!k)wO~Oi&jOj&kOk&lOz)zO~Ok,POs$Qi!u$Qi!v$Qih$Qi#T$Qi#X$Qi#Y$Qi#Z$Qi#[$Qi#]$Qi#^$Qi#_$Qi#`$Qi#a$Qi#b$Qi#c$Qi#t$QiT$Qiw$Qio$Qi!k$Qi!q$Qiu$Qi!r$Qi~Oi+{Oj+}O~P# lOi$Qij$Qi~P# lOh!sy#t!syT!syw!syo!sy!k!sy!q!syu!sy!r!sy~PDaOi+{Oj+}Ok,POs)}O~Os)}O!u*OO~P!4qO#X+hOs$_i!u$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#Y$_i~P#$zO#Y+iO~P#$zO#T+jO#X+hO#Y+iO#Z+jOs$_i!u$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#[$_i~P#&TO#[+kO~P#&TO#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mOs$_i!u$_i#`$_i#a$_i#b$_i#c$_i~O#_$_i~P#'^O#_+nO~P#'^O#T+jO#X+hO#Y+iO#Z+jO#[+kO#]+lO#^+mO#_+nO#`+nOs$_i!u$_i#c$_i~O#a$_i#b$_i~P#(gO#a+oO#b+pO~P#(gOs!si!u!si~P!4qOp!`Os$da!u$da#T$da#X$da#Y$da#Z$da#[$da#]$da#^$da#_$da#`$da#a$da#b$da#c$dah$da~OT'qO~OT*WOu$mi~Oz*YO~OT*ZOi&jOj&kOk&lOu$Pi~Oh*^O~Og*`Oh*_O~OY$Qai$Qaj$Qak$Qas$Qa~PAZOX&_OY#|a[#|a]#|a^#|a_#|a`#|aa#|ab#|ae#|ai#|aj#|ak#|am#|as#|av#|a#y#|a~Oi+{Oj+}Ok,POh$^i#T$^i#X$^i#Y$^i#Z$^i#[$^i#]$^i#^$^i#_$^i#`$^i#a$^i#b$^i#c$^is$^i!u$^i~P!)QO#t$QqT$Qqw$Qqo$Qq!k$Qq!q$Qqu$Qq!r$Qq~Oi&jOj&kOk&lOz$Qqp$QqY$Qq~P#.{OT*eO~OT*gO~OT*hOi&jOj&kOk&lO~O!k*iO~Oi&jOj&kOk&lOz*kO~O!k*mO~Oi+{Oj+}Ok,POs$Qq!u$Qq!v$Qqh$Qq#T$Qq#X$Qq#Y$Qq#Z$Qq#[$Qq#]$Qq#^$Qq#_$Qq#`$Qq#a$Qq#b$Qq#c$Qq~P#.{Oh+qO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|O#a.}O#b/OO#c/OOs$^X!u$^X~Os!sq!u!sq~P!4qOh!s!R#t!s!RT!s!Rw!s!Ro!s!R!k!s!R!q!s!Ru!s!R!r!s!R~PDaOi+{Oj+}Ok,POs*qO~Os*qO!u*rO~P!4qOh!{!R#t!{!RT!{!Rw!{!Ro!{!R!k!{!R!q!{!Ru!{!R!r!{!R~PDaOT*WOu$mq~OT*tOi&jOj&kOk&lOu$Pq~OT*ZOi&jOj&kOk&lOu$Pq~Oh*wO~Oi&jOj&kOk&lOY$Ui~Oi+|Oj,OOk,QOY$Qis$Qi~Ok,QOY$Qii$Qij$Qis$Qi~OT*yO~OT*zO~O!k*}O~Oh!s!Z#t!s!ZT!s!Zw!s!Zo!s!Z!k!s!Z!q!s!Zu!s!Z!r!s!Z~PDaOi+{Oj+}Ok,POs+PO~Os!sy!u!sy~P!4qOT*WO~OT*tOi&jOj&kOk&lOu$Py~OT*ZOi&jOj&kOk&lO~Oi+|Oj,OOk,QOY$Qqs$Qq~O!k+VO~Os!s!R!u!s!R~P!4qOs!{!R!u!{!R~P!4qOh!s!c#t!s!cT!s!cw!s!co!s!c!k!s!c!q!s!cu!s!c!r!s!c~PDaOi+{Oj+}Ok,POs+ZO~OT*tOi&jOj&kOk&lO~Oh!s!k#t!s!kT!s!kw!s!ko!s!k!k!s!k!q!s!ku!s!k!r!s!k~PDaOs!s!Z!u!s!Z~P!4qOs!s!c!u!s!c~P!4qOh!s!s#t!s!sT!s!sw!s!so!s!s!k!s!s!q!s!su!s!s!r!s!s~PDaOs!s!k!u!s!k~P!4qOs!s!s!u!s!s~P!4qOh+qOh$^X~P3dOS.gO!d.eO!h.fO!j0dO!m0hO!p0eO!t/YO!x.uO!z+dO!|0fO#O-cO#Q-dO#S+eO#T.tO#U.tO#V.tO#W.tO~P:ZOh$^X~P#2`Os+rOv!QO!u-fO!v-gO~Oe!lOm!jO!f+sO#x!hO$Z!iO~Om!pOp+tO#y!oO~O!k+wO~Os+xO!u-nO!v-oO~Oi+{Oj+}Ok,POs,RO!u-rO!v-sO~Os,RO!u-rO~P!4qOm!pOp,SO#y!oO~Om!pOp,TO#y!oO~Op,SO~Op,TO~O!k,UO~O!r,VO~Oi+{Oj+}Ok,POs,WO!u-xO!v-yO~Os,WO!u-xO~P!4qOi&jOj&kOk&lOp,XO~O!k,YO~Oi+{Oj+}Ok,POs,ZO~Os,ZO!u-|O~P!4qO!k,]O~O!k,^O~O!k,_O~O!k,`O~Oi+{Oj+}Ok,POs,aO~Os,aO!u.PO~P!4qO!k,bO~O!k,cO~Oi+{Oj+}Ok,POs,dO~O!k,eO~O!k,fO~Oi+{Oj+}Ok,POs,gO~O![,mO~O![,nO~Oe!lOm!jO!f-ZO#x!hO$Z!iO~Om!pOp-[O#y!oO~O!k-]O~O!k-^O~O!r-_O~O!k-`O~Oz-lO~P4{O!q-mO~Oh-pO~Oz-qO~P4{Oe!lOm!jOz-qO#x!hO$Z!iO~Oe!lOm!jOz-tO#x!hO$Z!iO~Oe!lOm!jOz-uO#x!hO$Z!iO~Oi&jOj&kOk&lOz-vO~Oi&jOj&kOk&lOz-wO~Oi&jOj&kOk&lOz-zO~Oi&jOj&kOk&lOz-{O~Oi&jOj&kOk&lOz-}O~Oi&jOj&kOk&lOz.OO~Os/POv!QO!u/gO!v/hO~Os/QO!u/iO!v/jO~Oi+{Oj+}Ok,POs/RO!u/lO!v/mO~Os/RO!u/lO~P!4qOi+{Oj+}Ok,POs/SO!u/nO!v/oO~Os/SO!u/nO~P!4qOi&jOj&kOk&lOp/TO~Oi+{Oj+}Ok,POs/UO~Os/UO!u/pO~P!4qOi+{Oj+}Ok,POs/VO~Os/VO!u/qO~P!4qOi+{Oj+}Ok,POs/WO~Oi+{Oj+}Ok,POs/XO~Oz.hO~P4{O!q.iO~Oh/kO~Oz.jO~P4{Oe!lOm!jOz.jO#x!hO$Z!iO~Oh.nO~P4{Oh.oO~P4{Oh.pO~P4{Oh.qO~P4{Oe!lOh.pOm!jO#x!hO$Z!iO~Oe!lOh.qOm!jO#x!hO$Z!iO~Oe!lOh.rOm!jO#x!hO$Z!iO~Oe!lOh.sOm!jO#x!hO$Z!iO~O#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|O#a.}O#b/OO#c/OO~Oh$_as$_a!u$_a~P$#qOh!was!wa!u!wa~P$#qO#X.vOh$_is$_i!u$_i#T$_i#Z$_i#[$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#Y$_i~P$%TO#Y.wO~P$%TO#T.xO#X.vO#Y.wO#Z.xOh$_is$_i!u$_i#]$_i#^$_i#_$_i#`$_i#a$_i#b$_i#c$_i~O#[$_i~P$&aO#[.yO~P$&aO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{Oh$_is$_i!u$_i#`$_i#a$_i#b$_i#c$_i~O#_$_i~P$'mO#_.|O~P$'mO#T.xO#X.vO#Y.wO#Z.xO#[.yO#].zO#^.{O#_.|O#`.|Oh$_is$_i!u$_i#c$_i~O#a$_i#b$_i~P$(yO#a.}O#b/OO~P$(yOh!sis!si!u!si~P$#qOh!sqs!sq!u!sq~P$#qOh!sys!sy!u!sy~P$#qOh!s!Rs!s!R!u!s!R~P$#qOh!{!Rs!{!R!u!{!R~P$#qOh!s!Zs!s!Z!u!s!Z~P$#qOh!s!cs!s!c!u!s!c~P$#qOh!s!ks!s!k!u!s!k~P$#qOh!s!ss!s!s!u!s!s~P$#qOP#Tj!d#]XQeQ~",goto:"!FP$oPPPPPP$pP$uPPPPPPPPPP&T'|P*WPPPPPPPPPPPPPPPPP$pPP$p*z,kPPPPPP0V0VP3n4^4mP0VPP5R5UPPP5_P5_P5_PP5_P5_5_PPP5_PPP5_P5_P5_P5_P5_P5_PPPPPPPPPPPPPPPPP8j8p8w9R9e9k:s;R;e=V=]=c=i=o=}PPP>XPP>]>b>h@{BzDzD}IOIlJYJg&T&TJjKdPLbLbM[!#V!)j5_!,u!0Y!3k!7^!:y!>b!>e!A|!BP!BZ!Be!E|0VVhOQj!U!qbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/zQ#XmQ#YnS$f!p#P`%T#X#Y%S%U%X%Y&{'RQ&q$vQ&y%QQ,s-jR,t-k$m$Z!c!g#O#T#_#e#f$X$Y$s$x${%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&}'S'Y'^'`'z(T(`(g(j(p)U)a)b)e)g*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/q$l$Z!c!g#O#T#_#e#f$X$Y$s$x${%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&}'S'Y'^'`'z(T(`(g(j(p)U)a)b)e)g*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/qQ%V#XS&|%S%US(f&{'QQ)s(iR*f)rd!PV!X!Z#r#t#z%}&R'p'sQ#q!SS$c!l$dQ&U$OQ&Y$VQ'v&VQ'y&XR'|&ZUgOQj!r!iag!P!j!k#P#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OQ#ZoQ#[pQ#duQ#o!QQ.W.kQ.Y.mQ/r0dQ/t0fQ/w0gR/x0h'zZOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR![V'{ZOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eQ!VVQ#w!XQ#}!ZQ%z#rQ%|#tQ&S#zQ'r%}Q't&RQ)Y'pR)Z'sQ!VVQ#w!XQ#}!ZQ&S#zR't&RQ!UVQ#arQ#v!XU#|!Z#z&RQ,l,hR/Z/YR!_[Q$R!`Q$T!bR$]!d'ccOQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%l%n%u&d&s'V']'_'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eQQORyQSjOQR#UjQ%S#XQ%X#YT&z%S%XQ%U#XQ%Y#YQ&{%SW'O%U%Y&{'RR'R%XQ&Z$VR'}&ZQ!sbQ#Qgj$g!s#Q%[%_&p,j,q,r.R.Z/u/y/zQ%[#ZQ%_#[Q&p$uQ,j-bQ,q-hQ,r-iQ.R.fQ.Z.WQ/u/rQ/y/wR/z/xQ&n$sQ'`%eU(_&n'`)gR)g(TQ&a$[Q&o$tQ'a%fW(V&a&o'a)hR)h(UQ!kaQ#RgQ#n!Pv$b!k#R#n$y%]%`%y'U'X,i.Q.[.].^/v/{/|/}0OQ$y#QQ%]#ZQ%`#[Q%y#qQ'U%[Q'X%_Q,i-aQ.Q.eQ.[.WQ.].ZQ.^/uQ/v/rQ/{/wQ/|/xQ/}/yR0O/zQ$d!lR&e$dQ{TR#k{Q!XVR#y!XQ&V$OR'w&VQ!a]U$S!a'b)SQ'b%gR)S'fQ!f`S$^!f'cR'c%jTPOQViOQjX%R#X#Y%S%XS$]!c+fS$_!g+g!h$s#O#T$X$Y${%Z%a%o%w&b&h&j&k&l&t'S'Y'z(`(j(p)a)b)e*^*_*w-p.n.o.p.q.r.s/k!O%e#_%m'^)U*O*r+q+{+},P,S-f-n-r-x-|.P/g/i/l/n/p/qQ%p#eQ%q#f[&m$s%e&n'`(T)gU&r$x+u+vQ'Q%WY(T&_+|,O,Q,TQ(i&}Q)r(gQ+y,mR+z,nS$[!c!g!|$t#O#T#e#f$X$Y$s$x${%W%Z%a%o%w&b&h&j&k&l&n&t&}'S'Y'z(`(g(j(p)a)b)e*^*_*w,m,n-p.n.o.p.q.r.s/k!Y%f#_%e%m'^'`)U*O*r+f+g+q+u+{+},P,S-f-n-r-x-|.P/g/i/l/n/p/qa(U&_(T)g+v+|,O,Q,T${$W!c!g#O#T#X#_#e#f$X$Y$s$x${%S%U%W%Z%a%e%m%o%w&_&b&h&j&k&l&n&t&{&}'Q'S'Y'^'`'z(T(`(g(i(j(p)U)a)b)e)g)r*O*^*_*r*w+f+g+q+u+v+{+|+},O,P,Q,S,T,m,n-f-n-p-r-x-|.P.n.o.p.q.r.s/g/i/k/l/n/p/qR&[$VQ$r#OQ$}#TQ%d#_Q&]$XQ&^$YQ&v${Q'T%ZQ'Z%aQ'h%mQ'j%oQ'n%wQ(R&_Q(W&bQ(Z&hQ([&jQ(]&kU(^&l,P,QQ(b&tQ(k'SQ(q'YQ(t+{Q(u+}Q(w'^Q)`'zQ)j+qQ)m(`Q)t(jQ)y(pQ*P,SQ*T)UQ*[)aQ*])bQ*a)eQ*b+|Q*c,OQ*o*OQ*u*^Q*v*_Q*x,TQ+T*rQ+U*wQ,o-fQ,w-nQ,y-pQ,{-rQ-R-xQ-V-|Q-Y.PQ._.nQ.`.oQ.a.pQ.b.qQ.c.rQ.d.sQ/[/gQ/^/iQ/`/kQ/a/lQ/c/nQ/e/pR/f/q!V!rbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/z!V!qbg!s#Q#Z#[$u%[%_&p,j,q,r-b-h-i.R.W.Z.f/r/u/w/x/y/z`&`$[$t%f&a&o'a(U)hR&r$wR(S&_!o!nag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0O!n!mag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OT$`!j#P!o!mag!P!k#Q#R#Z#[#n#q$y%[%]%_%`%y'U'X,i-a.Q.W.Z.[.].^.e/r/u/v/w/x/y/z/{/|/}0OUkOQjQzTQ!]YS#Wl}Q#]qQ#j{Q$|#SQ%t#mU&c$a+s-ZU&i$h+t-[Q&u$zU&x%P+w-]Q'W%^Q'[%bQ'm%uQ(X&dQ(a&sQ(n'VQ)['uQ)p(dQ)v(mU)x(o,U-^Q){(rU)|(s,V-_Q*X)]Q*d)oU*j)w,Y-`Q*l)zQ*s*YU*{*i,],^Q*|*kU+O*m,_,`U+W*},b,cU+[+V,e,fQ,k-eQ,u-lQ,v-mQ,z-qQ,}-tQ-O-uQ-P-vQ-Q-wQ-T-zQ-U-{Q-W-}Q-X.OQ.S.gQ.T.hQ.U.iQ.V.jQ.X.lR/s0e!|fOQTYjlq{}#S#m$z%^%b%u&d&s'V'u(d(m(r)])o)z*Y*k-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eQ!teQ#bsU$i!u+h.vQ$j!vQ$k!wQ$l!xQ$m!yQ$n!zQ$o!{Q$p!|Q$q!}Q%c#^Q%k#`Q'd+aQ'e+cQ'g%lQ'i%nQ(v']Q(x'_Q(y+iQ(z+jQ({+kQ(|+lQ(}+mQ)O+nQ)P+oQ)Q+pQ)R+rd*Q+s+t+w,U,V,Y,],_,b,eQ*R+xQ*S)TQ*U)VQ*V)WQ*n)}Q*p,RQ+Q,WQ+R,XQ+S*qQ+X+PQ+Y,ZQ+],aQ+^+ZQ+_,dQ+`,gd+b$a$h%P(o(s)w*i*m*}+Vd,[,^,`,c,f-Z-[-]-^-_-`Q,p-gQ,x-oQ,|-sQ-S-yQ/]/hQ/_/jQ/b/mQ/d/oQ0P.tQ0Q.uQ0R.wQ0S.xQ0T.yQ0U.zQ0V.{Q0W.|Q0X.}Q0Y/OQ0Z/PQ0[/QQ0]/RQ0^/SQ0_/TQ0`/UQ0a/VQ0b/WR0c/X'cdOQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%l%n%u&d&s'V']'_'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0e$[`OQTYejlqs{}!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eW!e`!f%j'c$V%j#`%n'_)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o$`_OQTY`ejlqs{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0e$Z%i#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o$`^OQTY`ejlqs{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0eS#ct+dS#gx+e$Y%h#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/oS'k%p+yT'l%q+z$h]OQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#m$a$h$z%P%^%b%l%p%q%u&d&s'V']'u(d(m(o(r(s)T)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z-e-l-m-q-t-u-v-w-z-{-}.O.g.h.i.j.l0e$Y%g#`%j%n'_'c)V+a+c+h+i+j+k+l+m+n+o+p+r+s+t+w+x,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-g-o-s-y.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/oX'f+d+e+y+z'{UOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR|T'{WOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR!YVa!RVr!X!Z#z&R,h/YY!TV!X!Z#z&RR%{#s'{XOQTY`ejlqstx{}!f!u!v!w!x!y!z!{!|!}#S#^#`#m$a$h$z%P%^%b%j%l%n%p%q%u&d&s'V']'_'c'u(d(m(o(r(s)T)V)W)])o)w)z)}*Y*i*k*m*q*}+P+V+Z+a+c+d+e+h+i+j+k+l+m+n+o+p+r+s+t+w+x+y+z,R,U,V,W,X,Y,Z,],^,_,`,a,b,c,d,e,f,g-Z-[-]-^-_-`-e-g-l-m-o-q-s-t-u-v-w-y-z-{-}.O.g.h.i.j.l.t.u.v.w.x.y.z.{.|.}/O/P/Q/R/S/T/U/V/W/X/h/j/m/o0eR&W$O",nodeNames:"⚠ LineComment BlockComment Program open ; Interface interface TypeNameDecl < > extends Int Double String Bool Top Bot Unit TypeName RecordType { LabelDecl ? : TypeOp TypeOp TypeOp forall ( * ) . mu Trait TraitArrow Ref } [ ] TypeDef type = TermDef TermNameDecl TermName Number String Document true false undefined Array Record override RecordField MethodPattern SelfAnno @ RecordUpdate with $ CtorName Label <- \\\\ \\ Lambda -> BigLambda /\\ Let let in LetRec letrec Open IfElse if then else Trait trait implements inherits New new ToString toString Fix fix Fold fold UnFold unfold Ref ref ArithOp DerefOp LengthOp SqrtOp IndexOp ArithOp ArithOp AppendOp CompareOp LogicOp LogicOp ForwardOp MergeOp AssignOp SeqOp ..",maxTerm:168,skippedNodes:[0,1,2],repeatNodeCount:15,tokenData:"2{~R}X^$Opq$Oqr$srs%Yst'Qtu'Vuv'[vw'axy'nyz'{z{(Q{|(X|}(n}!O(y!O!P)t!P!Q*R!Q!R*`!R![+}![!]-Y!]!^-g!^!_-l!_!`.O!`!a.`!a!b.r!b!c.w!c!}.|!}#O/b#O#P/g#P#Q/y#Q#R0O#R#S0T#S#T0Y#T#o0w#o#p1]#p#q2f#q#r2q#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O%&t%&u2v&FU&FV$O~$TY#v~X^$Opq$O#y#z$O$f$g$O#BY#BZ$O$IS$I_$O$I|$JO$O$JT$JU$O$KV$KW$O&FU&FV$Ok$xQ#UPqr%O!_!`%Tj%TO#Xjj%YO#]j~%_W!P~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z<%lO%Y~%|O!P~~&PRO;'S%Y;'S;=`&Y;=`O%Y~&_X!P~OY%YZr%Yrs%ws#O%Y#O#P%|#P;'S%Y;'S;=`&z;=`<%l%Y<%lO%Y~&}P;=`<%l%Y~'VO#V~~'[O!_~j'aO#Yj~'fPk~vw'i~'nO#^~~'sPm~yz'v~'{Ob~~(QOo~k(XOnP#Yj~(^Q#Z~{|(d|}(i~(iO#[~~(nO#a~~(sQ#a~{|(i|}(i~)OQ#Tk}!O)U!`!a)m~)ZSP~OY)UZ;'S)U;'S;=`)g<%lO)U~)jP;=`<%l)U})tO!fSiyo)yPpk!O!P)|S*RO#dSk*WP#Yj#O#P*ZP*`O!hP~*eW!O~!O!P*}!Q![+}!g!h+c!q!r,`!z!{,n#X#Y+c#c#d,`#l#m,n~+QP!Q![+T~+YR!O~!Q![+T!g!h+c#X#Y+c~+fR{|+o}!O+o!Q![+u~+rP!Q![+u~+zP!O~!Q![+u~,SS!O~!O!P*}!Q![+}!g!h+c#X#Y+c~,cP!Q!Y,f~,kP!O~!Q!Y,f~,qR!Q![,z!c!i,z#T#Z,z~-PR!O~!Q![,z!c!i,z#T#Z,z~-_Ph~!_!`-b~-gO#b~~-lOT~!a-sQ#]jX{}!O-y!_!`%TS.OO!bS!a.TQzR!_!`%T!`!a.Z!^.`Os!^!].gQYq#]j!_!`%T!`!a.mj.rO#cj~.wOg~~.|O![~~/RT#y~wx.|!Q![.|!c!}.|#R#S.|#T#o.|~/gOv~~/nQjy!d~}!O(i#O#P/tb/yO!cb~0OOw~~0TO#`~~0YO$Z~~0]TO#S0Y#S#T0l#T;'S0Y;'S;=`0q<%lO0Y~0qO!Q~~0tP;=`<%l0Y~0|T#x~wx0w!Q![0w!c!}0w#R#S0w#T#o0w~1bPe~}!O1e~1hTO}1e}!O1w!O;'S1e;'S;=`2`<%lO1e~1zTO#q1e#q#r2Z#r;'S1e;'S;=`2`<%lO1e~2`OQ~~2cP;=`<%l1e~2iP#p#q2l~2qO#_~~2vOu~~2{O#W~",tokenizers:[0,1,2,3,4,5],topRules:{Program:[0,3]},specialized:[{term:132,get:t=>dv[t]||-1},{term:133,get:t=>vv[t]||-1}],tokenPrec:6889});var pv={compose:function(t){return function(e){return function(n){return t(e(n))}}}},mv=function(t){return t.compose},Rv=function(t){return t.identity},wv={identity:function(t){return t},Semigroupoid0:function(){return pv}},Ov=function(t){return function(e){return function(n){return t(n)(e)}}},xv=function(t){return function(e){return t}},yv=function(t){return function(e){return e(t)}};const bv=void 0;var kv=function(t){return t.map},Cv=function(t){var e=kv(t);return function(t){return function(n){return e(n)(t)}}},Tv=function(t){return kv(t)(xv(bv))},Sv=function(t){var e=kv(t);return function(t){return function(n){return e(xv(n))(t)}}},Av={map:mv(pv)},Pv={map:function(t){return function(e){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t(e[i]);return r}}},_v=function(t){var e=kv(t);return function(t){return function(n){return e((function(t){return t(n)}))(t)}}};var Ev={append:function(t){return function(e){return t+e}}},Lv={append:function(t){return function(e){return 0===t.length?e:0===e.length?t:t.concat(e)}}},Dv=function(t){return t.append},Qv=function(t){return t.alt};var Iv=Rv(wv),Mv=function(t){return t.apply},Nv=function(t){var e=Mv(t),n=kv(t.Functor0());return function(t){return function(r){return e(n(xv(Iv))(t))(r)}}},$v=function(t){var e=Mv(t),n=kv(t.Functor0());return function(t){return function(r){return function(i){return e(n(t)(r))(i)}}}},Fv=function(t){return t.pure},Bv=function(t){var e=Mv(t.Apply0()),n=Fv(t);return function(t){return function(r){return e(n(t))(r)}}};var Uv=function(t){return t.discard},Hv=function(t){return t.bind},qv=function(t){return Ov(Hv(t))},Vv=function(t){var e=qv(t);return function(t){return function(n){return function(r){return e(t)(n(r))}}}},Xv=function(t){var e=Hv(t);return function(t){return function(n){return function(r){return e(t(r))(n)}}}},zv={discard:function(t){return Hv(t)}},Wv=function(t){var e=Hv(t.Bind1()),n=Fv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return e(r)((function(e){return n(t(e))}))}))}}};const jv=String.fromCharCode(65535),Gv=String.fromCharCode(0);Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;var Yv=function(t){return function(e){return function(n){return function(r){return function(i){return r<i?t:r===i?e:n}}}}};const Zv=Yv,Kv=Yv,Jv=Yv;var tg=function(t){return function(e){return t===e}};var eg={eq:tg},ng={eq:tg},rg={eq:tg},ig={eq:tg},sg=function(t){return t.eq1},og=function(t){return t.eq},lg=og(ig),ag=function(t){var e=og(t);return function(t){return function(n){return lg(e(t)(n))(!1)}}},ug=function(){function t(){}return t.value=new t,t}(),cg=function(){function t(){}return t.value=new t,t}(),hg=function(){function t(){}return t.value=new t,t}(),fg={eq:function(t){return function(e){return t instanceof ug&&e instanceof ug||(t instanceof cg&&e instanceof cg||t instanceof hg&&e instanceof hg)}}};var dg={add:function(t){return function(e){return t+e|0}},zero:0,mul:function(t){return function(e){return t*e|0}},one:1},vg={sub:function(t){return function(e){return t-e|0}},Semiring0:function(){return dg}},gg=function(){return{compare:Kv(ug.value)(hg.value)(cg.value),Eq0:function(){return eg}}}(),pg=function(){return{compare:Zv(ug.value)(hg.value)(cg.value),Eq0:function(){return ng}}}(),mg=function(){return{compare:Jv(ug.value)(hg.value)(cg.value),Eq0:function(){return rg}}}(),Rg=function(t){return t.compare},wg=function(t){return t.top},Og={top:2147483647,bottom:-2147483648,Ord0:function(){return pg}},xg={top:jv,bottom:Gv,Ord0:function(){return mg}},yg=function(t){return t.bottom};var bg={show:function(t){var e=t.length;return'"'+t.replace(/[\0-\x1F\x7F"\\]/g,(function(n,r){switch(n){case'"':case"\\":return"\\"+n;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=r+1,s=i<e&&t[i]>="0"&&t[i]<="9"?"\\&":"";return"\\"+n.charCodeAt(0).toString(10)+s}))+'"'}},kg={show:function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"}},Cg={show:function(t){return t.toString()}},Tg={show:function(t){if(t)return"true";if(!t)return"false";throw new Error("Failed pattern match at Data.Show (line 29, column 1 - line 31, column 23): "+[t.constructor.name])}},Sg=function(t){return t.show},Ag=Rv(wv),Pg=function(){function t(){}return t.value=new t,t}(),_g=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Eg=function(t){var e=Sg(t);return{show:function(t){if(t instanceof _g)return"(Just "+e(t.value0)+")";if(t instanceof Pg)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 223, column 1 - line 225, column 28): "+[t.constructor.name])}}},Lg=function(t){return function(e){return function(n){if(n instanceof Pg)return t;if(n instanceof _g)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},Dg=Lg(!0)(xv(!1)),Qg=Lg(!1)(xv(!0)),Ig={map:function(t){return function(e){return e instanceof _g?new _g(t(e.value0)):Pg.value}}},Mg=kv(Ig),Ng=function(t){return Lg(t)(Ag)},$g=function(t){var e=og(t);return{eq:function(t){return function(n){return t instanceof Pg&&n instanceof Pg||t instanceof _g&&n instanceof _g&&e(t.value0)(n.value0)}}}},Fg={apply:function(t){return function(e){if(t instanceof _g)return Mg(t.value0)(e);if(t instanceof Pg)return Pg.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[t.constructor.name,e.constructor.name])}},Functor0:function(){return Ig}},Bg={bind:function(t){return function(e){if(t instanceof _g)return e(t.value0);if(t instanceof Pg)return Pg.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[t.constructor.name,e.constructor.name])}},Apply0:function(){return Fg}},Ug={alt:function(t){return function(e){return t instanceof Pg?e:t}},Functor0:function(){return Ig}},Hg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),qg=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Vg={map:function(t){return function(e){if(e instanceof Hg)return new Hg(e.value0);if(e instanceof qg)return new qg(t(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},Xg=function(t){return function(e){return function(n){if(n instanceof Hg)return t(n.value0);if(n instanceof qg)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var zg={Ring0:function(){return vg}},Wg=function(t){return t.mod},jg={degree:function(t){return Math.min(Math.abs(t),2147483647)},div:function(t){return function(e){return 0===e?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},mod:function(t){return function(e){if(0===e)return 0;var n=Math.abs(e);return(t%n+n)%n}},CommutativeRing0:function(){return zg}},Gg=function(t){return t.div},Yg={mempty:"",Semigroup0:function(){return Ev}},Zg=function(t){return t.mempty},Kg=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},Jg={Applicative0:function(){return ep},Bind1:function(){return tp}},tp={bind:function(t){return function(e){return function(){return e(t())()}}},Apply0:function(){return rp(0)}},ep={pure:function(t){return function(){return t}},Apply0:function(){return rp(0)}},np=Kg("functorEffect","Effect",(function(){return{map:Bv(ep)}})),rp=Kg("applyEffect","Effect",(function(){return{apply:Wv(Jg),Functor0:function(){return np(0)}}}));function ip(t){return function(){throw t}}var sp=function(t){return ip(new Error(t))},op=function(t){return t.throwError},lp=function(t){return t.local},ap=function(t){return t.ask},up=function(t){var e=kv(t.Monad0().Bind1().Apply0().Functor0()),n=ap(t);return function(t){return e(t)(n)}},cp=function(t){return t},hp={map:function(t){return function(e){return t(e)}}},fp={apply:function(t){return function(e){return t(e)}},Functor0:function(){return hp}},dp={bind:function(t){return function(e){return e(t)}},Apply0:function(){return fp}},vp={pure:cp,Apply0:function(){return fp}},gp={Applicative0:function(){return vp},Bind1:function(){return dp}};const pp=function(t){return t};function mp(t){return function(){return{value:t}}}const Rp=function(t){return function(){return t.value}},wp=function(t){return function(e){return function(){return e.value=t}}};var Op=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},xp={map:function(t){return function(e){return function(){return t(e())}}}};var yp=function(t){return t.not},bp=function(t){return t.ff},kp=function(t){return t.disj},Cp={ff:!1,tt:!0,implies:function(t){return function(e){return kp(Cp)(yp(Cp)(t))(e)}},conj:function(t){return function(e){return t&&e}},disj:function(t){return function(e){return t||e}},not:function(t){return!t}},Tp=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Sp=function(t){return function(e){return t(e.value0)(e.value1)}},Ap=function(t){return t.value1},Pp=function(t){return t.value0},_p=function(t){var e=og(t);return function(t){var n=og(t);return{eq:function(t){return function(r){return e(t.value0)(r.value0)&&n(t.value1)(r.value1)}}}}},Ep=function(t){return t.state},Lp=function(t){var e=Ep(t);return function(t){return e((function(e){return new Tp(bv,t(e))}))}},Dp=function(t){var e=Ep(t);return function(t){return e((function(e){return new Tp(t(e),e)}))}},Qp=function(t){return t.tell},Ip=kv(Vg),Mp=function(t){return function(e){return t(e)}},Np=function(t){var e=kv(t);return{map:function(t){return Mp(e(Ip(t)))}}},$p=function(t){return{Applicative0:function(){return Up(t)},Bind1:function(){return Fp(t)}}},Fp=function(t){var e=Hv(t.Bind1()),n=Fv(t.Applicative0());return{bind:function(t){return function(r){return e(t)(Xg((function(t){return n(Hg.create(t))}))((function(t){return r(t)})))}},Apply0:function(){return Bp(t)}}},Bp=function(t){var e=Np(t.Bind1().Apply0().Functor0());return{apply:Wv($p(t)),Functor0:function(){return e}}},Up=function(t){return{pure:(e=Fv(t.Applicative0()),function(t){return e(qg.create(t))}),Apply0:function(){return Bp(t)}};var e},Hp=function(t){var e,n=$p(t);return{throwError:(e=Fv(t.Applicative0()),function(t){return e(Hg.create(t))}),Monad0:function(){return n}}},qp=function(t){var e=Dv(t);return function(t){var n=t.Bind1(),r=Hv(n),i=Fv(t.Applicative0()),s=Np(n.Apply0().Functor0());return{alt:function(t){return function(n){return r(t)((function(t){if(t instanceof qg)return i(new qg(t.value0));if(t instanceof Hg)return r(n)((function(n){if(n instanceof qg)return i(new qg(n.value0));if(n instanceof Hg)return i(new Hg(e(t.value0)(n.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[n.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[t.constructor.name])}))}},Functor0:function(){return s}}}},Vp=function(t){return t.lift},Xp=function(t){return t.empty},zp=function(){return pp},Wp=zp(),jp=function(){return Wp},Gp=function(){return function(){return function(){return function(){return function(t){return Wp}}}}},Yp=function(t){return function(e){return function(n){return e(t(n))}}},Zp=Vp({lift:function(t){return function(t){return xv(t)}}}),Kp=function(t){return function(e){return function(n){return t(e(n))}}},Jp=function(t){return{map:(e=kv(t),function(t){return Kp(e(t))})};var e},tm=function(t){var e=Mv(t),n=Jp(t.Functor0());return{apply:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},em=function(t){var e=Hv(t),n=tm(t.Apply0());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t)(r)}))}}},Apply0:function(){return n}}},nm=function(t){var e,n=tm(t.Apply0());return{pure:(e=Fv(t),function(t){return xv(e(t))}),Apply0:function(){return n}}},rm=function(t){var e=nm(t.Applicative0()),n=em(t.Bind1());return{Applicative0:function(){return e},Bind1:function(){return n}}},im=function(t){var e=rm(t);return{ask:Fv(t.Applicative0()),Monad0:function(){return e}}},sm=function(t){var e=im(t);return{local:Yp,MonadAsk0:function(){return e}}},om=function(t){var e,n,r=t.Monad0(),i=rm(r);return{throwError:(e=Zp(r),n=op(t),function(t){return e(n(t))}),Monad0:function(){return i}}},lm=function(t){var e=Qv(t),n=Jp(t.Functor0());return{alt:function(t){return function(n){return function(r){return e(t(r))(n(r))}}},Functor0:function(){return n}}},am={lift:function(t){var e=Hv(t.Bind1()),n=Fv(t.Applicative0());return function(t){return function(r){return e(t)((function(t){return n(new Tp(t,r))}))}}}},um=Vp(am),cm=function(t){var e=kv(t);return{map:function(t){return function(n){return function(r){return e((function(e){return new Tp(t(e.value0),e.value1)}))(n(r))}}}}},hm=function(t){return{Applicative0:function(){return vm(t)},Bind1:function(){return fm(t)}}},fm=function(t){var e=Hv(t.Bind1());return{bind:function(t){return function(n){return function(r){return e(t(r))((function(t){return n(t.value0)(t.value1)}))}}},Apply0:function(){return dm(t)}}},dm=function(t){var e=cm(t.Bind1().Apply0().Functor0());return{apply:Wv(hm(t)),Functor0:function(){return e}}},vm=function(t){var e=Fv(t.Applicative0());return{pure:function(t){return function(n){return e(new Tp(t,n))}},Apply0:function(){return dm(t)}}},gm=function(t){var e=Fv(t.Applicative0()),n=hm(t);return{state:function(t){return function(n){return e(t(n))}},Monad0:function(){return n}}},pm=function(t){var e=t.Monad0(),n=um(e),r=op(t),i=hm(e);return{throwError:function(t){return n(r(t))},Monad0:function(){return i}}};Array.prototype.fill,function(){function t(t,e){this.head=t,this.tail=e}var e={};function n(e){return function(n){return new t(e,n)}}}();const mm=function(t){return t.length},Rm=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])},wm=function(t,e,n,r){for(var i=0,s=r.length;i<s;i++)if(n(r[i]))return t(i);return e},Om=(function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}(),function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0}),xm=function(t,e){return t[e]};function ym(t){return t}const bm=ym;!function(){function t(e,n,r,i,s,o){var l,a,u,c,h,f;for((l=s+(o-s>>1))-s>1&&t(e,n,i,r,s,l),o-l>1&&t(e,n,i,r,l,o),a=s,u=l,c=s;a<l&&u<o;)h=i[a],f=i[u],n(e(h)(f))>0?(r[c++]=f,++u):(r[c++]=h,++a);for(;a<l;)r[c++]=i[a++];for(;u<o;)r[c++]=i[u++]}}();const km=function(t,e){return e.push(t)},Cm=function(t){return function(e){return function(){return t(e)}}},Tm=function(t){return function(e){return function(n){return function(){return t(e,n)}}}};var Sm=Cm(bm),Am=Tm(km),Pm=kv(xp),_m=yp(Cp),Em=Tv(xp),Lm=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),Dm=function(t){return function(){var e=Rp(t.value1)();return function(t){return Op((function(e){var n=t(e);return{state:n,value:n}}))}((function(t){return t+1|0}))(t.value1)(),t.value0(e)}};var Qm=Rv(wv),Im=function(t){return t.bimap},Mm=function(t){return Im(t)(Qm)},Nm={bimap:function(t){return function(e){return function(n){return new Tp(t(n.value0),e(n.value1))}}}},$m={append:function(t){return function(e){return t instanceof _g?t:e}}},Fm=function(){return{mempty:Pg.value,Semigroup0:function(){return $m}}}(),Bm=function(t){return t},Um=function(t){var e=function(t){var e=kp(t);return{append:function(t){return function(n){return e(t)(n)}}}}(t);return{mempty:bp(t),Semigroup0:function(){return e}}},Hm=function(t){var e=mv(t);return{append:function(t){return function(n){return e(t)(n)}}}},qm=function(t){var e=Hm(t.Semigroupoid0());return{mempty:Rv(t),Semigroup0:function(){return e}}},Vm=jp(),Xm=Gp()()()(),zm=function(t){return t.foldr},Wm=function(t){var e=Nv(t.Apply0()),n=Fv(t);return function(t){var r=zm(t);return function(t){return r((function(n){return e(t(n))}))(n(bv))}}},jm=function(t){return t.foldl},Gm=function(t){var e=jm(t);return function(t){var n=Dv(t.Semigroup0()),r=Zg(t);return function(t){return function(i){return e((function(e){return function(r){return e.init?{init:!1,acc:r}:{init:!1,acc:n(e.acc)(n(t)(r))}}}))({init:!0,acc:r})(i).acc}}}},Ym={foldr:function(t){return function(e){return function(n){if(n instanceof Pg)return e;if(n instanceof _g)return t(n.value0)(e);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldl:function(t){return function(e){return function(n){if(n instanceof Pg)return e;if(n instanceof _g)return t(e)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},foldMap:function(t){var e=Zg(t);return function(t){return function(n){if(n instanceof Pg)return e;if(n instanceof _g)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,n.constructor.name])}}}},Zm={foldr:function(t){return function(e){return function(n){for(var r=e,i=n.length-1;i>=0;i--)r=t(n[i])(r);return r}}},foldl:function(t){return function(e){return function(n){for(var r=e,i=n.length,s=0;s<i;s++)r=t(r)(n[s]);return r}}},foldMap:function(t){return function(t){var e=zm(t);return function(t){var n=Dv(t.Semigroup0()),r=Zg(t);return function(t){return e((function(e){return function(r){return n(t(e))(r)}}))(r)}}}(Zm)(t)}},Km=function(t){return t.foldMap},Jm=function(t){var e=Km(t)(Fm);return function(t){var n=og(t);return function(t){var r=e((function(e){return n(t)(e.value0)?new _g(e.value1):Pg.value}));return function(t){return Vm(r(t))}}}},tR=function(t){var e=Km(t);return function(t){return Xm(Bm)(e(Um(t)))}};const eR=function(t){return function(e){return function(n){return t(e,n)}}},nR=function(t){return function(e){return function(n){return function(r){return function(i){return t(e,n,r,i)}}}}};const rR=function(){function t(t){return[t]}function e(t){return function(e){return[t,e]}}function n(t){return function(e){return function(n){return[t,e,n]}}}function r(t){return function(e){return t.concat(e)}}return function(i){return function(s){return function(o){return function(l){return function(a){return function u(c,h){switch(h-c){case 0:return o([]);case 1:return s(t)(l(a[c]));case 2:return i(s(e)(l(a[c])))(l(a[c+1]));case 3:return i(i(s(n)(l(a[c])))(l(a[c+1])))(l(a[c+2]));default:var f=c+2*Math.floor((h-c)/4);return i(s(r)(u(c,f)))(u(f,h))}}(0,a.length)}}}}}}();var iR=Rv(wv),sR=function(t){return t.traverse},oR={traverse:function(t){var e=Fv(t),n=kv(t.Apply0().Functor0());return function(t){return function(r){if(r instanceof Pg)return e(Pg.value);if(r instanceof _g)return n(_g.create)(t(r.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,r.constructor.name])}}},sequence:function(t){var e=Fv(t),n=kv(t.Apply0().Functor0());return function(t){if(t instanceof Pg)return e(Pg.value);if(t instanceof _g)return n(_g.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}},Functor0:function(){return Ig},Foldable1:function(){return Ym}},lR=function(t){var e=sR(t);return function(t){return e(t)(iR)}},aR={traverse:function(t){var e=t.Apply0();return rR(Mv(e))(kv(e.Functor0()))(Fv(t))},sequence:function(t){return lR(aR)(t)},Functor0:function(){return Pv},Foldable1:function(){return Zm}},uR=function(t){return function(e){var n=sR(e)(t);return function(t){return function(e){return n(e)(t)}}}};var cR=Tv(xp),hR=function(){return eR(xm)},fR=function(t){return 0===mm(t)},dR=function(){return nR(Rm)(_g.create)(Pg.value)}(),vR=function(t){return function(){var e=[],n=[],r=function(t){return Pm(Lm.create(t))(mp(0))}((function(e){return dR(t)(e)}))();!function(t){return function(e){return function(){for(var n=mp(!1)();Pm(_m)(Rp(n))();)!function(){var r=Dm(t)();if(r instanceof _g)return e(r.value0)();if(r instanceof Pg)return Em(wp(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[r.constructor.name])}();return{}}}}(r)((function(t){return function(){return cR(Am(t.value0)(e))(),cR(Am(t.value1)(n))()}}))();var i=Sm(e)(),s=Sm(n)();return new Tp(i,s)}()},gR=function(t){return dR(t)(0)},pR=function(){return nR(wm)(_g.create)(Pg.value)}(),mR=function(t){var e=og(t);return function(t){return pR((function(n){return e(n)(t)}))}},RR=function(t){var e=mR(t);return function(t){return function(n){return Dg(e(t)(n))}}},wR=function(t){var e=mR(t);return function(t){return function(n){return Qg(e(t)(n))}}},OR=eR(Om);!function(){function t(t){this.fn=t}var e={},n=function(t,e){this.head=t,this.tail=e};function r(t){return new n(t,e)}function i(t){return function(e){return new n(t,e)}}function s(t){for(var n=[],r=t;r!==e;)n.push(r.head),r=r.tail;return n}}();var xR=function(t){return t.foldrWithIndex},yR=Rv(wv),bR=function(){function t(){}return t.value=new t,t}(),kR=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),CR={map:function(t){var e;return e=bR.value,function(n){var r,i=e,s=!1;function o(e,r){return r instanceof kR&&r.value1 instanceof kR&&r.value1.value1 instanceof kR?(i=new kR(r,e),void(n=r.value1.value1.value1)):(s=!0,(l=e,function(e){for(var n,r,i,s=l,o=!1;!o;)i=e,n=(r=s)instanceof kR&&r.value0 instanceof kR&&r.value0.value1 instanceof kR&&r.value0.value1.value1 instanceof kR?(s=r.value1,void(e=new kR(t(r.value0.value0),new kR(t(r.value0.value1.value0),new kR(t(r.value0.value1.value1.value0),i))))):(o=!0,i);return n})((o=r)instanceof kR&&o.value1 instanceof kR&&o.value1.value1 instanceof bR?new kR(t(o.value0),new kR(t(o.value1.value0),bR.value)):o instanceof kR&&o.value1 instanceof bR?new kR(t(o.value0),bR.value):bR.value));var o,l}for(;!s;)r=o(i,n);return r}}},TR={foldr:function(t){return function(e){var n,r=(n=bR.value,function(t){var e,r=n,i=!1;function s(e,n){if(n instanceof bR)return i=!0,e;if(n instanceof kR)return r=new kR(n.value0,e),void(t=n.value1);throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[e.constructor.name,n.constructor.name])}for(;!i;)e=s(r,t);return e}),i=jm(TR)(Ov(t))(e);return function(t){return i(r(t))}}},foldl:function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof bR)return s=!0,e;if(r instanceof kR)return i=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[r.constructor.name])}for(;!s;)r=o(i,n);return r}}},foldMap:function(t){var e=Dv(t.Semigroup0()),n=Zg(t);return function(t){return jm(TR)((function(n){var r=e(n);return function(e){return r(t(e))}}))(n)}}},SR=jm(TR),AR=zm(TR),PR={append:function(t){return function(e){return AR(kR.create)(e)(t)}}},_R={traverse:function(t){var e=t.Apply0(),n=kv(e.Functor0()),r=$v(e),i=Fv(t);return function(t){var e=n(SR(Ov(kR.create))(bR.value)),s=SR((function(e){var n=r(Ov(kR.create))(e);return function(e){return n(t(e))}}))(i(bR.value));return function(t){return e(s(t))}}},sequence:function(t){return sR(_R)(t)(yR)},Functor0:function(){return CR},Foldable1:function(){return TR}},ER={eq1:function(t){var e=og(t);return function(t){return function(n){var r;return(r=t,function(t){return function(n){var i,s=r,o=t,l=!1;function a(t,r,i){return i?t instanceof bR&&r instanceof bR?(l=!0,i):t instanceof kR&&r instanceof kR?(s=t.value1,o=r.value1,void(n=i&&e(r.value0)(t.value0))):(l=!0,!1):(l=!0,!1)}for(;!l;)i=a(s,o,n);return i}})(n)(!0)}}}},LR=sg(ER),DR=function(t){return{eq:LR(t)}},QR=og(fg),IR=ag(fg),MR=function(t){return new kR(t,bR.value)},NR=function(t){var e=function(n){return function(r){if(n instanceof kR&&r instanceof kR)return QR(t(n.value0)(r.value0))(cg.value)?new kR(r.value0,e(n)(r.value1)):new kR(n.value0,e(n.value1)(r));if(n instanceof bR)return r;if(r instanceof bR)return n;throw new Error("Failed pattern match at Data.List (line 466, column 3 - line 466, column 38): "+[n.constructor.name,r.constructor.name])}},n=function(t){return t instanceof kR&&t.value1 instanceof kR?new kR(e(t.value0)(t.value1.value0),n(t.value1.value1)):t},r=function(e){return e instanceof kR&&e.value1 instanceof kR?QR(t(e.value0)(e.value1.value0))(cg.value)?i(e.value1.value0)(MR(e.value0))(e.value1.value1):s(e.value1.value0)((function(t){return new kR(e.value0,t)}))(e.value1.value1):MR(e)},i=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof kR&&QR(t(e)(s.value0))(cg.value)?(o=s.value0,l=new kR(e,n),void(i=s.value1)):(a=!0,new kR(new kR(e,n),r(s)))}for(;!a;)s=u(o,l,i);return s}}},s=function(e){return function(n){return function(i){var s,o=e,l=n,a=!1;function u(e,n,s){return s instanceof kR&&IR(t(e)(s.value0))(cg.value)?(o=s.value0,l=function(t){return n(new kR(e,t))},void(i=s.value1)):(a=!0,new kR(n(MR(e)),r(s)))}for(;!a;)s=u(o,l,i);return s}}};return function(t){return function(t){var e,r=!1;function i(e){if(e instanceof kR&&e.value1 instanceof bR)return r=!0,e.value0;t=n(e)}for(;!r;)e=i(t);return e}(r(t))}},$R=function(t){var e=Rg(t);return function(t){return NR(e)(t)}},FR=function(){var t;return t=bR.value,function(e){var n,r=t,i=!1;function s(t,n){if(n instanceof bR)return i=!0,t;if(n instanceof kR)return r=new kR(n.value0,t),void(e=n.value1);throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=s(r,e);return n}}(),BR=function(t){return function(e){return function(n){var r,i=e,s=!1;function o(e,r){if(r instanceof bR)return s=!0,FR(e);if(r instanceof kR)return t(r.value0)?(i=new kR(r.value0,e),void(n=r.value1)):(i=e,void(n=r.value1));throw new Error("Failed pattern match at Data.List (line 390, column 3 - line 390, column 27): "+[e.constructor.name,r.constructor.name])}for(;!s;)r=o(i,n);return r}}(bR.value)};const UR=function(t){return t.length},HR=function(t){return function(e){return e.substring(t)}},qR=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};const VR=function(t){throw new Error(t)};var XR=function(){return VR},zR=XR(),WR=function(t){return t()},jR=function(t){return WR((function(){return zR(t)}))},GR=jp(),YR=function(t){return GR(t)};const ZR=isFinite;Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,Math.cos,Math.exp;const KR=Math.floor,JR=(Math.log,Math.round,Math.sign&&Math.sign,Math.sin,Math.sqrt);Math.tan,Math.trunc&&Math.trunc;var tw=wg(Og),ew=yg(Og),nw=function(){return(t=_g.create,function(e){return function(n){return(0|n)===n?t(n):e}})(Pg.value);var t}(),rw=function(t){return ZR(t)?t>=tw?tw:t<=ew?ew:Ng(0)(nw(t)):0},iw=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},sw=function(){function t(){}return t.value=new t,t}(),ow=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),lw=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),aw=function(t,e,n,r){if(n instanceof sw){if(r instanceof sw)return new ow(1,1,t,e,n,r);if(r instanceof ow)return new ow(1+r.value0|0,1+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): "+[r.constructor.name])}if(n instanceof ow){if(r instanceof sw)return new ow(1+n.value0|0,1+n.value1|0,t,e,n,r);if(r instanceof ow)return new ow(1+(n.value0>r.value0?n.value0:r.value0)|0,(1+n.value1|0)+r.value1|0,t,e,n,r);throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): "+[n.constructor.name])},uw=function(t){return function(e){return new ow(1,1,t,e,sw.value,sw.value)}},cw=function(){var t=function(t){if(t instanceof sw)return 0;if(t instanceof ow)return t.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): "+[t.constructor.name])},e=function(e,n,r,i,s,o,l){return o instanceof ow&&o.value0>t(l)?aw(o.value2,o.value3,aw(e,n,r,o.value4),aw(i,s,o.value5,l)):aw(i,s,aw(e,n,r,o),l)},n=function(e,n,r,i,s,o,l){return o instanceof ow&&t(s)<=o.value0?aw(o.value2,o.value3,aw(r,i,s,o.value4),aw(e,n,o.value5,l)):aw(r,i,s,aw(e,n,o,l))};return function(t,r,i,s){if(i instanceof sw)return s instanceof sw?uw(t)(r):s instanceof ow&&s.value0>1?e(t,r,i,s.value2,s.value3,s.value4,s.value5):aw(t,r,i,s);if(i instanceof ow){if(s instanceof ow){if(s.value0>(i.value0+1|0))return e(t,r,i,s.value2,s.value3,s.value4,s.value5);if(i.value0>(s.value0+1|0))return n(t,r,i.value2,i.value3,i.value4,i.value5,s)}return s instanceof sw&&i.value0>1?n(t,r,i.value2,i.value3,i.value4,i.value5,s):aw(t,r,i,s)}throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): "+[i.constructor.name])}}(),hw=iw("unsafeSplit","Data.Map.Internal",(function(){return function(t,e,n){if(n instanceof sw)return new lw(Pg.value,sw.value,sw.value);if(n instanceof ow){var r=t(e)(n.value2);if(r instanceof ug){var i=hw(793)(t,e,n.value4);return new lw(i.value0,i.value1,cw(n.value2,n.value3,i.value2,n.value5))}if(r instanceof cg){i=hw(796)(t,e,n.value5);return new lw(i.value0,cw(n.value2,n.value3,n.value4,i.value1),i.value2)}if(r instanceof hg)return new lw(new _g(n.value3),n.value4,n.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): "+[r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): "+[n.constructor.name])}})),fw=hw(786),dw=iw("unsafeUnionWith","Data.Map.Internal",(function(){return function(t,e,n,r){if(n instanceof sw)return r;if(r instanceof sw)return n;if(r instanceof ow){var i=fw(t,r.value2,n),s=dw(809)(t,e,i.value1,r.value4),o=dw(810)(t,e,i.value2,r.value5);if(i.value0 instanceof _g)return cw(r.value2,e(i.value0.value0)(r.value3),s,o);if(i.value0 instanceof Pg)return cw(r.value2,r.value3,s,o);throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): "+[i.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): "+[n.constructor.name,r.constructor.name])}})),vw=dw(803),gw=function(t){var e=Rg(t);return function(t){return function(n){return function(r){return vw(e,t,n,r)}}}},pw=function(t){return gw(t)(xv)},mw=function(t){var e=Rg(t);return function(t){return function(n){var r,i=!1;function s(r){if(r instanceof sw)return i=!0,Pg.value;if(r instanceof ow){var s=e(t)(r.value2);if(s instanceof ug)return void(n=r.value4);if(s instanceof cg)return void(n=r.value5);if(s instanceof hg)return i=!0,new _g(r.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): "+[r.constructor.name])}for(;!i;)r=s(n);return r}}},Rw=function(t){var e=Rg(t);return function(t){return function(n){var r=function(i){if(i instanceof sw)return uw(t)(n);if(i instanceof ow){var s=e(t)(i.value2);if(s instanceof ug)return cw(i.value2,i.value3,r(i.value4),i.value5);if(s instanceof cg)return cw(i.value2,i.value3,i.value4,r(i.value5));if(s instanceof hg)return new ow(i.value0,i.value1,t,n,i.value4,i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): "+[s.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): "+[i.constructor.name])};return r}}},ww={foldr:function(t){return function(e){var n=iw("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof sw)return r;if(e instanceof ow)return n(172)(e.value4,t(e.value3)(n(172)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): "+[e.constructor.name])}})),r=n(169);return function(t){return r(t,e)}}},foldl:function(t){return function(e){var n=iw("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof sw)return e;if(r instanceof ow)return n(178)(t(n(178)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): "+[r.constructor.name])}})),r=n(175);return function(t){return r(e,t)}}},foldMap:function(t){var e=Zg(t),n=Dv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof sw)return e;if(i instanceof ow)return n(r(i.value4))(n(t(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): "+[i.constructor.name])};return r}}},Ow={foldrWithIndex:function(t){return function(e){var n=iw("go","Data.Map.Internal",(function(){return function(e,r){if(e instanceof sw)return r;if(e instanceof ow)return n(192)(e.value4,t(e.value2)(e.value3)(n(192)(e.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): "+[e.constructor.name])}})),r=n(189);return function(t){return r(t,e)}}},foldlWithIndex:function(t){return function(e){var n=iw("go","Data.Map.Internal",(function(){return function(e,r){if(r instanceof sw)return e;if(r instanceof ow)return n(198)(t(r.value2)(n(198)(e,r.value4))(r.value3),r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): "+[r.constructor.name])}})),r=n(195);return function(t){return r(e,t)}}},foldMapWithIndex:function(t){var e=Zg(t),n=Dv(t.Semigroup0());return function(t){var r=function(i){if(i instanceof sw)return e;if(i instanceof ow)return n(r(i.value4))(n(t(i.value2)(i.value3))(r(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): "+[i.constructor.name])};return r}},Foldable0:function(){return ww}},xw=function(){return xR(Ow)((function(t){return function(e){return function(e){return new kR(t,e)}}}))(bR.value)}(),yw=function(){return sw.value}(),bw=function(t){var e=Rw(t);return function(t){return jm(t)((function(t){return function(n){return e(n.value0)(n.value1)(t)}}))(yw)}};function kw(t){return{term:t,done:!1}}function Cw(t){return t.done}function Tw(t){return t.term}function Sw(t){return function(e){return e.term=t,e.done=!0,t}}var Aw=function(){function t(){}return t.value=new t,t}(),Pw=function(){function t(){}return t.value=new t,t}(),_w=function(){function t(){}return t.value=new t,t}(),Ew=function(){function t(){}return t.value=new t,t}(),Lw=function(){function t(){}return t.value=new t,t}(),Dw=function(){function t(){}return t.value=new t,t}(),Qw=function(){function t(){}return t.value=new t,t}(),Iw=function(){function t(){}return t.value=new t,t}(),Mw=function(){function t(){}return t.value=new t,t}(),Nw=function(){function t(){}return t.value=new t,t}(),$w=function(){function t(){}return t.value=new t,t}(),Fw=function(){function t(){}return t.value=new t,t}(),Bw=function(){function t(){}return t.value=new t,t}(),Uw=function(){function t(){}return t.value=new t,t}(),Hw=function(){function t(){}return t.value=new t,t}(),qw=function(){function t(){}return t.value=new t,t}(),Vw=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Xw=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),zw=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),Ww=function(){function t(){}return t.value=new t,t}(),jw=function(){function t(){}return t.value=new t,t}(),Gw={show:function(t){if(t instanceof Aw)return"-";if(t instanceof Pw)return"#";if(t instanceof _w)return"√";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 23, column 1 - line 26, column 18): "+[t.constructor.name])}},Yw={show:function(t){if(t instanceof Ew)return"&&";if(t instanceof Lw)return"||";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 60, column 1 - line 62, column 18): "+[t.constructor.name])}},Zw=Sg(Yw),Kw={show:function(t){if(t instanceof Dw)return"==";if(t instanceof Qw)return"!=";if(t instanceof Iw)return"<";if(t instanceof Mw)return"<=";if(t instanceof Nw)return">";if(t instanceof $w)return">=";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 52, column 1 - line 58, column 18): "+[t.constructor.name])}},Jw=Sg(Kw),tO={show:function(t){if(t instanceof Fw)return"+";if(t instanceof Bw)return"-";if(t instanceof Uw)return"*";if(t instanceof Hw)return"/";if(t instanceof qw)return"%";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 45, column 1 - line 50, column 17): "+[t.constructor.name])}},eO=Sg(tO),nO={show:function(t){if(t instanceof Vw)return eO(t.value0);if(t instanceof Xw)return Jw(t.value0);if(t instanceof zw)return Zw(t.value0);if(t instanceof Ww)return"++";if(t instanceof jw)return"!!";throw new Error("Failed pattern match at Language.CP.Syntax.Common (line 38, column 1 - line 43, column 23): "+[t.constructor.name])}},rO=function(t){return"("+t+")"},iO=function(t){return"["+t+"]"},sO=function(t){return"{ "+t+" }"},oO=function(t){return"<"+t+">"};function lO(t){return t.charCodeAt(0)}var aO=yg(xg),uO=wg(xg),cO=function(t){return t.toEnum},hO=function(t){return t.fromEnum},fO=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},dO=function(t){return function(e){return function(n){return t(e(n)-1|0)}}},vO=function(t){return t>=lO(aO)&&t<=lO(uO)?new _g(function(t){return String.fromCharCode(t)}(t)):Pg.value},gO={succ:fO(vO)(lO),pred:dO(vO)(lO),Ord0:function(){return mg}},pO=function(){return{cardinality:lO(uO)-lO(aO)|0,toEnum:vO,fromEnum:lO,Bounded0:function(){return xg},Enum1:function(){return gO}}}(),mO=hR(),RO=mR(ng),wO=function(){function t(){}return t.value=new t,t}(),OO=function(){function t(){}return t.value=new t,t}(),xO=function(){function t(){}return t.value=new t,t}(),yO=function(){function t(){}return t.value=new t,t}(),bO=function(){function t(){}return t.value=new t,t}(),kO=function(){function t(){}return t.value=new t,t}(),CO=function(){function t(){}return t.value=new t,t}(),TO=function(){function t(){}return t.value=new t,t}(),SO=function(){function t(){}return t.value=new t,t}(),AO=function(){function t(){}return t.value=new t,t}(),PO=function(){function t(){}return t.value=new t,t}(),_O=function(){function t(){}return t.value=new t,t}(),EO=function(){function t(){}return t.value=new t,t}(),LO=function(){function t(){}return t.value=new t,t}(),DO=function(){function t(){}return t.value=new t,t}(),QO=function(){function t(){}return t.value=new t,t}(),IO=function(){function t(){}return t.value=new t,t}(),MO=function(){function t(){}return t.value=new t,t}(),NO=function(){function t(){}return t.value=new t,t}(),$O=function(){function t(){}return t.value=new t,t}(),FO=function(){function t(){}return t.value=new t,t}(),BO=function(){function t(){}return t.value=new t,t}(),UO=function(){function t(){}return t.value=new t,t}(),HO=function(){function t(){}return t.value=new t,t}(),qO=function(){function t(){}return t.value=new t,t}(),VO=function(){function t(){}return t.value=new t,t}(),XO=function(){function t(){}return t.value=new t,t}(),zO=function(){function t(){}return t.value=new t,t}(),WO=function(){function t(){}return t.value=new t,t}(),jO=function(){function t(){}return t.value=new t,t}(),GO=function(){return{category:2,unicodeCat:UO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),YO=function(){return{category:67108864,unicodeCat:qO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ZO=function(){return{category:33554432,unicodeCat:HO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),KO=8192,JO=function(){return{category:KO,unicodeCat:BO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),tx=function(){return{category:KO,unicodeCat:BO.value,possible:1,updist:0,lowdist:26,titledist:0}}(),ex=function(){return{category:KO,unicodeCat:BO.value,possible:1,updist:-26,lowdist:0,titledist:-26}}(),nx=function(){return{category:64,unicodeCat:NO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),rx=function(){return{category:1024,unicodeCat:FO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ix=function(){return{category:8,unicodeCat:$O.value,possible:0,updist:0,lowdist:0,titledist:0}}(),sx=function(){return{category:16,unicodeCat:LO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ox=function(){return{category:4,unicodeCat:MO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),lx=function(){return{category:32768,unicodeCat:QO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ax=262144,ux=function(){return{category:ax,unicodeCat:IO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),cx=function(){return{category:32,unicodeCat:DO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),hx=function(){return{category:128,unicodeCat:EO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),fx=function(){return{category:2048,unicodeCat:_O.value,possible:0,updist:0,lowdist:0,titledist:0}}(),dx=131072,vx=function(){return{category:dx,unicodeCat:PO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),gx=16777216,px=function(){return{category:gx,unicodeCat:AO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),mx=function(){return{category:gx,unicodeCat:AO.value,possible:1,updist:0,lowdist:16,titledist:0}}(),Rx=function(){return{category:gx,unicodeCat:AO.value,possible:1,updist:-16,lowdist:0,titledist:-16}}(),wx=256,Ox=function(){return{category:wx,unicodeCat:SO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),xx=2097152,yx=function(){return{category:xx,unicodeCat:kO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),bx=function(){return{category:xx,unicodeCat:kO.value,possible:1,updist:84,lowdist:0,titledist:84}}(),kx=4194304,Cx=function(){return{category:kx,unicodeCat:TO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Tx=8388608,Sx=function(){return{category:Tx,unicodeCat:CO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Ax=512,Px=function(){return{category:Ax,unicodeCat:jO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),_x=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:8,titledist:0}}(),Ex=function(){return{category:Ax,unicodeCat:wO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Lx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-60,titledist:0}}(),Dx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-7,titledist:0}}(),Qx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:80,titledist:0}}(),Ix=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:15,titledist:0}}(),Mx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:48,titledist:0}}(),Nx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:7264,titledist:0}}(),$x=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:38864,titledist:0}}(),Fx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-3008,titledist:0}}(),Bx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-7615,titledist:0}}(),Ux=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),Hx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-74,titledist:0}}(),qx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-86,titledist:0}}(),Vx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-100,titledist:0}}(),Xx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-112,titledist:0}}(),zx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-128,titledist:0}}(),Wx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-126,titledist:0}}(),jx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-7517,titledist:0}}(),Gx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-8383,titledist:0}}(),Yx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-8262,titledist:0}}(),Zx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:28,titledist:0}}(),Kx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10743,titledist:0}}(),Jx=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-3814,titledist:0}}(),ty=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10727,titledist:0}}(),ey=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10780,titledist:0}}(),ny=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10749,titledist:0}}(),ry=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10783,titledist:0}}(),iy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10782,titledist:0}}(),sy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-10815,titledist:0}}(),oy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-35332,titledist:0}}(),ly=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42280,titledist:0}}(),ay=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42308,titledist:0}}(),uy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42319,titledist:0}}(),cy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42315,titledist:0}}(),hy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42305,titledist:0}}(),fy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42258,titledist:0}}(),dy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42282,titledist:0}}(),vy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42261,titledist:0}}(),gy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:928,titledist:0}}(),py=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-48,titledist:0}}(),my=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-42307,titledist:0}}(),Ry=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-35384,titledist:0}}(),wy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:40,titledist:0}}(),Oy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:34,titledist:0}}(),xy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:1,titledist:0}}(),yy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-199,titledist:0}}(),by=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-121,titledist:0}}(),ky=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:210,titledist:0}}(),Cy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:206,titledist:0}}(),Ty=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:205,titledist:0}}(),Sy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:79,titledist:0}}(),Ay=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:202,titledist:0}}(),Py=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:203,titledist:0}}(),_y=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:207,titledist:0}}(),Ey=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:211,titledist:0}}(),Ly=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:209,titledist:0}}(),Dy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:213,titledist:0}}(),Qy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:214,titledist:0}}(),Iy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:218,titledist:0}}(),My=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:217,titledist:0}}(),Ny=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:219,titledist:0}}(),$y=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:2,titledist:1}}(),Fy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-97,titledist:0}}(),By=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-56,titledist:0}}(),Uy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-130,titledist:0}}(),Hy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:10795,titledist:0}}(),qy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-163,titledist:0}}(),Vy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:10792,titledist:0}}(),Xy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:-195,titledist:0}}(),zy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:69,titledist:0}}(),Wy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:71,titledist:0}}(),jy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:32,titledist:0}}(),Gy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:116,titledist:0}}(),Yy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:38,titledist:0}}(),Zy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:37,titledist:0}}(),Ky=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:64,titledist:0}}(),Jy=function(){return{category:Ax,unicodeCat:wO.value,possible:1,updist:0,lowdist:63,titledist:0}}(),tb=524288,eb=function(){return{category:tb,unicodeCat:xO.value,possible:1,updist:0,lowdist:-8,titledist:0}}(),nb=function(){return{category:tb,unicodeCat:xO.value,possible:1,updist:0,lowdist:-9,titledist:0}}(),rb=function(){return{category:tb,unicodeCat:xO.value,possible:1,updist:-1,lowdist:1,titledist:0}}(),ib=16384,sb=function(){return{category:ib,unicodeCat:bO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ob=1048576,lb=function(){return{category:ob,unicodeCat:yO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),ab=4096,ub=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-37,lowdist:0,titledist:-37}}(),cb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-31,lowdist:0,titledist:-31}}(),hb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-64,lowdist:0,titledist:-64}}(),fb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-63,lowdist:0,titledist:-63}}(),db=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-62,lowdist:0,titledist:-62}}(),vb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-57,lowdist:0,titledist:-57}}(),gb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-47,lowdist:0,titledist:-47}}(),pb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-54,lowdist:0,titledist:-54}}(),mb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-8,lowdist:0,titledist:-8}}(),Rb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-86,lowdist:0,titledist:-86}}(),wb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-80,lowdist:0,titledist:-80}}(),Ob=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:7,lowdist:0,titledist:7}}(),xb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-116,lowdist:0,titledist:-116}}(),yb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-96,lowdist:0,titledist:-96}}(),bb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-32,lowdist:0,titledist:-32}}(),kb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-15,lowdist:0,titledist:-15}}(),Cb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-48,lowdist:0,titledist:-48}}(),Tb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:3008,lowdist:0,titledist:0}}(),Sb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6254,lowdist:0,titledist:-6254}}(),Ab=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6253,lowdist:0,titledist:-6253}}(),Pb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6244,lowdist:0,titledist:-6244}}(),_b=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6242,lowdist:0,titledist:-6242}}(),Eb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6243,lowdist:0,titledist:-6243}}(),Lb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6236,lowdist:0,titledist:-6236}}(),Db=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-6181,lowdist:0,titledist:-6181}}(),Qb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:35266,lowdist:0,titledist:35266}}(),Ib=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:35332,lowdist:0,titledist:35332}}(),Mb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:3814,lowdist:0,titledist:3814}}(),Nb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:35384,lowdist:0,titledist:35384}}(),$b=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-59,lowdist:0,titledist:-59}}(),Fb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:8,lowdist:0,titledist:8}}(),Bb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:74,lowdist:0,titledist:74}}(),Ub=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:86,lowdist:0,titledist:86}}(),Hb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:100,lowdist:0,titledist:100}}(),qb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:128,lowdist:0,titledist:128}}(),Vb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:112,lowdist:0,titledist:112}}(),Xb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:126,lowdist:0,titledist:126}}(),zb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:9,lowdist:0,titledist:9}}(),Wb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-7205,lowdist:0,titledist:-7205}}(),jb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-28,lowdist:0,titledist:-28}}(),Gb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-10795,lowdist:0,titledist:-10795}}(),Yb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-10792,lowdist:0,titledist:-10792}}(),Zb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:743,lowdist:0,titledist:743}}(),Kb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-7264,lowdist:0,titledist:-7264}}(),Jb=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:48,lowdist:0,titledist:48}}(),tk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-928,lowdist:0,titledist:-928}}(),ek=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-38864,lowdist:0,titledist:-38864}}(),nk=function(){return{category:ab,unicodeCat:OO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),rk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-40,lowdist:0,titledist:-40}}(),ik=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-34,lowdist:0,titledist:-34}}(),sk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:121,lowdist:0,titledist:121}}(),ok=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-1,lowdist:0,titledist:-1}}(),lk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-232,lowdist:0,titledist:-232}}(),ak=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-300,lowdist:0,titledist:-300}}(),uk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:195,lowdist:0,titledist:195}}(),ck=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:97,lowdist:0,titledist:97}}(),hk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:163,lowdist:0,titledist:163}}(),fk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:130,lowdist:0,titledist:130}}(),dk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:56,lowdist:0,titledist:56}}(),vk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-2,lowdist:0,titledist:-1}}(),gk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-79,lowdist:0,titledist:-79}}(),pk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10815,lowdist:0,titledist:10815}}(),mk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10783,lowdist:0,titledist:10783}}(),Rk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10780,lowdist:0,titledist:10780}}(),wk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10782,lowdist:0,titledist:10782}}(),Ok=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-210,lowdist:0,titledist:-210}}(),xk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-206,lowdist:0,titledist:-206}}(),yk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-205,lowdist:0,titledist:-205}}(),bk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-202,lowdist:0,titledist:-202}}(),kk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-203,lowdist:0,titledist:-203}}(),Ck=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42319,lowdist:0,titledist:42319}}(),Tk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42315,lowdist:0,titledist:42315}}(),Sk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-207,lowdist:0,titledist:-207}}(),Ak=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42280,lowdist:0,titledist:42280}}(),Pk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42308,lowdist:0,titledist:42308}}(),_k=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-209,lowdist:0,titledist:-209}}(),Ek=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-211,lowdist:0,titledist:-211}}(),Lk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10743,lowdist:0,titledist:10743}}(),Dk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42305,lowdist:0,titledist:42305}}(),Qk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10749,lowdist:0,titledist:10749}}(),Ik=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-213,lowdist:0,titledist:-213}}(),Mk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-214,lowdist:0,titledist:-214}}(),Nk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:10727,lowdist:0,titledist:10727}}(),$k=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-218,lowdist:0,titledist:-218}}(),Fk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42307,lowdist:0,titledist:42307}}(),Bk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42282,lowdist:0,titledist:42282}}(),Uk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-69,lowdist:0,titledist:-69}}(),Hk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-217,lowdist:0,titledist:-217}}(),qk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-71,lowdist:0,titledist:-71}}(),Vk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-219,lowdist:0,titledist:-219}}(),Xk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42261,lowdist:0,titledist:42261}}(),zk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:42258,lowdist:0,titledist:42258}}(),Wk=function(){return{category:ab,unicodeCat:OO.value,possible:1,updist:-38,lowdist:0,titledist:-38}}(),jk=function(){return{category:134217728,unicodeCat:zO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Gk=function(){return{category:268435456,unicodeCat:WO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Yk=function(){return{category:65536,unicodeCat:XO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Zk=function(){return{category:1,unicodeCat:VO.value,possible:0,updist:0,lowdist:0,titledist:0}}(),Kk=function(t){return function(e){return function(n){return function(r){var i;return(i=0,function(n){var s,o=i,l=!1;function a(i,s){if(i>s||i>=mm(e))return l=!0,Pg.value;var a=rw(KR((i+s|0)/2)),u=mO(e)(a),c=r(t)(u);return c instanceof hg?(l=!0,new _g(u)):c instanceof cg?(o=a+1|0,void(n=s)):(o=i,void(n=a-1|0))}for(;!l;)s=a(o,n);return s})(n)}}}},Jk=function(t){return function(e){return t.start>=e.start&&t.start<(e.start+e.length|0)?hg.value:t.start>e.start?cg.value:ug.value}},tC=function(t){return function(e){return function(n){var r=Kk({start:e,length:1,convRule:Px})(t)(n)(Jk);if(r instanceof Pg)return Pg.value;if(r instanceof _g)return new _g(r.value0.convRule);throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5612, column 5 - line 5614, column 60): "+[r.constructor.name])}}},eC=[{start:0,length:32,convRule:Zk},{start:32,length:1,convRule:GO},{start:33,length:3,convRule:ox},{start:36,length:1,convRule:ix},{start:37,length:3,convRule:ox},{start:40,length:1,convRule:sx},{start:41,length:1,convRule:cx},{start:42,length:1,convRule:ox},{start:43,length:1,convRule:nx},{start:44,length:1,convRule:ox},{start:45,length:1,convRule:hx},{start:46,length:2,convRule:ox},{start:48,length:10,convRule:Ox},{start:58,length:2,convRule:ox},{start:60,length:3,convRule:nx},{start:63,length:2,convRule:ox},{start:65,length:26,convRule:jy},{start:91,length:1,convRule:sx},{start:92,length:1,convRule:ox},{start:93,length:1,convRule:cx},{start:94,length:1,convRule:rx},{start:95,length:1,convRule:fx},{start:96,length:1,convRule:rx},{start:97,length:26,convRule:bb},{start:123,length:1,convRule:sx},{start:124,length:1,convRule:nx},{start:125,length:1,convRule:cx},{start:126,length:1,convRule:nx},{start:127,length:33,convRule:Zk},{start:160,length:1,convRule:GO},{start:161,length:1,convRule:ox},{start:162,length:4,convRule:ix},{start:166,length:1,convRule:JO},{start:167,length:1,convRule:ox},{start:168,length:1,convRule:rx},{start:169,length:1,convRule:JO},{start:170,length:1,convRule:sb},{start:171,length:1,convRule:lx},{start:172,length:1,convRule:nx},{start:173,length:1,convRule:Yk},{start:174,length:1,convRule:JO},{start:175,length:1,convRule:rx},{start:176,length:1,convRule:JO},{start:177,length:1,convRule:nx},{start:178,length:2,convRule:vx},{start:180,length:1,convRule:rx},{start:181,length:1,convRule:Zb},{start:182,length:2,convRule:ox},{start:184,length:1,convRule:rx},{start:185,length:1,convRule:vx},{start:186,length:1,convRule:sb},{start:187,length:1,convRule:ux},{start:188,length:3,convRule:vx},{start:191,length:1,convRule:ox},{start:192,length:23,convRule:jy},{start:215,length:1,convRule:nx},{start:216,length:7,convRule:jy},{start:223,length:1,convRule:nk},{start:224,length:23,convRule:bb},{start:247,length:1,convRule:nx},{start:248,length:7,convRule:bb},{start:255,length:1,convRule:sk},{start:256,length:1,convRule:xy},{start:257,length:1,convRule:ok},{start:258,length:1,convRule:xy},{start:259,length:1,convRule:ok},{start:260,length:1,convRule:xy},{start:261,length:1,convRule:ok},{start:262,length:1,convRule:xy},{start:263,length:1,convRule:ok},{start:264,length:1,convRule:xy},{start:265,length:1,convRule:ok},{start:266,length:1,convRule:xy},{start:267,length:1,convRule:ok},{start:268,length:1,convRule:xy},{start:269,length:1,convRule:ok},{start:270,length:1,convRule:xy},{start:271,length:1,convRule:ok},{start:272,length:1,convRule:xy},{start:273,length:1,convRule:ok},{start:274,length:1,convRule:xy},{start:275,length:1,convRule:ok},{start:276,length:1,convRule:xy},{start:277,length:1,convRule:ok},{start:278,length:1,convRule:xy},{start:279,length:1,convRule:ok},{start:280,length:1,convRule:xy},{start:281,length:1,convRule:ok},{start:282,length:1,convRule:xy},{start:283,length:1,convRule:ok},{start:284,length:1,convRule:xy},{start:285,length:1,convRule:ok},{start:286,length:1,convRule:xy},{start:287,length:1,convRule:ok},{start:288,length:1,convRule:xy},{start:289,length:1,convRule:ok},{start:290,length:1,convRule:xy},{start:291,length:1,convRule:ok},{start:292,length:1,convRule:xy},{start:293,length:1,convRule:ok},{start:294,length:1,convRule:xy},{start:295,length:1,convRule:ok},{start:296,length:1,convRule:xy},{start:297,length:1,convRule:ok},{start:298,length:1,convRule:xy},{start:299,length:1,convRule:ok},{start:300,length:1,convRule:xy},{start:301,length:1,convRule:ok},{start:302,length:1,convRule:xy},{start:303,length:1,convRule:ok},{start:304,length:1,convRule:yy},{start:305,length:1,convRule:lk},{start:306,length:1,convRule:xy},{start:307,length:1,convRule:ok},{start:308,length:1,convRule:xy},{start:309,length:1,convRule:ok},{start:310,length:1,convRule:xy},{start:311,length:1,convRule:ok},{start:312,length:1,convRule:nk},{start:313,length:1,convRule:xy},{start:314,length:1,convRule:ok},{start:315,length:1,convRule:xy},{start:316,length:1,convRule:ok},{start:317,length:1,convRule:xy},{start:318,length:1,convRule:ok},{start:319,length:1,convRule:xy},{start:320,length:1,convRule:ok},{start:321,length:1,convRule:xy},{start:322,length:1,convRule:ok},{start:323,length:1,convRule:xy},{start:324,length:1,convRule:ok},{start:325,length:1,convRule:xy},{start:326,length:1,convRule:ok},{start:327,length:1,convRule:xy},{start:328,length:1,convRule:ok},{start:329,length:1,convRule:nk},{start:330,length:1,convRule:xy},{start:331,length:1,convRule:ok},{start:332,length:1,convRule:xy},{start:333,length:1,convRule:ok},{start:334,length:1,convRule:xy},{start:335,length:1,convRule:ok},{start:336,length:1,convRule:xy},{start:337,length:1,convRule:ok},{start:338,length:1,convRule:xy},{start:339,length:1,convRule:ok},{start:340,length:1,convRule:xy},{start:341,length:1,convRule:ok},{start:342,length:1,convRule:xy},{start:343,length:1,convRule:ok},{start:344,length:1,convRule:xy},{start:345,length:1,convRule:ok},{start:346,length:1,convRule:xy},{start:347,length:1,convRule:ok},{start:348,length:1,convRule:xy},{start:349,length:1,convRule:ok},{start:350,length:1,convRule:xy},{start:351,length:1,convRule:ok},{start:352,length:1,convRule:xy},{start:353,length:1,convRule:ok},{start:354,length:1,convRule:xy},{start:355,length:1,convRule:ok},{start:356,length:1,convRule:xy},{start:357,length:1,convRule:ok},{start:358,length:1,convRule:xy},{start:359,length:1,convRule:ok},{start:360,length:1,convRule:xy},{start:361,length:1,convRule:ok},{start:362,length:1,convRule:xy},{start:363,length:1,convRule:ok},{start:364,length:1,convRule:xy},{start:365,length:1,convRule:ok},{start:366,length:1,convRule:xy},{start:367,length:1,convRule:ok},{start:368,length:1,convRule:xy},{start:369,length:1,convRule:ok},{start:370,length:1,convRule:xy},{start:371,length:1,convRule:ok},{start:372,length:1,convRule:xy},{start:373,length:1,convRule:ok},{start:374,length:1,convRule:xy},{start:375,length:1,convRule:ok},{start:376,length:1,convRule:by},{start:377,length:1,convRule:xy},{start:378,length:1,convRule:ok},{start:379,length:1,convRule:xy},{start:380,length:1,convRule:ok},{start:381,length:1,convRule:xy},{start:382,length:1,convRule:ok},{start:383,length:1,convRule:ak},{start:384,length:1,convRule:uk},{start:385,length:1,convRule:ky},{start:386,length:1,convRule:xy},{start:387,length:1,convRule:ok},{start:388,length:1,convRule:xy},{start:389,length:1,convRule:ok},{start:390,length:1,convRule:Cy},{start:391,length:1,convRule:xy},{start:392,length:1,convRule:ok},{start:393,length:2,convRule:Ty},{start:395,length:1,convRule:xy},{start:396,length:1,convRule:ok},{start:397,length:1,convRule:nk},{start:398,length:1,convRule:Sy},{start:399,length:1,convRule:Ay},{start:400,length:1,convRule:Py},{start:401,length:1,convRule:xy},{start:402,length:1,convRule:ok},{start:403,length:1,convRule:Ty},{start:404,length:1,convRule:_y},{start:405,length:1,convRule:ck},{start:406,length:1,convRule:Ey},{start:407,length:1,convRule:Ly},{start:408,length:1,convRule:xy},{start:409,length:1,convRule:ok},{start:410,length:1,convRule:hk},{start:411,length:1,convRule:nk},{start:412,length:1,convRule:Ey},{start:413,length:1,convRule:Dy},{start:414,length:1,convRule:fk},{start:415,length:1,convRule:Qy},{start:416,length:1,convRule:xy},{start:417,length:1,convRule:ok},{start:418,length:1,convRule:xy},{start:419,length:1,convRule:ok},{start:420,length:1,convRule:xy},{start:421,length:1,convRule:ok},{start:422,length:1,convRule:Iy},{start:423,length:1,convRule:xy},{start:424,length:1,convRule:ok},{start:425,length:1,convRule:Iy},{start:426,length:2,convRule:nk},{start:428,length:1,convRule:xy},{start:429,length:1,convRule:ok},{start:430,length:1,convRule:Iy},{start:431,length:1,convRule:xy},{start:432,length:1,convRule:ok},{start:433,length:2,convRule:My},{start:435,length:1,convRule:xy},{start:436,length:1,convRule:ok},{start:437,length:1,convRule:xy},{start:438,length:1,convRule:ok},{start:439,length:1,convRule:Ny},{start:440,length:1,convRule:xy},{start:441,length:1,convRule:ok},{start:442,length:1,convRule:nk},{start:443,length:1,convRule:sb},{start:444,length:1,convRule:xy},{start:445,length:1,convRule:ok},{start:446,length:1,convRule:nk},{start:447,length:1,convRule:dk},{start:448,length:4,convRule:sb},{start:452,length:1,convRule:$y},{start:453,length:1,convRule:rb},{start:454,length:1,convRule:vk},{start:455,length:1,convRule:$y},{start:456,length:1,convRule:rb},{start:457,length:1,convRule:vk},{start:458,length:1,convRule:$y},{start:459,length:1,convRule:rb},{start:460,length:1,convRule:vk},{start:461,length:1,convRule:xy},{start:462,length:1,convRule:ok},{start:463,length:1,convRule:xy},{start:464,length:1,convRule:ok},{start:465,length:1,convRule:xy},{start:466,length:1,convRule:ok},{start:467,length:1,convRule:xy},{start:468,length:1,convRule:ok},{start:469,length:1,convRule:xy},{start:470,length:1,convRule:ok},{start:471,length:1,convRule:xy},{start:472,length:1,convRule:ok},{start:473,length:1,convRule:xy},{start:474,length:1,convRule:ok},{start:475,length:1,convRule:xy},{start:476,length:1,convRule:ok},{start:477,length:1,convRule:gk},{start:478,length:1,convRule:xy},{start:479,length:1,convRule:ok},{start:480,length:1,convRule:xy},{start:481,length:1,convRule:ok},{start:482,length:1,convRule:xy},{start:483,length:1,convRule:ok},{start:484,length:1,convRule:xy},{start:485,length:1,convRule:ok},{start:486,length:1,convRule:xy},{start:487,length:1,convRule:ok},{start:488,length:1,convRule:xy},{start:489,length:1,convRule:ok},{start:490,length:1,convRule:xy},{start:491,length:1,convRule:ok},{start:492,length:1,convRule:xy},{start:493,length:1,convRule:ok},{start:494,length:1,convRule:xy},{start:495,length:1,convRule:ok},{start:496,length:1,convRule:nk},{start:497,length:1,convRule:$y},{start:498,length:1,convRule:rb},{start:499,length:1,convRule:vk},{start:500,length:1,convRule:xy},{start:501,length:1,convRule:ok},{start:502,length:1,convRule:Fy},{start:503,length:1,convRule:By},{start:504,length:1,convRule:xy},{start:505,length:1,convRule:ok},{start:506,length:1,convRule:xy},{start:507,length:1,convRule:ok},{start:508,length:1,convRule:xy},{start:509,length:1,convRule:ok},{start:510,length:1,convRule:xy},{start:511,length:1,convRule:ok},{start:512,length:1,convRule:xy},{start:513,length:1,convRule:ok},{start:514,length:1,convRule:xy},{start:515,length:1,convRule:ok},{start:516,length:1,convRule:xy},{start:517,length:1,convRule:ok},{start:518,length:1,convRule:xy},{start:519,length:1,convRule:ok},{start:520,length:1,convRule:xy},{start:521,length:1,convRule:ok},{start:522,length:1,convRule:xy},{start:523,length:1,convRule:ok},{start:524,length:1,convRule:xy},{start:525,length:1,convRule:ok},{start:526,length:1,convRule:xy},{start:527,length:1,convRule:ok},{start:528,length:1,convRule:xy},{start:529,length:1,convRule:ok},{start:530,length:1,convRule:xy},{start:531,length:1,convRule:ok},{start:532,length:1,convRule:xy},{start:533,length:1,convRule:ok},{start:534,length:1,convRule:xy},{start:535,length:1,convRule:ok},{start:536,length:1,convRule:xy},{start:537,length:1,convRule:ok},{start:538,length:1,convRule:xy},{start:539,length:1,convRule:ok},{start:540,length:1,convRule:xy},{start:541,length:1,convRule:ok},{start:542,length:1,convRule:xy},{start:543,length:1,convRule:ok},{start:544,length:1,convRule:Uy},{start:545,length:1,convRule:nk},{start:546,length:1,convRule:xy},{start:547,length:1,convRule:ok},{start:548,length:1,convRule:xy},{start:549,length:1,convRule:ok},{start:550,length:1,convRule:xy},{start:551,length:1,convRule:ok},{start:552,length:1,convRule:xy},{start:553,length:1,convRule:ok},{start:554,length:1,convRule:xy},{start:555,length:1,convRule:ok},{start:556,length:1,convRule:xy},{start:557,length:1,convRule:ok},{start:558,length:1,convRule:xy},{start:559,length:1,convRule:ok},{start:560,length:1,convRule:xy},{start:561,length:1,convRule:ok},{start:562,length:1,convRule:xy},{start:563,length:1,convRule:ok},{start:564,length:6,convRule:nk},{start:570,length:1,convRule:Hy},{start:571,length:1,convRule:xy},{start:572,length:1,convRule:ok},{start:573,length:1,convRule:qy},{start:574,length:1,convRule:Vy},{start:575,length:2,convRule:pk},{start:577,length:1,convRule:xy},{start:578,length:1,convRule:ok},{start:579,length:1,convRule:Xy},{start:580,length:1,convRule:zy},{start:581,length:1,convRule:Wy},{start:582,length:1,convRule:xy},{start:583,length:1,convRule:ok},{start:584,length:1,convRule:xy},{start:585,length:1,convRule:ok},{start:586,length:1,convRule:xy},{start:587,length:1,convRule:ok},{start:588,length:1,convRule:xy},{start:589,length:1,convRule:ok},{start:590,length:1,convRule:xy},{start:591,length:1,convRule:ok},{start:592,length:1,convRule:mk},{start:593,length:1,convRule:Rk},{start:594,length:1,convRule:wk},{start:595,length:1,convRule:Ok},{start:596,length:1,convRule:xk},{start:597,length:1,convRule:nk},{start:598,length:2,convRule:yk},{start:600,length:1,convRule:nk},{start:601,length:1,convRule:bk},{start:602,length:1,convRule:nk},{start:603,length:1,convRule:kk},{start:604,length:1,convRule:Ck},{start:605,length:3,convRule:nk},{start:608,length:1,convRule:yk},{start:609,length:1,convRule:Tk},{start:610,length:1,convRule:nk},{start:611,length:1,convRule:Sk},{start:612,length:1,convRule:nk},{start:613,length:1,convRule:Ak},{start:614,length:1,convRule:Pk},{start:615,length:1,convRule:nk},{start:616,length:1,convRule:_k},{start:617,length:1,convRule:Ek},{start:618,length:1,convRule:Pk},{start:619,length:1,convRule:Lk},{start:620,length:1,convRule:Dk},{start:621,length:2,convRule:nk},{start:623,length:1,convRule:Ek},{start:624,length:1,convRule:nk},{start:625,length:1,convRule:Qk},{start:626,length:1,convRule:Ik},{start:627,length:2,convRule:nk},{start:629,length:1,convRule:Mk},{start:630,length:7,convRule:nk},{start:637,length:1,convRule:Nk},{start:638,length:2,convRule:nk},{start:640,length:1,convRule:$k},{start:641,length:1,convRule:nk},{start:642,length:1,convRule:Fk},{start:643,length:1,convRule:$k},{start:644,length:3,convRule:nk},{start:647,length:1,convRule:Bk},{start:648,length:1,convRule:$k},{start:649,length:1,convRule:Uk},{start:650,length:2,convRule:Hk},{start:652,length:1,convRule:qk},{start:653,length:5,convRule:nk},{start:658,length:1,convRule:Vk},{start:659,length:1,convRule:nk},{start:660,length:1,convRule:sb},{start:661,length:8,convRule:nk},{start:669,length:1,convRule:Xk},{start:670,length:1,convRule:zk},{start:671,length:17,convRule:nk},{start:688,length:18,convRule:lb},{start:706,length:4,convRule:rx},{start:710,length:12,convRule:lb},{start:722,length:14,convRule:rx},{start:736,length:5,convRule:lb},{start:741,length:7,convRule:rx},{start:748,length:1,convRule:lb},{start:749,length:1,convRule:rx},{start:750,length:1,convRule:lb},{start:751,length:17,convRule:rx},{start:768,length:69,convRule:yx},{start:837,length:1,convRule:bx},{start:838,length:42,convRule:yx},{start:880,length:1,convRule:xy},{start:881,length:1,convRule:ok},{start:882,length:1,convRule:xy},{start:883,length:1,convRule:ok},{start:884,length:1,convRule:lb},{start:885,length:1,convRule:rx},{start:886,length:1,convRule:xy},{start:887,length:1,convRule:ok},{start:890,length:1,convRule:lb},{start:891,length:3,convRule:fk},{start:894,length:1,convRule:ox},{start:895,length:1,convRule:Gy},{start:900,length:2,convRule:rx},{start:902,length:1,convRule:Yy},{start:903,length:1,convRule:ox},{start:904,length:3,convRule:Zy},{start:908,length:1,convRule:Ky},{start:910,length:2,convRule:Jy},{start:912,length:1,convRule:nk},{start:913,length:17,convRule:jy},{start:931,length:9,convRule:jy},{start:940,length:1,convRule:Wk},{start:941,length:3,convRule:ub},{start:944,length:1,convRule:nk},{start:945,length:17,convRule:bb},{start:962,length:1,convRule:cb},{start:963,length:9,convRule:bb},{start:972,length:1,convRule:hb},{start:973,length:2,convRule:fb},{start:975,length:1,convRule:_x},{start:976,length:1,convRule:db},{start:977,length:1,convRule:vb},{start:978,length:3,convRule:Ex},{start:981,length:1,convRule:gb},{start:982,length:1,convRule:pb},{start:983,length:1,convRule:mb},{start:984,length:1,convRule:xy},{start:985,length:1,convRule:ok},{start:986,length:1,convRule:xy},{start:987,length:1,convRule:ok},{start:988,length:1,convRule:xy},{start:989,length:1,convRule:ok},{start:990,length:1,convRule:xy},{start:991,length:1,convRule:ok},{start:992,length:1,convRule:xy},{start:993,length:1,convRule:ok},{start:994,length:1,convRule:xy},{start:995,length:1,convRule:ok},{start:996,length:1,convRule:xy},{start:997,length:1,convRule:ok},{start:998,length:1,convRule:xy},{start:999,length:1,convRule:ok},{start:1e3,length:1,convRule:xy},{start:1001,length:1,convRule:ok},{start:1002,length:1,convRule:xy},{start:1003,length:1,convRule:ok},{start:1004,length:1,convRule:xy},{start:1005,length:1,convRule:ok},{start:1006,length:1,convRule:xy},{start:1007,length:1,convRule:ok},{start:1008,length:1,convRule:Rb},{start:1009,length:1,convRule:wb},{start:1010,length:1,convRule:Ob},{start:1011,length:1,convRule:xb},{start:1012,length:1,convRule:Lx},{start:1013,length:1,convRule:yb},{start:1014,length:1,convRule:nx},{start:1015,length:1,convRule:xy},{start:1016,length:1,convRule:ok},{start:1017,length:1,convRule:Dx},{start:1018,length:1,convRule:xy},{start:1019,length:1,convRule:ok},{start:1020,length:1,convRule:nk},{start:1021,length:3,convRule:Uy},{start:1024,length:16,convRule:Qx},{start:1040,length:32,convRule:jy},{start:1072,length:32,convRule:bb},{start:1104,length:16,convRule:wb},{start:1120,length:1,convRule:xy},{start:1121,length:1,convRule:ok},{start:1122,length:1,convRule:xy},{start:1123,length:1,convRule:ok},{start:1124,length:1,convRule:xy},{start:1125,length:1,convRule:ok},{start:1126,length:1,convRule:xy},{start:1127,length:1,convRule:ok},{start:1128,length:1,convRule:xy},{start:1129,length:1,convRule:ok},{start:1130,length:1,convRule:xy},{start:1131,length:1,convRule:ok},{start:1132,length:1,convRule:xy},{start:1133,length:1,convRule:ok},{start:1134,length:1,convRule:xy},{start:1135,length:1,convRule:ok},{start:1136,length:1,convRule:xy},{start:1137,length:1,convRule:ok},{start:1138,length:1,convRule:xy},{start:1139,length:1,convRule:ok},{start:1140,length:1,convRule:xy},{start:1141,length:1,convRule:ok},{start:1142,length:1,convRule:xy},{start:1143,length:1,convRule:ok},{start:1144,length:1,convRule:xy},{start:1145,length:1,convRule:ok},{start:1146,length:1,convRule:xy},{start:1147,length:1,convRule:ok},{start:1148,length:1,convRule:xy},{start:1149,length:1,convRule:ok},{start:1150,length:1,convRule:xy},{start:1151,length:1,convRule:ok},{start:1152,length:1,convRule:xy},{start:1153,length:1,convRule:ok},{start:1154,length:1,convRule:JO},{start:1155,length:5,convRule:yx},{start:1160,length:2,convRule:Cx},{start:1162,length:1,convRule:xy},{start:1163,length:1,convRule:ok},{start:1164,length:1,convRule:xy},{start:1165,length:1,convRule:ok},{start:1166,length:1,convRule:xy},{start:1167,length:1,convRule:ok},{start:1168,length:1,convRule:xy},{start:1169,length:1,convRule:ok},{start:1170,length:1,convRule:xy},{start:1171,length:1,convRule:ok},{start:1172,length:1,convRule:xy},{start:1173,length:1,convRule:ok},{start:1174,length:1,convRule:xy},{start:1175,length:1,convRule:ok},{start:1176,length:1,convRule:xy},{start:1177,length:1,convRule:ok},{start:1178,length:1,convRule:xy},{start:1179,length:1,convRule:ok},{start:1180,length:1,convRule:xy},{start:1181,length:1,convRule:ok},{start:1182,length:1,convRule:xy},{start:1183,length:1,convRule:ok},{start:1184,length:1,convRule:xy},{start:1185,length:1,convRule:ok},{start:1186,length:1,convRule:xy},{start:1187,length:1,convRule:ok},{start:1188,length:1,convRule:xy},{start:1189,length:1,convRule:ok},{start:1190,length:1,convRule:xy},{start:1191,length:1,convRule:ok},{start:1192,length:1,convRule:xy},{start:1193,length:1,convRule:ok},{start:1194,length:1,convRule:xy},{start:1195,length:1,convRule:ok},{start:1196,length:1,convRule:xy},{start:1197,length:1,convRule:ok},{start:1198,length:1,convRule:xy},{start:1199,length:1,convRule:ok},{start:1200,length:1,convRule:xy},{start:1201,length:1,convRule:ok},{start:1202,length:1,convRule:xy},{start:1203,length:1,convRule:ok},{start:1204,length:1,convRule:xy},{start:1205,length:1,convRule:ok},{start:1206,length:1,convRule:xy},{start:1207,length:1,convRule:ok},{start:1208,length:1,convRule:xy},{start:1209,length:1,convRule:ok},{start:1210,length:1,convRule:xy},{start:1211,length:1,convRule:ok},{start:1212,length:1,convRule:xy},{start:1213,length:1,convRule:ok},{start:1214,length:1,convRule:xy},{start:1215,length:1,convRule:ok},{start:1216,length:1,convRule:Ix},{start:1217,length:1,convRule:xy},{start:1218,length:1,convRule:ok},{start:1219,length:1,convRule:xy},{start:1220,length:1,convRule:ok},{start:1221,length:1,convRule:xy},{start:1222,length:1,convRule:ok},{start:1223,length:1,convRule:xy},{start:1224,length:1,convRule:ok},{start:1225,length:1,convRule:xy},{start:1226,length:1,convRule:ok},{start:1227,length:1,convRule:xy},{start:1228,length:1,convRule:ok},{start:1229,length:1,convRule:xy},{start:1230,length:1,convRule:ok},{start:1231,length:1,convRule:kb},{start:1232,length:1,convRule:xy},{start:1233,length:1,convRule:ok},{start:1234,length:1,convRule:xy},{start:1235,length:1,convRule:ok},{start:1236,length:1,convRule:xy},{start:1237,length:1,convRule:ok},{start:1238,length:1,convRule:xy},{start:1239,length:1,convRule:ok},{start:1240,length:1,convRule:xy},{start:1241,length:1,convRule:ok},{start:1242,length:1,convRule:xy},{start:1243,length:1,convRule:ok},{start:1244,length:1,convRule:xy},{start:1245,length:1,convRule:ok},{start:1246,length:1,convRule:xy},{start:1247,length:1,convRule:ok},{start:1248,length:1,convRule:xy},{start:1249,length:1,convRule:ok},{start:1250,length:1,convRule:xy},{start:1251,length:1,convRule:ok},{start:1252,length:1,convRule:xy},{start:1253,length:1,convRule:ok},{start:1254,length:1,convRule:xy},{start:1255,length:1,convRule:ok},{start:1256,length:1,convRule:xy},{start:1257,length:1,convRule:ok},{start:1258,length:1,convRule:xy},{start:1259,length:1,convRule:ok},{start:1260,length:1,convRule:xy},{start:1261,length:1,convRule:ok},{start:1262,length:1,convRule:xy},{start:1263,length:1,convRule:ok},{start:1264,length:1,convRule:xy},{start:1265,length:1,convRule:ok},{start:1266,length:1,convRule:xy},{start:1267,length:1,convRule:ok},{start:1268,length:1,convRule:xy},{start:1269,length:1,convRule:ok},{start:1270,length:1,convRule:xy},{start:1271,length:1,convRule:ok},{start:1272,length:1,convRule:xy},{start:1273,length:1,convRule:ok},{start:1274,length:1,convRule:xy},{start:1275,length:1,convRule:ok},{start:1276,length:1,convRule:xy},{start:1277,length:1,convRule:ok},{start:1278,length:1,convRule:xy},{start:1279,length:1,convRule:ok},{start:1280,length:1,convRule:xy},{start:1281,length:1,convRule:ok},{start:1282,length:1,convRule:xy},{start:1283,length:1,convRule:ok},{start:1284,length:1,convRule:xy},{start:1285,length:1,convRule:ok},{start:1286,length:1,convRule:xy},{start:1287,length:1,convRule:ok},{start:1288,length:1,convRule:xy},{start:1289,length:1,convRule:ok},{start:1290,length:1,convRule:xy},{start:1291,length:1,convRule:ok},{start:1292,length:1,convRule:xy},{start:1293,length:1,convRule:ok},{start:1294,length:1,convRule:xy},{start:1295,length:1,convRule:ok},{start:1296,length:1,convRule:xy},{start:1297,length:1,convRule:ok},{start:1298,length:1,convRule:xy},{start:1299,length:1,convRule:ok},{start:1300,length:1,convRule:xy},{start:1301,length:1,convRule:ok},{start:1302,length:1,convRule:xy},{start:1303,length:1,convRule:ok},{start:1304,length:1,convRule:xy},{start:1305,length:1,convRule:ok},{start:1306,length:1,convRule:xy},{start:1307,length:1,convRule:ok},{start:1308,length:1,convRule:xy},{start:1309,length:1,convRule:ok},{start:1310,length:1,convRule:xy},{start:1311,length:1,convRule:ok},{start:1312,length:1,convRule:xy},{start:1313,length:1,convRule:ok},{start:1314,length:1,convRule:xy},{start:1315,length:1,convRule:ok},{start:1316,length:1,convRule:xy},{start:1317,length:1,convRule:ok},{start:1318,length:1,convRule:xy},{start:1319,length:1,convRule:ok},{start:1320,length:1,convRule:xy},{start:1321,length:1,convRule:ok},{start:1322,length:1,convRule:xy},{start:1323,length:1,convRule:ok},{start:1324,length:1,convRule:xy},{start:1325,length:1,convRule:ok},{start:1326,length:1,convRule:xy},{start:1327,length:1,convRule:ok},{start:1329,length:38,convRule:Mx},{start:1369,length:1,convRule:lb},{start:1370,length:6,convRule:ox},{start:1376,length:1,convRule:nk},{start:1377,length:38,convRule:Cb},{start:1415,length:2,convRule:nk},{start:1417,length:1,convRule:ox},{start:1418,length:1,convRule:hx},{start:1421,length:2,convRule:JO},{start:1423,length:1,convRule:ix},{start:1425,length:45,convRule:yx},{start:1470,length:1,convRule:hx},{start:1471,length:1,convRule:yx},{start:1472,length:1,convRule:ox},{start:1473,length:2,convRule:yx},{start:1475,length:1,convRule:ox},{start:1476,length:2,convRule:yx},{start:1478,length:1,convRule:ox},{start:1479,length:1,convRule:yx},{start:1488,length:27,convRule:sb},{start:1519,length:4,convRule:sb},{start:1523,length:2,convRule:ox},{start:1536,length:6,convRule:Yk},{start:1542,length:3,convRule:nx},{start:1545,length:2,convRule:ox},{start:1547,length:1,convRule:ix},{start:1548,length:2,convRule:ox},{start:1550,length:2,convRule:JO},{start:1552,length:11,convRule:yx},{start:1563,length:1,convRule:ox},{start:1564,length:1,convRule:Yk},{start:1566,length:2,convRule:ox},{start:1568,length:32,convRule:sb},{start:1600,length:1,convRule:lb},{start:1601,length:10,convRule:sb},{start:1611,length:21,convRule:yx},{start:1632,length:10,convRule:Ox},{start:1642,length:4,convRule:ox},{start:1646,length:2,convRule:sb},{start:1648,length:1,convRule:yx},{start:1649,length:99,convRule:sb},{start:1748,length:1,convRule:ox},{start:1749,length:1,convRule:sb},{start:1750,length:7,convRule:yx},{start:1757,length:1,convRule:Yk},{start:1758,length:1,convRule:JO},{start:1759,length:6,convRule:yx},{start:1765,length:2,convRule:lb},{start:1767,length:2,convRule:yx},{start:1769,length:1,convRule:JO},{start:1770,length:4,convRule:yx},{start:1774,length:2,convRule:sb},{start:1776,length:10,convRule:Ox},{start:1786,length:3,convRule:sb},{start:1789,length:2,convRule:JO},{start:1791,length:1,convRule:sb},{start:1792,length:14,convRule:ox},{start:1807,length:1,convRule:Yk},{start:1808,length:1,convRule:sb},{start:1809,length:1,convRule:yx},{start:1810,length:30,convRule:sb},{start:1840,length:27,convRule:yx},{start:1869,length:89,convRule:sb},{start:1958,length:11,convRule:yx},{start:1969,length:1,convRule:sb},{start:1984,length:10,convRule:Ox},{start:1994,length:33,convRule:sb},{start:2027,length:9,convRule:yx},{start:2036,length:2,convRule:lb},{start:2038,length:1,convRule:JO},{start:2039,length:3,convRule:ox},{start:2042,length:1,convRule:lb},{start:2045,length:1,convRule:yx},{start:2046,length:2,convRule:ix},{start:2048,length:22,convRule:sb},{start:2070,length:4,convRule:yx},{start:2074,length:1,convRule:lb},{start:2075,length:9,convRule:yx},{start:2084,length:1,convRule:lb},{start:2085,length:3,convRule:yx},{start:2088,length:1,convRule:lb},{start:2089,length:5,convRule:yx},{start:2096,length:15,convRule:ox},{start:2112,length:25,convRule:sb},{start:2137,length:3,convRule:yx},{start:2142,length:1,convRule:ox},{start:2144,length:11,convRule:sb},{start:2208,length:21,convRule:sb},{start:2230,length:18,convRule:sb},{start:2259,length:15,convRule:yx},{start:2274,length:1,convRule:Yk},{start:2275,length:32,convRule:yx},{start:2307,length:1,convRule:Sx},{start:2308,length:54,convRule:sb},{start:2362,length:1,convRule:yx},{start:2363,length:1,convRule:Sx},{start:2364,length:1,convRule:yx},{start:2365,length:1,convRule:sb},{start:2366,length:3,convRule:Sx},{start:2369,length:8,convRule:yx},{start:2377,length:4,convRule:Sx},{start:2381,length:1,convRule:yx},{start:2382,length:2,convRule:Sx},{start:2384,length:1,convRule:sb},{start:2385,length:7,convRule:yx},{start:2392,length:10,convRule:sb},{start:2402,length:2,convRule:yx},{start:2404,length:2,convRule:ox},{start:2406,length:10,convRule:Ox},{start:2416,length:1,convRule:ox},{start:2417,length:1,convRule:lb},{start:2418,length:15,convRule:sb},{start:2433,length:1,convRule:yx},{start:2434,length:2,convRule:Sx},{start:2437,length:8,convRule:sb},{start:2447,length:2,convRule:sb},{start:2451,length:22,convRule:sb},{start:2474,length:7,convRule:sb},{start:2482,length:1,convRule:sb},{start:2486,length:4,convRule:sb},{start:2492,length:1,convRule:yx},{start:2493,length:1,convRule:sb},{start:2494,length:3,convRule:Sx},{start:2497,length:4,convRule:yx},{start:2503,length:2,convRule:Sx},{start:2507,length:2,convRule:Sx},{start:2509,length:1,convRule:yx},{start:2510,length:1,convRule:sb},{start:2519,length:1,convRule:Sx},{start:2524,length:2,convRule:sb},{start:2527,length:3,convRule:sb},{start:2530,length:2,convRule:yx},{start:2534,length:10,convRule:Ox},{start:2544,length:2,convRule:sb},{start:2546,length:2,convRule:ix},{start:2548,length:6,convRule:vx},{start:2554,length:1,convRule:JO},{start:2555,length:1,convRule:ix},{start:2556,length:1,convRule:sb},{start:2557,length:1,convRule:ox},{start:2558,length:1,convRule:yx},{start:2561,length:2,convRule:yx},{start:2563,length:1,convRule:Sx},{start:2565,length:6,convRule:sb},{start:2575,length:2,convRule:sb},{start:2579,length:22,convRule:sb},{start:2602,length:7,convRule:sb},{start:2610,length:2,convRule:sb},{start:2613,length:2,convRule:sb},{start:2616,length:2,convRule:sb},{start:2620,length:1,convRule:yx},{start:2622,length:3,convRule:Sx},{start:2625,length:2,convRule:yx},{start:2631,length:2,convRule:yx},{start:2635,length:3,convRule:yx},{start:2641,length:1,convRule:yx},{start:2649,length:4,convRule:sb},{start:2654,length:1,convRule:sb},{start:2662,length:10,convRule:Ox},{start:2672,length:2,convRule:yx},{start:2674,length:3,convRule:sb},{start:2677,length:1,convRule:yx},{start:2678,length:1,convRule:ox},{start:2689,length:2,convRule:yx},{start:2691,length:1,convRule:Sx},{start:2693,length:9,convRule:sb},{start:2703,length:3,convRule:sb},{start:2707,length:22,convRule:sb},{start:2730,length:7,convRule:sb},{start:2738,length:2,convRule:sb},{start:2741,length:5,convRule:sb},{start:2748,length:1,convRule:yx},{start:2749,length:1,convRule:sb},{start:2750,length:3,convRule:Sx},{start:2753,length:5,convRule:yx},{start:2759,length:2,convRule:yx},{start:2761,length:1,convRule:Sx},{start:2763,length:2,convRule:Sx},{start:2765,length:1,convRule:yx},{start:2768,length:1,convRule:sb},{start:2784,length:2,convRule:sb},{start:2786,length:2,convRule:yx},{start:2790,length:10,convRule:Ox},{start:2800,length:1,convRule:ox},{start:2801,length:1,convRule:ix},{start:2809,length:1,convRule:sb},{start:2810,length:6,convRule:yx},{start:2817,length:1,convRule:yx},{start:2818,length:2,convRule:Sx},{start:2821,length:8,convRule:sb},{start:2831,length:2,convRule:sb},{start:2835,length:22,convRule:sb},{start:2858,length:7,convRule:sb},{start:2866,length:2,convRule:sb},{start:2869,length:5,convRule:sb},{start:2876,length:1,convRule:yx},{start:2877,length:1,convRule:sb},{start:2878,length:1,convRule:Sx},{start:2879,length:1,convRule:yx},{start:2880,length:1,convRule:Sx},{start:2881,length:4,convRule:yx},{start:2887,length:2,convRule:Sx},{start:2891,length:2,convRule:Sx},{start:2893,length:1,convRule:yx},{start:2901,length:2,convRule:yx},{start:2903,length:1,convRule:Sx},{start:2908,length:2,convRule:sb},{start:2911,length:3,convRule:sb},{start:2914,length:2,convRule:yx},{start:2918,length:10,convRule:Ox},{start:2928,length:1,convRule:JO},{start:2929,length:1,convRule:sb},{start:2930,length:6,convRule:vx},{start:2946,length:1,convRule:yx},{start:2947,length:1,convRule:sb},{start:2949,length:6,convRule:sb},{start:2958,length:3,convRule:sb},{start:2962,length:4,convRule:sb},{start:2969,length:2,convRule:sb},{start:2972,length:1,convRule:sb},{start:2974,length:2,convRule:sb},{start:2979,length:2,convRule:sb},{start:2984,length:3,convRule:sb},{start:2990,length:12,convRule:sb},{start:3006,length:2,convRule:Sx},{start:3008,length:1,convRule:yx},{start:3009,length:2,convRule:Sx},{start:3014,length:3,convRule:Sx},{start:3018,length:3,convRule:Sx},{start:3021,length:1,convRule:yx},{start:3024,length:1,convRule:sb},{start:3031,length:1,convRule:Sx},{start:3046,length:10,convRule:Ox},{start:3056,length:3,convRule:vx},{start:3059,length:6,convRule:JO},{start:3065,length:1,convRule:ix},{start:3066,length:1,convRule:JO},{start:3072,length:1,convRule:yx},{start:3073,length:3,convRule:Sx},{start:3076,length:1,convRule:yx},{start:3077,length:8,convRule:sb},{start:3086,length:3,convRule:sb},{start:3090,length:23,convRule:sb},{start:3114,length:16,convRule:sb},{start:3133,length:1,convRule:sb},{start:3134,length:3,convRule:yx},{start:3137,length:4,convRule:Sx},{start:3142,length:3,convRule:yx},{start:3146,length:4,convRule:yx},{start:3157,length:2,convRule:yx},{start:3160,length:3,convRule:sb},{start:3168,length:2,convRule:sb},{start:3170,length:2,convRule:yx},{start:3174,length:10,convRule:Ox},{start:3191,length:1,convRule:ox},{start:3192,length:7,convRule:vx},{start:3199,length:1,convRule:JO},{start:3200,length:1,convRule:sb},{start:3201,length:1,convRule:yx},{start:3202,length:2,convRule:Sx},{start:3204,length:1,convRule:ox},{start:3205,length:8,convRule:sb},{start:3214,length:3,convRule:sb},{start:3218,length:23,convRule:sb},{start:3242,length:10,convRule:sb},{start:3253,length:5,convRule:sb},{start:3260,length:1,convRule:yx},{start:3261,length:1,convRule:sb},{start:3262,length:1,convRule:Sx},{start:3263,length:1,convRule:yx},{start:3264,length:5,convRule:Sx},{start:3270,length:1,convRule:yx},{start:3271,length:2,convRule:Sx},{start:3274,length:2,convRule:Sx},{start:3276,length:2,convRule:yx},{start:3285,length:2,convRule:Sx},{start:3294,length:1,convRule:sb},{start:3296,length:2,convRule:sb},{start:3298,length:2,convRule:yx},{start:3302,length:10,convRule:Ox},{start:3313,length:2,convRule:sb},{start:3328,length:2,convRule:yx},{start:3330,length:2,convRule:Sx},{start:3332,length:9,convRule:sb},{start:3342,length:3,convRule:sb},{start:3346,length:41,convRule:sb},{start:3387,length:2,convRule:yx},{start:3389,length:1,convRule:sb},{start:3390,length:3,convRule:Sx},{start:3393,length:4,convRule:yx},{start:3398,length:3,convRule:Sx},{start:3402,length:3,convRule:Sx},{start:3405,length:1,convRule:yx},{start:3406,length:1,convRule:sb},{start:3407,length:1,convRule:JO},{start:3412,length:3,convRule:sb},{start:3415,length:1,convRule:Sx},{start:3416,length:7,convRule:vx},{start:3423,length:3,convRule:sb},{start:3426,length:2,convRule:yx},{start:3430,length:10,convRule:Ox},{start:3440,length:9,convRule:vx},{start:3449,length:1,convRule:JO},{start:3450,length:6,convRule:sb},{start:3457,length:1,convRule:yx},{start:3458,length:2,convRule:Sx},{start:3461,length:18,convRule:sb},{start:3482,length:24,convRule:sb},{start:3507,length:9,convRule:sb},{start:3517,length:1,convRule:sb},{start:3520,length:7,convRule:sb},{start:3530,length:1,convRule:yx},{start:3535,length:3,convRule:Sx},{start:3538,length:3,convRule:yx},{start:3542,length:1,convRule:yx},{start:3544,length:8,convRule:Sx},{start:3558,length:10,convRule:Ox},{start:3570,length:2,convRule:Sx},{start:3572,length:1,convRule:ox},{start:3585,length:48,convRule:sb},{start:3633,length:1,convRule:yx},{start:3634,length:2,convRule:sb},{start:3636,length:7,convRule:yx},{start:3647,length:1,convRule:ix},{start:3648,length:6,convRule:sb},{start:3654,length:1,convRule:lb},{start:3655,length:8,convRule:yx},{start:3663,length:1,convRule:ox},{start:3664,length:10,convRule:Ox},{start:3674,length:2,convRule:ox},{start:3713,length:2,convRule:sb},{start:3716,length:1,convRule:sb},{start:3718,length:5,convRule:sb},{start:3724,length:24,convRule:sb},{start:3749,length:1,convRule:sb},{start:3751,length:10,convRule:sb},{start:3761,length:1,convRule:yx},{start:3762,length:2,convRule:sb},{start:3764,length:9,convRule:yx},{start:3773,length:1,convRule:sb},{start:3776,length:5,convRule:sb},{start:3782,length:1,convRule:lb},{start:3784,length:6,convRule:yx},{start:3792,length:10,convRule:Ox},{start:3804,length:4,convRule:sb},{start:3840,length:1,convRule:sb},{start:3841,length:3,convRule:JO},{start:3844,length:15,convRule:ox},{start:3859,length:1,convRule:JO},{start:3860,length:1,convRule:ox},{start:3861,length:3,convRule:JO},{start:3864,length:2,convRule:yx},{start:3866,length:6,convRule:JO},{start:3872,length:10,convRule:Ox},{start:3882,length:10,convRule:vx},{start:3892,length:1,convRule:JO},{start:3893,length:1,convRule:yx},{start:3894,length:1,convRule:JO},{start:3895,length:1,convRule:yx},{start:3896,length:1,convRule:JO},{start:3897,length:1,convRule:yx},{start:3898,length:1,convRule:sx},{start:3899,length:1,convRule:cx},{start:3900,length:1,convRule:sx},{start:3901,length:1,convRule:cx},{start:3902,length:2,convRule:Sx},{start:3904,length:8,convRule:sb},{start:3913,length:36,convRule:sb},{start:3953,length:14,convRule:yx},{start:3967,length:1,convRule:Sx},{start:3968,length:5,convRule:yx},{start:3973,length:1,convRule:ox},{start:3974,length:2,convRule:yx},{start:3976,length:5,convRule:sb},{start:3981,length:11,convRule:yx},{start:3993,length:36,convRule:yx},{start:4030,length:8,convRule:JO},{start:4038,length:1,convRule:yx},{start:4039,length:6,convRule:JO},{start:4046,length:2,convRule:JO},{start:4048,length:5,convRule:ox},{start:4053,length:4,convRule:JO},{start:4057,length:2,convRule:ox},{start:4096,length:43,convRule:sb},{start:4139,length:2,convRule:Sx},{start:4141,length:4,convRule:yx},{start:4145,length:1,convRule:Sx},{start:4146,length:6,convRule:yx},{start:4152,length:1,convRule:Sx},{start:4153,length:2,convRule:yx},{start:4155,length:2,convRule:Sx},{start:4157,length:2,convRule:yx},{start:4159,length:1,convRule:sb},{start:4160,length:10,convRule:Ox},{start:4170,length:6,convRule:ox},{start:4176,length:6,convRule:sb},{start:4182,length:2,convRule:Sx},{start:4184,length:2,convRule:yx},{start:4186,length:4,convRule:sb},{start:4190,length:3,convRule:yx},{start:4193,length:1,convRule:sb},{start:4194,length:3,convRule:Sx},{start:4197,length:2,convRule:sb},{start:4199,length:7,convRule:Sx},{start:4206,length:3,convRule:sb},{start:4209,length:4,convRule:yx},{start:4213,length:13,convRule:sb},{start:4226,length:1,convRule:yx},{start:4227,length:2,convRule:Sx},{start:4229,length:2,convRule:yx},{start:4231,length:6,convRule:Sx},{start:4237,length:1,convRule:yx},{start:4238,length:1,convRule:sb},{start:4239,length:1,convRule:Sx},{start:4240,length:10,convRule:Ox},{start:4250,length:3,convRule:Sx},{start:4253,length:1,convRule:yx},{start:4254,length:2,convRule:JO},{start:4256,length:38,convRule:Nx},{start:4295,length:1,convRule:Nx},{start:4301,length:1,convRule:Nx},{start:4304,length:43,convRule:Tb},{start:4347,length:1,convRule:ox},{start:4348,length:1,convRule:lb},{start:4349,length:3,convRule:Tb},{start:4352,length:329,convRule:sb},{start:4682,length:4,convRule:sb},{start:4688,length:7,convRule:sb},{start:4696,length:1,convRule:sb},{start:4698,length:4,convRule:sb},{start:4704,length:41,convRule:sb},{start:4746,length:4,convRule:sb},{start:4752,length:33,convRule:sb},{start:4786,length:4,convRule:sb},{start:4792,length:7,convRule:sb},{start:4800,length:1,convRule:sb},{start:4802,length:4,convRule:sb},{start:4808,length:15,convRule:sb},{start:4824,length:57,convRule:sb},{start:4882,length:4,convRule:sb},{start:4888,length:67,convRule:sb},{start:4957,length:3,convRule:yx},{start:4960,length:9,convRule:ox},{start:4969,length:20,convRule:vx},{start:4992,length:16,convRule:sb},{start:5008,length:10,convRule:JO},{start:5024,length:80,convRule:$x},{start:5104,length:6,convRule:_x},{start:5112,length:6,convRule:mb},{start:5120,length:1,convRule:hx},{start:5121,length:620,convRule:sb},{start:5741,length:1,convRule:JO},{start:5742,length:1,convRule:ox},{start:5743,length:17,convRule:sb},{start:5760,length:1,convRule:GO},{start:5761,length:26,convRule:sb},{start:5787,length:1,convRule:sx},{start:5788,length:1,convRule:cx},{start:5792,length:75,convRule:sb},{start:5867,length:3,convRule:ox},{start:5870,length:3,convRule:px},{start:5873,length:8,convRule:sb},{start:5888,length:13,convRule:sb},{start:5902,length:4,convRule:sb},{start:5906,length:3,convRule:yx},{start:5920,length:18,convRule:sb},{start:5938,length:3,convRule:yx},{start:5941,length:2,convRule:ox},{start:5952,length:18,convRule:sb},{start:5970,length:2,convRule:yx},{start:5984,length:13,convRule:sb},{start:5998,length:3,convRule:sb},{start:6002,length:2,convRule:yx},{start:6016,length:52,convRule:sb},{start:6068,length:2,convRule:yx},{start:6070,length:1,convRule:Sx},{start:6071,length:7,convRule:yx},{start:6078,length:8,convRule:Sx},{start:6086,length:1,convRule:yx},{start:6087,length:2,convRule:Sx},{start:6089,length:11,convRule:yx},{start:6100,length:3,convRule:ox},{start:6103,length:1,convRule:lb},{start:6104,length:3,convRule:ox},{start:6107,length:1,convRule:ix},{start:6108,length:1,convRule:sb},{start:6109,length:1,convRule:yx},{start:6112,length:10,convRule:Ox},{start:6128,length:10,convRule:vx},{start:6144,length:6,convRule:ox},{start:6150,length:1,convRule:hx},{start:6151,length:4,convRule:ox},{start:6155,length:3,convRule:yx},{start:6158,length:1,convRule:Yk},{start:6160,length:10,convRule:Ox},{start:6176,length:35,convRule:sb},{start:6211,length:1,convRule:lb},{start:6212,length:53,convRule:sb},{start:6272,length:5,convRule:sb},{start:6277,length:2,convRule:yx},{start:6279,length:34,convRule:sb},{start:6313,length:1,convRule:yx},{start:6314,length:1,convRule:sb},{start:6320,length:70,convRule:sb},{start:6400,length:31,convRule:sb},{start:6432,length:3,convRule:yx},{start:6435,length:4,convRule:Sx},{start:6439,length:2,convRule:yx},{start:6441,length:3,convRule:Sx},{start:6448,length:2,convRule:Sx},{start:6450,length:1,convRule:yx},{start:6451,length:6,convRule:Sx},{start:6457,length:3,convRule:yx},{start:6464,length:1,convRule:JO},{start:6468,length:2,convRule:ox},{start:6470,length:10,convRule:Ox},{start:6480,length:30,convRule:sb},{start:6512,length:5,convRule:sb},{start:6528,length:44,convRule:sb},{start:6576,length:26,convRule:sb},{start:6608,length:10,convRule:Ox},{start:6618,length:1,convRule:vx},{start:6622,length:34,convRule:JO},{start:6656,length:23,convRule:sb},{start:6679,length:2,convRule:yx},{start:6681,length:2,convRule:Sx},{start:6683,length:1,convRule:yx},{start:6686,length:2,convRule:ox},{start:6688,length:53,convRule:sb},{start:6741,length:1,convRule:Sx},{start:6742,length:1,convRule:yx},{start:6743,length:1,convRule:Sx},{start:6744,length:7,convRule:yx},{start:6752,length:1,convRule:yx},{start:6753,length:1,convRule:Sx},{start:6754,length:1,convRule:yx},{start:6755,length:2,convRule:Sx},{start:6757,length:8,convRule:yx},{start:6765,length:6,convRule:Sx},{start:6771,length:10,convRule:yx},{start:6783,length:1,convRule:yx},{start:6784,length:10,convRule:Ox},{start:6800,length:10,convRule:Ox},{start:6816,length:7,convRule:ox},{start:6823,length:1,convRule:lb},{start:6824,length:6,convRule:ox},{start:6832,length:14,convRule:yx},{start:6846,length:1,convRule:Cx},{start:6847,length:2,convRule:yx},{start:6912,length:4,convRule:yx},{start:6916,length:1,convRule:Sx},{start:6917,length:47,convRule:sb},{start:6964,length:1,convRule:yx},{start:6965,length:1,convRule:Sx},{start:6966,length:5,convRule:yx},{start:6971,length:1,convRule:Sx},{start:6972,length:1,convRule:yx},{start:6973,length:5,convRule:Sx},{start:6978,length:1,convRule:yx},{start:6979,length:2,convRule:Sx},{start:6981,length:7,convRule:sb},{start:6992,length:10,convRule:Ox},{start:7002,length:7,convRule:ox},{start:7009,length:10,convRule:JO},{start:7019,length:9,convRule:yx},{start:7028,length:9,convRule:JO},{start:7040,length:2,convRule:yx},{start:7042,length:1,convRule:Sx},{start:7043,length:30,convRule:sb},{start:7073,length:1,convRule:Sx},{start:7074,length:4,convRule:yx},{start:7078,length:2,convRule:Sx},{start:7080,length:2,convRule:yx},{start:7082,length:1,convRule:Sx},{start:7083,length:3,convRule:yx},{start:7086,length:2,convRule:sb},{start:7088,length:10,convRule:Ox},{start:7098,length:44,convRule:sb},{start:7142,length:1,convRule:yx},{start:7143,length:1,convRule:Sx},{start:7144,length:2,convRule:yx},{start:7146,length:3,convRule:Sx},{start:7149,length:1,convRule:yx},{start:7150,length:1,convRule:Sx},{start:7151,length:3,convRule:yx},{start:7154,length:2,convRule:Sx},{start:7164,length:4,convRule:ox},{start:7168,length:36,convRule:sb},{start:7204,length:8,convRule:Sx},{start:7212,length:8,convRule:yx},{start:7220,length:2,convRule:Sx},{start:7222,length:2,convRule:yx},{start:7227,length:5,convRule:ox},{start:7232,length:10,convRule:Ox},{start:7245,length:3,convRule:sb},{start:7248,length:10,convRule:Ox},{start:7258,length:30,convRule:sb},{start:7288,length:6,convRule:lb},{start:7294,length:2,convRule:ox},{start:7296,length:1,convRule:Sb},{start:7297,length:1,convRule:Ab},{start:7298,length:1,convRule:Pb},{start:7299,length:2,convRule:_b},{start:7301,length:1,convRule:Eb},{start:7302,length:1,convRule:Lb},{start:7303,length:1,convRule:Db},{start:7304,length:1,convRule:Qb},{start:7312,length:43,convRule:Fx},{start:7357,length:3,convRule:Fx},{start:7360,length:8,convRule:ox},{start:7376,length:3,convRule:yx},{start:7379,length:1,convRule:ox},{start:7380,length:13,convRule:yx},{start:7393,length:1,convRule:Sx},{start:7394,length:7,convRule:yx},{start:7401,length:4,convRule:sb},{start:7405,length:1,convRule:yx},{start:7406,length:6,convRule:sb},{start:7412,length:1,convRule:yx},{start:7413,length:2,convRule:sb},{start:7415,length:1,convRule:Sx},{start:7416,length:2,convRule:yx},{start:7418,length:1,convRule:sb},{start:7424,length:44,convRule:nk},{start:7468,length:63,convRule:lb},{start:7531,length:13,convRule:nk},{start:7544,length:1,convRule:lb},{start:7545,length:1,convRule:Ib},{start:7546,length:3,convRule:nk},{start:7549,length:1,convRule:Mb},{start:7550,length:16,convRule:nk},{start:7566,length:1,convRule:Nb},{start:7567,length:12,convRule:nk},{start:7579,length:37,convRule:lb},{start:7616,length:58,convRule:yx},{start:7675,length:5,convRule:yx},{start:7680,length:1,convRule:xy},{start:7681,length:1,convRule:ok},{start:7682,length:1,convRule:xy},{start:7683,length:1,convRule:ok},{start:7684,length:1,convRule:xy},{start:7685,length:1,convRule:ok},{start:7686,length:1,convRule:xy},{start:7687,length:1,convRule:ok},{start:7688,length:1,convRule:xy},{start:7689,length:1,convRule:ok},{start:7690,length:1,convRule:xy},{start:7691,length:1,convRule:ok},{start:7692,length:1,convRule:xy},{start:7693,length:1,convRule:ok},{start:7694,length:1,convRule:xy},{start:7695,length:1,convRule:ok},{start:7696,length:1,convRule:xy},{start:7697,length:1,convRule:ok},{start:7698,length:1,convRule:xy},{start:7699,length:1,convRule:ok},{start:7700,length:1,convRule:xy},{start:7701,length:1,convRule:ok},{start:7702,length:1,convRule:xy},{start:7703,length:1,convRule:ok},{start:7704,length:1,convRule:xy},{start:7705,length:1,convRule:ok},{start:7706,length:1,convRule:xy},{start:7707,length:1,convRule:ok},{start:7708,length:1,convRule:xy},{start:7709,length:1,convRule:ok},{start:7710,length:1,convRule:xy},{start:7711,length:1,convRule:ok},{start:7712,length:1,convRule:xy},{start:7713,length:1,convRule:ok},{start:7714,length:1,convRule:xy},{start:7715,length:1,convRule:ok},{start:7716,length:1,convRule:xy},{start:7717,length:1,convRule:ok},{start:7718,length:1,convRule:xy},{start:7719,length:1,convRule:ok},{start:7720,length:1,convRule:xy},{start:7721,length:1,convRule:ok},{start:7722,length:1,convRule:xy},{start:7723,length:1,convRule:ok},{start:7724,length:1,convRule:xy},{start:7725,length:1,convRule:ok},{start:7726,length:1,convRule:xy},{start:7727,length:1,convRule:ok},{start:7728,length:1,convRule:xy},{start:7729,length:1,convRule:ok},{start:7730,length:1,convRule:xy},{start:7731,length:1,convRule:ok},{start:7732,length:1,convRule:xy},{start:7733,length:1,convRule:ok},{start:7734,length:1,convRule:xy},{start:7735,length:1,convRule:ok},{start:7736,length:1,convRule:xy},{start:7737,length:1,convRule:ok},{start:7738,length:1,convRule:xy},{start:7739,length:1,convRule:ok},{start:7740,length:1,convRule:xy},{start:7741,length:1,convRule:ok},{start:7742,length:1,convRule:xy},{start:7743,length:1,convRule:ok},{start:7744,length:1,convRule:xy},{start:7745,length:1,convRule:ok},{start:7746,length:1,convRule:xy},{start:7747,length:1,convRule:ok},{start:7748,length:1,convRule:xy},{start:7749,length:1,convRule:ok},{start:7750,length:1,convRule:xy},{start:7751,length:1,convRule:ok},{start:7752,length:1,convRule:xy},{start:7753,length:1,convRule:ok},{start:7754,length:1,convRule:xy},{start:7755,length:1,convRule:ok},{start:7756,length:1,convRule:xy},{start:7757,length:1,convRule:ok},{start:7758,length:1,convRule:xy},{start:7759,length:1,convRule:ok},{start:7760,length:1,convRule:xy},{start:7761,length:1,convRule:ok},{start:7762,length:1,convRule:xy},{start:7763,length:1,convRule:ok},{start:7764,length:1,convRule:xy},{start:7765,length:1,convRule:ok},{start:7766,length:1,convRule:xy},{start:7767,length:1,convRule:ok},{start:7768,length:1,convRule:xy},{start:7769,length:1,convRule:ok},{start:7770,length:1,convRule:xy},{start:7771,length:1,convRule:ok},{start:7772,length:1,convRule:xy},{start:7773,length:1,convRule:ok},{start:7774,length:1,convRule:xy},{start:7775,length:1,convRule:ok},{start:7776,length:1,convRule:xy},{start:7777,length:1,convRule:ok},{start:7778,length:1,convRule:xy},{start:7779,length:1,convRule:ok},{start:7780,length:1,convRule:xy},{start:7781,length:1,convRule:ok},{start:7782,length:1,convRule:xy},{start:7783,length:1,convRule:ok},{start:7784,length:1,convRule:xy},{start:7785,length:1,convRule:ok},{start:7786,length:1,convRule:xy},{start:7787,length:1,convRule:ok},{start:7788,length:1,convRule:xy},{start:7789,length:1,convRule:ok},{start:7790,length:1,convRule:xy},{start:7791,length:1,convRule:ok},{start:7792,length:1,convRule:xy},{start:7793,length:1,convRule:ok},{start:7794,length:1,convRule:xy},{start:7795,length:1,convRule:ok},{start:7796,length:1,convRule:xy},{start:7797,length:1,convRule:ok},{start:7798,length:1,convRule:xy},{start:7799,length:1,convRule:ok},{start:7800,length:1,convRule:xy},{start:7801,length:1,convRule:ok},{start:7802,length:1,convRule:xy},{start:7803,length:1,convRule:ok},{start:7804,length:1,convRule:xy},{start:7805,length:1,convRule:ok},{start:7806,length:1,convRule:xy},{start:7807,length:1,convRule:ok},{start:7808,length:1,convRule:xy},{start:7809,length:1,convRule:ok},{start:7810,length:1,convRule:xy},{start:7811,length:1,convRule:ok},{start:7812,length:1,convRule:xy},{start:7813,length:1,convRule:ok},{start:7814,length:1,convRule:xy},{start:7815,length:1,convRule:ok},{start:7816,length:1,convRule:xy},{start:7817,length:1,convRule:ok},{start:7818,length:1,convRule:xy},{start:7819,length:1,convRule:ok},{start:7820,length:1,convRule:xy},{start:7821,length:1,convRule:ok},{start:7822,length:1,convRule:xy},{start:7823,length:1,convRule:ok},{start:7824,length:1,convRule:xy},{start:7825,length:1,convRule:ok},{start:7826,length:1,convRule:xy},{start:7827,length:1,convRule:ok},{start:7828,length:1,convRule:xy},{start:7829,length:1,convRule:ok},{start:7830,length:5,convRule:nk},{start:7835,length:1,convRule:$b},{start:7836,length:2,convRule:nk},{start:7838,length:1,convRule:Bx},{start:7839,length:1,convRule:nk},{start:7840,length:1,convRule:xy},{start:7841,length:1,convRule:ok},{start:7842,length:1,convRule:xy},{start:7843,length:1,convRule:ok},{start:7844,length:1,convRule:xy},{start:7845,length:1,convRule:ok},{start:7846,length:1,convRule:xy},{start:7847,length:1,convRule:ok},{start:7848,length:1,convRule:xy},{start:7849,length:1,convRule:ok},{start:7850,length:1,convRule:xy},{start:7851,length:1,convRule:ok},{start:7852,length:1,convRule:xy},{start:7853,length:1,convRule:ok},{start:7854,length:1,convRule:xy},{start:7855,length:1,convRule:ok},{start:7856,length:1,convRule:xy},{start:7857,length:1,convRule:ok},{start:7858,length:1,convRule:xy},{start:7859,length:1,convRule:ok},{start:7860,length:1,convRule:xy},{start:7861,length:1,convRule:ok},{start:7862,length:1,convRule:xy},{start:7863,length:1,convRule:ok},{start:7864,length:1,convRule:xy},{start:7865,length:1,convRule:ok},{start:7866,length:1,convRule:xy},{start:7867,length:1,convRule:ok},{start:7868,length:1,convRule:xy},{start:7869,length:1,convRule:ok},{start:7870,length:1,convRule:xy},{start:7871,length:1,convRule:ok},{start:7872,length:1,convRule:xy},{start:7873,length:1,convRule:ok},{start:7874,length:1,convRule:xy},{start:7875,length:1,convRule:ok},{start:7876,length:1,convRule:xy},{start:7877,length:1,convRule:ok},{start:7878,length:1,convRule:xy},{start:7879,length:1,convRule:ok},{start:7880,length:1,convRule:xy},{start:7881,length:1,convRule:ok},{start:7882,length:1,convRule:xy},{start:7883,length:1,convRule:ok},{start:7884,length:1,convRule:xy},{start:7885,length:1,convRule:ok},{start:7886,length:1,convRule:xy},{start:7887,length:1,convRule:ok},{start:7888,length:1,convRule:xy},{start:7889,length:1,convRule:ok},{start:7890,length:1,convRule:xy},{start:7891,length:1,convRule:ok},{start:7892,length:1,convRule:xy},{start:7893,length:1,convRule:ok},{start:7894,length:1,convRule:xy},{start:7895,length:1,convRule:ok},{start:7896,length:1,convRule:xy},{start:7897,length:1,convRule:ok},{start:7898,length:1,convRule:xy},{start:7899,length:1,convRule:ok},{start:7900,length:1,convRule:xy},{start:7901,length:1,convRule:ok},{start:7902,length:1,convRule:xy},{start:7903,length:1,convRule:ok},{start:7904,length:1,convRule:xy},{start:7905,length:1,convRule:ok},{start:7906,length:1,convRule:xy},{start:7907,length:1,convRule:ok},{start:7908,length:1,convRule:xy},{start:7909,length:1,convRule:ok},{start:7910,length:1,convRule:xy},{start:7911,length:1,convRule:ok},{start:7912,length:1,convRule:xy},{start:7913,length:1,convRule:ok},{start:7914,length:1,convRule:xy},{start:7915,length:1,convRule:ok},{start:7916,length:1,convRule:xy},{start:7917,length:1,convRule:ok},{start:7918,length:1,convRule:xy},{start:7919,length:1,convRule:ok},{start:7920,length:1,convRule:xy},{start:7921,length:1,convRule:ok},{start:7922,length:1,convRule:xy},{start:7923,length:1,convRule:ok},{start:7924,length:1,convRule:xy},{start:7925,length:1,convRule:ok},{start:7926,length:1,convRule:xy},{start:7927,length:1,convRule:ok},{start:7928,length:1,convRule:xy},{start:7929,length:1,convRule:ok},{start:7930,length:1,convRule:xy},{start:7931,length:1,convRule:ok},{start:7932,length:1,convRule:xy},{start:7933,length:1,convRule:ok},{start:7934,length:1,convRule:xy},{start:7935,length:1,convRule:ok},{start:7936,length:8,convRule:Fb},{start:7944,length:8,convRule:Ux},{start:7952,length:6,convRule:Fb},{start:7960,length:6,convRule:Ux},{start:7968,length:8,convRule:Fb},{start:7976,length:8,convRule:Ux},{start:7984,length:8,convRule:Fb},{start:7992,length:8,convRule:Ux},{start:8e3,length:6,convRule:Fb},{start:8008,length:6,convRule:Ux},{start:8016,length:1,convRule:nk},{start:8017,length:1,convRule:Fb},{start:8018,length:1,convRule:nk},{start:8019,length:1,convRule:Fb},{start:8020,length:1,convRule:nk},{start:8021,length:1,convRule:Fb},{start:8022,length:1,convRule:nk},{start:8023,length:1,convRule:Fb},{start:8025,length:1,convRule:Ux},{start:8027,length:1,convRule:Ux},{start:8029,length:1,convRule:Ux},{start:8031,length:1,convRule:Ux},{start:8032,length:8,convRule:Fb},{start:8040,length:8,convRule:Ux},{start:8048,length:2,convRule:Bb},{start:8050,length:4,convRule:Ub},{start:8054,length:2,convRule:Hb},{start:8056,length:2,convRule:qb},{start:8058,length:2,convRule:Vb},{start:8060,length:2,convRule:Xb},{start:8064,length:8,convRule:Fb},{start:8072,length:8,convRule:eb},{start:8080,length:8,convRule:Fb},{start:8088,length:8,convRule:eb},{start:8096,length:8,convRule:Fb},{start:8104,length:8,convRule:eb},{start:8112,length:2,convRule:Fb},{start:8114,length:1,convRule:nk},{start:8115,length:1,convRule:zb},{start:8116,length:1,convRule:nk},{start:8118,length:2,convRule:nk},{start:8120,length:2,convRule:Ux},{start:8122,length:2,convRule:Hx},{start:8124,length:1,convRule:nb},{start:8125,length:1,convRule:rx},{start:8126,length:1,convRule:Wb},{start:8127,length:3,convRule:rx},{start:8130,length:1,convRule:nk},{start:8131,length:1,convRule:zb},{start:8132,length:1,convRule:nk},{start:8134,length:2,convRule:nk},{start:8136,length:4,convRule:qx},{start:8140,length:1,convRule:nb},{start:8141,length:3,convRule:rx},{start:8144,length:2,convRule:Fb},{start:8146,length:2,convRule:nk},{start:8150,length:2,convRule:nk},{start:8152,length:2,convRule:Ux},{start:8154,length:2,convRule:Vx},{start:8157,length:3,convRule:rx},{start:8160,length:2,convRule:Fb},{start:8162,length:3,convRule:nk},{start:8165,length:1,convRule:Ob},{start:8166,length:2,convRule:nk},{start:8168,length:2,convRule:Ux},{start:8170,length:2,convRule:Xx},{start:8172,length:1,convRule:Dx},{start:8173,length:3,convRule:rx},{start:8178,length:1,convRule:nk},{start:8179,length:1,convRule:zb},{start:8180,length:1,convRule:nk},{start:8182,length:2,convRule:nk},{start:8184,length:2,convRule:zx},{start:8186,length:2,convRule:Wx},{start:8188,length:1,convRule:nb},{start:8189,length:2,convRule:rx},{start:8192,length:11,convRule:GO},{start:8203,length:5,convRule:Yk},{start:8208,length:6,convRule:hx},{start:8214,length:2,convRule:ox},{start:8216,length:1,convRule:lx},{start:8217,length:1,convRule:ux},{start:8218,length:1,convRule:sx},{start:8219,length:2,convRule:lx},{start:8221,length:1,convRule:ux},{start:8222,length:1,convRule:sx},{start:8223,length:1,convRule:lx},{start:8224,length:8,convRule:ox},{start:8232,length:1,convRule:ZO},{start:8233,length:1,convRule:YO},{start:8234,length:5,convRule:Yk},{start:8239,length:1,convRule:GO},{start:8240,length:9,convRule:ox},{start:8249,length:1,convRule:lx},{start:8250,length:1,convRule:ux},{start:8251,length:4,convRule:ox},{start:8255,length:2,convRule:fx},{start:8257,length:3,convRule:ox},{start:8260,length:1,convRule:nx},{start:8261,length:1,convRule:sx},{start:8262,length:1,convRule:cx},{start:8263,length:11,convRule:ox},{start:8274,length:1,convRule:nx},{start:8275,length:1,convRule:ox},{start:8276,length:1,convRule:fx},{start:8277,length:10,convRule:ox},{start:8287,length:1,convRule:GO},{start:8288,length:5,convRule:Yk},{start:8294,length:10,convRule:Yk},{start:8304,length:1,convRule:vx},{start:8305,length:1,convRule:lb},{start:8308,length:6,convRule:vx},{start:8314,length:3,convRule:nx},{start:8317,length:1,convRule:sx},{start:8318,length:1,convRule:cx},{start:8319,length:1,convRule:lb},{start:8320,length:10,convRule:vx},{start:8330,length:3,convRule:nx},{start:8333,length:1,convRule:sx},{start:8334,length:1,convRule:cx},{start:8336,length:13,convRule:lb},{start:8352,length:32,convRule:ix},{start:8400,length:13,convRule:yx},{start:8413,length:4,convRule:Cx},{start:8417,length:1,convRule:yx},{start:8418,length:3,convRule:Cx},{start:8421,length:12,convRule:yx},{start:8448,length:2,convRule:JO},{start:8450,length:1,convRule:Ex},{start:8451,length:4,convRule:JO},{start:8455,length:1,convRule:Ex},{start:8456,length:2,convRule:JO},{start:8458,length:1,convRule:nk},{start:8459,length:3,convRule:Ex},{start:8462,length:2,convRule:nk},{start:8464,length:3,convRule:Ex},{start:8467,length:1,convRule:nk},{start:8468,length:1,convRule:JO},{start:8469,length:1,convRule:Ex},{start:8470,length:2,convRule:JO},{start:8472,length:1,convRule:nx},{start:8473,length:5,convRule:Ex},{start:8478,length:6,convRule:JO},{start:8484,length:1,convRule:Ex},{start:8485,length:1,convRule:JO},{start:8486,length:1,convRule:jx},{start:8487,length:1,convRule:JO},{start:8488,length:1,convRule:Ex},{start:8489,length:1,convRule:JO},{start:8490,length:1,convRule:Gx},{start:8491,length:1,convRule:Yx},{start:8492,length:2,convRule:Ex},{start:8494,length:1,convRule:JO},{start:8495,length:1,convRule:nk},{start:8496,length:2,convRule:Ex},{start:8498,length:1,convRule:Zx},{start:8499,length:1,convRule:Ex},{start:8500,length:1,convRule:nk},{start:8501,length:4,convRule:sb},{start:8505,length:1,convRule:nk},{start:8506,length:2,convRule:JO},{start:8508,length:2,convRule:nk},{start:8510,length:2,convRule:Ex},{start:8512,length:5,convRule:nx},{start:8517,length:1,convRule:Ex},{start:8518,length:4,convRule:nk},{start:8522,length:1,convRule:JO},{start:8523,length:1,convRule:nx},{start:8524,length:2,convRule:JO},{start:8526,length:1,convRule:jb},{start:8527,length:1,convRule:JO},{start:8528,length:16,convRule:vx},{start:8544,length:16,convRule:mx},{start:8560,length:16,convRule:Rx},{start:8576,length:3,convRule:px},{start:8579,length:1,convRule:xy},{start:8580,length:1,convRule:ok},{start:8581,length:4,convRule:px},{start:8585,length:1,convRule:vx},{start:8586,length:2,convRule:JO},{start:8592,length:5,convRule:nx},{start:8597,length:5,convRule:JO},{start:8602,length:2,convRule:nx},{start:8604,length:4,convRule:JO},{start:8608,length:1,convRule:nx},{start:8609,length:2,convRule:JO},{start:8611,length:1,convRule:nx},{start:8612,length:2,convRule:JO},{start:8614,length:1,convRule:nx},{start:8615,length:7,convRule:JO},{start:8622,length:1,convRule:nx},{start:8623,length:31,convRule:JO},{start:8654,length:2,convRule:nx},{start:8656,length:2,convRule:JO},{start:8658,length:1,convRule:nx},{start:8659,length:1,convRule:JO},{start:8660,length:1,convRule:nx},{start:8661,length:31,convRule:JO},{start:8692,length:268,convRule:nx},{start:8960,length:8,convRule:JO},{start:8968,length:1,convRule:sx},{start:8969,length:1,convRule:cx},{start:8970,length:1,convRule:sx},{start:8971,length:1,convRule:cx},{start:8972,length:20,convRule:JO},{start:8992,length:2,convRule:nx},{start:8994,length:7,convRule:JO},{start:9001,length:1,convRule:sx},{start:9002,length:1,convRule:cx},{start:9003,length:81,convRule:JO},{start:9084,length:1,convRule:nx},{start:9085,length:30,convRule:JO},{start:9115,length:25,convRule:nx},{start:9140,length:40,convRule:JO},{start:9180,length:6,convRule:nx},{start:9186,length:69,convRule:JO},{start:9280,length:11,convRule:JO},{start:9312,length:60,convRule:vx},{start:9372,length:26,convRule:JO},{start:9398,length:26,convRule:tx},{start:9424,length:26,convRule:ex},{start:9450,length:22,convRule:vx},{start:9472,length:183,convRule:JO},{start:9655,length:1,convRule:nx},{start:9656,length:9,convRule:JO},{start:9665,length:1,convRule:nx},{start:9666,length:54,convRule:JO},{start:9720,length:8,convRule:nx},{start:9728,length:111,convRule:JO},{start:9839,length:1,convRule:nx},{start:9840,length:248,convRule:JO},{start:10088,length:1,convRule:sx},{start:10089,length:1,convRule:cx},{start:10090,length:1,convRule:sx},{start:10091,length:1,convRule:cx},{start:10092,length:1,convRule:sx},{start:10093,length:1,convRule:cx},{start:10094,length:1,convRule:sx},{start:10095,length:1,convRule:cx},{start:10096,length:1,convRule:sx},{start:10097,length:1,convRule:cx},{start:10098,length:1,convRule:sx},{start:10099,length:1,convRule:cx},{start:10100,length:1,convRule:sx},{start:10101,length:1,convRule:cx},{start:10102,length:30,convRule:vx},{start:10132,length:44,convRule:JO},{start:10176,length:5,convRule:nx},{start:10181,length:1,convRule:sx},{start:10182,length:1,convRule:cx},{start:10183,length:31,convRule:nx},{start:10214,length:1,convRule:sx},{start:10215,length:1,convRule:cx},{start:10216,length:1,convRule:sx},{start:10217,length:1,convRule:cx},{start:10218,length:1,convRule:sx},{start:10219,length:1,convRule:cx},{start:10220,length:1,convRule:sx},{start:10221,length:1,convRule:cx},{start:10222,length:1,convRule:sx},{start:10223,length:1,convRule:cx},{start:10224,length:16,convRule:nx},{start:10240,length:256,convRule:JO},{start:10496,length:131,convRule:nx},{start:10627,length:1,convRule:sx},{start:10628,length:1,convRule:cx},{start:10629,length:1,convRule:sx},{start:10630,length:1,convRule:cx},{start:10631,length:1,convRule:sx},{start:10632,length:1,convRule:cx},{start:10633,length:1,convRule:sx},{start:10634,length:1,convRule:cx},{start:10635,length:1,convRule:sx},{start:10636,length:1,convRule:cx},{start:10637,length:1,convRule:sx},{start:10638,length:1,convRule:cx},{start:10639,length:1,convRule:sx},{start:10640,length:1,convRule:cx},{start:10641,length:1,convRule:sx},{start:10642,length:1,convRule:cx},{start:10643,length:1,convRule:sx},{start:10644,length:1,convRule:cx},{start:10645,length:1,convRule:sx},{start:10646,length:1,convRule:cx},{start:10647,length:1,convRule:sx},{start:10648,length:1,convRule:cx},{start:10649,length:63,convRule:nx},{start:10712,length:1,convRule:sx},{start:10713,length:1,convRule:cx},{start:10714,length:1,convRule:sx},{start:10715,length:1,convRule:cx},{start:10716,length:32,convRule:nx},{start:10748,length:1,convRule:sx},{start:10749,length:1,convRule:cx},{start:10750,length:258,convRule:nx},{start:11008,length:48,convRule:JO},{start:11056,length:21,convRule:nx},{start:11077,length:2,convRule:JO},{start:11079,length:6,convRule:nx},{start:11085,length:39,convRule:JO},{start:11126,length:32,convRule:JO},{start:11159,length:105,convRule:JO},{start:11264,length:47,convRule:Mx},{start:11312,length:47,convRule:Cb},{start:11360,length:1,convRule:xy},{start:11361,length:1,convRule:ok},{start:11362,length:1,convRule:Kx},{start:11363,length:1,convRule:Jx},{start:11364,length:1,convRule:ty},{start:11365,length:1,convRule:Gb},{start:11366,length:1,convRule:Yb},{start:11367,length:1,convRule:xy},{start:11368,length:1,convRule:ok},{start:11369,length:1,convRule:xy},{start:11370,length:1,convRule:ok},{start:11371,length:1,convRule:xy},{start:11372,length:1,convRule:ok},{start:11373,length:1,convRule:ey},{start:11374,length:1,convRule:ny},{start:11375,length:1,convRule:ry},{start:11376,length:1,convRule:iy},{start:11377,length:1,convRule:nk},{start:11378,length:1,convRule:xy},{start:11379,length:1,convRule:ok},{start:11380,length:1,convRule:nk},{start:11381,length:1,convRule:xy},{start:11382,length:1,convRule:ok},{start:11383,length:5,convRule:nk},{start:11388,length:2,convRule:lb},{start:11390,length:2,convRule:sy},{start:11392,length:1,convRule:xy},{start:11393,length:1,convRule:ok},{start:11394,length:1,convRule:xy},{start:11395,length:1,convRule:ok},{start:11396,length:1,convRule:xy},{start:11397,length:1,convRule:ok},{start:11398,length:1,convRule:xy},{start:11399,length:1,convRule:ok},{start:11400,length:1,convRule:xy},{start:11401,length:1,convRule:ok},{start:11402,length:1,convRule:xy},{start:11403,length:1,convRule:ok},{start:11404,length:1,convRule:xy},{start:11405,length:1,convRule:ok},{start:11406,length:1,convRule:xy},{start:11407,length:1,convRule:ok},{start:11408,length:1,convRule:xy},{start:11409,length:1,convRule:ok},{start:11410,length:1,convRule:xy},{start:11411,length:1,convRule:ok},{start:11412,length:1,convRule:xy},{start:11413,length:1,convRule:ok},{start:11414,length:1,convRule:xy},{start:11415,length:1,convRule:ok},{start:11416,length:1,convRule:xy},{start:11417,length:1,convRule:ok},{start:11418,length:1,convRule:xy},{start:11419,length:1,convRule:ok},{start:11420,length:1,convRule:xy},{start:11421,length:1,convRule:ok},{start:11422,length:1,convRule:xy},{start:11423,length:1,convRule:ok},{start:11424,length:1,convRule:xy},{start:11425,length:1,convRule:ok},{start:11426,length:1,convRule:xy},{start:11427,length:1,convRule:ok},{start:11428,length:1,convRule:xy},{start:11429,length:1,convRule:ok},{start:11430,length:1,convRule:xy},{start:11431,length:1,convRule:ok},{start:11432,length:1,convRule:xy},{start:11433,length:1,convRule:ok},{start:11434,length:1,convRule:xy},{start:11435,length:1,convRule:ok},{start:11436,length:1,convRule:xy},{start:11437,length:1,convRule:ok},{start:11438,length:1,convRule:xy},{start:11439,length:1,convRule:ok},{start:11440,length:1,convRule:xy},{start:11441,length:1,convRule:ok},{start:11442,length:1,convRule:xy},{start:11443,length:1,convRule:ok},{start:11444,length:1,convRule:xy},{start:11445,length:1,convRule:ok},{start:11446,length:1,convRule:xy},{start:11447,length:1,convRule:ok},{start:11448,length:1,convRule:xy},{start:11449,length:1,convRule:ok},{start:11450,length:1,convRule:xy},{start:11451,length:1,convRule:ok},{start:11452,length:1,convRule:xy},{start:11453,length:1,convRule:ok},{start:11454,length:1,convRule:xy},{start:11455,length:1,convRule:ok},{start:11456,length:1,convRule:xy},{start:11457,length:1,convRule:ok},{start:11458,length:1,convRule:xy},{start:11459,length:1,convRule:ok},{start:11460,length:1,convRule:xy},{start:11461,length:1,convRule:ok},{start:11462,length:1,convRule:xy},{start:11463,length:1,convRule:ok},{start:11464,length:1,convRule:xy},{start:11465,length:1,convRule:ok},{start:11466,length:1,convRule:xy},{start:11467,length:1,convRule:ok},{start:11468,length:1,convRule:xy},{start:11469,length:1,convRule:ok},{start:11470,length:1,convRule:xy},{start:11471,length:1,convRule:ok},{start:11472,length:1,convRule:xy},{start:11473,length:1,convRule:ok},{start:11474,length:1,convRule:xy},{start:11475,length:1,convRule:ok},{start:11476,length:1,convRule:xy},{start:11477,length:1,convRule:ok},{start:11478,length:1,convRule:xy},{start:11479,length:1,convRule:ok},{start:11480,length:1,convRule:xy},{start:11481,length:1,convRule:ok},{start:11482,length:1,convRule:xy},{start:11483,length:1,convRule:ok},{start:11484,length:1,convRule:xy},{start:11485,length:1,convRule:ok},{start:11486,length:1,convRule:xy},{start:11487,length:1,convRule:ok},{start:11488,length:1,convRule:xy},{start:11489,length:1,convRule:ok},{start:11490,length:1,convRule:xy},{start:11491,length:1,convRule:ok},{start:11492,length:1,convRule:nk},{start:11493,length:6,convRule:JO},{start:11499,length:1,convRule:xy},{start:11500,length:1,convRule:ok},{start:11501,length:1,convRule:xy},{start:11502,length:1,convRule:ok},{start:11503,length:3,convRule:yx},{start:11506,length:1,convRule:xy},{start:11507,length:1,convRule:ok},{start:11513,length:4,convRule:ox},{start:11517,length:1,convRule:vx},{start:11518,length:2,convRule:ox},{start:11520,length:38,convRule:Kb},{start:11559,length:1,convRule:Kb},{start:11565,length:1,convRule:Kb},{start:11568,length:56,convRule:sb},{start:11631,length:1,convRule:lb},{start:11632,length:1,convRule:ox},{start:11647,length:1,convRule:yx},{start:11648,length:23,convRule:sb},{start:11680,length:7,convRule:sb},{start:11688,length:7,convRule:sb},{start:11696,length:7,convRule:sb},{start:11704,length:7,convRule:sb},{start:11712,length:7,convRule:sb},{start:11720,length:7,convRule:sb},{start:11728,length:7,convRule:sb},{start:11736,length:7,convRule:sb},{start:11744,length:32,convRule:yx},{start:11776,length:2,convRule:ox},{start:11778,length:1,convRule:lx},{start:11779,length:1,convRule:ux},{start:11780,length:1,convRule:lx},{start:11781,length:1,convRule:ux},{start:11782,length:3,convRule:ox},{start:11785,length:1,convRule:lx},{start:11786,length:1,convRule:ux},{start:11787,length:1,convRule:ox},{start:11788,length:1,convRule:lx},{start:11789,length:1,convRule:ux},{start:11790,length:9,convRule:ox},{start:11799,length:1,convRule:hx},{start:11800,length:2,convRule:ox},{start:11802,length:1,convRule:hx},{start:11803,length:1,convRule:ox},{start:11804,length:1,convRule:lx},{start:11805,length:1,convRule:ux},{start:11806,length:2,convRule:ox},{start:11808,length:1,convRule:lx},{start:11809,length:1,convRule:ux},{start:11810,length:1,convRule:sx},{start:11811,length:1,convRule:cx},{start:11812,length:1,convRule:sx},{start:11813,length:1,convRule:cx},{start:11814,length:1,convRule:sx},{start:11815,length:1,convRule:cx},{start:11816,length:1,convRule:sx},{start:11817,length:1,convRule:cx},{start:11818,length:5,convRule:ox},{start:11823,length:1,convRule:lb},{start:11824,length:10,convRule:ox},{start:11834,length:2,convRule:hx},{start:11836,length:4,convRule:ox},{start:11840,length:1,convRule:hx},{start:11841,length:1,convRule:ox},{start:11842,length:1,convRule:sx},{start:11843,length:13,convRule:ox},{start:11856,length:2,convRule:JO},{start:11858,length:1,convRule:ox},{start:11904,length:26,convRule:JO},{start:11931,length:89,convRule:JO},{start:12032,length:214,convRule:JO},{start:12272,length:12,convRule:JO},{start:12288,length:1,convRule:GO},{start:12289,length:3,convRule:ox},{start:12292,length:1,convRule:JO},{start:12293,length:1,convRule:lb},{start:12294,length:1,convRule:sb},{start:12295,length:1,convRule:px},{start:12296,length:1,convRule:sx},{start:12297,length:1,convRule:cx},{start:12298,length:1,convRule:sx},{start:12299,length:1,convRule:cx},{start:12300,length:1,convRule:sx},{start:12301,length:1,convRule:cx},{start:12302,length:1,convRule:sx},{start:12303,length:1,convRule:cx},{start:12304,length:1,convRule:sx},{start:12305,length:1,convRule:cx},{start:12306,length:2,convRule:JO},{start:12308,length:1,convRule:sx},{start:12309,length:1,convRule:cx},{start:12310,length:1,convRule:sx},{start:12311,length:1,convRule:cx},{start:12312,length:1,convRule:sx},{start:12313,length:1,convRule:cx},{start:12314,length:1,convRule:sx},{start:12315,length:1,convRule:cx},{start:12316,length:1,convRule:hx},{start:12317,length:1,convRule:sx},{start:12318,length:2,convRule:cx},{start:12320,length:1,convRule:JO},{start:12321,length:9,convRule:px},{start:12330,length:4,convRule:yx},{start:12334,length:2,convRule:Sx},{start:12336,length:1,convRule:hx},{start:12337,length:5,convRule:lb},{start:12342,length:2,convRule:JO},{start:12344,length:3,convRule:px},{start:12347,length:1,convRule:lb},{start:12348,length:1,convRule:sb},{start:12349,length:1,convRule:ox},{start:12350,length:2,convRule:JO},{start:12353,length:86,convRule:sb},{start:12441,length:2,convRule:yx},{start:12443,length:2,convRule:rx},{start:12445,length:2,convRule:lb},{start:12447,length:1,convRule:sb},{start:12448,length:1,convRule:hx},{start:12449,length:90,convRule:sb},{start:12539,length:1,convRule:ox},{start:12540,length:3,convRule:lb},{start:12543,length:1,convRule:sb},{start:12549,length:43,convRule:sb},{start:12593,length:94,convRule:sb},{start:12688,length:2,convRule:JO},{start:12690,length:4,convRule:vx},{start:12694,length:10,convRule:JO},{start:12704,length:32,convRule:sb},{start:12736,length:36,convRule:JO},{start:12784,length:16,convRule:sb},{start:12800,length:31,convRule:JO},{start:12832,length:10,convRule:vx},{start:12842,length:30,convRule:JO},{start:12872,length:8,convRule:vx},{start:12880,length:1,convRule:JO},{start:12881,length:15,convRule:vx},{start:12896,length:32,convRule:JO},{start:12928,length:10,convRule:vx},{start:12938,length:39,convRule:JO},{start:12977,length:15,convRule:vx},{start:12992,length:320,convRule:JO},{start:13312,length:6592,convRule:sb},{start:19904,length:64,convRule:JO},{start:19968,length:20989,convRule:sb},{start:40960,length:21,convRule:sb},{start:40981,length:1,convRule:lb},{start:40982,length:1143,convRule:sb},{start:42128,length:55,convRule:JO},{start:42192,length:40,convRule:sb},{start:42232,length:6,convRule:lb},{start:42238,length:2,convRule:ox},{start:42240,length:268,convRule:sb},{start:42508,length:1,convRule:lb},{start:42509,length:3,convRule:ox},{start:42512,length:16,convRule:sb},{start:42528,length:10,convRule:Ox},{start:42538,length:2,convRule:sb},{start:42560,length:1,convRule:xy},{start:42561,length:1,convRule:ok},{start:42562,length:1,convRule:xy},{start:42563,length:1,convRule:ok},{start:42564,length:1,convRule:xy},{start:42565,length:1,convRule:ok},{start:42566,length:1,convRule:xy},{start:42567,length:1,convRule:ok},{start:42568,length:1,convRule:xy},{start:42569,length:1,convRule:ok},{start:42570,length:1,convRule:xy},{start:42571,length:1,convRule:ok},{start:42572,length:1,convRule:xy},{start:42573,length:1,convRule:ok},{start:42574,length:1,convRule:xy},{start:42575,length:1,convRule:ok},{start:42576,length:1,convRule:xy},{start:42577,length:1,convRule:ok},{start:42578,length:1,convRule:xy},{start:42579,length:1,convRule:ok},{start:42580,length:1,convRule:xy},{start:42581,length:1,convRule:ok},{start:42582,length:1,convRule:xy},{start:42583,length:1,convRule:ok},{start:42584,length:1,convRule:xy},{start:42585,length:1,convRule:ok},{start:42586,length:1,convRule:xy},{start:42587,length:1,convRule:ok},{start:42588,length:1,convRule:xy},{start:42589,length:1,convRule:ok},{start:42590,length:1,convRule:xy},{start:42591,length:1,convRule:ok},{start:42592,length:1,convRule:xy},{start:42593,length:1,convRule:ok},{start:42594,length:1,convRule:xy},{start:42595,length:1,convRule:ok},{start:42596,length:1,convRule:xy},{start:42597,length:1,convRule:ok},{start:42598,length:1,convRule:xy},{start:42599,length:1,convRule:ok},{start:42600,length:1,convRule:xy},{start:42601,length:1,convRule:ok},{start:42602,length:1,convRule:xy},{start:42603,length:1,convRule:ok},{start:42604,length:1,convRule:xy},{start:42605,length:1,convRule:ok},{start:42606,length:1,convRule:sb},{start:42607,length:1,convRule:yx},{start:42608,length:3,convRule:Cx},{start:42611,length:1,convRule:ox},{start:42612,length:10,convRule:yx},{start:42622,length:1,convRule:ox},{start:42623,length:1,convRule:lb},{start:42624,length:1,convRule:xy},{start:42625,length:1,convRule:ok},{start:42626,length:1,convRule:xy},{start:42627,length:1,convRule:ok},{start:42628,length:1,convRule:xy},{start:42629,length:1,convRule:ok},{start:42630,length:1,convRule:xy},{start:42631,length:1,convRule:ok},{start:42632,length:1,convRule:xy},{start:42633,length:1,convRule:ok},{start:42634,length:1,convRule:xy},{start:42635,length:1,convRule:ok},{start:42636,length:1,convRule:xy},{start:42637,length:1,convRule:ok},{start:42638,length:1,convRule:xy},{start:42639,length:1,convRule:ok},{start:42640,length:1,convRule:xy},{start:42641,length:1,convRule:ok},{start:42642,length:1,convRule:xy},{start:42643,length:1,convRule:ok},{start:42644,length:1,convRule:xy},{start:42645,length:1,convRule:ok},{start:42646,length:1,convRule:xy},{start:42647,length:1,convRule:ok},{start:42648,length:1,convRule:xy},{start:42649,length:1,convRule:ok},{start:42650,length:1,convRule:xy},{start:42651,length:1,convRule:ok},{start:42652,length:2,convRule:lb},{start:42654,length:2,convRule:yx},{start:42656,length:70,convRule:sb},{start:42726,length:10,convRule:px},{start:42736,length:2,convRule:yx},{start:42738,length:6,convRule:ox},{start:42752,length:23,convRule:rx},{start:42775,length:9,convRule:lb},{start:42784,length:2,convRule:rx},{start:42786,length:1,convRule:xy},{start:42787,length:1,convRule:ok},{start:42788,length:1,convRule:xy},{start:42789,length:1,convRule:ok},{start:42790,length:1,convRule:xy},{start:42791,length:1,convRule:ok},{start:42792,length:1,convRule:xy},{start:42793,length:1,convRule:ok},{start:42794,length:1,convRule:xy},{start:42795,length:1,convRule:ok},{start:42796,length:1,convRule:xy},{start:42797,length:1,convRule:ok},{start:42798,length:1,convRule:xy},{start:42799,length:1,convRule:ok},{start:42800,length:2,convRule:nk},{start:42802,length:1,convRule:xy},{start:42803,length:1,convRule:ok},{start:42804,length:1,convRule:xy},{start:42805,length:1,convRule:ok},{start:42806,length:1,convRule:xy},{start:42807,length:1,convRule:ok},{start:42808,length:1,convRule:xy},{start:42809,length:1,convRule:ok},{start:42810,length:1,convRule:xy},{start:42811,length:1,convRule:ok},{start:42812,length:1,convRule:xy},{start:42813,length:1,convRule:ok},{start:42814,length:1,convRule:xy},{start:42815,length:1,convRule:ok},{start:42816,length:1,convRule:xy},{start:42817,length:1,convRule:ok},{start:42818,length:1,convRule:xy},{start:42819,length:1,convRule:ok},{start:42820,length:1,convRule:xy},{start:42821,length:1,convRule:ok},{start:42822,length:1,convRule:xy},{start:42823,length:1,convRule:ok},{start:42824,length:1,convRule:xy},{start:42825,length:1,convRule:ok},{start:42826,length:1,convRule:xy},{start:42827,length:1,convRule:ok},{start:42828,length:1,convRule:xy},{start:42829,length:1,convRule:ok},{start:42830,length:1,convRule:xy},{start:42831,length:1,convRule:ok},{start:42832,length:1,convRule:xy},{start:42833,length:1,convRule:ok},{start:42834,length:1,convRule:xy},{start:42835,length:1,convRule:ok},{start:42836,length:1,convRule:xy},{start:42837,length:1,convRule:ok},{start:42838,length:1,convRule:xy},{start:42839,length:1,convRule:ok},{start:42840,length:1,convRule:xy},{start:42841,length:1,convRule:ok},{start:42842,length:1,convRule:xy},{start:42843,length:1,convRule:ok},{start:42844,length:1,convRule:xy},{start:42845,length:1,convRule:ok},{start:42846,length:1,convRule:xy},{start:42847,length:1,convRule:ok},{start:42848,length:1,convRule:xy},{start:42849,length:1,convRule:ok},{start:42850,length:1,convRule:xy},{start:42851,length:1,convRule:ok},{start:42852,length:1,convRule:xy},{start:42853,length:1,convRule:ok},{start:42854,length:1,convRule:xy},{start:42855,length:1,convRule:ok},{start:42856,length:1,convRule:xy},{start:42857,length:1,convRule:ok},{start:42858,length:1,convRule:xy},{start:42859,length:1,convRule:ok},{start:42860,length:1,convRule:xy},{start:42861,length:1,convRule:ok},{start:42862,length:1,convRule:xy},{start:42863,length:1,convRule:ok},{start:42864,length:1,convRule:lb},{start:42865,length:8,convRule:nk},{start:42873,length:1,convRule:xy},{start:42874,length:1,convRule:ok},{start:42875,length:1,convRule:xy},{start:42876,length:1,convRule:ok},{start:42877,length:1,convRule:oy},{start:42878,length:1,convRule:xy},{start:42879,length:1,convRule:ok},{start:42880,length:1,convRule:xy},{start:42881,length:1,convRule:ok},{start:42882,length:1,convRule:xy},{start:42883,length:1,convRule:ok},{start:42884,length:1,convRule:xy},{start:42885,length:1,convRule:ok},{start:42886,length:1,convRule:xy},{start:42887,length:1,convRule:ok},{start:42888,length:1,convRule:lb},{start:42889,length:2,convRule:rx},{start:42891,length:1,convRule:xy},{start:42892,length:1,convRule:ok},{start:42893,length:1,convRule:ly},{start:42894,length:1,convRule:nk},{start:42895,length:1,convRule:sb},{start:42896,length:1,convRule:xy},{start:42897,length:1,convRule:ok},{start:42898,length:1,convRule:xy},{start:42899,length:1,convRule:ok},{start:42900,length:1,convRule:Jb},{start:42901,length:1,convRule:nk},{start:42902,length:1,convRule:xy},{start:42903,length:1,convRule:ok},{start:42904,length:1,convRule:xy},{start:42905,length:1,convRule:ok},{start:42906,length:1,convRule:xy},{start:42907,length:1,convRule:ok},{start:42908,length:1,convRule:xy},{start:42909,length:1,convRule:ok},{start:42910,length:1,convRule:xy},{start:42911,length:1,convRule:ok},{start:42912,length:1,convRule:xy},{start:42913,length:1,convRule:ok},{start:42914,length:1,convRule:xy},{start:42915,length:1,convRule:ok},{start:42916,length:1,convRule:xy},{start:42917,length:1,convRule:ok},{start:42918,length:1,convRule:xy},{start:42919,length:1,convRule:ok},{start:42920,length:1,convRule:xy},{start:42921,length:1,convRule:ok},{start:42922,length:1,convRule:ay},{start:42923,length:1,convRule:uy},{start:42924,length:1,convRule:cy},{start:42925,length:1,convRule:hy},{start:42926,length:1,convRule:ay},{start:42927,length:1,convRule:nk},{start:42928,length:1,convRule:fy},{start:42929,length:1,convRule:dy},{start:42930,length:1,convRule:vy},{start:42931,length:1,convRule:gy},{start:42932,length:1,convRule:xy},{start:42933,length:1,convRule:ok},{start:42934,length:1,convRule:xy},{start:42935,length:1,convRule:ok},{start:42936,length:1,convRule:xy},{start:42937,length:1,convRule:ok},{start:42938,length:1,convRule:xy},{start:42939,length:1,convRule:ok},{start:42940,length:1,convRule:xy},{start:42941,length:1,convRule:ok},{start:42942,length:1,convRule:xy},{start:42943,length:1,convRule:ok},{start:42946,length:1,convRule:xy},{start:42947,length:1,convRule:ok},{start:42948,length:1,convRule:py},{start:42949,length:1,convRule:my},{start:42950,length:1,convRule:Ry},{start:42951,length:1,convRule:xy},{start:42952,length:1,convRule:ok},{start:42953,length:1,convRule:xy},{start:42954,length:1,convRule:ok},{start:42997,length:1,convRule:xy},{start:42998,length:1,convRule:ok},{start:42999,length:1,convRule:sb},{start:43e3,length:2,convRule:lb},{start:43002,length:1,convRule:nk},{start:43003,length:7,convRule:sb},{start:43010,length:1,convRule:yx},{start:43011,length:3,convRule:sb},{start:43014,length:1,convRule:yx},{start:43015,length:4,convRule:sb},{start:43019,length:1,convRule:yx},{start:43020,length:23,convRule:sb},{start:43043,length:2,convRule:Sx},{start:43045,length:2,convRule:yx},{start:43047,length:1,convRule:Sx},{start:43048,length:4,convRule:JO},{start:43052,length:1,convRule:yx},{start:43056,length:6,convRule:vx},{start:43062,length:2,convRule:JO},{start:43064,length:1,convRule:ix},{start:43065,length:1,convRule:JO},{start:43072,length:52,convRule:sb},{start:43124,length:4,convRule:ox},{start:43136,length:2,convRule:Sx},{start:43138,length:50,convRule:sb},{start:43188,length:16,convRule:Sx},{start:43204,length:2,convRule:yx},{start:43214,length:2,convRule:ox},{start:43216,length:10,convRule:Ox},{start:43232,length:18,convRule:yx},{start:43250,length:6,convRule:sb},{start:43256,length:3,convRule:ox},{start:43259,length:1,convRule:sb},{start:43260,length:1,convRule:ox},{start:43261,length:2,convRule:sb},{start:43263,length:1,convRule:yx},{start:43264,length:10,convRule:Ox},{start:43274,length:28,convRule:sb},{start:43302,length:8,convRule:yx},{start:43310,length:2,convRule:ox},{start:43312,length:23,convRule:sb},{start:43335,length:11,convRule:yx},{start:43346,length:2,convRule:Sx},{start:43359,length:1,convRule:ox},{start:43360,length:29,convRule:sb},{start:43392,length:3,convRule:yx},{start:43395,length:1,convRule:Sx},{start:43396,length:47,convRule:sb},{start:43443,length:1,convRule:yx},{start:43444,length:2,convRule:Sx},{start:43446,length:4,convRule:yx},{start:43450,length:2,convRule:Sx},{start:43452,length:2,convRule:yx},{start:43454,length:3,convRule:Sx},{start:43457,length:13,convRule:ox},{start:43471,length:1,convRule:lb},{start:43472,length:10,convRule:Ox},{start:43486,length:2,convRule:ox},{start:43488,length:5,convRule:sb},{start:43493,length:1,convRule:yx},{start:43494,length:1,convRule:lb},{start:43495,length:9,convRule:sb},{start:43504,length:10,convRule:Ox},{start:43514,length:5,convRule:sb},{start:43520,length:41,convRule:sb},{start:43561,length:6,convRule:yx},{start:43567,length:2,convRule:Sx},{start:43569,length:2,convRule:yx},{start:43571,length:2,convRule:Sx},{start:43573,length:2,convRule:yx},{start:43584,length:3,convRule:sb},{start:43587,length:1,convRule:yx},{start:43588,length:8,convRule:sb},{start:43596,length:1,convRule:yx},{start:43597,length:1,convRule:Sx},{start:43600,length:10,convRule:Ox},{start:43612,length:4,convRule:ox},{start:43616,length:16,convRule:sb},{start:43632,length:1,convRule:lb},{start:43633,length:6,convRule:sb},{start:43639,length:3,convRule:JO},{start:43642,length:1,convRule:sb},{start:43643,length:1,convRule:Sx},{start:43644,length:1,convRule:yx},{start:43645,length:1,convRule:Sx},{start:43646,length:50,convRule:sb},{start:43696,length:1,convRule:yx},{start:43697,length:1,convRule:sb},{start:43698,length:3,convRule:yx},{start:43701,length:2,convRule:sb},{start:43703,length:2,convRule:yx},{start:43705,length:5,convRule:sb},{start:43710,length:2,convRule:yx},{start:43712,length:1,convRule:sb},{start:43713,length:1,convRule:yx},{start:43714,length:1,convRule:sb},{start:43739,length:2,convRule:sb},{start:43741,length:1,convRule:lb},{start:43742,length:2,convRule:ox},{start:43744,length:11,convRule:sb},{start:43755,length:1,convRule:Sx},{start:43756,length:2,convRule:yx},{start:43758,length:2,convRule:Sx},{start:43760,length:2,convRule:ox},{start:43762,length:1,convRule:sb},{start:43763,length:2,convRule:lb},{start:43765,length:1,convRule:Sx},{start:43766,length:1,convRule:yx},{start:43777,length:6,convRule:sb},{start:43785,length:6,convRule:sb},{start:43793,length:6,convRule:sb},{start:43808,length:7,convRule:sb},{start:43816,length:7,convRule:sb},{start:43824,length:35,convRule:nk},{start:43859,length:1,convRule:tk},{start:43860,length:7,convRule:nk},{start:43867,length:1,convRule:rx},{start:43868,length:4,convRule:lb},{start:43872,length:9,convRule:nk},{start:43881,length:1,convRule:lb},{start:43882,length:2,convRule:rx},{start:43888,length:80,convRule:ek},{start:43968,length:35,convRule:sb},{start:44003,length:2,convRule:Sx},{start:44005,length:1,convRule:yx},{start:44006,length:2,convRule:Sx},{start:44008,length:1,convRule:yx},{start:44009,length:2,convRule:Sx},{start:44011,length:1,convRule:ox},{start:44012,length:1,convRule:Sx},{start:44013,length:1,convRule:yx},{start:44016,length:10,convRule:Ox},{start:44032,length:11172,convRule:sb},{start:55216,length:23,convRule:sb},{start:55243,length:49,convRule:sb},{start:55296,length:896,convRule:jk},{start:56192,length:128,convRule:jk},{start:56320,length:1024,convRule:jk},{start:57344,length:6400,convRule:Gk},{start:63744,length:366,convRule:sb},{start:64112,length:106,convRule:sb},{start:64256,length:7,convRule:nk},{start:64275,length:5,convRule:nk},{start:64285,length:1,convRule:sb},{start:64286,length:1,convRule:yx},{start:64287,length:10,convRule:sb},{start:64297,length:1,convRule:nx},{start:64298,length:13,convRule:sb},{start:64312,length:5,convRule:sb},{start:64318,length:1,convRule:sb},{start:64320,length:2,convRule:sb},{start:64323,length:2,convRule:sb},{start:64326,length:108,convRule:sb},{start:64434,length:16,convRule:rx},{start:64467,length:363,convRule:sb},{start:64830,length:1,convRule:cx},{start:64831,length:1,convRule:sx},{start:64848,length:64,convRule:sb},{start:64914,length:54,convRule:sb},{start:65008,length:12,convRule:sb},{start:65020,length:1,convRule:ix},{start:65021,length:1,convRule:JO},{start:65024,length:16,convRule:yx},{start:65040,length:7,convRule:ox},{start:65047,length:1,convRule:sx},{start:65048,length:1,convRule:cx},{start:65049,length:1,convRule:ox},{start:65056,length:16,convRule:yx},{start:65072,length:1,convRule:ox},{start:65073,length:2,convRule:hx},{start:65075,length:2,convRule:fx},{start:65077,length:1,convRule:sx},{start:65078,length:1,convRule:cx},{start:65079,length:1,convRule:sx},{start:65080,length:1,convRule:cx},{start:65081,length:1,convRule:sx},{start:65082,length:1,convRule:cx},{start:65083,length:1,convRule:sx},{start:65084,length:1,convRule:cx},{start:65085,length:1,convRule:sx},{start:65086,length:1,convRule:cx},{start:65087,length:1,convRule:sx},{start:65088,length:1,convRule:cx},{start:65089,length:1,convRule:sx},{start:65090,length:1,convRule:cx},{start:65091,length:1,convRule:sx},{start:65092,length:1,convRule:cx},{start:65093,length:2,convRule:ox},{start:65095,length:1,convRule:sx},{start:65096,length:1,convRule:cx},{start:65097,length:4,convRule:ox},{start:65101,length:3,convRule:fx},{start:65104,length:3,convRule:ox},{start:65108,length:4,convRule:ox},{start:65112,length:1,convRule:hx},{start:65113,length:1,convRule:sx},{start:65114,length:1,convRule:cx},{start:65115,length:1,convRule:sx},{start:65116,length:1,convRule:cx},{start:65117,length:1,convRule:sx},{start:65118,length:1,convRule:cx},{start:65119,length:3,convRule:ox},{start:65122,length:1,convRule:nx},{start:65123,length:1,convRule:hx},{start:65124,length:3,convRule:nx},{start:65128,length:1,convRule:ox},{start:65129,length:1,convRule:ix},{start:65130,length:2,convRule:ox},{start:65136,length:5,convRule:sb},{start:65142,length:135,convRule:sb},{start:65279,length:1,convRule:Yk},{start:65281,length:3,convRule:ox},{start:65284,length:1,convRule:ix},{start:65285,length:3,convRule:ox},{start:65288,length:1,convRule:sx},{start:65289,length:1,convRule:cx},{start:65290,length:1,convRule:ox},{start:65291,length:1,convRule:nx},{start:65292,length:1,convRule:ox},{start:65293,length:1,convRule:hx},{start:65294,length:2,convRule:ox},{start:65296,length:10,convRule:Ox},{start:65306,length:2,convRule:ox},{start:65308,length:3,convRule:nx},{start:65311,length:2,convRule:ox},{start:65313,length:26,convRule:jy},{start:65339,length:1,convRule:sx},{start:65340,length:1,convRule:ox},{start:65341,length:1,convRule:cx},{start:65342,length:1,convRule:rx},{start:65343,length:1,convRule:fx},{start:65344,length:1,convRule:rx},{start:65345,length:26,convRule:bb},{start:65371,length:1,convRule:sx},{start:65372,length:1,convRule:nx},{start:65373,length:1,convRule:cx},{start:65374,length:1,convRule:nx},{start:65375,length:1,convRule:sx},{start:65376,length:1,convRule:cx},{start:65377,length:1,convRule:ox},{start:65378,length:1,convRule:sx},{start:65379,length:1,convRule:cx},{start:65380,length:2,convRule:ox},{start:65382,length:10,convRule:sb},{start:65392,length:1,convRule:lb},{start:65393,length:45,convRule:sb},{start:65438,length:2,convRule:lb},{start:65440,length:31,convRule:sb},{start:65474,length:6,convRule:sb},{start:65482,length:6,convRule:sb},{start:65490,length:6,convRule:sb},{start:65498,length:3,convRule:sb},{start:65504,length:2,convRule:ix},{start:65506,length:1,convRule:nx},{start:65507,length:1,convRule:rx},{start:65508,length:1,convRule:JO},{start:65509,length:2,convRule:ix},{start:65512,length:1,convRule:JO},{start:65513,length:4,convRule:nx},{start:65517,length:2,convRule:JO},{start:65529,length:3,convRule:Yk},{start:65532,length:2,convRule:JO},{start:65536,length:12,convRule:sb},{start:65549,length:26,convRule:sb},{start:65576,length:19,convRule:sb},{start:65596,length:2,convRule:sb},{start:65599,length:15,convRule:sb},{start:65616,length:14,convRule:sb},{start:65664,length:123,convRule:sb},{start:65792,length:3,convRule:ox},{start:65799,length:45,convRule:vx},{start:65847,length:9,convRule:JO},{start:65856,length:53,convRule:px},{start:65909,length:4,convRule:vx},{start:65913,length:17,convRule:JO},{start:65930,length:2,convRule:vx},{start:65932,length:3,convRule:JO},{start:65936,length:13,convRule:JO},{start:65952,length:1,convRule:JO},{start:66e3,length:45,convRule:JO},{start:66045,length:1,convRule:yx},{start:66176,length:29,convRule:sb},{start:66208,length:49,convRule:sb},{start:66272,length:1,convRule:yx},{start:66273,length:27,convRule:vx},{start:66304,length:32,convRule:sb},{start:66336,length:4,convRule:vx},{start:66349,length:20,convRule:sb},{start:66369,length:1,convRule:px},{start:66370,length:8,convRule:sb},{start:66378,length:1,convRule:px},{start:66384,length:38,convRule:sb},{start:66422,length:5,convRule:yx},{start:66432,length:30,convRule:sb},{start:66463,length:1,convRule:ox},{start:66464,length:36,convRule:sb},{start:66504,length:8,convRule:sb},{start:66512,length:1,convRule:ox},{start:66513,length:5,convRule:px},{start:66560,length:40,convRule:wy},{start:66600,length:40,convRule:rk},{start:66640,length:78,convRule:sb},{start:66720,length:10,convRule:Ox},{start:66736,length:36,convRule:wy},{start:66776,length:36,convRule:rk},{start:66816,length:40,convRule:sb},{start:66864,length:52,convRule:sb},{start:66927,length:1,convRule:ox},{start:67072,length:311,convRule:sb},{start:67392,length:22,convRule:sb},{start:67424,length:8,convRule:sb},{start:67584,length:6,convRule:sb},{start:67592,length:1,convRule:sb},{start:67594,length:44,convRule:sb},{start:67639,length:2,convRule:sb},{start:67644,length:1,convRule:sb},{start:67647,length:23,convRule:sb},{start:67671,length:1,convRule:ox},{start:67672,length:8,convRule:vx},{start:67680,length:23,convRule:sb},{start:67703,length:2,convRule:JO},{start:67705,length:7,convRule:vx},{start:67712,length:31,convRule:sb},{start:67751,length:9,convRule:vx},{start:67808,length:19,convRule:sb},{start:67828,length:2,convRule:sb},{start:67835,length:5,convRule:vx},{start:67840,length:22,convRule:sb},{start:67862,length:6,convRule:vx},{start:67871,length:1,convRule:ox},{start:67872,length:26,convRule:sb},{start:67903,length:1,convRule:ox},{start:67968,length:56,convRule:sb},{start:68028,length:2,convRule:vx},{start:68030,length:2,convRule:sb},{start:68032,length:16,convRule:vx},{start:68050,length:46,convRule:vx},{start:68096,length:1,convRule:sb},{start:68097,length:3,convRule:yx},{start:68101,length:2,convRule:yx},{start:68108,length:4,convRule:yx},{start:68112,length:4,convRule:sb},{start:68117,length:3,convRule:sb},{start:68121,length:29,convRule:sb},{start:68152,length:3,convRule:yx},{start:68159,length:1,convRule:yx},{start:68160,length:9,convRule:vx},{start:68176,length:9,convRule:ox},{start:68192,length:29,convRule:sb},{start:68221,length:2,convRule:vx},{start:68223,length:1,convRule:ox},{start:68224,length:29,convRule:sb},{start:68253,length:3,convRule:vx},{start:68288,length:8,convRule:sb},{start:68296,length:1,convRule:JO},{start:68297,length:28,convRule:sb},{start:68325,length:2,convRule:yx},{start:68331,length:5,convRule:vx},{start:68336,length:7,convRule:ox},{start:68352,length:54,convRule:sb},{start:68409,length:7,convRule:ox},{start:68416,length:22,convRule:sb},{start:68440,length:8,convRule:vx},{start:68448,length:19,convRule:sb},{start:68472,length:8,convRule:vx},{start:68480,length:18,convRule:sb},{start:68505,length:4,convRule:ox},{start:68521,length:7,convRule:vx},{start:68608,length:73,convRule:sb},{start:68736,length:51,convRule:Ky},{start:68800,length:51,convRule:hb},{start:68858,length:6,convRule:vx},{start:68864,length:36,convRule:sb},{start:68900,length:4,convRule:yx},{start:68912,length:10,convRule:Ox},{start:69216,length:31,convRule:vx},{start:69248,length:42,convRule:sb},{start:69291,length:2,convRule:yx},{start:69293,length:1,convRule:hx},{start:69296,length:2,convRule:sb},{start:69376,length:29,convRule:sb},{start:69405,length:10,convRule:vx},{start:69415,length:1,convRule:sb},{start:69424,length:22,convRule:sb},{start:69446,length:11,convRule:yx},{start:69457,length:4,convRule:vx},{start:69461,length:5,convRule:ox},{start:69552,length:21,convRule:sb},{start:69573,length:7,convRule:vx},{start:69600,length:23,convRule:sb},{start:69632,length:1,convRule:Sx},{start:69633,length:1,convRule:yx},{start:69634,length:1,convRule:Sx},{start:69635,length:53,convRule:sb},{start:69688,length:15,convRule:yx},{start:69703,length:7,convRule:ox},{start:69714,length:20,convRule:vx},{start:69734,length:10,convRule:Ox},{start:69759,length:3,convRule:yx},{start:69762,length:1,convRule:Sx},{start:69763,length:45,convRule:sb},{start:69808,length:3,convRule:Sx},{start:69811,length:4,convRule:yx},{start:69815,length:2,convRule:Sx},{start:69817,length:2,convRule:yx},{start:69819,length:2,convRule:ox},{start:69821,length:1,convRule:Yk},{start:69822,length:4,convRule:ox},{start:69837,length:1,convRule:Yk},{start:69840,length:25,convRule:sb},{start:69872,length:10,convRule:Ox},{start:69888,length:3,convRule:yx},{start:69891,length:36,convRule:sb},{start:69927,length:5,convRule:yx},{start:69932,length:1,convRule:Sx},{start:69933,length:8,convRule:yx},{start:69942,length:10,convRule:Ox},{start:69952,length:4,convRule:ox},{start:69956,length:1,convRule:sb},{start:69957,length:2,convRule:Sx},{start:69959,length:1,convRule:sb},{start:69968,length:35,convRule:sb},{start:70003,length:1,convRule:yx},{start:70004,length:2,convRule:ox},{start:70006,length:1,convRule:sb},{start:70016,length:2,convRule:yx},{start:70018,length:1,convRule:Sx},{start:70019,length:48,convRule:sb},{start:70067,length:3,convRule:Sx},{start:70070,length:9,convRule:yx},{start:70079,length:2,convRule:Sx},{start:70081,length:4,convRule:sb},{start:70085,length:4,convRule:ox},{start:70089,length:4,convRule:yx},{start:70093,length:1,convRule:ox},{start:70094,length:1,convRule:Sx},{start:70095,length:1,convRule:yx},{start:70096,length:10,convRule:Ox},{start:70106,length:1,convRule:sb},{start:70107,length:1,convRule:ox},{start:70108,length:1,convRule:sb},{start:70109,length:3,convRule:ox},{start:70113,length:20,convRule:vx},{start:70144,length:18,convRule:sb},{start:70163,length:25,convRule:sb},{start:70188,length:3,convRule:Sx},{start:70191,length:3,convRule:yx},{start:70194,length:2,convRule:Sx},{start:70196,length:1,convRule:yx},{start:70197,length:1,convRule:Sx},{start:70198,length:2,convRule:yx},{start:70200,length:6,convRule:ox},{start:70206,length:1,convRule:yx},{start:70272,length:7,convRule:sb},{start:70280,length:1,convRule:sb},{start:70282,length:4,convRule:sb},{start:70287,length:15,convRule:sb},{start:70303,length:10,convRule:sb},{start:70313,length:1,convRule:ox},{start:70320,length:47,convRule:sb},{start:70367,length:1,convRule:yx},{start:70368,length:3,convRule:Sx},{start:70371,length:8,convRule:yx},{start:70384,length:10,convRule:Ox},{start:70400,length:2,convRule:yx},{start:70402,length:2,convRule:Sx},{start:70405,length:8,convRule:sb},{start:70415,length:2,convRule:sb},{start:70419,length:22,convRule:sb},{start:70442,length:7,convRule:sb},{start:70450,length:2,convRule:sb},{start:70453,length:5,convRule:sb},{start:70459,length:2,convRule:yx},{start:70461,length:1,convRule:sb},{start:70462,length:2,convRule:Sx},{start:70464,length:1,convRule:yx},{start:70465,length:4,convRule:Sx},{start:70471,length:2,convRule:Sx},{start:70475,length:3,convRule:Sx},{start:70480,length:1,convRule:sb},{start:70487,length:1,convRule:Sx},{start:70493,length:5,convRule:sb},{start:70498,length:2,convRule:Sx},{start:70502,length:7,convRule:yx},{start:70512,length:5,convRule:yx},{start:70656,length:53,convRule:sb},{start:70709,length:3,convRule:Sx},{start:70712,length:8,convRule:yx},{start:70720,length:2,convRule:Sx},{start:70722,length:3,convRule:yx},{start:70725,length:1,convRule:Sx},{start:70726,length:1,convRule:yx},{start:70727,length:4,convRule:sb},{start:70731,length:5,convRule:ox},{start:70736,length:10,convRule:Ox},{start:70746,length:2,convRule:ox},{start:70749,length:1,convRule:ox},{start:70750,length:1,convRule:yx},{start:70751,length:3,convRule:sb},{start:70784,length:48,convRule:sb},{start:70832,length:3,convRule:Sx},{start:70835,length:6,convRule:yx},{start:70841,length:1,convRule:Sx},{start:70842,length:1,convRule:yx},{start:70843,length:4,convRule:Sx},{start:70847,length:2,convRule:yx},{start:70849,length:1,convRule:Sx},{start:70850,length:2,convRule:yx},{start:70852,length:2,convRule:sb},{start:70854,length:1,convRule:ox},{start:70855,length:1,convRule:sb},{start:70864,length:10,convRule:Ox},{start:71040,length:47,convRule:sb},{start:71087,length:3,convRule:Sx},{start:71090,length:4,convRule:yx},{start:71096,length:4,convRule:Sx},{start:71100,length:2,convRule:yx},{start:71102,length:1,convRule:Sx},{start:71103,length:2,convRule:yx},{start:71105,length:23,convRule:ox},{start:71128,length:4,convRule:sb},{start:71132,length:2,convRule:yx},{start:71168,length:48,convRule:sb},{start:71216,length:3,convRule:Sx},{start:71219,length:8,convRule:yx},{start:71227,length:2,convRule:Sx},{start:71229,length:1,convRule:yx},{start:71230,length:1,convRule:Sx},{start:71231,length:2,convRule:yx},{start:71233,length:3,convRule:ox},{start:71236,length:1,convRule:sb},{start:71248,length:10,convRule:Ox},{start:71264,length:13,convRule:ox},{start:71296,length:43,convRule:sb},{start:71339,length:1,convRule:yx},{start:71340,length:1,convRule:Sx},{start:71341,length:1,convRule:yx},{start:71342,length:2,convRule:Sx},{start:71344,length:6,convRule:yx},{start:71350,length:1,convRule:Sx},{start:71351,length:1,convRule:yx},{start:71352,length:1,convRule:sb},{start:71360,length:10,convRule:Ox},{start:71424,length:27,convRule:sb},{start:71453,length:3,convRule:yx},{start:71456,length:2,convRule:Sx},{start:71458,length:4,convRule:yx},{start:71462,length:1,convRule:Sx},{start:71463,length:5,convRule:yx},{start:71472,length:10,convRule:Ox},{start:71482,length:2,convRule:vx},{start:71484,length:3,convRule:ox},{start:71487,length:1,convRule:JO},{start:71680,length:44,convRule:sb},{start:71724,length:3,convRule:Sx},{start:71727,length:9,convRule:yx},{start:71736,length:1,convRule:Sx},{start:71737,length:2,convRule:yx},{start:71739,length:1,convRule:ox},{start:71840,length:32,convRule:jy},{start:71872,length:32,convRule:bb},{start:71904,length:10,convRule:Ox},{start:71914,length:9,convRule:vx},{start:71935,length:8,convRule:sb},{start:71945,length:1,convRule:sb},{start:71948,length:8,convRule:sb},{start:71957,length:2,convRule:sb},{start:71960,length:24,convRule:sb},{start:71984,length:6,convRule:Sx},{start:71991,length:2,convRule:Sx},{start:71995,length:2,convRule:yx},{start:71997,length:1,convRule:Sx},{start:71998,length:1,convRule:yx},{start:71999,length:1,convRule:sb},{start:72e3,length:1,convRule:Sx},{start:72001,length:1,convRule:sb},{start:72002,length:1,convRule:Sx},{start:72003,length:1,convRule:yx},{start:72004,length:3,convRule:ox},{start:72016,length:10,convRule:Ox},{start:72096,length:8,convRule:sb},{start:72106,length:39,convRule:sb},{start:72145,length:3,convRule:Sx},{start:72148,length:4,convRule:yx},{start:72154,length:2,convRule:yx},{start:72156,length:4,convRule:Sx},{start:72160,length:1,convRule:yx},{start:72161,length:1,convRule:sb},{start:72162,length:1,convRule:ox},{start:72163,length:1,convRule:sb},{start:72164,length:1,convRule:Sx},{start:72192,length:1,convRule:sb},{start:72193,length:10,convRule:yx},{start:72203,length:40,convRule:sb},{start:72243,length:6,convRule:yx},{start:72249,length:1,convRule:Sx},{start:72250,length:1,convRule:sb},{start:72251,length:4,convRule:yx},{start:72255,length:8,convRule:ox},{start:72263,length:1,convRule:yx},{start:72272,length:1,convRule:sb},{start:72273,length:6,convRule:yx},{start:72279,length:2,convRule:Sx},{start:72281,length:3,convRule:yx},{start:72284,length:46,convRule:sb},{start:72330,length:13,convRule:yx},{start:72343,length:1,convRule:Sx},{start:72344,length:2,convRule:yx},{start:72346,length:3,convRule:ox},{start:72349,length:1,convRule:sb},{start:72350,length:5,convRule:ox},{start:72384,length:57,convRule:sb},{start:72704,length:9,convRule:sb},{start:72714,length:37,convRule:sb},{start:72751,length:1,convRule:Sx},{start:72752,length:7,convRule:yx},{start:72760,length:6,convRule:yx},{start:72766,length:1,convRule:Sx},{start:72767,length:1,convRule:yx},{start:72768,length:1,convRule:sb},{start:72769,length:5,convRule:ox},{start:72784,length:10,convRule:Ox},{start:72794,length:19,convRule:vx},{start:72816,length:2,convRule:ox},{start:72818,length:30,convRule:sb},{start:72850,length:22,convRule:yx},{start:72873,length:1,convRule:Sx},{start:72874,length:7,convRule:yx},{start:72881,length:1,convRule:Sx},{start:72882,length:2,convRule:yx},{start:72884,length:1,convRule:Sx},{start:72885,length:2,convRule:yx},{start:72960,length:7,convRule:sb},{start:72968,length:2,convRule:sb},{start:72971,length:38,convRule:sb},{start:73009,length:6,convRule:yx},{start:73018,length:1,convRule:yx},{start:73020,length:2,convRule:yx},{start:73023,length:7,convRule:yx},{start:73030,length:1,convRule:sb},{start:73031,length:1,convRule:yx},{start:73040,length:10,convRule:Ox},{start:73056,length:6,convRule:sb},{start:73063,length:2,convRule:sb},{start:73066,length:32,convRule:sb},{start:73098,length:5,convRule:Sx},{start:73104,length:2,convRule:yx},{start:73107,length:2,convRule:Sx},{start:73109,length:1,convRule:yx},{start:73110,length:1,convRule:Sx},{start:73111,length:1,convRule:yx},{start:73112,length:1,convRule:sb},{start:73120,length:10,convRule:Ox},{start:73440,length:19,convRule:sb},{start:73459,length:2,convRule:yx},{start:73461,length:2,convRule:Sx},{start:73463,length:2,convRule:ox},{start:73648,length:1,convRule:sb},{start:73664,length:21,convRule:vx},{start:73685,length:8,convRule:JO},{start:73693,length:4,convRule:ix},{start:73697,length:17,convRule:JO},{start:73727,length:1,convRule:ox},{start:73728,length:922,convRule:sb},{start:74752,length:111,convRule:px},{start:74864,length:5,convRule:ox},{start:74880,length:196,convRule:sb},{start:77824,length:1071,convRule:sb},{start:78896,length:9,convRule:Yk},{start:82944,length:583,convRule:sb},{start:92160,length:569,convRule:sb},{start:92736,length:31,convRule:sb},{start:92768,length:10,convRule:Ox},{start:92782,length:2,convRule:ox},{start:92880,length:30,convRule:sb},{start:92912,length:5,convRule:yx},{start:92917,length:1,convRule:ox},{start:92928,length:48,convRule:sb},{start:92976,length:7,convRule:yx},{start:92983,length:5,convRule:ox},{start:92988,length:4,convRule:JO},{start:92992,length:4,convRule:lb},{start:92996,length:1,convRule:ox},{start:92997,length:1,convRule:JO},{start:93008,length:10,convRule:Ox},{start:93019,length:7,convRule:vx},{start:93027,length:21,convRule:sb},{start:93053,length:19,convRule:sb},{start:93760,length:32,convRule:jy},{start:93792,length:32,convRule:bb},{start:93824,length:23,convRule:vx},{start:93847,length:4,convRule:ox},{start:93952,length:75,convRule:sb},{start:94031,length:1,convRule:yx},{start:94032,length:1,convRule:sb},{start:94033,length:55,convRule:Sx},{start:94095,length:4,convRule:yx},{start:94099,length:13,convRule:lb},{start:94176,length:2,convRule:lb},{start:94178,length:1,convRule:ox},{start:94179,length:1,convRule:lb},{start:94180,length:1,convRule:yx},{start:94192,length:2,convRule:Sx},{start:94208,length:6136,convRule:sb},{start:100352,length:1238,convRule:sb},{start:101632,length:9,convRule:sb},{start:110592,length:287,convRule:sb},{start:110928,length:3,convRule:sb},{start:110948,length:4,convRule:sb},{start:110960,length:396,convRule:sb},{start:113664,length:107,convRule:sb},{start:113776,length:13,convRule:sb},{start:113792,length:9,convRule:sb},{start:113808,length:10,convRule:sb},{start:113820,length:1,convRule:JO},{start:113821,length:2,convRule:yx},{start:113823,length:1,convRule:ox},{start:113824,length:4,convRule:Yk},{start:118784,length:246,convRule:JO},{start:119040,length:39,convRule:JO},{start:119081,length:60,convRule:JO},{start:119141,length:2,convRule:Sx},{start:119143,length:3,convRule:yx},{start:119146,length:3,convRule:JO},{start:119149,length:6,convRule:Sx},{start:119155,length:8,convRule:Yk},{start:119163,length:8,convRule:yx},{start:119171,length:2,convRule:JO},{start:119173,length:7,convRule:yx},{start:119180,length:30,convRule:JO},{start:119210,length:4,convRule:yx},{start:119214,length:59,convRule:JO},{start:119296,length:66,convRule:JO},{start:119362,length:3,convRule:yx},{start:119365,length:1,convRule:JO},{start:119520,length:20,convRule:vx},{start:119552,length:87,convRule:JO},{start:119648,length:25,convRule:vx},{start:119808,length:26,convRule:Ex},{start:119834,length:26,convRule:nk},{start:119860,length:26,convRule:Ex},{start:119886,length:7,convRule:nk},{start:119894,length:18,convRule:nk},{start:119912,length:26,convRule:Ex},{start:119938,length:26,convRule:nk},{start:119964,length:1,convRule:Ex},{start:119966,length:2,convRule:Ex},{start:119970,length:1,convRule:Ex},{start:119973,length:2,convRule:Ex},{start:119977,length:4,convRule:Ex},{start:119982,length:8,convRule:Ex},{start:119990,length:4,convRule:nk},{start:119995,length:1,convRule:nk},{start:119997,length:7,convRule:nk},{start:120005,length:11,convRule:nk},{start:120016,length:26,convRule:Ex},{start:120042,length:26,convRule:nk},{start:120068,length:2,convRule:Ex},{start:120071,length:4,convRule:Ex},{start:120077,length:8,convRule:Ex},{start:120086,length:7,convRule:Ex},{start:120094,length:26,convRule:nk},{start:120120,length:2,convRule:Ex},{start:120123,length:4,convRule:Ex},{start:120128,length:5,convRule:Ex},{start:120134,length:1,convRule:Ex},{start:120138,length:7,convRule:Ex},{start:120146,length:26,convRule:nk},{start:120172,length:26,convRule:Ex},{start:120198,length:26,convRule:nk},{start:120224,length:26,convRule:Ex},{start:120250,length:26,convRule:nk},{start:120276,length:26,convRule:Ex},{start:120302,length:26,convRule:nk},{start:120328,length:26,convRule:Ex},{start:120354,length:26,convRule:nk},{start:120380,length:26,convRule:Ex},{start:120406,length:26,convRule:nk},{start:120432,length:26,convRule:Ex},{start:120458,length:28,convRule:nk},{start:120488,length:25,convRule:Ex},{start:120513,length:1,convRule:nx},{start:120514,length:25,convRule:nk},{start:120539,length:1,convRule:nx},{start:120540,length:6,convRule:nk},{start:120546,length:25,convRule:Ex},{start:120571,length:1,convRule:nx},{start:120572,length:25,convRule:nk},{start:120597,length:1,convRule:nx},{start:120598,length:6,convRule:nk},{start:120604,length:25,convRule:Ex},{start:120629,length:1,convRule:nx},{start:120630,length:25,convRule:nk},{start:120655,length:1,convRule:nx},{start:120656,length:6,convRule:nk},{start:120662,length:25,convRule:Ex},{start:120687,length:1,convRule:nx},{start:120688,length:25,convRule:nk},{start:120713,length:1,convRule:nx},{start:120714,length:6,convRule:nk},{start:120720,length:25,convRule:Ex},{start:120745,length:1,convRule:nx},{start:120746,length:25,convRule:nk},{start:120771,length:1,convRule:nx},{start:120772,length:6,convRule:nk},{start:120778,length:1,convRule:Ex},{start:120779,length:1,convRule:nk},{start:120782,length:50,convRule:Ox},{start:120832,length:512,convRule:JO},{start:121344,length:55,convRule:yx},{start:121399,length:4,convRule:JO},{start:121403,length:50,convRule:yx},{start:121453,length:8,convRule:JO},{start:121461,length:1,convRule:yx},{start:121462,length:14,convRule:JO},{start:121476,length:1,convRule:yx},{start:121477,length:2,convRule:JO},{start:121479,length:5,convRule:ox},{start:121499,length:5,convRule:yx},{start:121505,length:15,convRule:yx},{start:122880,length:7,convRule:yx},{start:122888,length:17,convRule:yx},{start:122907,length:7,convRule:yx},{start:122915,length:2,convRule:yx},{start:122918,length:5,convRule:yx},{start:123136,length:45,convRule:sb},{start:123184,length:7,convRule:yx},{start:123191,length:7,convRule:lb},{start:123200,length:10,convRule:Ox},{start:123214,length:1,convRule:sb},{start:123215,length:1,convRule:JO},{start:123584,length:44,convRule:sb},{start:123628,length:4,convRule:yx},{start:123632,length:10,convRule:Ox},{start:123647,length:1,convRule:ix},{start:124928,length:197,convRule:sb},{start:125127,length:9,convRule:vx},{start:125136,length:7,convRule:yx},{start:125184,length:34,convRule:Oy},{start:125218,length:34,convRule:ik},{start:125252,length:7,convRule:yx},{start:125259,length:1,convRule:lb},{start:125264,length:10,convRule:Ox},{start:125278,length:2,convRule:ox},{start:126065,length:59,convRule:vx},{start:126124,length:1,convRule:JO},{start:126125,length:3,convRule:vx},{start:126128,length:1,convRule:ix},{start:126129,length:4,convRule:vx},{start:126209,length:45,convRule:vx},{start:126254,length:1,convRule:JO},{start:126255,length:15,convRule:vx},{start:126464,length:4,convRule:sb},{start:126469,length:27,convRule:sb},{start:126497,length:2,convRule:sb},{start:126500,length:1,convRule:sb},{start:126503,length:1,convRule:sb},{start:126505,length:10,convRule:sb},{start:126516,length:4,convRule:sb},{start:126521,length:1,convRule:sb},{start:126523,length:1,convRule:sb},{start:126530,length:1,convRule:sb},{start:126535,length:1,convRule:sb},{start:126537,length:1,convRule:sb},{start:126539,length:1,convRule:sb},{start:126541,length:3,convRule:sb},{start:126545,length:2,convRule:sb},{start:126548,length:1,convRule:sb},{start:126551,length:1,convRule:sb},{start:126553,length:1,convRule:sb},{start:126555,length:1,convRule:sb},{start:126557,length:1,convRule:sb},{start:126559,length:1,convRule:sb},{start:126561,length:2,convRule:sb},{start:126564,length:1,convRule:sb},{start:126567,length:4,convRule:sb},{start:126572,length:7,convRule:sb},{start:126580,length:4,convRule:sb},{start:126585,length:4,convRule:sb},{start:126590,length:1,convRule:sb},{start:126592,length:10,convRule:sb},{start:126603,length:17,convRule:sb},{start:126625,length:3,convRule:sb},{start:126629,length:5,convRule:sb},{start:126635,length:17,convRule:sb},{start:126704,length:2,convRule:nx},{start:126976,length:44,convRule:JO},{start:127024,length:100,convRule:JO},{start:127136,length:15,convRule:JO},{start:127153,length:15,convRule:JO},{start:127169,length:15,convRule:JO},{start:127185,length:37,convRule:JO},{start:127232,length:13,convRule:vx},{start:127245,length:161,convRule:JO},{start:127462,length:29,convRule:JO},{start:127504,length:44,convRule:JO},{start:127552,length:9,convRule:JO},{start:127568,length:2,convRule:JO},{start:127584,length:6,convRule:JO},{start:127744,length:251,convRule:JO},{start:127995,length:5,convRule:rx},{start:128e3,length:728,convRule:JO},{start:128736,length:13,convRule:JO},{start:128752,length:13,convRule:JO},{start:128768,length:116,convRule:JO},{start:128896,length:89,convRule:JO},{start:128992,length:12,convRule:JO},{start:129024,length:12,convRule:JO},{start:129040,length:56,convRule:JO},{start:129104,length:10,convRule:JO},{start:129120,length:40,convRule:JO},{start:129168,length:30,convRule:JO},{start:129200,length:2,convRule:JO},{start:129280,length:121,convRule:JO},{start:129402,length:82,convRule:JO},{start:129485,length:135,convRule:JO},{start:129632,length:14,convRule:JO},{start:129648,length:5,convRule:JO},{start:129656,length:3,convRule:JO},{start:129664,length:7,convRule:JO},{start:129680,length:25,convRule:JO},{start:129712,length:7,convRule:JO},{start:129728,length:3,convRule:JO},{start:129744,length:7,convRule:JO},{start:129792,length:147,convRule:JO},{start:129940,length:55,convRule:JO},{start:130032,length:10,convRule:Ox},{start:131072,length:42718,convRule:sb},{start:173824,length:4149,convRule:sb},{start:177984,length:222,convRule:sb},{start:178208,length:5762,convRule:sb},{start:183984,length:7473,convRule:sb},{start:194560,length:542,convRule:sb},{start:196608,length:4939,convRule:sb},{start:917505,length:1,convRule:Yk},{start:917536,length:96,convRule:Yk},{start:917760,length:240,convRule:yx},{start:983040,length:65534,convRule:Gk},{start:1048576,length:65534,convRule:Gk}],nC=function(t){return function(e){var n=e<256?63:3396,r=tC(eC)(e)(n);if(r instanceof Pg)return!1;if(r instanceof _g)return Qg(RO(r.value0.category)(t));throw new Error("Failed pattern match at Data.CodePoint.Unicode.Internal (line 5645, column 5 - line 5647, column 86): "+[r.constructor.name])}},rC=nC([Ax,tb]),iC=(Array.from,"undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator]),sC=(String.prototype.fromCodePoint,"function"==typeof String.prototype.codePointAt);const oC=function(t){return sC?function(t){return t.codePointAt(0)}:t};var lC=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},aC=hO(pO),uC=Rg(pg),cC=function(t){return function(e){return 65536+((1024*(t-55296|0)|0)+(e-56320|0)|0)|0}},hC=function(t){return 56320<=t&&t<=57343},fC=function(t){return 55296<=t&&t<=56319},dC=function(t){var e=UR(t);if(0===e)return Pg.value;if(1===e)return new _g({head:aC(qR(0)(t)),tail:""});var n=aC(qR(1)(t)),r=aC(qR(0)(t)),i=fC(r)&&hC(n);return new _g(i?{head:cC(r)(n),tail:HR(2)(t)}:{head:r,tail:HR(1)(t)})},vC=function(t){var e=aC(qR(0)(t));if(fC(e)&&UR(t)>1){var n=aC(qR(1)(t));return hC(n)?cC(e)(n):e}return e},gC=oC(vC),pC={eq:function(t){return function(e){return t===e}}},mC={compare:function(t){return function(e){return uC(t)(e)}},Eq0:function(){return pC}},RC=function(t){return function(e){var n,r=t,i=!1;function s(t,n){var s=dC(n);return s instanceof _g?0===t?(i=!0,new _g(s.value0.head)):(r=t-1|0,void(e=s.value0.tail)):(i=!0,Pg.value)}for(;!i;)n=s(r,e);return n}},wC=function(t){return function(e){return t<0||0===t&&""===e?Pg.value:0===t?new _g(gC(e)):(n=RC,function(t){return function(e){return function(r){return function(i){return function(s){var o=s.length;if(i<0||i>=o)return e;if(iC)for(var l=s[Symbol.iterator](),a=i;;--a){var u=l.next();if(u.done)return e;if(0===a)return t(r(u.value))}return n(i)(s)}}}}})(_g.create)(Pg.value)(gC)(t)(e);var n}},OC={bottom:0,top:1114111,Ord0:function(){return mC}},xC=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){return t>=0&&t<=1114111?new _g(t):Pg.value},Bounded0:function(){return OC},Enum1:function(){return yC(0)}}}(),yC=lC("enumCodePoint","Data.String.CodePoints",(function(){return{succ:fO(cO(xC))(hO(xC)),pred:dO(cO(xC))(hO(xC)),Ord0:function(){return mC}}})),bC=hO(xC),kC=function(t){return rC(bC(t))},CC=jm(TR),TC=function(t){if(t instanceof Pg)return jR("unsafeFromJust: unexpected Nothing");if(t instanceof _g)return t.value0;throw new Error("Failed pattern match at Language.CP.Util (line 25, column 1 - line 25, column 41): "+[t.constructor.name])},SC=function(){var t=wC(0);return function(e){return kC(TC(t(e)))}}(),AC=function(t){return function(e){if(e instanceof bR)return jR("foldr1: empty list");if(e instanceof kR&&e.value1 instanceof bR)return e.value0;if(e instanceof kR)return t(e.value0)(AC(t)(e.value1));throw new Error("Failed pattern match at Language.CP.Util (line 20, column 1 - line 20, column 49): "+[t.constructor.name,e.constructor.name])}},PC=function(t){return function(e){if(e instanceof bR)return jR("foldl1: empty list");if(e instanceof kR)return CC(t)(e.value0)(e.value1);throw new Error("Failed pattern match at Language.CP.Util (line 16, column 1 - line 16, column 49): "+[t.constructor.name,e.constructor.name])}},_C=function(t){return function(e){return t+" "+e}},EC=Sg(Cg),LC=Sg(kg),DC=Sg(bg),QC=Sg(Tg),IC=Sg(Gw),MC=Sg(nO),NC=Gm(TR)(Yg),$C=Cv(CR),FC=Gm(Zm)(Yg),BC=kv(Pv),UC=mw(gg),HC=Rw(gg),qC=function(){function t(){}return t.value=new t,t}(),VC=function(){function t(){}return t.value=new t,t}(),XC=function(){function t(){}return t.value=new t,t}(),zC=function(){function t(){}return t.value=new t,t}(),WC=function(){function t(){}return t.value=new t,t}(),jC=function(){function t(){}return t.value=new t,t}(),GC=function(){function t(){}return t.value=new t,t}(),YC=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),ZC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),KC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),JC=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),tT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),eT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),nT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),rT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),iT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),sT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),oT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),lT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),aT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),uT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),cT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),hT=function(){function t(){}return t.value=new t,t}(),fT=function(){function t(){}return t.value=new t,t}(),dT=function(){function t(){}return t.value=new t,t}(),vT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),gT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),pT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),mT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),RT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),wT=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),OT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),xT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),yT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),bT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),kT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),CT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),TT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ST=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),AT=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),PT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),_T=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ET=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),LT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),DT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),QT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),MT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),NT=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),$T=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),FT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),BT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),UT=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),HT=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),qT={show:function(t){if(t instanceof qC)return"Int";if(t instanceof VC)return"Double";if(t instanceof XC)return"String";if(t instanceof zC)return"Bool";if(t instanceof WC)return"()";if(t instanceof jC)return"Top";if(t instanceof GC)return"Bot";if(t instanceof YC&&t.value2)return"Trait"+oO(_C(Sg(qT)(t.value0))(_C("=>")(Sg(qT)(t.value1))));if(t instanceof YC&&!t.value2)return rO(_C(Sg(qT)(t.value0))(_C("->")(Sg(qT)(t.value1))));if(t instanceof ZC)return rO(_C(Sg(qT)(t.value0))(_C("&")(Sg(qT)(t.value1))));if(t instanceof KC)return rO(_C(Sg(qT)(t.value0))(_C("|")(Sg(qT)(t.value1))));if(t instanceof JC)return sO(_C(t.value0)(_C(":")(Sg(qT)(t.value1))));if(t instanceof tT)return t.value0;if(t instanceof eT)return rO(_C("forall")(_C(t.value0)(_C("*")(Sg(qT)(t.value1)+_C(".")(Sg(qT)(t.value2))))));if(t instanceof nT)return rO(_C("mu")(t.value0+_C(".")(Sg(qT)(t.value1))));if(t instanceof rT)return rO(_C("Ref")(Sg(qT)(t.value0)));if(t instanceof iT)return iO(Sg(qT)(t.value0));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 39, column 1 - line 57, column 39): "+[t.constructor.name])}},VT=Sg(qT),XT={show:function(t){if(t instanceof lT)return EC(t.value0);if(t instanceof aT)return LC(t.value0);if(t instanceof uT)return DC(t.value0);if(t instanceof cT)return QC(t.value0);if(t instanceof hT)return"()";if(t instanceof fT)return"{}";if(t instanceof dT)return"undefined";if(t instanceof vT)return IC(t.value0)+Sg(XT)(t.value1);if(t instanceof gT)return rO(_C(Sg(XT)(t.value1))(_C(MC(t.value0))(Sg(XT)(t.value2))));if(t instanceof pT)return rO(_C("if")(_C(Sg(XT)(t.value0))(_C("then")(_C(Sg(XT)(t.value1))(_C("else")(Sg(XT)(t.value2)))))));if(t instanceof mT)return t.value0;if(t instanceof RT)return rO(_C(Sg(XT)(t.value0))(Sg(XT)(t.value1)));if(t instanceof wT)return rO("λ"+(t.value0+_C(".")(Sg(XT)(t.value1))));if(t instanceof OT)return rO(_C("fix")(t.value0+_C(".")(Sg(XT)(t.value1))));if(t instanceof xT)return rO(_C(Sg(XT)(t.value0))(_C(":")(VT(t.value1))));if(t instanceof yT)return rO(_C(Sg(XT)(t.value0))(_C(",")(Sg(XT)(t.value1))));if(t instanceof bT)return rO(_C("switch")(_C(Sg(XT)(t.value0))(_C("as")(_C(t.value1)(NC(" ")($C(t.value2)((function(t){return _C("case")(_C(VT(t.value0))(_C("->")(Sg(XT)(t.value1))))}))))))));if(t instanceof kT)return sO(_C(t.value0)(_C("=")(Sg(XT)(t.value2))));if(t instanceof CT)return Sg(XT)(t.value0)+"."+t.value1;if(t instanceof TT)return rO(_C(Sg(XT)(t.value0))("@"+VT(t.value1)));if(t instanceof ST)return rO("Λ"+(t.value0+_C(".")(Sg(XT)(t.value2))));if(t instanceof AT)return _C(t.value0)(_C("=")(Sg(XT)(t.value1)+";\n"+Sg(XT)(t.value2)));if(t instanceof PT)return rO("fold @"+_C(VT(t.value0))(Sg(XT)(t.value1)));if(t instanceof _T)return rO("unfold @"+_C(VT(t.value0))(Sg(XT)(t.value1)));if(t instanceof ET)return rO(_C("ref")(Sg(XT)(t.value0)));if(t instanceof LT)return"!"+Sg(XT)(t.value0);if(t instanceof DT)return rO(_C(Sg(XT)(t.value0))(_C(":=")(Sg(XT)(t.value1))));if(t instanceof QT)return rO(_C("toString")(Sg(XT)(t.value0)));if(t instanceof IT)return iO(FC("; ")(BC(Sg(XT))(t.value1)));if(t instanceof MT)return Sg(XT)(t.value0);if(t instanceof NT)return Sg(XT)(Tw(t.value0));if(t instanceof $T)return oO(_C("Closure")(Sg(XT)(t.value1)));if(t instanceof FT)return oO(_C("HOAS")(_C(VT(t.value1))(_C("→")(VT(t.value2)))));if(t instanceof BT)return oO(_C("HOAS fix")(VT(t.value1)));if(t instanceof UT)return oO(_C("HOAS ∀*")(VT(t.value1)));if(t instanceof HT)return rO(_C("switch")(_C(Sg(XT)(t.value0))(NC(" ")($C(t.value1)((function(t){return _C("case")(_C(VT(t.value0))("-> <HOAS case>"))}))))));throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 103, column 1 - line 145, column 85): "+[t.constructor.name])}},zT=Sg(XT),WT={show:function(t){if(t instanceof sT)return zT(t.value0);if(t instanceof oT&&t.value0 instanceof _g)return VT(t.value0.value0);if(t instanceof oT&&t.value0 instanceof Pg)return"*";throw new Error("Failed pattern match at Language.CP.Syntax.Core (line 298, column 1 - line 301, column 30): "+[t.constructor.name])}},jT={eq:function(t){return function(e){return t instanceof qC&&e instanceof qC||(t instanceof VC&&e instanceof VC||(t instanceof XC&&e instanceof XC||(t instanceof zC&&e instanceof zC||(t instanceof WC&&e instanceof WC||(t instanceof jC&&e instanceof jC||(t instanceof GC&&e instanceof GC||(t instanceof YC&&e instanceof YC?og(jT)(t.value0)(e.value0)&&og(jT)(t.value1)(e.value1)&&t.value2===e.value2:t instanceof ZC&&e instanceof ZC||t instanceof KC&&e instanceof KC?og(jT)(t.value0)(e.value0)&&og(jT)(t.value1)(e.value1):t instanceof JC&&e instanceof JC?t.value0===e.value0&&og(jT)(t.value1)(e.value1):t instanceof tT&&e instanceof tT?t.value0===e.value0:t instanceof eT&&e instanceof eT?t.value0===e.value0&&og(jT)(t.value1)(e.value1)&&og(jT)(t.value2)(e.value2):t instanceof nT&&e instanceof nT?t.value0===e.value0&&og(jT)(t.value1)(e.value1):(t instanceof rT&&e instanceof rT||t instanceof iT&&e instanceof iT)&&og(jT)(t.value0)(e.value0))))))))}}},GT=function(t){return function(e){return function(n){return n instanceof YC?new YC(GT(t)(e)(n.value0),GT(t)(e)(n.value1),n.value2):n instanceof ZC?new ZC(GT(t)(e)(n.value0),GT(t)(e)(n.value1)):n instanceof KC?new KC(GT(t)(e)(n.value0),GT(t)(e)(n.value1)):n instanceof JC?new JC(n.value0,GT(t)(e)(n.value1)):n instanceof tT&&t===n.value0?e:n instanceof eT?new eT(n.value0,GT(t)(e)(n.value1),t===n.value0?n.value2:GT(t)(e)(n.value2)):n instanceof nT&&t!==n.value0?new nT(n.value0,GT(t)(e)(n.value1)):n instanceof rT?new rT(GT(t)(e)(n.value0)):n instanceof iT?new iT(GT(t)(e)(n.value0)):n}}},YT=function(t){return t instanceof nT?GT(t.value0)(t)(t.value1):t},ZT=function(t){return function(e){if(e instanceof YC)return new YC(ZT(t)(e.value0),ZT(t)(e.value1),e.value2);if(e instanceof ZC)return new ZC(ZT(t)(e.value0),ZT(t)(e.value1));if(e instanceof KC)return new KC(ZT(t)(e.value0),ZT(t)(e.value1));if(e instanceof JC)return new JC(e.value0,ZT(t)(e.value1));if(e instanceof tT){var n=UC(e.value0)(t);return n instanceof _g&&n.value0 instanceof qg?n.value0.value0:new tT(e.value0)}return e instanceof eT?new eT(e.value0,ZT(t)(e.value1),ZT(t)(e.value2)):e instanceof nT?new nT(e.value0,ZT(t)(e.value1)):e instanceof rT?new rT(ZT(t)(e.value0)):e instanceof iT?new iT(ZT(t)(e.value0)):e}},KT=function(t){return function(e){return function(n){return function(r){return ZT(HC(e)(new qg(r))(t))(n)}}}},JT=KT(yw),tS=function(t){return function(e){return function(n){if(n instanceof vT)return new vT(n.value0,tS(t)(e)(n.value1));if(n instanceof gT)return new gT(n.value0,tS(t)(e)(n.value1),tS(t)(e)(n.value2));if(n instanceof pT)return new pT(tS(t)(e)(n.value0),tS(t)(e)(n.value1),tS(t)(e)(n.value2));if(n instanceof RT)return new RT(tS(t)(e)(n.value0),tS(t)(e)(n.value1),n.value2);if(n instanceof wT)return new wT(n.value0,tS(t)(e)(n.value1),GT(t)(e)(n.value2),GT(t)(e)(n.value3),n.value4,n.value5);if(n instanceof OT)return new OT(n.value0,tS(t)(e)(n.value1),GT(t)(e)(n.value2));if(n instanceof xT)return new xT(tS(t)(e)(n.value0),GT(t)(e)(n.value1));if(n instanceof yT)return new yT(tS(t)(e)(n.value0),tS(t)(e)(n.value1));if(n instanceof bT)return new bT(tS(t)(e)(n.value0),n.value1,$C(n.value2)((function(n){return new Tp(GT(t)(e)(n.value0),tS(t)(e)(n.value1))})));if(n instanceof kT)return new kT(n.value0,GT(t)(e)(n.value1),tS(t)(e)(n.value2));if(n instanceof CT)return new CT(tS(t)(e)(n.value0),n.value1);if(n instanceof TT)return new TT(tS(t)(e)(n.value0),GT(t)(e)(n.value1));if(n instanceof ST){var r=ST.create(n.value0)(GT(t)(e)(n.value1));return t===n.value0?r(n.value2)(n.value3)(n.value4):r(tS(t)(e)(n.value2))(GT(t)(e)(n.value3))(n.value4)}return n instanceof AT?new AT(n.value0,tS(t)(e)(n.value1),tS(t)(e)(n.value2)):n instanceof PT?new PT(GT(t)(e)(n.value0),tS(t)(e)(n.value1)):n instanceof _T?new _T(GT(t)(e)(n.value0),tS(t)(e)(n.value1)):n instanceof ET?new ET(tS(t)(e)(n.value0)):n instanceof LT?new LT(tS(t)(e)(n.value0)):n instanceof DT?new DT(tS(t)(e)(n.value0),tS(t)(e)(n.value1)):n instanceof QT?new QT(tS(t)(e)(n.value0)):n instanceof IT?new IT(GT(t)(e)(n.value0),BC(tS(t)(e))(n.value1)):n instanceof MT?new MT(tS(t)(e)(n.value0)):n}}},eS=function(t){return function(e){return function(n){return n instanceof vT?new vT(n.value0,eS(t)(e)(n.value1)):n instanceof gT?new gT(n.value0,eS(t)(e)(n.value1),eS(t)(e)(n.value2)):n instanceof pT?new pT(eS(t)(e)(n.value0),eS(t)(e)(n.value1),eS(t)(e)(n.value2)):n instanceof mT&&t===n.value0?e:n instanceof RT?new RT(eS(t)(e)(n.value0),eS(t)(e)(n.value1),n.value2):n instanceof wT&&t!==n.value0?new wT(n.value0,eS(t)(e)(n.value1),n.value2,n.value3,n.value4,n.value5):n instanceof OT&&t!==n.value0?new OT(n.value0,eS(t)(e)(n.value1),n.value2):n instanceof xT?new xT(eS(t)(e)(n.value0),n.value1):n instanceof yT?new yT(eS(t)(e)(n.value0),eS(t)(e)(n.value1)):n instanceof bT?new bT(eS(t)(e)(n.value0),n.value1,t===n.value1?n.value2:$C(n.value2)((function(n){return new Tp(n.value0,eS(t)(e)(n.value1))}))):n instanceof kT?new kT(n.value0,n.value1,eS(t)(e)(n.value2)):n instanceof CT?new CT(eS(t)(e)(n.value0),n.value1):n instanceof TT?new TT(eS(t)(e)(n.value0),n.value1):n instanceof ST?new ST(n.value0,n.value1,eS(t)(e)(n.value2),n.value3,n.value4):n instanceof AT?new AT(n.value0,eS(t)(e)(n.value1),t===n.value0?n.value2:eS(t)(e)(n.value2)):n instanceof PT?new PT(n.value0,eS(t)(e)(n.value1)):n instanceof _T?new _T(n.value0,eS(t)(e)(n.value1)):n instanceof ET?new ET(eS(t)(e)(n.value0)):n instanceof LT?new LT(eS(t)(e)(n.value0)):n instanceof DT?new DT(eS(t)(e)(n.value0),eS(t)(e)(n.value1)):n instanceof QT?new QT(eS(t)(e)(n.value0)):n instanceof IT?new IT(n.value0,BC(eS(t)(e))(n.value1)):n instanceof MT?new MT(eS(t)(e)(n.value0)):n}}},nS=function(t){return function(e){if(e instanceof vT)return new vT(e.value0,nS(t)(e.value1));if(e instanceof gT)return new gT(e.value0,nS(t)(e.value1),nS(t)(e.value2));if(e instanceof pT)return new pT(nS(t)(e.value0),nS(t)(e.value1),nS(t)(e.value2));if(e instanceof mT){var n=UC(e.value0)(t);return n instanceof _g&&n.value0 instanceof Hg?n.value0.value0:new mT(e.value0)}if(e instanceof RT)return new RT(nS(t)(e.value0),nS(t)(e.value1),e.value2);if(e instanceof wT)return new FT((function(n){return nS(HC(e.value0)(new Hg(n))(t))(e.value1)}),ZT(t)(e.value2),ZT(t)(e.value3),e.value4);if(e instanceof OT)return new BT((function(n){return nS(HC(e.value0)(new Hg(n))(t))(e.value1)}),ZT(t)(e.value2));if(e instanceof xT)return new xT(nS(t)(e.value0),ZT(t)(e.value1));if(e instanceof yT)return new yT(nS(t)(e.value0),nS(t)(e.value1));if(e instanceof bT)return new HT(nS(t)(e.value0),$C(e.value2)((function(n){return new Tp(ZT(t)(n.value0),(function(r){return nS(HC(e.value1)(new Hg(r))(t))(n.value1)}))})));if(e instanceof kT)return new kT(e.value0,ZT(t)(e.value1),nS(t)(e.value2));if(e instanceof CT)return new CT(nS(t)(e.value0),e.value1);if(e instanceof TT)return new TT(nS(t)(e.value0),ZT(t)(e.value1));if(e instanceof ST)return new UT((function(n){return nS(HC(e.value0)(new qg(n))(t))(e.value2)}),ZT(t)(e.value1),KT(t)(e.value0)(e.value3),e.value4);if(e instanceof AT){var r=new NT(kw(nS(t)(e.value1)));return nS(HC(e.value0)(new Hg(r))(t))(e.value2)}return e instanceof PT?new PT(ZT(t)(e.value0),nS(t)(e.value1)):e instanceof _T?new _T(ZT(t)(e.value0),nS(t)(e.value1)):e instanceof ET?new ET(nS(t)(e.value0)):e instanceof LT?new LT(nS(t)(e.value0)):e instanceof DT?new DT(nS(t)(e.value0),nS(t)(e.value1)):e instanceof QT?new QT(nS(t)(e.value0)):e instanceof IT?new IT(ZT(t)(e.value0),BC(nS(t))(e.value1)):e instanceof MT?new MT(nS(t)(e.value0)):e}},rS=nS(yw),iS=Hv(Bg),sS=og(jT),oS=function(t){return t instanceof ZC?new _g(new Tp(t.value0,t.value1)):t instanceof YC?iS(oS(t.value1))((function(e){return new _g(new Tp(new YC(t.value0,e.value0,t.value2),new YC(t.value0,e.value1,t.value2)))})):t instanceof JC?iS(oS(t.value1))((function(e){return new _g(new Tp(new JC(t.value0,e.value0),new JC(t.value0,e.value1)))})):t instanceof eT?iS(oS(t.value2))((function(e){return new _g(new Tp(new eT(t.value0,t.value1,e.value0),new eT(t.value0,t.value1,e.value1)))})):Pg.value},lS=function(t){return t instanceof jC||(t instanceof YC?lS(t.value1):t instanceof ZC?lS(t.value0)&&lS(t.value1):t instanceof JC?lS(t.value1):t instanceof eT?lS(t.value2):t instanceof nT&&lS(t.value1))},aS=function(t){return function(e){if(t instanceof GC)return!0;if(lS(e))return!0;var n=oS(e);return n instanceof _g?aS(t)(n.value0.value0)&&aS(t)(n.value0.value1):function(){if(t instanceof KC)return aS(t.value0)(e)&&aS(t.value1)(e);if(e instanceof KC)return aS(t)(e.value0)||aS(t)(e.value1);if(t instanceof ZC)return aS(t.value0)(e)||aS(t.value1)(e);if(t instanceof YC&&e instanceof YC)return aS(e.value0)(t.value0)&&aS(t.value1)(e.value1);if(t instanceof JC&&e instanceof JC)return t.value0===e.value0&&aS(t.value1)(e.value1);if(t instanceof eT&&e instanceof eT)return aS(e.value1)(t.value1)&&aS(t.value2)(GT(e.value0)(new tT(t.value0))(e.value2));if(t instanceof nT&&e instanceof nT){var n=GT(e.value0)(new tT(t.value0))(e.value1);return aS(GT(t.value0)(new JC(t.value0,t.value1))(t.value1))(GT(e.value0)(new JC(t.value0,n))(e.value1))}return t instanceof rT&&e instanceof rT?aS(t.value0)(e.value0)&&aS(e.value0)(t.value0):t instanceof iT&&e instanceof iT?aS(t.value0)(e.value0):!!sS(t)(e)}()}},uS=function(t){return function(e){return t instanceof YC&&e instanceof YC||t instanceof ZC&&e instanceof ZC?uS(t.value0)(e.value0)&&uS(t.value1)(e.value1):t instanceof JC&&e instanceof JC?t.value0===e.value0&&uS(t.value1)(e.value1):t instanceof eT&&e instanceof eT?uS(t.value1)(e.value1)&&uS(t.value2)(GT(e.value0)(new tT(t.value0))(e.value2)):t instanceof nT&&e instanceof nT?uS(t.value1)(GT(e.value0)(new tT(t.value0))(e.value1)):t instanceof rT&&e instanceof rT||t instanceof iT&&e instanceof iT?uS(t.value0)(e.value0):!!sS(t)(e)}},cS=zp(),hS=Km(TR),fS=jm(TR),dS=zm(TR),vS=function(t){return cS(pw(t))},gS=function(t){return xw(t)},pS={foldMap:function(t){var e=hS(t);return function(t){var n=e(t);return function(t){return n(gS(t))}}},foldl:function(t){return function(e){var n=fS(t)(e);return function(t){return n(gS(t))}}},foldr:function(t){return function(e){var n=dS(t)(e);return function(t){return n(gS(t))}}}},mS=yw;var RS=_p(eg),wS=Cv(CR),OS=kv(CR),xS=Mm(Nm),yS=kv(Ig),bS=tR(TR)(Cp),kS=Gm(TR)(Yg),CS=Sg(Cg),TS=Sg(kg),SS=Sg(bg),AS=Sg(Tg),PS=Sg(Gw),_S=Sg(nO),ES=Gm(Zm)(Yg),LS=kv(Pv),DS=Km(TR)(Yg),QS=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),IS=function(){function t(){}return t.value=new t,t}(),MS=function(){function t(){}return t.value=new t,t}(),NS=function(){function t(){}return t.value=new t,t}(),$S=function(){function t(){}return t.value=new t,t}(),FS=function(){function t(){}return t.value=new t,t}(),BS=function(){function t(){}return t.value=new t,t}(),US=function(){function t(){}return t.value=new t,t}(),HS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),qS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),VS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),XS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),zS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),WS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),jS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),GS=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),YS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ZS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),KS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),JS=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),tA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),eA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),nA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),rA=function(){function t(){}return t.value=new t,t}(),iA=function(){function t(){}return t.value=new t,t}(),sA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),oA=function(){function t(){}return t.value=new t,t}(),lA=function(){function t(){}return t.value=new t,t}(),aA=function(){function t(){}return t.value=new t,t}(),uA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),cA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),hA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),fA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),dA=function(){function t(){}return t.value=new t,t}(),vA=function(){function t(){}return t.value=new t,t}(),gA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),pA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),mA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),RA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),wA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),OA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),xA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),yA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),bA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),kA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),CA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),TA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),SA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),AA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),PA=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),_A=function(){function t(t,e,n,r,i,s){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i,this.value5=s}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return function(o){return new t(e,n,r,i,s,o)}}}}}},t}(),EA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),LA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),DA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),QA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),IA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),MA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),NA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),$A=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),FA=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),BA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),UA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),HA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),qA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),VA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),XA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),zA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),WA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),jA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),GA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),YA=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),ZA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),KA=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),JA=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),tP=function(){function t(t,e,n,r){this.value0=t,this.value1=e,this.value2=n,this.value3=r}return t.create=function(e){return function(n){return function(r){return function(i){return new t(e,n,r,i)}}}},t}(),eP=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),nP=function(){function t(t,e,n,r,i){this.value0=t,this.value1=e,this.value2=n,this.value3=r,this.value4=i}return t.create=function(e){return function(n){return function(r){return function(i){return function(s){return new t(e,n,r,i,s)}}}}},t}(),rP=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),iP={show:function(t){if(t instanceof oA)return",";if(t instanceof lA)return"+,";if(t instanceof aA)return",+";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 116, column 1 - line 119, column 23): "+[t.constructor.name])}},sP=Sg(iP),oP={eq:function(t){return function(e){return t instanceof IS&&e instanceof IS||(t instanceof MS&&e instanceof MS||(t instanceof NS&&e instanceof NS||(t instanceof $S&&e instanceof $S||(t instanceof FS&&e instanceof FS||(t instanceof BS&&e instanceof BS||(t instanceof US&&e instanceof US||(t instanceof HS&&e instanceof HS||t instanceof qS&&e instanceof qS||t instanceof VS&&e instanceof VS?og(oP)(t.value0)(e.value0)&&og(oP)(t.value1)(e.value1):t instanceof XS&&e instanceof XS?og(DR(lP))(t.value0)(e.value0):t instanceof zS&&e instanceof zS?t.value0===e.value0:t instanceof WS&&e instanceof WS?og(DR(RS($g(oP))))(t.value0)(e.value0)&&og(oP)(t.value1)(e.value1):t instanceof jS&&e instanceof jS?t.value0===e.value0&&og(oP)(t.value1)(e.value1):t instanceof GS&&e instanceof GS?og(oP)(t.value0)(e.value0):t instanceof YS&&e instanceof YS?og(oP)(t.value0)(e.value0)&&og(oP)(t.value1)(e.value1):t instanceof ZS&&e instanceof ZS?t.value0===e.value0&&og(oP)(t.value1)(e.value1):t instanceof KS&&e instanceof KS?og($g(oP))(t.value0)(e.value0)&&og(oP)(t.value1)(e.value1):t instanceof JS&&e instanceof JS?og(oP)(t.value0)(e.value0)&&og($g(oP))(t.value1)(e.value1):t instanceof tA&&e instanceof tA?t.value0===e.value0&&t.value1===e.value1&&og(oP)(t.value2)(e.value2):t instanceof eA&&e instanceof eA?og(oP)(t.value0)(e.value0):t instanceof nA&&e instanceof nA&&(og(oP)(t.value0)(e.value0)&&og(oP)(t.value1)(e.value1)))))))))}}},lP={eq:function(t){return function(e){return t.value0===e.value0&&og(oP)(t.value1)(e.value1)&&t.value2===e.value2}}},aP=function(t){return function(e){return function(n){return n instanceof HS?new HS(aP(t)(e)(n.value0),aP(t)(e)(n.value1)):n instanceof qS?new qS(aP(t)(e)(n.value0),aP(t)(e)(n.value1)):n instanceof VS?new VS(aP(t)(e)(n.value0),aP(t)(e)(n.value1)):n instanceof XS?new XS(wS(n.value0)((function(n){return new QS(n.value0,aP(t)(e)(n.value1),n.value2)}))):n instanceof zS?t===n.value0?e:new zS(n.value0):n instanceof WS?new WS(OS(xS(yS(aP(t)(e))))(n.value0),bS((function(e){return Pp(e)===t}))(n.value0)?n.value1:aP(t)(e)(n.value1)):n instanceof jS?new jS(n.value0,t===n.value0?n.value1:aP(t)(e)(n.value1)):n instanceof GS?new GS(aP(t)(e)(n.value0)):n instanceof YS?new YS(aP(t)(e)(n.value0),aP(t)(e)(n.value1)):n instanceof ZS?new ZS(n.value0,t===n.value0?n.value1:aP(t)(e)(n.value1)):n instanceof KS?new KS(yS(aP(t)(e))(n.value0),aP(t)(e)(n.value1)):n instanceof JS?new JS(aP(t)(e)(n.value0),yS(aP(t)(e))(n.value1)):n instanceof tA?new tA(n.value0,n.value1,t===n.value0||t===n.value1?n.value2:aP(t)(e)(n.value2)):n instanceof eA?new eA(aP(t)(e)(n.value0)):n instanceof nA?new nA(aP(t)(e)(n.value0),aP(t)(e)(n.value1)):n}}},uP=function(t){var e=Sg(t);return function(t){return function(n){return function(r){return Lg("")((function(n){return t+(e(n)+r)}))(n)}}}},cP=function(t){var e=function(t){return zm(t)((function(t){return function(t){return!1}}))(!0)}(t),n=Gm(t);return function(t){var r=Zg(t),i=Dv(t.Semigroup0()),s=n(t);return function(t){return function(n){return e(n)?r:i(s(t)(n))(t)}}}},hP=cP(TR)(Yg),fP=function(t){return hP(" ")(wS(t)((function(t){return Lg(Pp(t))((function(e){return rO(_C(Pp(t))(_C("*")(Sg(dP)(e))))}))(Ap(t))})))},dP={show:function(t){if(t instanceof IS)return"Int";if(t instanceof MS)return"Double";if(t instanceof NS)return"String";if(t instanceof $S)return"Bool";if(t instanceof FS)return"()";if(t instanceof BS)return"Top";if(t instanceof US)return"Bot";if(t instanceof HS)return rO(_C(Sg(dP)(t.value0))(_C("->")(Sg(dP)(t.value1))));if(t instanceof qS)return rO(_C(Sg(dP)(t.value0))(_C("&")(Sg(dP)(t.value1))));if(t instanceof VS)return rO(_C(Sg(dP)(t.value0))(_C("|")(Sg(dP)(t.value1))));if(t instanceof XS)return sO(vP(t.value0));if(t instanceof zS)return t.value0;if(t instanceof WS)return rO(_C("forall")(fP(t.value0)+_C(".")(Sg(dP)(t.value1))));if(t instanceof jS)return rO(_C("mu")(t.value0+_C(".")(Sg(dP)(t.value1))));if(t instanceof GS)return rO(_C("Ref")(Sg(dP)(t.value0)));if(t instanceof YS)return rO(_C(Sg(dP)(t.value0))(Sg(dP)(t.value1)));if(t instanceof ZS)return rO("\\"+_C(t.value0)(_C("->")(Sg(dP)(t.value1))));if(t instanceof KS)return"Trait"+oO(uP(dP)("")(t.value0)(" => ")+Sg(dP)(t.value1));if(t instanceof JS)return oO(Sg(dP)(t.value0)+uP(dP)(" => ")(t.value1)(""));if(t instanceof tA)return rO("\\"+_C(oO(t.value0+_C(",")(t.value1)))(_C("->")(Sg(dP)(t.value2))));if(t instanceof eA)return iO(Sg(dP)(t.value0));if(t instanceof nA)return rO(_C(Sg(dP)(t.value0))(_C("\\")(Sg(dP)(t.value1))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 41, column 1 - line 65, column 62): "+[t.constructor.name])}},vP=function(t){return kS("; ")(wS(t)((function(t){return t.value0+_C(t.value2?"?":"")(_C(":")(Sg(dP)(t.value1)))})))},gP=Sg(dP),pP=uP(dP),mP=yS((function(t){return iO(function(){if(t.value1 instanceof _g)return _C(t.value0)(_C(":")(gP(t.value1.value0)));if(t.value1 instanceof Pg)return t.value0;throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 293, column 45 - line 295, column 15): "+[t.value1.constructor.name])}())})),RP=function(t){var e=function(t){return _C(t.value0)(_C("=")(Sg(wP)(t.value1)+"; "))};return hP(" ")(wS(t)((function(t){if(t instanceof YA&&t.value1 instanceof _g)return rO(_C(t.value0)(_C(":")(gP(t.value1.value0))));if(t instanceof YA&&t.value1 instanceof Pg)return t.value0;if(t instanceof ZA)return"{"+DS(e)(t.value0)+"..}";throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 263, column 53 - line 266, column 66): "+[t.constructor.name])})))},wP={show:function(t){if(t instanceof uA)return CS(t.value0);if(t instanceof cA)return TS(t.value0);if(t instanceof hA)return SS(t.value0);if(t instanceof fA)return AS(t.value0);if(t instanceof dA)return"()";if(t instanceof vA)return"undefined";if(t instanceof gA)return PS(t.value0)+Sg(wP)(t.value1);if(t instanceof pA)return rO(_C(Sg(wP)(t.value1))(_C(_S(t.value0))(Sg(wP)(t.value2))));if(t instanceof mA)return rO(_C("if")(_C(Sg(wP)(t.value0))(_C("then")(_C(Sg(wP)(t.value1))(_C("else")(Sg(wP)(t.value2)))))));if(t instanceof RA)return SC(t.value0)?"$"+t.value0:t.value0;if(t instanceof wA)return rO(_C(Sg(wP)(t.value0))(Sg(wP)(t.value1)));if(t instanceof OA)return rO("\\"+(RP(t.value0)+_C("->")(Sg(wP)(t.value1))));if(t instanceof xA)return rO(_C("fix")(_C(t.value0)(_C(":")(gP(t.value2)+_C(".")(Sg(wP)(t.value1))))));if(t instanceof yA)return rO(_C(Sg(wP)(t.value0))(_C(":")(gP(t.value1))));if(t instanceof bA)return rO(_C(Sg(wP)(t.value1))(_C(sP(t.value0))(Sg(wP)(t.value2))));if(t instanceof kA)return rO(_C("switch")(Sg(wP)(t.value0)+_C(Lg("")((function(t){return" as "+t}))(t.value1))(kS(" ")(wS(t.value2)((function(t){return _C("case")(_C(gP(t.value0))(_C("->")(Sg(wP)(t.value1))))}))))));if(t instanceof CA)return sO(OP(t.value0));if(t instanceof TA)return Sg(wP)(t.value0)+"."+t.value1;if(t instanceof SA)return rO(_C(Sg(wP)(t.value0))("@"+gP(t.value1)));if(t instanceof AA)return rO("/\\"+(fP(t.value0)+_C(".")(Sg(wP)(t.value1))));if(t instanceof PA)return rO(_C("let")(_C(t.value0)(fP(t.value1)+(RP(t.value2)+_C("=")(_C(Sg(wP)(t.value3))(_C("in")(Sg(wP)(t.value4))))))));if(t instanceof _A)return rO(_C("letrec")(_C(t.value0)(fP(t.value1)+(RP(t.value2)+_C(":")(_C(gP(t.value3))(_C("=")(_C(Sg(wP)(t.value4))(_C("in")(Sg(wP)(t.value5))))))))));if(t instanceof EA)return rO(_C("open")(_C(Sg(wP)(t.value0))(_C("in")(Sg(wP)(t.value1)))));if(t instanceof LA)return sO(_C(Sg(wP)(t.value0))(_C("with")(kS("; ")(wS(t.value1)((function(t){return _C(t.value0)(_C("=")(Sg(wP)(t.value1)))}))))));if(t instanceof DA)return rO("trait"+_C(Lg("")((function(t){return" "+t}))(mP(t.value0)))(pP("implements ")(t.value1)(" ")+(uP(wP)("inherits ")(t.value2)(" ")+_C("=>")(Sg(wP)(t.value3)))));if(t instanceof QA)return rO(_C("new")(Sg(wP)(t.value0)));if(t instanceof IA)return rO(_C(Sg(wP)(t.value0))(_C("^")(Sg(wP)(t.value1))));if(t instanceof MA)return rO(_C(Sg(wP)(t.value0))(_C("\\\\")(gP(t.value1))));if(t instanceof NA)return rO(_C(Sg(wP)(t.value0))(_C("\\")(t.value1)));if(t instanceof $A)return rO(_C(Sg(wP)(t.value0))(_C("\\-")(Sg(wP)(t.value1))));if(t instanceof FA)return rO(_C(Sg(wP)(t.value0))(iO(_C(t.value1)(_C("<-")(t.value2)))));if(t instanceof BA)return rO("fold @"+_C(gP(t.value0))(Sg(wP)(t.value1)));if(t instanceof UA)return rO("unfold @"+_C(gP(t.value0))(Sg(wP)(t.value1)));if(t instanceof HA)return rO(_C("ref")(Sg(wP)(t.value0)));if(t instanceof qA)return"!"+Sg(wP)(t.value0);if(t instanceof VA)return rO(_C(Sg(wP)(t.value0))(_C(":=")(Sg(wP)(t.value1))));if(t instanceof XA)return _C(Sg(wP)(t.value0))(_C(">>")(Sg(wP)(t.value1)));if(t instanceof zA)return rO(_C("toString")(Sg(wP)(t.value0)));if(t instanceof WA)return iO(ES("; ")(LS(Sg(wP))(t.value0)));if(t instanceof jA)return Sg(wP)(t.value0);if(t instanceof GA)return Sg(wP)(t.value1);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 126, column 1 - line 178, column 31): "+[t.constructor.name])}},OP=function(t){var e=function(t){return function(e){return function(n){return"."+_C(t)(RP(e)+_C("=")(Sg(wP)(n)))}}};return kS("; ")(wS(t)((function(t){if(t instanceof KA)return(t.value0?"override ":"")+function(t){return function(n){return function(r){if(r instanceof Hg)return _C(t)(RP(n)+_C("=")(Sg(wP)(r.value0)));if(r instanceof qg)return Lg("")((function(t){return t+"@"}))(mP(r.value0.value0))+(rO(" "+_C(t)(RP(n)))+e(r.value0.value1)(r.value0.value2)(r.value0.value3));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 282, column 9 - line 282, column 79): "+[t.constructor.name,n.constructor.name,r.constructor.name])}}}(t.value1)(t.value2)(t.value3);if(t instanceof JA)return Ng("_")(mP(t.value0.value0))+e(t.value0.value1)(t.value0.value2)(t.value0.value3);throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 278, column 42 - line 281, column 58): "+[t.constructor.name])})))},xP=Sg(wP),yP=function(t){return t instanceof jA?"`"+yP(t.value0)+"`":t instanceof GA&&t.value1 instanceof jA?"["+yP(t.value1.value0)+"]":t instanceof GA?yP(t.value1):t instanceof QA?yP(t.value0):t instanceof RA&&"Endl"===t.value0?"\\\\":t instanceof RA?"\\"+t.value0:t instanceof wA&&t.value0 instanceof wA&&t.value0.value0 instanceof RA&&"Comp"===t.value0.value0.value0?yP(t.value0.value1)+yP(t.value1):t instanceof wA&&t.value0 instanceof RA&&"Str"===t.value0.value0&&t.value1 instanceof hA?t.value1.value0:t instanceof wA&&t.value0 instanceof RA&&"Str"===t.value0.value0&&t.value1 instanceof zA?"\\("+xP(t.value1.value0)+")":t instanceof wA?yP(t.value0)+yP(t.value1):"("+xP(t)+")"},bP={show:function(t){if(t instanceof eP){var e=t.value0 instanceof rA?"type":"interface",n=t.value0 instanceof sA?_C("extends")(gP(t.value0.value0)):"";return _C(e)(_C(t.value1)(hP(" ")(OS(oO)(t.value2))+(hP(" ")(t.value3)+_C(n)(_C("=")(gP(t.value4)+";")))))}if(t instanceof nP)return _C(t.value0)(fP(t.value1)+(RP(t.value2)+(pP(": ")(t.value3)(" ")+_C("=")(xP(t.value4)+";"))));throw new Error("Failed pattern match at Language.CP.Syntax.Source (line 199, column 1 - line 210, column 50): "+[t.constructor.name])}},kP=Sg(bP),CP={show:function(t){return hP("\n")(OS(kP)(t.value0))+"\n"+xP(t.value1)}},TP=Sg(Cg),SP=Sg(wP),AP=Hp(gp),PP=kv(Jp(Np(hp))),_P=mw(gg),EP=$p(gp),LP=up(im(EP)),DP=lp(sm(EP)),QP=bw(gg)(TR),IP=kv(CR),MP=Mm(Nm),NP=Hv(em(Fp(gp))),$P=op(om(AP)),FP=Fv(nm(Up(gp))),BP=Sg(bg),UP=Rv(wv),HP=Rw(gg),qP=function(){function t(){}return t.value=new t,t}(),VP=function(){function t(t,e,n){this.value0=t,this.value1=e,this.value2=n}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),XP=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),zP=function(){function t(){}return t.value=new t,t}(),WP=function(){function t(){}return t.value=new t,t}(),jP=function(){function t(){}return t.value=new t,t}(),GP=function(){function t(){}return t.value=new t,t}(),YP=function(){function t(){}return t.value=new t,t}(),ZP=function(){function t(){}return t.value=new t,t}(),KP={show:function(t){if(t.value1 instanceof qP)return t.value0;if(t.value1 instanceof VP){return e=t.value1.value0,TP(e.line)+":"+TP(e.column)+": "+t.value0+"\nin the expression: "+(t.value1.value2?yP:SP)(t.value1.value1)}var e;throw new Error("Failed pattern match at Language.CP.Context (line 86, column 1 - line 94, column 40): "+[t.constructor.name])}},JP={append:xv},t_=function(t){return function(e){return YR(t(e))}},e_=function(t){return PP(_P(t))(LP((function(t){return t.tyBindEnv})))},n_=function(t){return PP(_P(t))(LP((function(t){return t.sortEnv})))},r_=function(t){return DP((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.pos=t(e.pos),n}))},i_=function(){return{mode:YP.value,timing:!1,tmBindings:bR.value,tyAliases:bR.value,forbidDup:!0,runJS:!1}}(),s_=function(t){return{tmBindEnv:QP(FR(IP(MP(Pp))(t.tmBindings))),tyAliasEnv:QP(FR(t.tyAliases)),tyBindEnv:yw,sortEnv:yw,pos:qP.value}},o_=LP((function(t){return t.pos})),l_=function(t){return NP(PP(XP.create(t))(o_))($P)},a_=function(t){return function(e){return function(n){return"_"===e?UP:DP(t(HP(e)(n)))}}},u_=a_((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tyBindEnv:t(e.tyBindEnv)}}})),c_=a_((function(t){return function(e){return{tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,sortEnv:e.sortEnv,pos:e.pos,tmBindEnv:t(e.tmBindEnv)}}})),h_=a_((function(t){return function(e){return{tmBindEnv:e.tmBindEnv,tyBindEnv:e.tyBindEnv,tyAliasEnv:e.tyAliasEnv,pos:e.pos,sortEnv:t(e.sortEnv)}}})),f_=zm(TR),d_=Mm(Nm),v_=Rv(wv),g_=Cv(CR),p_=Qv(Ug),m_=kv(Ig),R_=kv(CR),w_=kv(Pv),O_=function(t){return new DA(t.value0,Pg.value,Pg.value,new CA(MR(new KA(!1,t.value1,t.value2,new Hg(t.value3)))))},x_=function(t){if(t instanceof OA)return f_((function(t){return function(e){return new OA(MR(t),e)}}))(x_(t.value1))(t.value0);if(t instanceof AA){var e=function(t){return new _g(Ng(BS.value)(t))};return f_((function(t){return function(n){return new AA(MR(d_(e)(t)),n)}}))(x_(t.value1))(t.value0)}if(t instanceof CA&&t.value0 instanceof bR)return new CA(bR.value);if(t instanceof CA){return PC(bA.create(oA.value))(g_(t.value0)((function(t){return new CA(MR(function(t){if(t instanceof KA)return new KA(t.value0,t.value1,bR.value,new Hg(x_(new OA(t.value2,Xg(v_)(O_)(t.value3)))));if(t instanceof JA)return t;throw new Error("Failed pattern match at Language.CP.Desugar (line 25, column 5 - line 25, column 41): "+[t.constructor.name])}(t)))})))}if(t instanceof DA&&t.value0 instanceof _g)return new DA(new _g(new Tp(t.value0.value0.value0,p_(t.value0.value0.value1)(t.value1))),p_(t.value1)(new _g(BS.value)),m_(x_)(t.value2),x_(t.value3));if(t instanceof DA&&t.value0 instanceof Pg)return x_(new DA(new _g(new Tp("$self",new _g(BS.value))),t.value1,t.value2,t.value3));if(t instanceof PA)return new PA(t.value0,bR.value,bR.value,x_(new AA(t.value1,new OA(t.value2,t.value3))),x_(t.value4));if(t instanceof _A){var n=new WS(t.value1,f_(HS.create)(t.value3)(R_((function(t){if(t instanceof YA&&t.value1 instanceof _g)return t.value1.value0;if(t instanceof YA&&t.value1 instanceof Pg)return US.value;if(t instanceof ZA)return US.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 41, column 16 - line 43, column 45): "+[t.constructor.name])}))(t.value2)));return new _A(t.value0,bR.value,bR.value,n,x_(new AA(t.value1,new OA(t.value2,t.value4))),x_(t.value5))}return t instanceof gA?new gA(t.value0,x_(t.value1)):t instanceof pA?new pA(t.value0,x_(t.value1),x_(t.value2)):t instanceof mA?new mA(x_(t.value0),x_(t.value1),x_(t.value2)):t instanceof wA?new wA(x_(t.value0),x_(t.value1)):t instanceof xA?new xA(t.value0,x_(t.value1),t.value2):t instanceof yA?new yA(x_(t.value0),t.value1):t instanceof bA?new bA(t.value0,x_(t.value1),x_(t.value2)):t instanceof kA?new kA(x_(t.value0),t.value1,R_(d_(x_))(t.value2)):t instanceof TA?new TA(x_(t.value0),t.value1):t instanceof SA?new SA(x_(t.value0),t.value1):t instanceof EA?new EA(x_(t.value0),x_(t.value1)):t instanceof LA?new LA(x_(t.value0),R_(d_(x_))(t.value1)):t instanceof QA?new QA(x_(t.value0)):t instanceof IA?new IA(x_(t.value0),x_(t.value1)):t instanceof MA?new MA(x_(t.value0),t.value1):t instanceof NA?new NA(x_(t.value0),t.value1):t instanceof $A?new $A(x_(t.value0),x_(t.value1)):t instanceof FA?new FA(x_(t.value0),t.value1,t.value2):t instanceof BA?new BA(t.value0,x_(t.value1)):t instanceof UA?new UA(t.value0,x_(t.value1)):t instanceof HA?new HA(x_(t.value0)):t instanceof qA?new qA(x_(t.value0)):t instanceof VA?new VA(x_(t.value0),x_(t.value1)):t instanceof XA?new XA(x_(t.value0),x_(t.value1)):t instanceof zA?new zA(x_(t.value0)):t instanceof WA?new WA(w_(x_)(t.value0)):t instanceof jA?new jA(x_(t.value0)):t instanceof GA?new GA(t.value0,x_(t.value1)):t},y_=function(t){if(t instanceof nP&&t.value3 instanceof Pg)return new nP(t.value0,bR.value,bR.value,Pg.value,x_(new AA(t.value1,new OA(t.value2,t.value4))));if(t instanceof nP&&t.value3 instanceof _g){var e=new WS(t.value1,f_(HS.create)(t.value3.value0)(R_((function(t){if(t instanceof YA&&t.value1 instanceof _g)return t.value1.value0;if(t instanceof YA&&t.value1 instanceof Pg)return US.value;if(t instanceof ZA)return US.value;throw new Error("Failed pattern match at Language.CP.Desugar (line 85, column 16 - line 87, column 45): "+[t.constructor.name])}))(t.value2)));return new nP(t.value0,bR.value,bR.value,new _g(e),x_(new AA(t.value1,new OA(t.value2,t.value4))))}return t},b_={bifoldMap:function(t){var e=Dv(t.Semigroup0());return function(t){return function(n){return function(r){return e(t(r.value0))(n(r.value1))}}}},bifoldr:function(t){return function(e){return function(n){return function(r){return t(r.value0)(e(r.value1)(n))}}}},bifoldl:function(t){return function(e){return function(n){return function(r){return e(t(n)(r.value0))(r.value1)}}}}},k_=function(t){return t.bitraverse},C_=function(t){var e=k_(t);return function(t){return e(t)(Fv(t))}},T_={bitraverse:function(t){var e=t.Apply0(),n=Mv(e),r=kv(e.Functor0());return function(t){return function(e){return function(i){return n(r(Tp.create)(t(i.value0)))(e(i.value1))}}}},bisequence:function(t){var e=t.Apply0(),n=Mv(e),r=kv(e.Functor0());return function(t){return n(r(Tp.create)(t.value0))(t.value1)}},Bifunctor0:function(){return Nm},Bifoldable1:function(){return b_}},S_=og(jT),A_=Sg(qT),P_=Hv(em(Fp(gp))),__=kv(Jp(Np(hp))),E_=Fv(nm(Up(gp))),L_=Qv(lm(qp(JP)(gp))),D_=Mv(tm(Bp(gp))),Q_=function(t){return function(e){return function(n){return t instanceof ZC?new ZC(e,n):t instanceof YC&&e instanceof YC&&n instanceof YC&&S_(t.value0)(e.value0)&&S_(t.value0)(n.value0)&&t.value2===e.value2&&t.value2===n.value2?new YC(t.value0,Q_(t.value1)(e.value1)(n.value1),t.value2):t instanceof JC&&e instanceof JC&&n instanceof JC&&t.value0===e.value0&&t.value0===n.value0?new JC(t.value0,Q_(t.value1)(e.value1)(n.value1)):t instanceof eT&&e instanceof eT&&n instanceof eT&&t.value0===e.value0&&t.value0===n.value0&&S_(t.value1)(e.value1)&&S_(t.value1)(n.value1)?new eT(t.value0,t.value1,Q_(t.value2)(e.value2)(n.value2)):jR("CP.TypeDiff.tyMerge: cannot merge "+A_(e)+" and "+A_(n)+" according to "+A_(t))}}},I_=function(t){if(lS(t))return jC.value;if(t instanceof ZC){var e=lS(t.value1),n=lS(t.value0);if(n&&e)return jC.value;if(n&&!e)return t.value1;if(!n&&e)return t.value0;if(!n&&!e)return t;throw new Error("Failed pattern match at Language.CP.TypeDiff (line 81, column 28 - line 85, column 20): "+[n.constructor.name,e.constructor.name])}return t instanceof YC?new YC(t.value0,I_(t.value1),t.value2):t instanceof JC?new JC(t.value0,I_(t.value1)):t instanceof eT?new eT(t.value0,t.value1,I_(t.value2)):t instanceof nT?new nT(t.value0,I_(t.value1)):t instanceof rT?new rT(I_(t.value0)):t instanceof iT?new iT(I_(t.value0)):t},M_=function(t){return function(e){var n=l_("cannot subtract "+A_(e)+" from "+A_(t)),r=function(t){return function(e){return P_(e_(t))((function(t){if(t instanceof _g)return __(lS)(i(e)(t.value0));if(t instanceof Pg)return E_(!1);throw new Error("Failed pattern match at Language.CP.TypeDiff (line 59, column 42 - line 61, column 28): "+[t.constructor.name])}))}},i=function(t){return function(e){if(lS(t)||lS(e))return E_(t);var s=oS(t);return s instanceof _g?D_(__(Q_(t))(i(s.value0.value0)(e)))(i(s.value0.value1)(e)):function(){if(e instanceof ZC)return L_(P_(i(t)(e.value0))((function(t){return i(t)(e.value1)})))(P_(i(t)(e.value1))((function(t){return i(t)(e.value0)})));if(t instanceof GC&&e instanceof GC)return E_(jC.value);if(e instanceof GC)return i(t)(t);if(t instanceof GC)return n;if(t instanceof YC&&e instanceof YC)return P_(i(t.value1)(e.value1))((function(r){return S_(r)(t.value1)?E_(t):P_(i(e.value0)(t.value0))((function(e){return lS(e)?E_(new YC(t.value0,r,t.value2)):n}))}));if(t instanceof JC&&e instanceof JC)return t.value0===e.value0?__(JC.create(t.value0))(i(t.value1)(e.value1)):E_(t);if(t instanceof eT&&e instanceof eT){var s=GT(e.value0)(new tT(t.value0))(e.value2);return P_(i(t.value2)(s))((function(r){return S_(r)(t.value2)?E_(t):P_(i(e.value1)(t.value1))((function(e){return lS(e)?E_(new eT(t.value0,t.value1,r)):n}))}))}return t instanceof tT&&e instanceof tT&&t.value0===e.value0?E_(jC.value):t instanceof tT?P_(r(t.value0)(e))((function(e){return e?E_(new tT(t.value0)):n})):e instanceof tT?P_(r(e.value0)(t))((function(e){return e?E_(t):n})):t instanceof iT&&e instanceof iT?__(iT.create)(i(t.value0)(e.value0)):t instanceof nT||e instanceof nT||t instanceof rT||e instanceof rT||t instanceof iT||e instanceof iT?n:S_(t)(e)?E_(jC.value):E_(t)}()}};return __(I_)(i(t)(e))}},N_=nm(Up(gp)),$_=Fv(N_),F_=Jp(Np(hp)),B_=kv(F_),U_=uR(N_)(_R),H_=em(Fp(gp)),q_=Hv(H_),V_=Mv(tm(Bp(gp))),X_=zm(TR),z_=sR(_R)(N_),W_=C_(T_)(N_),j_=_v(F_),G_=Sg(dP),Y_=Qv(Ug),Z_=Tv(Ig),K_=Sg(bg),J_=sR(oR)(N_),tE=Xv(H_),eE=function(t){if(t instanceof XS&&t.value0 instanceof bR)return $_(jC.value);if(t instanceof XS)return B_(PC(ZC.create))(U_(t.value0)((function(t){return q_(eE(t.value1))((function(e){return $_(new JC(t.value0,t.value2?new KC(e,WC.value):e))}))})));if(t instanceof WS){return V_(B_(X_(Sp(eT.create)))(eE(t.value1)))(z_(W_((function(t){if(t instanceof _g)return eE(t.value0);if(t instanceof Pg)return $_(jC.value);throw new Error("Failed pattern match at Language.CP.Transform (line 35, column 9 - line 35, column 50): "+[t.constructor.name])})))(t.value0))}return t instanceof nA?q_(eE(t.value0))((function(e){return q_(eE(t.value1))((function(t){return M_(e)(t)}))})):t instanceof IS?$_(qC.value):t instanceof MS?$_(VC.value):t instanceof NS?$_(XC.value):t instanceof $S?$_(zC.value):t instanceof FS?$_(WC.value):t instanceof BS?$_(jC.value):t instanceof US?$_(GC.value):t instanceof qS?V_(B_(ZC.create)(eE(t.value0)))(eE(t.value1)):t instanceof VS?V_(B_(KC.create)(eE(t.value0)))(eE(t.value1)):t instanceof HS?j_(V_(B_(YC.create)(eE(t.value0)))(eE(t.value1)))(!1):t instanceof zS?$_(new tT(t.value0)):t instanceof jS?B_(nT.create(t.value0))(eE(t.value1)):t instanceof GS?B_(rT.create)(eE(t.value0)):t instanceof KS&&t.value0 instanceof Pg?q_(eE(t.value1))((function(t){return $_(new YC(t,t,!0))})):t instanceof KS&&t.value0 instanceof _g?j_(V_(B_(YC.create)(eE(t.value0.value0)))(eE(t.value1)))(!0):t instanceof eA?B_(iT.create)(eE(t.value0)):l_(t instanceof ZS||t instanceof tA?_C("expected a proper type, but got")(G_(t)):_C("expected an expanded type, but got")(G_(t)))},nE=function(){return jC.value}(),rE=function(t){return t instanceof HS?V_(B_(HS.create)(rE(t.value0)))(rE(t.value1)):t instanceof qS?V_(B_(qS.create)(rE(t.value0)))(rE(t.value1)):t instanceof XS?B_(XS.create)(U_(t.value0)((function(t){return j_(B_(QS.create(t.value0))(rE(t.value1)))(t.value2)}))):t instanceof zS?q_(e_(t.value0))((function(e){return q_(n_(t.value0))((function(n){var r,i=Y_(Z_(e))(Z_(n));if(i instanceof _g)return $_(new zS(t.value0));if(i instanceof Pg)return q_((r=t.value0,PP(_P(r))(LP((function(t){return t.tyAliasEnv})))))((function(e){if(e instanceof _g)return rE(e.value0);if(e instanceof Pg)return l_(_C("type variable")(_C(K_(t.value0))("is undefined")));throw new Error("Failed pattern match at Language.CP.Transform (line 82, column 7 - line 84, column 82): "+[e.constructor.name])}));throw new Error("Failed pattern match at Language.CP.Transform (line 78, column 3 - line 84, column 82): "+[i.constructor.name])}))})):t instanceof WS?V_(B_(WS.create)(z_(W_(J_(rE)))(t.value0)))(X_((function(t){return function(e){return u_(Pp(t))(nE)(e)}}))(rE(t.value1))(t.value0)):t instanceof jS?B_(jS.create(t.value0))(u_(t.value0)(nE)(rE(t.value1))):t instanceof GS?B_(GS.create)(rE(t.value0)):t instanceof YS?q_(rE(t.value0))((function(e){return q_(rE(t.value1))((function(n){return e instanceof ZS?$_(aP(e.value0)(n)(e.value1)):e instanceof tA?n instanceof JS&&n.value1 instanceof _g?$_(aP(e.value1)(n.value1.value0)(aP(e.value0)(n.value0)(e.value2))):l_(_C("sig instantiation expected a sort, but got")(G_(t.value1))):l_(_C("expected an applicable type, but got")(G_(t.value0)))}))})):t instanceof ZS?u_(t.value0)(nE)(B_(ZS.create(t.value0))(rE(t.value1))):t instanceof KS?V_(B_(KS.create)(J_(rE)(t.value0)))(rE(t.value1)):t instanceof JS?q_(rE(t.value0))((function(e){return q_(J_(rE)(t.value1))((function(t){if(t instanceof _g)return $_(new JS(new qS(e,t.value0),new _g(t.value0)));if(t instanceof Pg)return e instanceof zS?q_(n_(e.value0))((function(t){if(t instanceof _g)return $_(new JS(e,new _g(new zS(t.value0))));if(t instanceof Pg)return $_(new JS(e,new _g(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 113, column 9 - line 114, column 61): "+[t.constructor.name])})):$_(new JS(e,new _g(e)));throw new Error("Failed pattern match at Language.CP.Transform (line 108, column 3 - line 115, column 42): "+[t.constructor.name])}))})):t instanceof eA?B_(eA.create)(rE(t.value0)):t instanceof nA?V_(B_(nA.create)(rE(t.value0)))(rE(t.value1)):$_(t)},iE=tE(rE)(eE),sE=function(t){return function(e){return function(n){return n instanceof HS?V_(B_(HS.create)(sE(t)(!e)(n.value0)))(sE(t)(e)(n.value1)):n instanceof qS?V_(B_(qS.create)(sE(t)(e)(n.value0)))(sE(t)(e)(n.value1)):n instanceof VS?V_(B_(VS.create)(sE(t)(e)(n.value0)))(sE(t)(e)(n.value1)):n instanceof XS?B_(XS.create)(U_(n.value0)((function(t){return j_(B_(QS.create(t.value0))(sE(SC(t.value0))(e)(t.value1)))(t.value2)}))):e&&n instanceof zS?q_(n_(n.value0))((function(e){if(e instanceof _g)return $_(t?new KS(new _g(n),new zS(e.value0)):new zS(e.value0));if(e instanceof Pg)return $_(new zS(n.value0));throw new Error("Failed pattern match at Language.CP.Transform (line 136, column 3 - line 138, column 41): "+[e.constructor.name])})):n instanceof WS?V_(B_(WS.create)(z_(W_(J_(sE(t)(e))))(n.value0)))(sE(t)(e)(n.value1)):n instanceof jS?B_(jS.create(n.value0))(sE(t)(e)(n.value1)):n instanceof GS?B_(GS.create)(sE(t)(e)(n.value0)):n instanceof YS?V_(B_(YS.create)(sE(t)(e)(n.value0)))(sE(t)(e)(n.value1)):n instanceof ZS?B_(ZS.create(n.value0))(sE(t)(e)(n.value1)):n instanceof KS?V_(B_(KS.create)(J_(sE(t)(!e))(n.value0)))(sE(t)(e)(n.value1)):n instanceof eA?B_(eA.create)(sE(t)(e)(n.value0)):n instanceof nA?V_(B_(nA.create)(sE(t)(e)(n.value0)))(sE(t)(e)(n.value1)):$_(n)}}},oE=tE(rE)(sE(!1)(!0)),lE=em(Fp(gp)),aE=Hv(lE),uE=nm(Up(gp)),cE=Fv(uE),hE=Sg(dP),fE=Sg(bg),dE=Sg(qT),vE=tm(Bp(gp)),gE=Nv(vE),pE=Qv(lm(qp(JP)(gp))),mE=ag(jT),RE=Jp(Np(hp)),wE=Sv(RE),OE=vS(gg),xE=kv(RE),yE=Dv(PR),bE=jm(TR),kE=Uv(zv),CE=kE(lE),TE=Hv(Bg),SE=uR(uE)(_R),AE=Rv(wv),PE=kv(CR),_E=zm(pS),EE=zm(TR),LE=Sg(wP),DE=Dv(Lv),QE=wR(eg),IE=og(DR(eg)),ME=$R(gg),NE=Mv(vE),$E=RR(eg),FE=Qv(Ug),BE=Jm(TR)(eg),UE=sR(oR)(uE),HE=og(DR(_p(eg)($g(oP)))),qE=og(jT),VE=sR(aR)(uE),XE=Cv(CR),zE=$p(gp),WE=fm(zE),jE=Hv(WE),GE=gm(zE),YE=Dp(GE),ZE=op(pm(Hp(gp))),KE=Lp(GE),JE=kE(WE),tL=Sg(bP),eL=vm(zE),nL=Wm(eL)(TR),rL=Fv(eL),iL=function(t){return aE(iE(t))((function(e){return e instanceof nT?cE(e):l_(_C("fold/unfold expected a recursive type, but got")(hE(t)))}))},sL=function(t){return function(e){return function(n){return function(r){var i=!lS(n);return new Tp(new wT(t,e,n,r,!1,i),new YC(n,r,!0))}}}},oL=function(t){return function(e){if(t instanceof ZC){var n=oL(t.value1)(e),r=oL(t.value0)(e);if(r instanceof _g&&n instanceof _g)return new _g(new ZC(r.value0,n.value0));if(r instanceof _g&&n instanceof Pg)return new _g(r.value0);if(r instanceof Pg&&n instanceof _g)return new _g(n.value0);if(r instanceof Pg&&n instanceof Pg)return Pg.value;throw new Error("Failed pattern match at Language.CP.Typing (line 652, column 3 - line 656, column 34): "+[r.constructor.name,n.constructor.name])}return t instanceof JC&&e===t.value0?new _g(t.value1):Pg.value}},lL=function(t){return function(e){return function(n){return function(r){return function(i){return new RT(new wT(t,r,n,i,!1,!1),e,!1)}}}}},aL=function(t){return function(e){return aE(e_(t))((function(n){if(n instanceof _g)return aS(n.value0)(e)?cE(bv):l_(_C("type variable")(_C(fE(t))(_C("is not disjoint from")(dE(e)))));if(n instanceof Pg)return l_(_C("type variable")(_C(fE(t))("is undefined")));throw new Error("Failed pattern match at Language.CP.Typing (line 620, column 3 - line 623, column 78): "+[n.constructor.name])}))}},uL=function(t){return function(e){return function(n){return function(r){return function(i){var s=t+" or "+n,o=new tT(s);return u_(s)(i)(cL(GT(t)(o)(e))(GT(n)(o)(r)))}}}}},cL=function(t){return function(e){return lS(t)||lS(e)?cE(bv):t instanceof YC&&e instanceof YC?cL(t.value1)(e.value1):t instanceof ZC?gE(cL(t.value0)(e))(cL(t.value1)(e)):e instanceof ZC?cL(new ZC(e.value0,e.value1))(t):t instanceof JC&&e instanceof JC?t.value0===e.value0?cL(t.value1)(e.value1):cE(bv):t instanceof tT&&e instanceof tT?pE(aL(t.value0)(new tT(e.value0)))(aL(e.value0)(new tT(t.value0))):t instanceof tT?aL(t.value0)(e):e instanceof tT?aL(e.value0)(t):t instanceof eT&&e instanceof eT?uL(t.value0)(t.value2)(e.value0)(e.value2)(new ZC(t.value1,e.value1)):t instanceof nT&&e instanceof nT?uL(t.value0)(t.value1)(e.value0)(e.value1)(GC.value):mE(t)(e)?cE(bv):l_(_C("expected two disjoint types, but got")(_C(dE(t))(_C("and")(dE(e)))))}},hL=function(t){return function(e){return t instanceof YC&&e instanceof Hg?aS(e.value0)(t.value0)?cE(t.value1):l_(_C("expected the argument type to be a subtype of the parameter type, but got")(_C(dE(e.value0))(_C("and")(dE(t.value0))))):t instanceof eT&&e instanceof qg?wE(cL(e.value0)(t.value1))(GT(t.value0)(e.value0)(t.value2)):t instanceof ZC?aE(hL(t.value0)(e))((function(n){return aE(hL(t.value1)(e))((function(t){return cE(new ZC(n,t))}))})):l_(_C("expected an applicable type, but got")(dE(t)))}},fL=function(t){return t instanceof ZC?OE(fL(t.value0))(fL(t.value1)):t instanceof JC?function(t){return uw(t)(bv)}(t.value0):mS},dL=function(t){return function(e){return function(n){return aE(iE(n))((function(r){return aE(c_(t)(r)(vL(e)))((function(t){return aS(t.value1)(r)?cE(new Tp(uS(t.value1)(r)?t.value0:new xT(t.value0,r),r)):l_(_C("annotated")(_C(hE(n))(_C("is not a supertype of inferred")(dE(t.value1)))))}))}))}}},vL=function(t){if(t instanceof uA)return cE(new Tp(new lT(t.value0),qC.value));if(t instanceof cA)return cE(new Tp(new aT(t.value0),VC.value));if(t instanceof hA)return cE(new Tp(new uT(t.value0),XC.value));if(t instanceof fA)return cE(new Tp(new cT(t.value0),zC.value));if(t instanceof dA)return cE(new Tp(hT.value,WC.value));if(t instanceof vA)return cE(new Tp(dT.value,GC.value));if(t instanceof gA&&t.value0 instanceof Aw)return aE(vL(t.value1))((function(t){var e=function(e){return new Tp(new vT(Aw.value,new xT(t.value0,e)),e)};return aS(t.value1)(qC.value)?cE(e(qC.value)):aS(t.value1)(VC.value)?cE(e(VC.value)):l_(_C("Neg is not defined for")(dE(t.value1)))}));if(t instanceof gA&&t.value0 instanceof Pw)return aE(vL(t.value1))((function(t){var e=new Tp(new vT(Pw.value,t.value0),qC.value);return t.value1 instanceof iT?cE(e):l_(_C("Len is not defined for")(dE(t.value1)))}));if(t instanceof gA&&t.value0 instanceof _w)return aE(vL(t.value1))((function(t){var e=new Tp(new vT(_w.value,t.value0),VC.value);return t.value1 instanceof VC?cE(e):l_(_C("Sqrt is not defined for")(dE(t.value1)))}));if(t instanceof pA&&t.value0 instanceof Vw)return aE(vL(t.value1))((function(e){return aE(vL(t.value2))((function(n){var r=function(r){return new Tp(new gT(new Vw(t.value0.value0),new xT(e.value0,r),new xT(n.value0,r)),r)};return aS(e.value1)(qC.value)&&aS(n.value1)(qC.value)?cE(r(qC.value)):aS(e.value1)(VC.value)&&aS(n.value1)(VC.value)?cE(r(VC.value)):l_(_C("ArithOp is not defined between")(_C(dE(e.value1))(_C("and")(dE(n.value1)))))}))}));if(t instanceof pA&&t.value0 instanceof Xw){return aE(vL(t.value1))((function(e){return aE(vL(t.value2))((function(n){var r=function(r){return new Tp(new gT(new Xw(t.value0.value0),new xT(e.value0,r),new xT(n.value0,r)),zC.value)};if(aS(e.value1)(qC.value)&&aS(n.value1)(qC.value))return cE(r(qC.value));if(aS(e.value1)(VC.value)&&aS(n.value1)(VC.value))return cE(r(VC.value));if(aS(e.value1)(XC.value)&&aS(n.value1)(XC.value))return cE(r(XC.value));if(aS(e.value1)(zC.value)&&aS(n.value1)(zC.value))return cE(r(zC.value));var i=function(t){return t instanceof Dw||t instanceof Qw}(t.value0.value0);return e.value1 instanceof rT&&n.value1 instanceof rT&&i?cE(new Tp(new gT(new Xw(t.value0.value0),e.value0,n.value0),zC.value)):l_(_C("CompOp is not defined between")(_C(dE(e.value1))(_C("and")(dE(n.value1)))))}))}))}if(t instanceof pA&&t.value0 instanceof zw)return aE(vL(t.value1))((function(e){return aE(vL(t.value2))((function(n){var r=new Tp(new gT(new zw(t.value0.value0),new xT(e.value0,zC.value),new xT(n.value0,zC.value)),zC.value);return aS(e.value1)(zC.value)&&aS(n.value1)(zC.value)?cE(r):l_(_C("LogicOp is not defined between")(_C(dE(e.value1))(_C("and")(dE(n.value1)))))}))}));if(t instanceof pA&&t.value0 instanceof Ww)return aE(vL(t.value1))((function(e){return aE(vL(t.value2))((function(t){if(aS(e.value1)(XC.value)&&aS(t.value1)(XC.value))return cE(new Tp(new gT(Ww.value,new xT(e.value0,XC.value),new xT(t.value0,XC.value)),XC.value));if(e.value1 instanceof iT&&t.value1 instanceof iT){var n=function(t){return function(e){return function(n){return new Tp(new gT(Ww.value,t,e),n)}}};return uS(e.value1.value0)(t.value1.value0)?cE(n(e.value0)(t.value0)(e.value1)):aS(t.value1.value0)(e.value1.value0)?cE(n(e.value0)(new xT(t.value0,e.value1))(e.value1)):aS(e.value1.value0)(t.value1.value0)?cE(n(new xT(e.value0,t.value1))(t.value0)(t.value1)):l_(_C("Append expected two arrays of equivalent types or subtypes,")(_C("but got")(_C(dE(e.value1.value0))(_C("and")(dE(t.value1.value0))))))}return l_(_C("Append is not defined between")(_C(dE(e.value1))(_C("and")(dE(t.value1)))))}))}));if(t instanceof pA&&t.value0 instanceof jw)return aE(vL(t.value1))((function(e){return aE(vL(t.value2))((function(t){return e.value1 instanceof iT&&aS(t.value1)(qC.value)?cE(new Tp(new gT(jw.value,e.value0,new xT(t.value0,qC.value)),e.value1.value0)):l_(_C("Index is not defined between")(_C(dE(e.value1))(_C("and")(dE(t.value1)))))}))}));if(t instanceof mA)return aE(vL(t.value0))((function(e){return aS(e.value1)(zC.value)?aE(vL(t.value1))((function(n){return aE(vL(t.value2))((function(t){var r=function(t){return function(n){return function(r){return new Tp(new pT(new xT(e.value0,zC.value),t,n),r)}}};return uS(n.value1)(t.value1)?cE(r(n.value0)(t.value0)(n.value1)):aS(t.value1)(n.value1)?cE(r(n.value0)(new xT(t.value0,n.value1))(n.value1)):aS(n.value1)(t.value1)?cE(r(new xT(n.value0,t.value1))(t.value0)(t.value1)):l_(_C("if-branches expected two equivalent types or subtypes, but got")(_C(dE(n.value1))(_C("and")(dE(t.value1)))))}))})):l_(_C("if-condition expected Bool, but got")(dE(e.value1)))}));if(t instanceof RA)return xE((function(e){return new Tp(new mT(t.value0),e)}))((e=t.value0,NP(LP((function(t){return t.tmBindEnv})))((function(t){var n=_P(e)(t);if(n instanceof _g)return FP(n.value0);if(n instanceof Pg)return l_("term variable "+BP(e)+" is undefined");throw new Error("Failed pattern match at Language.CP.Context (line 48, column 3 - line 50, column 81): "+[n.constructor.name])}))));var e;if(t instanceof wA){var n=function(t){return t instanceof ZC?yE(n(t.value0))(n(t.value1)):t instanceof JC&&t.value1 instanceof KC&&t.value1.value1 instanceof WC?MR(t.value0):bR.value},r=bE((function(t){return function(e){return new ZC(t,new JC(e,WC.value))}}));return aE(vL(t.value0))((function(e){return aE(vL(t.value1))((function(t){if(e.value1 instanceof YC&&uS(t.value1)(e.value1.value0))return cE(new Tp(new RT(e.value0,t.value0,!1),e.value1.value1));var i=function(n){return xE((function(n){return new Tp(new RT(e.value0,t.value0,!0),n)}))(hL(e.value1)(new Hg(t.value1)))};if(e.value1 instanceof YC){var s=n(e.value1.value0);if(s instanceof kR){if(aS(r(t.value1)(s))(e.value1.value0)){var o=bE((function(t){return function(e){return new yT(t,new kT(e,WC.value,hT.value))}}))(t.value0)(s);return cE(new Tp(new RT(e.value0,o,!1),e.value1.value1))}return i()}return i()}return i()}))}))}if(t instanceof OA&&t.value0 instanceof kR&&t.value0.value0 instanceof YA&&t.value0.value0.value1 instanceof _g&&t.value0.value1 instanceof bR)return aE(iE(t.value0.value0.value1.value0))((function(e){return aE(c_(t.value0.value0.value0)(e)(vL(t.value1)))((function(n){return cE(new Tp(new wT(t.value0.value0.value0,n.value0,e,n.value1,!1,!1),new YC(e,n.value1,!1)))}))}));if(t instanceof OA&&t.value0 instanceof kR&&t.value0.value0 instanceof YA&&t.value0.value0.value1 instanceof Pg&&t.value0.value1 instanceof bR)return l_(_C("lambda parameter")(_C(fE(t.value0.value0.value0))("should be annotated with a type")));if(t instanceof OA&&t.value0 instanceof kR&&t.value0.value0 instanceof ZA&&t.value0.value1 instanceof bR)return l_("record wildcards should only occur in traits with interfaces implemented");if(t instanceof xA)return aE(iE(t.value2))((function(e){return aE(c_(t.value0)(e)(vL(t.value1)))((function(n){return aS(n.value1)(e)?cE(new Tp(new OT(t.value0,n.value0,n.value1),n.value1)):l_(_C("fix body expected a subtype of the annotated type, but got ")(dE(n.value1)))}))}));if(t instanceof yA)return aE(vL(t.value0))((function(e){return aE(iE(t.value1))((function(n){return aS(e.value1)(n)?cE(new Tp(new xT(e.value0,n),n)):l_(_C("annotated")(_C(hE(t.value1))(_C("is not a supertype of inferred")(dE(e.value1)))))}))}));if(t instanceof bA&&t.value0 instanceof oA){var i=function(t){return new RT(t,new mT("$self"),!0)};return aE(vL(t.value1))((function(e){return aE(vL(t.value2))((function(t){return e.value1 instanceof jC?cE(new Tp(t.value0,t.value1)):t.value1 instanceof jC?cE(new Tp(e.value0,e.value1)):e.value1 instanceof YC&&e.value1.value2&&t.value1 instanceof YC&&t.value1.value2?CE(cL(e.value1.value1)(t.value1.value1))((function(){var n=e.value1.value0 instanceof jC?t.value1.value0:t.value1.value0 instanceof jC?e.value1.value0:new ZC(e.value1.value0,t.value1.value0);return cE(sL("$self")(new yT(i(e.value0),i(t.value0)))(n)(new ZC(e.value1.value1,t.value1.value1)))})):CE(cL(e.value1)(t.value1))((function(){return cE(new Tp(new yT(e.value0,t.value0),new ZC(e.value1,t.value1)))}))}))}))}if(t instanceof bA&&t.value0 instanceof lA)return vL(new bA(oA.value,t.value1,new $A(t.value2,t.value1)));if(t instanceof bA&&t.value0 instanceof aA)return vL(new bA(oA.value,new $A(t.value1,t.value2),t.value2));if(t instanceof kA){var s=function(t){if(t instanceof bR)return new _g(GC.value);if(t instanceof kR)return TE(s(t.value1))((function(e){return aS(t.value0)(e)?new _g(e):aS(e)(t.value0)?new _g(t.value0):Pg.value}));throw new Error("Failed pattern match at Language.CP.Typing (line 191, column 9 - line 191, column 43): "+[t.constructor.name])};return aE(SE(t.value2)((function(e){return aE(iE(e.value0))((function(n){return aE(Lg(AE)((function(t){return c_(t)(n)}))(t.value1)(vL(e.value1)))((function(t){return cE(new Tp(t.value1,new Tp(n,t.value0)))}))}))})))((function(e){var n=s(PE(Pp)(e));if(n instanceof _g){var r=PE(Ap)(e),i=PC(KC.create)(PE(Pp)(r));return aE(vL(t.value0))((function(e){if(aS(e.value1)(i)){var s=new bT(e.value0,Ng("$alias")(t.value1),r);return cE(new Tp(new xT(s,n.value0),n.value0))}return l_(_C("switch expression expected a subtype of")(dE(i)+_C(", but got")(dE(e.value1))))}))}if(n instanceof Pg)return l_("switch cases have different types");throw new Error("Failed pattern match at Language.CP.Typing (line 180, column 3 - line 190, column 68): "+[n.constructor.name])}))}if(t instanceof CA&&t.value0 instanceof bR)return cE(new Tp(fT.value,jC.value));if(t instanceof CA&&t.value0 instanceof kR&&t.value0.value0 instanceof KA&&t.value0.value0.value2 instanceof bR&&t.value0.value0.value3 instanceof Hg&&t.value0.value1 instanceof bR)return aE(vL(t.value0.value0.value3.value0))((function(e){return cE(new Tp(new kT(t.value0.value0.value1,e.value1,e.value0),new JC(t.value0.value0.value1,e.value1)))}));if(t instanceof TA)return aE(vL(t.value0))((function(e){var n=e.value1 instanceof nT?new Tp(new _T(e.value1,e.value0),YT(e.value1)):new Tp(e.value0,e.value1),r=oL(n.value1)(t.value1);return r instanceof _g?cE(new Tp(new CT(n.value0,t.value1),r.value0)):l_(_C("label")(_C(fE(t.value1))(_C("is absent in")(dE(e.value1)))))}));if(t instanceof SA)return aE(vL(t.value0))((function(e){return aE(iE(t.value1))((function(t){return aE(hL(e.value1)(new qg(t)))((function(n){return cE(new Tp(new TT(e.value0,t),n))}))}))}));if(t instanceof AA&&t.value0 instanceof kR&&t.value0.value0.value1 instanceof _g&&t.value0.value1 instanceof bR)return aE(iE(t.value0.value0.value1.value0))((function(e){return aE(u_(t.value0.value0.value0)(e)(vL(t.value1)))((function(n){return cE(new Tp(new ST(t.value0.value0.value0,e,n.value0,n.value1,!1),new eT(t.value0.value0.value0,e,n.value1)))}))}));if(t instanceof PA&&t.value1 instanceof bR&&t.value2 instanceof bR)return aE(vL(t.value3))((function(e){return aE(c_(t.value0)(e.value1)(vL(t.value4)))((function(n){return cE(new Tp(lL(t.value0)(e.value0)(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof _A&&t.value1 instanceof bR&&t.value2 instanceof bR)return aE(dL(t.value0)(t.value4)(t.value3))((function(e){return aE(c_(t.value0)(e.value1)(vL(t.value5)))((function(n){return cE(new Tp(lL(t.value0)(new OT(t.value0,e.value0,e.value1))(e.value1)(n.value0)(n.value1),n.value1))}))}));if(t instanceof EA)return aE(vL(t.value0))((function(e){var n=e.value1 instanceof nT?new Tp(new _T(e.value1,e.value0),YT(e.value1)):new Tp(e.value0,e.value1),r=_E((function(t){return function(e){return new kR(new Tp(t,TC(oL(n.value1)(t))),e)}}))(bR.value)(fL(n.value1));return aE(EE(Sp(c_))(vL(t.value1))(r))((function(t){return cE(new Tp(lL("$open")(n.value0)(n.value1)(EE((function(e){return function(n){return lL(e.value0)(new CT(new mT("$open"),e.value0))(e.value1)(n)(t.value1)}}))(t.value0)(r))(t.value1),t.value1))}))}));if(t instanceof LA){var o=function(t){return function(e){return t instanceof kT?new ZC(new JC(t.value0,t.value1),e):e}};return aE(vL(t.value0))((function(e){return aE(SE(t.value1)((function(t){return aE(vL(t.value1))((function(e){return cE(new kT(t.value0,e.value1,e.value0))}))})))((function(n){var r=EE(o)(jC.value)(n);return aS(e.value1)(r)?aE(M_(e.value1)(r))((function(t){var r=AC(yT.create)(n),i=lS(t)?AE:yT.create(new xT(e.value0,t));return cE(new Tp(i(r),e.value1))})):l_(_C("cannot safely update the record")(LE(t.value0)))}))}))}if(t instanceof DA&&t.value0 instanceof _g&&t.value0.value0.value1 instanceof _g&&t.value1 instanceof _g){var l=function(t){return BR((function(e){return t(e.value0)}))},a=function(t){return t instanceof qS&&t.value0 instanceof XS&&t.value1 instanceof XS?yE(t.value0.value0)(t.value1.value0):t instanceof qS&&t.value1 instanceof XS?yE(a(t.value0))(t.value1.value0):t instanceof qS&&t.value0 instanceof XS?yE(t.value0.value0)(a(t.value1)):t instanceof qS?yE(a(t.value0))(a(t.value1)):t instanceof XS?t.value0:bR.value},u=function(e){return function(n){if(e instanceof qS)return u(new XS(a(e)))(n);if(e instanceof jS)return xE(BA.create(e))(u(e.value1)(n));if(n instanceof GA)return xE(GA.create(n.value0))(u(e)(n.value1));if(n instanceof EA)return xE(EA.create(n.value0))(u(e)(n.value1));if(n instanceof bA)return NE(xE(bA.create(n.value0))(u(e)(n.value1)))(u(e)(n.value2));if(e instanceof XS&&n instanceof CA&&n.value0 instanceof kR&&n.value0.value0 instanceof KA&&n.value0.value0.value2 instanceof bR&&n.value0.value0.value3 instanceof Hg&&n.value0.value1 instanceof bR){var r=function(t){var e,n=!1;function r(e){return e instanceof kR&&e.value1 instanceof bR?(n=!0,new _g(e.value0)):e instanceof kR?void(t=e.value1):(n=!0,Pg.value)}for(;!n;)e=r(t);return e}(l((function(t){return t===n.value0.value0.value1}))(e.value0));return r instanceof _g?aE(u(r.value0.value1)(n.value0.value0.value3.value0))((function(t){return cE(new CA(MR(new KA(n.value0.value0.value0,n.value0.value0.value1,bR.value,new Hg(t)))))})):cE(n)}if(e instanceof XS&&n instanceof CA&&n.value0 instanceof kR&&n.value0.value0 instanceof JA&&n.value0.value1 instanceof bR){var i=function(t){if(t instanceof HS){var e=i(t.value1);return new Tp(new kR(new YA("_",new _g(t.value0)),e.value0),e.value1)}return new Tp(bR.value,t)},s=function(t){return function(e){if(t instanceof GA)return s(t.value1)(e);if(t instanceof EA)return s(t.value1)(e);if(t instanceof bA)return DE(s(t.value1)(e))(s(t.value2)(e));if(t instanceof CA&&t.value0 instanceof kR&&t.value0.value0 instanceof KA&&t.value0.value0.value3 instanceof Hg&&t.value0.value1 instanceof bR){var n=function(t){var e,n=!1;function r(e){if(e instanceof GA)t=e.value1;else if(e instanceof EA)t=e.value1;else if(e instanceof OA)t=e.value1;else{if(!(e instanceof DA))return e instanceof CA&&e.value0 instanceof kR&&e.value0.value0 instanceof KA&&e.value0.value1 instanceof bR?(n=!0,e.value0.value0.value1):(n=!0,"$nothing");t=e.value3}}for(;!n;)e=r(t);return e}(t.value0.value0.value3.value0)===e;return n?[t.value0.value0.value1]:[]}return[]}};return xE((function(t){return x_(CA.create(t))}))(SE(l((function(e){return $E(e)(function(e){return s(new bA(oA.value,Ng(dA.value)(t.value2),t.value3))(e)}(n.value0.value0.value0.value1))}))(e.value0))((function(t){var e=i(t.value1);return aE(u(e.value1)(x_(O_(n.value0.value0.value0))))((function(n){return cE(new KA(!1,t.value0,e.value0,new Hg(n)))}))})))}if(e instanceof HS&&n instanceof OA&&n.value0 instanceof kR&&n.value0.value0 instanceof YA&&n.value0.value1 instanceof bR)return xE(OA.create(MR(new YA(n.value0.value0.value0,FE(n.value0.value0.value1)(new _g(e.value0))))))(u(e.value1)(n.value1));if(e instanceof HS&&n instanceof OA&&n.value0 instanceof kR&&n.value0.value0 instanceof ZA&&n.value0.value1 instanceof bR){var o=new RA("$wildcard"),c=function(t){return function(e){if(t.value2){var r=TC(BE(t.value0)(n.value0.value0.value0)),i=new kR(new Tp(t.value1,new RA(t.value0)),new kR(new Tp(FS.value,r),bR.value)),s=new kA(new TA(o,t.value0),new _g(t.value0),i);return new PA(t.value0,bR.value,bR.value,s,e)}return new PA(t.value0,bR.value,bR.value,new TA(o,t.value0),e)}},h=a(e.value0),f=function(t){return function(e){var n=EE((function(t){return function(e){return t.value2?new kR(t.value0,e):e}}))(bR.value)(e),r=PE(Pp)(t);return IE(ME(r))(ME(n))}}(n.value0.value0.value0)(h);return f?aE(u(e.value1)(n.value1))((function(t){return cE(new OA(MR(new YA("$wildcard",new _g(e.value0))),function(t){return function(e){return EE(c)(e)(t)}}(h)(t)))})):l_("default arguments do not match optional parameters")}if(e instanceof KS&&n instanceof DA&&n.value0 instanceof _g){var d=Ng(Ng(BS.value)(e.value0))(n.value0.value0.value1);return aE(UE(u(e.value1))(n.value2))((function(t){return aE(u(e.value1)(n.value3))((function(e){return cE(new DA(new _g(new Tp(n.value0.value0.value0,new _g(d))),n.value1,t,e))}))}))}if(e instanceof WS&&e.value0 instanceof kR&&n instanceof AA&&n.value0 instanceof kR&&n.value0.value1 instanceof bR){var v=(HE(e.value0.value1)(bR.value)?AE:WS.create(e.value0.value1))(aP(e.value0.value0.value0)(new zS(n.value0.value0.value0))(e.value1));return xE(AA.create(MR(new Tp(n.value0.value0.value0,FE(n.value0.value0.value1)(e.value0.value0.value1)))))(u(v)(n.value1))}return cE(n)}};return aE(iE(t.value0.value0.value1.value0))((function(e){return aE(function(t){return q_(rE(t))((function(t){return q_(eE(t))((function(e){return $_(new Tp(e,t))}))}))}(t.value1.value0))((function(n){return aE(u(n.value1)(t.value3))((function(r){return aE(function(){if(t.value2 instanceof _g)return aE(c_(t.value0.value0.value0)(e)(vL(t.value2.value0)))((function(n){return n.value1 instanceof YC&&n.value1.value2?aS(e)(n.value1.value0)?aE(c_(t.value0.value0.value0)(e)(c_("super")(n.value1.value1)(vL(r))))((function(e){var i=function(t){return function(e){var n=function(t){return t instanceof GA||t instanceof EA?n(t.value1):t instanceof bA?DE(n(t.value1))(n(t.value2)):t instanceof CA&&t.value0 instanceof kR&&t.value0.value0 instanceof KA&&t.value0.value0.value0&&t.value0.value1 instanceof bR?[t.value0.value0.value1]:[]},r=function(t){return function(e){if(t instanceof ZC){var n=r(t.value1)(e),i=r(t.value0)(e);return i instanceof jC&&n instanceof jC?jC.value:i instanceof jC?n:n instanceof jC?i:new ZC(i,n)}return t instanceof JC&&QE(t.value0)(e)?jC.value:t}},i=n(e);return fR(i)?t:r(t)(i)}}(n.value1.value1)(r);return CE(cL(i)(e.value1))((function(){var r=new ZC(i,e.value1),s=lL("super")(new RT(n.value0,new mT(t.value0.value0.value0),!0))(n.value1.value1)(new yT(new xT(new mT("super"),i),e.value0))(r);return cE(new Tp(s,r))}))})):l_(_C("self-type")(_C(hE(t.value0.value0.value1.value0))(_C("is not a subtype of inherited self-type")(dE(n.value1.value0))))):l_(_C("expected to inherit a trait, but got")(dE(n.value1)))}));if(t.value2 instanceof Pg)return aE(c_(t.value0.value0.value0)(e)(vL(r)))((function(t){return cE(new Tp(t.value0,t.value1))}));throw new Error("Failed pattern match at Language.CP.Typing (line 257, column 18 - line 278, column 23): "+[t.value2.constructor.name])}())((function(r){return aS(r.value1)(n.value0)?cE(sL(t.value0.value0.value0)(r.value0)(e)(r.value1)):l_(_C("the trait does not implement")(hE(t.value1.value0)))}))}))}))}))}if(t instanceof DA&&t.value0 instanceof _g&&t.value0.value0.value1 instanceof Pg)return vL(new DA(new _g(new Tp(t.value0.value0.value0,new _g(BS.value))),t.value1,t.value2,t.value3));if(t instanceof QA)return aE(vL(t.value0))((function(t){return t.value1 instanceof YC&&t.value1.value2?aS(t.value1.value1)(t.value1.value0)?cE(new Tp(new OT("$self",new RT(t.value0,new mT("$self"),!0),t.value1.value1),t.value1.value1)):l_(_C("input type is not a supertype of output type in")(_C("Trait<")(_C(dE(t.value1.value0))(_C("=>")(_C(dE(t.value1.value1))(">")))))):l_(_C("new expected a trait, but got")(dE(t.value1)))}));if(t instanceof IA)return aE(vL(t.value0))((function(e){return aE(vL(t.value1))((function(t){return e.value1 instanceof YC&&e.value1.value2?aS(t.value1)(e.value1.value0)?cE(new Tp(new RT(e.value0,t.value0,!0),e.value1.value1)):l_(_C("expected to forward to a subtype of")(dE(e.value1.value0)+_C(", but got")(dE(t.value1)))):l_(_C("expected to forward from a trait, but got")(dE(e.value1)))}))}));if(t instanceof MA){var c=function(e){return function(n){return n instanceof ZC?pE(c(e)(n.value0))(c(e)(n.value1)):n instanceof JC&&e===n.value0?cE(bv):l_(_C("label")(_C(fE(e))(_C("is absent in")(LE(t.value0)))))}};return aE(vL(t.value0))((function(e){return aE(iE(t.value1))((function(t){var n=t instanceof JC&&t.value1 instanceof GC?c(t.value0):xv(cE(bv));return e.value1 instanceof YC&&e.value1.value2?CE(n(e.value1.value1))((function(){return aE(M_(e.value1.value1)(t))((function(t){var n=new YC(e.value1.value0,t,!0);return cE(new Tp(new xT(e.value0,n),n))}))})):CE(n(e.value1))((function(){return aE(M_(e.value1)(t))((function(t){return cE(new Tp(new xT(e.value0,t),t))}))}))}))}))}return t instanceof NA?vL(new MA(t.value0,new XS(MR(new QS(t.value1,US.value,!1))))):t instanceof $A?aE(vL(t.value0))((function(e){return aE(vL(t.value1))((function(t){return e.value1 instanceof YC&&e.value1.value2&&t.value1 instanceof YC&&t.value1.value2?aE(M_(e.value1.value1)(t.value1.value1))((function(t){return cE(sL("$self")(new xT(new RT(e.value0,new mT("$self"),!0),t))(e.value1.value0)(t))})):aE(M_(e.value1)(t.value1))((function(t){return cE(new Tp(new xT(e.value0,t),t))}))}))})):t instanceof FA?aE(vL(t.value0))((function(e){if(e.value1 instanceof YC&&e.value1.value2){var n=oL(e.value1.value0)(t.value1);if(n instanceof _g){var r=new FA(new RA("$self"),t.value2,t.value1),i=new FA(new IA(t.value0,r),t.value1,t.value2);return aE(xE(ZC.create(new JC(t.value2,n.value0)))(M_(e.value1.value0)(new JC(t.value1,GC.value))))((function(t){return aE(c_("$self")(t)(vL(i)))((function(e){return cE(sL("$self")(e.value0)(t)(e.value1))}))}))}if(n instanceof Pg){i=new FA(new IA(t.value0,new RA("$self")),t.value1,t.value2);return aE(c_("$self")(e.value1.value0)(vL(i)))((function(t){return cE(sL("$self")(t.value0)(e.value1.value0)(t.value1))}))}throw new Error("Failed pattern match at Language.CP.Typing (line 445, column 7 - line 459, column 43): "+[n.constructor.name])}return vL(new bA(oA.value,new NA(t.value0,t.value1),new CA(MR(new KA(!1,t.value2,bR.value,new Hg(new TA(t.value0,t.value1)))))))})):t instanceof BA?aE(iL(t.value0))((function(e){return aE(vL(t.value1))((function(n){return aS(n.value1)(YT(e))?cE(new Tp(new PT(e,n.value0),e)):l_(_C("cannot fold")(_C(LE(t.value1))(_C("to")(hE(t.value0)))))}))})):t instanceof UA?aE(iL(t.value0))((function(e){return aE(vL(t.value1))((function(n){return aS(n.value1)(e)?cE(new Tp(new _T(e,n.value0),YT(e))):l_(_C("cannot unfold")(_C(LE(t.value1))(_C("to")(hE(t.value0)))))}))})):t instanceof HA?aE(vL(t.value0))((function(t){return cE(new Tp(new ET(t.value0),new rT(t.value1)))})):t instanceof qA?aE(vL(t.value0))((function(t){return t.value1 instanceof rT?cE(new Tp(new LT(t.value0),t.value1.value0)):l_(_C("cannot dereference")(dE(t.value1)))})):t instanceof VA?aE(vL(t.value0))((function(e){return e.value1 instanceof rT?aE(vL(t.value1))((function(t){return aS(t.value1)(e.value1.value0)?cE(new Tp(new DT(e.value0,t.value0),WC.value)):l_(_C("assigned type")(_C(dE(t.value1))(_C("is not a subtype of")(dE(e.value1.value0)))))})):l_(_C("assignment expected a reference type, but got")(dE(e.value1)))})):t instanceof XA?aE(vL(t.value0))((function(e){return e.value1 instanceof WC?aE(vL(t.value1))((function(t){return cE(new Tp(lL("_")(e.value0)(e.value1)(t.value0)(t.value1),t.value1))})):l_(_C("sequencing expected a unit type, but got")(dE(e.value1)))})):t instanceof zA?aE(vL(t.value0))((function(t){return qE(t.value1)(qC.value)||qE(t.value1)(VC.value)||qE(t.value1)(XC.value)||qE(t.value1)(zC.value)?cE(new Tp(new QT(t.value0),XC.value)):l_(_C("cannot show")(dE(t.value1)))})):t instanceof WA?fR(t.value0)?cE(new Tp(new IT(GC.value,[]),new iT(GC.value))):aE(VE(vL)(t.value0))((function(e){var n=vR(e),r=TC(gR(n.value1));return OR((function(t){return uS(t)(r)}))(n.value1)?cE(new Tp(new IT(r,n.value0),new iT(r))):l_("elements of an array should all have the same type"+_C(", but got")(LE(new WA(t.value0))))})):t instanceof jA?r_((function(t){if(t instanceof VP)return new VP(t.value0,t.value1,!0);if(t instanceof qP)return qP.value;throw new Error("Failed pattern match at Language.CP.Typing (line 509, column 9 - line 509, column 37): "+[t.constructor.name])}))(vL(t.value0)):t instanceof GA?r_((function(e){if(e instanceof VP)return new VP(t.value0,t.value1,e.value2);if(e instanceof qP)return new VP(t.value0,t.value1,!1);throw new Error("Failed pattern match at Language.CP.Typing (line 513, column 9 - line 513, column 42): "+[e.constructor.name])}))(vL(t.value1)):l_(_C("expected a desugared term, but got")(LE(t)))},gL=function(t){if(t instanceof eP){var e=XE(t.value2)((function(t){return new Tp(t,t+"_")})),n=function(n){return EE(Sp(tA.create))(EE(ZS.create)(n)(t.value3))(e)},r=function(e){return EE(Ov(u_)(jC.value))(e)(t.value3)},i=function(t){return EE(Sp(h_))(t)(e)};return jE(YE((function(t){return t.forbidDup})))((function(e){return jE(YE((function(t){return t.tyAliases})))((function(s){if(e&&Qg(BE(t.value1)(s)))return ZE(new XP(_C("type")(_C(fE(t.value1))("has already been defined")),qP.value));if(t.value0 instanceof rA)return jE(YE(s_))((function(e){var s=t_(i(r(oE(t.value4))))(e);if(s instanceof Hg)return ZE(s.value0);if(s instanceof qg)return KE((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new kR(new Tp(t.value1,n(s.value0)),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 534, column 7 - line 536, column 83): "+[s.constructor.name])}));if(t.value0 instanceof iA)return jE(YE(s_))((function(e){var s=t_(i(r(u_(t.value1)(jC.value)(oE(t.value4)))))(e);if(s instanceof Hg)return ZE(s.value0);if(s instanceof qg)return KE((function(e){var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.tyAliases=new kR(new Tp(t.value1,n(new jS(t.value1,s.value0))),e.tyAliases),r}));throw new Error("Failed pattern match at Language.CP.Typing (line 539, column 7 - line 541, column 95): "+[s.constructor.name])}));if(t.value0 instanceof sA)return JE(gL(new eP(iA.value,t.value1+"_",t.value2,t.value3,aP(t.value1)(new zS(t.value1+"_"))(t.value4))))((function(){var e,n,r,i=function(e){return bE((function(t){return e=YS.create(t),function(t){return e(zS.create(t))};var e}))(e)(t.value3)}((e=new zS(t.value1+"_"),n=Ov(JS.create)(Pg.value),r=function(t){return n(zS.create(t))},bE((function(t){return e=YS.create(t),function(t){return e(r(t))};var e}))(e)(t.value2)));return gL(new eP(rA.value,t.value1,t.value2,t.value3,new qS(t.value0.value0,i)))}));throw new Error("Failed pattern match at Language.CP.Typing (line 531, column 8 - line 546, column 73): "+[t.value0.constructor.name])}))}))}return t instanceof nP&&t.value1 instanceof bR&&t.value2 instanceof bR?jE(YE((function(t){return t.forbidDup})))((function(e){return jE(YE((function(t){return t.tmBindings})))((function(n){return e&&Qg(BE(t.value0)(n))?ZE(new XP(_C("term")(_C(fE(t.value0))("has already been defined")),qP.value)):jE(YE(s_))((function(e){var n=function(){if(t.value3 instanceof _g)return dL(t.value0)(t.value4)(t.value3.value0);if(t.value3 instanceof Pg)return vL(t.value4);throw new Error("Failed pattern match at Language.CP.Typing (line 568, column 18 - line 569, column 47): "+[t.value3.constructor.name])}(),r=t_(n)(e);if(r instanceof Hg)return ZE(r.value0);if(r instanceof qg){var i=Qg(t.value3)?new OT(t.value0,r.value0.value0,r.value0.value1):r.value0.value0,s=function(e){return new AT(t.value0,i,e)};return KE((function(e){var n={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n.tmBindings=new kR(new Tp(t.value0,new Tp(r.value0.value1,s)),e.tmBindings),n}))}throw new Error("Failed pattern match at Language.CP.Typing (line 570, column 5 - line 575, column 74): "+[r.constructor.name])}))}))})):ZE(new XP(_C("expected a desugared def, but got")(tL(t)),qP.value))};var pL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),mL=function(t){var e,n=!1;function r(e){if(e.value0 instanceof bR&&e.value1 instanceof bR)return n=!0,Pg.value;if(!(e.value0 instanceof bR)){if(e.value0 instanceof kR)return n=!0,new _g(new Tp(e.value0.value0,new pL(e.value0.value1,e.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[e.constructor.name])}t=new pL(FR(e.value1),bR.value)}for(;!n;)e=r(t);return e},RL=function(t){return function(e){return new pL(t.value0,new kR(e,t.value1))}},wL=function(t){return t.value0 instanceof bR&&t.value1 instanceof bR},OL=function(){return new pL(bR.value,bR.value)}(),xL=function(){function t(){}return t.value=new t,t}(),yL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),bL=function(t){return function(e){if(t instanceof xL)return e;if(e instanceof xL)return t;if(t instanceof yL)return new yL(t.value0,RL(t.value1)(e));throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[t.constructor.name,e.constructor.name])}},kL=function(t){return function(e){return function(n){var r;return(r=n,function(n){var i,s=r,o=!1;function l(r,i){var l=mL(r);if(l instanceof Pg)return o=!0,function(t){return function(e){return function(n){var r,i=t,s=e,o=!1;function l(t,e,r){if(r instanceof bR)return o=!0,e;if(r instanceof kR)return i=t,s=t(e)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[t.constructor.name,e.constructor.name,r.constructor.name])}for(;!o;)r=l(i,s,n);return r}}}((function(t){return function(e){return e(t)}}))(e)(i);if(l instanceof _g)return s=l.value0.value1,void(n=new kR(t(l.value0.value0),i));throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[l.constructor.name])}for(;!o;)i=l(s,n);return i})(bR.value)}}},CL=function(t){if(t instanceof xL)return Pg.value;if(t instanceof yL)return new _g(new Tp(t.value0,wL(t.value1)?xL.value:kL(bL)(xL.value)(t.value1)));throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[t.constructor.name])},TL=function(){return xL.value}(),SL=bL,AL={append:SL},PL=function(t){return function(e){return SL(t)(new yL(e,OL))}},_L=function(t,e,n){var r,i=0;return function(s){if(2===i)return r;if(1===i)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+s+")",e,s);return i=1,r=n(),i=2,r}},EL=Dv(AL),LL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),DL=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),QL=function(){function t(t,e){this.value0=t,this.value1=e}return t.create=function(e){return function(n){return new t(e,n)}},t}(),IL=function(t){var e,n=!1;function r(e){var r=function(t){return function(e){return new LL(t.value0,EL(t.value1)(e))}};if(e.value0 instanceof DL){var i=CL(e.value1);if(i instanceof Pg)return n=!0,new DL(e.value0.value0);if(i instanceof _g)return void(t=r((0,i.value0.value0)(e.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(e.value0 instanceof QL)return n=!0,new QL(e.value0.value0,(function(t){return r(e.value0.value1(t))(e.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[e.value0.constructor.name])}for(;!n;)e=r(t);return e},ML=function(t){var e=kv(t);return function(t){return function(n){var r,i=!1;function s(r){var s=IL(r);if(s instanceof DL)return i=!0,s.value0;if(!(s instanceof QL))throw new Error("Failed pattern match at Control.Monad.Free (line 178, column 10 - line 180, column 33): "+[s.constructor.name]);n=t(e(s.value1)(s.value0))}for(;!i;)r=s(n);return r}}},NL=function(t){return new LL(t,TL)},$L={Applicative0:function(){return UL},Bind1:function(){return BL}},FL={map:function(t){return function(e){return qv(BL)((n=Fv(UL),function(e){return n(t(e))}))(e);var n}}},BL={bind:function(t){return function(e){return new LL(t.value0,PL(t.value1)(e))}},Apply0:function(){return HL(0)}},UL={pure:function(t){return NL(DL.create(t))},Apply0:function(){return HL(0)}},HL=_L("freeApply","Control.Monad.Free",(function(){return{apply:Wv($L),Functor0:function(){return FL}}})),qL=HL(77),VL=ML(Av)((function(t){return t(bv)})),XL=Sg(XT),zL=Sg(qT),WL=Sg(nO),jL=Sg(Gw),GL=Sg(Cg),YL=Sg(kg),ZL=Sg(Tg),KL=Gg(jg),JL=Wg(jg),tD=Dv(Lv),eD=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),nD=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),rD=function(){function t(t){this.value0=t}return t.create=function(e){return new t(e)},t}(),iD={show:function(t){if(t instanceof eD)return XL(t.value0);if(t instanceof nD)return XL(t.value0);if(t instanceof rD)return zL(t.value0);throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 112, column 1 - line 115, column 28): "+[t.constructor.name])}},sD=function(t){return function(e){return function(n){return jR("CP.Semantics.Common.binop: impossible binary operation "+WL(t)+" between "+XL(e)+" and "+XL(n))}}},oD=function(t){return function(e){return t instanceof Aw&&e instanceof lT?new lT(0|-e.value0):t instanceof Aw&&e instanceof aT?new aT(-e.value0):t instanceof Pw&&e instanceof IT?new lT(mm(e.value1)):t instanceof _w&&e instanceof aT?new aT(JR(e.value0)):jR("CP.Semantics.Common.unop: impossible unary operation "+jL(t)+" on "+XL(e))}},lD=function(t){return t instanceof uT?t:t instanceof lT?new uT(GL(t.value0)):t instanceof aT?new uT(YL(t.value0)):t instanceof cT?new uT(ZL(t.value0)):jR("CP.Semantics.Common.toString: impossible from "+XL(t)+" to string")},aD=function(t){return function(e){if(t instanceof yT){var n=aD(t.value1)(e),r=aD(t.value0)(e);return r instanceof fT&&n instanceof fT?fT.value:r instanceof fT?n:n instanceof fT?r:new yT(r,n)}return t instanceof kT&&e===t.value0?new xT(t.value2,t.value1):fT.value}},uD=function(t){var e,n=!1;function r(e){return e instanceof jC?(n=!0,fT.value):e instanceof YC?(n=!0,new wT("$top",fT.value,jC.value,e.value1,!0,e.value2)):e instanceof JC?(n=!0,new kT(e.value0,e.value1,fT.value)):e instanceof eT?(n=!0,new ST(e.value0,jC.value,fT.value,e.value2,!0)):e instanceof nT?void(t=e.value1):(n=!0,jR("CP.Semantics.Common.genTopLike: cannot generate a top-like value of type "+zL(e)))}for(;!n;)e=r(t);return e},cD=function(t){return function(e){return function(n){if(t instanceof Vw)return function(t){return function(e){return function(n){return t instanceof Fw&&e instanceof lT&&n instanceof lT?new lT(e.value0+n.value0|0):t instanceof Bw&&e instanceof lT&&n instanceof lT?new lT(e.value0-n.value0|0):t instanceof Uw&&e instanceof lT&&n instanceof lT?new lT(e.value0*n.value0|0):t instanceof Hw&&e instanceof lT&&n instanceof lT?new lT(KL(e.value0)(n.value0)):t instanceof qw&&e instanceof lT&&n instanceof lT?new lT(JL(e.value0)(n.value0)):t instanceof Fw&&e instanceof aT&&n instanceof aT?new aT(e.value0+n.value0):t instanceof Bw&&e instanceof aT&&n instanceof aT?new aT(e.value0-n.value0):t instanceof Uw&&e instanceof aT&&n instanceof aT?new aT(e.value0*n.value0):t instanceof Hw&&e instanceof aT&&n instanceof aT?new aT(e.value0/n.value0):t instanceof qw&&e instanceof aT&&n instanceof aT?new aT(function(t){return function(e){return t%e}}(e.value0)(n.value0)):sD(new Vw(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof Xw)return function(t){return function(e){return function(n){return t instanceof Dw&&e instanceof lT&&n instanceof lT?new cT(e.value0===n.value0):t instanceof Qw&&e instanceof lT&&n instanceof lT?new cT(e.value0!==n.value0):t instanceof Iw&&e instanceof lT&&n instanceof lT?new cT(e.value0<n.value0):t instanceof Mw&&e instanceof lT&&n instanceof lT?new cT(e.value0<=n.value0):t instanceof Nw&&e instanceof lT&&n instanceof lT?new cT(e.value0>n.value0):t instanceof $w&&e instanceof lT&&n instanceof lT?new cT(e.value0>=n.value0):t instanceof Dw&&e instanceof aT&&n instanceof aT?new cT(e.value0===n.value0):t instanceof Qw&&e instanceof aT&&n instanceof aT?new cT(e.value0!==n.value0):t instanceof Iw&&e instanceof aT&&n instanceof aT?new cT(e.value0<n.value0):t instanceof Mw&&e instanceof aT&&n instanceof aT?new cT(e.value0<=n.value0):t instanceof Nw&&e instanceof aT&&n instanceof aT?new cT(e.value0>n.value0):t instanceof $w&&e instanceof aT&&n instanceof aT?new cT(e.value0>=n.value0):t instanceof Dw&&e instanceof uT&&n instanceof uT?new cT(e.value0===n.value0):t instanceof Qw&&e instanceof uT&&n instanceof uT?new cT(e.value0!==n.value0):t instanceof Iw&&e instanceof uT&&n instanceof uT?new cT(e.value0<n.value0):t instanceof Mw&&e instanceof uT&&n instanceof uT?new cT(e.value0<=n.value0):t instanceof Nw&&e instanceof uT&&n instanceof uT?new cT(e.value0>n.value0):t instanceof $w&&e instanceof uT&&n instanceof uT?new cT(e.value0>=n.value0):t instanceof Dw&&e instanceof cT&&n instanceof cT?new cT(e.value0===n.value0):t instanceof Qw&&e instanceof cT&&n instanceof cT?new cT(e.value0!==n.value0):t instanceof Iw&&e instanceof cT&&n instanceof cT?new cT(e.value0<n.value0):t instanceof Mw&&e instanceof cT&&n instanceof cT?new cT(e.value0<=n.value0):t instanceof Nw&&e instanceof cT&&n instanceof cT?new cT(e.value0>n.value0):t instanceof $w&&e instanceof cT&&n instanceof cT?new cT(e.value0>=n.value0):sD(new Xw(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof zw)return function(t){return function(e){return function(n){return t instanceof Ew&&e instanceof cT&&n instanceof cT?new cT(e.value0&&n.value0):t instanceof Lw&&e instanceof cT&&n instanceof cT?new cT(e.value0||n.value0):sD(new zw(t))(e)(n)}}}(t.value0)(e)(n);if(t instanceof Ww&&e instanceof uT&&n instanceof uT)return new uT(e.value0+n.value0);if(t instanceof Ww&&e instanceof IT&&n instanceof IT)return new IT(e.value0,tD(e.value1)(n.value1));if(t instanceof jw&&e instanceof IT&&n instanceof lT){var r=dR(e.value1)(n.value0);if(r instanceof _g)return new xT(r.value0,e.value0);if(r instanceof Pg)return jR("CP.Semantics.Common.binop: the index "+GL(n.value0)+" is out of bounds for "+XL(new IT(e.value0,e.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Common (line 27, column 41 - line 30, column 63): "+[r.constructor.name])}return sD(t)(e)(n)}}},hD=Sg(XT),fD=Sg(iD),dD=Sg(qT),vD=Qv(Ug),gD=Mv(Fg),pD=kv(Ig),mD=Fv(UL),RD=kv(FL),wD=Hv(BL),OD=Mv(qL),xD=_v(FL),yD=Vv(BL),bD=kv(Pv),kD=sR(aR)(UL),CD=function(t){return function(e){return t instanceof FT&&!t.value3&&e instanceof eD?t.value0(new NT(kw(e.value0))):t instanceof FT&&t.value3&&e instanceof eD?new xT(t.value0(new NT(kw(e.value0))),t.value2):t instanceof FT&&e instanceof nD?new xT(t.value0(new NT(kw(new xT(e.value0,t.value1)))),t.value2):t instanceof UT&&!t.value3&&e instanceof rD?t.value0(e.value0):t instanceof UT&&t.value3&&e instanceof rD?new xT(t.value0(e.value0),t.value2(e.value0)):t instanceof yT?new yT(CD(t.value0)(e),CD(t.value1)(e)):jR("CP.Semantics.HOAS.paraApp: impossible application "+hD(t)+" • "+fD(e))}},TD=function(t){return t instanceof lT||(t instanceof aT||(t instanceof uT||(t instanceof cT||(t instanceof hT||(t instanceof fT||(t instanceof FT||(t instanceof yT?TD(t.value0)&&TD(t.value1):t instanceof kT||(t instanceof UT||(t instanceof PT?TD(t.value1):t instanceof IT)))))))))},SD=function(t){return function(e){if(!TD(t))return jR("CP.Semantics.HOAS.cast: "+hD(t)+" is not a value");var n=oS(e);return n instanceof _g?gD(pD(yT.create)(SD(t)(n.value0.value0)))(SD(t)(n.value0.value1)):e instanceof KC?vD(SD(t)(e.value0))(SD(t)(e.value1)):lS(e)?new _g(function(t){var e,n=!1;function r(e){return e instanceof jC?(n=!0,fT.value):e instanceof YC?(n=!0,new FT((function(t){return fT.value}),jC.value,e.value1,!0)):e instanceof JC?(n=!0,new kT(e.value0,e.value1,fT.value)):e instanceof eT?(n=!0,new UT((function(t){return fT.value}),jC.value,JT(e.value0)(e.value2),!0)):e instanceof nT?void(t=e.value1):(n=!0,jR("CP.Semantics.HOAS.genTopLike: cannot generate a top-like value of type "+dD(e)))}for(;!n;)e=r(t);return e}(e)):t instanceof lT&&e instanceof qC?new _g(new lT(t.value0)):t instanceof aT&&e instanceof VC?new _g(new aT(t.value0)):t instanceof uT&&e instanceof XC?new _g(new uT(t.value0)):t instanceof cT&&e instanceof zC?new _g(new cT(t.value0)):t instanceof hT&&e instanceof WC?new _g(hT.value):t instanceof FT&&e instanceof YC&&aS(t.value2)(e.value1)?new _g(new FT(t.value0,t.value1,e.value1,!0)):t instanceof yT?vD(SD(t.value0)(e))(SD(t.value1)(e)):t instanceof kT&&e instanceof JC&&t.value0===e.value0&&aS(t.value1)(e.value1)?new _g(new kT(t.value0,e.value1,t.value2)):t instanceof UT&&e instanceof eT&&aS(e.value1)(t.value1)&&aS(t.value2(new tT(e.value0)))(e.value2)?new _g(new UT(t.value0,t.value1,JT(e.value0)(e.value2),!0)):t instanceof PT&&e instanceof nT&&aS(t.value0)(e)?new _g(new PT(e,t.value1)):t instanceof IT&&e instanceof iT&&aS(t.value0)(e.value0)?new _g(new IT(e.value0,t.value1)):Pg.value}},AD=function(){var t=function(e){var n=e;if(e instanceof lT)return mD(n);n=e;if(e instanceof aT)return mD(n);n=e;if(e instanceof uT)return mD(n);n=e;if(e instanceof cT)return mD(n);if(e instanceof hT)return mD(hT.value);if(e instanceof fT)return mD(fT.value);if(e instanceof vT)return RD(oD(e.value0))(t(e.value1));if(e instanceof gT)return wD(t(e.value1))((function(n){return wD(t(e.value2))((function(r){var i=cD(e.value0)(n)(r);return e.value0 instanceof jw?t(i):mD(i)}))}));if(e instanceof pT)return wD(t(e.value0))((function(n){return n instanceof cT&&n.value0?t(e.value1):n instanceof cT&&!n.value0?t(e.value2):jR("CP.Semantics.HOAS.eval: impossible if "+hD(n)+" ...")}));if(e instanceof RT)return wD(t(e.value0))((function(n){return t(CD(n)((e.value2?nD.create:eD.create)(e.value1)))}));n=e;if(e instanceof FT)return mD(n);n=e;if(e instanceof BT)return t(e.value0(n));if(e instanceof xT)return wD((r=function(e){var n,r=!1;function i(n){if(!(n instanceof xT))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=SD(n)(e.value1);if(r instanceof _g)return t(r.value0);if(r instanceof Pg)return jR("CP.Semantics.HOAS.eval: impossible casting "+hD(n)+" : "+dD(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 50, column 7 - line 53, column 74): "+[r.constructor.name])}));if(e instanceof yT)return OD(RD(yT.create)(t(e.value0)))(t(e.value1));if(e instanceof HT){return wD(t(e.value0))((function(n){return(r=n,function(e){var n,i=r,s=!1;function o(n,r){if(r instanceof bR)return s=!0,jR("CP.Semantics.HOAS.eval: impossible switch "+hD(n)+"...");if(r instanceof kR){var o=SD(n)(r.value0.value0);if(o instanceof _g)return s=!0,t(r.value0.value1(o.value0));if(o instanceof Pg)return i=n,void(e=r.value1);throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 64, column 39 - line 66, column 36): "+[o.constructor.name])}throw new Error("Failed pattern match at Language.CP.Semantics.HOAS (line 61, column 13 - line 61, column 62): "+[n.constructor.name,r.constructor.name])}for(;!s;)n=o(i,e);return n})(e.value1);var r}))}if(e instanceof kT)return mD(new kT(e.value0,e.value1,new NT(kw(e.value2))));if(e instanceof CT)return wD(xD(RD(aD)(t(e.value0)))(e.value1))(t);if(e instanceof TT)return wD(xD(RD(CD)(t(e.value0)))(new rD(e.value1)))(t);n=e;if(e instanceof UT)return mD(n);if(e instanceof PT)return RD(PT.create(e.value0))(t(e.value1));if(e instanceof _T){var r=function(n){return n instanceof yT?yD(r)(t)(new xT(n,e.value0)):n instanceof PT?t(new xT(n.value1,YT(e.value0))):jR("CP.Semantics.HOAS.eval: impossible unfold "+hD(n))};return lS(e.value0)?mD(fT.value):wD(t(e.value1))(r)}if(e instanceof QT)return RD(lD)(t(e.value0));if(e instanceof IT)return mD(new IT(e.value0,bD((function(t){return NT.create(kw(t))}))(e.value1)));if(e instanceof MT){var i=function(e){return e instanceof yT?wD(i(e.value0))((function(t){return wD(i(e.value1))((function(e){return mD(new yT(t,e))}))})):e instanceof kT?RD(kT.create(e.value0)(e.value1))(t(e.value2)):e instanceof IT?RD(IT.create(e.value0))(kD(t)(e.value1)):mD(e)};return wD(t(e.value0))(i)}if(e instanceof NT){n=Tw(e.value0);return Cw(e.value0)?mD(n):wD(t(n))((function(t){return mD(Sw(t)(e.value0))}))}return jR("CP.Semantics.HOAS.eval: well-typed programs don't get stuck, but got "+hD(e))};return function(e){return VL(t(rS(e)))}}(),PD=kv(Ig),_D={lift:function(t){var e=function(t){var e=Hv(t.Bind1()),n=Fv(t.Applicative0());return function(t){return function(r){return e(r)((function(e){return n(t(e))}))}}}(t)(_g.create);return function(t){return e(t)}}},ED=function(t){var e=kv(t);return{map:function(t){return function(n){return e(PD(t))(n)}}}},LD=function(t){return{Applicative0:function(){return ID(t)},Bind1:function(){return DD(t)}}},DD=function(t){var e=Hv(t.Bind1()),n=Fv(t.Applicative0());return{bind:function(t){return function(r){return e(t)((function(t){if(t instanceof Pg)return n(Pg.value);if(t instanceof _g)return r(t.value0);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[t.constructor.name])}))}},Apply0:function(){return QD(t)}}},QD=function(t){var e=ED(t.Bind1().Apply0().Functor0());return{apply:Wv(LD(t)),Functor0:function(){return e}}},ID=function(t){return{pure:(e=Fv(t.Applicative0()),function(t){return e(_g.create(t))}),Apply0:function(){return QD(t)}};var e},MD=function(t){var e=t.Bind1(),n=Hv(e),r=Fv(t.Applicative0()),i=ED(e.Apply0().Functor0());return{alt:function(t){return function(e){return n(t)((function(t){return t instanceof Pg?e:r(t)}))}},Functor0:function(){return i}}},ND=function(t){var e=MD(t);return{empty:Fv(t.Applicative0())(Pg.value),Alt0:function(){return e}}},$D=Rw(gg),FD=Sg(XT),BD=Sg(iD),UD=mw(gg),HD=Sg(Eg(WT)),qD=Vp(_D),VD=pw(gg),XD=Dv(Lv),zD=Sg(Cg),WD=function(t){return function(e){return t instanceof Pw&&e instanceof $T&&e.value1 instanceof IT?new lT(mm(e.value1.value1)):oD(t)(e)}},jD=function(t){return function(e){if(t instanceof yT){var n=jD(t.value1)(e),r=jD(t.value0)(e);return r instanceof fT&&n instanceof fT?fT.value:r instanceof fT?n:n instanceof fT?r:new yT(r,n)}return t instanceof $T&&t.value1 instanceof kT&&e===t.value1.value0?new $T(t.value0,new xT(t.value1.value2,t.value1.value1)):fT.value}},GD=function(t){return function(e){return t instanceof $T&&t.value1 instanceof wT&&!t.value1.value4&&e instanceof eD?new $T($D(t.value1.value0)(new sT(e.value0))(t.value0),t.value1.value1):t instanceof $T&&t.value1 instanceof wT&&t.value1.value4&&e instanceof eD?new $T($D(t.value1.value0)(new sT(e.value0))(t.value0),new xT(t.value1.value1,t.value1.value3)):t instanceof $T&&t.value1 instanceof wT&&e instanceof nD?new $T($D(t.value1.value0)(new sT(new xT(e.value0,t.value1.value2)))(t.value0),new xT(t.value1.value1,t.value1.value3)):t instanceof $T&&t.value1 instanceof ST&&!t.value1.value4&&e instanceof rD?new $T($D(t.value1.value0)(new oT(new _g(e.value0)))(t.value0),t.value1.value2):t instanceof $T&&t.value1 instanceof ST&&t.value1.value4&&e instanceof rD?new $T($D(t.value1.value0)(new oT(new _g(e.value0)))(t.value0),new xT(t.value1.value2,t.value1.value3)):t instanceof yT?new yT(GD(t.value0)(e),GD(t.value1)(e)):jR("CP.Semantics.Closure.paraApp: impossible application "+FD(t)+" • "+BD(e))}},YD=function(t){return t instanceof lT||(t instanceof aT||(t instanceof uT||(t instanceof cT||(t instanceof hT||(t instanceof fT||(t instanceof yT?YD(t.value0)&&YD(t.value1):t instanceof PT?YD(t.value1):t instanceof $T&&t.value1 instanceof kT||(t instanceof $T&&t.value1 instanceof wT||(t instanceof $T&&t.value1 instanceof ST||t instanceof $T&&t.value1 instanceof IT))))))))},ZD=function(t){var e=t.Bind1(),n=e.Apply0(),r=Jp(n.Functor0()),i=_v(r),s=Mv(tm(n)),o=kv(r),l=Hv(em(e)),a=ap(im(t)),u=Fv(nm(t.Applicative0())),c=lp(sm(t));return function(e){return e instanceof YC?i(s(o(YC.create)(ZD(t)(e.value0)))(ZD(t)(e.value1)))(e.value2):e instanceof ZC?s(o(ZC.create)(ZD(t)(e.value0)))(ZD(t)(e.value1)):e instanceof JC?o(JC.create(e.value0))(ZD(t)(e.value1)):e instanceof tT?l(a)((function(n){var r=UD(e.value0)(n);return r instanceof _g&&r.value0 instanceof oT&&r.value0.value0 instanceof Pg?u(new tT(e.value0)):r instanceof _g&&r.value0 instanceof oT&&r.value0.value0 instanceof _g?ZD(t)(r.value0.value0.value0):jR("CP.Semantics.Closure.expand: "+e.value0+" is "+HD(r))})):e instanceof eT?l(ZD(t)(e.value1))((function(n){return l(c((function(t){return $D(e.value0)(new oT(Pg.value))(t)}))(ZD(t)(e.value2)))((function(t){return u(new eT(e.value0,n,t))}))})):e instanceof nT?l(c((function(t){return $D(e.value0)(new oT(Pg.value))(t)}))(ZD(t)(e.value1)))((function(t){return u(new nT(e.value0,t))})):e instanceof iT?o(iT.create)(ZD(t)(e.value0)):u(e)}},KD=function(t){var e=Hv(em(t.Bind1())),n=ap(im(t)),r=Fv(nm(t.Applicative0()));return function(t){return e(n)((function(e){return r(new $T(e,t))}))}},JD=function(t){var e=rm(t),n=Fv(ID(e)),r=Qv(MD(e)),i=Hv(DD(e)),s=qD(e),o=lp(sm(t)),l=ZD(t),a=Xp(ND(e)),u=Mv(QD(e)),c=kv(ED(Jp(t.Bind1().Apply0().Functor0())));return function(t){return function(e){var h=function(t){return function(e){if(!YD(t))return jR("CP.Semantics.Closure.cast: "+FD(t)+" is not a value");var f=oS(e);return f instanceof _g?u(c(yT.create)(h(t)(f.value0.value0)))(h(t)(f.value0.value1)):lS(e)?n(uD(e)):t instanceof yT?r(h(t.value0)(e))(h(t.value1)(e)):t instanceof lT&&e instanceof qC?n(new lT(t.value0)):t instanceof aT&&e instanceof VC?n(new aT(t.value0)):t instanceof uT&&e instanceof XC?n(new uT(t.value0)):t instanceof cT&&e instanceof zC?n(new cT(t.value0)):t instanceof hT&&e instanceof WC?n(hT.value):t instanceof PT&&e instanceof nT&&aS(t.value0)(e)?n(new PT(e,t.value1)):t instanceof $T&&t.value1 instanceof kT&&e instanceof JC?i(s(o(xv(t.value0))(l(t.value1.value1))))((function(r){return t.value1.value0===e.value0&&aS(r)(e.value1)?n(new $T(t.value0,new kT(e.value0,e.value1,t.value1.value2))):a})):t instanceof $T&&t.value1 instanceof wT&&e instanceof YC?i(s(o(xv(t.value0))(l(t.value1.value2))))((function(r){return i(s(o(xv(t.value0))(l(t.value1.value3))))((function(i){return aS(i)(e.value1)?n(new $T(t.value0,new wT(t.value1.value0,t.value1.value1,r,e.value1,!0,t.value1.value5))):a}))})):t instanceof $T&&t.value1 instanceof ST&&e instanceof eT?i(s(o(xv(t.value0))(l(t.value1.value1))))((function(r){var u=$D(t.value1.value0)(new oT(Pg.value))(t.value0);return i(s(o(xv(u))(l(t.value1.value3))))((function(i){return t.value1.value0===e.value0&&aS(e.value1)(r)&&aS(i)(e.value2)?n(new $T(u,new ST(e.value0,r,t.value1.value2,e.value2,!0))):a}))})):t instanceof $T&&t.value1 instanceof IT&&e instanceof iT?i(s(o(xv(t.value0))(l(t.value1.value0))))((function(r){return aS(r)(e.value0)?n(new $T(t.value0,new IT(e.value0,t.value1.value1))):a})):a}};return h(t)(e)}}},tQ=function(t){return function(e){return function(n){if(t instanceof Ww&&e instanceof $T&&e.value1 instanceof IT&&n instanceof $T&&n.value1 instanceof IT)return new $T(VD(e.value0)(n.value0),new IT(e.value1.value0,XD(e.value1.value1)(n.value1.value1)));if(t instanceof jw&&e instanceof $T&&e.value1 instanceof IT&&n instanceof lT){var r=dR(e.value1.value1)(n.value0);if(r instanceof _g)return new $T(e.value0,new xT(r.value0,e.value1.value0));if(r instanceof Pg)return jR("CP.Semantics.Closure.binop': the index "+zD(n.value0)+" is out of bounds for "+FD(new IT(e.value1.value0,e.value1.value1)));throw new Error("Failed pattern match at Language.CP.Semantics.Closure (line 146, column 58 - line 149, column 63): "+[r.constructor.name])}return cD(t)(e)(n)}}},eQ=Fv(nm(UL)),nQ=Jp(FL),rQ=kv(nQ),iQ=em(BL),sQ=Hv(iQ),oQ=Sg(XT),lQ=ap(im($L)),aQ=mw(gg),uQ=Sg(bg),cQ=Sg(Eg(WT)),hQ=KD($L),fQ=lp(sm($L)),dQ=Rw(gg),vQ=ZD($L),gQ=JD($L),pQ=Sg(qT),mQ=Mv(tm(qL)),RQ=_v(nQ),wQ=Vv(iQ),OQ=Sg(XT),xQ=Sg(iD),yQ=Qv(Ug),bQ=Mv(Fg),kQ=kv(Ig),CQ=function(t){return function(e){return t instanceof wT&&!t.value4&&e instanceof eD?eS(t.value0)(e.value0)(t.value1):t instanceof wT&&t.value4&&e instanceof eD?new xT(eS(t.value0)(e.value0)(t.value1),t.value3):t instanceof wT&&e instanceof nD?new xT(eS(t.value0)(new xT(e.value0,t.value2))(t.value1),t.value3):t instanceof ST&&!t.value4&&e instanceof rD?tS(t.value0)(e.value0)(t.value2):t instanceof ST&&t.value4&&e instanceof rD?new xT(tS(t.value0)(e.value0)(t.value2),GT(t.value0)(e.value0)(t.value3)):t instanceof yT?new yT(CQ(t.value0)(e),CQ(t.value1)(e)):jR("CP.Semantics.Subst.paraApp: impossible application "+OQ(t)+" • "+xQ(e))}},TQ=function(t){return t instanceof lT||(t instanceof aT||(t instanceof uT||(t instanceof cT||(t instanceof hT||(t instanceof fT||(t instanceof wT||(t instanceof yT?TQ(t.value0)&&TQ(t.value1):t instanceof kT||(t instanceof ST||(t instanceof PT?TQ(t.value1):t instanceof IT)))))))))},SQ=function(t){return function(e){if(!TQ(t))return jR("CP.Semantics.Subst.cast: "+OQ(t)+" is not a value");var n=oS(e);return n instanceof _g?bQ(kQ(yT.create)(SQ(t)(n.value0.value0)))(SQ(t)(n.value0.value1)):lS(e)?new _g(uD(e)):t instanceof lT&&e instanceof qC?new _g(new lT(t.value0)):t instanceof aT&&e instanceof VC?new _g(new aT(t.value0)):t instanceof uT&&e instanceof XC?new _g(new uT(t.value0)):t instanceof cT&&e instanceof zC?new _g(new cT(t.value0)):t instanceof hT&&e instanceof WC?new _g(hT.value):t instanceof wT&&e instanceof YC&&aS(t.value3)(e.value1)?new _g(new wT(t.value0,t.value1,t.value2,e.value1,!0,t.value5)):t instanceof yT?yQ(SQ(t.value0)(e))(SQ(t.value1)(e)):t instanceof kT&&e instanceof JC&&t.value0===e.value0&&aS(t.value1)(e.value1)?new _g(new kT(t.value0,e.value1,t.value2)):t instanceof ST&&e instanceof eT&&aS(e.value1)(t.value1)&&aS(GT(t.value0)(new tT(e.value0))(t.value3))(e.value2)?new _g(new ST(e.value0,t.value1,tS(t.value0)(new tT(e.value0))(t.value2),e.value2,!0)):t instanceof PT&&e instanceof nT&&aS(t.value0)(e)?new _g(new PT(e,t.value1)):t instanceof IT&&e instanceof iT&&aS(t.value0)(e.value0)?new _g(new IT(e.value0,t.value1)):Pg.value}},AQ=function(t){if(t instanceof vT)return TQ(t.value1)?oD(t.value0)(t.value1):new vT(t.value0,AQ(t.value1));if(t instanceof gT)return TQ(t.value1)&&TQ(t.value2)?cD(t.value0)(t.value1)(t.value2):TQ(t.value1)?new gT(t.value0,t.value1,AQ(t.value2)):new gT(t.value0,AQ(t.value1),t.value2);if(t instanceof pT&&t.value0 instanceof cT&&t.value0.value0)return t.value1;if(t instanceof pT&&t.value0 instanceof cT&&!t.value0.value0)return t.value2;if(t instanceof pT)return new pT(AQ(t.value0),t.value1,t.value2);if(t instanceof RT)return TQ(t.value0)?CQ(t.value0)((t.value2?nD.create:eD.create)(t.value1)):new RT(AQ(t.value0),t.value1,t.value2);if(t instanceof OT)return eS(t.value0)(t)(t.value1);if(t instanceof xT&&t.value0 instanceof xT)return new xT(t.value0.value0,t.value1);if(t instanceof xT)return TQ(t.value0)?TC(SQ(t.value0)(t.value1)):new xT(AQ(t.value0),t.value1);if(t instanceof yT)return TQ(t.value0)?new yT(t.value0,AQ(t.value1)):TQ(t.value1)?new yT(AQ(t.value0),t.value1):new yT(AQ(t.value0),AQ(t.value1));if(t instanceof CT)return TQ(t.value0)?aD(t.value0)(t.value1):new CT(AQ(t.value0),t.value1);if(t instanceof TT)return TQ(t.value0)?CQ(t.value0)(new rD(t.value1)):new TT(AQ(t.value0),t.value1);if(t instanceof AT)return eS(t.value0)(t.value1)(t.value2);if(t instanceof PT)return new PT(t.value0,AQ(t.value1));if(t instanceof _T&&lS(t.value0))return fT.value;var e=function(e){var n=function(e){return t instanceof _T?new _T(t.value0,AQ(t.value1)):t instanceof QT?TQ(t.value0)?lD(t.value0):new QT(AQ(t.value0)):t instanceof MT?AQ(t.value0):jR("CP.Semantics.Subst.step: well-typed programs don't get stuck, but got "+OQ(t))};return t instanceof _T&&t.value1 instanceof yT?new _T(t.value0,new xT(t.value1,t.value0)):n()};return t instanceof _T&&t.value1 instanceof PT?new xT(t.value1.value1,YT(t.value0)):e()},PQ=Fv(UL),_Q=kv(FL),EQ=Hv(BL),LQ=Sg(XT),DQ=Sg(qT),QQ=Mv(qL),IQ=_v(FL),MQ=Vv(BL),NQ=kv(Pv),$Q=function(){var t=function(e){var n=e;if(e instanceof lT)return PQ(n);n=e;if(e instanceof aT)return PQ(n);n=e;if(e instanceof uT)return PQ(n);n=e;if(e instanceof cT)return PQ(n);if(e instanceof hT)return PQ(hT.value);if(e instanceof fT)return PQ(fT.value);if(e instanceof vT)return _Q(oD(e.value0))(t(e.value1));if(e instanceof gT)return EQ(t(e.value1))((function(n){return EQ(t(e.value2))((function(r){var i=cD(e.value0)(n)(r);return e.value0 instanceof jw?t(i):PQ(i)}))}));if(e instanceof pT)return EQ(t(e.value0))((function(n){return n instanceof cT&&n.value0?t(e.value1):n instanceof cT&&!n.value0?t(e.value2):jR("CP.Semantics.NaturalSubst.eval: impossible if "+LQ(n)+" ...")}));if(e instanceof RT)return EQ(t(e.value0))((function(n){var r=e.value2?nD.create:eD.create;return t(CQ(n)(r(new NT(kw(e.value1)))))}));n=e;if(e instanceof wT)return PQ(n);if(e instanceof OT){var r=kw(e);return EQ(t(eS(e.value0)(new NT(r))(e.value1)))((function(t){return PQ(Sw(t)(r))}))}if(e instanceof xT)return EQ((i=function(e){var n,r=!1;function i(n){if(!(n instanceof xT))return r=!0,t(n);e=n.value0}for(;!r;)n=i(e);return n})(e.value0))((function(n){var r=SQ(n)(e.value1);if(r instanceof _g)return t(r.value0);if(r instanceof Pg)return jR("CP.Semantics.NaturalSubst.eval: impossible casting "+LQ(n)+" : "+DQ(e.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalSubst (line 51, column 7 - line 54, column 75): "+[r.constructor.name])}));if(e instanceof yT)return QQ(_Q(yT.create)(t(e.value0)))(t(e.value1));if(e instanceof kT)return PQ(new kT(e.value0,e.value1,new NT(kw(e.value2))));if(e instanceof CT)return EQ(IQ(_Q(aD)(t(e.value0)))(e.value1))(t);if(e instanceof TT)return EQ(IQ(_Q(CQ)(t(e.value0)))(new rD(e.value1)))(t);n=e;if(e instanceof ST)return PQ(n);if(e instanceof AT)return t(eS(e.value0)(new NT(kw(e.value1)))(e.value2));if(e instanceof PT)return _Q(PT.create(e.value0))(t(e.value1));if(e instanceof _T){var i=function(n){return n instanceof yT?MQ(i)(t)(new xT(n,e.value0)):n instanceof PT?t(new xT(n.value1,YT(e.value0))):jR("CP.Semantics.NaturalSubst.eval: impossible unfold "+LQ(n))};return lS(e.value0)?PQ(fT.value):EQ(t(e.value1))(i)}if(e instanceof QT)return _Q(lD)(t(e.value0));if(e instanceof IT)return PQ(new IT(e.value0,NQ((function(t){return NT.create(kw(t))}))(e.value1)));if(e instanceof MT)return t(e.value0);if(e instanceof NT){n=Tw(e.value0);return Cw(e.value0)?PQ(n):EQ(t(n))((function(t){return PQ(Sw(t)(e.value0))}))}return jR("CP.Semantics.NaturalSubst.eval: well-typed programs don't get stuck, but got "+LQ(e))};return function(e){return VL(t(e))}}(),FQ=function(t){return function(e){return t(e)}},BQ=function(t){var e=kv(t);return{map:function(t){return FQ(e((function(e){return new Tp(t(e.value0),e.value1)})))}}},UQ=function(t){var e=Dv(t);return function(t){var n=Mv(t),r=t.Functor0(),i=kv(r),s=BQ(r);return{apply:function(t){return function(r){return n(i((function(t){return function(n){return new Tp(t.value0(n.value0),e(t.value1)(n.value1))}}))(t))(r)}},Functor0:function(){return s}}}},HQ=function(t){var e=Dv(t),n=UQ(t);return function(t){var r=Hv(t),i=t.Apply0(),s=kv(i.Functor0()),o=n(i);return{bind:function(t){return function(n){return r(t)((function(t){var r=n(t.value0);return s((function(n){return new Tp(n.value0,e(t.value1)(n.value1))}))(r)}))}},Apply0:function(){return o}}}},qQ=function(t){var e=Zg(t),n=UQ(t.Semigroup0());return function(t){var r=Fv(t),i=n(t.Apply0());return{pure:function(t){return r(new Tp(t,e))},Apply0:function(){return i}}}},VQ=function(t){var e=qQ(t),n=HQ(t.Semigroup0());return function(t){var r=e(t.Applicative0()),i=n(t.Bind1());return{Applicative0:function(){return r},Bind1:function(){return i}}}},XQ=function(t){var e=t.Semigroup0(),n=VQ(t);return function(t){var r,i,s=n(t);return{tell:(r=Fv(t.Applicative0()),i=Tp.create(bv),function(t){return r(i(t))}),Semigroup0:function(){return e},Monad1:function(){return s}}}},zQ=jp(),WQ=function(t){return zQ(t)},jQ=Qp(XQ(qm(wv))(gp)),GQ=BQ(hp),YQ=Sv(GQ),ZQ=Hm(pv),KQ=UQ(ZQ)(fp),JQ=Mv(KQ),tI=_v(GQ),eI=Sg(XT),nI=Hv(HQ(ZQ)(dp)),rI=Nv(KQ),iI=function(t){return function(e){return t+e}},sI=function(t){return jQ(iI("→ Step-"+t+"\n"))},oI=function(t){return jQ(iI("↓ Step-"+t+"\n"))},lI=function(t){if(t instanceof vT)return TQ(t.value1)?YQ(oI("UnaryV"))(oD(t.value0)(t.value1)):JQ(YQ(sI("Unary"))(vT.create(t.value0)))(lI(t.value1));if(t instanceof gT)return TQ(t.value1)&&TQ(t.value2)?YQ(oI("BinaryV"))(cD(t.value0)(t.value1)(t.value2)):TQ(t.value1)?JQ(YQ(sI("BinaryR"))(gT.create(t.value0)(t.value1)))(lI(t.value2)):tI(JQ(YQ(sI("BinaryL"))(gT.create(t.value0)))(lI(t.value1)))(t.value2);if(t instanceof pT&&t.value0 instanceof cT&&t.value0.value0)return YQ(oI("IfTrue"))(t.value1);if(t instanceof pT&&t.value0 instanceof cT&&!t.value0.value0)return YQ(oI("IfFalse"))(t.value2);if(t instanceof pT)return tI(tI(JQ(YQ(sI("If"))(pT.create))(lI(t.value0)))(t.value1))(t.value2);if(t instanceof RT)return TQ(t.value0)?YQ(oI("PApp"))(CQ(t.value0)((t.value2?nD.create:eD.create)(t.value1))):tI(tI(JQ(YQ(sI("AppL"))(RT.create))(lI(t.value0)))(t.value1))(t.value2);if(t instanceof OT)return YQ(oI("Fix"))(eS(t.value0)(t)(t.value1));if(t instanceof xT&&t.value0 instanceof xT)return YQ(oI("AnnoAnno"))(new xT(t.value0.value0,t.value1));if(t instanceof xT)return TQ(t.value0)?YQ(oI("AnnoV"))(TC(SQ(t.value0)(t.value1))):tI(JQ(YQ(sI("Anno"))(xT.create))(lI(t.value0)))(t.value1);if(t instanceof yT)return TQ(t.value0)?JQ(YQ(sI("MergeR"))(yT.create(t.value0)))(lI(t.value1)):TQ(t.value1)?tI(JQ(YQ(sI("MergeL"))(yT.create))(lI(t.value0)))(t.value1):JQ(JQ(YQ(sI("Merge"))(yT.create))(lI(t.value0)))(lI(t.value1));if(t instanceof CT)return TQ(t.value0)?YQ(oI("PProj"))(aD(t.value0)(t.value1)):tI(JQ(YQ(sI("Proj"))(CT.create))(lI(t.value0)))(t.value1);if(t instanceof TT)return TQ(t.value0)?YQ(oI("PTApp"))(CQ(t.value0)(new rD(t.value1))):tI(JQ(YQ(sI("TApp"))(TT.create))(lI(t.value0)))(t.value1);if(t instanceof AT)return YQ(oI("Def"))(eS(t.value0)(t.value1)(t.value2));if(t instanceof PT)return JQ(YQ(sI("Fold"))(PT.create(t.value0)))(lI(t.value1));if(t instanceof _T&&lS(t.value0))return YQ(oI("UnfoldTop"))(fT.value);var e=function(e){var n=function(e){return t instanceof _T?JQ(YQ(sI("Unfold"))(_T.create(t.value0)))(lI(t.value1)):t instanceof QT?TQ(t.value0)?YQ(oI("ToStringV"))(lD(t.value0)):JQ(YQ(sI("ToString"))(QT.create))(lI(t.value0)):t instanceof MT?lI(t.value0):jR("CP.Semantics.StepTrace.step: well-typed programs don't get stuck, but got "+eI(t))};return t instanceof _T&&t.value1 instanceof yT?YQ(oI("UnfoldMerge"))(new _T(t.value0,new xT(t.value1,t.value0))):n()};return t instanceof _T&&t.value1 instanceof PT?tI(YQ(oI("UnfoldFold"))(xT.create(t.value1.value1)))(YT(t.value0)):e()},aI=function(){var t=function(e){return TQ(e)?YQ(jQ(iI(eI(e)+"\n")))(e):nI(rI(jQ(iI(eI(e)+"\n")))(lI(e)))(t)},e=Mm(Nm)(jp());return function(n){return e(WQ(t(n)))}}(),uI=jm(TR),cI=kv(CR),hI=$p(gp),fI=Hv(fm(hI)),dI=Fv(vm(hI)),vI=Dp(gm(hI)),gI=Sg(XT),pI=Sg(CP),mI=Sg(wP),RI=Sg(KP),wI=Fv(ep),OI=function(t){return function(e){return uI(yv)(t)(cI((function(t){return Ap(Ap(t))}))(e))}},xI=function(t){var e=function(t){return new rP(R_(y_)(t.value0),x_(t.value1))}(t);return fI(function(t){return fI(function(t){return JE(nL(gL)(t.value0))((function(){return jE(YE(s_))((function(e){var n=t_(vL(t.value1))(e);if(n instanceof Hg)return ZE(n.value0);if(n instanceof qg)return rL(new Tp(new MT(n.value0.value0),n.value0.value1));throw new Error("Failed pattern match at Language.CP.Typing (line 582, column 3 - line 584, column 47): "+[n.constructor.name])}))}))}(t))((function(t){return fI(vI((function(t){return t.tmBindings})))((function(e){return dI(OI(t.value0)(e))}))}))}(e))((function(n){return fI(vI((function(t){return t.mode})))((function(r){return dI(function(){if(r instanceof zP)return gI(function(t){var e,n=!1;function r(e){if(TQ(e))return n=!0,e;t=AQ(e)}for(;!n;)e=r(t);return e}(n));if(r instanceof WP){var i=aI(n);return pI(t)+"\n⇣ Desugar\n"+mI(e.value1)+"\n↯ Elaborate\n"+i.value1("")}if(r instanceof jP)return pI(t)+"\n⇣ Desugar\n"+mI(e.value1)+"\n↯ Elaborate\n"+gI(n);if(r instanceof GP)return gI($Q(n));if(r instanceof YP)return gI(AD(n));if(r instanceof ZP)return gI(function(t){var e=function(t){var n=t;if(t instanceof lT)return eQ(n);if(n=t,t instanceof aT)return eQ(n);if(n=t,t instanceof uT)return eQ(n);if(n=t,t instanceof cT)return eQ(n);if(t instanceof hT)return eQ(hT.value);if(t instanceof fT)return eQ(fT.value);if(t instanceof vT)return rQ(WD(t.value0))(e(t.value1));if(t instanceof gT)return sQ(e(t.value1))((function(n){return sQ(e(t.value2))((function(r){var i=tQ(t.value0)(n)(r);return t.value0 instanceof jw?e(i):eQ(i)}))}));if(t instanceof pT)return sQ(e(t.value0))((function(n){return n instanceof cT&&n.value0?e(t.value1):n instanceof cT&&!n.value0?e(t.value2):jR("CP.Semantics.NaturalClosure.eval: impossible if "+oQ(n)+" ...")}));if(t instanceof mT)return sQ(lQ)((function(n){var r=aQ(t.value0)(n);return r instanceof _g&&r.value0 instanceof sT?e(r.value0.value0):jR("CP.Semantics.NaturalClosure.eval: variable "+uQ(t.value0)+" is "+cQ(r))}));if(t instanceof RT)return sQ(e(t.value0))((function(n){return sQ(hQ(t.value1))((function(r){var i=t.value2?nD.create:eD.create;return e(GD(n)(i(new NT(kw(r)))))}))}));if(n=t,t instanceof wT)return hQ(n);if(t instanceof OT)return fQ((function(e){return dQ(t.value0)(new sT(t.value1))(e)}))(e(t.value1));if(t instanceof xT)return sQ((r=function(t){var n,r=!1;function i(n){if(!(n instanceof xT))return r=!0,e(n);t=n.value0}for(;!r;)n=i(t);return n})(t.value0))((function(n){return sQ(vQ(t.value1))((function(r){return sQ(gQ(n)(r))((function(r){if(r instanceof _g)return e(r.value0);if(r instanceof Pg)return jR("CP.Semantics.NaturalClosure.eval: impossible casting "+oQ(n)+" : "+pQ(t.value1));throw new Error("Failed pattern match at Language.CP.Semantics.NaturalClosure (line 59, column 7 - line 62, column 75): "+[r.constructor.name])}))}))}));if(t instanceof yT)return mQ(rQ(yT.create)(e(t.value0)))(e(t.value1));if(n=t,t instanceof kT)return hQ(n);if(t instanceof CT)return sQ(RQ(rQ(jD)(e(t.value0)))(t.value1))(e);if(t instanceof TT)return sQ(e(t.value0))((function(n){return sQ(vQ(t.value1))((function(t){return e(GD(n)(new rD(t)))}))}));if(n=t,t instanceof ST)return hQ(n);if(t instanceof AT)return sQ(hQ(t.value1))((function(n){return fQ((function(e){return dQ(t.value0)(new sT(new NT(kw(n))))(e)}))(e(t.value2))}));if(t instanceof PT)return rQ(PT.create(t.value0))(e(t.value1));if(t instanceof _T){var r=function(n){return n instanceof yT?wQ(r)(e)(new xT(n,t.value0)):n instanceof PT?e(new xT(n.value1,YT(t.value0))):jR("CP.Semantics.NaturalClosure.eval: impossible unfold "+oQ(n))};return lS(t.value0)?eQ(fT.value):sQ(e(t.value1))(r)}return t instanceof QT?rQ(lD)(e(t.value0)):(n=t,t instanceof IT?hQ(n):t instanceof MT?e(t.value0):t instanceof NT?(n=Tw(t.value0),Cw(t.value0)?eQ(n):sQ(e(n))((function(e){return eQ(Sw(e)(t.value0))}))):t instanceof $T&&t.value1 instanceof kT||t instanceof $T&&t.value1 instanceof wT||t instanceof $T&&t.value1 instanceof ST||t instanceof $T&&t.value1 instanceof IT?eQ(t):t instanceof $T?fQ(xv(t.value0))(e(t.value1)):jR("CP.Semantics.NaturalClosure.eval: well-typed programs don't get stuck, but got "+oQ(t)))};return VL(e(t)(yw))}(n));throw new Error("Failed pattern match at Language.CP (line 64, column 10 - line 72, column 37): "+[r.constructor.name])}())}))}))},yI=function(t){var e=function(t){return function(e){return YR(t(e))}}(xI(t))(i_);if(e instanceof Hg)return sp(RI(e.value0));if(e instanceof qg)return wI(e.value0.value0);throw new Error("Failed pattern match at Language.CP (line 87, column 17 - line 89, column 37): "+[e.constructor.name])},bI={763:()=>{}},kI={};function CI(t){var e=kI[t];if(void 0!==e)return e.exports;var n=kI[t]={exports:{}};return bI[t](n,n.exports,CI),n.exports}CI.d=(t,e)=>{for(var n in e)CI.o(e,n)&&!CI.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},CI.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var TI={};CI.d(TI,{MG:()=>RM,fr:()=>ZM,sR:()=>zN,Zo:()=>jN,iH:()=>JN,rt:()=>nN,jB:()=>r$,M8:()=>EN,$t:()=>XN,aq:()=>HN,pG:()=>KM,eP:()=>BN,KU:()=>FN,zW:()=>GN,IX:()=>qI,mY:()=>VI,a7:()=>mM,JG:()=>lN,ay:()=>wN,X2:()=>kN,WU:()=>IN,Uw:()=>MN,gw:()=>NN,iX:()=>s$,re:()=>TN,Pg:()=>a$,tD:()=>SN,R$:()=>bN,Dj:()=>sN,m7:()=>lM,NZ:()=>nM,xo:()=>rM,ou:()=>SI,qC:()=>u$,mD:()=>II,Ay:()=>v$});class SI{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function AI(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}SI.INVALID_TYPE=0,SI.EPSILON=-2,SI.MIN_USER_TOKEN_TYPE=1,SI.EOF=-1,SI.DEFAULT_CHANNEL=0,SI.HIDDEN_CHANNEL=1;const PI=Math.round(Math.random()*Math.pow(2,32));function _I(t){if(!t)return 0;const e=typeof t,n="string"===e?t:!("object"!==e||!t.toString)&&t.toString();if(!n)return 0;let r,i;const s=3&n.length,o=n.length-s;let l=PI;const a=3432918353,u=461845907;let c=0;for(;c<o;)i=255&n.charCodeAt(c)|(255&n.charCodeAt(++c))<<8|(255&n.charCodeAt(++c))<<16|(255&n.charCodeAt(++c))<<24,++c,i=(65535&i)*a+(((i>>>16)*a&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*u+(((i>>>16)*u&65535)<<16)&4294967295,l^=i,l=l<<13|l>>>19,r=5*(65535&l)+((5*(l>>>16)&65535)<<16)&4294967295,l=27492+(65535&r)+((58964+(r>>>16)&65535)<<16);switch(i=0,s){case 3:i^=(255&n.charCodeAt(c+2))<<16;case 2:i^=(255&n.charCodeAt(c+1))<<8;case 1:i^=255&n.charCodeAt(c),i=(65535&i)*a+(((i>>>16)*a&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*u+(((i>>>16)*u&65535)<<16)&4294967295,l^=i}return l^=n.length,l^=l>>>16,l=2246822507*(65535&l)+((2246822507*(l>>>16)&65535)<<16)&4294967295,l^=l>>>13,l=3266489909*(65535&l)+((3266489909*(l>>>16)&65535)<<16)&4294967295,l^=l>>>16,l>>>0}class EI{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=_I(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let n=this.hash^t;n=n<<13|n>>>19,n=5*n+3864292196,this.hash=n}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new EI;return t.update.apply(t,arguments),t.finish()}}function LI(t){return t?"string"==typeof t?_I(t):t.hashCode():-1}function DI(t,e){return t&&t.equals?t.equals(e):t===e}function QI(t){return null===t?"null":t}function II(t){return Array.isArray(t)?"["+t.map(QI).join(", ")+"]":"null"}class MI{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||LI,this.equalsFunction=e||DI}get(t){if(null==t)return t;const e=this._getBucket(t);if(!e)return null;for(const n of e)if(this.equalsFunction(n,t))return n;return null}add(t){return this.getOrAdd(t)===t}getOrAdd(t){this._expand();const e=this._getSlot(t);let n=this.buckets[e];if(!n)return n=[t],this.buckets[e]=n,this.itemCount++,t;for(const e of n)if(this.equalsFunction(e,t))return e;return n.push(t),this.itemCount++,t}has(t){return null!=this.get(t)}values(){return this.buckets.filter((t=>null!=t)).flat(1)}toString(){return II(this.values())}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const e of t)if(e)for(const t of e){const e=this._getSlot(t);let n=this.buckets[e];n||(n=[],this.buckets[e]=n),n.push(t)}}}class NI{hashCode(){const t=new EI;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===NI.NONE)return e;if(null===e||e===NI.NONE)return t;const n=new $I(t,e);return 1===n.opnds.length?n.opnds[0]:n}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===NI.NONE||e===NI.NONE)return NI.NONE;const n=new FI(t,e);return 1===n.opnds.length?n.opnds[0]:n}}class $I extends NI{constructor(t,e){super();const n=new MI;t instanceof $I?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof $I?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=BI(n);if(r.length>0){let t=null;r.map((function(e){(null===t||e.precedence<t.precedence)&&(t=e)})),n.add(t)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof $I&&AI(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,null===o)return null;o!==NI.NONE&&r.push(o)}if(!n)return this;if(0===r.length)return NI.NONE;let i=null;return r.map((function(t){i=null===i?t:NI.andContext(i,t)})),i}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("&&")}}class FI extends NI{constructor(t,e){super();const n=new MI;t instanceof FI?t.opnds.map((function(t){n.add(t)})):n.add(t),e instanceof FI?e.opnds.map((function(t){n.add(t)})):n.add(e);const r=BI(n);if(r.length>0){const t=r.sort((function(t,e){return t.compareTo(e)})),e=t[t.length-1];n.add(e)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof FI&&AI(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const s=this.opnds[i],o=s.evalPrecedence(t,e);if(n|=o!==s,o===NI.NONE)return NI.NONE;null!==o&&r.push(o)}return n?(0===r.length||r.map((function(t){return t})),null):this}toString(){const t=this.opnds.map((t=>t.toString()));return(t.length>3?t.slice(3):t).join("||")}}function BI(t){const e=[];return t.values().map((function(t){t instanceof NI.PrecedencePredicate&&e.push(t)})),e}function UI(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const n={};return n.state=t.state||null,n.alt=void 0===t.alt?null:t.alt,n.context=t.context||null,n.semanticContext=t.semanticContext||null,e&&(n.reachesIntoOuterContext=t.reachesIntoOuterContext||0,n.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),n}}class HI{constructor(t,e){this.checkContext(t,e),t=UI(t),e=UI(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:NI.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new EI;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof HI&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new EI;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof HI&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==NI.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class qI{constructor(t,e){this.start=t,this.stop=e}clone(){return new qI(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}qI.INVALID_INTERVAL=new qI(-1,-2);class VI{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?SI.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new qI(t,t+1))}addRange(t,e){this.addInterval(new qI(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new qI(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new qI(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach((t=>this.addInterval(t)),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new qI(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new VI;return n.addInterval(new qI(t,e+1)),null!==this.intervals&&this.intervals.forEach((t=>n.removeRange(t))),n}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let n=0;n<this.intervals.length;n++){const n=this.intervals[e];if(t.stop<=n.start)return;if(t.start>n.start&&t.stop<n.stop){this.intervals[e]=new qI(n.start,t.start);const r=new qI(t.stop,n.stop);return void this.intervals.splice(e,0,r)}t.start<=n.start&&t.stop>=n.stop?(this.intervals.splice(e,1),e-=1):t.start<n.stop?this.intervals[e]=new qI(n.start,t.start):t.stop<n.stop&&(this.intervals[e]=new qI(t.stop,n.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new qI(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new qI(n.start,n.stop-1));if(t<n.stop-1){const r=new qI(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===SI.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===SI.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let r=i.start;r<i.stop;r++)n.push(this.elementName(t,e,r))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,e,n){return n===SI.EOF?"<EOF>":n===SI.EPSILON?"<EPSILON>":t[n]||e[n]}get length(){return this.intervals.map((t=>t.length)).reduce(((t,e)=>t+e))}}class XI{constructor(){this.atn=null,this.stateNumber=XI.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof XI&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}XI.INVALID_TYPE=0,XI.BASIC=1,XI.RULE_START=2,XI.BLOCK_START=3,XI.PLUS_BLOCK_START=4,XI.STAR_BLOCK_START=5,XI.TOKEN_START=6,XI.RULE_STOP=7,XI.BLOCK_END=8,XI.STAR_LOOP_BACK=9,XI.STAR_LOOP_ENTRY=10,XI.PLUS_LOOP_BACK=11,XI.LOOP_END=12,XI.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],XI.INVALID_STATE_NUMBER=-1;class zI extends XI{constructor(){return super(),this.stateType=XI.RULE_STOP,this}}class WI{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}WI.EPSILON=1,WI.RANGE=2,WI.RULE=3,WI.PREDICATE=4,WI.ATOM=5,WI.ACTION=6,WI.SET=7,WI.NOT_SET=8,WI.WILDCARD=9,WI.PRECEDENCE=10,WI.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],WI.serializationTypes={EpsilonTransition:WI.EPSILON,RangeTransition:WI.RANGE,RuleTransition:WI.RULE,PredicateTransition:WI.PREDICATE,AtomTransition:WI.ATOM,ActionTransition:WI.ACTION,SetTransition:WI.SET,NotSetTransition:WI.NOT_SET,WildcardTransition:WI.WILDCARD,PrecedencePredicateTransition:WI.PRECEDENCE};class jI extends WI{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=WI.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class GI extends WI{constructor(t,e){super(t),this.serializationType=WI.SET,null!=e?this.label=e:(this.label=new VI,this.label.addOne(SI.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class YI extends GI{constructor(t,e){super(t,e),this.serializationType=WI.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class ZI extends WI{constructor(t){super(t),this.serializationType=WI.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class KI extends WI{constructor(t){super(t)}}class JI{}class tM extends JI{}class eM extends tM{}class nM extends eM{get ruleContext(){throw new Error("missing interface implementation")}}class rM extends eM{}class iM extends rM{}const sM={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);let r=sM.getNodeText(t,e);r=function(t){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);const i=t.getChildCount();if(0===i)return r;let s="("+r+" ";i>0&&(r=sM.toStringTree(t.getChild(0),e),s=s.concat(r));for(let n=1;n<i;n++)r=sM.toStringTree(t.getChild(n),e),s=s.concat(" "+r);return s=s.concat(")"),s},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof nM){const n=t.ruleContext.getAltNumber();return 0!=n?e[t.ruleIndex]+":"+n:e[t.ruleIndex]}if(t instanceof iM)return t.toString();if(t instanceof rM&&null!==t.symbol)return t.symbol.text}const r=t.getPayload();return r instanceof SI?r.text:t.getPayload().toString()},getChildren:function(t){const e=[];for(let n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return sM.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return sM.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){const r=[];return sM._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof rM?t.symbol.type===e&&r.push(t):!n&&t instanceof nM&&t.ruleIndex===e&&r.push(t);for(let i=0;i<t.getChildCount();i++)sM._findAllNodes(t.getChild(i),e,n,r)},descendants:function(t){let e=[t];for(let n=0;n<t.getChildCount();n++)e=e.concat(sM.descendants(t.getChild(n)));return e}},oM=sM;class lM extends nM{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return qI.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return oM.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{const e=n.ruleIndex;r+=e>=0&&e<t.length?t[e]:""+e}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class aM{constructor(t){this.cachedHashCode=t}isEmpty(){return this===aM.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===aM.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}aM.EMPTY=null,aM.EMPTY_RETURN_STATE=2147483647,aM.globalNodeCount=1,aM.id=aM.globalNodeCount,aM.trace_atn_sim=!1;class uM extends aM{constructor(t,e){const n=new EI;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===aM.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof uM&&this.hashCode()===t.hashCode()&&AI(this.returnStates,t.returnStates)&&AI(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==aM.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class cM extends aM{constructor(t,e){let n=0;const r=new EI;null!==t?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof cM&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===aM.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===aM.EMPTY_RETURN_STATE&&null===t?aM.EMPTY:new cM(t,e)}}class hM extends cM{constructor(){super(null,aM.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}aM.EMPTY=new hM;class fM{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||LI,this.equalsFunction=e||DI}set(t,e){this._expand();const n=this._getSlot(t);let r=this.buckets[n];if(!r)return r=[[t,e]],this.buckets[n]=r,this.itemCount++,e;const i=r.find((e=>this.equalsFunction(e[0],t)),this);if(i){const t=i[1];return i[1]=e,t}return r.push([t,e]),this.itemCount++,e}containsKey(t){const e=this._getBucket(t);return!!e&&!!e.find((e=>this.equalsFunction(e[0],t)),this)}get(t){const e=this._getBucket(t);if(!e)return null;const n=e.find((e=>this.equalsFunction(e[0],t)),this);return n?n[1]:null}entries(){return this.buckets.filter((t=>null!=t)).flat(1)}getKeys(){return this.entries().map((t=>t[0]))}getValues(){return this.entries().map((t=>t[1]))}toString(){return"["+this.entries().map((t=>"{"+t[0]+":"+t[1]+"}")).join(", ")+"]"}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const e of t)if(e)for(const t of e){const e=this._getSlot(t[0]);let n=this.buckets[e];n||(n=[],this.buckets[e]=n),n.push(t)}}}function dM(t,e){if(null==e&&(e=lM.EMPTY),null===e.parentCtx||e===lM.EMPTY)return aM.EMPTY;const n=dM(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return cM.create(n,r.followState.stateNumber)}function vM(t,e,n){if(t.isEmpty())return t;let r=n.get(t)||null;if(null!==r)return r;if(r=e.get(t),null!==r)return n.set(t,r),r;let i=!1,s=[];for(let r=0;r<s.length;r++){const o=vM(t.getParent(r),e,n);if(i||o!==t.getParent(r)){if(!i){s=[];for(let e=0;e<t.length;e++)s[e]=t.getParent(e);i=!0}s[r]=o}}if(!i)return e.add(t),n.set(t,t),t;let o=null;return o=0===s.length?aM.EMPTY:1===s.length?cM.create(s[0],t.getReturnState(0)):new uM(s,t.returnStates),e.add(o),n.set(o,o),n.set(t,o),o}function gM(t,e,n,r){if(t===e)return t;if(t instanceof cM&&e instanceof cM)return function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return n;if(n=r.get(e,t),null!==n)return n}const i=function(t,e,n){if(n){if(t===aM.EMPTY)return aM.EMPTY;if(e===aM.EMPTY)return aM.EMPTY}else{if(t===aM.EMPTY&&e===aM.EMPTY)return aM.EMPTY;if(t===aM.EMPTY){const t=[e.returnState,aM.EMPTY_RETURN_STATE],n=[e.parentCtx,null];return new uM(n,t)}if(e===aM.EMPTY){const e=[t.returnState,aM.EMPTY_RETURN_STATE],n=[t.parentCtx,null];return new uM(n,e)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){const i=gM(t.parentCtx,e.parentCtx,n,r);if(i===t.parentCtx)return t;if(i===e.parentCtx)return e;const s=cM.create(i,t.returnState);return null!==r&&r.set(t,e,s),s}{let n=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(n=t.parentCtx),null!==n){const i=[t.returnState,e.returnState];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState);const s=new uM([n,n],i);return null!==r&&r.set(t,e,s),s}const i=[t.returnState,e.returnState];let s=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(i[0]=e.returnState,i[1]=t.returnState,s=[e.parentCtx,t.parentCtx]);const o=new uM(s,i);return null!==r&&r.set(t,e,o),o}}(t,e,n,r);if(n){if(t instanceof hM)return t;if(e instanceof hM)return e}return t instanceof cM&&(t=new uM([t.getParent()],[t.returnState])),e instanceof cM&&(e=new uM([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){let n=r.get(t,e);if(null!==n)return aM.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n;if(n=r.get(e,t),null!==n)return aM.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),n}let i=0,s=0,o=0,l=new Array(t.returnStates.length+e.returnStates.length).fill(0),a=new Array(t.returnStates.length+e.returnStates.length).fill(null);for(;i<t.returnStates.length&&s<e.returnStates.length;){const u=t.parents[i],c=e.parents[s];if(t.returnStates[i]===e.returnStates[s]){const e=t.returnStates[i];e===aM.EMPTY_RETURN_STATE&&null===u&&null===c||null!==u&&null!==c&&u===c?(a[o]=u,l[o]=e):(a[o]=gM(u,c,n,r),l[o]=e),i+=1,s+=1}else t.returnStates[i]<e.returnStates[s]?(a[o]=u,l[o]=t.returnStates[i],i+=1):(a[o]=c,l[o]=e.returnStates[s],s+=1);o+=1}if(i<t.returnStates.length)for(let e=i;e<t.returnStates.length;e++)a[o]=t.parents[e],l[o]=t.returnStates[e],o+=1;else for(let t=s;t<e.returnStates.length;t++)a[o]=e.parents[t],l[o]=e.returnStates[t],o+=1;if(o<a.length){if(1===o){const n=cM.create(a[0],l[0]);return null!==r&&r.set(t,e,n),n}a=a.slice(0,o),l=l.slice(0,o)}const u=new uM(a,l);return u.equals(t)?(null!==r&&r.set(t,e,t),aM.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):u.equals(e)?(null!==r&&r.set(t,e,e),aM.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){const e=new fM;for(let n=0;n<t.length;n++){const r=t[n];e.containsKey(r)||e.set(r,r)}for(let n=0;n<t.length;n++)t[n]=e.get(t[n])}(a),null!==r&&r.set(t,e,u),aM.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+u),u)}(t,e,n,r)}class pM{constructor(){this.data=new Uint32Array(1)}set(t){pM._checkIndex(t),this._resize(t),this.data[t>>>5]|=1<<t%32}get(t){pM._checkIndex(t);const e=t>>>5;return!(e>=this.data.length||!(this.data[e]&1<<t%32))}clear(t){pM._checkIndex(t);const e=t>>>5;e<this.data.length&&(this.data[e]&=~(1<<t))}or(t){const e=Math.min(this.data.length,t.data.length);for(let n=0;n<e;++n)this.data[n]|=t.data[n];if(this.data.length<t.data.length){this._resize((t.data.length<<5)-1);const n=t.data.length;for(let r=e;r<n;++r)this.data[r]=t.data[r]}}values(){const t=new Array(this.length);let e=0;const n=this.data.length;for(let r=0;r<n;++r){let n=this.data[r];for(;0!==n;){const i=n&-n;t[e++]=(r<<5)+pM._bitCount(i-1),n^=i}}return t}minValue(){for(let t=0;t<this.data.length;++t){let e=this.data[t];if(0!==e){let n=0;for(;!(1&e);)n++,e>>=1;return n+32*t}}return 0}hashCode(){return EI.hashStuff(this.values())}equals(t){return t instanceof pM&&AI(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.data.map((t=>pM._bitCount(t))).reduce(((t,e)=>t+e),0)}_resize(t){const e=t+32>>>5;if(e<=this.data.length)return;const n=new Uint32Array(e);n.set(this.data),n.fill(0,this.data.length),this.data=n}static _checkIndex(t){if(t<0)throw new RangeError("index cannot be negative")}static _bitCount(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,0+(t+=t>>16)&63}}class mM{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new VI;const e=new MI,i=!1;this._LOOK(t.transition(r).target,null,aM.EMPTY,n[r],e,new pM,i,!1),(0===n[r].length||n[r].contains(mM.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new VI,i=null!==(n=n||null)?dM(t.atn,n):null;return this._LOOK(t,e,i,r,new MI,new pM,!0,!0),r}_LOOK(t,e,n,r,i,s,o,l){const a=new HI({state:t,alt:0,context:n},null);if(!i.has(a)){if(i.add(a),t===e){if(null===n)return void r.addOne(SI.EPSILON);if(n.isEmpty()&&l)return void r.addOne(SI.EOF)}if(t instanceof zI){if(null===n)return void r.addOne(SI.EPSILON);if(n.isEmpty()&&l)return void r.addOne(SI.EOF);if(n!==aM.EMPTY){const a=s.get(t.ruleIndex);try{s.clear(t.ruleIndex);for(let t=0;t<n.length;t++){const a=this.atn.states[n.getReturnState(t)];this._LOOK(a,e,n.getParent(t),r,i,s,o,l)}}finally{a&&s.set(t.ruleIndex)}return}}for(let a=0;a<t.transitions.length;a++){const u=t.transitions[a];if(u.constructor===jI){if(s.get(u.target.ruleIndex))continue;const t=cM.create(n,u.followState.stateNumber);try{s.set(u.target.ruleIndex),this._LOOK(u.target,e,t,r,i,s,o,l)}finally{s.clear(u.target.ruleIndex)}}else if(u instanceof KI)o?this._LOOK(u.target,e,n,r,i,s,o,l):r.addOne(mM.HIT_PRED);else if(u.isEpsilon)this._LOOK(u.target,e,n,r,i,s,o,l);else if(u.constructor===ZI)r.addRange(SI.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=u.label;null!==t&&(u instanceof YI&&(t=t.complement(SI.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(t))}}}}}mM.HIT_PRED=SI.INVALID_TYPE;class RM{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new mM(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const n=this.states[t];let r=this.nextTokens(n);if(!r.contains(SI.EPSILON))return r;const i=new VI;for(i.addSet(r),i.removeOne(SI.EPSILON);null!==e&&e.invokingState>=0&&r.contains(SI.EPSILON);){const t=this.states[e.invokingState].transitions[0];r=this.nextTokens(t.followState),i.addSet(r),i.removeOne(SI.EPSILON),e=e.parentCtx}return r.contains(SI.EPSILON)&&i.addOne(SI.EOF),i}}RM.INVALID_ALT_NUMBER=0;class wM extends XI{constructor(){super(),this.stateType=XI.BASIC}}class OM extends XI{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class xM extends OM{constructor(){return super(),this.endState=null,this}}class yM extends XI{constructor(){return super(),this.stateType=XI.BLOCK_END,this.startState=null,this}}class bM extends XI{constructor(){return super(),this.stateType=XI.LOOP_END,this.loopBackState=null,this}}class kM extends XI{constructor(){return super(),this.stateType=XI.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class CM extends OM{constructor(){return super(),this.stateType=XI.TOKEN_START,this}}class TM extends OM{constructor(){return super(),this.stateType=XI.PLUS_LOOP_BACK,this}}class SM extends XI{constructor(){return super(),this.stateType=XI.STAR_LOOP_BACK,this}}class AM extends OM{constructor(){return super(),this.stateType=XI.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class PM extends xM{constructor(){return super(),this.stateType=XI.PLUS_BLOCK_START,this.loopBackState=null,this}}class _M extends xM{constructor(){return super(),this.stateType=XI.STAR_BLOCK_START,this}}class EM extends xM{constructor(){return super(),this.stateType=XI.BLOCK_START,this}}class LM extends WI{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=WI.ATOM}makeLabel(){const t=new VI;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class DM extends WI{constructor(t,e,n){super(t),this.serializationType=WI.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new VI;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class QM extends WI{constructor(t,e,n,r){super(t),this.serializationType=WI.ACTION,this.ruleIndex=e,this.actionIndex=void 0===n?-1:n,this.isCtxDependent=void 0!==r&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class IM extends WI{constructor(t,e){super(t),this.serializationType=WI.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class MM extends NI{constructor(t,e,n){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==n&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof MM&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}NI.NONE=new MM;class NM extends KI{constructor(t,e,n,r){super(t),this.serializationType=WI.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new MM(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class $M extends NI{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?NI.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof $M&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}NI.PrecedencePredicate=$M;class FM extends KI{constructor(t,e){super(t),this.serializationType=WI.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new $M(this.precedence)}toString(){return this.precedence+" >= _p"}}class BM{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}BM.defaultOptions=new BM,BM.defaultOptions.readOnly=!0;class UM{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new EI;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class HM extends UM{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}HM.INSTANCE=new HM;class qM extends UM{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof qM&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class VM extends UM{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof VM&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class XM extends UM{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}XM.INSTANCE=new XM;class zM extends UM{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof zM&&this.type===t.type}toString(){return"type("+this.type+")"}}class WM extends UM{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof WM&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class jM extends UM{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}jM.INSTANCE=new jM;class GM extends UM{constructor(t){super(2),this.mode=t}execute(t){t.setMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof GM&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function YM(t,e){const n=[];return n[t-1]=e,n.map((function(t){return e}))}class ZM{constructor(t){null==t&&(t=BM.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new RM(t,e)}readStates(t,e){let n,r,i;const s=[],o=[],l=this.readInt();for(let n=0;n<l;n++){const n=this.readInt();if(n===XI.INVALID_TYPE){t.addState(null);continue}let r=this.readInt();e&&65535===r&&(r=-1);const i=this.stateFactory(n,r);if(n===XI.LOOP_END){const t=this.readInt();s.push([i,t])}else if(i instanceof xM){const t=this.readInt();o.push([i,t])}t.addState(i)}for(n=0;n<s.length;n++)r=s[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<o.length;n++)r=o[n],r[0].endState=t.states[r[1]];let a=this.readInt();for(n=0;n<a;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(t,e){let n;const r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=YM(r,0)),t.ruleToStartState=YM(r,0),n=0;n<r;n++){const r=this.readInt();if(t.ruleToStartState[n]=t.states[r],0===t.grammarType){let r=this.readInt();e&&65535===r&&(r=SI.EOF),t.ruleToTokenType[n]=r}}for(t.ruleToStopState=YM(r,0),n=0;n<t.states.length;n++){const e=t.states[n];e instanceof zI&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,n){const r=this.readInt();for(let t=0;t<r;t++){const t=new VI;e.push(t);const r=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<r;e++){const e=n(),r=n();t.addRange(e,r)}}}readEdges(t,e){let n,r,i,s,o;const l=this.readInt();for(n=0;n<l;n++){const n=this.readInt(),r=this.readInt(),i=this.readInt(),o=this.readInt(),l=this.readInt(),a=this.readInt();s=this.edgeFactory(t,i,n,r,o,l,a,e),t.states[n].addTransition(s)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const e=i.transitions[r];if(!(e instanceof jI))continue;let n=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(n=e.target.ruleIndex),s=new IM(e.followState,n),t.ruleToStopState[e.target.ruleIndex].addTransition(s)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof xM){if(null===i.endState)throw"IllegalState";if(null!==i.endState.startState)throw"IllegalState";i.endState.startState=i}if(i instanceof TM)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof PM&&(o.loopBackState=i);else if(i instanceof SM)for(r=0;r<i.transitions.length;r++)o=i.transitions[r].target,o instanceof AM&&(o.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const e=this.readInt(),r=t.states[e];t.decisionToState.push(r),r.decision=n}}readLexerActions(t,e){if(0===t.grammarType){const n=this.readInt();t.lexerActions=YM(n,null);for(let r=0;r<n;r++){const n=this.readInt();let i=this.readInt();e&&65535===i&&(i=-1);let s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[r]=this.lexerActionFactory(n,i,s)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new EM;i.ruleIndex=e,t.addState(i);const s=new yM;s.ruleIndex=e,t.addState(s),i.endState=s,t.defineDecisionState(i),s.startState=i;let o=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){l=r,o=r.loopBackState.transitions[0];break}if(null===o)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let t=0;t<r.transitions.length;t++){const e=r.transitions[t];e!==o&&e.target===l&&(e.target=s)}}const a=t.ruleToStartState[e],u=a.transitions.length;for(;u>0;)i.addTransition(a.transitions[u-1]),a.transitions=a.transitions.slice(-1);t.ruleToStartState[e].addTransition(new IM(i)),s.addTransition(new IM(l));const c=new wM;t.addState(c),c.addTransition(new LM(s,t.ruleToTokenType[e])),i.addTransition(new IM(c))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof AM))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof bM&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof zI?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof AM&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const t=n.transitions[n.transitions.length-1].target;t instanceof bM&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof zI&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof PM)this.checkCondition(null!==n.loopBackState);else if(n instanceof AM)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof _M)this.checkCondition(n.transitions[1].target instanceof bM),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof bM))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof _M),this.checkCondition(n.nonGreedy)}else n instanceof SM?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof AM)):n instanceof bM?this.checkCondition(null!==n.loopBackState):n instanceof kM?this.checkCondition(null!==n.stopState):n instanceof xM?this.checkCondition(null!==n.endState):n instanceof yM?this.checkCondition(null!==n.startState):n instanceof OM?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof zI)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,n,r,i,s,o,l){const a=t.states[r];switch(e){case WI.EPSILON:return new IM(a);case WI.RANGE:return new DM(a,0!==o?SI.EOF:i,s);case WI.RULE:return new jI(t.states[i],s,o,a);case WI.PREDICATE:return new NM(a,i,s,0!==o);case WI.PRECEDENCE:return new FM(a,i);case WI.ATOM:return new LM(a,0!==o?SI.EOF:i);case WI.ACTION:return new QM(a,i,s,0!==o);case WI.SET:return new GI(a,l[i]);case WI.NOT_SET:return new YI(a,l[i]);case WI.WILDCARD:return new ZI(a);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[XI.INVALID_TYPE]=null,t[XI.BASIC]=()=>new wM,t[XI.RULE_START]=()=>new kM,t[XI.BLOCK_START]=()=>new EM,t[XI.PLUS_BLOCK_START]=()=>new PM,t[XI.STAR_BLOCK_START]=()=>new _M,t[XI.TOKEN_START]=()=>new CM,t[XI.RULE_STOP]=()=>new zI,t[XI.BLOCK_END]=()=>new yM,t[XI.STAR_LOOP_BACK]=()=>new SM,t[XI.STAR_LOOP_ENTRY]=()=>new AM,t[XI.PLUS_LOOP_BACK]=()=>new TM,t[XI.LOOP_END]=()=>new bM,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(null!==n)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new qM(t),t[1]=(t,e)=>new VM(t,e),t[2]=(t,e)=>new GM(t),t[3]=(t,e)=>XM.INSTANCE,t[4]=(t,e)=>jM.INSTANCE,t[5]=(t,e)=>new WM(t),t[6]=(t,e)=>HM.INSTANCE,t[7]=(t,e)=>new zM(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class KM{syntaxError(t,e,n,r,i,s){}reportAmbiguity(t,e,n,r,i,s,o){}reportAttemptingFullContext(t,e,n,r,i,s){}reportContextSensitivity(t,e,n,r,i,s){}}class JM extends KM{constructor(){super()}syntaxError(t,e,n,r,i,s){console.error("line "+n+":"+r+" "+i)}}JM.INSTANCE=new JM;class tN extends KM{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,s){this.delegates.map((o=>o.syntaxError(t,e,n,r,i,s)))}reportAmbiguity(t,e,n,r,i,s,o){this.delegates.map((l=>l.reportAmbiguity(t,e,n,r,i,s,o)))}reportAttemptingFullContext(t,e,n,r,i,s){this.delegates.map((o=>o.reportAttemptingFullContext(t,e,n,r,i,s)))}reportContextSensitivity(t,e,n,r,i,s){this.delegates.map((o=>o.reportContextSensitivity(t,e,n,r,i,s)))}}class eN{constructor(){this._listeners=[JM.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.2";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=SI.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return void 0!==e?e:SI.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===SI.EOF?"<EOF>":"<"+t.type+">"),e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return console.warn("Calling deprecated method in Recognizer class: getErrorListenerDispatch()"),this.getErrorListener()}getErrorListener(){return new tN(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}eN.tokenTypeMapCache={},eN.ruleIndexMapCache={};class nN extends SI{constructor(t,e,n,r,i){super(),this.source=void 0!==t?t:nN.EMPTY_SOURCE,this.type=void 0!==e?e:null,this.channel=void 0!==n?n:SI.DEFAULT_CHANNEL,this.start=void 0!==r?r:-1,this.stop=void 0!==i?i:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new nN(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(t){const e=new nN(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===SI.EOF&&(e.text=""),e}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}nN.EMPTY_SOURCE=[null,null];class rN{}class iN extends rN{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,n,r,i,s,o,l){const a=new nN(t,e,r,i,s);return a.line=o,a.column=l,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(i,s)),a}createThin(t,e){const n=new nN(null,t);return n.text=e,n}}iN.DEFAULT=new iN;class sN extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,sN),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class oN extends sN{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new qI(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class lN extends eN{constructor(t){super(),this._input=t,this._factory=iN.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=SI.DEFAULT_CHANNEL,this._type=SI.INVALID_TYPE,this._modeStack=[],this._mode=lN.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=SI.INVALID_TYPE,this._channel=SI.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=lN.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=SI.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=SI.INVALID_TYPE;let n=lN.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof sN))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===SI.EOF&&(this._hitEOF=!0),this._type===SI.INVALID_TYPE&&(this._type=n),this._type===lN.SKIP){e=!0;break}if(this._type!==lN.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=lN.SKIP}more(){this._type=lN.MORE}mode(t){console.warn("Calling deprecated method in Lexer class: mode(...)"),this.setMode(t)}setMode(t){this._mode=t}getMode(){return this._mode}getModeStack(){return this._modeStack}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.setMode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.setMode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,SI.EOF,null,SI.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==SI.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListener().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===SI.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==SI.EOF&&(t instanceof oN?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function aN(t){return t.hashCodeForConfigSet()}function uN(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}lN.DEFAULT_MODE=0,lN.MORE=-2,lN.SKIP=-3,lN.DEFAULT_TOKEN_CHANNEL=SI.DEFAULT_CHANNEL,lN.HIDDEN=SI.HIDDEN_CHANNEL,lN.MIN_CHAR_VALUE=0,lN.MAX_CHAR_VALUE=1114111;class cN{constructor(t){this.configLookup=new MI(aN,uN),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==NI.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.getOrAdd(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=gM(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new MI;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==NI.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof cN&&AI(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new EI;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new MI}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return II(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==RM.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class hN{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new cN),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new MI;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof hN&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new EI;return t.update(this.configs),t.finish()}}class fN{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new fM;return vM(t,this.sharedContextCache,e)}}fN.ERROR=new hN(2147483647,new cN);class dN extends cN{constructor(){super(),this.configLookup=new MI}}class vN extends HI{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=vN.prototype.hashCode,this.equalsForConfigSet=vN.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof vN&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof OM&&e.nonGreedy}}class gN extends UM{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof gN&&this.offset===t.offset&&this.action===t.action}}class pN{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=EI.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof gN||(null===e&&(e=this.lexerActions.concat([])),e[n]=new gN(t,this.lexerActions[n]));return null===e?this:new pN(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let s=0;s<this.lexerActions.length;s++){let o=this.lexerActions[s];if(o instanceof gN){const t=o.offset;e.seek(n+t),o=o.action,r=n+t!==i}else o.isPositionDependent&&(e.seek(i),r=!1);o.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof pN){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new pN([e]);const n=t.lexerActions.concat([e]);return new pN(n)}}function mN(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class RN{constructor(){mN(this)}reset(){mN(this)}}class wN extends fN{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=lN.DEFAULT_MODE,this.prevAccept=new RN}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const n=this.decisionToDFA[e];return null===n.s0?this.matchATN(t):this.execATN(t,n.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=lN.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];wN.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const s=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=s);const o=this.execATN(t,s);return wN.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),o}execATN(t,e){wN.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let n=t.LA(1),r=e;for(;;){wN.debug&&console.log("execATN loop starting closure: "+r.configs);let e=this.getExistingTargetState(r,n);if(null===e&&(e=this.computeTargetState(t,r,n)),e===fN.ERROR)break;if(n!==SI.EOF&&this.consume(t),e.isAcceptState&&(this.captureSimState(this.prevAccept,t,e),n===SI.EOF))break;n=t.LA(1),r=e}return this.failOrAccept(this.prevAccept,t,r.configs,n)}getExistingTargetState(t,e){if(null===t.edges||e<wN.MIN_DFA_EDGE||e>wN.MAX_DFA_EDGE)return null;let n=t.edges[e-wN.MIN_DFA_EDGE];return void 0===n&&(n=null),wN.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new dN;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,fN.ERROR),fN.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(t,e,n,r){if(null!==this.prevAccept.dfaState){const n=t.dfaState.lexerActionExecutor;return this.accept(e,n,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===SI.EOF&&e.index===this.startIndex)return SI.EOF;throw new oN(this.recog,e,this.startIndex,n)}getReachableConfigSet(t,e,n,r){let i=RM.INVALID_ALT_NUMBER;for(let s=0;s<e.items.length;s++){const o=e.items[s],l=o.alt===i;if(!l||!o.passedThroughNonGreedyDecision){wN.debug&&console.log("testing %s at %s\n",this.getTokenName(r),o.toString(this.recog,!0));for(let e=0;e<o.state.transitions.length;e++){const s=o.state.transitions[e],a=this.getReachableTarget(s,r);if(null!==a){let e=o.lexerActionExecutor;null!==e&&(e=e.fixOffsetBeforeMatch(t.index-this.startIndex));const s=r===SI.EOF,u=new vN({state:a,lexerActionExecutor:e},o);this.closure(t,u,n,l,!0,s)&&(i=o.alt)}}}}}accept(t,e,n,r,i,s){wN.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=i,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,lN.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=aM.EMPTY,r=new dN;for(let i=0;i<e.transitions.length;i++){const s=e.transitions[i].target,o=new vN({state:s,alt:i+1,context:n},null);this.closure(t,o,r,!1,!1,!1)}return r}closure(t,e,n,r,i,s){let o=null;if(wN.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof zI){if(wN.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new vN({state:e.state,context:aM.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(let l=0;l<e.context.length;l++)if(e.context.getReturnState(l)!==aM.EMPTY_RETURN_STATE){const a=e.context.getParent(l),u=this.atn.states[e.context.getReturnState(l)];o=new vN({state:u,context:a},e),r=this.closure(t,o,n,r,i,s)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let l=0;l<e.state.transitions.length;l++){const a=e.state.transitions[l];o=this.getEpsilonTarget(t,e,a,n,i,s),null!==o&&(r=this.closure(t,o,n,r,i,s))}return r}getEpsilonTarget(t,e,n,r,i,s){let o=null;if(n.serializationType===WI.RULE){const t=cM.create(e.context,n.followState.stateNumber);o=new vN({state:n.target,context:t},e)}else{if(n.serializationType===WI.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===WI.PREDICATE)wN.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,i)&&(o=new vN({state:n.target},e));else if(n.serializationType===WI.ACTION)if(null===e.context||e.context.hasEmptyPath()){const t=pN.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);o=new vN({state:n.target,lexerActionExecutor:t},e)}else o=new vN({state:n.target},e);else n.serializationType===WI.EPSILON?o=new vN({state:n.target},e):n.serializationType!==WI.ATOM&&n.serializationType!==WI.RANGE&&n.serializationType!==WI.SET||s&&n.matches(SI.EOF,0,lN.MAX_CHAR_VALUE)&&(o=new vN({state:n.target},e))}return o}evaluatePredicate(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,s=this.line,o=t.index,l=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=s,t.seek(o),t.release(l)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){const t=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),t)return n}return e<wN.MIN_DFA_EDGE||e>wN.MAX_DFA_EDGE||(wN.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-wN.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new hN(null,t);let n=null;for(let e=0;e<t.items.length;e++){const r=t.items[e];if(r.state instanceof zI){n=r;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(null!==i)return i;const s=e;return s.stateNumber=r.states.length,t.setReadonly(!0),s.configs=t,r.states.add(s),s}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}wN.debug=!1,wN.dfa_debug=!1,wN.MIN_DFA_EDGE=0,wN.MAX_DFA_EDGE=127;class ON{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class xN{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter((t=>t.startsWith("k-"))).map((t=>this.data[t]),this)}}const yN={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(yN.allConfigsInRuleStopStates(e))return!0;if(t===yN.SLL&&e.hasSemanticContext){const t=new cN;for(let n=0;n<e.items.length;n++){let r=e.items[n];r=new HI({semanticContext:NI.NONE},r),t.add(r)}e=t}const n=yN.getConflictingAltSubsets(e);return yN.hasConflictingAltSet(n)&&!yN.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof zI)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof zI))return!1;return!0},resolvesToJustOneViableAlt:function(t){return yN.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!yN.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){const e=yN.getAlts(t);return 1===e.length?e.minValue():RM.INVALID_ALT_NUMBER},getAlts:function(t){const e=new pM;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){const e=new fM;return e.hashFunction=function(t){EI.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){let n=e.get(t);null===n&&(n=new pM,e.set(t,n)),n.set(t.alt)})),e.getValues()},getStateToAltMap:function(t){const e=new xN;return t.items.map((function(t){let n=e.get(t.state);null===n&&(n=new pM,e.set(t.state,n)),n.set(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){const e=yN.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n].minValue();if(null===e)e=r;else if(e!==r)return RM.INVALID_ALT_NUMBER}return e}},bN=yN;class kN extends sN{constructor(t,e,n,r,i,s){s=s||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:s}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class CN{constructor(t){this.defaultMapCtor=t||fM,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}class TN extends fN{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=bN.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),s=t.index;try{let e;if(e=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,null===e){null===n&&(n=lM.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));const i=!1;let s=this.computeStartState(r.atnStartState,lM.EMPTY,i);r.precedenceDfa?(r.s0.configs=s,s=this.applyPrecedenceFilter(s),e=this.addDFAState(r,new hN(null,s)),r.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(r,new hN(null,s)),r.s0=e)}const i=this.execATN(r,e,t,s,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),i}finally{this._dfa=null,this.mergeCache=null,t.seek(s),t.release(i)}}execATN(t,e,n,r,i){let s;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);let o=e;this.debug&&console.log("s0 = "+e);let l=n.LA(1);for(;;){let e=this.getExistingTargetState(o,l);if(null===e&&(e=this.computeTargetState(t,o,l)),e===fN.ERROR){const t=this.noViableAlt(n,i,o.configs,r);if(n.seek(r),s=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(o.configs,i),s!==RM.INVALID_ALT_NUMBER)return s;throw t}if(e.requiresFullContext&&this.predictionMode!==bN.SLL){let o=null;if(null!==e.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=n.index;if(t!==r&&n.seek(r),o=this.evalSemanticContext(e.predicates,i,!0),1===o.length)return this.debug&&console.log("Full LL avoided"),o.minValue();t!==r&&n.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+e);const l=!0,a=this.computeStartState(t.atnStartState,i,l);return this.reportAttemptingFullContext(t,o,e.configs,r,n.index),s=this.execATNWithFullContext(t,e,a,n,r,i),s}if(e.isAcceptState){if(null===e.predicates)return e.prediction;const s=n.index;n.seek(r);const o=this.evalSemanticContext(e.predicates,i,!0);if(0===o.length)throw this.noViableAlt(n,i,e.configs,r);return 1===o.length||this.reportAmbiguity(t,e,r,s,!1,o,e.configs),o.minValue()}o=e,l!==SI.EOF&&(n.consume(),l=n.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return null===n?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,fN.ERROR),fN.ERROR;let i=new hN(null,r);const s=this.getUniqueAlt(r);if(this.debug){const t=bN.getConflictingAltSubsets(r);console.log("SLL altSubSets="+II(t)+", configs="+r+", predict="+s+", allSubsetsConflict="+bN.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(r))}return s!==RM.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=s,i.prediction=s):bN.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),null!==i.predicates&&(i.prediction=RM.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);null!==i?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=RM.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,n,r,i,s){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n);let o,l=!1,a=n;r.seek(i);let u=r.LA(1),c=-1;for(;;){if(o=this.computeReachSet(a,u,!0),null===o){const t=this.noViableAlt(r,s,a,i);r.seek(i);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a,s);if(e!==RM.INVALID_ALT_NUMBER)return e;throw t}const t=bN.getConflictingAltSubsets(o);if(this.debug&&console.log("LL altSubSets="+t+", predict="+bN.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+bN.resolvesToJustOneViableAlt(t)),o.uniqueAlt=this.getUniqueAlt(o),o.uniqueAlt!==RM.INVALID_ALT_NUMBER){c=o.uniqueAlt;break}if(this.predictionMode!==bN.LL_EXACT_AMBIG_DETECTION){if(c=bN.resolvesToJustOneViableAlt(t),c!==RM.INVALID_ALT_NUMBER)break}else if(bN.allSubsetsConflict(t)&&bN.allSubsetsEqual(t)){l=!0,c=bN.getSingleViableAlt(t);break}a=o,u!==SI.EOF&&(r.consume(),u=r.LA(1))}return o.uniqueAlt!==RM.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,c,o,i,r.index),c):(this.reportAmbiguity(t,e,i,r.index,l,null,o),c)}computeReachSet(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new CN);const r=new cN(n);let i=null;for(let s=0;s<t.items.length;s++){const o=t.items[s];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+o),o.state instanceof zI)(n||e===SI.EOF)&&(null===i&&(i=[]),i.push(o),this.debug_add&&console.log("added "+o+" to skippedStopStates"));else for(let t=0;t<o.state.transitions.length;t++){const n=o.state.transitions[t],i=this.getReachableTarget(n,e);if(null!==i){const t=new HI({state:i},o);r.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let s=null;if(null===i&&e!==SI.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==RM.INVALID_ALT_NUMBER)&&(s=r),null===s){s=new cN(n);const t=new MI,i=e===SI.EOF;for(let e=0;e<r.items.length;e++)this.closure(r.items[e],s,t,!1,n,i)}if(e===SI.EOF&&(s=this.removeAllConfigsNotInRuleStopState(s,s===r)),!(null===i||n&&bN.hasConfigInRuleStopState(s)))for(let t=0;t<i.length;t++)s.add(i[t],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+s),0===s.items.length?null:s}removeAllConfigsNotInRuleStopState(t,e){if(bN.allConfigsInRuleStopStates(t))return t;const n=new cN(t.fullCtx);for(let r=0;r<t.items.length;r++){const i=t.items[r];if(i.state instanceof zI)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(SI.EPSILON)){const t=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new HI({state:t},i),this.mergeCache)}}return n}computeStartState(t,e,n){const r=dM(this.atn,e),i=new cN(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(let e=0;e<t.transitions.length;e++){const s=t.transitions[e].target,o=new HI({state:s,alt:e+1,context:r},null),l=new MI;this.closure(o,i,l,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new cN(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],1!==e.alt)continue;const s=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==s&&(n[e.state.stateNumber]=e.context,s!==e.semanticContext?r.add(new HI({semanticContext:s},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=n[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];t.get(i.alt)&&(r[i.alt]=NI.orContext(r[i.alt]||null,i.semanticContext))}let i=0;for(let t=1;t<n+1;t++){const e=r[t]||null;null===e?r[t]=NI.NONE:e!==NI.NONE&&(i+=1)}return 0===i&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+II(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const s=e[i];null!==t&&t.get(i)&&n.push(new ON(s,i)),s!==NI.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let s=this.getAltThatFinishedDecisionEntryRule(r);return s!==RM.INVALID_ALT_NUMBER||i.items.length>0&&(s=this.getAltThatFinishedDecisionEntryRule(i),s!==RM.INVALID_ALT_NUMBER)?s:RM.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof zI&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?RM.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new cN(t.fullCtx),r=new cN(t.fullCtx);for(let i=0;i<t.items.length;i++){const s=t.items[i];s.semanticContext!==NI.NONE?s.semanticContext.evaluate(this.parser,e)?n.add(s):r.add(s):n.add(s)}return[n,r]}evalSemanticContext(t,e,n){const r=new pM;for(let i=0;i<t.length;i++){const s=t[i];if(s.pred===NI.NONE){if(r.set(s.alt),!n)break;continue}const o=s.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+s.alt),r.set(s.alt),!n))break}return r}closure(t,e,n,r,i,s){this.closureCheckingStopState(t,e,n,r,i,0,s)}closureCheckingStopState(t,e,n,r,i,s,o){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof zI){if(!t.context.isEmpty()){for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===aM.EMPTY_RETURN_STATE){if(i){e.add(new HI({state:t.state,context:aM.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,s,o);continue}const a=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),c={state:a,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new HI(c,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,s-1,o)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,s,o)}closure_(t,e,n,r,i,s,o){const l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let a=0;a<l.transitions.length;a++){if(0===a&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=l.transitions[a],c=r&&!(u instanceof QM),h=this.getEpsilonTarget(t,u,c,0===s,i,o);if(null!==h){let r=s;if(t.state instanceof zI){if(null!==this._dfa&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.getOrAdd(h)!==h)continue;e.dipsIntoOuterContext=!0,r-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.getOrAdd(h)!==h)continue;u instanceof jI&&r>=0&&(r+=1)}this.closureCheckingStopState(h,e,n,c,i,r,o)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==XI.STAR_LOOP_ENTRY)return!1;if(e.stateType!==XI.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let r=0;r<n;r++){const n=t.context.getReturnState(r),s=this.atn.states[n];if(1!==s.transitions.length||!s.transitions[0].isEpsilon)return!1;const o=s.transitions[0].target;if(!(s.stateType===XI.BLOCK_END&&o===e||s===i||o===i||o.stateType===XI.BLOCK_END&&1===o.transitions.length&&o.transitions[0].isEpsilon&&o.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,n,r,i,s){switch(e.serializationType){case WI.RULE:return this.ruleTransition(t,e);case WI.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case WI.PREDICATE:return this.predTransition(t,e,n,r,i);case WI.ACTION:return this.actionTransition(t,e);case WI.EPSILON:return new HI({state:e.target},t);case WI.ATOM:case WI.RANGE:case WI.SET:return s&&e.matches(SI.EOF,0,1)?new HI({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new HI({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+II(this.parser.getRuleInvocationStack())));let s=null;if(n&&r)if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new HI({state:e.target},t))}else{const n=NI.andContext(t.semanticContext,e.getPredicate());s=new HI({state:e.target,semanticContext:n},t)}else s=new HI({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+II(this.parser.getRuleInvocationStack())));let s=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const n=this._input.index;this._input.seek(this._startIndex);const r=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(n),r&&(s=new HI({state:e.target},t))}else{const n=NI.andContext(t.semanticContext,e.getPredicate());s=new HI({state:e.target,semanticContext:n},t)}else s=new HI({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=cM.create(t.context,n.stateNumber);return new HI({state:e.target,context:r},t)}getConflictingAlts(t){const e=bN.getConflictingAltSubsets(t);return bN.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==RM.INVALID_ALT_NUMBER?(e=new pM,e.set(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===SI.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const n=e[t];let r="no edges";if(n.state.transitions.length>0){const t=n.state.transitions[0];t instanceof LM?r="Atom "+this.getTokenName(t.label):t instanceof GI&&(r=(t instanceof YI?"~":"")+"Set "+t.set)}console.error(n.toString(this.parser,!0)+":"+r)}}noViableAlt(t,e,n,r){return new kN(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=RM.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===RM.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return RM.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){const e=null===this.parser?null:this.parser.literalNames,n=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,n))}return r}addDFAState(t,e){if(e===fN.ERROR)return e;const n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new qI(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListener().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const e=new qI(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListener().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,s,o){if(this.debug||this.retry_debug){const t=new qI(n,r+1);console.log("reportAmbiguity "+s+":"+o+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListener().reportAmbiguity(this.parser,t,n,r,i,s,o)}}class SN{constructor(){this.cache=new fM}add(t){if(t===aM.EMPTY)return aM.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const AN={ATN:RM,ATNDeserializer:ZM,LexerATNSimulator:wN,ParserATNSimulator:TN,PredictionMode:bN,PredictionContextCache:SN};class PN{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.edges){const e=r.edges.length;for(let n=0;n<e;n++){const e=r.edges[n]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(n)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+II(t.predicates):e+"=>"+t.prediction.toString():e}}class _N extends PN{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class EN{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new MI,this.s0=null,this.precedenceDfa=!1,t instanceof AM&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new hN(null,new cN);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new MI,t){const t=new hN(null,new cN);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new PN(this,t,e).toString()}toLexerString(){return null===this.s0?"":new _N(this).toString()}get states(){return this._states}}const LN={DFA:EN,DFASerializer:PN,LexerDFASerializer:_N,PredPrediction:ON},DN={PredictionContext:aM},QN={Interval:qI,IntervalSet:VI};class IN{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class MN{visit(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class NN{walk(t,e){if(e instanceof iM||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof rM)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}NN.DEFAULT=new NN;const $N={Trees:oM,RuleNode:nM,ErrorNode:iM,TerminalNode:rM,ParseTreeListener:IN,ParseTreeVisitor:MN,ParseTreeWalker:NN};class FN extends sN{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class BN extends sN{constructor(t,e,n){super({message:UN(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof NM?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function UN(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class HN extends KM{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,s,o){if(this.exactOnly&&!i)return;const l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(s,o)+", input='"+t.getTokenStream().getText(new qI(n,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,n,r,i,s){const o="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new qI(n,r))+"'";t.notifyErrorListeners(o)}reportContextSensitivity(t,e,n,r,i,s){const o="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new qI(n,r))+"'";t.notifyErrorListeners(o)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const s=i[r]||null;return null===s||0===s.length?""+n:`${n} (${s})`}getConflictingAlts(t,e){if(null!==t)return t;const n=new pM;for(let t=0;t<e.items.length;t++)n.set(e.items[t].alt);return`{${n.values().join(", ")}}`}}class qN extends Error{constructor(){super(),Error.captureStackTrace(this,qN)}}class VN{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class XN extends VN{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof kN?this.reportNoViableAlternative(t,e):e instanceof FN?this.reportInputMismatch(t,e):e instanceof BN?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=XI.INVALID_STATE_NUMBER);if(r.contains(SI.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case XI.BLOCK_START:case XI.STAR_BLOCK_START:case XI.PLUS_BLOCK_START:case XI.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new FN(t);case XI.PLUS_LOOP_BACK:case XI.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new VI;e.addSet(t.getExpectedTokens());const n=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,n)}}}reportNoViableAlternative(t,e){const n=t.getTokenStream();let r;r=null!==n?e.startToken.type===SI.EOF?"<EOF>":n.getText(new qI(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new FN(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(t){const e=t.getCurrentToken(),n=this.getExpectedTokens(t).first();let r;r=n===SI.EOF?"<missing EOF>":"<missing "+t.literalNames[n]+">";let i=e;const s=t.getTokenStream().LT(-1);return i.type===SI.EOF&&null!==s&&(i=s),t.getTokenFactory().create(i.source,n,r,SI.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===SI.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let n=t._ctx;const r=new VI;for(;null!==n&&n.invokingState>=0;){const t=e.states[n.invokingState].transitions[0],i=e.nextTokens(t.followState);r.addSet(i),n=n.parentCtx}return r.removeOne(SI.EPSILON),r}consumeUntil(t,e){let n=t.getTokenStream().LA(1);for(;n!==SI.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}class zN extends XN{constructor(){super()}recover(t,e){let n=t._ctx;for(;null!==n;)n.exception=e,n=n.parentCtx;throw new qN(e)}recoverInline(t){this.recover(t,new FN(t))}sync(t){}}const WN={RecognitionException:sN,NoViableAltException:kN,LexerNoViableAltException:oN,InputMismatchException:FN,FailedPredicateException:BN,DiagnosticErrorListener:HN,BailErrorStrategy:zN,DefaultErrorStrategy:XN,ErrorListener:KM};class jN{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++)this.data[t]=this.strdata.charCodeAt(t)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?SI.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class GN extends jN{constructor(t,e){super(t,e)}}var YN=CI(763);const ZN="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class KN extends GN{static fromPath(t,e,n){if(!ZN)throw new Error("FileStream is only available when running in Node!");YN.readFile(t,e,(function(t,e){let r=null;null!==e&&(r=new jN(e,!0)),n(t,r)}))}constructor(t,e,n){if(!ZN)throw new Error("FileStream is only available when running in Node!");super(YN.readFileSync(t,e||"utf-8"),n),this.fileName=t}}const JN={fromString:function(t){return new jN(t,!0)},fromBlob:function(t,e,n,r){const i=new window.FileReader;i.onload=function(t){const e=new jN(t.target.result,!0);n(e)},i.onerror=r,i.readAsText(t,e)},fromBuffer:function(t,e){return new jN(t.toString(e),!0)},fromPath:function(t,e,n){KN.fromPath(t,e,n)},fromPathSync:function(t,e){return new KN(t,e)}},t$={arrayToString:II,stringToCharArray:function(t){let e=new Uint16Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};class e${}class n$ extends e${constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===SI.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===SI.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();const r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let i=t;i<e;i++){const t=this.tokens[i];if(t.type===SI.EOF)break;(null===n||n.contains(t.type))&&r.push(t)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let n=this.tokens[t];for(;n.channel!==e;){if(n.type===SI.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,lN.DEFAULT_TOKEN_CHANNEL),r=t+1,i=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,lN.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const t=this.tokens[i];-1===n?t.channel!==lN.DEFAULT_TOKEN_CHANNEL&&r.push(t):t.channel===n&&r.push(t)}return 0===r.length?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),t||(t=new qI(0,this.tokens.length-1));let e=t.start;e instanceof SI&&(e=e.tokenIndex);let n=t.stop;if(n instanceof SI&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);let r="";for(let t=e;t<n+1;t++){const e=this.tokens[t];if(e.type===SI.EOF)break;r+=e.text}return r}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(n$,"size",{get:function(){return this.tokens.length}});class r$ extends n${constructor(t,e){super(t),this.channel=void 0===e?SI.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===SI.EOF)break}return t}}class i$ extends IN{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class s$ extends eN{constructor(t){super(),this._input=null,this._errHandler=new XN,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const n=new BM;n.generateRuleBypassTransitions=!0,e=new ZM(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListener().syntaxError(this,e,r,i,t,n)}consume(){const t=this.getCurrentToken();t.type!==SI.EOF&&this.getInputStream().consume();const e=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||e){let n;n=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),n.invokingState=this.state,e&&this._parseListeners.forEach((function(t){n instanceof iM||void 0!==n.isErrorNode&&n.isErrorNode()?t.visitErrorNode(n):n instanceof rM&&t.visitTerminal(n)}))}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let n=this._ctx;const r=e.states[this.state];let i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(SI.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(SI.EPSILON);){const r=e.states[n.invokingState].transitions[0];if(i=e.nextTokens(r.followState),i.contains(t))return!0;n=n.parentCtx}return!(!i.contains(SI.EPSILON)||t!==SI.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.getSourceName()}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new i$(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}s$.bypassAltsAtnCache={};class o$ extends rM{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return qI.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new qI(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===SI.EOF?"<EOF>":this.symbol.text}}class l$ extends o${constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class a$ extends lM{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof l$&&(this.children.push(t),t.parentCtx=this)}),this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new o$(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new l$(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof rM&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof rM&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?qI.INVALID_INTERVAL:new qI(this.start.tokenIndex,this.stop.tokenIndex)}}lM.EMPTY=new a$;class u${static DEFAULT_PROGRAM_NAME="default";constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u$.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),s=new f$(this.tokens,n,i.length,e);i.push(s)}insertBefore(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u$.DEFAULT_PROGRAM_NAME;n="number"==typeof t?t:t.tokenIndex;const i=this.getProgram(r),s=new h$(this.tokens,n,i.length,e);i.push(s)}replaceSingle(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u$.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,n)}replace(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u$.DEFAULT_PROGRAM_NAME;if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(r),s=new d$(this.tokens,t,e,i.length,n);i.push(s)}delete(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u$.DEFAULT_PROGRAM_NAME;void 0===e&&(e=t),this.replace(t,e,null,n)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u$.DEFAULT_PROGRAM_NAME;e=t instanceof qI?t:new qI(0,this.tokens.size-1),"string"==typeof t&&(n=t);const r=this.programs.get(n);let i=e.start,s=e.stop;if(s>this.tokens.size-1&&(s=this.tokens.size-1),i<0&&(i=0),null==r||0===r.length)return this.tokens.getText(new qI(i,s));let o=[],l=this.reduceToSingleOperationPerIndex(r),a=i;for(;a<=s&&a<this.tokens.size;){let t=l.get(a);l.delete(a);let e=this.tokens.get(a);null==t?(e.type!==SI.EOF&&o.push(String(e.text)),a++):a=t.execute(o)}if(s===this.tokens.size-1)for(const t of l.values())t.index>=this.tokens.size-1&&o.push(t.text.toString());return o.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof d$))continue;let r=n,i=this.getKindOfOps(t,h$,e);for(let e of i)e.index===r.index?(t[e.instructionIndex]=void 0,r.text=e.text.toString()+(null!=r.text?r.text.toString():"")):e.index>r.index&&e.index<=r.lastIndex&&(t[e.instructionIndex]=void 0);let s=this.getKindOfOps(t,d$,e);for(let e of s){if(e.index>=r.index&&e.lastIndex<=r.lastIndex){t[e.instructionIndex]=void 0;continue}let n=e.lastIndex<r.index||e.index>r.lastIndex;if(null!=e.text||null!=r.text||n){if(!n)throw new Error(`replace op boundaries of ${r} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,r.index=Math.min(e.index,r.index),r.lastIndex=Math.max(e.lastIndex,r.lastIndex)}}for(let e=0;e<t.length;e++){let n=t[e];if(null==n)continue;if(!(n instanceof h$))continue;let r=n,i=this.getKindOfOps(t,h$,e);for(let e of i)e.index===r.index&&(e instanceof f$?(r.text=this.catOpText(e.text,r.text),t[e.instructionIndex]=void 0):e instanceof h$&&(r.text=this.catOpText(r.text,e.text),t[e.instructionIndex]=void 0));let s=this.getKindOfOps(t,d$,e);for(let n of s)if(r.index!==n.index){if(r.index>=n.index&&r.index<=n.lastIndex)throw new Error(`insert op ${r} within boundaries of previous ${n}`)}else n.text=this.catOpText(r.text,n.text),t[e]=void 0}let e=new Map;for(let n of t)if(null!=n){if(null!=e.get(n.index))throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}getKindOfOps(t,e,n){return t.slice(0,n).filter((t=>t&&t instanceof e))}}class c${constructor(t,e,n,r){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=void 0===r?"":r}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class h$ extends c${constructor(t,e,n,r){super(t,e,n,r)}execute(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==SI.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}class f$ extends h${constructor(t,e,n,r){super(t,e+1,n,r)}}class d$ extends c${constructor(t,e,n,r,i){super(t,e,r,i),this.lastIndex=n}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const v$={atn:AN,dfa:LN,context:DN,misc:QN,tree:$N,error:WN,Token:SI,CommonToken:nN,CharStreams:JN,CharStream:jN,InputStream:GN,CommonTokenStream:r$,Lexer:lN,Parser:s$,ParserRuleContext:a$,Interval:qI,IntervalSet:VI,LL1Analyzer:mM,Utils:t$,TokenStreamRewriter:u$};var g$=TI.Ay;const p$=(new g$.atn.ATNDeserializer).deserialize([4,0,105,728,6,-1,6,-1,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,2,58,7,58,2,59,7,59,2,60,7,60,2,61,7,61,2,62,7,62,2,63,7,63,2,64,7,64,2,65,7,65,2,66,7,66,2,67,7,67,2,68,7,68,2,69,7,69,2,70,7,70,2,71,7,71,2,72,7,72,2,73,7,73,2,74,7,74,2,75,7,75,2,76,7,76,2,77,7,77,2,78,7,78,2,79,7,79,2,80,7,80,2,81,7,81,2,82,7,82,2,83,7,83,2,84,7,84,2,85,7,85,2,86,7,86,2,87,7,87,2,88,7,88,2,89,7,89,2,90,7,90,2,91,7,91,2,92,7,92,2,93,7,93,2,94,7,94,2,95,7,95,2,96,7,96,2,97,7,97,2,98,7,98,2,99,7,99,2,100,7,100,2,101,7,101,2,102,7,102,2,103,7,103,2,104,7,104,2,105,7,105,1,0,4,0,217,8,0,11,0,12,0,218,1,0,1,0,1,1,1,1,1,1,1,1,4,1,227,8,1,11,1,12,1,228,1,1,1,1,1,2,1,2,1,2,1,2,5,2,237,8,2,10,2,12,2,240,9,2,1,2,1,2,1,2,1,2,1,2,1,3,4,3,248,8,3,11,3,12,3,249,1,3,1,3,4,3,254,8,3,11,3,12,3,255,3,3,258,8,3,1,3,1,3,3,3,262,8,3,1,3,4,3,265,8,3,11,3,12,3,266,3,3,269,8,3,1,3,1,3,1,3,1,3,3,3,275,8,3,1,3,4,3,278,8,3,11,3,12,3,279,1,3,1,3,1,3,1,3,3,3,286,8,3,1,3,4,3,289,8,3,11,3,12,3,290,3,3,293,8,3,1,4,1,4,1,4,1,4,5,4,299,8,4,10,4,12,4,302,9,4,1,4,1,4,1,5,1,5,1,5,1,5,1,5,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,8,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,25,1,25,1,25,1,25,1,25,1,26,1,26,1,26,1,26,1,26,1,27,1,27,1,27,1,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,1,29,1,29,1,29,1,29,1,29,1,30,1,30,1,30,1,31,1,31,1,31,1,31,1,31,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,32,1,33,1,33,1,33,1,33,1,33,1,34,1,34,1,34,1,34,1,34,1,34,1,34,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,37,1,37,1,37,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,38,1,39,1,39,1,39,3,39,509,8,39,1,40,1,40,1,41,1,41,5,41,515,8,41,10,41,12,41,518,9,41,1,42,1,42,5,42,522,8,42,10,42,12,42,525,9,42,1,43,1,43,1,43,1,44,1,44,1,45,1,45,1,45,1,46,1,46,1,46,1,47,1,47,1,47,1,48,1,48,1,48,1,49,1,49,1,49,1,50,1,50,1,50,1,51,1,51,1,52,1,52,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,1,57,1,57,1,58,1,58,1,59,1,59,1,59,1,60,1,60,1,60,1,61,1,61,1,61,1,62,1,62,1,62,1,63,1,63,1,64,1,64,1,65,1,65,1,65,1,66,1,66,1,66,1,67,1,67,1,67,1,68,1,68,1,68,1,69,1,69,1,70,1,70,1,70,1,71,1,71,1,71,1,72,1,72,1,73,1,73,1,74,1,74,1,74,3,74,609,8,74,1,75,1,75,1,75,1,76,1,76,1,76,1,77,1,77,1,78,1,78,1,79,1,79,1,80,1,80,1,81,1,81,1,81,1,82,1,82,1,83,1,83,1,84,1,84,1,85,1,85,1,86,1,86,1,86,1,86,1,87,1,87,1,87,1,87,1,88,1,88,1,88,1,88,1,89,1,89,1,89,1,89,1,90,1,90,1,90,1,90,1,91,1,91,1,91,3,91,659,8,91,1,91,1,91,1,92,1,92,1,92,1,92,1,92,1,93,1,93,1,93,1,94,4,94,672,8,94,11,94,12,94,673,1,95,1,95,1,95,1,95,1,96,1,96,1,96,1,96,1,97,1,97,1,97,1,97,1,98,1,98,1,98,1,98,1,99,1,99,1,99,1,99,1,100,1,100,1,100,3,100,699,8,100,1,101,1,101,1,101,1,101,1,101,1,101,1,102,1,102,1,102,1,102,1,102,1,103,4,103,713,8,103,11,103,12,103,714,1,103,1,103,1,104,1,104,1,104,1,104,1,104,1,105,1,105,1,105,1,105,1,105,1,238,0,106,3,1,5,2,7,3,9,4,11,5,13,6,15,7,17,8,19,9,21,10,23,11,25,12,27,13,29,14,31,15,33,16,35,17,37,18,39,19,41,20,43,21,45,22,47,23,49,24,51,25,53,26,55,27,57,28,59,29,61,30,63,31,65,32,67,33,69,34,71,35,73,36,75,37,77,38,79,39,81,0,83,40,85,41,87,42,89,43,91,44,93,45,95,46,97,47,99,48,101,49,103,50,105,51,107,52,109,53,111,54,113,55,115,56,117,57,119,58,121,59,123,60,125,61,127,62,129,63,131,64,133,65,135,66,137,67,139,68,141,69,143,70,145,71,147,72,149,73,151,74,153,75,155,76,157,77,159,78,161,79,163,80,165,81,167,82,169,83,171,84,173,85,175,86,177,87,179,88,181,89,183,90,185,91,187,92,189,93,191,94,193,95,195,96,197,97,199,98,201,99,203,100,205,101,207,102,209,103,211,104,213,105,3,0,1,2,13,3,0,9,10,13,13,32,32,1,0,10,10,1,0,48,57,2,0,69,69,101,101,2,0,43,43,45,45,3,0,48,57,65,70,97,102,1,0,48,55,4,0,10,10,13,13,34,34,92,92,3,0,48,57,65,90,97,122,1,0,97,122,1,0,65,90,2,0,92,93,96,96,4,0,40,40,91,93,96,96,123,123,750,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,0,69,1,0,0,0,0,71,1,0,0,0,0,73,1,0,0,0,0,75,1,0,0,0,0,77,1,0,0,0,0,79,1,0,0,0,0,83,1,0,0,0,0,85,1,0,0,0,0,87,1,0,0,0,0,89,1,0,0,0,0,91,1,0,0,0,0,93,1,0,0,0,0,95,1,0,0,0,0,97,1,0,0,0,0,99,1,0,0,0,0,101,1,0,0,0,0,103,1,0,0,0,0,105,1,0,0,0,0,107,1,0,0,0,0,109,1,0,0,0,0,111,1,0,0,0,0,113,1,0,0,0,0,115,1,0,0,0,0,117,1,0,0,0,0,119,1,0,0,0,0,121,1,0,0,0,0,123,1,0,0,0,0,125,1,0,0,0,0,127,1,0,0,0,0,129,1,0,0,0,0,131,1,0,0,0,0,133,1,0,0,0,0,135,1,0,0,0,0,137,1,0,0,0,0,139,1,0,0,0,0,141,1,0,0,0,0,143,1,0,0,0,0,145,1,0,0,0,0,147,1,0,0,0,0,149,1,0,0,0,0,151,1,0,0,0,0,153,1,0,0,0,0,155,1,0,0,0,0,157,1,0,0,0,0,159,1,0,0,0,0,161,1,0,0,0,0,163,1,0,0,0,0,165,1,0,0,0,0,167,1,0,0,0,0,169,1,0,0,0,0,171,1,0,0,0,0,173,1,0,0,0,0,175,1,0,0,0,0,177,1,0,0,0,0,179,1,0,0,0,0,181,1,0,0,0,0,183,1,0,0,0,1,185,1,0,0,0,1,187,1,0,0,0,1,189,1,0,0,0,1,191,1,0,0,0,1,193,1,0,0,0,1,195,1,0,0,0,2,197,1,0,0,0,2,199,1,0,0,0,2,201,1,0,0,0,2,203,1,0,0,0,2,205,1,0,0,0,2,207,1,0,0,0,2,209,1,0,0,0,2,211,1,0,0,0,2,213,1,0,0,0,3,216,1,0,0,0,5,222,1,0,0,0,7,232,1,0,0,0,9,292,1,0,0,0,11,294,1,0,0,0,13,305,1,0,0,0,15,310,1,0,0,0,17,320,1,0,0,0,19,328,1,0,0,0,21,335,1,0,0,0,23,338,1,0,0,0,25,342,1,0,0,0,27,349,1,0,0,0,29,354,1,0,0,0,31,361,1,0,0,0,33,365,1,0,0,0,35,369,1,0,0,0,37,375,1,0,0,0,39,381,1,0,0,0,41,385,1,0,0,0,43,389,1,0,0,0,45,400,1,0,0,0,47,409,1,0,0,0,49,413,1,0,0,0,51,417,1,0,0,0,53,420,1,0,0,0,55,425,1,0,0,0,57,430,1,0,0,0,59,434,1,0,0,0,61,441,1,0,0,0,63,446,1,0,0,0,65,449,1,0,0,0,67,454,1,0,0,0,69,463,1,0,0,0,71,468,1,0,0,0,73,475,1,0,0,0,75,484,1,0,0,0,77,489,1,0,0,0,79,495,1,0,0,0,81,508,1,0,0,0,83,510,1,0,0,0,85,512,1,0,0,0,87,519,1,0,0,0,89,526,1,0,0,0,91,529,1,0,0,0,93,531,1,0,0,0,95,534,1,0,0,0,97,537,1,0,0,0,99,540,1,0,0,0,101,543,1,0,0,0,103,546,1,0,0,0,105,549,1,0,0,0,107,551,1,0,0,0,109,553,1,0,0,0,111,555,1,0,0,0,113,557,1,0,0,0,115,559,1,0,0,0,117,561,1,0,0,0,119,563,1,0,0,0,121,565,1,0,0,0,123,568,1,0,0,0,125,571,1,0,0,0,127,574,1,0,0,0,129,577,1,0,0,0,131,579,1,0,0,0,133,581,1,0,0,0,135,584,1,0,0,0,137,587,1,0,0,0,139,590,1,0,0,0,141,593,1,0,0,0,143,595,1,0,0,0,145,598,1,0,0,0,147,601,1,0,0,0,149,603,1,0,0,0,151,608,1,0,0,0,153,610,1,0,0,0,155,613,1,0,0,0,157,616,1,0,0,0,159,618,1,0,0,0,161,620,1,0,0,0,163,622,1,0,0,0,165,624,1,0,0,0,167,627,1,0,0,0,169,629,1,0,0,0,171,631,1,0,0,0,173,633,1,0,0,0,175,635,1,0,0,0,177,639,1,0,0,0,179,643,1,0,0,0,181,647,1,0,0,0,183,651,1,0,0,0,185,655,1,0,0,0,187,662,1,0,0,0,189,667,1,0,0,0,191,671,1,0,0,0,193,675,1,0,0,0,195,679,1,0,0,0,197,683,1,0,0,0,199,687,1,0,0,0,201,691,1,0,0,0,203,695,1,0,0,0,205,700,1,0,0,0,207,706,1,0,0,0,209,712,1,0,0,0,211,718,1,0,0,0,213,723,1,0,0,0,215,217,7,0,0,0,216,215,1,0,0,0,217,218,1,0,0,0,218,216,1,0,0,0,218,219,1,0,0,0,219,220,1,0,0,0,220,221,6,0,0,0,221,4,1,0,0,0,222,223,5,45,0,0,223,224,5,45,0,0,224,226,1,0,0,0,225,227,8,1,0,0,226,225,1,0,0,0,227,228,1,0,0,0,228,226,1,0,0,0,228,229,1,0,0,0,229,230,1,0,0,0,230,231,6,1,0,0,231,6,1,0,0,0,232,233,5,123,0,0,233,234,5,45,0,0,234,238,1,0,0,0,235,237,9,0,0,0,236,235,1,0,0,0,237,240,1,0,0,0,238,239,1,0,0,0,238,236,1,0,0,0,239,241,1,0,0,0,240,238,1,0,0,0,241,242,5,45,0,0,242,243,5,125,0,0,243,244,1,0,0,0,244,245,6,2,0,0,245,8,1,0,0,0,246,248,7,2,0,0,247,246,1,0,0,0,248,249,1,0,0,0,249,247,1,0,0,0,249,250,1,0,0,0,250,257,1,0,0,0,251,253,5,46,0,0,252,254,7,2,0,0,253,252,1,0,0,0,254,255,1,0,0,0,255,253,1,0,0,0,255,256,1,0,0,0,256,258,1,0,0,0,257,251,1,0,0,0,257,258,1,0,0,0,258,268,1,0,0,0,259,261,7,3,0,0,260,262,7,4,0,0,261,260,1,0,0,0,261,262,1,0,0,0,262,264,1,0,0,0,263,265,7,2,0,0,264,263,1,0,0,0,265,266,1,0,0,0,266,264,1,0,0,0,266,267,1,0,0,0,267,269,1,0,0,0,268,259,1,0,0,0,268,269,1,0,0,0,269,293,1,0,0,0,270,271,5,48,0,0,271,275,5,120,0,0,272,273,5,48,0,0,273,275,5,88,0,0,274,270,1,0,0,0,274,272,1,0,0,0,275,277,1,0,0,0,276,278,7,5,0,0,277,276,1,0,0,0,278,279,1,0,0,0,279,277,1,0,0,0,279,280,1,0,0,0,280,293,1,0,0,0,281,282,5,48,0,0,282,286,5,111,0,0,283,284,5,48,0,0,284,286,5,79,0,0,285,281,1,0,0,0,285,283,1,0,0,0,286,288,1,0,0,0,287,289,7,6,0,0,288,287,1,0,0,0,289,290,1,0,0,0,290,288,1,0,0,0,290,291,1,0,0,0,291,293,1,0,0,0,292,247,1,0,0,0,292,274,1,0,0,0,292,285,1,0,0,0,293,10,1,0,0,0,294,300,5,34,0,0,295,299,8,7,0,0,296,297,5,92,0,0,297,299,9,0,0,0,298,295,1,0,0,0,298,296,1,0,0,0,299,302,1,0,0,0,300,298,1,0,0,0,300,301,1,0,0,0,301,303,1,0,0,0,302,300,1,0,0,0,303,304,5,34,0,0,304,12,1,0,0,0,305,306,5,116,0,0,306,307,5,121,0,0,307,308,5,112,0,0,308,309,5,101,0,0,309,14,1,0,0,0,310,311,5,105,0,0,311,312,5,110,0,0,312,313,5,116,0,0,313,314,5,101,0,0,314,315,5,114,0,0,315,316,5,102,0,0,316,317,5,97,0,0,317,318,5,99,0,0,318,319,5,101,0,0,319,16,1,0,0,0,320,321,5,101,0,0,321,322,5,120,0,0,322,323,5,116,0,0,323,324,5,101,0,0,324,325,5,110,0,0,325,326,5,100,0,0,326,327,5,115,0,0,327,18,1,0,0,0,328,329,5,102,0,0,329,330,5,111,0,0,330,331,5,114,0,0,331,332,5,97,0,0,332,333,5,108,0,0,333,334,5,108,0,0,334,20,1,0,0,0,335,336,5,109,0,0,336,337,5,117,0,0,337,22,1,0,0,0,338,339,5,73,0,0,339,340,5,110,0,0,340,341,5,116,0,0,341,24,1,0,0,0,342,343,5,68,0,0,343,344,5,111,0,0,344,345,5,117,0,0,345,346,5,98,0,0,346,347,5,108,0,0,347,348,5,101,0,0,348,26,1,0,0,0,349,350,5,66,0,0,350,351,5,111,0,0,351,352,5,111,0,0,352,353,5,108,0,0,353,28,1,0,0,0,354,355,5,83,0,0,355,356,5,116,0,0,356,357,5,114,0,0,357,358,5,105,0,0,358,359,5,110,0,0,359,360,5,103,0,0,360,30,1,0,0,0,361,362,5,84,0,0,362,363,5,111,0,0,363,364,5,112,0,0,364,32,1,0,0,0,365,366,5,66,0,0,366,367,5,111,0,0,367,368,5,116,0,0,368,34,1,0,0,0,369,370,5,84,0,0,370,371,5,114,0,0,371,372,5,97,0,0,372,373,5,105,0,0,373,374,5,116,0,0,374,36,1,0,0,0,375,376,5,116,0,0,376,377,5,114,0,0,377,378,5,97,0,0,378,379,5,105,0,0,379,380,5,116,0,0,380,38,1,0,0,0,381,382,5,82,0,0,382,383,5,101,0,0,383,384,5,102,0,0,384,40,1,0,0,0,385,386,5,114,0,0,386,387,5,101,0,0,387,388,5,102,0,0,388,42,1,0,0,0,389,390,5,105,0,0,390,391,5,109,0,0,391,392,5,112,0,0,392,393,5,108,0,0,393,394,5,101,0,0,394,395,5,109,0,0,395,396,5,101,0,0,396,397,5,110,0,0,397,398,5,116,0,0,398,399,5,115,0,0,399,44,1,0,0,0,400,401,5,105,0,0,401,402,5,110,0,0,402,403,5,104,0,0,403,404,5,101,0,0,404,405,5,114,0,0,405,406,5,105,0,0,406,407,5,116,0,0,407,408,5,115,0,0,408,46,1,0,0,0,409,410,5,110,0,0,410,411,5,101,0,0,411,412,5,119,0,0,412,48,1,0,0,0,413,414,5,102,0,0,414,415,5,105,0,0,415,416,5,120,0,0,416,50,1,0,0,0,417,418,5,105,0,0,418,419,5,102,0,0,419,52,1,0,0,0,420,421,5,116,0,0,421,422,5,104,0,0,422,423,5,101,0,0,423,424,5,110,0,0,424,54,1,0,0,0,425,426,5,101,0,0,426,427,5,108,0,0,427,428,5,115,0,0,428,429,5,101,0,0,429,56,1,0,0,0,430,431,5,108,0,0,431,432,5,101,0,0,432,433,5,116,0,0,433,58,1,0,0,0,434,435,5,108,0,0,435,436,5,101,0,0,436,437,5,116,0,0,437,438,5,114,0,0,438,439,5,101,0,0,439,440,5,99,0,0,440,60,1,0,0,0,441,442,5,111,0,0,442,443,5,112,0,0,443,444,5,101,0,0,444,445,5,110,0,0,445,62,1,0,0,0,446,447,5,105,0,0,447,448,5,110,0,0,448,64,1,0,0,0,449,450,5,119,0,0,450,451,5,105,0,0,451,452,5,116,0,0,452,453,5,104,0,0,453,66,1,0,0,0,454,455,5,116,0,0,455,456,5,111,0,0,456,457,5,83,0,0,457,458,5,116,0,0,458,459,5,114,0,0,459,460,5,105,0,0,460,461,5,110,0,0,461,462,5,103,0,0,462,68,1,0,0,0,463,464,5,102,0,0,464,465,5,111,0,0,465,466,5,108,0,0,466,467,5,100,0,0,467,70,1,0,0,0,468,469,5,117,0,0,469,470,5,110,0,0,470,471,5,102,0,0,471,472,5,111,0,0,472,473,5,108,0,0,473,474,5,100,0,0,474,72,1,0,0,0,475,476,5,111,0,0,476,477,5,118,0,0,477,478,5,101,0,0,478,479,5,114,0,0,479,480,5,114,0,0,480,481,5,105,0,0,481,482,5,100,0,0,482,483,5,101,0,0,483,74,1,0,0,0,484,485,5,116,0,0,485,486,5,114,0,0,486,487,5,117,0,0,487,488,5,101,0,0,488,76,1,0,0,0,489,490,5,102,0,0,490,491,5,97,0,0,491,492,5,108,0,0,492,493,5,115,0,0,493,494,5,101,0,0,494,78,1,0,0,0,495,496,5,117,0,0,496,497,5,110,0,0,497,498,5,100,0,0,498,499,5,101,0,0,499,500,5,102,0,0,500,501,5,105,0,0,501,502,5,110,0,0,502,503,5,101,0,0,503,504,5,100,0,0,504,80,1,0,0,0,505,509,7,8,0,0,506,509,3,83,40,0,507,509,5,39,0,0,508,505,1,0,0,0,508,506,1,0,0,0,508,507,1,0,0,0,509,82,1,0,0,0,510,511,5,95,0,0,511,84,1,0,0,0,512,516,7,9,0,0,513,515,3,81,39,0,514,513,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,516,517,1,0,0,0,517,86,1,0,0,0,518,516,1,0,0,0,519,523,7,10,0,0,520,522,3,81,39,0,521,520,1,0,0,0,522,525,1,0,0,0,523,521,1,0,0,0,523,524,1,0,0,0,524,88,1,0,0,0,525,523,1,0,0,0,526,527,5,40,0,0,527,528,5,41,0,0,528,90,1,0,0,0,529,530,5,92,0,0,530,92,1,0,0,0,531,532,5,47,0,0,532,533,5,92,0,0,533,94,1,0,0,0,534,535,5,92,0,0,535,536,5,45,0,0,536,96,1,0,0,0,537,538,5,92,0,0,538,539,5,92,0,0,539,98,1,0,0,0,540,541,5,45,0,0,541,542,5,62,0,0,542,100,1,0,0,0,543,544,5,61,0,0,544,545,5,62,0,0,545,102,1,0,0,0,546,547,5,60,0,0,547,548,5,45,0,0,548,104,1,0,0,0,549,550,5,38,0,0,550,106,1,0,0,0,551,552,5,43,0,0,552,108,1,0,0,0,553,554,5,45,0,0,554,110,1,0,0,0,555,556,5,42,0,0,556,112,1,0,0,0,557,558,5,47,0,0,558,114,1,0,0,0,559,560,5,37,0,0,560,116,1,0,0,0,561,562,5,8730,0,0,562,118,1,0,0,0,563,564,5,33,0,0,564,120,1,0,0,0,565,566,5,58,0,0,566,567,5,61,0,0,567,122,1,0,0,0,568,569,5,62,0,0,569,570,5,62,0,0,570,124,1,0,0,0,571,572,5,38,0,0,572,573,5,38,0,0,573,126,1,0,0,0,574,575,5,124,0,0,575,576,5,124,0,0,576,128,1,0,0,0,577,578,5,60,0,0,578,130,1,0,0,0,579,580,5,62,0,0,580,132,1,0,0,0,581,582,5,60,0,0,582,583,5,61,0,0,583,134,1,0,0,0,584,585,5,62,0,0,585,586,5,61,0,0,586,136,1,0,0,0,587,588,5,61,0,0,588,589,5,61,0,0,589,138,1,0,0,0,590,591,5,33,0,0,591,592,5,61,0,0,592,140,1,0,0,0,593,594,5,35,0,0,594,142,1,0,0,0,595,596,5,33,0,0,596,597,5,33,0,0,597,144,1,0,0,0,598,599,5,43,0,0,599,600,5,43,0,0,600,146,1,0,0,0,601,602,5,94,0,0,602,148,1,0,0,0,603,604,5,64,0,0,604,150,1,0,0,0,605,609,5,44,0,0,606,607,5,44,0,0,607,609,5,44,0,0,608,605,1,0,0,0,608,606,1,0,0,0,609,152,1,0,0,0,610,611,5,43,0,0,611,612,5,44,0,0,612,154,1,0,0,0,613,614,5,44,0,0,614,615,5,43,0,0,615,156,1,0,0,0,616,617,5,61,0,0,617,158,1,0,0,0,618,619,5,59,0,0,619,160,1,0,0,0,620,621,5,58,0,0,621,162,1,0,0,0,622,623,5,46,0,0,623,164,1,0,0,0,624,625,5,46,0,0,625,626,5,46,0,0,626,166,1,0,0,0,627,628,5,36,0,0,628,168,1,0,0,0,629,630,5,63,0,0,630,170,1,0,0,0,631,632,5,91,0,0,632,172,1,0,0,0,633,634,5,93,0,0,634,174,1,0,0,0,635,636,5,123,0,0,636,637,1,0,0,0,637,638,6,86,1,0,638,176,1,0,0,0,639,640,5,125,0,0,640,641,1,0,0,0,641,642,6,87,2,0,642,178,1,0,0,0,643,644,5,40,0,0,644,645,1,0,0,0,645,646,6,88,1,0,646,180,1,0,0,0,647,648,5,41,0,0,648,649,1,0,0,0,649,650,6,89,2,0,650,182,1,0,0,0,651,652,5,96,0,0,652,653,1,0,0,0,653,654,6,90,3,0,654,184,1,0,0,0,655,658,5,92,0,0,656,659,3,85,41,0,657,659,3,87,42,0,658,656,1,0,0,0,658,657,1,0,0,0,659,660,1,0,0,0,660,661,6,91,4,0,661,186,1,0,0,0,662,663,5,92,0,0,663,664,5,40,0,0,664,665,1,0,0,0,665,666,6,92,1,0,666,188,1,0,0,0,667,668,5,92,0,0,668,669,5,92,0,0,669,190,1,0,0,0,670,672,8,11,0,0,671,670,1,0,0,0,672,673,1,0,0,0,673,671,1,0,0,0,673,674,1,0,0,0,674,192,1,0,0,0,675,676,5,93,0,0,676,677,1,0,0,0,677,678,6,95,2,0,678,194,1,0,0,0,679,680,5,96,0,0,680,681,1,0,0,0,681,682,6,96,2,0,682,196,1,0,0,0,683,684,5,91,0,0,684,685,1,0,0,0,685,686,6,97,3,0,686,198,1,0,0,0,687,688,5,40,0,0,688,689,1,0,0,0,689,690,6,98,1,0,690,200,1,0,0,0,691,692,5,123,0,0,692,693,1,0,0,0,693,694,6,99,1,0,694,202,1,0,0,0,695,698,5,92,0,0,696,699,3,85,41,0,697,699,3,87,42,0,698,696,1,0,0,0,698,697,1,0,0,0,699,204,1,0,0,0,700,701,5,92,0,0,701,702,5,40,0,0,702,703,1,0,0,0,703,704,6,101,2,0,704,705,6,101,1,0,705,206,1,0,0,0,706,707,5,92,0,0,707,708,5,92,0,0,708,709,1,0,0,0,709,710,6,102,2,0,710,208,1,0,0,0,711,713,8,12,0,0,712,711,1,0,0,0,713,714,1,0,0,0,714,712,1,0,0,0,714,715,1,0,0,0,715,716,1,0,0,0,716,717,6,103,2,0,717,210,1,0,0,0,718,719,5,93,0,0,719,720,1,0,0,0,720,721,6,104,2,0,721,722,6,104,2,0,722,212,1,0,0,0,723,724,5,96,0,0,724,725,1,0,0,0,725,726,6,105,2,0,726,727,6,105,2,0,727,214,1,0,0,0,27,0,1,2,218,228,238,249,255,257,261,266,268,274,279,285,290,292,298,300,508,516,523,608,658,673,698,714,5,6,0,0,5,0,0,4,0,0,5,1,0,5,2,0]),m$=p$.decisionToState.map(((t,e)=>new g$.dfa.DFA(t,e)));class R$ extends g$.Lexer{static grammarFileName="CPLexer.g4";static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static modeNames=["DEFAULT_MODE","DOC_MODE","CMD_MODE"];static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'Ref'","'ref'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","':='","'>>'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","IdChar","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];constructor(t){super(t),this._interp=new g$.atn.LexerATNSimulator(this,p$,m$,new g$.atn.PredictionContextCache)}}R$.EOF=g$.Token.EOF,R$.Whitespaces=1,R$.LineComment=2,R$.BlockComment=3,R$.IntLit=4,R$.StringLit=5,R$.Type=6,R$.Interface=7,R$.Extends=8,R$.ForAll=9,R$.Mu=10,R$.Int=11,R$.Double=12,R$.Bool=13,R$.String=14,R$.Top=15,R$.Bot=16,R$.TraitType=17,R$.Trait=18,R$.RefType=19,R$.Ref=20,R$.Implements=21,R$.Inherits=22,R$.New=23,R$.Fix=24,R$.If=25,R$.Then=26,R$.Else=27,R$.Let=28,R$.LetRec=29,R$.Open=30,R$.In=31,R$.With=32,R$.ToString=33,R$.Fold=34,R$.Unfold=35,R$.Override=36,R$.True_=37,R$.False_=38,R$.Undefined_=39,R$.Underscore=40,R$.LowerId=41,R$.UpperId=42,R$.Unit=43,R$.Backslash=44,R$.SlashBackslash=45,R$.BackslashMinus=46,R$.DoubleBackslashes=47,R$.Arrow=48,R$.FatArrow=49,R$.LeftArrow=50,R$.Intersect=51,R$.Plus=52,R$.Minus=53,R$.Asterisk=54,R$.Slash=55,R$.Modulo=56,R$.Sqrt=57,R$.Deref=58,R$.Walrus=59,R$.Seq=60,R$.And=61,R$.Or=62,R$.Less=63,R$.Greater=64,R$.LessEqual=65,R$.GreaterEqual=66,R$.Equal=67,R$.NotEqual=68,R$.Length=69,R$.Index=70,R$.Append=71,R$.Forward=72,R$.At=73,R$.Merge=74,R$.LeftistMerge=75,R$.RightistMerge=76,R$.Assign=77,R$.Semicolon=78,R$.Colon=79,R$.Dot=80,R$.DotDot=81,R$.Dollar=82,R$.Question=83,R$.BracketOpen=84,R$.BracketClose=85,R$.BraceOpen=86,R$.BraceClose=87,R$.ParenOpen=88,R$.ParenClose=89,R$.BacktickOpen=90,R$.Command=91,R$.Interpolation=92,R$.NewLine=93,R$.PlainText=94,R$.BracketCloseInDoc=95,R$.BacktickClose=96,R$.BracketOpenAsArg=97,R$.ParenOpenAsArg=98,R$.BraceOpenAsArg=99,R$.CommandAfterCmd=100,R$.InterpolationAfterCmd=101,R$.NewLineAfterCmd=102,R$.PlainTextAfterCmd=103,R$.BracketCloseAfterCmd=104,R$.BacktickCloseAfterCmd=105,R$.DOC_MODE=1,R$.CMD_MODE=2;class w$ extends g$.tree.ParseTreeVisitor{visitProgram(t){return this.visitChildren(t)}visitDefinition(t){return this.visitChildren(t)}visitInterfaceDef(t){return this.visitChildren(t)}visitTypeDef(t){return this.visitChildren(t)}visitTermDef(t){return this.visitChildren(t)}visitType(t){return this.visitChildren(t)}visitBtype(t){return this.visitChildren(t)}visitAtype(t){return this.visitChildren(t)}visitRecordType(t){return this.visitChildren(t)}visitRecordTypeField(t){return this.visitChildren(t)}visitExpression(t){return this.visitChildren(t)}visitOpexpr(t){return this.visitChildren(t)}visitLexpr(t){return this.visitChildren(t)}visitLambda(t){return this.visitChildren(t)}visitBigLambda(t){return this.visitChildren(t)}visitLetIn(t){return this.visitChildren(t)}visitLetRec(t){return this.visitChildren(t)}visitOpenIn(t){return this.visitChildren(t)}visitIfElse(t){return this.visitChildren(t)}visitTrait(t){return this.visitChildren(t)}visitNewTrait(t){return this.visitChildren(t)}visitFixpoint(t){return this.visitChildren(t)}visitToStr(t){return this.visitChildren(t)}visitFold(t){return this.visitChildren(t)}visitUnfold(t){return this.visitChildren(t)}visitRef(t){return this.visitChildren(t)}visitFexpr(t){return this.visitChildren(t)}visitExcludexpr(t){return this.visitChildren(t)}visitRenamexpr(t){return this.visitChildren(t)}visitDotexpr(t){return this.visitChildren(t)}visitAexpr(t){return this.visitChildren(t)}visitArray(t){return this.visitChildren(t)}visitRecord(t){return this.visitChildren(t)}visitRecordField(t){return this.visitChildren(t)}visitMethodPattern(t){return this.visitChildren(t)}visitDefaultPattern(t){return this.visitChildren(t)}visitRecordUpdate(t){return this.visitChildren(t)}visitTypeArg(t){return this.visitChildren(t)}visitTypeParam(t){return this.visitChildren(t)}visitTermParam(t){return this.visitChildren(t)}visitWildcard(t){return this.visitChildren(t)}visitSelfAnno(t){return this.visitChildren(t)}visitSort(t){return this.visitChildren(t)}visitTypeNameDecl(t){return this.visitChildren(t)}visitTypeName(t){return this.visitChildren(t)}visitTermNameDecl(t){return this.visitChildren(t)}visitCtorName(t){return this.visitChildren(t)}visitTermName(t){return this.visitChildren(t)}visitLabelDecl(t){return this.visitChildren(t)}visitLabel(t){return this.visitChildren(t)}visitDocument(t){return this.visitChildren(t)}visitDocElement(t){return this.visitChildren(t)}visitCommand(t){return this.visitChildren(t)}visitInterpolation(t){return this.visitChildren(t)}visitNewline(t){return this.visitChildren(t)}visitPlaintext(t){return this.visitChildren(t)}visitDocArg(t){return this.visitChildren(t)}visitRecordArgField(t){return this.visitChildren(t)}}const O$=(new g$.atn.ATNDeserializer).deserialize([4,1,105,791,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,2,36,7,36,2,37,7,37,2,38,7,38,2,39,7,39,2,40,7,40,2,41,7,41,2,42,7,42,2,43,7,43,2,44,7,44,2,45,7,45,2,46,7,46,2,47,7,47,2,48,7,48,2,49,7,49,2,50,7,50,2,51,7,51,2,52,7,52,2,53,7,53,2,54,7,54,2,55,7,55,2,56,7,56,2,57,7,57,1,0,5,0,118,8,0,10,0,12,0,121,9,0,1,0,1,0,1,0,1,1,1,1,1,1,3,1,129,8,1,1,2,1,2,1,2,1,2,1,2,1,2,5,2,137,8,2,10,2,12,2,140,9,2,1,2,5,2,143,8,2,10,2,12,2,146,9,2,1,2,1,2,3,2,150,8,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,5,3,161,8,3,10,3,12,3,164,9,3,1,3,5,3,167,8,3,10,3,12,3,170,9,3,1,3,1,3,1,3,1,3,1,4,1,4,5,4,178,8,4,10,4,12,4,181,9,4,1,4,5,4,184,8,4,10,4,12,4,187,9,4,1,4,1,4,3,4,191,8,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,4,5,200,8,5,11,5,12,5,201,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,3,5,217,8,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,225,8,5,10,5,12,5,228,9,5,3,5,230,8,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,1,5,5,5,241,8,5,10,5,12,5,244,9,5,1,6,1,6,1,6,1,6,1,6,5,6,251,8,6,10,6,12,6,254,9,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,3,7,273,8,7,1,8,1,8,1,8,1,8,5,8,279,8,8,10,8,12,8,282,9,8,1,8,3,8,285,8,8,1,8,1,8,1,9,1,9,3,9,291,8,9,1,9,1,9,1,9,1,10,1,10,1,10,3,10,299,8,10,1,11,1,11,1,11,1,11,3,11,305,8,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,1,11,5,11,340,8,11,10,11,12,11,343,9,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,12,3,12,359,8,12,1,13,1,13,4,13,363,8,13,11,13,12,13,364,1,13,1,13,1,13,1,14,1,14,4,14,372,8,14,11,14,12,14,373,1,14,1,14,1,14,1,15,1,15,1,15,5,15,382,8,15,10,15,12,15,385,9,15,1,15,5,15,388,8,15,10,15,12,15,391,9,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,5,16,401,8,16,10,16,12,16,404,9,16,1,16,5,16,407,8,16,10,16,12,16,410,9,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,3,19,433,8,19,1,19,1,19,3,19,437,8,19,1,19,1,19,3,19,441,8,19,1,19,1,19,1,19,1,19,3,19,447,8,19,1,19,1,19,3,19,451,8,19,1,19,1,19,3,19,455,8,19,1,19,1,19,3,19,459,8,19,1,20,1,20,1,20,1,21,1,21,1,21,1,21,1,21,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,23,1,23,1,24,1,24,1,24,1,24,1,25,1,25,1,25,1,26,1,26,3,26,487,8,26,1,26,1,26,5,26,491,8,26,10,26,12,26,494,9,26,1,27,1,27,1,27,1,27,1,27,3,27,501,8,27,1,28,1,28,1,28,1,28,1,28,1,28,1,28,3,28,510,8,28,1,29,1,29,1,29,5,29,515,8,29,10,29,12,29,518,9,29,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,1,30,3,30,537,8,30,1,31,1,31,1,31,1,31,5,31,543,8,31,10,31,12,31,546,9,31,1,31,3,31,549,8,31,1,31,1,31,1,32,1,32,1,32,1,32,3,32,557,8,32,1,32,1,32,5,32,561,8,32,10,32,12,32,564,9,32,1,32,1,32,1,32,3,32,569,8,32,3,32,571,8,32,1,32,1,32,1,33,3,33,576,8,33,1,33,3,33,579,8,33,1,33,1,33,5,33,583,8,33,10,33,12,33,586,9,33,1,33,1,33,1,33,1,34,3,34,592,8,34,1,34,1,34,1,34,3,34,597,8,34,1,34,1,34,1,34,5,34,602,8,34,10,34,12,34,605,9,34,1,34,1,34,1,34,1,34,5,34,611,8,34,10,34,12,34,614,9,34,1,34,1,34,1,34,1,35,1,35,3,35,621,8,35,1,35,1,35,1,35,5,35,626,8,35,10,35,12,35,629,9,35,1,35,1,35,1,35,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,1,36,5,36,643,8,36,10,36,12,36,646,9,36,1,36,1,36,1,36,1,36,3,36,652,8,36,1,36,1,36,1,37,1,37,1,37,1,38,1,38,1,38,1,38,1,38,1,38,1,38,3,38,666,8,38,1,39,1,39,1,39,1,39,1,39,3,39,673,8,39,1,39,1,39,1,39,1,39,1,39,3,39,680,8,39,1,40,1,40,1,40,1,40,1,40,1,40,1,40,5,40,689,8,40,10,40,12,40,692,9,40,1,40,1,40,1,40,1,41,1,41,1,41,1,41,3,41,701,8,41,1,41,1,41,1,42,1,42,1,42,3,42,708,8,42,1,43,1,43,1,44,1,44,1,45,1,45,1,46,1,46,1,47,1,47,1,48,1,48,1,49,1,49,1,50,1,50,5,50,726,8,50,10,50,12,50,729,9,50,1,50,1,50,1,51,1,51,1,51,1,51,3,51,737,8,51,1,52,1,52,5,52,741,8,52,10,52,12,52,744,9,52,1,53,1,53,1,53,1,53,1,54,1,54,1,55,1,55,1,56,1,56,5,56,756,8,56,10,56,12,56,759,9,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,1,56,5,56,770,8,56,10,56,12,56,773,9,56,1,56,3,56,776,8,56,1,56,3,56,779,8,56,1,57,1,57,5,57,783,8,57,10,57,12,57,786,9,57,1,57,1,57,1,57,1,57,0,2,10,22,58,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,0,12,3,0,53,53,57,58,69,69,1,0,54,56,1,0,52,53,1,0,63,68,2,0,46,46,74,76,1,0,41,42,2,0,96,96,105,105,2,0,91,91,100,100,2,0,92,92,101,101,2,0,93,93,102,102,2,0,94,94,103,103,2,0,95,95,104,104,863,0,119,1,0,0,0,2,128,1,0,0,0,4,130,1,0,0,0,6,154,1,0,0,0,8,175,1,0,0,0,10,229,1,0,0,0,12,245,1,0,0,0,14,272,1,0,0,0,16,274,1,0,0,0,18,288,1,0,0,0,20,295,1,0,0,0,22,304,1,0,0,0,24,358,1,0,0,0,26,360,1,0,0,0,28,369,1,0,0,0,30,378,1,0,0,0,32,397,1,0,0,0,34,418,1,0,0,0,36,423,1,0,0,0,38,458,1,0,0,0,40,460,1,0,0,0,42,463,1,0,0,0,44,470,1,0,0,0,46,473,1,0,0,0,48,477,1,0,0,0,50,481,1,0,0,0,52,486,1,0,0,0,54,495,1,0,0,0,56,502,1,0,0,0,58,511,1,0,0,0,60,536,1,0,0,0,62,538,1,0,0,0,64,552,1,0,0,0,66,575,1,0,0,0,68,591,1,0,0,0,70,620,1,0,0,0,72,633,1,0,0,0,74,655,1,0,0,0,76,665,1,0,0,0,78,679,1,0,0,0,80,681,1,0,0,0,82,696,1,0,0,0,84,704,1,0,0,0,86,709,1,0,0,0,88,711,1,0,0,0,90,713,1,0,0,0,92,715,1,0,0,0,94,717,1,0,0,0,96,719,1,0,0,0,98,721,1,0,0,0,100,723,1,0,0,0,102,736,1,0,0,0,104,738,1,0,0,0,106,745,1,0,0,0,108,749,1,0,0,0,110,751,1,0,0,0,112,778,1,0,0,0,114,780,1,0,0,0,116,118,3,2,1,0,117,116,1,0,0,0,118,121,1,0,0,0,119,117,1,0,0,0,119,120,1,0,0,0,120,122,1,0,0,0,121,119,1,0,0,0,122,123,3,20,10,0,123,124,5,0,0,1,124,1,1,0,0,0,125,129,3,4,2,0,126,129,3,6,3,0,127,129,3,8,4,0,128,125,1,0,0,0,128,126,1,0,0,0,128,127,1,0,0,0,129,3,1,0,0,0,130,131,5,7,0,0,131,138,3,86,43,0,132,133,5,63,0,0,133,134,3,86,43,0,134,135,5,64,0,0,135,137,1,0,0,0,136,132,1,0,0,0,137,140,1,0,0,0,138,136,1,0,0,0,138,139,1,0,0,0,139,144,1,0,0,0,140,138,1,0,0,0,141,143,3,86,43,0,142,141,1,0,0,0,143,146,1,0,0,0,144,142,1,0,0,0,144,145,1,0,0,0,145,149,1,0,0,0,146,144,1,0,0,0,147,148,5,8,0,0,148,150,3,12,6,0,149,147,1,0,0,0,149,150,1,0,0,0,150,151,1,0,0,0,151,152,3,16,8,0,152,153,5,78,0,0,153,5,1,0,0,0,154,155,5,6,0,0,155,162,3,86,43,0,156,157,5,63,0,0,157,158,3,86,43,0,158,159,5,64,0,0,159,161,1,0,0,0,160,156,1,0,0,0,161,164,1,0,0,0,162,160,1,0,0,0,162,163,1,0,0,0,163,168,1,0,0,0,164,162,1,0,0,0,165,167,3,86,43,0,166,165,1,0,0,0,167,170,1,0,0,0,168,166,1,0,0,0,168,169,1,0,0,0,169,171,1,0,0,0,170,168,1,0,0,0,171,172,5,77,0,0,172,173,3,10,5,0,173,174,5,78,0,0,174,7,1,0,0,0,175,179,3,90,45,0,176,178,3,76,38,0,177,176,1,0,0,0,178,181,1,0,0,0,179,177,1,0,0,0,179,180,1,0,0,0,180,185,1,0,0,0,181,179,1,0,0,0,182,184,3,78,39,0,183,182,1,0,0,0,184,187,1,0,0,0,185,183,1,0,0,0,185,186,1,0,0,0,186,190,1,0,0,0,187,185,1,0,0,0,188,189,5,79,0,0,189,191,3,10,5,0,190,188,1,0,0,0,190,191,1,0,0,0,191,192,1,0,0,0,192,193,5,77,0,0,193,194,3,20,10,0,194,195,5,78,0,0,195,9,1,0,0,0,196,197,6,5,-1,0,197,199,5,9,0,0,198,200,3,76,38,0,199,198,1,0,0,0,200,201,1,0,0,0,201,199,1,0,0,0,201,202,1,0,0,0,202,203,1,0,0,0,203,204,5,80,0,0,204,205,3,10,5,5,205,230,1,0,0,0,206,207,5,10,0,0,207,208,3,86,43,0,208,209,5,80,0,0,209,210,3,10,5,4,210,230,1,0,0,0,211,212,5,17,0,0,212,213,5,63,0,0,213,216,3,10,5,0,214,215,5,49,0,0,215,217,3,10,5,0,216,214,1,0,0,0,216,217,1,0,0,0,217,218,1,0,0,0,218,219,5,64,0,0,219,230,1,0,0,0,220,221,5,19,0,0,221,230,3,12,6,0,222,226,3,12,6,0,223,225,3,12,6,0,224,223,1,0,0,0,225,228,1,0,0,0,226,224,1,0,0,0,226,227,1,0,0,0,227,230,1,0,0,0,228,226,1,0,0,0,229,196,1,0,0,0,229,206,1,0,0,0,229,211,1,0,0,0,229,220,1,0,0,0,229,222,1,0,0,0,230,242,1,0,0,0,231,232,10,8,0,0,232,233,5,51,0,0,233,241,3,10,5,9,234,235,10,7,0,0,235,236,5,44,0,0,236,241,3,10,5,8,237,238,10,6,0,0,238,239,5,48,0,0,239,241,3,10,5,6,240,231,1,0,0,0,240,234,1,0,0,0,240,237,1,0,0,0,241,244,1,0,0,0,242,240,1,0,0,0,242,243,1,0,0,0,243,11,1,0,0,0,244,242,1,0,0,0,245,252,3,14,7,0,246,247,5,63,0,0,247,248,3,84,42,0,248,249,5,64,0,0,249,251,1,0,0,0,250,246,1,0,0,0,251,254,1,0,0,0,252,250,1,0,0,0,252,253,1,0,0,0,253,13,1,0,0,0,254,252,1,0,0,0,255,273,5,11,0,0,256,273,5,12,0,0,257,273,5,13,0,0,258,273,5,14,0,0,259,273,5,43,0,0,260,273,5,15,0,0,261,273,5,16,0,0,262,273,3,88,44,0,263,273,3,16,8,0,264,265,5,84,0,0,265,266,3,10,5,0,266,267,5,85,0,0,267,273,1,0,0,0,268,269,5,88,0,0,269,270,3,10,5,0,270,271,5,89,0,0,271,273,1,0,0,0,272,255,1,0,0,0,272,256,1,0,0,0,272,257,1,0,0,0,272,258,1,0,0,0,272,259,1,0,0,0,272,260,1,0,0,0,272,261,1,0,0,0,272,262,1,0,0,0,272,263,1,0,0,0,272,264,1,0,0,0,272,268,1,0,0,0,273,15,1,0,0,0,274,280,5,86,0,0,275,276,3,18,9,0,276,277,5,78,0,0,277,279,1,0,0,0,278,275,1,0,0,0,279,282,1,0,0,0,280,278,1,0,0,0,280,281,1,0,0,0,281,284,1,0,0,0,282,280,1,0,0,0,283,285,3,18,9,0,284,283,1,0,0,0,284,285,1,0,0,0,285,286,1,0,0,0,286,287,5,87,0,0,287,17,1,0,0,0,288,290,3,96,48,0,289,291,5,83,0,0,290,289,1,0,0,0,290,291,1,0,0,0,291,292,1,0,0,0,292,293,5,79,0,0,293,294,3,10,5,0,294,19,1,0,0,0,295,298,3,22,11,0,296,297,5,79,0,0,297,299,3,10,5,0,298,296,1,0,0,0,298,299,1,0,0,0,299,21,1,0,0,0,300,301,6,11,-1,0,301,305,3,24,12,0,302,303,7,0,0,0,303,305,3,22,11,12,304,300,1,0,0,0,304,302,1,0,0,0,305,341,1,0,0,0,306,307,10,11,0,0,307,308,5,70,0,0,308,340,3,22,11,12,309,310,10,10,0,0,310,311,7,1,0,0,311,340,3,22,11,11,312,313,10,9,0,0,313,314,7,2,0,0,314,340,3,22,11,10,315,316,10,8,0,0,316,317,5,71,0,0,317,340,3,22,11,9,318,319,10,7,0,0,319,320,7,3,0,0,320,340,3,22,11,8,321,322,10,6,0,0,322,323,5,61,0,0,323,340,3,22,11,6,324,325,10,5,0,0,325,326,5,62,0,0,326,340,3,22,11,5,327,328,10,4,0,0,328,329,5,72,0,0,329,340,3,22,11,5,330,331,10,3,0,0,331,332,7,4,0,0,332,340,3,22,11,4,333,334,10,2,0,0,334,335,5,59,0,0,335,340,3,22,11,3,336,337,10,1,0,0,337,338,5,60,0,0,338,340,3,22,11,2,339,306,1,0,0,0,339,309,1,0,0,0,339,312,1,0,0,0,339,315,1,0,0,0,339,318,1,0,0,0,339,321,1,0,0,0,339,324,1,0,0,0,339,327,1,0,0,0,339,330,1,0,0,0,339,333,1,0,0,0,339,336,1,0,0,0,340,343,1,0,0,0,341,339,1,0,0,0,341,342,1,0,0,0,342,23,1,0,0,0,343,341,1,0,0,0,344,359,3,52,26,0,345,359,3,26,13,0,346,359,3,28,14,0,347,359,3,30,15,0,348,359,3,32,16,0,349,359,3,34,17,0,350,359,3,36,18,0,351,359,3,38,19,0,352,359,3,40,20,0,353,359,3,42,21,0,354,359,3,44,22,0,355,359,3,46,23,0,356,359,3,48,24,0,357,359,3,50,25,0,358,344,1,0,0,0,358,345,1,0,0,0,358,346,1,0,0,0,358,347,1,0,0,0,358,348,1,0,0,0,358,349,1,0,0,0,358,350,1,0,0,0,358,351,1,0,0,0,358,352,1,0,0,0,358,353,1,0,0,0,358,354,1,0,0,0,358,355,1,0,0,0,358,356,1,0,0,0,358,357,1,0,0,0,359,25,1,0,0,0,360,362,5,44,0,0,361,363,3,78,39,0,362,361,1,0,0,0,363,364,1,0,0,0,364,362,1,0,0,0,364,365,1,0,0,0,365,366,1,0,0,0,366,367,5,48,0,0,367,368,3,20,10,0,368,27,1,0,0,0,369,371,5,45,0,0,370,372,3,76,38,0,371,370,1,0,0,0,372,373,1,0,0,0,373,371,1,0,0,0,373,374,1,0,0,0,374,375,1,0,0,0,375,376,5,80,0,0,376,377,3,20,10,0,377,29,1,0,0,0,378,379,5,28,0,0,379,383,3,90,45,0,380,382,3,76,38,0,381,380,1,0,0,0,382,385,1,0,0,0,383,381,1,0,0,0,383,384,1,0,0,0,384,389,1,0,0,0,385,383,1,0,0,0,386,388,3,78,39,0,387,386,1,0,0,0,388,391,1,0,0,0,389,387,1,0,0,0,389,390,1,0,0,0,390,392,1,0,0,0,391,389,1,0,0,0,392,393,5,77,0,0,393,394,3,20,10,0,394,395,5,31,0,0,395,396,3,20,10,0,396,31,1,0,0,0,397,398,5,29,0,0,398,402,3,90,45,0,399,401,3,76,38,0,400,399,1,0,0,0,401,404,1,0,0,0,402,400,1,0,0,0,402,403,1,0,0,0,403,408,1,0,0,0,404,402,1,0,0,0,405,407,3,78,39,0,406,405,1,0,0,0,407,410,1,0,0,0,408,406,1,0,0,0,408,409,1,0,0,0,409,411,1,0,0,0,410,408,1,0,0,0,411,412,5,79,0,0,412,413,3,10,5,0,413,414,5,77,0,0,414,415,3,20,10,0,415,416,5,31,0,0,416,417,3,20,10,0,417,33,1,0,0,0,418,419,5,30,0,0,419,420,3,20,10,0,420,421,5,31,0,0,421,422,3,20,10,0,422,35,1,0,0,0,423,424,5,25,0,0,424,425,3,20,10,0,425,426,5,26,0,0,426,427,3,20,10,0,427,428,5,27,0,0,428,429,3,20,10,0,429,37,1,0,0,0,430,432,5,18,0,0,431,433,3,82,41,0,432,431,1,0,0,0,432,433,1,0,0,0,433,436,1,0,0,0,434,435,5,21,0,0,435,437,3,10,5,0,436,434,1,0,0,0,436,437,1,0,0,0,437,440,1,0,0,0,438,439,5,22,0,0,439,441,3,22,11,0,440,438,1,0,0,0,440,441,1,0,0,0,441,442,1,0,0,0,442,443,5,49,0,0,443,459,3,22,11,0,444,446,5,18,0,0,445,447,3,82,41,0,446,445,1,0,0,0,446,447,1,0,0,0,447,450,1,0,0,0,448,449,5,22,0,0,449,451,3,22,11,0,450,448,1,0,0,0,450,451,1,0,0,0,451,454,1,0,0,0,452,453,5,21,0,0,453,455,3,10,5,0,454,452,1,0,0,0,454,455,1,0,0,0,455,456,1,0,0,0,456,457,5,49,0,0,457,459,3,22,11,0,458,430,1,0,0,0,458,444,1,0,0,0,459,39,1,0,0,0,460,461,5,23,0,0,461,462,3,22,11,0,462,41,1,0,0,0,463,464,5,24,0,0,464,465,3,90,45,0,465,466,5,79,0,0,466,467,3,10,5,0,467,468,5,80,0,0,468,469,3,22,11,0,469,43,1,0,0,0,470,471,5,33,0,0,471,472,3,58,29,0,472,45,1,0,0,0,473,474,5,34,0,0,474,475,3,74,37,0,475,476,3,58,29,0,476,47,1,0,0,0,477,478,5,35,0,0,478,479,3,74,37,0,479,480,3,58,29,0,480,49,1,0,0,0,481,482,5,20,0,0,482,483,3,58,29,0,483,51,1,0,0,0,484,487,3,92,46,0,485,487,3,54,27,0,486,484,1,0,0,0,486,485,1,0,0,0,487,492,1,0,0,0,488,491,3,54,27,0,489,491,3,74,37,0,490,488,1,0,0,0,490,489,1,0,0,0,491,494,1,0,0,0,492,490,1,0,0,0,492,493,1,0,0,0,493,53,1,0,0,0,494,492,1,0,0,0,495,500,3,56,28,0,496,497,5,47,0,0,497,501,3,12,6,0,498,499,5,44,0,0,499,501,3,98,49,0,500,496,1,0,0,0,500,498,1,0,0,0,500,501,1,0,0,0,501,55,1,0,0,0,502,509,3,58,29,0,503,504,5,84,0,0,504,505,3,98,49,0,505,506,5,50,0,0,506,507,3,96,48,0,507,508,5,85,0,0,508,510,1,0,0,0,509,503,1,0,0,0,509,510,1,0,0,0,510,57,1,0,0,0,511,516,3,60,30,0,512,513,5,80,0,0,513,515,3,98,49,0,514,512,1,0,0,0,515,518,1,0,0,0,516,514,1,0,0,0,516,517,1,0,0,0,517,59,1,0,0,0,518,516,1,0,0,0,519,537,3,94,47,0,520,537,5,4,0,0,521,537,5,5,0,0,522,537,3,100,50,0,523,537,5,43,0,0,524,537,5,37,0,0,525,537,5,38,0,0,526,537,5,39,0,0,527,537,3,62,31,0,528,537,3,64,32,0,529,537,3,72,36,0,530,531,5,82,0,0,531,537,3,92,46,0,532,533,5,88,0,0,533,534,3,20,10,0,534,535,5,89,0,0,535,537,1,0,0,0,536,519,1,0,0,0,536,520,1,0,0,0,536,521,1,0,0,0,536,522,1,0,0,0,536,523,1,0,0,0,536,524,1,0,0,0,536,525,1,0,0,0,536,526,1,0,0,0,536,527,1,0,0,0,536,528,1,0,0,0,536,529,1,0,0,0,536,530,1,0,0,0,536,532,1,0,0,0,537,61,1,0,0,0,538,544,5,84,0,0,539,540,3,20,10,0,540,541,5,78,0,0,541,543,1,0,0,0,542,539,1,0,0,0,543,546,1,0,0,0,544,542,1,0,0,0,544,545,1,0,0,0,545,548,1,0,0,0,546,544,1,0,0,0,547,549,3,20,10,0,548,547,1,0,0,0,548,549,1,0,0,0,549,550,1,0,0,0,550,551,5,85,0,0,551,63,1,0,0,0,552,562,5,86,0,0,553,557,3,66,33,0,554,557,3,68,34,0,555,557,3,70,35,0,556,553,1,0,0,0,556,554,1,0,0,0,556,555,1,0,0,0,557,558,1,0,0,0,558,559,5,78,0,0,559,561,1,0,0,0,560,556,1,0,0,0,561,564,1,0,0,0,562,560,1,0,0,0,562,563,1,0,0,0,563,570,1,0,0,0,564,562,1,0,0,0,565,569,3,66,33,0,566,569,3,68,34,0,567,569,3,70,35,0,568,565,1,0,0,0,568,566,1,0,0,0,568,567,1,0,0,0,569,571,1,0,0,0,570,568,1,0,0,0,570,571,1,0,0,0,571,572,1,0,0,0,572,573,5,87,0,0,573,65,1,0,0,0,574,576,5,36,0,0,575,574,1,0,0,0,575,576,1,0,0,0,576,578,1,0,0,0,577,579,3,82,41,0,578,577,1,0,0,0,578,579,1,0,0,0,579,580,1,0,0,0,580,584,3,96,48,0,581,583,3,78,39,0,582,581,1,0,0,0,583,586,1,0,0,0,584,582,1,0,0,0,584,585,1,0,0,0,585,587,1,0,0,0,586,584,1,0,0,0,587,588,5,77,0,0,588,589,3,20,10,0,589,67,1,0,0,0,590,592,5,36,0,0,591,590,1,0,0,0,591,592,1,0,0,0,592,596,1,0,0,0,593,594,3,82,41,0,594,595,5,73,0,0,595,597,1,0,0,0,596,593,1,0,0,0,596,597,1,0,0,0,597,598,1,0,0,0,598,599,5,88,0,0,599,603,3,96,48,0,600,602,3,78,39,0,601,600,1,0,0,0,602,605,1,0,0,0,603,601,1,0,0,0,603,604,1,0,0,0,604,606,1,0,0,0,605,603,1,0,0,0,606,607,5,89,0,0,607,608,5,80,0,0,608,612,3,96,48,0,609,611,3,78,39,0,610,609,1,0,0,0,611,614,1,0,0,0,612,610,1,0,0,0,612,613,1,0,0,0,613,615,1,0,0,0,614,612,1,0,0,0,615,616,5,77,0,0,616,617,3,20,10,0,617,69,1,0,0,0,618,621,5,40,0,0,619,621,3,82,41,0,620,618,1,0,0,0,620,619,1,0,0,0,621,622,1,0,0,0,622,623,5,80,0,0,623,627,3,96,48,0,624,626,3,78,39,0,625,624,1,0,0,0,626,629,1,0,0,0,627,625,1,0,0,0,627,628,1,0,0,0,628,630,1,0,0,0,629,627,1,0,0,0,630,631,5,77,0,0,631,632,3,20,10,0,632,71,1,0,0,0,633,634,5,86,0,0,634,635,3,20,10,0,635,644,5,32,0,0,636,637,3,96,48,0,637,638,5,77,0,0,638,639,3,20,10,0,639,640,1,0,0,0,640,641,5,78,0,0,641,643,1,0,0,0,642,636,1,0,0,0,643,646,1,0,0,0,644,642,1,0,0,0,644,645,1,0,0,0,645,651,1,0,0,0,646,644,1,0,0,0,647,648,3,96,48,0,648,649,5,77,0,0,649,650,3,20,10,0,650,652,1,0,0,0,651,647,1,0,0,0,651,652,1,0,0,0,652,653,1,0,0,0,653,654,5,87,0,0,654,73,1,0,0,0,655,656,5,73,0,0,656,657,3,12,6,0,657,75,1,0,0,0,658,666,3,86,43,0,659,660,5,88,0,0,660,661,3,86,43,0,661,662,5,54,0,0,662,663,3,10,5,0,663,664,5,89,0,0,664,666,1,0,0,0,665,658,1,0,0,0,665,659,1,0,0,0,666,77,1,0,0,0,667,680,3,90,45,0,668,680,5,40,0,0,669,672,5,88,0,0,670,673,3,90,45,0,671,673,5,40,0,0,672,670,1,0,0,0,672,671,1,0,0,0,673,674,1,0,0,0,674,675,5,79,0,0,675,676,3,10,5,0,676,677,5,89,0,0,677,680,1,0,0,0,678,680,3,80,40,0,679,667,1,0,0,0,679,668,1,0,0,0,679,669,1,0,0,0,679,678,1,0,0,0,680,79,1,0,0,0,681,690,5,86,0,0,682,683,3,96,48,0,683,684,5,77,0,0,684,685,3,20,10,0,685,686,1,0,0,0,686,687,5,78,0,0,687,689,1,0,0,0,688,682,1,0,0,0,689,692,1,0,0,0,690,688,1,0,0,0,690,691,1,0,0,0,691,693,1,0,0,0,692,690,1,0,0,0,693,694,5,81,0,0,694,695,5,87,0,0,695,81,1,0,0,0,696,697,5,84,0,0,697,700,3,90,45,0,698,699,5,79,0,0,699,701,3,10,5,0,700,698,1,0,0,0,700,701,1,0,0,0,701,702,1,0,0,0,702,703,5,85,0,0,703,83,1,0,0,0,704,707,3,10,5,0,705,706,5,49,0,0,706,708,3,10,5,0,707,705,1,0,0,0,707,708,1,0,0,0,708,85,1,0,0,0,709,710,5,42,0,0,710,87,1,0,0,0,711,712,5,42,0,0,712,89,1,0,0,0,713,714,5,41,0,0,714,91,1,0,0,0,715,716,5,42,0,0,716,93,1,0,0,0,717,718,7,5,0,0,718,95,1,0,0,0,719,720,7,5,0,0,720,97,1,0,0,0,721,722,7,5,0,0,722,99,1,0,0,0,723,727,5,90,0,0,724,726,3,102,51,0,725,724,1,0,0,0,726,729,1,0,0,0,727,725,1,0,0,0,727,728,1,0,0,0,728,730,1,0,0,0,729,727,1,0,0,0,730,731,7,6,0,0,731,101,1,0,0,0,732,737,3,104,52,0,733,737,3,106,53,0,734,737,3,108,54,0,735,737,3,110,55,0,736,732,1,0,0,0,736,733,1,0,0,0,736,734,1,0,0,0,736,735,1,0,0,0,737,103,1,0,0,0,738,742,7,7,0,0,739,741,3,112,56,0,740,739,1,0,0,0,741,744,1,0,0,0,742,740,1,0,0,0,742,743,1,0,0,0,743,105,1,0,0,0,744,742,1,0,0,0,745,746,7,8,0,0,746,747,3,20,10,0,747,748,5,89,0,0,748,107,1,0,0,0,749,750,7,9,0,0,750,109,1,0,0,0,751,752,7,10,0,0,752,111,1,0,0,0,753,757,5,97,0,0,754,756,3,102,51,0,755,754,1,0,0,0,756,759,1,0,0,0,757,755,1,0,0,0,757,758,1,0,0,0,758,760,1,0,0,0,759,757,1,0,0,0,760,779,7,11,0,0,761,762,5,98,0,0,762,763,3,20,10,0,763,764,5,89,0,0,764,779,1,0,0,0,765,771,5,99,0,0,766,767,3,114,57,0,767,768,5,78,0,0,768,770,1,0,0,0,769,766,1,0,0,0,770,773,1,0,0,0,771,769,1,0,0,0,771,772,1,0,0,0,772,775,1,0,0,0,773,771,1,0,0,0,774,776,3,114,57,0,775,774,1,0,0,0,775,776,1,0,0,0,776,777,1,0,0,0,777,779,5,87,0,0,778,753,1,0,0,0,778,761,1,0,0,0,778,765,1,0,0,0,779,113,1,0,0,0,780,784,3,96,48,0,781,783,3,78,39,0,782,781,1,0,0,0,783,786,1,0,0,0,784,782,1,0,0,0,784,785,1,0,0,0,785,787,1,0,0,0,786,784,1,0,0,0,787,788,5,77,0,0,788,789,3,20,10,0,789,115,1,0,0,0,77,119,128,138,144,149,162,168,179,185,190,201,216,226,229,240,242,252,272,280,284,290,298,304,339,341,358,364,373,383,389,402,408,432,436,440,446,450,454,458,486,490,492,500,509,516,536,544,548,556,562,568,570,575,578,584,591,596,603,612,620,627,644,651,665,672,679,690,700,707,727,736,742,757,771,775,778,784]),x$=O$.decisionToState.map(((t,e)=>new g$.dfa.DFA(t,e))),y$=new g$.atn.PredictionContextCache;class b$ extends g$.Parser{static grammarFileName="CPParser.g4";static literalNames=[null,null,null,null,null,null,"'type'","'interface'","'extends'","'forall'","'mu'","'Int'","'Double'","'Bool'","'String'","'Top'","'Bot'","'Trait'","'trait'","'Ref'","'ref'","'implements'","'inherits'","'new'","'fix'","'if'","'then'","'else'","'let'","'letrec'","'open'","'in'","'with'","'toString'","'fold'","'unfold'","'override'","'true'","'false'","'undefined'","'_'",null,null,"'()'","'\\'","'/\\'","'\\-'",null,"'->'","'=>'","'<-'","'&'","'+'","'-'","'*'","'/'","'%'","'\\u221A'","'!'","':='","'>>'","'&&'","'||'","'<'","'>'","'<='","'>='","'=='","'!='","'#'","'!!'","'++'","'^'","'@'",null,"'+,'","',+'","'='","';'","':'","'.'","'..'","'$'","'?'",null,null,null,"'}'",null,"')'"];static symbolicNames=[null,"Whitespaces","LineComment","BlockComment","IntLit","StringLit","Type","Interface","Extends","ForAll","Mu","Int","Double","Bool","String","Top","Bot","TraitType","Trait","RefType","Ref","Implements","Inherits","New","Fix","If","Then","Else","Let","LetRec","Open","In","With","ToString","Fold","Unfold","Override","True_","False_","Undefined_","Underscore","LowerId","UpperId","Unit","Backslash","SlashBackslash","BackslashMinus","DoubleBackslashes","Arrow","FatArrow","LeftArrow","Intersect","Plus","Minus","Asterisk","Slash","Modulo","Sqrt","Deref","Walrus","Seq","And","Or","Less","Greater","LessEqual","GreaterEqual","Equal","NotEqual","Length","Index","Append","Forward","At","Merge","LeftistMerge","RightistMerge","Assign","Semicolon","Colon","Dot","DotDot","Dollar","Question","BracketOpen","BracketClose","BraceOpen","BraceClose","ParenOpen","ParenClose","BacktickOpen","Command","Interpolation","NewLine","PlainText","BracketCloseInDoc","BacktickClose","BracketOpenAsArg","ParenOpenAsArg","BraceOpenAsArg","CommandAfterCmd","InterpolationAfterCmd","NewLineAfterCmd","PlainTextAfterCmd","BracketCloseAfterCmd","BacktickCloseAfterCmd"];static ruleNames=["program","definition","interfaceDef","typeDef","termDef","type","btype","atype","recordType","recordTypeField","expression","opexpr","lexpr","lambda","bigLambda","letIn","letRec","openIn","ifElse","trait","newTrait","fixpoint","toStr","fold","unfold","ref","fexpr","excludexpr","renamexpr","dotexpr","aexpr","array","record","recordField","methodPattern","defaultPattern","recordUpdate","typeArg","typeParam","termParam","wildcard","selfAnno","sort","typeNameDecl","typeName","termNameDecl","ctorName","termName","labelDecl","label","document","docElement","command","interpolation","newline","plaintext","docArg","recordArgField"];constructor(t){super(t),this._interp=new g$.atn.ParserATNSimulator(this,O$,x$,y$),this.ruleNames=b$.ruleNames,this.literalNames=b$.literalNames,this.symbolicNames=b$.symbolicNames}sempred(t,e,n){switch(e){case 5:return this.type_sempred(t,n);case 11:return this.opexpr_sempred(t,n);default:throw"No predicate with index:"+e}}type_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,8);case 1:return this.precpred(this._ctx,7);case 2:return this.precpred(this._ctx,6);default:throw"No predicate with index:"+e}}opexpr_sempred(t,e){switch(e){case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,10);case 5:return this.precpred(this._ctx,9);case 6:return this.precpred(this._ctx,8);case 7:return this.precpred(this._ctx,7);case 8:return this.precpred(this._ctx,6);case 9:return this.precpred(this._ctx,5);case 10:return this.precpred(this._ctx,4);case 11:return this.precpred(this._ctx,3);case 12:return this.precpred(this._ctx,2);case 13:return this.precpred(this._ctx,1);default:throw"No predicate with index:"+e}}program(){let t=new k$(this,this._ctx,this.state);this.enterRule(t,0,b$.RULE_program);try{this.enterOuterAlt(t,1),this.state=119,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,0,this._ctx);2!=e&&e!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=116,this.definition()),this.state=121,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,0,this._ctx);this.state=122,this.expression(),this.state=123,this.match(b$.EOF)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}definition(){let t=new C$(this,this._ctx,this.state);this.enterRule(t,2,b$.RULE_definition);try{switch(this.state=128,this._errHandler.sync(this),this._input.LA(1)){case 7:this.enterOuterAlt(t,1),this.state=125,this.interfaceDef();break;case 6:this.enterOuterAlt(t,2),this.state=126,this.typeDef();break;case 41:this.enterOuterAlt(t,3),this.state=127,this.termDef();break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interfaceDef(){let t=new T$(this,this._ctx,this.state);this.enterRule(t,4,b$.RULE_interfaceDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=130,this.match(b$.Interface),this.state=131,this.typeNameDecl(),this.state=138,this._errHandler.sync(this),e=this._input.LA(1);63===e;)this.state=132,this.match(b$.Less),this.state=133,this.typeNameDecl(),this.state=134,this.match(b$.Greater),this.state=140,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=144,this._errHandler.sync(this),e=this._input.LA(1);42===e;)this.state=141,this.typeNameDecl(),this.state=146,this._errHandler.sync(this),e=this._input.LA(1);this.state=149,this._errHandler.sync(this),8===(e=this._input.LA(1))&&(this.state=147,this.match(b$.Extends),this.state=148,this.btype()),this.state=151,this.recordType(),this.state=152,this.match(b$.Semicolon)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeDef(){let t=new S$(this,this._ctx,this.state);this.enterRule(t,6,b$.RULE_typeDef);var e=0;try{for(this.enterOuterAlt(t,1),this.state=154,this.match(b$.Type),this.state=155,this.typeNameDecl(),this.state=162,this._errHandler.sync(this),e=this._input.LA(1);63===e;)this.state=156,this.match(b$.Less),this.state=157,this.typeNameDecl(),this.state=158,this.match(b$.Greater),this.state=164,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=168,this._errHandler.sync(this),e=this._input.LA(1);42===e;)this.state=165,this.typeNameDecl(),this.state=170,this._errHandler.sync(this),e=this._input.LA(1);this.state=171,this.match(b$.Assign),this.state=172,this.type(0),this.state=173,this.match(b$.Semicolon)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termDef(){let t=new A$(this,this._ctx,this.state);this.enterRule(t,8,b$.RULE_termDef);var e=0;try{this.enterOuterAlt(t,1),this.state=175,this.termNameDecl(),this.state=179,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,7,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=176,this.typeParam()),this.state=181,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,7,this._ctx);for(this.state=185,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=182,this.termParam(),this.state=187,this._errHandler.sync(this),e=this._input.LA(1);this.state=190,this._errHandler.sync(this),79===(e=this._input.LA(1))&&(this.state=188,this.match(b$.Colon),this.state=189,this.type(0)),this.state=192,this.match(b$.Assign),this.state=193,this.expression(),this.state=194,this.match(b$.Semicolon)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}type(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new P$(this,this._ctx,n),i=r;this.enterRecursionRule(r,10,b$.RULE_type,t);var s=0;try{switch(this.enterOuterAlt(r,1),this.state=229,this._errHandler.sync(this),this._input.LA(1)){case 9:this.state=197,this.match(b$.ForAll),this.state=199,this._errHandler.sync(this),s=this._input.LA(1);do{this.state=198,this.typeParam(),this.state=201,this._errHandler.sync(this),s=this._input.LA(1)}while(42===s||88===s);this.state=203,this.match(b$.Dot),this.state=204,this.type(5);break;case 10:this.state=206,this.match(b$.Mu),this.state=207,this.typeNameDecl(),this.state=208,this.match(b$.Dot),this.state=209,this.type(4);break;case 17:this.state=211,this.match(b$.TraitType),this.state=212,this.match(b$.Less),this.state=213,this.type(0),this.state=216,this._errHandler.sync(this),49===(s=this._input.LA(1))&&(this.state=214,this.match(b$.FatArrow),this.state=215,this.type(0)),this.state=218,this.match(b$.Greater);break;case 19:this.state=220,this.match(b$.RefType),this.state=221,this.btype();break;case 11:case 12:case 13:case 14:case 15:case 16:case 42:case 43:case 84:case 86:case 88:this.state=222,this.btype(),this.state=226,this._errHandler.sync(this);for(var o=this._interp.adaptivePredict(this._input,12,this._ctx);2!=o&&o!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=223,this.btype()),this.state=228,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,12,this._ctx);break;default:throw new g$.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=242,this._errHandler.sync(this);for(o=this._interp.adaptivePredict(this._input,15,this._ctx);2!=o&&o!=g$.atn.ATN.INVALID_ALT_NUMBER;){if(1===o)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=240,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:if(r=new P$(this,e,n),this.pushNewRecursionContext(r,10,b$.RULE_type),this.state=231,!this.precpred(this._ctx,8))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=232,this.match(b$.Intersect),this.state=233,this.type(9);break;case 2:if(r=new P$(this,e,n),this.pushNewRecursionContext(r,10,b$.RULE_type),this.state=234,!this.precpred(this._ctx,7))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=235,this.match(b$.Backslash),this.state=236,this.type(8);break;case 3:if(r=new P$(this,e,n),this.pushNewRecursionContext(r,10,b$.RULE_type),this.state=237,!this.precpred(this._ctx,6))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=238,this.match(b$.Arrow),this.state=239,this.type(6)}this.state=244,this._errHandler.sync(this),o=this._interp.adaptivePredict(this._input,15,this._ctx)}}catch(t){if(!(t instanceof g$.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}btype(){let t=new _$(this,this._ctx,this.state);this.enterRule(t,12,b$.RULE_btype);try{this.enterOuterAlt(t,1),this.state=245,this.atype(),this.state=252,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,16,this._ctx);2!=e&&e!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=246,this.match(b$.Less),this.state=247,this.sort(),this.state=248,this.match(b$.Greater)),this.state=254,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,16,this._ctx)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}atype(){let t=new E$(this,this._ctx,this.state);this.enterRule(t,14,b$.RULE_atype);try{switch(this.state=272,this._errHandler.sync(this),this._input.LA(1)){case 11:this.enterOuterAlt(t,1),this.state=255,this.match(b$.Int);break;case 12:this.enterOuterAlt(t,2),this.state=256,this.match(b$.Double);break;case 13:this.enterOuterAlt(t,3),this.state=257,this.match(b$.Bool);break;case 14:this.enterOuterAlt(t,4),this.state=258,this.match(b$.String);break;case 43:this.enterOuterAlt(t,5),this.state=259,this.match(b$.Unit);break;case 15:this.enterOuterAlt(t,6),this.state=260,this.match(b$.Top);break;case 16:this.enterOuterAlt(t,7),this.state=261,this.match(b$.Bot);break;case 42:this.enterOuterAlt(t,8),this.state=262,this.typeName();break;case 86:this.enterOuterAlt(t,9),this.state=263,this.recordType();break;case 84:this.enterOuterAlt(t,10),this.state=264,this.match(b$.BracketOpen),this.state=265,this.type(0),this.state=266,this.match(b$.BracketClose);break;case 88:this.enterOuterAlt(t,11),this.state=268,this.match(b$.ParenOpen),this.state=269,this.type(0),this.state=270,this.match(b$.ParenClose);break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordType(){let t=new L$(this,this._ctx,this.state);this.enterRule(t,16,b$.RULE_recordType);var e=0;try{this.enterOuterAlt(t,1),this.state=274,this.match(b$.BraceOpen),this.state=280,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,18,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=275,this.recordTypeField(),this.state=276,this.match(b$.Semicolon)),this.state=282,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,18,this._ctx);this.state=284,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=283,this.recordTypeField()),this.state=286,this.match(b$.BraceClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordTypeField(){let t=new D$(this,this._ctx,this.state);this.enterRule(t,18,b$.RULE_recordTypeField);try{this.enterOuterAlt(t,1),this.state=288,this.labelDecl(),this.state=290,this._errHandler.sync(this),83===this._input.LA(1)&&(this.state=289,this.match(b$.Question)),this.state=292,this.match(b$.Colon),this.state=293,this.type(0)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}expression(){let t=new Q$(this,this._ctx,this.state);this.enterRule(t,20,b$.RULE_expression);try{this.enterOuterAlt(t,1),this.state=295,this.opexpr(0),this.state=298,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,21,this._ctx)&&(this.state=296,this.match(b$.Colon),this.state=297,this.type(0))}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}opexpr(t){void 0===t&&(t=0);const e=this._ctx,n=this.state;let r=new I$(this,this._ctx,n),i=r;const s=22;this.enterRecursionRule(r,22,b$.RULE_opexpr,t);var o=0;try{switch(this.enterOuterAlt(r,1),this.state=304,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 18:case 20:case 23:case 24:case 25:case 28:case 29:case 30:case 33:case 34:case 35:case 37:case 38:case 39:case 41:case 42:case 43:case 44:case 45:case 82:case 84:case 86:case 88:case 90:this.state=301,this.lexpr();break;case 53:case 57:case 58:case 69:this.state=302,(o=this._input.LA(1))-53&-32||!(1<<o-53&65585)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=303,this.opexpr(12);break;default:throw new g$.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=341,this._errHandler.sync(this);for(var l=this._interp.adaptivePredict(this._input,24,this._ctx);2!=l&&l!=g$.atn.ATN.INVALID_ALT_NUMBER;){if(1===l)switch(null!==this._parseListeners&&this.triggerExitRuleEvent(),i=r,this.state=339,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,23,this._ctx)){case 1:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=306,!this.precpred(this._ctx,11))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 11)");this.state=307,this.match(b$.Index),this.state=308,this.opexpr(12);break;case 2:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=309,!this.precpred(this._ctx,10))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 10)");this.state=310,(o=this._input.LA(1))-54&-32||!(1<<o-54&7)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=311,this.opexpr(11);break;case 3:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=312,!this.precpred(this._ctx,9))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 9)");this.state=313,52!==(o=this._input.LA(1))&&53!==o?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=314,this.opexpr(10);break;case 4:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=315,!this.precpred(this._ctx,8))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=316,this.match(b$.Append),this.state=317,this.opexpr(9);break;case 5:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=318,!this.precpred(this._ctx,7))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=319,(o=this._input.LA(1))-63&-32||!(1<<o-63&63)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=320,this.opexpr(8);break;case 6:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=321,!this.precpred(this._ctx,6))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=322,this.match(b$.And),this.state=323,this.opexpr(6);break;case 7:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=324,!this.precpred(this._ctx,5))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=325,this.match(b$.Or),this.state=326,this.opexpr(5);break;case 8:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=327,!this.precpred(this._ctx,4))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=328,this.match(b$.Forward),this.state=329,this.opexpr(5);break;case 9:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=330,!this.precpred(this._ctx,3))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)");this.state=331,(o=this._input.LA(1))-46&-32||!(1<<o-46&1879048193)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=332,this.opexpr(4);break;case 10:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=333,!this.precpred(this._ctx,2))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=334,this.match(b$.Walrus),this.state=335,this.opexpr(3);break;case 11:if(r=new I$(this,e,n),this.pushNewRecursionContext(r,s,b$.RULE_opexpr),this.state=336,!this.precpred(this._ctx,1))throw new g$.error.FailedPredicateException(this,"this.precpred(this._ctx, 1)");this.state=337,this.match(b$.Seq),this.state=338,this.opexpr(2)}this.state=343,this._errHandler.sync(this),l=this._interp.adaptivePredict(this._input,24,this._ctx)}}catch(t){if(!(t instanceof g$.error.RecognitionException))throw t;r.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(e)}return r}lexpr(){let t=new M$(this,this._ctx,this.state);this.enterRule(t,24,b$.RULE_lexpr);try{switch(this.state=358,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 37:case 38:case 39:case 41:case 42:case 43:case 82:case 84:case 86:case 88:case 90:this.enterOuterAlt(t,1),this.state=344,this.fexpr();break;case 44:this.enterOuterAlt(t,2),this.state=345,this.lambda();break;case 45:this.enterOuterAlt(t,3),this.state=346,this.bigLambda();break;case 28:this.enterOuterAlt(t,4),this.state=347,this.letIn();break;case 29:this.enterOuterAlt(t,5),this.state=348,this.letRec();break;case 30:this.enterOuterAlt(t,6),this.state=349,this.openIn();break;case 25:this.enterOuterAlt(t,7),this.state=350,this.ifElse();break;case 18:this.enterOuterAlt(t,8),this.state=351,this.trait();break;case 23:this.enterOuterAlt(t,9),this.state=352,this.newTrait();break;case 24:this.enterOuterAlt(t,10),this.state=353,this.fixpoint();break;case 33:this.enterOuterAlt(t,11),this.state=354,this.toStr();break;case 34:this.enterOuterAlt(t,12),this.state=355,this.fold();break;case 35:this.enterOuterAlt(t,13),this.state=356,this.unfold();break;case 20:this.enterOuterAlt(t,14),this.state=357,this.ref();break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}lambda(){let t=new N$(this,this._ctx,this.state);this.enterRule(t,26,b$.RULE_lambda);var e=0;try{this.enterOuterAlt(t,1),this.state=360,this.match(b$.Backslash),this.state=362,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=361,this.termParam(),this.state=364,this._errHandler.sync(this),e=this._input.LA(1)}while(40===e||41===e||86===e||88===e);this.state=366,this.match(b$.Arrow),this.state=367,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}bigLambda(){let t=new $$(this,this._ctx,this.state);this.enterRule(t,28,b$.RULE_bigLambda);var e=0;try{this.enterOuterAlt(t,1),this.state=369,this.match(b$.SlashBackslash),this.state=371,this._errHandler.sync(this),e=this._input.LA(1);do{this.state=370,this.typeParam(),this.state=373,this._errHandler.sync(this),e=this._input.LA(1)}while(42===e||88===e);this.state=375,this.match(b$.Dot),this.state=376,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letIn(){let t=new F$(this,this._ctx,this.state);this.enterRule(t,30,b$.RULE_letIn);var e=0;try{this.enterOuterAlt(t,1),this.state=378,this.match(b$.Let),this.state=379,this.termNameDecl(),this.state=383,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,28,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=380,this.typeParam()),this.state=385,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,28,this._ctx);for(this.state=389,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=386,this.termParam(),this.state=391,this._errHandler.sync(this),e=this._input.LA(1);this.state=392,this.match(b$.Assign),this.state=393,this.expression(),this.state=394,this.match(b$.In),this.state=395,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}letRec(){let t=new B$(this,this._ctx,this.state);this.enterRule(t,32,b$.RULE_letRec);var e=0;try{this.enterOuterAlt(t,1),this.state=397,this.match(b$.LetRec),this.state=398,this.termNameDecl(),this.state=402,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,30,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=399,this.typeParam()),this.state=404,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,30,this._ctx);for(this.state=408,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=405,this.termParam(),this.state=410,this._errHandler.sync(this),e=this._input.LA(1);this.state=411,this.match(b$.Colon),this.state=412,this.type(0),this.state=413,this.match(b$.Assign),this.state=414,this.expression(),this.state=415,this.match(b$.In),this.state=416,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}openIn(){let t=new U$(this,this._ctx,this.state);this.enterRule(t,34,b$.RULE_openIn);try{this.enterOuterAlt(t,1),this.state=418,this.match(b$.Open),this.state=419,this.expression(),this.state=420,this.match(b$.In),this.state=421,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ifElse(){let t=new H$(this,this._ctx,this.state);this.enterRule(t,36,b$.RULE_ifElse);try{this.enterOuterAlt(t,1),this.state=423,this.match(b$.If),this.state=424,this.expression(),this.state=425,this.match(b$.Then),this.state=426,this.expression(),this.state=427,this.match(b$.Else),this.state=428,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}trait(){let t=new q$(this,this._ctx,this.state);this.enterRule(t,38,b$.RULE_trait);try{switch(this.state=458,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,38,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=430,this.match(b$.Trait),this.state=432,this._errHandler.sync(this),84===this._input.LA(1)&&(this.state=431,this.selfAnno()),this.state=436,this._errHandler.sync(this),21===this._input.LA(1)&&(this.state=434,this.match(b$.Implements),this.state=435,this.type(0)),this.state=440,this._errHandler.sync(this),22===this._input.LA(1)&&(this.state=438,this.match(b$.Inherits),this.state=439,this.opexpr(0)),this.state=442,this.match(b$.FatArrow),this.state=443,this.opexpr(0);break;case 2:this.enterOuterAlt(t,2),this.state=444,this.match(b$.Trait),this.state=446,this._errHandler.sync(this),84===this._input.LA(1)&&(this.state=445,this.selfAnno()),this.state=450,this._errHandler.sync(this),22===this._input.LA(1)&&(this.state=448,this.match(b$.Inherits),this.state=449,this.opexpr(0)),this.state=454,this._errHandler.sync(this),21===this._input.LA(1)&&(this.state=452,this.match(b$.Implements),this.state=453,this.type(0)),this.state=456,this.match(b$.FatArrow),this.state=457,this.opexpr(0)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newTrait(){let t=new V$(this,this._ctx,this.state);this.enterRule(t,40,b$.RULE_newTrait);try{this.enterOuterAlt(t,1),this.state=460,this.match(b$.New),this.state=461,this.opexpr(0)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fixpoint(){let t=new X$(this,this._ctx,this.state);this.enterRule(t,42,b$.RULE_fixpoint);try{this.enterOuterAlt(t,1),this.state=463,this.match(b$.Fix),this.state=464,this.termNameDecl(),this.state=465,this.match(b$.Colon),this.state=466,this.type(0),this.state=467,this.match(b$.Dot),this.state=468,this.opexpr(0)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}toStr(){let t=new z$(this,this._ctx,this.state);this.enterRule(t,44,b$.RULE_toStr);try{this.enterOuterAlt(t,1),this.state=470,this.match(b$.ToString),this.state=471,this.dotexpr()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fold(){let t=new W$(this,this._ctx,this.state);this.enterRule(t,46,b$.RULE_fold);try{this.enterOuterAlt(t,1),this.state=473,this.match(b$.Fold),this.state=474,this.typeArg(),this.state=475,this.dotexpr()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}unfold(){let t=new j$(this,this._ctx,this.state);this.enterRule(t,48,b$.RULE_unfold);try{this.enterOuterAlt(t,1),this.state=477,this.match(b$.Unfold),this.state=478,this.typeArg(),this.state=479,this.dotexpr()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ref(){let t=new G$(this,this._ctx,this.state);this.enterRule(t,50,b$.RULE_ref);try{this.enterOuterAlt(t,1),this.state=481,this.match(b$.Ref),this.state=482,this.dotexpr()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}fexpr(){let t=new Y$(this,this._ctx,this.state);this.enterRule(t,52,b$.RULE_fexpr);try{switch(this.enterOuterAlt(t,1),this.state=486,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,39,this._ctx)){case 1:this.state=484,this.ctorName();break;case 2:this.state=485,this.excludexpr()}this.state=492,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,41,this._ctx);2!=e&&e!=g$.atn.ATN.INVALID_ALT_NUMBER;){if(1===e)switch(this.state=490,this._errHandler.sync(this),this._input.LA(1)){case 4:case 5:case 37:case 38:case 39:case 41:case 42:case 43:case 82:case 84:case 86:case 88:case 90:this.state=488,this.excludexpr();break;case 73:this.state=489,this.typeArg();break;default:throw new g$.error.NoViableAltException(this)}this.state=494,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,41,this._ctx)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}excludexpr(){let t=new Z$(this,this._ctx,this.state);this.enterRule(t,54,b$.RULE_excludexpr);try{this.enterOuterAlt(t,1),this.state=495,this.renamexpr(),this.state=500,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,42,this._ctx);1===e?(this.state=496,this.match(b$.DoubleBackslashes),this.state=497,this.btype()):2===e&&(this.state=498,this.match(b$.Backslash),this.state=499,this.label())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}renamexpr(){let t=new K$(this,this._ctx,this.state);this.enterRule(t,56,b$.RULE_renamexpr);try{this.enterOuterAlt(t,1),this.state=502,this.dotexpr(),this.state=509,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,43,this._ctx)&&(this.state=503,this.match(b$.BracketOpen),this.state=504,this.label(),this.state=505,this.match(b$.LeftArrow),this.state=506,this.labelDecl(),this.state=507,this.match(b$.BracketClose))}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}dotexpr(){let t=new J$(this,this._ctx,this.state);this.enterRule(t,58,b$.RULE_dotexpr);try{this.enterOuterAlt(t,1),this.state=511,this.aexpr(),this.state=516,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,44,this._ctx);2!=e&&e!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===e&&(this.state=512,this.match(b$.Dot),this.state=513,this.label()),this.state=518,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,44,this._ctx)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}aexpr(){let t=new tF(this,this._ctx,this.state);this.enterRule(t,60,b$.RULE_aexpr);try{switch(this.state=536,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,45,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=519,this.termName();break;case 2:this.enterOuterAlt(t,2),this.state=520,this.match(b$.IntLit);break;case 3:this.enterOuterAlt(t,3),this.state=521,this.match(b$.StringLit);break;case 4:this.enterOuterAlt(t,4),this.state=522,this.document();break;case 5:this.enterOuterAlt(t,5),this.state=523,this.match(b$.Unit);break;case 6:this.enterOuterAlt(t,6),this.state=524,this.match(b$.True_);break;case 7:this.enterOuterAlt(t,7),this.state=525,this.match(b$.False_);break;case 8:this.enterOuterAlt(t,8),this.state=526,this.match(b$.Undefined_);break;case 9:this.enterOuterAlt(t,9),this.state=527,this.array();break;case 10:this.enterOuterAlt(t,10),this.state=528,this.record();break;case 11:this.enterOuterAlt(t,11),this.state=529,this.recordUpdate();break;case 12:this.enterOuterAlt(t,12),this.state=530,this.match(b$.Dollar),this.state=531,this.ctorName();break;case 13:this.enterOuterAlt(t,13),this.state=532,this.match(b$.ParenOpen),this.state=533,this.expression(),this.state=534,this.match(b$.ParenClose)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}array(){let t=new eF(this,this._ctx,this.state);this.enterRule(t,62,b$.RULE_array);var e=0;try{this.enterOuterAlt(t,1),this.state=538,this.match(b$.BracketOpen),this.state=544,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,46,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=539,this.expression(),this.state=540,this.match(b$.Semicolon)),this.state=546,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,46,this._ctx);this.state=548,this._errHandler.sync(this),(!(-32&(e=this._input.LA(1)))&&1<<e&1939079216||!(e-33&-32)&&1<<e-33&51388279||!(e-69&-32)&&1<<e-69&2793473)&&(this.state=547,this.expression()),this.state=550,this.match(b$.BracketClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}record(){let t=new nF(this,this._ctx,this.state);this.enterRule(t,64,b$.RULE_record);var e=0;try{this.enterOuterAlt(t,1),this.state=552,this.match(b$.BraceOpen),this.state=562,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,49,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;){if(1===n){switch(this.state=556,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,48,this._ctx)){case 1:this.state=553,this.recordField();break;case 2:this.state=554,this.methodPattern();break;case 3:this.state=555,this.defaultPattern()}this.state=558,this.match(b$.Semicolon)}this.state=564,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,49,this._ctx)}if(this.state=570,this._errHandler.sync(this),!((e=this._input.LA(1))-36&-32)&&1<<e-36&113||84===e||88===e)switch(this.state=568,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,50,this._ctx)){case 1:this.state=565,this.recordField();break;case 2:this.state=566,this.methodPattern();break;case 3:this.state=567,this.defaultPattern()}this.state=572,this.match(b$.BraceClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordField(){let t=new rF(this,this._ctx,this.state);this.enterRule(t,66,b$.RULE_recordField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=575,this._errHandler.sync(this),36===(e=this._input.LA(1))&&(this.state=574,this.match(b$.Override)),this.state=578,this._errHandler.sync(this),84===(e=this._input.LA(1))&&(this.state=577,this.selfAnno()),this.state=580,this.labelDecl(),this.state=584,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=581,this.termParam(),this.state=586,this._errHandler.sync(this),e=this._input.LA(1);this.state=587,this.match(b$.Assign),this.state=588,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}methodPattern(){let t=new iF(this,this._ctx,this.state);this.enterRule(t,68,b$.RULE_methodPattern);var e=0;try{for(this.enterOuterAlt(t,1),this.state=591,this._errHandler.sync(this),36===(e=this._input.LA(1))&&(this.state=590,this.match(b$.Override)),this.state=596,this._errHandler.sync(this),84===(e=this._input.LA(1))&&(this.state=593,this.selfAnno(),this.state=594,this.match(b$.At)),this.state=598,this.match(b$.ParenOpen),this.state=599,this.labelDecl(),this.state=603,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=600,this.termParam(),this.state=605,this._errHandler.sync(this),e=this._input.LA(1);for(this.state=606,this.match(b$.ParenClose),this.state=607,this.match(b$.Dot),this.state=608,this.labelDecl(),this.state=612,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=609,this.termParam(),this.state=614,this._errHandler.sync(this),e=this._input.LA(1);this.state=615,this.match(b$.Assign),this.state=616,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}defaultPattern(){let t=new sF(this,this._ctx,this.state);this.enterRule(t,70,b$.RULE_defaultPattern);var e=0;try{switch(this.enterOuterAlt(t,1),this.state=620,this._errHandler.sync(this),this._input.LA(1)){case 40:this.state=618,this.match(b$.Underscore);break;case 84:this.state=619,this.selfAnno();break;default:throw new g$.error.NoViableAltException(this)}for(this.state=622,this.match(b$.Dot),this.state=623,this.labelDecl(),this.state=627,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=624,this.termParam(),this.state=629,this._errHandler.sync(this),e=this._input.LA(1);this.state=630,this.match(b$.Assign),this.state=631,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordUpdate(){let t=new oF(this,this._ctx,this.state);this.enterRule(t,72,b$.RULE_recordUpdate);var e=0;try{this.enterOuterAlt(t,1),this.state=633,this.match(b$.BraceOpen),this.state=634,this.expression(),this.state=635,this.match(b$.With),this.state=644,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,61,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=636,this.labelDecl(),this.state=637,this.match(b$.Assign),this.state=638,this.expression(),this.state=640,this.match(b$.Semicolon)),this.state=646,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,61,this._ctx);this.state=651,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=647,this.labelDecl(),this.state=648,this.match(b$.Assign),this.state=649,this.expression()),this.state=653,this.match(b$.BraceClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeArg(){let t=new lF(this,this._ctx,this.state);this.enterRule(t,74,b$.RULE_typeArg);try{this.enterOuterAlt(t,1),this.state=655,this.match(b$.At),this.state=656,this.btype()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeParam(){let t=new aF(this,this._ctx,this.state);this.enterRule(t,76,b$.RULE_typeParam);try{switch(this.state=665,this._errHandler.sync(this),this._input.LA(1)){case 42:this.enterOuterAlt(t,1),this.state=658,this.typeNameDecl();break;case 88:this.enterOuterAlt(t,2),this.state=659,this.match(b$.ParenOpen),this.state=660,this.typeNameDecl(),this.state=661,this.match(b$.Asterisk),this.state=662,this.type(0),this.state=663,this.match(b$.ParenClose);break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termParam(){let t=new uF(this,this._ctx,this.state);this.enterRule(t,78,b$.RULE_termParam);try{switch(this.state=679,this._errHandler.sync(this),this._input.LA(1)){case 41:this.enterOuterAlt(t,1),this.state=667,this.termNameDecl();break;case 40:this.enterOuterAlt(t,2),this.state=668,this.match(b$.Underscore);break;case 88:switch(this.enterOuterAlt(t,3),this.state=669,this.match(b$.ParenOpen),this.state=672,this._errHandler.sync(this),this._input.LA(1)){case 41:this.state=670,this.termNameDecl();break;case 40:this.state=671,this.match(b$.Underscore);break;default:throw new g$.error.NoViableAltException(this)}this.state=674,this.match(b$.Colon),this.state=675,this.type(0),this.state=676,this.match(b$.ParenClose);break;case 86:this.enterOuterAlt(t,4),this.state=678,this.wildcard();break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}wildcard(){let t=new cF(this,this._ctx,this.state);this.enterRule(t,80,b$.RULE_wildcard);var e=0;try{for(this.enterOuterAlt(t,1),this.state=681,this.match(b$.BraceOpen),this.state=690,this._errHandler.sync(this),e=this._input.LA(1);41===e||42===e;)this.state=682,this.labelDecl(),this.state=683,this.match(b$.Assign),this.state=684,this.expression(),this.state=686,this.match(b$.Semicolon),this.state=692,this._errHandler.sync(this),e=this._input.LA(1);this.state=693,this.match(b$.DotDot),this.state=694,this.match(b$.BraceClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}selfAnno(){let t=new hF(this,this._ctx,this.state);this.enterRule(t,82,b$.RULE_selfAnno);try{this.enterOuterAlt(t,1),this.state=696,this.match(b$.BracketOpen),this.state=697,this.termNameDecl(),this.state=700,this._errHandler.sync(this),79===this._input.LA(1)&&(this.state=698,this.match(b$.Colon),this.state=699,this.type(0)),this.state=702,this.match(b$.BracketClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}sort(){let t=new fF(this,this._ctx,this.state);this.enterRule(t,84,b$.RULE_sort);try{this.enterOuterAlt(t,1),this.state=704,this.type(0),this.state=707,this._errHandler.sync(this),49===this._input.LA(1)&&(this.state=705,this.match(b$.FatArrow),this.state=706,this.type(0))}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeNameDecl(){let t=new dF(this,this._ctx,this.state);this.enterRule(t,86,b$.RULE_typeNameDecl);try{this.enterOuterAlt(t,1),this.state=709,this.match(b$.UpperId)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}typeName(){let t=new vF(this,this._ctx,this.state);this.enterRule(t,88,b$.RULE_typeName);try{this.enterOuterAlt(t,1),this.state=711,this.match(b$.UpperId)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termNameDecl(){let t=new gF(this,this._ctx,this.state);this.enterRule(t,90,b$.RULE_termNameDecl);try{this.enterOuterAlt(t,1),this.state=713,this.match(b$.LowerId)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}ctorName(){let t=new pF(this,this._ctx,this.state);this.enterRule(t,92,b$.RULE_ctorName);try{this.enterOuterAlt(t,1),this.state=715,this.match(b$.UpperId)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}termName(){let t=new mF(this,this._ctx,this.state);this.enterRule(t,94,b$.RULE_termName);var e=0;try{this.enterOuterAlt(t,1),this.state=717,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}labelDecl(){let t=new RF(this,this._ctx,this.state);this.enterRule(t,96,b$.RULE_labelDecl);var e=0;try{this.enterOuterAlt(t,1),this.state=719,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}label(){let t=new wF(this,this._ctx,this.state);this.enterRule(t,98,b$.RULE_label);var e=0;try{this.enterOuterAlt(t,1),this.state=721,41!==(e=this._input.LA(1))&&42!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}document(){let t=new OF(this,this._ctx,this.state);this.enterRule(t,100,b$.RULE_document);var e=0;try{for(this.enterOuterAlt(t,1),this.state=723,this.match(b$.BacktickOpen),this.state=727,this._errHandler.sync(this),e=this._input.LA(1);!(e-91&-32)&&1<<e-91&7695;)this.state=724,this.docElement(),this.state=729,this._errHandler.sync(this),e=this._input.LA(1);this.state=730,96!==(e=this._input.LA(1))&&105!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docElement(){let t=new xF(this,this._ctx,this.state);this.enterRule(t,102,b$.RULE_docElement);try{switch(this.state=736,this._errHandler.sync(this),this._input.LA(1)){case 91:case 100:this.enterOuterAlt(t,1),this.state=732,this.command();break;case 92:case 101:this.enterOuterAlt(t,2),this.state=733,this.interpolation();break;case 93:case 102:this.enterOuterAlt(t,3),this.state=734,this.newline();break;case 94:case 103:this.enterOuterAlt(t,4),this.state=735,this.plaintext();break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}command(){let t=new yF(this,this._ctx,this.state);this.enterRule(t,104,b$.RULE_command);var e=0;try{for(this.enterOuterAlt(t,1),this.state=738,91!==(e=this._input.LA(1))&&100!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=742,this._errHandler.sync(this),e=this._input.LA(1);!(e-97&-32)&&1<<e-97&7;)this.state=739,this.docArg(),this.state=744,this._errHandler.sync(this),e=this._input.LA(1)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}interpolation(){let t=new bF(this,this._ctx,this.state);this.enterRule(t,106,b$.RULE_interpolation);var e=0;try{this.enterOuterAlt(t,1),this.state=745,92!==(e=this._input.LA(1))&&101!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=746,this.expression(),this.state=747,this.match(b$.ParenClose)}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}newline(){let t=new kF(this,this._ctx,this.state);this.enterRule(t,108,b$.RULE_newline);var e=0;try{this.enterOuterAlt(t,1),this.state=749,93!==(e=this._input.LA(1))&&102!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}plaintext(){let t=new CF(this,this._ctx,this.state);this.enterRule(t,110,b$.RULE_plaintext);var e=0;try{this.enterOuterAlt(t,1),this.state=751,94!==(e=this._input.LA(1))&&103!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}docArg(){let t=new TF(this,this._ctx,this.state);this.enterRule(t,112,b$.RULE_docArg);var e=0;try{switch(this.state=778,this._errHandler.sync(this),this._input.LA(1)){case 97:for(this.enterOuterAlt(t,1),this.state=753,this.match(b$.BracketOpenAsArg),this.state=757,this._errHandler.sync(this),e=this._input.LA(1);!(e-91&-32)&&1<<e-91&7695;)this.state=754,this.docElement(),this.state=759,this._errHandler.sync(this),e=this._input.LA(1);this.state=760,95!==(e=this._input.LA(1))&&104!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume());break;case 98:this.enterOuterAlt(t,2),this.state=761,this.match(b$.ParenOpenAsArg),this.state=762,this.expression(),this.state=763,this.match(b$.ParenClose);break;case 99:this.enterOuterAlt(t,3),this.state=765,this.match(b$.BraceOpenAsArg),this.state=771,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,73,this._ctx);2!=n&&n!=g$.atn.ATN.INVALID_ALT_NUMBER;)1===n&&(this.state=766,this.recordArgField(),this.state=767,this.match(b$.Semicolon)),this.state=773,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,73,this._ctx);this.state=775,this._errHandler.sync(this),41!==(e=this._input.LA(1))&&42!==e||(this.state=774,this.recordArgField()),this.state=777,this.match(b$.BraceClose);break;default:throw new g$.error.NoViableAltException(this)}}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}recordArgField(){let t=new SF(this,this._ctx,this.state);this.enterRule(t,114,b$.RULE_recordArgField);var e=0;try{for(this.enterOuterAlt(t,1),this.state=780,this.labelDecl(),this.state=784,this._errHandler.sync(this),e=this._input.LA(1);40===e||41===e||86===e||88===e;)this.state=781,this.termParam(),this.state=786,this._errHandler.sync(this),e=this._input.LA(1);this.state=787,this.match(b$.Assign),this.state=788,this.expression()}catch(e){if(!(e instanceof g$.error.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}}b$.EOF=g$.Token.EOF,b$.Whitespaces=1,b$.LineComment=2,b$.BlockComment=3,b$.IntLit=4,b$.StringLit=5,b$.Type=6,b$.Interface=7,b$.Extends=8,b$.ForAll=9,b$.Mu=10,b$.Int=11,b$.Double=12,b$.Bool=13,b$.String=14,b$.Top=15,b$.Bot=16,b$.TraitType=17,b$.Trait=18,b$.RefType=19,b$.Ref=20,b$.Implements=21,b$.Inherits=22,b$.New=23,b$.Fix=24,b$.If=25,b$.Then=26,b$.Else=27,b$.Let=28,b$.LetRec=29,b$.Open=30,b$.In=31,b$.With=32,b$.ToString=33,b$.Fold=34,b$.Unfold=35,b$.Override=36,b$.True_=37,b$.False_=38,b$.Undefined_=39,b$.Underscore=40,b$.LowerId=41,b$.UpperId=42,b$.Unit=43,b$.Backslash=44,b$.SlashBackslash=45,b$.BackslashMinus=46,b$.DoubleBackslashes=47,b$.Arrow=48,b$.FatArrow=49,b$.LeftArrow=50,b$.Intersect=51,b$.Plus=52,b$.Minus=53,b$.Asterisk=54,b$.Slash=55,b$.Modulo=56,b$.Sqrt=57,b$.Deref=58,b$.Walrus=59,b$.Seq=60,b$.And=61,b$.Or=62,b$.Less=63,b$.Greater=64,b$.LessEqual=65,b$.GreaterEqual=66,b$.Equal=67,b$.NotEqual=68,b$.Length=69,b$.Index=70,b$.Append=71,b$.Forward=72,b$.At=73,b$.Merge=74,b$.LeftistMerge=75,b$.RightistMerge=76,b$.Assign=77,b$.Semicolon=78,b$.Colon=79,b$.Dot=80,b$.DotDot=81,b$.Dollar=82,b$.Question=83,b$.BracketOpen=84,b$.BracketClose=85,b$.BraceOpen=86,b$.BraceClose=87,b$.ParenOpen=88,b$.ParenClose=89,b$.BacktickOpen=90,b$.Command=91,b$.Interpolation=92,b$.NewLine=93,b$.PlainText=94,b$.BracketCloseInDoc=95,b$.BacktickClose=96,b$.BracketOpenAsArg=97,b$.ParenOpenAsArg=98,b$.BraceOpenAsArg=99,b$.CommandAfterCmd=100,b$.InterpolationAfterCmd=101,b$.NewLineAfterCmd=102,b$.PlainTextAfterCmd=103,b$.BracketCloseAfterCmd=104,b$.BacktickCloseAfterCmd=105,b$.RULE_program=0,b$.RULE_definition=1,b$.RULE_interfaceDef=2,b$.RULE_typeDef=3,b$.RULE_termDef=4,b$.RULE_type=5,b$.RULE_btype=6,b$.RULE_atype=7,b$.RULE_recordType=8,b$.RULE_recordTypeField=9,b$.RULE_expression=10,b$.RULE_opexpr=11,b$.RULE_lexpr=12,b$.RULE_lambda=13,b$.RULE_bigLambda=14,b$.RULE_letIn=15,b$.RULE_letRec=16,b$.RULE_openIn=17,b$.RULE_ifElse=18,b$.RULE_trait=19,b$.RULE_newTrait=20,b$.RULE_fixpoint=21,b$.RULE_toStr=22,b$.RULE_fold=23,b$.RULE_unfold=24,b$.RULE_ref=25,b$.RULE_fexpr=26,b$.RULE_excludexpr=27,b$.RULE_renamexpr=28,b$.RULE_dotexpr=29,b$.RULE_aexpr=30,b$.RULE_array=31,b$.RULE_record=32,b$.RULE_recordField=33,b$.RULE_methodPattern=34,b$.RULE_defaultPattern=35,b$.RULE_recordUpdate=36,b$.RULE_typeArg=37,b$.RULE_typeParam=38,b$.RULE_termParam=39,b$.RULE_wildcard=40,b$.RULE_selfAnno=41,b$.RULE_sort=42,b$.RULE_typeNameDecl=43,b$.RULE_typeName=44,b$.RULE_termNameDecl=45,b$.RULE_ctorName=46,b$.RULE_termName=47,b$.RULE_labelDecl=48,b$.RULE_label=49,b$.RULE_document=50,b$.RULE_docElement=51,b$.RULE_command=52,b$.RULE_interpolation=53,b$.RULE_newline=54,b$.RULE_plaintext=55,b$.RULE_docArg=56,b$.RULE_recordArgField=57;class k$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_program}expression(){return this.getTypedRuleContext(Q$,0)}EOF(){return this.getToken(b$.EOF,0)}definition=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(C$):this.getTypedRuleContext(C$,t)};accept(t){return t instanceof w$?t.visitProgram(this):t.visitChildren(this)}}class C$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_definition}interfaceDef(){return this.getTypedRuleContext(T$,0)}typeDef(){return this.getTypedRuleContext(S$,0)}termDef(){return this.getTypedRuleContext(A$,0)}accept(t){return t instanceof w$?t.visitDefinition(this):t.visitChildren(this)}}class T$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_interfaceDef}Interface(){return this.getToken(b$.Interface,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(dF):this.getTypedRuleContext(dF,t)};recordType(){return this.getTypedRuleContext(L$,0)}Semicolon(){return this.getToken(b$.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Less):this.getToken(b$.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Greater):this.getToken(b$.Greater,t)};Extends(){return this.getToken(b$.Extends,0)}btype(){return this.getTypedRuleContext(_$,0)}accept(t){return t instanceof w$?t.visitInterfaceDef(this):t.visitChildren(this)}}class S$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_typeDef}Type(){return this.getToken(b$.Type,0)}typeNameDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(dF):this.getTypedRuleContext(dF,t)};Assign(){return this.getToken(b$.Assign,0)}type(){return this.getTypedRuleContext(P$,0)}Semicolon(){return this.getToken(b$.Semicolon,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Less):this.getToken(b$.Less,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Greater):this.getToken(b$.Greater,t)};accept(t){return t instanceof w$?t.visitTypeDef(this):t.visitChildren(this)}}class A$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_termDef}termNameDecl(){return this.getTypedRuleContext(gF,0)}Assign(){return this.getToken(b$.Assign,0)}expression(){return this.getTypedRuleContext(Q$,0)}Semicolon(){return this.getToken(b$.Semicolon,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aF):this.getTypedRuleContext(aF,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}accept(t){return t instanceof w$?t.visitTermDef(this):t.visitChildren(this)}}class P$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_type}ForAll(){return this.getToken(b$.ForAll,0)}Dot(){return this.getToken(b$.Dot,0)}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(P$):this.getTypedRuleContext(P$,t)};typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aF):this.getTypedRuleContext(aF,t)};Mu(){return this.getToken(b$.Mu,0)}typeNameDecl(){return this.getTypedRuleContext(dF,0)}TraitType(){return this.getToken(b$.TraitType,0)}Less(){return this.getToken(b$.Less,0)}Greater(){return this.getToken(b$.Greater,0)}FatArrow(){return this.getToken(b$.FatArrow,0)}RefType(){return this.getToken(b$.RefType,0)}btype=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(_$):this.getTypedRuleContext(_$,t)};Intersect(){return this.getToken(b$.Intersect,0)}Backslash(){return this.getToken(b$.Backslash,0)}Arrow(){return this.getToken(b$.Arrow,0)}accept(t){return t instanceof w$?t.visitType(this):t.visitChildren(this)}}class _$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_btype}atype(){return this.getTypedRuleContext(E$,0)}Less=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Less):this.getToken(b$.Less,t)};sort=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(fF):this.getTypedRuleContext(fF,t)};Greater=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Greater):this.getToken(b$.Greater,t)};accept(t){return t instanceof w$?t.visitBtype(this):t.visitChildren(this)}}class E$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_atype}Int(){return this.getToken(b$.Int,0)}Double(){return this.getToken(b$.Double,0)}Bool(){return this.getToken(b$.Bool,0)}String(){return this.getToken(b$.String,0)}Unit(){return this.getToken(b$.Unit,0)}Top(){return this.getToken(b$.Top,0)}Bot(){return this.getToken(b$.Bot,0)}typeName(){return this.getTypedRuleContext(vF,0)}recordType(){return this.getTypedRuleContext(L$,0)}BracketOpen(){return this.getToken(b$.BracketOpen,0)}type(){return this.getTypedRuleContext(P$,0)}BracketClose(){return this.getToken(b$.BracketClose,0)}ParenOpen(){return this.getToken(b$.ParenOpen,0)}ParenClose(){return this.getToken(b$.ParenClose,0)}accept(t){return t instanceof w$?t.visitAtype(this):t.visitChildren(this)}}class L$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_recordType}BraceOpen(){return this.getToken(b$.BraceOpen,0)}BraceClose(){return this.getToken(b$.BraceClose,0)}recordTypeField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(D$):this.getTypedRuleContext(D$,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Semicolon):this.getToken(b$.Semicolon,t)};accept(t){return t instanceof w$?t.visitRecordType(this):t.visitChildren(this)}}class D$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_recordTypeField}labelDecl(){return this.getTypedRuleContext(RF,0)}Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}Question(){return this.getToken(b$.Question,0)}accept(t){return t instanceof w$?t.visitRecordTypeField(this):t.visitChildren(this)}}class Q$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_expression}opexpr(){return this.getTypedRuleContext(I$,0)}Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}accept(t){return t instanceof w$?t.visitExpression(this):t.visitChildren(this)}}class I$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_opexpr}lexpr(){return this.getTypedRuleContext(M$,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(I$):this.getTypedRuleContext(I$,t)};Minus(){return this.getToken(b$.Minus,0)}Length(){return this.getToken(b$.Length,0)}Sqrt(){return this.getToken(b$.Sqrt,0)}Deref(){return this.getToken(b$.Deref,0)}Index(){return this.getToken(b$.Index,0)}Asterisk(){return this.getToken(b$.Asterisk,0)}Slash(){return this.getToken(b$.Slash,0)}Modulo(){return this.getToken(b$.Modulo,0)}Plus(){return this.getToken(b$.Plus,0)}Append(){return this.getToken(b$.Append,0)}Less(){return this.getToken(b$.Less,0)}Greater(){return this.getToken(b$.Greater,0)}LessEqual(){return this.getToken(b$.LessEqual,0)}GreaterEqual(){return this.getToken(b$.GreaterEqual,0)}Equal(){return this.getToken(b$.Equal,0)}NotEqual(){return this.getToken(b$.NotEqual,0)}And(){return this.getToken(b$.And,0)}Or(){return this.getToken(b$.Or,0)}Forward(){return this.getToken(b$.Forward,0)}Merge(){return this.getToken(b$.Merge,0)}LeftistMerge(){return this.getToken(b$.LeftistMerge,0)}RightistMerge(){return this.getToken(b$.RightistMerge,0)}BackslashMinus(){return this.getToken(b$.BackslashMinus,0)}Walrus(){return this.getToken(b$.Walrus,0)}Seq(){return this.getToken(b$.Seq,0)}accept(t){return t instanceof w$?t.visitOpexpr(this):t.visitChildren(this)}}class M$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_lexpr}fexpr(){return this.getTypedRuleContext(Y$,0)}lambda(){return this.getTypedRuleContext(N$,0)}bigLambda(){return this.getTypedRuleContext($$,0)}letIn(){return this.getTypedRuleContext(F$,0)}letRec(){return this.getTypedRuleContext(B$,0)}openIn(){return this.getTypedRuleContext(U$,0)}ifElse(){return this.getTypedRuleContext(H$,0)}trait(){return this.getTypedRuleContext(q$,0)}newTrait(){return this.getTypedRuleContext(V$,0)}fixpoint(){return this.getTypedRuleContext(X$,0)}toStr(){return this.getTypedRuleContext(z$,0)}fold(){return this.getTypedRuleContext(W$,0)}unfold(){return this.getTypedRuleContext(j$,0)}ref(){return this.getTypedRuleContext(G$,0)}accept(t){return t instanceof w$?t.visitLexpr(this):t.visitChildren(this)}}class N$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_lambda}Backslash(){return this.getToken(b$.Backslash,0)}Arrow(){return this.getToken(b$.Arrow,0)}expression(){return this.getTypedRuleContext(Q$,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitLambda(this):t.visitChildren(this)}}class $$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_bigLambda}SlashBackslash(){return this.getToken(b$.SlashBackslash,0)}Dot(){return this.getToken(b$.Dot,0)}expression(){return this.getTypedRuleContext(Q$,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aF):this.getTypedRuleContext(aF,t)};accept(t){return t instanceof w$?t.visitBigLambda(this):t.visitChildren(this)}}class F$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_letIn}Let(){return this.getToken(b$.Let,0)}termNameDecl(){return this.getTypedRuleContext(gF,0)}Assign(){return this.getToken(b$.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};In(){return this.getToken(b$.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aF):this.getTypedRuleContext(aF,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitLetIn(this):t.visitChildren(this)}}class B$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_letRec}LetRec(){return this.getToken(b$.LetRec,0)}termNameDecl(){return this.getTypedRuleContext(gF,0)}Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}Assign(){return this.getToken(b$.Assign,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};In(){return this.getToken(b$.In,0)}typeParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(aF):this.getTypedRuleContext(aF,t)};termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitLetRec(this):t.visitChildren(this)}}class U$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_openIn}Open(){return this.getToken(b$.Open,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};In(){return this.getToken(b$.In,0)}accept(t){return t instanceof w$?t.visitOpenIn(this):t.visitChildren(this)}}class H$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_ifElse}If(){return this.getToken(b$.If,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};Then(){return this.getToken(b$.Then,0)}Else(){return this.getToken(b$.Else,0)}accept(t){return t instanceof w$?t.visitIfElse(this):t.visitChildren(this)}}class q$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_trait}Trait(){return this.getToken(b$.Trait,0)}FatArrow(){return this.getToken(b$.FatArrow,0)}opexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(I$):this.getTypedRuleContext(I$,t)};selfAnno(){return this.getTypedRuleContext(hF,0)}Implements(){return this.getToken(b$.Implements,0)}type(){return this.getTypedRuleContext(P$,0)}Inherits(){return this.getToken(b$.Inherits,0)}accept(t){return t instanceof w$?t.visitTrait(this):t.visitChildren(this)}}class V$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_newTrait}New(){return this.getToken(b$.New,0)}opexpr(){return this.getTypedRuleContext(I$,0)}accept(t){return t instanceof w$?t.visitNewTrait(this):t.visitChildren(this)}}class X$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_fixpoint}Fix(){return this.getToken(b$.Fix,0)}termNameDecl(){return this.getTypedRuleContext(gF,0)}Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}Dot(){return this.getToken(b$.Dot,0)}opexpr(){return this.getTypedRuleContext(I$,0)}accept(t){return t instanceof w$?t.visitFixpoint(this):t.visitChildren(this)}}class z$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_toStr}ToString(){return this.getToken(b$.ToString,0)}dotexpr(){return this.getTypedRuleContext(J$,0)}accept(t){return t instanceof w$?t.visitToStr(this):t.visitChildren(this)}}class W$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_fold}Fold(){return this.getToken(b$.Fold,0)}typeArg(){return this.getTypedRuleContext(lF,0)}dotexpr(){return this.getTypedRuleContext(J$,0)}accept(t){return t instanceof w$?t.visitFold(this):t.visitChildren(this)}}class j$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_unfold}Unfold(){return this.getToken(b$.Unfold,0)}typeArg(){return this.getTypedRuleContext(lF,0)}dotexpr(){return this.getTypedRuleContext(J$,0)}accept(t){return t instanceof w$?t.visitUnfold(this):t.visitChildren(this)}}class G$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_ref}Ref(){return this.getToken(b$.Ref,0)}dotexpr(){return this.getTypedRuleContext(J$,0)}accept(t){return t instanceof w$?t.visitRef(this):t.visitChildren(this)}}class Y$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_fexpr}ctorName(){return this.getTypedRuleContext(pF,0)}excludexpr=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Z$):this.getTypedRuleContext(Z$,t)};typeArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(lF):this.getTypedRuleContext(lF,t)};accept(t){return t instanceof w$?t.visitFexpr(this):t.visitChildren(this)}}class Z$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_excludexpr}renamexpr(){return this.getTypedRuleContext(K$,0)}DoubleBackslashes(){return this.getToken(b$.DoubleBackslashes,0)}btype(){return this.getTypedRuleContext(_$,0)}Backslash(){return this.getToken(b$.Backslash,0)}label(){return this.getTypedRuleContext(wF,0)}accept(t){return t instanceof w$?t.visitExcludexpr(this):t.visitChildren(this)}}class K$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_renamexpr}dotexpr(){return this.getTypedRuleContext(J$,0)}BracketOpen(){return this.getToken(b$.BracketOpen,0)}label(){return this.getTypedRuleContext(wF,0)}LeftArrow(){return this.getToken(b$.LeftArrow,0)}labelDecl(){return this.getTypedRuleContext(RF,0)}BracketClose(){return this.getToken(b$.BracketClose,0)}accept(t){return t instanceof w$?t.visitRenamexpr(this):t.visitChildren(this)}}class J$ extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_dotexpr}aexpr(){return this.getTypedRuleContext(tF,0)}Dot=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Dot):this.getToken(b$.Dot,t)};label=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(wF):this.getTypedRuleContext(wF,t)};accept(t){return t instanceof w$?t.visitDotexpr(this):t.visitChildren(this)}}class tF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_aexpr}termName(){return this.getTypedRuleContext(mF,0)}IntLit(){return this.getToken(b$.IntLit,0)}StringLit(){return this.getToken(b$.StringLit,0)}document(){return this.getTypedRuleContext(OF,0)}Unit(){return this.getToken(b$.Unit,0)}True_(){return this.getToken(b$.True_,0)}False_(){return this.getToken(b$.False_,0)}Undefined_(){return this.getToken(b$.Undefined_,0)}array(){return this.getTypedRuleContext(eF,0)}record(){return this.getTypedRuleContext(nF,0)}recordUpdate(){return this.getTypedRuleContext(oF,0)}Dollar(){return this.getToken(b$.Dollar,0)}ctorName(){return this.getTypedRuleContext(pF,0)}ParenOpen(){return this.getToken(b$.ParenOpen,0)}expression(){return this.getTypedRuleContext(Q$,0)}ParenClose(){return this.getToken(b$.ParenClose,0)}accept(t){return t instanceof w$?t.visitAexpr(this):t.visitChildren(this)}}class eF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_array}BracketOpen(){return this.getToken(b$.BracketOpen,0)}BracketClose(){return this.getToken(b$.BracketClose,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Semicolon):this.getToken(b$.Semicolon,t)};accept(t){return t instanceof w$?t.visitArray(this):t.visitChildren(this)}}class nF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_record}BraceOpen(){return this.getToken(b$.BraceOpen,0)}BraceClose(){return this.getToken(b$.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Semicolon):this.getToken(b$.Semicolon,t)};recordField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(rF):this.getTypedRuleContext(rF,t)};methodPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(iF):this.getTypedRuleContext(iF,t)};defaultPattern=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(sF):this.getTypedRuleContext(sF,t)};accept(t){return t instanceof w$?t.visitRecord(this):t.visitChildren(this)}}class rF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_recordField}labelDecl(){return this.getTypedRuleContext(RF,0)}Assign(){return this.getToken(b$.Assign,0)}expression(){return this.getTypedRuleContext(Q$,0)}Override(){return this.getToken(b$.Override,0)}selfAnno(){return this.getTypedRuleContext(hF,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitRecordField(this):t.visitChildren(this)}}class iF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_methodPattern}ParenOpen(){return this.getToken(b$.ParenOpen,0)}labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(RF):this.getTypedRuleContext(RF,t)};ParenClose(){return this.getToken(b$.ParenClose,0)}Dot(){return this.getToken(b$.Dot,0)}Assign(){return this.getToken(b$.Assign,0)}expression(){return this.getTypedRuleContext(Q$,0)}Override(){return this.getToken(b$.Override,0)}selfAnno(){return this.getTypedRuleContext(hF,0)}At(){return this.getToken(b$.At,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitMethodPattern(this):t.visitChildren(this)}}class sF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_defaultPattern}Dot(){return this.getToken(b$.Dot,0)}labelDecl(){return this.getTypedRuleContext(RF,0)}Assign(){return this.getToken(b$.Assign,0)}expression(){return this.getTypedRuleContext(Q$,0)}Underscore(){return this.getToken(b$.Underscore,0)}selfAnno(){return this.getTypedRuleContext(hF,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitDefaultPattern(this):t.visitChildren(this)}}class oF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_recordUpdate}BraceOpen(){return this.getToken(b$.BraceOpen,0)}expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};With(){return this.getToken(b$.With,0)}BraceClose(){return this.getToken(b$.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Semicolon):this.getToken(b$.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(RF):this.getTypedRuleContext(RF,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Assign):this.getToken(b$.Assign,t)};accept(t){return t instanceof w$?t.visitRecordUpdate(this):t.visitChildren(this)}}class lF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_typeArg}At(){return this.getToken(b$.At,0)}btype(){return this.getTypedRuleContext(_$,0)}accept(t){return t instanceof w$?t.visitTypeArg(this):t.visitChildren(this)}}class aF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_typeParam}typeNameDecl(){return this.getTypedRuleContext(dF,0)}ParenOpen(){return this.getToken(b$.ParenOpen,0)}Asterisk(){return this.getToken(b$.Asterisk,0)}type(){return this.getTypedRuleContext(P$,0)}ParenClose(){return this.getToken(b$.ParenClose,0)}accept(t){return t instanceof w$?t.visitTypeParam(this):t.visitChildren(this)}}class uF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_termParam}termNameDecl(){return this.getTypedRuleContext(gF,0)}Underscore(){return this.getToken(b$.Underscore,0)}ParenOpen(){return this.getToken(b$.ParenOpen,0)}Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}ParenClose(){return this.getToken(b$.ParenClose,0)}wildcard(){return this.getTypedRuleContext(cF,0)}accept(t){return t instanceof w$?t.visitTermParam(this):t.visitChildren(this)}}class cF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_wildcard}BraceOpen(){return this.getToken(b$.BraceOpen,0)}DotDot(){return this.getToken(b$.DotDot,0)}BraceClose(){return this.getToken(b$.BraceClose,0)}Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Semicolon):this.getToken(b$.Semicolon,t)};labelDecl=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(RF):this.getTypedRuleContext(RF,t)};Assign=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Assign):this.getToken(b$.Assign,t)};expression=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Q$):this.getTypedRuleContext(Q$,t)};accept(t){return t instanceof w$?t.visitWildcard(this):t.visitChildren(this)}}class hF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_selfAnno}BracketOpen(){return this.getToken(b$.BracketOpen,0)}termNameDecl(){return this.getTypedRuleContext(gF,0)}BracketClose(){return this.getToken(b$.BracketClose,0)}Colon(){return this.getToken(b$.Colon,0)}type(){return this.getTypedRuleContext(P$,0)}accept(t){return t instanceof w$?t.visitSelfAnno(this):t.visitChildren(this)}}class fF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_sort}type=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(P$):this.getTypedRuleContext(P$,t)};FatArrow(){return this.getToken(b$.FatArrow,0)}accept(t){return t instanceof w$?t.visitSort(this):t.visitChildren(this)}}class dF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_typeNameDecl}UpperId(){return this.getToken(b$.UpperId,0)}accept(t){return t instanceof w$?t.visitTypeNameDecl(this):t.visitChildren(this)}}class vF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_typeName}UpperId(){return this.getToken(b$.UpperId,0)}accept(t){return t instanceof w$?t.visitTypeName(this):t.visitChildren(this)}}class gF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_termNameDecl}LowerId(){return this.getToken(b$.LowerId,0)}accept(t){return t instanceof w$?t.visitTermNameDecl(this):t.visitChildren(this)}}class pF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_ctorName}UpperId(){return this.getToken(b$.UpperId,0)}accept(t){return t instanceof w$?t.visitCtorName(this):t.visitChildren(this)}}class mF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_termName}LowerId(){return this.getToken(b$.LowerId,0)}UpperId(){return this.getToken(b$.UpperId,0)}accept(t){return t instanceof w$?t.visitTermName(this):t.visitChildren(this)}}class RF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_labelDecl}LowerId(){return this.getToken(b$.LowerId,0)}UpperId(){return this.getToken(b$.UpperId,0)}accept(t){return t instanceof w$?t.visitLabelDecl(this):t.visitChildren(this)}}class wF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_label}LowerId(){return this.getToken(b$.LowerId,0)}UpperId(){return this.getToken(b$.UpperId,0)}accept(t){return t instanceof w$?t.visitLabel(this):t.visitChildren(this)}}class OF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_document}BacktickOpen(){return this.getToken(b$.BacktickOpen,0)}BacktickClose(){return this.getToken(b$.BacktickClose,0)}BacktickCloseAfterCmd(){return this.getToken(b$.BacktickCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(xF):this.getTypedRuleContext(xF,t)};accept(t){return t instanceof w$?t.visitDocument(this):t.visitChildren(this)}}class xF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_docElement}command(){return this.getTypedRuleContext(yF,0)}interpolation(){return this.getTypedRuleContext(bF,0)}newline(){return this.getTypedRuleContext(kF,0)}plaintext(){return this.getTypedRuleContext(CF,0)}accept(t){return t instanceof w$?t.visitDocElement(this):t.visitChildren(this)}}class yF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_command}Command(){return this.getToken(b$.Command,0)}CommandAfterCmd(){return this.getToken(b$.CommandAfterCmd,0)}docArg=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(TF):this.getTypedRuleContext(TF,t)};accept(t){return t instanceof w$?t.visitCommand(this):t.visitChildren(this)}}class bF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_interpolation}expression(){return this.getTypedRuleContext(Q$,0)}ParenClose(){return this.getToken(b$.ParenClose,0)}Interpolation(){return this.getToken(b$.Interpolation,0)}InterpolationAfterCmd(){return this.getToken(b$.InterpolationAfterCmd,0)}accept(t){return t instanceof w$?t.visitInterpolation(this):t.visitChildren(this)}}class kF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_newline}NewLine(){return this.getToken(b$.NewLine,0)}NewLineAfterCmd(){return this.getToken(b$.NewLineAfterCmd,0)}accept(t){return t instanceof w$?t.visitNewline(this):t.visitChildren(this)}}class CF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_plaintext}PlainText(){return this.getToken(b$.PlainText,0)}PlainTextAfterCmd(){return this.getToken(b$.PlainTextAfterCmd,0)}accept(t){return t instanceof w$?t.visitPlaintext(this):t.visitChildren(this)}}class TF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_docArg}BracketOpenAsArg(){return this.getToken(b$.BracketOpenAsArg,0)}BracketCloseInDoc(){return this.getToken(b$.BracketCloseInDoc,0)}BracketCloseAfterCmd(){return this.getToken(b$.BracketCloseAfterCmd,0)}docElement=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(xF):this.getTypedRuleContext(xF,t)};ParenOpenAsArg(){return this.getToken(b$.ParenOpenAsArg,0)}expression(){return this.getTypedRuleContext(Q$,0)}ParenClose(){return this.getToken(b$.ParenClose,0)}BraceOpenAsArg(){return this.getToken(b$.BraceOpenAsArg,0)}BraceClose(){return this.getToken(b$.BraceClose,0)}recordArgField=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(SF):this.getTypedRuleContext(SF,t)};Semicolon=function(t){return void 0===t&&(t=null),null===t?this.getTokens(b$.Semicolon):this.getToken(b$.Semicolon,t)};accept(t){return t instanceof w$?t.visitDocArg(this):t.visitChildren(this)}}class SF extends g$.ParserRuleContext{constructor(t,e,n){void 0===e&&(e=null),null==n&&(n=-1),super(e,n),this.parser=t,this.ruleIndex=b$.RULE_recordArgField}labelDecl(){return this.getTypedRuleContext(RF,0)}Assign(){return this.getToken(b$.Assign,0)}expression(){return this.getTypedRuleContext(Q$,0)}termParam=function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(uF):this.getTypedRuleContext(uF,t)};accept(t){return t instanceof w$?t.visitRecordArgField(this):t.visitChildren(this)}}b$.ProgramContext=k$,b$.DefinitionContext=C$,b$.InterfaceDefContext=T$,b$.TypeDefContext=S$,b$.TermDefContext=A$,b$.TypeContext=P$,b$.BtypeContext=_$,b$.AtypeContext=E$,b$.RecordTypeContext=L$,b$.RecordTypeFieldContext=D$,b$.ExpressionContext=Q$,b$.OpexprContext=I$,b$.LexprContext=M$,b$.LambdaContext=N$,b$.BigLambdaContext=$$,b$.LetInContext=F$,b$.LetRecContext=B$,b$.OpenInContext=U$,b$.IfElseContext=H$,b$.TraitContext=q$,b$.NewTraitContext=V$,b$.FixpointContext=X$,b$.ToStrContext=z$,b$.FoldContext=W$,b$.UnfoldContext=j$,b$.RefContext=G$,b$.FexprContext=Y$,b$.ExcludexprContext=Z$,b$.RenamexprContext=K$,b$.DotexprContext=J$,b$.AexprContext=tF,b$.ArrayContext=eF,b$.RecordContext=nF,b$.RecordFieldContext=rF,b$.MethodPatternContext=iF,b$.DefaultPatternContext=sF,b$.RecordUpdateContext=oF,b$.TypeArgContext=lF,b$.TypeParamContext=aF,b$.TermParamContext=uF,b$.WildcardContext=cF,b$.SelfAnnoContext=hF,b$.SortContext=fF,b$.TypeNameDeclContext=dF,b$.TypeNameContext=vF,b$.TermNameDeclContext=gF,b$.CtorNameContext=pF,b$.TermNameContext=mF,b$.LabelDeclContext=RF,b$.LabelContext=wF,b$.DocumentContext=OF,b$.DocElementContext=xF,b$.CommandContext=yF,b$.InterpolationContext=bF,b$.NewlineContext=kF,b$.PlaintextContext=CF,b$.DocArgContext=TF,b$.RecordArgFieldContext=SF;class AF extends w${listify(t){let e=bR.value;for(const n of t.reverse())e=new kR(n,e);return e}visitProgram(t){const e=this.listify(t.definition().map(this.visitDefinition,this)),n=this.visitExpression(t.expression());return new rP(e,n)}visitDefinition(t){const e=t.typeDef(),n=t.termDef(),r=t.interfaceDef();return e?this.visitTypeDef(e):n?this.visitTermDef(n):this.visitInterfaceDef(r)}visitInterfaceDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=t.Extends()?new sA(this.visitBtype(t.btype())):iA.value,l=this.visitRecordType(t.recordType());return new eP(o,n,i,s,l)}visitTypeDef(t){const e=t.typeNameDecl(),n=this.visitTypeNameDecl(e[0]),r=t.Less().length,i=this.listify(e.slice(1,r+1).map(this.visitTypeNameDecl,this)),s=this.listify(e.slice(r+1).map(this.visitTypeNameDecl,this)),o=this.visitType(t.type());return new eP(rA.value,n,i,s,o)}visitTermDef(t){const e=this.visitTermNameDecl(t.termNameDecl()),n=this.listify(t.typeParam().map(this.visitTypeParam,this)),r=this.listify(t.termParam().map(this.visitTermParam,this)),i=t.type()?new _g(this.visitType(t.type())):Pg.value,s=this.visitExpression(t.expression());return new nP(e,n,r,i,s)}visitType(t){if(t.Intersect())return new qS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Arrow())return new HS(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Backslash())return new nA(this.visitType(t.type(0)),this.visitType(t.type(1)));if(t.Mu())return new jS(this.visitTypeNameDecl(t.typeNameDecl()),this.visitType(t.type(0)));if(t.ForAll())return new WS(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitType(t.type(0)));if(t.TraitType()){let e,n;return t.FatArrow()?(e=new _g(this.visitType(t.type(0))),n=this.visitType(t.type(1))):(e=Pg.value,n=this.visitType(t.type(0))),new KS(e,n)}if(t.RefType())return new GS(this.visitBtype(t.btype(0)));{let e=this.visitBtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++)e=new YS(e,this.visitBtype(t.getChild(n)));return e}}visitBtype(t){let e=this.visitAtype(t.getChild(0));for(let n=1;n<t.getChildCount();n++){const r=t.getChild(n);r.ruleIndex===b$.RULE_sort&&(e=new YS(e,this.visitSort(r)))}return e}visitAtype(t){if(t.getChild(0).symbol)switch(t.getChild(0).symbol.type){case b$.Int:return IS.value;case b$.Double:return MS.value;case b$.Bool:return $S.value;case b$.String:return NS.value;case b$.Unit:return FS.value;case b$.Top:return BS.value;case b$.Bot:return US.value;case b$.BracketOpen:return new eA(this.visitType(t.type()));case b$.ParenOpen:return this.visitType(t.type());default:console.error("Error at Atype")}else switch(t.getChild(0).ruleIndex){case b$.RULE_typeName:return this.visitTypeName(t.typeName());case b$.RULE_recordType:return this.visitRecordType(t.recordType());default:console.error("Error at Atype")}}visitRecordType(t){return new XS(this.listify(t.recordTypeField().map(this.visitRecordTypeField,this)))}visitRecordTypeField(t){return new QS(this.visitLabelDecl(t.labelDecl()),this.visitType(t.type()),null!==t.Question())}visitExpression(t){const e={line:t.start.line,column:t.start.column},n=this.visitOpexpr(t.opexpr());let r;return r=t.Colon()?new yA(n,this.visitType(t.type())):n,new GA(e,r)}visitOpexpr(t){let e;switch(t.getChildCount()){case 1:return this.visitLexpr(t.lexpr());case 2:switch(t.getChild(0).symbol.type){case b$.Minus:e=Aw.value;break;case b$.Length:e=Pw.value;break;case b$.Sqrt:e=_w.value;break;case b$.Deref:return new qA(this.visitOpexpr(t.opexpr(0)));default:console.error("Error at Unary Opexpr")}return new gA(e,this.visitOpexpr(t.opexpr(0)));default:const n=this.visitOpexpr(t.opexpr(0)),r=this.visitOpexpr(t.opexpr(1));switch(t.getChild(1).symbol.type){case b$.Index:e=jw.value;break;case b$.Asterisk:e=new Vw(Uw.value);break;case b$.Slash:e=new Vw(Hw.value);break;case b$.Modulo:e=new Vw(qw.value);break;case b$.Plus:e=new Vw(Fw.value);break;case b$.Minus:e=new Vw(Bw.value);break;case b$.Append:e=Ww.value;break;case b$.Less:e=new Xw(Iw.value);break;case b$.Greater:e=new Xw(Nw.value);break;case b$.LessEqual:e=new Xw(Mw.value);break;case b$.GreaterEqual:e=new Xw($w.value);break;case b$.Equal:e=new Xw(Dw.value);break;case b$.NotEqual:e=new Xw(Qw.value);break;case b$.And:e=new zw(Ew.value);break;case b$.Or:e=new zw(Lw.value);break;case b$.Forward:return new IA(n,r);case b$.Merge:return new bA(oA.value,n,r);case b$.LeftistMerge:return new bA(lA.value,n,r);case b$.RightistMerge:return new bA(aA.value,n,r);case b$.BackslashMinus:return new $A(n,r);case b$.Walrus:return new VA(n,r);case b$.Seq:return new XA(n,r);default:console.error("Error at Binary Opexpr")}return new pA(e,n,r)}}visitLexpr(t){switch(t.getChild(0).ruleIndex){case b$.RULE_fexpr:return this.visitFexpr(t.fexpr());case b$.RULE_lambda:return this.visitLambda(t.lambda());case b$.RULE_bigLambda:return this.visitBigLambda(t.bigLambda());case b$.RULE_letIn:return this.visitLetIn(t.letIn());case b$.RULE_letRec:return this.visitLetRec(t.letRec());case b$.RULE_openIn:return this.visitOpenIn(t.openIn());case b$.RULE_ifElse:return this.visitIfElse(t.ifElse());case b$.RULE_trait:return this.visitTrait(t.trait());case b$.RULE_newTrait:return this.visitNewTrait(t.newTrait());case b$.RULE_fixpoint:return this.visitFixpoint(t.fixpoint());case b$.RULE_toStr:return this.visitToStr(t.toStr());case b$.RULE_fold:return this.visitFold(t.fold());case b$.RULE_unfold:return this.visitUnfold(t.unfold());case b$.RULE_ref:return this.visitRef(t.ref());default:console.error("Error at Lexpr")}}visitLambda(t){return new OA(this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression()))}visitBigLambda(t){return new AA(this.listify(t.typeParam().map(this.visitTypeParam,this)),this.visitExpression(t.expression()))}visitLetIn(t){return new PA(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitLetRec(t){return new _A(this.visitTermNameDecl(t.termNameDecl()),this.listify(t.typeParam().map(this.visitTypeParam,this)),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitType(t.type()),this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitOpenIn(t){return new EA(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)))}visitIfElse(t){return new mA(this.visitExpression(t.expression(0)),this.visitExpression(t.expression(1)),this.visitExpression(t.expression(2)))}visitTrait(t){return new DA(t.selfAnno()?new _g(this.visitSelfAnno(t.selfAnno())):Pg.value,t.type()?new _g(this.visitType(t.type())):Pg.value,2===t.opexpr().length?new _g(this.visitOpexpr(t.opexpr(0))):Pg.value,2===t.opexpr().length?this.visitOpexpr(t.opexpr(1)):this.visitOpexpr(t.opexpr(0)))}visitNewTrait(t){return new QA(this.visitOpexpr(t.opexpr()))}visitFixpoint(t){return new xA(this.visitTermNameDecl(t.termNameDecl()),this.visitOpexpr(t.opexpr()),this.visitType(t.type()))}visitToStr(t){return new zA(this.visitDotexpr(t.dotexpr()))}visitFold(t){return new BA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitUnfold(t){return new UA(this.visitTypeArg(t.typeArg()),this.visitDotexpr(t.dotexpr()))}visitRef(t){return new HA(this.visitDotexpr(t.dotexpr()))}visitFexpr(t){const e=t.getChild(0);let n,r;switch(e.ruleIndex){case b$.RULE_ctorName:n=new RA(this.visitCtorName(e)),r=!0;break;case b$.RULE_excludexpr:n=this.visitExcludexpr(e),r=!1;break;default:console.error("Error at Fexpr")}for(let e=1;e<t.getChildCount();e++){const r=t.getChild(e);n=r.ruleIndex===b$.RULE_excludexpr?new wA(n,this.visitExcludexpr(r)):new SA(n,this.visitTypeArg(r))}return r?new QA(n):n}visitExcludexpr(t){const e=this.visitRenamexpr(t.renamexpr());return t.DoubleBackslashes()?new MA(e,this.visitBtype(t.btype())):t.Backslash()?new NA(e,this.visitLabel(t.label())):e}visitRenamexpr(t){const e=this.visitDotexpr(t.dotexpr());return t.label()?new FA(e,this.visitLabel(t.label()),this.visitLabelDecl(t.labelDecl())):e}visitDotexpr(t){let e=this.visitAexpr(t.aexpr());for(let n=0;n<t.label().length;n++)e=new TA(e,this.visitLabel(t.label(n)));return e}visitAexpr(t){let e=t.getChild(0);switch(e.ruleIndex){case b$.RULE_termName:return this.visitTermName(t.termName());case b$.RULE_document:return this.visitDocument(t.document());case b$.RULE_array:return this.visitArray(t.array());case b$.RULE_record:return this.visitRecord(t.record());case b$.RULE_recordUpdate:return this.visitRecordUpdate(t.recordUpdate());default:switch(e.symbol.type){case b$.IntLit:let n=e.getText();return n.includes(".")||n.includes("e")||n.includes("E")?new cA(parseFloat(n)):"Xx".includes(n[1])?new uA(parseInt(n.slice(2),16)):"Oo".includes(n[1])?new uA(parseInt(n.slice(2),8)):new uA(parseInt(n));case b$.StringLit:const r="'\"\\bfnrtv",i="'\"\\\b\f\n\r\t\v",s=e.getText().slice(1,-1);let o="";for(let t=0;t<s.length;t++)if("\\"==s[t]){t++;for(let e=0;e<r.length;e++)s[t]===r[e]&&(o+=i[e])}else o+=s[t];return new hA(o);case b$.Unit:return dA.value;case b$.True_:return new fA(!0);case b$.False_:return new fA(!1);case b$.Undefined_:return vA.value;case b$.Dollar:return new RA(this.visitCtorName(t.ctorName()));case b$.ParenOpen:return this.visitExpression(t.expression());default:console.error("error at Aexpr")}}}visitArray(t){return new WA(t.expression().map(this.visitExpression,this))}visitRecord(t){const e=[];for(let n=0;n<t.getChildCount();n++){let r=t.getChild(n);switch(r.ruleIndex){case b$.RULE_recordField:e.push(this.visitRecordField(r));break;case b$.RULE_methodPattern:e.push(this.visitMethodPattern(r));break;case b$.RULE_defaultPattern:e.push(this.visitDefaultPattern(r));break;default:continue}}return new CA(this.listify(e))}visitRecordField(t){return new KA(null!==t.Override(),this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),new Hg(this.visitExpression(t.expression())))}visitRecordUpdate(t){const e=[];for(let n=0;n<t.labelDecl().length;n++)e.push(new Tp(this.visitLabelDecl(t.labelDecl(n)),this.visitExpression(t.expression(n+1))));return new LA(this.visitExpression(t.expression(0)),this.listify(e))}visitMethodPattern(t){let e=[],n=[],r=!1;for(let i=0;i<t.getChildCount();i++)t.getChild(i).symbol&&t.getChild(i).symbol.type===b$.Dot&&(r=!0),t.getChild(i).ruleIndex===b$.RULE_termParam&&(r?n.push(this.visitTermParam(t.getChild(i))):e.push(this.visitTermParam(t.getChild(i))));return new KA(null!==t.Override(),this.visitLabelDecl(t.labelDecl(0)),this.listify(e),new qg(new tP(t.selfAnno()?new _g(this.visitSelfAnno(t.selfAnno())):Pg.value,this.visitLabelDecl(t.labelDecl(1)),this.listify(n),this.visitExpression(t.expression()))))}visitDefaultPattern(t){return new JA(new tP(t.selfAnno()?new _g(this.visitSelfAnno(t.selfAnno())):Pg.value,this.visitLabelDecl(t.labelDecl()),this.listify(t.termParam().map(this.visitTermParam,this)),this.visitExpression(t.expression())))}visitTypeArg(t){return this.visitBtype(t.btype())}visitTypeParam(t){return new Tp(this.visitTypeNameDecl(t.typeNameDecl()),t.type()?new _g(this.visitType(t.type())):Pg.value)}visitTermParam(t){switch(t.getChildCount()){case 1:switch(t.getChild(0).ruleIndex){case b$.RULE_termNameDecl:return new YA(this.visitTermNameDecl(t.termNameDecl()),Pg.value);case b$.RULE_Underscore:return new YA("_",Pg.value);case b$.RULE_wildcard:return this.visitWildcard(t.wildcard());default:console.error("Error at TermParam")}case 5:return new YA(null===t.termNameDecl()?"_":this.visitTermNameDecl(t.termNameDecl()),new _g(this.visitType(t.type())));default:console.error("Error at TermParam")}}visitWildcard(t){const e=t.labelDecl().map(this.visitLabelDecl,this),n=t.expression().map(this.visitExpression,this),r=[];for(let t=0;t<e.length;t++)r.push(new Tp(e[t],n[t]));return new ZA(this.listify(r))}visitSelfAnno(t){return new Tp(this.visitTermNameDecl(t.termNameDecl()),t.type()?new _g(this.visitType(t.type())):Pg.value)}visitSort(t){let e,n;return t.FatArrow()?(e=this.visitType(t.type(0)),n=new _g(this.visitType(t.type(1)))):(e=this.visitType(t.type(0)),n=Pg.value),new JS(e,n)}visitTypeNameDecl(t){return t.getText()}visitTypeName(t){return new zS(t.getText())}visitTermNameDecl(t){return t.getText()}visitCtorName(t){return t.getText()}visitTermName(t){switch(t.getChild(0).symbol.type){case b$.LowerId:return new RA(t.getText());case b$.UpperId:return new QA(new RA(t.getText()));default:console.error("Error at TermName")}}visitLabelDecl(t){return t.getText()}visitLabel(t){return t.getText()}visitDocument(t){const e={line:t.start.line,column:t.start.column},n=t.docElement();let r;if(0===n.length)r=new QA(new wA(new RA("Str"),new hA("")));else{r=this.visitDocElement(n[0]);for(let t of n.slice(1))r=new QA(new wA(new wA(new RA("Comp"),r),this.visitDocElement(t)))}return new GA(e,new jA(r))}visitDocElement(t){const e=t.getChild(0);switch(e.ruleIndex){case b$.RULE_command:return this.visitCommand(e);case b$.RULE_interpolation:return this.visitInterpolation(e);case b$.RULE_newline:return this.visitNewline(e);case b$.RULE_plaintext:return this.visitPlaintext(e);default:console.error("Error at DocElement")}}visitCommand(t){const e={line:t.start.line,column:t.start.column},n=t.getChild(0).getText().slice(1),r=t.docArg().map(this.visitDocArg,this);let i=new RA(n);for(const t of r)i=new wA(i,t);return n[0].toUpperCase()===n[0]?new GA(e,new QA(i)):new GA(e,i)}visitInterpolation(t){return new QA(new wA(new RA("Str"),new zA(this.visitExpression(t.expression()))))}visitNewline(t){return new QA(new RA("Endl"))}visitPlaintext(t){return new QA(new wA(new RA("Str"),new hA(t.getText())))}visitDocArg(t){switch(t.getChild(0).symbol.type){case b$.BracketOpenAsArg:return this.visitDocument(t);case b$.ParenOpenAsArg:return this.visitExpression(t.expression());case b$.BraceOpenAsArg:return new CA(this.listify(t.recordArgField().map(this.visitRecordArgField,this)));default:console.error("Error at DocArg")}}visitRecordArgField(t){const e=this.listify(t.termParam().map(this.visitTermParam,this));return new KA(!1,this.visitLabelDecl(t.labelDecl()),e,new Hg(this.visitExpression(t.expression())))}}class PF extends R${constructor(t){super(t)}popMode(){return 0===this._modeStack.length?(this._interp.debug&&console.log("Mode stack is empty. Mode remains unchanged."),this._mode):(this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode)}}class _F extends g$.error.ErrorListener{constructor(){super()}syntaxError(t,e,n,r,i,s){throw"SyntaxError at line "+n+":"+r+"\n"+i.charAt(0).toUpperCase()+i.slice(1)}}const EF=new class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}(ia.define({parser:gv.configure({props:[xa.add({RecordType:Aa(),Record:Aa()}),_a.add({RecordType:t=>({from:t.from+1,to:t.to-1}),Record:t=>({from:t.from+1,to:t.to-1}),Document:t=>({from:t.from+1,to:t.to-1})}),_l({"type interface extends let letrec trait implements inherits":Zl.definitionKeyword,"if then else new fix open in with toString fold unfold ref forall mu Int Double Bool String Top Bot Trait Ref":Zl.keyword,override:Zl.modifier,"true false undefined":Zl.atom,Unit:Zl.unit,TermName:Zl.variableName,TermNameDecl:Zl.definition(Zl.variableName),Label:Zl.propertyName,LabelDecl:Zl.definition(Zl.propertyName),LineComment:Zl.lineComment,BlockComment:Zl.blockComment,Number:Zl.number,String:Zl.string,Document:Zl.docString,TypeOp:Zl.typeOperator,ArithOp:Zl.arithmeticOperator,LogicOp:Zl.logicOperator,CompareOp:Zl.compareOperator,MergeOp:Zl.operator,TraitArrow:Zl.definition(Zl.punctuation),"( )":Zl.paren,"{ }":Zl.brace,"[ ]":Zl.squareBracket,"< >":Zl.angleBracket,".":Zl.derefOperator,";":Zl.separator})]}),languageData:{closeBrackets:{brackets:["{","(","[",'"',"`"]},commentTokens:{line:"--",block:{open:"{-",close:"-}"}}}})),LF=new K;function DF(t,e){const n={key:"Mod-Enter",run:()=>(e(),!0)};return Ct.create({doc:t,extensions:[es.lineWrapping,Ct.tabSize.of(2),us.of([sh,n]),LF.of([]),qd]})}function QF(t,e){return new es({state:t,parent:e})}function IF(t){return yI(function(t){const e=new g$.InputStream(t),n=new PF(e);n.removeErrorListeners(),n.addErrorListener(new _F);const r=new g$.CommonTokenStream(n),i=new b$(r);return i.buildParseTrees=!0,i.removeErrorListeners(),i.addErrorListener(new _F),i.program().accept(new AF)}(t))()}bundle=e})();